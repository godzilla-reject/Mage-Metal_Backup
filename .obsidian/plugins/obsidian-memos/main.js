"use strict";var b6=Object.defineProperty;var w6=(e,t,n)=>t in e?b6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(w6(e,typeof t!="symbol"?t+"":t,n),n);const I=require("obsidian"),i0=require("@codemirror/language"),zp=require("@codemirror/state"),yi=require("@codemirror/view");var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A2={exports:{}},Dp={},O2={exports:{}},kt={},bw;function D6(){if(bw)return kt;bw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function k(U,G,ie){this.props=U,this.context=G,this.refs=E,this.updater=ie||b}k.prototype.isReactComponent={},k.prototype.setState=function(U,G){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,G,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function M(){}M.prototype=k.prototype;function F(U,G,ie){this.props=U,this.context=G,this.refs=E,this.updater=ie||b}var B=F.prototype=new M;B.constructor=F,T(B,k.prototype),B.isPureReactComponent=!0;var N=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function $(U,G,ie){var ye,ue={},be=null,Re=null;if(G!=null)for(ye in G.ref!==void 0&&(Re=G.ref),G.key!==void 0&&(be=""+G.key),G)P.call(G,ye)&&!j.hasOwnProperty(ye)&&(ue[ye]=G[ye]);var He=arguments.length-2;if(He===1)ue.children=ie;else if(1<He){for(var Pe=Array(He),yt=0;yt<He;yt++)Pe[yt]=arguments[yt+2];ue.children=Pe}if(U&&U.defaultProps)for(ye in He=U.defaultProps,He)ue[ye]===void 0&&(ue[ye]=He[ye]);return{$$typeof:e,type:U,key:be,ref:Re,props:ue,_owner:R.current}}function W(U,G){return{$$typeof:e,type:U.type,key:G,ref:U.ref,props:U.props,_owner:U._owner}}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function X(U){var G={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ie){return G[ie]})}var oe=/\/+/g;function ee(U,G){return typeof U=="object"&&U!==null&&U.key!=null?X(""+U.key):G.toString(36)}function de(U,G,ie,ye,ue){var be=typeof U;(be==="undefined"||be==="boolean")&&(U=null);var Re=!1;if(U===null)Re=!0;else switch(be){case"string":case"number":Re=!0;break;case"object":switch(U.$$typeof){case e:case t:Re=!0}}if(Re)return Re=U,ue=ue(Re),U=ye===""?"."+ee(Re,0):ye,N(ue)?(ie="",U!=null&&(ie=U.replace(oe,"$&/")+"/"),de(ue,G,ie,"",function(yt){return yt})):ue!=null&&(z(ue)&&(ue=W(ue,ie+(!ue.key||Re&&Re.key===ue.key?"":(""+ue.key).replace(oe,"$&/")+"/")+U)),G.push(ue)),1;if(Re=0,ye=ye===""?".":ye+":",N(U))for(var He=0;He<U.length;He++){be=U[He];var Pe=ye+ee(be,He);Re+=de(be,G,ie,Pe,ue)}else if(Pe=w(U),typeof Pe=="function")for(U=Pe.call(U),He=0;!(be=U.next()).done;)be=be.value,Pe=ye+ee(be,He++),Re+=de(be,G,ie,Pe,ue);else if(be==="object")throw G=String(U),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Re}function fe(U,G,ie){if(U==null)return U;var ye=[],ue=0;return de(U,ye,"","",function(be){return G.call(ie,be,ue++)}),ye}function De(U){if(U._status===-1){var G=U._result;G=G(),G.then(function(ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=ie)},function(ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=ie)}),U._status===-1&&(U._status=0,U._result=G)}if(U._status===1)return U._result.default;throw U._result}var xe={current:null},pe={transition:null},we={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:pe,ReactCurrentOwner:R};return kt.Children={map:fe,forEach:function(U,G,ie){fe(U,function(){G.apply(this,arguments)},ie)},count:function(U){var G=0;return fe(U,function(){G++}),G},toArray:function(U){return fe(U,function(G){return G})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},kt.Component=k,kt.Fragment=n,kt.Profiler=a,kt.PureComponent=F,kt.StrictMode=r,kt.Suspense=d,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,kt.cloneElement=function(U,G,ie){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ye=T({},U.props),ue=U.key,be=U.ref,Re=U._owner;if(G!=null){if(G.ref!==void 0&&(be=G.ref,Re=R.current),G.key!==void 0&&(ue=""+G.key),U.type&&U.type.defaultProps)var He=U.type.defaultProps;for(Pe in G)P.call(G,Pe)&&!j.hasOwnProperty(Pe)&&(ye[Pe]=G[Pe]===void 0&&He!==void 0?He[Pe]:G[Pe])}var Pe=arguments.length-2;if(Pe===1)ye.children=ie;else if(1<Pe){He=Array(Pe);for(var yt=0;yt<Pe;yt++)He[yt]=arguments[yt+2];ye.children=He}return{$$typeof:e,type:U.type,key:ue,ref:be,props:ye,_owner:Re}},kt.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:i,_context:U},U.Consumer=U},kt.createElement=$,kt.createFactory=function(U){var G=$.bind(null,U);return G.type=U,G},kt.createRef=function(){return{current:null}},kt.forwardRef=function(U){return{$$typeof:c,render:U}},kt.isValidElement=z,kt.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:De}},kt.memo=function(U,G){return{$$typeof:h,type:U,compare:G===void 0?null:G}},kt.startTransition=function(U){var G=pe.transition;pe.transition={};try{U()}finally{pe.transition=G}},kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},kt.useCallback=function(U,G){return xe.current.useCallback(U,G)},kt.useContext=function(U){return xe.current.useContext(U)},kt.useDebugValue=function(){},kt.useDeferredValue=function(U){return xe.current.useDeferredValue(U)},kt.useEffect=function(U,G){return xe.current.useEffect(U,G)},kt.useId=function(){return xe.current.useId()},kt.useImperativeHandle=function(U,G,ie){return xe.current.useImperativeHandle(U,G,ie)},kt.useInsertionEffect=function(U,G){return xe.current.useInsertionEffect(U,G)},kt.useLayoutEffect=function(U,G){return xe.current.useLayoutEffect(U,G)},kt.useMemo=function(U,G){return xe.current.useMemo(U,G)},kt.useReducer=function(U,G,ie){return xe.current.useReducer(U,G,ie)},kt.useRef=function(U){return xe.current.useRef(U)},kt.useState=function(U){return xe.current.useState(U)},kt.useSyncExternalStore=function(U,G,ie){return xe.current.useSyncExternalStore(U,G,ie)},kt.useTransition=function(){return xe.current.useTransition()},kt.version="18.2.0",kt}O2.exports=D6();var A=O2.exports;const Q=$n(A);var ww;function S6(){if(ww)return Dp;ww=1;var e=A,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(c,d,h){var g,m={},w=null,b=null;h!==void 0&&(w=""+h),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(b=d.ref);for(g in d)r.call(d,g)&&!i.hasOwnProperty(g)&&(m[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)m[g]===void 0&&(m[g]=d[g]);return{$$typeof:t,type:c,key:w,ref:b,props:m,_owner:a.current}}return Dp.Fragment=n,Dp.jsx=s,Dp.jsxs=s,Dp}A2.exports=S6();var D=A2.exports;const If=e=>{const{children:t,store:n,context:r}=e,[a,i]=A.useState(n.getState());return A.useEffect(()=>{const s=n.subscribe(c=>{i(c)});return()=>{s()}},[]),D.jsx(r.Provider,{value:a,children:t})};function E6(e){const t=Object.keys(e),n={};for(const r of t)typeof e[r]=="function"&&(n[r]=e[r]);return(r={},a)=>{let i=!1;const s={};for(const c of t){const d=r[c],h=n[c](d,a);s[c]=h,i=i||h!==d}return i?s:r}}function T6(e,t){const n=[];let r=e;return{dispatch:c=>{const d=t(r,c),h=r;r=d;for(const g of n)g(r,h)},getState:()=>r,subscribe:c=>{let d=!0;return n.push(c),()=>{if(!d)return;const h=n.indexOf(c);n.splice(h,1),d=!1}}}}function C6(e,t){switch(t.type){case"SET_MARK_MEMO_ID":return t.payload.markMemoId===e.markMemoId?e:{...e,markMemoId:t.payload.markMemoId};case"SET_EDIT_MEMO_ID":return t.payload.editMemoId===e.editMemoId?e:{...e,editMemoId:t.payload.editMemoId};case"SET_GLOBAL_EDITOR_SHOWN":return t.payload.globalEditorShown===e.globalEditorShown?e:{...e,globalEditorShown:t.payload.globalEditorShown};case"SET_COMMENT_MEMO_ID":return t.payload.commentMemoId===e.commentMemoId?e:{...e,commentMemoId:t.payload.commentMemoId};case"SET_MOBILE_VIEW":return t.payload.isMobileView===e.isMobileView?e:{...e,isMobileView:t.payload.isMobileView};case"SET_CHANGED_BY_MEMOS":return t.payload.changedByMemos===e.changedByMemos?e:{...e,changedByMemos:t.payload.changedByMemos};case"SET_REFRESH":return t.payload.refresh===e.refresh?e:{...e,refresh:t.payload.refresh};case"SET_INSTANCE":return e.instanceList.has(t.payload.id)?e:{...e,instanceList:e.instanceList.set(t.payload.id,t.payload.instance)};case"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW":return t.payload.showSiderbarInMobileView===e.showSiderbarInMobileView?e:{...e,showSiderbarInMobileView:t.payload.showSiderbarInMobileView};case"SET_MEMO_LIST_VIEW":return t.payload.memoListView===e.memoListView?e:{...e,memoListView:t.payload.memoListView};case"SET_MEMO_PLUGIN_MANIFEST":return{...e,manifest:t.payload.manifest};case"SET_LOADED":return{...e,loaded:t.payload.loaded};case"SET_APP_SETTING":return{...e,...t.payload};default:return e}}const x6={markMemoId:"",editMemoId:"",commentMemoId:"",shouldSplitMemoWord:!0,shouldHideImageUrl:!0,shouldUseMarkdownParser:!0,useTinyUndoHistoryCache:!1,isMobileView:!1,showSiderbarInMobileView:!1,changedByMemos:!1,memoListView:"list",manifest:null,refresh:!1,loaded:!1,globalEditorShown:!1,instanceList:new Map};function M6(e,t){switch(t.type){case"RELOAD":return R2;case"SET_LOCATION":return t.payload;case"SET_PATHNAME":return t.payload.pathname===e.pathname?e:{...e,pathname:t.payload.pathname};case"SET_HASH":return t.payload.hash===e.hash?e:{...e,hash:t.payload.hash};case"SET_QUERY":return{...e,query:{...t.payload}};case"SET_TAG_QUERY":return t.payload.tag===e.query.tag?e:{...e,query:{...e.query,tag:t.payload.tag}};case"SET_DURATION_QUERY":return t.payload.duration===e.query.duration?e:{...e,query:{...e.query,duration:{...e.query.duration,...t.payload.duration}}};case"SET_TYPE":return t.payload.type===e.query.type?e:{...e,query:{...e.query,type:t.payload.type}};case"SET_TEXT":return t.payload.text===e.query.text?e:{...e,query:{...e.query,text:t.payload.text}};case"SET_QUERY_FILTER":return t.payload===e.query.filter?e:{...e,query:{...e.query,filter:t.payload}};default:return e}}const R2={pathname:"/",hash:"",query:{tag:"",duration:null,type:"",text:"",filter:""}};var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});var yn=I;const G0="YYYY-MM-DD",K0="gggg-[W]ww",L2="YYYY-MM",_2="YYYY-[Q]Q",P2="YYYY";function ih(e){var n,r;const t=window.app.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n[e])==null?void 0:r.enabled)}function sh(){var e,t,n,r;try{const{internalPlugins:a,plugins:i}=window.app;if(ih("daily")){const{format:h,folder:g,template:m}=((t=(e=i.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:t.daily)||{};return{format:h||G0,folder:(g==null?void 0:g.trim())||"",template:(m==null?void 0:m.trim())||""}}const{folder:s,format:c,template:d}=((r=(n=a.getPluginById("daily-notes"))==null?void 0:n.instance)==null?void 0:r.options)||{};return{format:c||G0,folder:(s==null?void 0:s.trim())||"",template:(d==null?void 0:d.trim())||""}}catch{}}function lh(){var e,t,n,r,a,i,s;try{const c=window.app.plugins,d=(e=c.getPlugin("calendar"))==null?void 0:e.options,h=(n=(t=c.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.weekly;if(ih("weekly"))return{format:h.format||K0,folder:((r=h.folder)==null?void 0:r.trim())||"",template:((a=h.template)==null?void 0:a.trim())||""};const g=d||{};return{format:g.weeklyNoteFormat||K0,folder:((i=g.weeklyNoteFolder)==null?void 0:i.trim())||"",template:((s=g.weeklyNoteTemplate)==null?void 0:s.trim())||""}}catch{}}function uh(){var t,n,r,a;const e=window.app.plugins;try{const i=ih("monthly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.monthly)||{};return{format:i.format||L2,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((a=i.template)==null?void 0:a.trim())||""}}catch{}}function ch(){var t,n,r,a;const e=window.app.plugins;try{const i=ih("quarterly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.quarterly)||{};return{format:i.format||_2,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((a=i.template)==null?void 0:a.trim())||""}}catch{}}function fh(){var t,n,r,a;const e=window.app.plugins;try{const i=ih("yearly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.yearly)||{};return{format:i.format||P2,folder:((r=i.folder)==null?void 0:r.trim())||"",template:((a=i.template)==null?void 0:a.trim())||""}}catch{}}function j2(...e){let t=[];for(let r=0,a=e.length;r<a;r++)t=t.concat(e[r].split("/"));const n=[];for(let r=0,a=t.length;r<a;r++){const i=t[r];!i||i==="."||n.push(i)}return t[0]===""&&n.unshift(""),n.join("/")}function k6(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function I6(e){const t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){const n=j2(...t);window.app.vault.getAbstractFileByPath(n)||await window.app.vault.createFolder(n)}}async function dh(e,t){t.endsWith(".md")||(t+=".md");const n=yn.normalizePath(j2(e,t));return await I6(n),n}async function Nf(e){const{metadataCache:t,vault:n}=window.app,r=yn.normalizePath(e);if(r==="/")return Promise.resolve(["",null]);try{const a=t.getFirstLinkpathDest(r,""),i=await n.cachedRead(a),s=window.app.foldManager.load(a);return[i,s]}catch{return new yn.Notice("Failed to read the daily note template"),["",null]}}function Ro(e,t="day"){const n=e.clone().startOf(t).format();return`${t}-${n}`}function B2(e){return e.replace(/\[[^\]]*\]/g,"")}function N6(e,t){if(t==="week"){const n=B2(e);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function Ff(e,t){return Y2(e.basename,t)}function F6(e,t){return Y2(k6(e),t)}function Y2(e,t){const r={day:sh,week:lh,month:uh,quarter:ch,year:fh}[t]().format.split("/").pop(),a=window.moment(e,r,!0);if(!a.isValid())return null;if(N6(r,t)&&t==="week"){const i=B2(r);if(/w{1,2}/i.test(i))return window.moment(e,r.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return a}class A6 extends Error{}async function H2(e){const t=window.app,{vault:n}=t,r=window.moment,{template:a,format:i,folder:s}=sh(),[c,d]=await Nf(a),h=e.format(i),g=await dh(s,h);try{const m=await n.create(g,c.replace(/{{\s*date\s*}}/gi,h).replace(/{{\s*time\s*}}/gi,r().format("HH:mm")).replace(/{{\s*title\s*}}/gi,h).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(w,b,T,E,k,M)=>{const F=r(),B=e.clone().set({hour:F.get("hour"),minute:F.get("minute"),second:F.get("second")});return T&&B.add(parseInt(E,10),k),M?B.format(M.substring(1).trim()):B.format(i)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(i)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(i)));return t.foldManager.save(m,d),m}catch{new yn.Notice("Unable to create new file.")}}function O6(e,t){return t[Ro(e,"day")]??null}function R6(){const{vault:e}=window.app,{folder:t}=sh(),n=e.getAbstractFileByPath(yn.normalizePath(t));if(!n)throw new A6("Failed to find daily notes folder");const r={};return yn.Vault.recurseChildren(n,a=>{if(a instanceof yn.TFile){const i=Ff(a,"day");if(i){const s=Ro(i,"day");r[s]=a}}}),r}class L6 extends Error{}function _6(){const{moment:e}=window;let t=e.localeData()._week.dow;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)n.push(n.shift()),t--;return n}function P6(e){return _6().indexOf(e.toLowerCase())}async function U2(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=lh(),[i,s]=await Nf(n),c=e.format(r),d=await dh(a,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(g,m,w,b,T,E)=>{const k=window.moment(),M=e.clone().set({hour:k.get("hour"),minute:k.get("minute"),second:k.get("second")});return w&&M.add(parseInt(b,10),T),E?M.format(E.substring(1).trim()):M.format(r)}).replace(/{{\s*title\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(g,m,w)=>{const b=P6(m);return e.weekday(b).format(w.trim())}));return window.app.foldManager.save(h,s),h}catch{new yn.Notice("Unable to create new file.")}}function j6(e,t){return t[Ro(e,"week")]??null}function B6(){const e={};if(!z2())return e;const{vault:t}=window.app,{folder:n}=lh(),r=t.getAbstractFileByPath(yn.normalizePath(n));if(!r)throw new L6("Failed to find weekly notes folder");return yn.Vault.recurseChildren(r,a=>{if(a instanceof yn.TFile){const i=Ff(a,"week");if(i){const s=Ro(i,"week");e[s]=a}}}),e}class Y6 extends Error{}async function V2(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=uh(),[i,s]=await Nf(n),c=e.format(r),d=await dh(a,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(g,m,w,b,T,E)=>{const k=window.moment(),M=e.clone().set({hour:k.get("hour"),minute:k.get("minute"),second:k.get("second")});return w&&M.add(parseInt(b,10),T),E?M.format(E.substring(1).trim()):M.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(h,s),h}catch{new yn.Notice("Unable to create new file.")}}function H6(e,t){return t[Ro(e,"month")]??null}function U6(){const e={};if(!$2())return e;const{vault:t}=window.app,{folder:n}=uh(),r=t.getAbstractFileByPath(yn.normalizePath(n));if(!r)throw new Y6("Failed to find monthly notes folder");return yn.Vault.recurseChildren(r,a=>{if(a instanceof yn.TFile){const i=Ff(a,"month");if(i){const s=Ro(i,"month");e[s]=a}}}),e}class V6 extends Error{}async function z6(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=ch(),[i,s]=await Nf(n),c=e.format(r),d=await dh(a,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(g,m,w,b,T,E)=>{const k=window.moment(),M=e.clone().set({hour:k.get("hour"),minute:k.get("minute"),second:k.get("second")});return w&&M.add(parseInt(b,10),T),E?M.format(E.substring(1).trim()):M.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(h,s),h}catch{new yn.Notice("Unable to create new file.")}}function $6(e,t){return t[Ro(e,"quarter")]??null}function W6(){const e={};if(!W2())return e;const{vault:t}=window.app,{folder:n}=ch(),r=t.getAbstractFileByPath(yn.normalizePath(n));if(!r)throw new V6("Failed to find quarterly notes folder");return yn.Vault.recurseChildren(r,a=>{if(a instanceof yn.TFile){const i=Ff(a,"quarter");if(i){const s=Ro(i,"quarter");e[s]=a}}}),e}class q6 extends Error{}async function G6(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=fh(),[i,s]=await Nf(n),c=e.format(r),d=await dh(a,c);try{const h=await t.create(d,i.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(g,m,w,b,T,E)=>{const k=window.moment(),M=e.clone().set({hour:k.get("hour"),minute:k.get("minute"),second:k.get("second")});return w&&M.add(parseInt(b,10),T),E?M.format(E.substring(1).trim()):M.format(r)}).replace(/{{\s*date\s*}}/gi,c).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,c));return window.app.foldManager.save(h,s),h}catch{new yn.Notice("Unable to create new file.")}}function K6(e,t){return t[Ro(e,"year")]??null}function Q6(){const e={};if(!q2())return e;const{vault:t}=window.app,{folder:n}=fh(),r=t.getAbstractFileByPath(yn.normalizePath(n));if(!r)throw new q6("Failed to find yearly notes folder");return yn.Vault.recurseChildren(r,a=>{if(a instanceof yn.TFile){const i=Ff(a,"year");if(i){const s=Ro(i,"year");e[s]=a}}}),e}function Z6(){var r,a;const{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;const n=e.plugins.getPlugin("periodic-notes");return n&&((a=(r=n.settings)==null?void 0:r.daily)==null?void 0:a.enabled)}function z2(){var n,r;const{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;const t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.weekly)==null?void 0:r.enabled)}function $2(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.monthly)==null?void 0:r.enabled)}function W2(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.quarterly)==null?void 0:r.enabled)}function q2(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.yearly)==null?void 0:r.enabled)}function J6(e){const t={day:sh,week:lh,month:uh,quarter:ch,year:fh}[e];return t()}function X6(e,t){return{day:H2,month:V2,week:U2}[e](t)}Nt.DEFAULT_DAILY_NOTE_FORMAT=G0;Nt.DEFAULT_MONTHLY_NOTE_FORMAT=L2;Nt.DEFAULT_QUARTERLY_NOTE_FORMAT=_2;Nt.DEFAULT_WEEKLY_NOTE_FORMAT=K0;Nt.DEFAULT_YEARLY_NOTE_FORMAT=P2;var G2=Nt.appHasDailyNotesPluginLoaded=Z6;Nt.appHasMonthlyNotesPluginLoaded=$2;Nt.appHasQuarterlyNotesPluginLoaded=W2;Nt.appHasWeeklyNotesPluginLoaded=z2;Nt.appHasYearlyNotesPluginLoaded=q2;var K2=Nt.createDailyNote=H2;Nt.createMonthlyNote=V2;Nt.createPeriodicNote=X6;Nt.createQuarterlyNote=z6;Nt.createWeeklyNote=U2;Nt.createYearlyNote=G6;var Nu=Nt.getAllDailyNotes=R6;Nt.getAllMonthlyNotes=U6;Nt.getAllQuarterlyNotes=W6;Nt.getAllWeeklyNotes=B6;Nt.getAllYearlyNotes=Q6;var bv=Nt.getDailyNote=O6,Wg=Nt.getDailyNoteSettings=sh,_p=Nt.getDateFromFile=Ff;Nt.getDateFromPath=F6;Nt.getDateUID=Ro;Nt.getMonthlyNote=H6;Nt.getMonthlyNoteSettings=uh;Nt.getPeriodicNoteSettings=J6;Nt.getQuarterlyNote=$6;Nt.getQuarterlyNoteSettings=ch;Nt.getTemplateInfo=Nf;Nt.getWeeklyNote=j6;Nt.getWeeklyNoteSettings=lh;Nt.getYearlyNote=K6;Nt.getYearlyNoteSettings=fh;const e8={},t8={},n8={},r8={},Q2={welcome:"Welcome to Thino",ribbonIconTitle:"Thino",to:"to",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekDaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],year:null,month:null,"Basic Options":"Basic options","User name in Memos":"User name in Thino","Set your user name here. 'Memos 😏' By default":"Set your user name here. 'Thino 😏' By default","Insert after heading":"Insert after heading","You should set the same heading below if you want to insert and process memos below the same heading.":"You should set the same heading below if you want to insert and process thino below the same heading.","Allows admonitions to be created using ":"Allows admonitions to be created using ","Process Memos below":"Process thino below","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.","Save Memo button label":"Save thino button label","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"The text shown on the save Thino button in the UI. 'NOTEIT' by default.","Focus on editor when open memos":"Focus on editor when open thino","Focus on editor when open memos. Focus by default.":"Focus on editor when open thino. Focus by default.","Open daily memos with open memos":"Open daily thino with open thino","Open daily memos with open memos. Open by default.":"Open daily thino with open thino. Open by default.","Open Memos when obsidian opens":"Open Thino when obsidian opens","When enable this, Memos will open when Obsidian opens. False by default.":"When enable this, Thino will open when Obsidian opens. False by default.","Hide done tasks in Memo list":"Hide done tasks in Thino list","Hide all done tasks in Memo list. Show done tasks by default.":"Hide all done tasks in Thino list. Show done tasks by default.","Advanced Options":"Advanced Options","UI language for date":"UI language for date","Translates the date UI language. Only 'en' and 'zh' are available.":"Translates the date UI language. Only 'en' and 'zh' are available.","Default prefix":"Default prefix","Set the default prefix when create memo, 'List' by default.":"Set the default prefix when create thino, 'List' by default.","Default insert date format":"Default insert date format","Set the default date format when insert date by @, 'Tasks' by default.":"Set the default date format when insert date by @, 'Tasks' by default.","Default editor position on mobile":"Default editor position on mobile","Set the default editor position on Mobile, 'Top' by default.":"Set the default editor position on Mobile, 'Top' by default.","Use button to show editor on mobile":"Use button to show editor on mobile","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Set a float button to call editor on mobile. Only when editor located at the bottom works.","Show Time When Copy Results":"Show Time When Copy Results","Show time when you copy results, like 12:00. Copy time by default.":"Show time when you copy results, like 12:00. Copy time by default.","Show Date When Copy Results":"Show Date When Copy Results","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Show date when you copy results, like [[2022-01-01]]. Copy date by default.","Add Blank Line Between Different Date":"Add Blank Line Between Different Date","Add blank line when copy result with date. No blank line by default.":"Add blank line when copy result with date. No blank line by default.","Share Options":"Share Options","Share Memos Image Footer Start":"Share Thino Image Footer Start","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default","Share Memos Image Footer End":"Share Thino Image Footer End","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default","Save Shared Image To Folder For Mobile":"Save Shared Image To Folder For Mobile","Save image to folder for mobile. False by Default":"Save image to folder for mobile. False by Default","Say Thank You":"Say Thank You",Donate:"Donate","If you like this plugin, consider donating to support continued development:":"If you like this plugin, consider donating to support continued development:","File Name of Recycle Bin":"File Name of Recycle Bin","Set the filename for recycle bin. 'delete' By default":"Set the filename for recycle bin. 'delete' By default","File Name of Query File":"File Name of Query File","Set the filename for query file. 'query' By default":"Set the filename for query file. 'query' By default","Use Tags In Vault":"Use Tags In Vault","Use tags in vault rather than only in Memos. False by default.":"Use tags in vault rather than only in Thino. False by default.","Ready to convert image into background":"Ready to convert image into background",List:"List",Task:"Task",Top:"Top",Bottom:"Bottom",TAG:"TAG",DAY:"DAY",QUERY:"QUERY",EDIT:"EDIT",PIN:"PIN",UNPIN:"UNPIN",DELETE:"DELETE","CONFIRM！":"CONFIRM！","CREATE FILTER":"CREATE FILTER","Comment it...":"Comment it...",Settings:"Settings","Recycle bin":"Recycle bin","About Me":"About Me","Fetching data...":"Fetching data...","Here is No Memos.":"Here is No Thino.","Frequently Used Tags":"Frequently Used Tags","What do you think now...":"What do you think now...",READ:"READ",MARK:"MARK",SHARE:"SHARE",SOURCE:"SOURCE",RESTORE:"RESTORE",ARCHIVE:"Archive","DELETE AT":"DELETE AT","Noooop!":"Noooop!","All Data is Loaded 🎉":"All Data is Loaded 🎉","Quick filter":"Quick filter",TYPE:"TYPE",LINKED:"LINKED","NO TAGS":"NO TAGS","HAS LINKS":"HAS LINKS","HAS IMAGES":"HAS IMAGES",INCLUDE:"INCLUDE",EXCLUDE:"EXCLUDE",TEXT:"TEXT",IS:"IS",AND:"AND",OR:"OR",LIST:"LIST",ISNOT:"ISNOT",SELECT:"SELECT","ADD FILTER TERMS":"ADD FILTER TERMS",FILTER:"FILTER",Filter:"Filter",TITLE:"TITLE","CREATE QUERY":"CREATE QUERY","EDIT QUERY":"EDIT QUERY",MATCH:"MATCH",TIMES:"TIMES","Share Memo Image":"Share Thino Image","↗Click the button to save":"↗Click the button to save","Image is generating...":"Image is generating...","Image is loading...":"Image is loading...","Loading...":"Loading...","😟 Cannot load image, image link maybe broken":"😟 Cannot load image, image link maybe broken","Daily Memos":"Daily Thino","CANCEL EDIT":"CANCEL EDIT","LINK TO THE":"LINK TO THE","Mobile Options":"Mobile Options","Experimental Options":"Experimental Options","Don't support web image yet, please input image path in vault":"Don't support web image yet, please input image path in vault","Background Image in Dark Theme":"Background Image in Dark Theme","Background Image in Light Theme":"Background Image in Light Theme",'Set background image in dark theme. Set something like "Daily/one.png"':'Set background image in dark theme. Set something like "Daily/one.png"','Set background image in light theme. Set something like "Daily/one.png"':'Set background image in light theme. Set something like "Daily/one.png"','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Set default thino composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default',"Default Memo Composition":"[Deprecated] Default Thino Composition","Show Tasks Label":"Show Tasks Label","Show tasks label near the time text. False by default":"Show tasks label near the time text. False by default","Please Open Memos First":"Please Open Thino First",DATE:"DATE",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"BEFORE",AFTER:"AFTER","Allow Comments On Memos":"Allow Comments On Thino","You can comment on memos. False by default":"You can comment on thino. False by default",Import:"Import","TITLE CANNOT BE NULL!":"TITLE CANNOT BE NULL!","FILTER CANNOT BE NULL!":"FILTER CANNOT BE NULL!","Comments In Original DailyNotes/Notes":"Comments In Original DailyNotes/Notes","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"You should install Dataview Plugin ver 0.5.9 or later to use this feature.","Open Memos Successfully":"Open Thino Successfully","Fetch Memos Error":"😭 Fetch Error","Copied to clipboard Successfully":"Copied to clipboard Successfully","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Check if you opened Daily Notes Plugin Or Periodic Notes Plugin","Please finish the last filter setting first":"Please finish the last filter setting first","Close Memos Successfully":"Close Thino Successfully","Insert as Memo":"Insert as Thino","Insert file as memo content":"Insert file as thino content","Image load failed":"Image load failed","Content cannot be empty":"Content cannot be empty","Unable to create new file.":"Unable to create new file.","Failed to fetch deleted memos: ":"Failed to fetch deleted thino: ","RESTORE SUCCEED":"RESTORE SUCCEED","Save Memo button icon":"Save Thino button icon","The icon shown on the save Memo button in the UI.":"The icon shown on the save Thino button in the UI.","Fetch Memos From Particular Notes":"Fetch Thino From Particular Notes",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'You can set any Dataview Query for thino to fetch it. All thino in those notes will show on list. "#memo" by default',"Allow Memos to Fetch Memo from Notes":"Allow Thino to Fetch Thino from Notes","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"Use Thino to manage all thino in your notes, not only in daily notes. False by default","Always Show Memo Comments":"Always Show Thino Comments","Always show memo comments on memos. False by default":"Always show thino comments on thino. False by default","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.","Please check your daily note plugin OR periodic notes plugin settings":"Please check your daily note plugin OR periodic notes plugin settings","Use which plugin's default configuration":"Use which plugin's default configuration","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino use the plugin's default configuration to fetch thino from daily, 'Daily' by default.",Daily:"Daily","Always Show Leaf Sidebar on PC":"Always Show Leaf Sidebar on PC","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"Show left sidebar on PC even when the leaf width is less than 875px. False by default.","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set format for daily notes in both periodic-notes and daily-notes plugins.","fetch more":"fetch more","Search all settings":"Search all settings",General:"General",Theme:"Theme",Share:"Share",Advanced:"Advanced",Thino:"Thino","Random Review":"Random Review","ARCHIVED AT":"ARCHIVED AT","Failed to get memos from daily notes":"Failed to get thino from daily notes","Failed to delete memo":"Failed to delete thino","CTRL + ENTER to save":"CTRL + ENTER to save","Started from":"Started from","Custom Background Image":"Custom Background Image","Set custom background image.":"Set custom background image.","Custom Memo Footer":"Custom Thino Footer","Set custom memo footer.":"Set custom thino footer.","Heatmap Color Scheme":"Heatmap Color Scheme","Set different color scheme for heatmap.":"Set different color scheme for heatmap.","Enable Local Http Server":"Enable Local Http Server","Memos Http Server Port":"Thino Http Server Port","Set memos http server port to listen. '43999' by default":"Set thino http server port to listen. '43999' by default","Default Editor Mode":"Default Editor Mode","Live-Preview Mode OR Source Mode.":"Live-Preview Mode/Source Mode.","Save Location for Memos":"Save Location for Thino",DAILY:"DAILY",MULTI:"MULTI",CANVAS:"CANVAS",FILE:"FILE",TODO:"TODO",DONE:"DONE",JOURNAL:"JOURNAL",OTHER:"OTHER","Failed to create daily note, check if it exists.":"Failed to create daily note, check if it exists.","Failed to create daily note. Please check if you created a folder for daily notes.":"Failed to create daily note. Please check if you created a folder for daily notes.","After you verify your account, please refresh this page.":"After you verify your account, please refresh this page.",Verify:"Verify","Oops! You forget to verify insider account":"Oops! You forget to verify insider account","If you have any questions, please contact us.":"If you have any questions, please contact us.","Delete Thino Directly":"Delete Thino Directly","When delete thino directly, it will not be moved to trash. False by default.":"When delete thino directly, it will not be moved to trash. False by default.","Enable opening thino globally":"Enable opening thino globally","Enable opening thino globally. False by default.":"Enable opening thino globally. False by default.","Key for opening thino globally":"Key for opening thino globally","Set key for opening thino globally. CTRL + SHIFT + T by default.":"Set key for opening thino globally. CTRL + SHIFT + T by default.","Key for showing thino globally":"Key for showing thino globally","Set key for showing thino globally. CTRL + SHIFT + E by default.":"Set key for showing thino globally. CTRL + SHIFT + E by default.","Get activation code":"Get activation code","Input activation code here":"Input activation code here","Copy Thino id":"Copy Thino id","Activate Pro Version":"Activate Pro Version","Please copy Thino id first":"Please copy Thino id first",'You can set folder name with file name like "folder/file"':'You can set folder name with file name like "folder/file"','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'You can set folder name like "folder1/folder2/folder3" to create sub-folder',"Default save location":"Default save location",'Set the default save location for thino. "DAILY" by default':'Set the default save location for thino. "DAILY" by default',"Sync Thino via PKMer":"Sync Thino via PKMer",Unlink:"Unlink",Link:"Link","Connect to PKMer Sync, you can check it in ":"Connect to PKMer Sync, you can check it in ","PKMer Sync":"PKMer Sync","Remove successfully":"Remove successfully",Deactivate:"Deactivate",Remove:"Remove","Confirm?":"Confirm?","Sync Status":"Sync Status","Start or stop sync":"Start or stop sync","Stop sync successfully":"Stop sync successfully","Start sync successfully":"Start sync successfully",Stop:"Stop",Start:"Start","Show thino near mouse":"Show thino near mouse","Query not found":"Query not found","Send to clipboard successfully":"Send to clipboard successfully","Thino - Failed to start HTTP server, please check the port is available.":"Thino - Failed to start HTTP server, please check the port is available.","Thino - Started HTTP server on port":"Thino - Started HTTP server on port","Thino - Terminated HTTP server":"Thino - Terminated HTTP server","File not exist":"File not exist","Thino not found":"Thino not found","File not found for the given thino path, is creating a new file":"File not found for the given thino path, is creating a new file","Saved sync token successfully":"Saved sync token successfully","Failed to find daily notes folder":"Failed to find daily notes folder","Please install obsidian-hover-editor plugin first":"Please install obsidian-hover-editor plugin first","Copied app id successfully":"Copied app id successfully","Please input token first":"Please input token first","Please enable sync first":"Please enable sync first","Init Failed":"Init Failed","Verify successfully":"Verify successfully","Failed to verify":"Failed to verify","Folder not found for the given thino path, is creating a new folder":"Folder not found for the given thino path, is creating a new folder","File not found for the given thino path":"File not found for the given thino path","Failed to read current daily note, check if it exists.":"Failed to read current daily note, check if it exists.","Failed to save":"Failed to save","Failed to login, please login again":"Failed to login, please login again","COPY FAILED":"COPY FAILED","COPY SUCCEED":"COPY SUCCEED",COPY:"COPY","This is a pro feature, please upgrade to pro version to use it.":"This is a pro feature, please upgrade to pro version to use it.","You can get pro version from: ":"You can get pro version from: ",Save:"Save",Cancel:"Cancel","Thino Daily Target":"Thino Daily Target",Input:"Input","#Tag":"#Tag","to create tag":"to create tag","You have verified your account. Congrats!":"You have verified your account. Congrats!","Pro Features":"Pro Features","Target Thino Count":"Target Thino Count",on:"on","Switch waterfall view":"Switch waterfall view","Switch view":"Switch view","Switch list view":"Switch list view","Set daily target":"Set daily target","Thino Save To: ":"Thino Save To: ","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",words:"words","Return To Home Page":"Return To Home Page","Open thino in center window":"Open thino in center window","Open thino in float window":"Open thino in float window","Open thino in right sidebar":"Open thino in right sidebar","Open thino in left sidebar":"Open thino in left sidebar","Show thino editor":"Show thino editor","Toggle minimal mode":"Toggle minimal mode","Focus on thino editor":"Focus on thino editor","ReSync web thinos to local":"ReSync web thinos to local","Sync local thinos to web":"Sync local thinos to web","Show daily thino view":"Show daily thino view","Focus on search bar":"Focus on search bar","Show-thino in popover(Hover editor)":"Show-thino in popover(Hover editor)","Center window":"Center window","Float window":"Float window","Right sidebar":"Right sidebar","Left sidebar":"Left sidebar","Save thino type when sync local":"Save thino type when sync local","Set the default save thino type when sync local, FILE by default.":"Set the default save thino type when sync local, FILE by default.","Sync service":"Sync service","Pro verification status":"Pro verification status","Live-preview":"Live-preview",Source:"Source","Global copy":"Global copy","Set the folder name":"Set the folder name","Set the filename":"Set the filename","Set the filename for current location file":"Set the filename for current location file","Switch calendar type":"Switch calendar type",alphabetical:"alphabetical",alphabeticalReverse:"alphabeticalReverse",byCount:"byCount",byCountReverse:"byCountReverse","Type here":"Type here",Today:"Today",Yesterday:"Yesterday","Last 7 days":"Last 7 days","Last 30 days":"Last 30 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","Last 365 days":"Last 365 days",Found:"Found","Copy filtered thinos to clipboard":"Copy filtered thinos to clipboard","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.",Preview:"Preview","Set and save":"Set and save","Show day mark on list mode":"Show day mark on list mode","Show day mark on the top of daily range thino. False by default.":"Show day mark on the top of daily range thino. False by default.","Click to expand or fold, Cmd+Click to show all thinos of the day":"Click to expand or fold, Cmd+Click to show all thinos of the day","You can buy a license from":"You can buy a license from","No thinos in range":"No thinos in range",Month:"Month",Week:"Week",Day:"Day",Agenda:"Agenda",Tomorrow:"Tomorrow",Previous:"Previous",Next:"Next","Search all columns...":"Search all columns...","Basic Info":"Basic Info","Additional Info":"Additional Info","Created At":"Created At",Content:"Content","Thino Type":"Thino Type","Source Type":"Source Type","Row status":"Row status",Path:"Path","Pinned Status":"Pinned Status",Table:"Table",Waterfall:"Waterfall",Calendar:"Calendar","Go to page":"Go to page",Page:"Page",Show:"Show",rows:"rows","Temp Filter":"Temp Filter","Allow navigation from view to Thino or Thino to view":"Allow navigation from view to Thino or Thino to view"},a8={},o8={},i8={welcome:"Bienvenue dans Mémo !",ribbonIconTitle:"Mémos",months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Décembre"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekDaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],to:"à",year:null,month:null,"Basic Options":"Options basique","User name in Memos":"Username dans Mémos","Set your user name here. 'Memos 😏' By default":"Définissez votre username ici. Défaut : 'Memo 😏'","Insert after heading":"Insérer après le titre","You should set the same heading below if you want to insert and process memos below the same heading.":"Vous devez définir le même titre en-dessous si vous voulez insérer et traiter des mémos sous le même titre.","Allows admonitions to be created using ":"Permet de créer des admonitions en utilisant","Process Memos below":"Insérer Mémo sous","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"Seulement les entrée sous cette section/phrase dans vos notes seront considérés. S'il n'existe pas, aucune notes ne sera traité pour ce fichier.","Save Memo button label":"Titre du bouton de sauvegarde","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"Le texte affiché sur le bouton de sauvegarde dans l'UI. Défaut : 'NOTEIT'","Focus on editor when open memos":"Focus sur l'éditeur lors de l'ouverture du mémo.","Focus on editor when open memos. Focus by default.":"Focus sur l'éditeur lors de l'ouverture du mémo. Focus par défaut.","Open daily memos with open memos":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open daily memos with open memos. Open by default.":"Ouvrir les mémos quotidiens quand mémo est ouvert.","Open Memos when obsidian opens":"Ouvrir Mémo quand Obsidian est ouvert.","When enable this, Memos will open when Obsidian opens. False by default.":"Quand activé, Memo sera ouvert quand Obsidian à l'ouverture d'Obsidian. Désactivé par défaut.","Hide done tasks in Memo list":"Masquer les tâches accomplies dans la liste des mémos.","Hide all done tasks in Memo list. Show done tasks by default.":"Masquer les tâches accomplies dans les mémos. Affiche les tâches accomplies par défaut.","Advanced Options":"Options avancées","UI language for date":"Langue de l'UI pour la date","Translates the date UI language. Only 'en' and 'zh' are available.":"Traduit la langue des dates dans l'UI. Seuls 'en', 'fr' et 'zh' sont disponibles. ","Default prefix":"Préfix par défaut.","Set the default prefix when create memo, 'List' by default.":"Définit le préfix par défaut lors de la création d'un mémo. Défault : 'Liste'","Default insert date format":"Format de la date insérée par défaut.","Default editor position on mobile":"Position par défaut de l'éditeur sur mobile.","Set the default date format when insert date by @, 'Tasks' by default.":"Définit le format de la date par défaut lors de l'insertion de la date par @. Défaut : 'Tâches'.","Set the default editor position on Mobile, 'Top' by default.":"Position par défaut de l'éditeur sur le mobile. Défaut : 'Haut'.","Use button to show editor on mobile":"Utilisation du bouton pour afficher l'éditeur sur le mobile.","Show Time When Copy Results":"Aficher l'heure quand les résultats sont copiés","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Place un bouton flottant pour appeler l'éditeur sur mobile. Fonctionne uniquement quand l'éditeur est placé en bas.","Show time when you copy results, like 12:00. Copy time by default.":"Affiche l'heure quand les résultats sont copiés, comme '12:00'. Copie l'heure par défaut","Show Date When Copy Results":"Affiche la date quand les résultats sont copiés","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Affiche la date quand les résultats sont copiés, comme [[2022-01-01]]. Par défaut, copie la date.","Add Blank Line Between Different Date":"Ajoute une ligne entre les différentes dates.","Add blank line when copy result with date. No blank line by default.":"Ajoute une ligne lors de la copie du résultat avec la date. Pas de ligne par défaut.","Share Options":"Options de partage","Share Memos Image Footer Start":"Début du pied de page — Partage de mémo de mémos","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Définissez ce que vous voulez ici, utilisez {ThinoNum} pour afficher le nombre de thino, {UsedDay} pour les jours. Par défaut : '{ThinoNum} Thino {UsedDay} Days.","Share Memos Image Footer End":"Fin du pied de page — Partage de mémo","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Définissez ce que vous voulez ici. Utilisez {UserName} comme username. Par défaut : '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"Sauvegarde des images partagés dans un dossier sur mobile.","Save image to folder for mobile. False by Default":"Sauvegarder les images dans un dossier sur mobile. Désactivé par défaut.","Say Thank You":"Dites Merci",Donate:"Faire un don","If you like this plugin, consider donating to support continued development:":"Si vous aimez ce plugin, envisagez de faire un don pour soutenir le développement continu :","File Name of Recycle Bin":"Nom de la corbeille","Set the filename for recycle bin. 'delete' By default":"Définition du nom de la poubelle. Défaut : 'Delete'","Set the filename for query file. 'query' By default":"Définit le nom de fichier pour les requête. Défaut : 'Query'","Use Tags In Vault":"Utiliser des tags dans le Coffre","Use tags in vault rather than only in Memos. False by default.":"Utiliser des tags du coffre plutôt que ceux que seulement dans Mémo. Désactivé par défaut.","Ready to convert image into background":"Prêt pour convertir des image en arrière-plan.",List:"Liste",Task:"Tâche",Top:"Haut",Bottom:"Bas",TAG:"TAG",DAY:"JOUR",QUERY:"RECHERCHE",EDIT:"EDITER",PIN:"PIN",UNPIN:"ÉPINGLER",DELETE:"DESÉPINGLER","CONFIRM！":"CONFIRMER ！","CREATE FILTER":"CRÉER FILTRE",Settings:"Paramètres","Recycle bin":"Corbeille","About Me":"À propos de moi","Fetching data...":"Récupération des données...","Here is No Memos.":"Il n'y a pas de Memos.","Frequently Used Tags":"Tags fréquemment utilisés","What do you think now...":"Que pensez-vous maintenant...",READ:"LU",MARK:"MARQUER",SHARE:"PARTAGER",SOURCE:"SOURCE",RESTORE:"RESTAURER","DELETE AT":"SUPPRIMER","Noooop!":"Noooop!","All Data is Loaded 🎉":"Toutes les données sont chargées 🎉","Quick filter":"Filtre rapide",TYPE:"TYPE",LINKED:"LIEN","NO TAGS":"PAS DE TAGS","HAS LINKS":"A DES LIENS","HAS IMAGES":"A DES IMAGES",INCLUDE:"INCLUS",EXCLUDE:"EXCLUS",TEXT:"TEXTE",IS:"EST",ISNOT:"N'EST PAS",SELECT:"SELECTION","ADD FILTER TERMS":"AJOUTER DES TERMES FILTRÉ",FILTER:"FILTRE",TITLE:"TITRE","CREATE QUERY":"CRÉER UNE RECHERCHE","EDIT QUERY":"ÉDITER UNE RECHERCHE",MATCH:"MATCH",TIMES:"HEURE","Share Memo Image":"Partager un mémo image","↗Click the button to save":"↗Clique pour sauvegarder","Image is generating...":"Génération de l'image...","Image is loading...":"Image en chargement...","Loading...":"Chargement...","😟 Cannot load image, image link maybe broken":"😟 Impossible de charger l'image, le lien peut être brisé","Daily Memos":"Mémo quotidien","CANCEL EDIT":"ANNULER L'ÉDITION","LINK TO THE":"LIENS À","Mobile Options":"Options mobile","Don't support web image yet, please input image path in vault":"Ne supporte pas les images webs. Merci d'insérer le chemin de l'image depuis le coffre.","Background Image in Dark Theme":"Image de fond en thème sombre","Background Image in Light Theme":"Image de fond en thème clair",'Set background image in dark theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème sombre. Définir 'Daily/one.png' par exemple.",'Set background image in light theme. Set something like "Daily/one.png"':"Définir l'image de fond en thème clair. Définir 'Daily/one.png' par exemple.",'Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Définir la composition par défaut du mémo, vous devez utiliser {TIME} comme "HH:mm" et {CONTENT} comme contenu. "{TIME} {CONTENT}" par défaut',"Default Memo Composition":"Composition par défaut du mémo","Show Tasks Label":"Afficher les étiquettes des tâches","Show tasks label near the time text. False by default":"Afficher les étiquettes des tâches à côté du texte horaire. Désactivé par défaut.","Please Open Memos First":"Merci d'ouvrir les mémos en premier"},s8={},l8={},u8={},c8={},f8={},d8={},p8={},h8={},m8={welcome:"Bem-vindo ao Thino!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name in Memos":"Nome de Usuário no Thino","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","You should set the same heading below if you want to insert and process memos below the same heading.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},g8={welcome:"Bem-vindo ao Memos!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],to:"para",year:null,month:null,"Basic Options":"Opções Básicas","User name in Memos":"Nome de Usuário no Thino","Set your user name here. 'Memos 😏' By default":"Defina o nome de usuário. Padrão: 'Thino 😏'.","Insert after heading":"Inserir após o cabeçalho","You should set the same heading below if you want to insert and process memos below the same heading.":"Deve definir o mesmo cabeçalho na configuração posterior se pretende inserir e processar memorandos abaixo do cabeçalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabeçalho","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"Somente as entradas abaixo deste cabeçalho serão processadas nas suas notas. Se não configurar esta funcionalidade, nenhuma nota será processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Botão de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do botão guardar memorandos. Padrão: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padrão: "Focar".',"Open daily memos with open memos":"Abrir memorandos diários ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos diários ao iniciar o Thino. Padrão: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta opção está activa, o Memos abrirá quando o Obsidian inicia. Padrão: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas concluídas na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas concluídas na lista de memorandos. Padrão: "Mostrar tarefas concluídas".',"Advanced Options":"Opções Avançadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' estão disponíveis.","Default prefix":"Prefixo Padrão","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padrão quando um memorando é criado. Padrão: 'Lista'.","Default insert date format":"Formato Padrão para Inserção de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padrão ao inserir a data usando '@'. Padrão: 'Tarefas'.","Default editor position on mobile":"Posição Padrão do Editor de Memorandos na Versão Móvel","Set the default editor position on Mobile, 'Top' by default.":"Define a posição padrão do editor de memorandos na versão móvel. Padrão: 'Topo'.","Use button to show editor on mobile":"Usar Botão para Mostrar o Editor na Versão Móvel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um botão flutuante para abrir o editor na versão móvel. Opção disponível somente quando a posição do editor está definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padrão: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padrão: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padrão: "Não adicionar linha."',"Share Options":"Opções de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - Início do Rodapé","Set anything you want here, use {ThinoNum} to display Number of memos, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o número de thinorandos e use {UsedDay} para dias. 'Padrão: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodapé","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usuário. Padrão: '✍️ Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Versão Móvel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na versão móvel. Padrão: "Falso".',"Say Thank You":"Agradeça",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento contínuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padrão: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padrão: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e não somente dos memorandos. Padrão: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRM！":"CONFIRMAR！","CREATE FILTER":"CRIAR FILTRO",Settings:"Definições","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"Não existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que está a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded 🎉":"Todos os Dados foram Carregados 🎉","Quick filter":"Filtro rápido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"É",ISNOT:"NÃO É",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"TÍTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","↗Click the button to save":"↗Clique no botão para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","😟 Cannot load image, image link maybe broken":"😟 Não é possível carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Diários","CANCEL EDIT":"CANCELAR EDIÇÃO","LINK TO THE":"LINK PARA O","Mobile Options":"Opções Móveis","Don't support web image yet, please input image path in vault":"Ainda não existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Opções Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composição padrão do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conteúdo. Padrão: "{TIME} {CONTENT}".',"Default Memo Composition":"Composição Padrão de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas próximas do texto de tempo. Padrão: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Comentários nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padrão: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O TÍTULO NÃO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO NÃO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Comentários nas Notas/Notas Diárias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a versão 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"😭 Erro de Fetch","Copied to clipboard Successfully":"Copiado para a área de transferência com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Diárias ou de Notas Periódicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configuração do último filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conteúdo de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conteúdo não pode estar vazio","Unable to create new file.":"Não foi possível criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"Ícone do Botão para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O ícone exibido na UI do botão para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Específicas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas serão mostrados na lista. Padrão: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e não apenas nas notas diárias. Padrão: "Falso".',"Always Show Memo Comments":"Mostrar Comentários dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os comentários dos memorandos. Padrão: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"Não definiu a pasta para as notas diárias, quer no plugin the Notas Periódicas ou de Notas Diárias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configurações dos plugins de Notas Diárias OU de Notas Periódicas","Use Which Plugin's Default Configuration":"Usar a Configuração Padrão do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configuração padrão do plugin seleccionado para obter memorandos diariamente. Padrão: 'Notas Diárias'.",Daily:"Diário"},v8={},y8={},b8={},w8={welcome:"欢迎使用 Thino ",ribbonIconTitle:"Thino",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:[null,null,null,null,null,null,null,null,null,null,null,null],weekDays:["周日","周一","周二","周三","周四","周五","周六"],weekDaysShort:["周日","周一","周二","周三","周四","周五","周六"],to:"至",year:"年",month:"月","Basic Options":"基础选项","User name in Memos":"在 Thino 中显示的用户名","Set your user name here. 'Memos 😏' By default":"在这里设置你喜欢的用户名。 默认为 'Thino 😏'","Insert after heading":"在指定标题后插入 Thino","You should set the same heading below if you want to insert and process memos below the same heading.":"你如果想要插入标题的同时显示对应标题下的 Memo，你必须保证当前设置与下方的解析设置是一致的。当为空时插入到文末","Process Memos below":"解析指定标题后的 Thino","Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.":"只有在设置的标题后的 Memo 才会被解析。当为空时解析全文的 Memo","Save Memo button label":"保存按钮上的文本","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"在保存按钮上展示的文本。默认为 'NOTEIT'","Focus on editor when open memos":"自动聚焦到 Thino 输入框","Focus on editor when open memos. Focus by default.":"当打开 Thino 的时候自动聚焦到 Thino 输入框。默认开启","Open daily memos with open memos":"打开每日 Thino 的时候打开 Thino 界面","Open daily memos with open memos. Open by default.":"打开每日 Thino 的时候打开 Thino 界面。默认开启","Open Memos when obsidian opens":"当开启 Obsidian 的时候自动打开 Thino","When enable this, Memos will open when Obsidian opens. False by default.":"当开启该选项, Thino 会在 Obsidian 打开时自动打开。默认不开启。","Hide done tasks in Memo list":"在 Thino 列表中隐藏已完成 Thino","Hide all done tasks in Memo list. Show done tasks by default.":"在 Thino 列表中隐藏已完成 Thino。默认不开启","Advanced Options":"进阶选项","UI language for date":"针对日期展示的语言界面","Translates the date UI language. Only 'en' and 'zh' are available.":"对日期的不同翻译。目前只能选择 'en' 和 'zh'（未来会废置）","Default prefix":"默认前缀","Set the default prefix when create memo, 'List' by default.":"设置默认的前缀样式。默认为列表","Default insert date format":"插入日期附带的样式","Set the default date format when insert date by @, 'Tasks' by default.":"当使用 @ 来快速插入日期时，插入日期附带的样式，默认为 'Tasks' 样式","Default editor position on mobile":"在移动端上的默认编辑器位置","Set the default editor position on Mobile, 'Top' by default.":"设置在移动端上的默认编辑器位置，默认在顶部。","Use button to show editor on mobile":"当编辑器位置在底部时，用按钮来唤出编辑器","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"设置一个浮动按钮来唤出编辑器。当在移动端上启用该选项才会生效","Show Time When Copy Results":"当复制检索结果时附带时间","Show time when you copy results, like 12:00. Copy time by default.":"在复制检索结果时附带其时间，例如 12:00 。默认开启","Show Date When Copy Results":"当复制检索结果时附带日期","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"在复制检索结果时附带其日期，例如 [[2022-01-01]]。默认开启","Add Blank Line Between Different Date":"在复制日期的时候加上空行","Add blank line when copy result with date. No blank line by default.":"在复制日期的时候在相邻的日期之间加上空行。默认无空行","Share Options":"分享选项","Share Memos Image Footer Start":"分享 Thino 图片的左边页脚","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"你可以在这里设置你想要的任意文本，用 {ThinoNum} 来展示你记录的 thino 数量，{UsedDay} 来展示使用日期。默认为'{ThinoNum} Thino {UsedDay} Days'","Share Memos Image Footer End":"分享 Thino 图片的右边页脚","Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default":"你可以在这里设置你想要的任意文本，用 {UserName} 来展示你的用户名。默认为 '✍️ By {UserName}'","Save Shared Image To Folder For Mobile":"当在移动端上时保存图片到文件夹","Save image to folder for mobile. False by Default":"当在移动端上时，保存生成的图片到文件夹","Say Thank You":"感谢开发",Donate:"捐赠","If you like this plugin, consider donating to support continued development:":"如果你喜欢这个插件，而且也希望给我买鸡腿，那么可以考虑 Github 页面右边的 Sponsor~","File Name of Recycle Bin":"回收站的文件名","Set the filename for recycle bin. 'delete' By default":"给回收站设置一个文件名。默认为'delete'","File Name of Query File":"检索文件的文件名","Set the filename for query file. 'query' By default":"设置存放检索式的文件的文件名。默认为'query'","Use Tags In Vault":"使用在库内的所有标签","Use tags in vault rather than only in Memos. False by default.":"使用在库内的而不是 Thino 内的标签。默认关闭","Don't support web image yet, please input image path in vault":"暂不支持网络图片，请使用本地图片","Ready to convert image into background":"正在将图片转换为背景图",List:"列表",Task:"任务",Top:"顶部",Bottom:"底部",TAG:"标签",DAY:"天",QUERY:"检索式",EDIT:"编辑",PIN:"置顶",UNPIN:"取消置顶",DELETE:"删除","CONFIRM！":"确定删除","CREATE FILTER":"创建检索式",Filter:"筛选",Settings:"设置","Recycle bin":"回收站","About Me":"关于","Fetching data...":"获取数据中...","Here is No Memos.":"没有找到 Thino","Frequently Used Tags":"常用标签","What do you think now...":"你现在在想什么？",READ:"阅读",MARK:"引用",SHARE:"分享",SOURCE:"来源",RESTORE:"恢复",ARCHIVE:"归档","DELETE AT":"删除于","Noooop!":"啥都没有！","All Data is Loaded 🎉":"所有数据都加载好啦 🎉","Quick filter":"快速筛选",TYPE:"类型",LINKED:"有链接","NO TAGS":"无标签","HAS LINKS":"有超链接","HAS IMAGES":"有图片",INCLUDE:"包括",EXCLUDE:"排除",TEXT:"文本",IS:"是",AND:"和",OR:"或",LIST:"状态",ISNOT:"不是",SELECT:"选择","ADD FILTER TERMS":"添加检索条件",FILTER:"筛选器",TITLE:"标题","CREATE QUERY":"创建检索式","EDIT QUERY":"编辑检索式",MATCH:"匹配",TIMES:"次","Share Memo Image":"分享 Thino 图片","↗Click the button to save":"↗点击右上角的按钮来保存","Image is generating...":"图片正在生成中...","Image is loading...":"图片正在加载中...","😟 Cannot load image, image link maybe broken":"😟 无法加载图片，图片链接也许不存在","Loading...":"努力加载中...","Daily Memos":"每日 Thino","CANCEL EDIT":"取消编辑","LINK TO THE":"链接到","Mobile Options":"移动端选项","Experimental Options":"实验性选项","Background Image in Dark Theme":"深色主题的背景图","Background Image in Light Theme":"浅色主题的背景图",'Set background image in dark theme. Set something like "Daily/one.png"':'设置深色主题的背景图。请设置类似"Daily/one.png"的路径','Set background image in light theme. Set something like "Daily/one.png"':'设置浅色主题的背景图。请设置类似"Daily/one.png"的路径','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'设置默认 Thino 组成，你必须要使用 {TIME} 作为 "HH:mm" 而且要设置 {CONTENT} 作为内容识别。默认情况下， Thino 基于 "{TIME} {CONTENT}" 识别',"Default Memo Composition":"【已弃置】默认 Thino 组成","Show Tasks Label":"展示任务标签","Show tasks label near the time text. False by default":"在 Thino 的时间旁展示任务标签。默认情况下不展示","Please Open Memos First":"请先打开 Thino","Comment it...":"评论...",DATE:"日期",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"Obsidian Natrual DATES language 插件没启动",BEFORE:"在之前",AFTER:"在之后","Allow Comments On Memos":"允许在 Thino 上评论","You can comment on memos. False by default":"你可以在 Thino 点击图标进行评论了。默认不开启",Import:"导入","TITLE CANNOT BE NULL!":"标题不可以为空！","FILTER CANNOT BE NULL!":"筛选器不可以为空！","Comments In Original DailyNotes/Notes":"在原文件中进行评论","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"你需要安装 0.5.9 版本以上的 Dataview 插件来使用该功能","Open Memos Successfully":"成功打开 Thino ","Fetch Memos Error":"😭 Thino 获取失败","Copied to clipboard Successfully":"复制成功","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"请检查你有没有开启日记插件或者 Periodic Notes 插件且启用了日记模式","Please finish the last filter setting first":"先完善上一个过滤器吧","Close Memos Successfully":"成功关闭 Thino ","Insert as Memo":"插入内容为 Thino","Insert file as memo content":"插入文件为 Thino","Image load failed":"有个图片加载失败了😟","Content cannot be empty":"内容不能为空呀","Unable to create new file.":"无法新建文件","Failed to fetch deleted memos: ":"无法获取已删除的 Thino ：","RESTORE SUCCEED":"成功恢复 Thino","Save Memo button icon":"保存按钮上的图标","The icon shown on the save Memo button in the UI.":"你可以设置保存按钮上的图标","Fetch Memos From Particular Notes":"从指定的文件中获取 Thino",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'你可以给笔记设置指定检索式来让 Memos 可以索引到它。默认为 "#memo" ',"Allow Memos to Fetch Memo from Notes":"允许 Thino 从笔记中获取 Thino","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"使用 Memos 来管理你笔记中的 Memos，不单只 DailyNotes 中的内容。默认为关闭","Always Show Memo Comments":"评论将总是可见","Always show memo comments on memos. False by default":"当开启后评论总是会在 Thino 的下方展示。默认为关闭","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的所在文件夹","Please check your daily note plugin OR periodic notes plugin settings":"请检查你的日记插件和/或 Periodic Notes 插件的设置","Use which plugin's default configuration":"使用哪个插件的默认日记配置","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino 采用指定插件的默认配置来获取 Thino。默认为日记插件。",Daily:"日记插件","Always Show Leaf Sidebar on PC":"在 PC 上总是展示左侧栏","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"在 PC 上即使页面宽度小于 875px 时都展示左侧栏。默认为关闭","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"你在 Periodic Notes 插件和日记插件都没设置日记的格式","fetch more":"加载更多","Search all settings":"搜索所有设置","Random Review":"随机回顾","ARCHIVED AT":"归档于","Failed to get memos from daily notes":"无法从日记中获取 Thino","Failed to delete memo":"无法删除 Thino","CTRL + ENTER to save":"CTRL + ENTER 保存","Started from":"开始于","Custom Background Image":"自定义背景图","Set custom background image.":"设置自定义背景图","Custom Memo Footer":"自定义 Thino 页脚","Set custom memo footer.":"设置自定义 Thino 页脚","Heatmap Color Scheme":"热力图颜色","Set different color scheme for heatmap.":"设置热力图的颜色","Enable Local Http Server":"启用本地 HTTP 服务器","Memos Http Server Port":"Thino HTTP 服务器端口","Set memos http server port to listen. '43999' by default":"设置 Thino HTTP 服务器端口。默认为 '43999'","Live-Preview Mode OR Source Mode.":"基于 Thino 的所见即所得模式（默认） 或者 源码模式，你可以自己选择适合自己的输入体验。","Default Editor Mode":"默认编辑器模式","Save Location for Memos":"Thino 保存位置",DAILY:"日记",MULTI:"多文件",CANVAS:"画布",FILE:"单文件","Failed to create daily note, check if it exists.":"无法创建日记，请检查是否存在文件夹","Failed to create daily note. Please check if you created a folder for daily notes.":"无法创建日记，请检查是否存在日记文件夹","After you verify your account, please refresh this page.":"验证成功后，请刷新页面。",Verify:"去验证","Oops! You forget to verify insider account":"内测账户验证失败","If you have any questions, please contact us.":"如果你有任何问题，请联系我们。","Delete Thino Directly":"直接删除 Thino","When delete thino directly, it will not be moved to trash. False by default.":"当直接删除 Thino 时，不会移动到回收站。默认为关闭","Get activation code":"获取激活码","Input activation code here":"在这里输入激活码","Copy Thino id":"获取 Thino id","Activate Pro Version":"激活专业版","Please copy Thino id first":"请先获取 Thino id",'You can set folder name with file name like "folder/file"':'你可以设置例如 "folder/file" 的文件夹名+文件名的搭配来存放在指定文件夹','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'你可以设置例如 "folder1/folder2/folder3" 的文件夹名来创建子文件夹',"Default save location":"默认保存位置",'Set the default save location for thino. "DAILY" by default':'设置 Thino 的默认保存位置。默认为 "DAILY"',"Enable opening thino globally":"全局唤醒 Thino","Enable opening thino globally. False by default.":"全局唤醒 Thino。默认为关闭","Key for opening thino globally":"全局唤醒 Thino 的快捷键","Set key for opening thino globally. CTRL + SHIFT + T by default.":"设置全局唤醒 Thino 的快捷键。默认为 CTRL + SHIFT + T","Sync Thino via PKMer":"通过 PKMer 同步 Thino",Unlink:"取消链接",Link:"链接","Connect to PKMer Sync, you can check it in ":"连接到 PKMer 同步，你可以在该链接中查看：","PKMer Sync":"PKMer 同步","Remove successfully":"移除成功",Deactivate:"取消激活",Remove:"移除","Confirm?":"确认？","Sync Status":"同步状态","Start or stop sync":"开始或停止同步","Stop sync successfully":"停止同步成功","Start sync successfully":"开始同步成功",Stop:"停止",Start:"开始","Show thino near mouse":"在鼠标附近展示 Thino","Query not found":"检索式未找到","Send to clipboard successfully":"发送到剪贴板成功","Thino - Failed to start HTTP server, please check the port is available.":"Thino - 启动 HTTP 服务器失败，请检查端口是否可用。","Thino - Started HTTP server on port":"Thino - 启动 HTTP 服务器成功，端口为","Thino - Terminated HTTP server":"Thino - 终止 HTTP 服务器","File not exist":"文件不存在","Thino not found":"Thino 未找到","File not found for the given thino path, is creating a new file":"未找到承载指定 Thino 的文件，正在创建新文件","Saved sync token successfully":"保存同步令牌成功","Failed to find daily notes folder":"未找到日记文件夹","Please install obsidian-hover-editor plugin first":"请先安装 obsidian-hover-editor 插件","Copied app id successfully":"复制 app id 成功","Please input token first":"请先输入 token","Please enable sync first":"请先启用同步","Init Failed":"初始化失败","Folder not found for the given thino path, is creating a new folder":"未找到承载指定 Thino 的文件夹，正在创建新文件夹","File not found for the given thino path":"未找到承载指定 Thino 的文件","Failed to read current daily note, check if it exists.":"无法读取日记文件，请检查是否存在","Verify successfully":"验证成功","Failed to verify":"验证失败","Failed to save":"保存失败","Failed to login, please login again":"登录已过期，请重新登录","COPY FAILED":"复制失败","COPY SUCCEED":"复制成功",COPY:"复制","This is a pro feature, please upgrade to pro version to use it.":"这是专业版功能，请升级到专业版来使用它。","You can get pro version from: ":"你可以从这里获取专业版：",Save:"保存",Cancel:"取消","Thino Daily Target":"Thino 每日目标",Input:"输入","#Tag":"#标签","to create tag":"来创建标签","You have verified your account. Congrats!":"你已经验证了你的账户。恭喜！","Pro Features":"专业版功能","Target Thino Count":"目标 Thino 数量",on:"在","Switch waterfall view":"切换瀑布流视图","Switch view":"切换视图","Switch list view":"切换列表视图","Set daily target":"设置每日目标","Thino Save To: ":"Thino 保存到：","Enter fullscreen mode":"进入全屏模式","Exit fullscreen mode":"退出全屏模式",words:"字","Return To Home Page":"返回首页","Open thino in center window":"在中心窗口打开 thino","Open thino in float window":"在浮动窗口打开 thino","Open thino in right sidebar":"在右侧边栏打开 thino","Open thino in left sidebar":"在左侧边栏打开 thino","Show thino editor":"显示 thino 编辑器","Toggle minimal mode":"切换 Minimal 模式","Focus on thino editor":"聚焦到 thino 编辑器","ReSync web thinos to local":"重新同步 web 上的 thino 到本地","Sync local thinos to web":"同步本地的 thino 到 web","Show daily thino view":"显示每日 thino 视图","Focus on search bar":"聚焦到搜索栏","Show-thino in popover(Hover editor)":"在弹出框中显示 thino","Center window":"中心窗口","Float window":"浮动窗口","Right sidebar":"右侧边栏","Left sidebar":"左侧边栏","Save thino type when sync local":"同步本地时保存的 thino 类型","Set the default save thino type when sync local, FILE by default.":"设置同步本地时保存的 thino 类型，默认为单文件。","Sync service":"同步服务","Pro verification status":"专业版激活状态","Live-preview":"所见即所得",Source:"源码",General:"通用",Thino:"Thino",Theme:"主题",Share:"分享",Advanced:"进阶","Global copy":"全局复制","Set the folder name":"设置文件夹名","Set the filename":"设置文件名","Set the filename for current location file":"设置当前位置文件的文件名","Switch calendar type":"切换日历类型",alphabetical:"标签名称（A-Z）",alphabeticalReverse:"标签名称（Z-A）",byCount:"按使用次数（从高到低）",byCountReverse:"按使用次数（从低到高）","Type here":"在这里输入",Today:"今天",Yesterday:"昨天","Last 7 days":"最近 7 天","Last 30 days":"最近 30 天","Last 90 days":"最近 90 天","Last 180 days":"最近 180 天","Last 365 days":"最近 365 天",Found:"被找到","Copy filtered thinos to clipboard":"复制筛选的 thino 到剪贴板","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"如果你禁用了日记插件，可能会导致 thino 无法被正确删除。请启用插件后再试一次。",Preview:"预览","Set and save":"设置并保存","Show day mark on list mode":"在列表模式中展示日期标记","Show day mark on the top of daily range thino. False by default.":"在列表模式中展示日期标记。默认为关闭","Click to expand or fold, Cmd+Click to show all thinos of the day":"点击展开或折叠，Cmd+点击展示当天所有 thino","You can buy a license from":"你可以从这里购买许可证","No thinos in range":"该范围内没有 thino",Month:"月视图",Week:"周视图",Day:"日视图",Agenda:"日程视图",Tomorrow:"明天",Previous:"往前",Next:"往后","Search all columns...":"搜索所有的列...","Basic Info":"基础信息","Additional Info":"附加信息","Created At":"创建于",Content:"内容","Thino Type":"Thino 类型","Source Type":"来源类型","Row status":"归档状态",Path:"路径","Pinned Status":"置顶状态",Table:"表格",Waterfall:"瀑布流",Calendar:"日历","Go to page":"跳转到页",Page:"页",Show:"展示",rows:"行","Temp Filter":"临时筛选器","Allow navigation from view to Thino or Thino to view":"允许从视图到 Thino 或者从 Thino 到视图的导航"},D8={},S8={ar:e8,cs:t8,da:n8,de:r8,en:Q2,"en-gb":a8,es:o8,fr:i8,hi:s8,id:l8,it:u8,ja:c8,ko:f8,nl:d8,nn:p8,pl:h8,pt:m8,"pt-br":g8,ro:v8,ru:y8,tr:b8,"zh-cn":w8,"zh-tw":D8},Dw=S8[I.moment.locale()];function O(e){return Dw&&Dw[e]||Q2[e]}const E8=/```([\s\S]*?)```/g,T8=/\*\*(.+?)\*\*/g,C8=/\*(.+?)\*/g,x8=/\[ \] /g,M8=/\[.{1}\] /g,k8=/^[*-]/g,I8=/(\d+)\. /g,Sw=/\[\[([^\]]+)\]\]/g,Q0=/\[([^\]]+)\]\((([^\]]+).md)\)/g,N8=(e,t)=>{const n=e.replace(E8,"<pre lang=''>$1</pre>").replace(k8,"<span class='counter-block'>•</span>").replace(I8,"<span class='counter-block'>$1.</span>").replace(x8,"<span class='todo-block' data-type='todo'>⬜</span>").replace(M8,"<span class='todo-block' data-type='done'>✅</span>").replace(T8,"<strong>$1</strong>").replace(C8,"<em>$1</em>").replace(/&lt;br&gt;/g,"</p><p>").replace(/&amp;/g,"&");let r=n;if(t){if(Sw.test(n)){const a=n.match(Sw);for(let i=0;i<a.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(a[i])){const s=F8(a[i]);if(/\|/g.test(s)){const[c,d]=s.split("|"),h=s0(c,d);r=n.replace(a[i],h)}else{const h=s0(s,"");r=r.replace(a[i],h)}}}if(Q0.test(n)){const a=n.match(Q0);for(let i=0;i<a.length;i++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(a[i])){const s=O8(a[i]),c=A8(a[i]),d=s0(s,c);r=n.replace(a[i],d)}}}return r},s0=(e,t)=>{const{metadataCache:n}=Ce.getState().dailyNotesState.app;return n.getFirstLinkpathDest(decodeURIComponent(e),"")instanceof I.TFile?t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${e}</a>`:t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${e}</a>`},F8=e=>{var t;return(t=/\[\[([^\]]+)\]\]/g.exec(e))==null?void 0:t[1]},A8=e=>{var t;return(t=Q0.exec(e))==null?void 0:t[1]},O8=e=>{var t;return(t=/\[([^\]]+)\]\((([^\]]+).md)\)/g.exec(e))==null?void 0:t[3]},Ew=e=>{const t=document.createElement("div");return t.className="memo-content-text",t.innerHTML=e,t.innerText},R8=e=>e.replace(/\n/g,"<br>"),L8=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML},Tw="mobile-show-sidebar",Z2=200,wi=3600*24*1e3,or=/\s#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,Ra=/(<p>|<br>)#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,Rr=/^#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/gu,Af=/(\s|：|\(|>|^)((http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-]))/g,_8=/\[([\s\S]*?)\]\(([\s\S]*?)\)/gu,Of=/([^\s<\\*>'(]+\.(jpeg|jpg|gif|png|svg))(\]\])?(\))?/g,Fu=/\[@(.+?)\]\((.+?)\)/g,P8=/^(-|\*|\d\.)\s(\[.\]\s)?(\d{1,2}:\d{2})\s(.*)$/g,bf=[{title:"DAILY",icon:"list"},{title:"CANVAS",icon:"layout-dashboard"},{title:"MULTI",icon:"file-text"},{title:"FILE",icon:"edit"}];var Z0;(e=>{function t(){return parseInt(I.moment().format("x"))}e.getNowTimeStamp=t;function n(){const R=navigator.userAgent;let j="Unknown";return R.indexOf("Win")!=-1?j="Windows":R.indexOf("Mac")!=-1?j="MacOS":R.indexOf("Linux")!=-1&&(j="Linux"),j}e.getOSVersion=n;function r(R){return typeof R=="string"&&(R=R.replaceAll("-","/")),new Date(R).getTime()}e.getTimeStampByDate=r;function a(R){const j=new Date(r(R));return new Date(j.getFullYear(),j.getMonth(),j.getDate()).getTime()}e.getDateStampByDate=a;function i(R){const j=new Date(r(R)),$=j.getFullYear(),W=j.getMonth()+1,z=j.getDate();return`${$}/${W}/${z}`}e.getDateString=i;function s(R){const j=new Date(r(R)),$=j.getHours(),W=j.getMinutes(),z=$<10?"0"+$:$,X=W<10?"0"+W:W;return`${z}:${X}`}e.getTimeString=s;function c(R){const j=new Date(r(R)),$=j.getFullYear(),W=j.getMonth()+1,z=j.getDate(),X=j.getHours(),oe=j.getMinutes(),ee=j.getSeconds(),de=W<10?"0"+W:W,fe=z<10?"0"+z:z,De=X<10?"0"+X:X,xe=oe<10?"0"+oe:oe,pe=ee<10?"0"+ee:ee;return`${$}/${de}/${fe} ${De}:${xe}:${pe}`}e.getDateTimeString=c;function d(R){return Array.from(new Set(R))}e.dedupe=d;function h(R){const j=new Set,$=[];for(const W of R)j.has(W.id)||(j.add(W.id),$.push(W));return $}e.dedupeObjectWithId=h;function g(R,j){let $=null;return()=>{$&&clearTimeout($),$=setTimeout(R,j)}}e.debounce=g;function m(R,j,$=!1,W){let z=null,X=!1;function oe(...ee){if(z&&clearTimeout(z),$&&!X){const de=R.apply(this,ee);W&&typeof W=="function"&&W(de),X=!0}else z=setTimeout(()=>{const de=R.apply(this,ee);W&&typeof W=="function"&&W(de),X=!1,z=null},j)}return oe.cancel=function(){z&&clearTimeout(z),z=null,X=!1},oe}e.debouncePlus=m;function w(R,j){let $=!0;return()=>{if(!$)return!1;$=!1,setTimeout(()=>{R(),$=!0},j)}}e.throttle=w;function b(R){const j=[],$=Object.keys(R).sort();for(const W of $){const z=R[W];z&&(typeof z=="object"?j.push(...b(z).split("&")):j.push(`${W}=${z}`))}return j.join("&")}e.transformObjectToParamsString=b;function T(R){const j={},$=R.split("&");for(const W of $){const[z,X]=W.split("=");z&&X&&(j[z]=X)}return j}e.transformParamsStringToObject=T;function E(R){if(!R)return{};const j={},$=Object.keys(R).sort();for(const W of $){const z=R[W];if(typeof z=="object"){const X=E(JSON.parse(JSON.stringify(z)));X&&Object.keys(X).length>0&&(j[W]=X)}else z&&(j[W]=z)}return j}e.filterObjectNullKeys=E;async function k(R){if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(R)}catch{}}e.copyTextToClipboard=k;function M(R){return new Promise(j=>{const $=new Image;$.onload=()=>{const{width:W,height:z}=$;W>0&&z>0?j({width:W,height:z}):j({width:0,height:0})},$.onerror=()=>{j({width:0,height:0})},$.className="hidden",$.src=R,document.body.appendChild($),$.remove()})}e.getImageSize=M;async function F(R){var z,X,oe,ee;let j;const W=app.plugins.getPlugin("obsidian-memos").settings.UseDailyOrPeriodic==="Daily";try{return!W&&((ee=(oe=(X=(z=window.app.plugins)==null?void 0:z.getPlugin("periodic-notes"))==null?void 0:X.calendarSetManager)==null?void 0:oe.getActiveConfig("day"))!=null&&ee.enabled)?(j=await window.app.plugins.getPlugin("periodic-notes").createPeriodicNote("day",R),j):(j=await K2(R),j)}catch{return new I.Notice(O("Failed to create daily note. Please check if you created a folder for daily notes.")),null}}e.createDailyNoteCheck=F;function B(R){const j=[];let $=0;for(;$<R;$++)j.push((16*Math.random()|0).toString(16));return j.join("")}e.randomId=B;function N(R){return R.replace(/[\p{P}\p{Z}\p{S}]/gu,"").length}e.countWords=N;async function P(R){try{const j=await I.requestUrl(R),$=new Uint8Array(j.arrayBuffer);return new Blob([$],{type:"image/png"})}catch{return new Blob}}e.grabImageFromUrl=P})(Z0||(Z0={}));const Ue=Z0;function j8(){var i,s,c,d,h,g;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(c=(s=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:s.getActiveConfig("day"))==null?void 0:c.folder,a=(g=(h=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:h.daily)==null?void 0:g.format;switch(r===void 0?n=a:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=Wg().format||"YYYY-MM-DD";break;case"Periodic":e=n||"YYYY-MM-DD";break;default:e=Wg().format||"YYYY-MM-DD";break}return e===void 0&&new I.Notice(O("You didn't set format for daily notes in both periodic-notes and daily-notes plugins.")),e}function J2(){var i,s,c,d,h,g;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(c=(s=(i=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:i.calendarSetManager)==null?void 0:s.getActiveConfig("day"))==null?void 0:c.folder,a=(g=(h=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:h.daily)==null?void 0:g.folder;switch(r===void 0?n=a:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=Wg().folder||"";break;case"Periodic":e=n||"";break;default:e=Wg().folder||"";break}return e===void 0&&new I.Notice(O("You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.")),e}function J0(e,t){var r;e=L8(e),e=R8(e).split("<br>").map(a=>`<p>${a!==""?a:"<br>"}</p>`).join(""),e=N8(e,t),e=e.replace(or,"<span class='tag-span'>#$1</span>").replace(Ra,"<p><span class='tag-span'>#$2</span>").replace(Af,"$1<a class='link' target='_blank' rel='noreferrer' href='$2'>$2</a>").replace(_8,"<a class='link' target='_blank' rel='noreferrer' href='$2'>$1</a>").replace(Fu,"<span class='memo-link-text' data-value='$2'>$1</span>").replace(/\^\S{6}/g,"");const n=document.createElement("div");n.innerHTML=e;for(let a=0;a<n.children.length;a++){const i=n.children[a];if(i.tagName==="P"&&i.textContent===""&&((r=i.firstElementChild)==null?void 0:r.tagName)!=="BR"){i.remove(),a--;continue}}return n.innerHTML}function B8(e,t){switch(t.type){case"SET_MEMOS":{const n=t.payload.memos.sort((a,i)=>{const s=Ue.getTimeStampByDate(a.createdAt),c=Ue.getTimeStampByDate(i.createdAt);return s===c?i.id.localeCompare(a.id):Ue.getTimeStampByDate(i.createdAt)-Ue.getTimeStampByDate(a.createdAt)}),r=Ue.dedupeObjectWithId(n);return{...e,memos:[...r]}}case"SET_COMMENT_MEMOS":{const n=Ue.dedupeObjectWithId(t.payload.commentMemos.sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"SET_TAGS":return{...e,tags:t.payload.tags,tagsNum:t.payload.tagsNum};case"INSERT_MEMO":{const n=Ue.dedupeObjectWithId([t.payload.memo,...e.memos].sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)));return{...e,memos:n}}case"INSERT_COMMENT_MEMO":{const n=Ue.dedupeObjectWithId([t.payload.memo,...e.commentMemos].sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"DELETE_MEMO_BY_ID":return{...e,memos:[...e.memos].filter(n=>n.id!==t.payload.id)};case"DELETE_MEMO_BY_ID_BATCH":{const n=[...e.memos];return t.payload.ids.forEach(r=>{n.splice(n.findIndex(a=>a.id===r),1)}),{...e,memos:[...n]}}case"CLEAR_MEMOS":return{...X2};case"EDIT_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"EDIT_MEMO_PATH":{const n=e.memos.map(r=>r.path===t.payload.path?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"UPDATE_MEMO_BATCH":{const n=e.memos.filter(a=>a.path!==t.payload.path),r=Ue.dedupeObjectWithId([...t.payload.memos,...n].sort((a,i)=>Ue.getTimeStampByDate(i.createdAt)-Ue.getTimeStampByDate(a.createdAt)));return{...e,memos:[...r]}}case"ARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"UNARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"PIN_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,pinned:t.payload.pinned}:r);return{...e,memos:[...n]}}case"EDIT_COMMENT_MEMO":{const n=e.commentMemos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,commentMemos:[...n]}}default:return e}}const X2={memos:[],commentMemos:[],tags:[],tagsNum:{}};function Y8(e,t){switch(t.type){case"SIGN_IN":return{user:t.payload.user};case"SIGN_OUT":return{user:null};default:return e}}const H8={user:null};function U8(e,t){switch(t.type){case"SET_QUERIES":{const n=Ue.dedupeObjectWithId(t.payload.queries.sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)).sort((r,a)=>Ue.getTimeStampByDate(a.pinnedAt??0)-Ue.getTimeStampByDate(r.pinnedAt??0)));return{...e,queries:n}}case"INSERT_QUERY":{const n=Ue.dedupeObjectWithId([t.payload.query,...e.queries].sort((r,a)=>Ue.getTimeStampByDate(a.createdAt)-Ue.getTimeStampByDate(r.createdAt)));return{...e,queries:n}}case"DELETE_QUERY_BY_ID":return{...e,queries:[...e.queries].filter(n=>n.id!==t.payload.id)};case"UPDATE_QUERY":{const n=e.queries.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,queries:n}}default:return e}}const V8={queries:[]};function z8(e,t){var n,r,a,i;switch(t.type){case"SET_DAILY_NOTES":return{...e,dailyNotes:t.payload.dailyNotes};case"SET_APP":return e.app?{...e}:{...e,app:t.payload.app};case"SET_PLUGIN":return e.plugin?{...e}:{...e,plugin:t.payload.plugin};case"SET_EDITOR":return e.editor?{...e}:{...e,editor:t.payload.editor};case"SET_SETTINGS":return e.settings&&e.settings===t.payload.settings?{...e}:{...e,settings:t.payload.settings};case"SET_VIEW":return e.view&&((r=(n=e.view)==null?void 0:n.leaf)==null?void 0:r.id)===((i=(a=t.payload.view)==null?void 0:a.leaf)==null?void 0:i.id)?{...e}:{...e,view:t.payload.view};case"CLEAR_VIEW":return e.view&&e.view.unload(),{...e,view:null};case"CLEAR_FILES":return{...e,dailyNotes:null};case"SET_VERIFY_STATE":return{...e,verifyState:t.payload.verifyState};default:return e}}const $8={dailyNotes:null,app:null,view:null,settings:null,editor:null,plugin:null,verifyState:null},Ce=T6({globalState:x6,locationState:R2,memoState:X2,userState:H8,queryState:V8,dailyNotesState:$8},E6({globalState:C6,locationState:M6,memoState:B8,userState:Y8,queryState:U8,dailyNotesState:z8})),It=A.createContext(Ce.getState());String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});class W8{constructor(){ve(this,"initialized",!1)}getState(){return Ce.getState().dailyNotesState}setApp(t){return Ce.dispatch({type:"SET_APP",payload:{app:t}}),t}setPlugin(t){return Ce.dispatch({type:"SET_PLUGIN",payload:{plugin:t}}),t}setSettings(t){return Ce.dispatch({type:"SET_SETTINGS",payload:{settings:t}}),this.initialized||(this.initialized=!0),t}setView(t){return Ce.dispatch({type:"SET_VIEW",payload:{view:t}}),t}setEditor(t){return Ce.dispatch({type:"SET_EDITOR",payload:{editor:t}}),t}async updateDailyNotes(t,n){const r=this.getState().dailyNotes,a=_p(t,"day");return n?delete r[`day-${a.format("YYYY-MM-DD")}T00:00:00+08:00}`]:r[`day-${a.format("YYYY-MM-DD")}T00:00:00+08:00}`]=t,Ce.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:r}}),r}setVerifyState(t){return Ce.dispatch({type:"SET_VERIFY_STATE",payload:{verifyState:t}}),t}async fechLocalDailyNotes(){const t=Nu();return Ce.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:t}}),t}}const ut=new W8;var Vn;(e=>{function t(i){const s={};for(const c of i)try{const d=localStorage.getItem(c);if(d!==null){const h=JSON.parse(d);s[c]=h}}catch{}return s}e.get=t;function n(i){for(const s in i)try{const c=JSON.stringify(i[s]);localStorage.setItem(s,c)}catch{}}e.set=n;function r(i){for(const s of i)try{localStorage.removeItem(s)}catch{}}e.remove=r;function a(){var s;const i=document.createElement("iframe");i.style.display="none",document.body.appendChild(i),(s=i.contentWindow)==null||s.localStorage.setItem("t",Date.now().toString()),i.remove()}e.emitStorageChangedEvent=a})(Vn||(Vn={}));class q8{constructor(){ve(this,"getState",()=>Ce.getState().globalState);ve(this,"setEditMemoId",t=>{Ce.dispatch({type:"SET_EDIT_MEMO_ID",payload:{editMemoId:t}})});ve(this,"setRefresh",t=>{Ce.dispatch({type:"SET_REFRESH",payload:{refresh:t}})});ve(this,"setCommentMemoId",t=>{Ce.dispatch({type:"SET_COMMENT_MEMO_ID",payload:{commentMemoId:t}})});ve(this,"setMarkMemoId",t=>{Ce.dispatch({type:"SET_MARK_MEMO_ID",payload:{markMemoId:t}})});ve(this,"setLoaded",t=>{Ce.dispatch({type:"SET_LOADED",payload:{loaded:t}})});ve(this,"setGlobalEditorShown",t=>{Ce.dispatch({type:"SET_GLOBAL_EDITOR_SHOWN",payload:{globalEditorShown:t}})});ve(this,"setIsMobileView",t=>{Ce.dispatch({type:"SET_MOBILE_VIEW",payload:{isMobileView:t}})});ve(this,"setChangedByMemos",t=>{Ce.dispatch({type:"SET_CHANGED_BY_MEMOS",payload:{changedByMemos:t}})});ve(this,"setShowSiderbarInMobileView",t=>{Ce.dispatch({type:"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW",payload:{showSiderbarInMobileView:t}})});ve(this,"setAppSetting",t=>{Ce.dispatch({type:"SET_APP_SETTING",payload:t}),Vn.set(t)});ve(this,"setMemoListView",t=>{Ce.dispatch({type:"SET_MEMO_LIST_VIEW",payload:{memoListView:t}})});ve(this,"setInstance",(t,n)=>{Ce.dispatch({type:"SET_INSTANCE",payload:{id:t,instance:n}})});ve(this,"setPluginManifest",t=>{Ce.dispatch({type:"SET_MEMO_PLUGIN_MANIFEST",payload:{manifest:t}})});const t=Vn.get(["shouldSplitMemoWord","shouldHideImageUrl","shouldUseMarkdownParser","useTinyUndoHistoryCache"]),n={shouldSplitMemoWord:t.shouldSplitMemoWord??!0,shouldHideImageUrl:t.shouldHideImageUrl??!0,shouldUseMarkdownParser:t.shouldUseMarkdownParser??!0,useTinyUndoHistoryCache:t.useTinyUndoHistoryCache??!1};this.setAppSetting(n)}}const rt=new q8;class G8{constructor(){ve(this,"updateStateWithLocation",()=>{const{pathname:t,search:n,hash:r}=window.location,a=new URLSearchParams(n),i={pathname:"/",hash:"",query:{tag:"",duration:null,text:"",type:"",filter:""}};i.query.tag=a.get("tag")??"",i.query.type=a.get("type")??"",i.query.text=a.get("text")??"",i.query.filter=a.get("filter")??"";const s=parseInt(a.get("from")??"0"),c=parseInt(a.get("to")??"0");c>s&&c!==0&&(i.query.duration={from:s,to:c}),i.hash=r,i.pathname=this.getValidPathname(t),Ce.dispatch({type:"SET_LOCATION",payload:i})});ve(this,"getState",()=>Ce.getState().locationState);ve(this,"clearQuery",()=>{Ce.dispatch({type:"SET_QUERY",payload:{tag:"",duration:null,text:"",type:"",filter:""}})});ve(this,"setQuery",t=>{Ce.dispatch({type:"SET_QUERY",payload:t})});ve(this,"reloadApp",()=>{Ce.dispatch({type:"RELOAD"})});ve(this,"setHash",t=>{Ce.dispatch({type:"SET_HASH",payload:{hash:t}})});ve(this,"setPathname",t=>{Ce.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});ve(this,"pushHistory",t=>{Ce.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});ve(this,"replaceHistory",t=>{Ce.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});ve(this,"setMemoTypeQuery",(t="")=>{Ce.dispatch({type:"SET_TYPE",payload:{type:t}})});ve(this,"setMemoFilter",t=>{Ce.dispatch({type:"SET_QUERY_FILTER",payload:t})});ve(this,"setTextQuery",t=>{Ce.dispatch({type:"SET_TEXT",payload:{text:t}})});ve(this,"setTimeQuery",t=>{Ce.dispatch({type:"SET_DURATION_QUERY",payload:{duration:t}})});ve(this,"setTagQuery",t=>{Ce.dispatch({type:"SET_TAG_QUERY",payload:{tag:t}})});ve(this,"setFromAndToQuery",(t,n)=>{Ce.dispatch({type:"SET_DURATION_QUERY",payload:{duration:{from:t,to:n}}})});ve(this,"getValidPathname",t=>["/","/homeboard","/recycle","/setting"].includes(t)?t:"/");this.updateStateWithLocation(),window.onpopstate=()=>{this.updateStateWithLocation()}}}const it=new G8,bu=e=>`${e.vault.configDir}/query.json`,eE=async(e,t)=>{try{return await e.vault.adapter.read(t),!0}catch{return!1}},Rf=async e=>(await eE(e,bu(e))||await tE(e),JSON.parse(await e.vault.adapter.read(bu(e))).queries||[]),ph=async(e,t)=>{await e.vault.adapter.write(bu(e),JSON.stringify({queries:t},null,2))},tE=async e=>{const t=rt.getState().manifest,n=e.plugins.getPlugin(t.id||"obsidian-memos").settings,r=e.metadataCache.getFirstLinkpathDest(n.QueryFileName,"");if(!r)await e.vault.adapter.write(bu(e),JSON.stringify({queries:[]},null,2));else{const i=(await e.vault.read(r)).split(`
`);i.length===0&&await e.vault.adapter.write(bu(e),JSON.stringify({queries:[]},null,2));const s=[];for(let c=0;c<i.length;c++){const d=c,h="Memos";let g="未命名";const m=i[c];let w=I.moment().format("YYYY/MM/DD HH:mm:ss"),b="[]";const T=m.match(/^\d{14,16}/);T&&(w=I.moment(T[0].slice(0,14),"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:ss"));const E=m.match(/\[\{(.+)\}\]/);E&&(b=E[0]);const k=m.match(/\s(.+)\s\[\{/);k&&(g=k[0].slice(1,-3)),s.push({id:d,pinnedAt:"",createdAt:w,updatedAt:w,title:g,querystring:b,userId:h})}await e.vault.adapter.write(bu(e),JSON.stringify({queries:s},null,2))}},K8=async()=>{const{app:e}=Ce.getState().dailyNotesState;return await eE(e,bu(e))||await tE(e),await Rf(e)||[]},Q8=(e,t)=>({createdAt:I.moment().format("YYYY/MM/DD HH:mm:ss"),id:e,pinnedAt:"",querystring:t,title:O("Temp Filter"),updatedAt:I.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"}),Z8=async(e,t)=>{const n=await Rf(Ce.getState().dailyNotesState.app)||[],r={createdAt:I.moment().format("YYYY/MM/DD HH:mm:ss"),id:I.moment().format("YYYYMMDDHHmmss")+n.length,pinnedAt:"",querystring:t,title:e,updatedAt:I.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"};return n.push(r),await ph(Ce.getState().dailyNotesState.app,n),r};var qg={exports:{}};qg.exports;(function(e,t){(function(){var n,r="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",m=1,w=2,b=4,T=1,E=2,k=1,M=2,F=4,B=8,N=16,P=32,R=64,j=128,$=256,W=512,z=30,X="...",oe=800,ee=16,de=1,fe=2,De=3,xe=1/0,pe=9007199254740991,we=17976931348623157e292,U=NaN,G=4294967295,ie=G-1,ye=G>>>1,ue=[["ary",j],["bind",k],["bindKey",M],["curry",B],["curryRight",N],["flip",W],["partial",P],["partialRight",R],["rearg",$]],be="[object Arguments]",Re="[object Array]",He="[object AsyncFunction]",Pe="[object Boolean]",yt="[object Date]",Se="[object DOMException]",$e="[object Error]",Ze="[object Function]",Xe="[object GeneratorFunction]",Ge="[object Map]",tt="[object Number]",Dt="[object Null]",dt="[object Object]",Vt="[object Promise]",ja="[object Proxy]",cn="[object RegExp]",en="[object Set]",br="[object String]",wr="[object Symbol]",Lo="[object Undefined]",ga="[object WeakMap]",io="[object WeakSet]",Kr="[object ArrayBuffer]",Dr="[object DataView]",hs="[object Float32Array]",so="[object Float64Array]",lo="[object Int8Array]",Sl="[object Int16Array]",Ci="[object Int32Array]",xi="[object Uint8Array]",ms="[object Uint8ClampedArray]",_o="[object Uint16Array]",Mi="[object Uint32Array]",V=/\b__p \+= '';/g,ne=/\b(__p \+=) '' \+/g,he=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Te=/&(?:amp|lt|gt|quot|#39);/g,Le=/[&<>"']/g,Be=RegExp(Te.source),Ye=RegExp(Le.source),mt=/<%-([\s\S]+?)%>/g,Yt=/<%([\s\S]+?)%>/g,xn=/<%=([\s\S]+?)%>/g,mn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qr=/^\w*$/,Mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lr=/[\\^$.*+?()[\]{}|]/g,Zr=RegExp(lr.source),El=/^\s+/,Gt=/\s/,va=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ya=/\{\n\/\* \[wrapped with (.+)\] \*/,ba=/,? & /,Po=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jo=/[()=,{}\[\]\/\s]/,oy=/\\(\\)?/g,ki=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jf=/\w*$/,Lh=/^[-+]0x[0-9a-f]+$/i,iy=/^0b[01]+$/i,_h=/^\[object .+?Constructor\]$/,Ph=/^0o[0-7]+$/i,jh=/^(?:0|[1-9]\d*)$/,Bh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lu=/($^)/,sy=/['\n\r\u2028\u2029\\]/g,tn="\\ud800-\\udfff",ly="\\u0300-\\u036f",Xf="\\ufe20-\\ufe2f",Yh="\\u20d0-\\u20ff",Tl=ly+Xf+Yh,Hh="\\u2700-\\u27bf",ed="a-z\\xdf-\\xf6\\xf8-\\xff",_u="\\xac\\xb1\\xd7\\xf7",Ba="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uy="\\u2000-\\u206f",wa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Uh="A-Z\\xc0-\\xd6\\xd8-\\xde",Vh="\\ufe0e\\ufe0f",zh=_u+Ba+uy+wa,gs="['’]",Pu="["+tn+"]",vs="["+zh+"]",Ii="["+Tl+"]",$h="\\d+",cy="["+Hh+"]",ju="["+ed+"]",td="[^"+tn+zh+$h+Hh+ed+Uh+"]",Cl="\\ud83c[\\udffb-\\udfff]",xl="(?:"+Ii+"|"+Cl+")",Wh="[^"+tn+"]",Ml="(?:\\ud83c[\\udde6-\\uddff]){2}",Pt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ni="["+Uh+"]",nd="\\u200d",Bu="(?:"+ju+"|"+td+")",qh="(?:"+Ni+"|"+td+")",rd="(?:"+gs+"(?:d|ll|m|re|s|t|ve))?",ad="(?:"+gs+"(?:D|LL|M|RE|S|T|VE))?",Yu=xl+"?",kl="["+Vh+"]?",Bo="(?:"+nd+"(?:"+[Wh,Ml,Pt].join("|")+")"+kl+Yu+")*",Yo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ho="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ys=kl+Yu+Bo,Il="(?:"+[cy,Ml,Pt].join("|")+")"+ys,Uo="(?:"+[Wh+Ii+"?",Ii,Ml,Pt,Pu].join("|")+")",fy=RegExp(gs,"g"),Gh=RegExp(Ii,"g"),Fi=RegExp(Cl+"(?="+Cl+")|"+Uo+ys,"g"),dy=RegExp([Ni+"?"+ju+"+"+rd+"(?="+[vs,Ni,"$"].join("|")+")",qh+"+"+ad+"(?="+[vs,Ni+Bu,"$"].join("|")+")",Ni+"?"+Bu+"+"+rd,Ni+"+"+ad,Ho,Yo,$h,Il].join("|"),"g"),Kh=RegExp("["+nd+tn+Tl+Vh+"]"),Hu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],py=-1,Ht={};Ht[hs]=Ht[so]=Ht[lo]=Ht[Sl]=Ht[Ci]=Ht[xi]=Ht[ms]=Ht[_o]=Ht[Mi]=!0,Ht[be]=Ht[Re]=Ht[Kr]=Ht[Pe]=Ht[Dr]=Ht[yt]=Ht[$e]=Ht[Ze]=Ht[Ge]=Ht[tt]=Ht[dt]=Ht[cn]=Ht[en]=Ht[br]=Ht[ga]=!1;var jt={};jt[be]=jt[Re]=jt[Kr]=jt[Dr]=jt[Pe]=jt[yt]=jt[hs]=jt[so]=jt[lo]=jt[Sl]=jt[Ci]=jt[Ge]=jt[tt]=jt[dt]=jt[cn]=jt[en]=jt[br]=jt[wr]=jt[xi]=jt[ms]=jt[_o]=jt[Mi]=!0,jt[$e]=jt[Ze]=jt[ga]=!1;var bs={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Uu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},my={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},od=parseFloat,Vu=parseInt,zu=typeof Un=="object"&&Un&&Un.Object===Object&&Un,Zh=typeof self=="object"&&self&&self.Object===Object&&self,nn=zu||Zh||Function("return this")(),Nl=t&&!t.nodeType&&t,Ya=Nl&&!0&&e&&!e.nodeType&&e,id=Ya&&Ya.exports===Nl,ws=id&&zu.process,ur=function(){try{var ae=Ya&&Ya.require&&Ya.require("util").types;return ae||ws&&ws.binding&&ws.binding("util")}catch{}}(),sd=ur&&ur.isArrayBuffer,Sr=ur&&ur.isDate,Ai=ur&&ur.isMap,$u=ur&&ur.isRegExp,Ds=ur&&ur.isSet,Jh=ur&&ur.isTypedArray;function cr(ae,Ee,me){switch(me.length){case 0:return ae.call(Ee);case 1:return ae.call(Ee,me[0]);case 2:return ae.call(Ee,me[0],me[1]);case 3:return ae.call(Ee,me[0],me[1],me[2])}return ae.apply(Ee,me)}function ld(ae,Ee,me,We){for(var wt=-1,Ot=ae==null?0:ae.length;++wt<Ot;){var bn=ae[wt];Ee(We,bn,me(bn),ae)}return We}function Wn(ae,Ee){for(var me=-1,We=ae==null?0:ae.length;++me<We&&Ee(ae[me],me,ae)!==!1;);return ae}function Wu(ae,Ee){for(var me=ae==null?0:ae.length;me--&&Ee(ae[me],me,ae)!==!1;);return ae}function ud(ae,Ee){for(var me=-1,We=ae==null?0:ae.length;++me<We;)if(!Ee(ae[me],me,ae))return!1;return!0}function Vo(ae,Ee){for(var me=-1,We=ae==null?0:ae.length,wt=0,Ot=[];++me<We;){var bn=ae[me];Ee(bn,me,ae)&&(Ot[wt++]=bn)}return Ot}function qu(ae,Ee){var me=ae==null?0:ae.length;return!!me&&Ss(ae,Ee,0)>-1}function cd(ae,Ee,me){for(var We=-1,wt=ae==null?0:ae.length;++We<wt;)if(me(Ee,ae[We]))return!0;return!1}function Wt(ae,Ee){for(var me=-1,We=ae==null?0:ae.length,wt=Array(We);++me<We;)wt[me]=Ee(ae[me],me,ae);return wt}function zo(ae,Ee){for(var me=-1,We=Ee.length,wt=ae.length;++me<We;)ae[wt+me]=Ee[me];return ae}function fd(ae,Ee,me,We){var wt=-1,Ot=ae==null?0:ae.length;for(We&&Ot&&(me=ae[++wt]);++wt<Ot;)me=Ee(me,ae[wt],wt,ae);return me}function gy(ae,Ee,me,We){var wt=ae==null?0:ae.length;for(We&&wt&&(me=ae[--wt]);wt--;)me=Ee(me,ae[wt],wt,ae);return me}function dd(ae,Ee){for(var me=-1,We=ae==null?0:ae.length;++me<We;)if(Ee(ae[me],me,ae))return!0;return!1}var vy=hd("length");function Xh(ae){return ae.split("")}function yy(ae){return ae.match(Po)||[]}function em(ae,Ee,me){var We;return me(ae,function(wt,Ot,bn){if(Ee(wt,Ot,bn))return We=Ot,!1}),We}function Gu(ae,Ee,me,We){for(var wt=ae.length,Ot=me+(We?1:-1);We?Ot--:++Ot<wt;)if(Ee(ae[Ot],Ot,ae))return Ot;return-1}function Ss(ae,Ee,me){return Ee===Ee?Zu(ae,Ee,me):Gu(ae,tm,me)}function pd(ae,Ee,me,We){for(var wt=me-1,Ot=ae.length;++wt<Ot;)if(We(ae[wt],Ee))return wt;return-1}function tm(ae){return ae!==ae}function nm(ae,Ee){var me=ae==null?0:ae.length;return me?md(ae,Ee)/me:U}function hd(ae){return function(Ee){return Ee==null?n:Ee[ae]}}function Ku(ae){return function(Ee){return ae==null?n:ae[Ee]}}function rm(ae,Ee,me,We,wt){return wt(ae,function(Ot,bn,zt){me=We?(We=!1,Ot):Ee(me,Ot,bn,zt)}),me}function by(ae,Ee){var me=ae.length;for(ae.sort(Ee);me--;)ae[me]=ae[me].value;return ae}function md(ae,Ee){for(var me,We=-1,wt=ae.length;++We<wt;){var Ot=Ee(ae[We]);Ot!==n&&(me=me===n?Ot:me+Ot)}return me}function gd(ae,Ee){for(var me=-1,We=Array(ae);++me<ae;)We[me]=Ee(me);return We}function wy(ae,Ee){return Wt(Ee,function(me){return[me,ae[me]]})}function am(ae){return ae&&ae.slice(0,Ju(ae)+1).replace(El,"")}function Lr(ae){return function(Ee){return ae(Ee)}}function Fl(ae,Ee){return Wt(Ee,function(me){return ae[me]})}function uo(ae,Ee){return ae.has(Ee)}function om(ae,Ee){for(var me=-1,We=ae.length;++me<We&&Ss(Ee,ae[me],0)>-1;);return me}function vd(ae,Ee){for(var me=ae.length;me--&&Ss(Ee,ae[me],0)>-1;);return me}function im(ae,Ee){for(var me=ae.length,We=0;me--;)ae[me]===Ee&&++We;return We}var sm=Ku(bs),lm=Ku(Uu);function um(ae){return"\\"+my[ae]}function Es(ae,Ee){return ae==null?n:ae[Ee]}function Ts(ae){return Kh.test(ae)}function Dy(ae){return Hu.test(ae)}function Sy(ae){for(var Ee,me=[];!(Ee=ae.next()).done;)me.push(Ee.value);return me}function Qu(ae){var Ee=-1,me=Array(ae.size);return ae.forEach(function(We,wt){me[++Ee]=[wt,We]}),me}function yd(ae,Ee){return function(me){return ae(Ee(me))}}function Jr(ae,Ee){for(var me=-1,We=ae.length,wt=0,Ot=[];++me<We;){var bn=ae[me];(bn===Ee||bn===g)&&(ae[me]=g,Ot[wt++]=me)}return Ot}function $o(ae){var Ee=-1,me=Array(ae.size);return ae.forEach(function(We){me[++Ee]=We}),me}function Ey(ae){var Ee=-1,me=Array(ae.size);return ae.forEach(function(We){me[++Ee]=[We,We]}),me}function Zu(ae,Ee,me){for(var We=me-1,wt=ae.length;++We<wt;)if(ae[We]===Ee)return We;return-1}function Ty(ae,Ee,me){for(var We=me+1;We--;)if(ae[We]===Ee)return We;return We}function Oi(ae){return Ts(ae)?fm(ae):vy(ae)}function _r(ae){return Ts(ae)?dm(ae):Xh(ae)}function Ju(ae){for(var Ee=ae.length;Ee--&&Gt.test(ae.charAt(Ee)););return Ee}var cm=Ku(hy);function fm(ae){for(var Ee=Fi.lastIndex=0;Fi.test(ae);)++Ee;return Ee}function dm(ae){return ae.match(Fi)||[]}function Cy(ae){return ae.match(dy)||[]}var xy=function ae(Ee){Ee=Ee==null?nn:Cs.defaults(nn.Object(),Ee,Cs.pick(nn,Qh));var me=Ee.Array,We=Ee.Date,wt=Ee.Error,Ot=Ee.Function,bn=Ee.Math,zt=Ee.Object,Al=Ee.RegExp,My=Ee.String,Xr=Ee.TypeError,co=me.prototype,bd=Ot.prototype,Ha=zt.prototype,xs=Ee["__core-js_shared__"],Ol=bd.toString,Rt=Ha.hasOwnProperty,Ms=0,Xu=function(){var u=/[^.]+$/.exec(xs&&xs.keys&&xs.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Rl=Ha.toString,ec=Ol.call(zt),pm=nn._,hm=Al("^"+Ol.call(Rt).replace(lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ll=id?Ee.Buffer:n,fo=Ee.Symbol,_l=Ee.Uint8Array,wd=Ll?Ll.allocUnsafe:n,Da=yd(zt.getPrototypeOf,zt),tc=zt.create,nc=Ha.propertyIsEnumerable,rc=co.splice,mm=fo?fo.isConcatSpreadable:n,po=fo?fo.iterator:n,Ri=fo?fo.toStringTag:n,Pl=function(){try{var u=bo(zt,"defineProperty");return u({},"",{}),u}catch{}}(),gm=Ee.clearTimeout!==nn.clearTimeout&&Ee.clearTimeout,Kt=We&&We.now!==nn.Date.now&&We.now,Dd=Ee.setTimeout!==nn.setTimeout&&Ee.setTimeout,Li=bn.ceil,Wo=bn.floor,ac=zt.getOwnPropertySymbols,Sd=Ll?Ll.isBuffer:n,ks=Ee.isFinite,oc=co.join,Is=yd(zt.keys,zt),wn=bn.max,qn=bn.min,ky=We.now,vm=Ee.parseInt,jl=bn.random,ic=co.reverse,Bl=bo(Ee,"DataView"),_i=bo(Ee,"Map"),Yl=bo(Ee,"Promise"),qo=bo(Ee,"Set"),Hl=bo(Ee,"WeakMap"),Ns=bo(zt,"create"),sc=Hl&&new Hl,Fs={},Ed=si(Bl),Go=si(_i),ym=si(Yl),As=si(qo),Ua=si(Hl),Ko=fo?fo.prototype:n,Pr=Ko?Ko.valueOf:n,lc=Ko?Ko.toString:n;function Y(u){if(Sn(u)&&!Tt(u)&&!(u instanceof St)){if(u instanceof Gn)return u;if(Rt.call(u,"__wrapped__"))return np(u)}return new Gn(u)}var Os=function(){function u(){}return function(f){if(!vn(f))return{};if(tc)return tc(f);u.prototype=f;var y=new u;return u.prototype=n,y}}();function Va(){}function Gn(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}Y.templateSettings={escape:mt,evaluate:Yt,interpolate:xn,variable:"",imports:{_:Y}},Y.prototype=Va.prototype,Y.prototype.constructor=Y,Gn.prototype=Os(Va.prototype),Gn.prototype.constructor=Gn;function St(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function uc(){var u=new St(this.__wrapped__);return u.__actions__=pr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=pr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=pr(this.__views__),u}function Td(){if(this.__filtered__){var u=new St(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Rs(){var u=this.__wrapped__.value(),f=this.__dir__,y=Tt(u),x=f<0,L=y?u.length:0,H=Um(0,L,this.__views__),K=H.start,te=H.end,se=te-K,ke=x?te:K-1,Ie=this.__iteratees__,Oe=Ie.length,Ve=0,at=qn(se,this.__takeCount__);if(!y||!x&&L==se&&at==se)return _d(u,this.__actions__);var gt=[];e:for(;se--&&Ve<at;){ke+=f;for(var xt=-1,vt=u[ke];++xt<Oe;){var Mt=Ie[xt],At=Mt.iteratee,Fa=Mt.type,zr=At(vt);if(Fa==fe)vt=zr;else if(!zr){if(Fa==de)continue e;break e}}gt[Ve++]=vt}return gt}St.prototype=Os(Va.prototype),St.prototype.constructor=St;function Er(u){var f=-1,y=u==null?0:u.length;for(this.clear();++f<y;){var x=u[f];this.set(x[0],x[1])}}function Qt(){this.__data__=Ns?Ns(null):{},this.size=0}function qt(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f}function Qo(u){var f=this.__data__;if(Ns){var y=f[u];return y===d?n:y}return Rt.call(f,u)?f[u]:n}function Kn(u){var f=this.__data__;return Ns?f[u]!==n:Rt.call(f,u)}function Tr(u,f){var y=this.__data__;return this.size+=this.has(u)?0:1,y[u]=Ns&&f===n?d:f,this}Er.prototype.clear=Qt,Er.prototype.delete=qt,Er.prototype.get=Qo,Er.prototype.has=Kn,Er.prototype.set=Tr;function fr(u){var f=-1,y=u==null?0:u.length;for(this.clear();++f<y;){var x=u[f];this.set(x[0],x[1])}}function Ls(){this.__data__=[],this.size=0}function Cr(u){var f=this.__data__,y=Zn(f,u);if(y<0)return!1;var x=f.length-1;return y==x?f.pop():rc.call(f,y,1),--this.size,!0}function cc(u){var f=this.__data__,y=Zn(f,u);return y<0?n:f[y][1]}function bm(u){return Zn(this.__data__,u)>-1}function wm(u,f){var y=this.__data__,x=Zn(y,u);return x<0?(++this.size,y.push([u,f])):y[x][1]=f,this}fr.prototype.clear=Ls,fr.prototype.delete=Cr,fr.prototype.get=cc,fr.prototype.has=bm,fr.prototype.set=wm;function ea(u){var f=-1,y=u==null?0:u.length;for(this.clear();++f<y;){var x=u[f];this.set(x[0],x[1])}}function Dm(){this.size=0,this.__data__={hash:new Er,map:new(_i||fr),string:new Er}}function ho(u){var f=Pc(this,u).delete(u);return this.size-=f?1:0,f}function fc(u){return Pc(this,u).get(u)}function Cd(u){return Pc(this,u).has(u)}function Sm(u,f){var y=Pc(this,u),x=y.size;return y.set(u,f),this.size+=y.size==x?0:1,this}ea.prototype.clear=Dm,ea.prototype.delete=ho,ea.prototype.get=fc,ea.prototype.has=Cd,ea.prototype.set=Sm;function Pi(u){var f=-1,y=u==null?0:u.length;for(this.__data__=new ea;++f<y;)this.add(u[f])}function Zo(u){return this.__data__.set(u,d),this}function _s(u){return this.__data__.has(u)}Pi.prototype.add=Pi.prototype.push=Zo,Pi.prototype.has=_s;function Qn(u){var f=this.__data__=new fr(u);this.size=f.size}function dc(){this.__data__=new fr,this.size=0}function pc(u){var f=this.__data__,y=f.delete(u);return this.size=f.size,y}function ta(u){return this.__data__.get(u)}function na(u){return this.__data__.has(u)}function ji(u,f){var y=this.__data__;if(y instanceof fr){var x=y.__data__;if(!_i||x.length<a-1)return x.push([u,f]),this.size=++y.size,this;y=this.__data__=new ea(x)}return y.set(u,f),this.size=y.size,this}Qn.prototype.clear=dc,Qn.prototype.delete=pc,Qn.prototype.get=ta,Qn.prototype.has=na,Qn.prototype.set=ji;function za(u,f){var y=Tt(u),x=!y&&du(u),L=!y&&!x&&Xs(u),H=!y&&!x&&!L&&sf(u),K=y||x||L||H,te=K?gd(u.length,My):[],se=te.length;for(var ke in u)(f||Rt.call(u,ke))&&!(K&&(ke=="length"||L&&(ke=="offset"||ke=="parent")||H&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||aa(ke,se)))&&te.push(ke);return te}function $a(u){var f=u.length;return f?u[Kl(0,f-1)]:n}function Bi(u,f){return Hr(pr(u),mo(f,0,u.length))}function Em(u){return Hr(pr(u))}function Ul(u,f,y){(y!==n&&!So(u[f],y)||y===n&&!(f in u))&&Wa(u,f,y)}function Yi(u,f,y){var x=u[f];(!(Rt.call(u,f)&&So(x,y))||y===n&&!(f in u))&&Wa(u,f,y)}function Zn(u,f){for(var y=u.length;y--;)if(So(u[y][0],f))return y;return-1}function jr(u,f,y,x){return Ga(u,function(L,H,K){f(x,L,y(L),K)}),x}function Zt(u,f){return u&&Ma(f,ar(f),u)}function Sa(u,f){return u&&Ma(f,la(f),u)}function Wa(u,f,y){f=="__proto__"&&Pl?Pl(u,f,{configurable:!0,enumerable:!0,value:y,writable:!0}):u[f]=y}function hc(u,f){for(var y=-1,x=f.length,L=me(x),H=u==null;++y<x;)L[y]=H?n:Zy(u,f[y]);return L}function mo(u,f,y){return u===u&&(y!==n&&(u=u<=y?u:y),f!==n&&(u=u>=f?u:f)),u}function xr(u,f,y,x,L,H){var K,te=f&m,se=f&w,ke=f&b;if(y&&(K=L?y(u,x,L,H):y(u)),K!==n)return K;if(!vn(u))return u;var Ie=Tt(u);if(Ie){if(K=Vm(u),!te)return pr(u,K)}else{var Oe=tr(u),Ve=Oe==Ze||Oe==Xe;if(Xs(u))return jd(u,te);if(Oe==dt||Oe==be||Ve&&!L){if(K=se||Ve?{}:qs(u),!te)return se?Ny(u,Sa(K,u)):Om(u,Zt(K,u))}else{if(!jt[Oe])return L?u:{};K=nr(u,Oe,te)}}H||(H=new Qn);var at=H.get(u);if(at)return at;H.set(u,K),aw(u)?u.forEach(function(vt){K.add(xr(vt,f,y,vt,u,H))}):nw(u)&&u.forEach(function(vt,Mt){K.set(Mt,xr(vt,f,y,Mt,u,H))});var gt=ke?se?nu:_c:se?la:ar,xt=Ie?n:gt(u);return Wn(xt||u,function(vt,Mt){xt&&(Mt=vt,vt=u[Mt]),Yi(K,Mt,xr(vt,f,y,Mt,u,H))}),K}function Tm(u){var f=ar(u);return function(y){return Vl(y,u,f)}}function Vl(u,f,y){var x=y.length;if(u==null)return!x;for(u=zt(u);x--;){var L=y[x],H=f[L],K=u[L];if(K===n&&!(L in u)||!H(K))return!1}return!0}function xd(u,f,y){if(typeof u!="function")throw new Xr(s);return Ks(function(){u.apply(n,y)},f)}function qa(u,f,y,x){var L=-1,H=qu,K=!0,te=u.length,se=[],ke=f.length;if(!te)return se;y&&(f=Wt(f,Lr(y))),x?(H=cd,K=!1):f.length>=a&&(H=uo,K=!1,f=new Pi(f));e:for(;++L<te;){var Ie=u[L],Oe=y==null?Ie:y(Ie);if(Ie=x||Ie!==0?Ie:0,K&&Oe===Oe){for(var Ve=ke;Ve--;)if(f[Ve]===Oe)continue e;se.push(Ie)}else H(f,Oe,x)||se.push(Ie)}return se}var Ga=Rm(ra),Cm=Rm(Jo,!0);function Ea(u,f){var y=!0;return Ga(u,function(x,L,H){return y=!!f(x,L,H),y}),y}function Hi(u,f,y){for(var x=-1,L=u.length;++x<L;){var H=u[x],K=f(H);if(K!=null&&(te===n?K===K&&!Na(K):y(K,te)))var te=K,se=H}return se}function mc(u,f,y,x){var L=u.length;for(y=Ct(y),y<0&&(y=-y>L?0:L+y),x=x===n||x>L?L:Ct(x),x<0&&(x+=L),x=y>x?0:iw(x);y<x;)u[y++]=f;return u}function Ui(u,f){var y=[];return Ga(u,function(x,L,H){f(x,L,H)&&y.push(x)}),y}function kn(u,f,y,x,L){var H=-1,K=u.length;for(y||(y=Oy),L||(L=[]);++H<K;){var te=u[H];f>0&&y(te)?f>1?kn(te,f-1,y,x,L):zo(L,te):x||(L[L.length]=te)}return L}var zl=Vd(),gc=Vd(!0);function ra(u,f){return u&&zl(u,f,ar)}function Jo(u,f){return u&&gc(u,f,ar)}function dr(u,f){return Vo(f,function(y){return Qi(u[y])})}function Br(u,f){f=go(f,u);for(var y=0,x=f.length;u!=null&&y<x;)u=u[ka(f[y++])];return y&&y==x?u:n}function vc(u,f,y){var x=f(u);return Tt(u)?x:zo(x,y(u))}function Jn(u){return u==null?u===n?Lo:Dt:Ri&&Ri in zt(u)?Hm(u):qm(u)}function Ta(u,f){return u>f}function Xo(u,f){return u!=null&&Rt.call(u,f)}function Md(u,f){return u!=null&&f in zt(u)}function xm(u,f,y){return u>=qn(f,y)&&u<wn(f,y)}function Ca(u,f,y){for(var x=y?cd:qu,L=u[0].length,H=u.length,K=H,te=me(H),se=1/0,ke=[];K--;){var Ie=u[K];K&&f&&(Ie=Wt(Ie,Lr(f))),se=qn(Ie.length,se),te[K]=!y&&(f||L>=120&&Ie.length>=120)?new Pi(K&&Ie):n}Ie=u[0];var Oe=-1,Ve=te[0];e:for(;++Oe<L&&ke.length<se;){var at=Ie[Oe],gt=f?f(at):at;if(at=y||at!==0?at:0,!(Ve?uo(Ve,gt):x(ke,gt,y))){for(K=H;--K;){var xt=te[K];if(!(xt?uo(xt,gt):x(u[K],gt,y)))continue e}Ve&&Ve.push(gt),ke.push(at)}}return ke}function ei(u,f,y,x){return ra(u,function(L,H,K){f(x,y(L),H,K)}),x}function ti(u,f,y){f=go(f,u),u=Yc(u,f);var x=u==null?u:u[ka(On(f))];return x==null?n:cr(x,u,y)}function kd(u){return Sn(u)&&Jn(u)==be}function yc(u){return Sn(u)&&Jn(u)==Kr}function Mm(u){return Sn(u)&&Jn(u)==yt}function Ps(u,f,y,x,L){return u===f?!0:u==null||f==null||!Sn(u)&&!Sn(f)?u!==u&&f!==f:Id(u,f,y,x,Ps,L)}function Id(u,f,y,x,L,H){var K=Tt(u),te=Tt(f),se=K?Re:tr(u),ke=te?Re:tr(f);se=se==be?dt:se,ke=ke==be?dt:ke;var Ie=se==dt,Oe=ke==dt,Ve=se==ke;if(Ve&&Xs(u)){if(!Xs(f))return!1;K=!0,Ie=!1}if(Ve&&!Ie)return H||(H=new Qn),K||sf(u)?Lc(u,f,y,x,L,H):Ym(u,f,se,y,x,L,H);if(!(y&T)){var at=Ie&&Rt.call(u,"__wrapped__"),gt=Oe&&Rt.call(f,"__wrapped__");if(at||gt){var xt=at?u.value():u,vt=gt?f.value():f;return H||(H=new Qn),L(xt,vt,y,x,H)}}return Ve?(H||(H=new Qn),Kd(u,f,y,x,L,H)):!1}function bc(u){return Sn(u)&&tr(u)==Ge}function wc(u,f,y,x){var L=y.length,H=L,K=!x;if(u==null)return!H;for(u=zt(u);L--;){var te=y[L];if(K&&te[2]?te[1]!==u[te[0]]:!(te[0]in u))return!1}for(;++L<H;){te=y[L];var se=te[0],ke=u[se],Ie=te[1];if(K&&te[2]){if(ke===n&&!(se in u))return!1}else{var Oe=new Qn;if(x)var Ve=x(ke,Ie,se,u,f,Oe);if(!(Ve===n?Ps(Ie,ke,T|E,x,Oe):Ve))return!1}}return!0}function Nd(u){if(!vn(u)||Xd(u))return!1;var f=Qi(u)?hm:_h;return f.test(si(u))}function km(u){return Sn(u)&&Jn(u)==cn}function Fd(u){return Sn(u)&&tr(u)==en}function $l(u){return Sn(u)&&ug(u.length)&&!!Ht[Jn(u)]}function Wl(u){return typeof u=="function"?u:u==null?ua:typeof u=="object"?Tt(u)?xa(u[0],u[1]):js(u):vw(u)}function Dc(u){if(!ou(u))return Is(u);var f=[];for(var y in zt(u))Rt.call(u,y)&&y!="constructor"&&f.push(y);return f}function Im(u){if(!vn(u))return Wm(u);var f=ou(u),y=[];for(var x in u)x=="constructor"&&(f||!Rt.call(u,x))||y.push(x);return y}function ni(u,f){return u<f}function Ad(u,f){var y=-1,x=sa(u)?me(u.length):[];return Ga(u,function(L,H,K){x[++y]=f(L,H,K)}),x}function js(u){var f=jc(u);return f.length==1&&f[0][2]?iu(f[0][0],f[0][1]):function(y){return y===u||wc(y,u,f)}}function xa(u,f){return Jd(u)&&Gs(f)?iu(ka(u),f):function(y){var x=Zy(y,u);return x===n&&x===f?Jy(y,u):Ps(f,x,T|E)}}function ri(u,f,y,x,L){u!==f&&zl(f,function(H,K){if(L||(L=new Qn),vn(H))ql(u,f,K,y,ri,x,L);else{var te=x?x(Yr(u,K),H,K+"",u,f,L):n;te===n&&(te=H),Ul(u,K,te)}},la)}function ql(u,f,y,x,L,H,K){var te=Yr(u,y),se=Yr(f,y),ke=K.get(se);if(ke){Ul(u,y,ke);return}var Ie=H?H(te,se,y+"",u,f,K):n,Oe=Ie===n;if(Oe){var Ve=Tt(se),at=!Ve&&Xs(se),gt=!Ve&&!at&&sf(se);Ie=se,Ve||at||gt?Tt(te)?Ie=te:Rn(te)?Ie=pr(te):at?(Oe=!1,Ie=jd(se,!0)):gt?(Oe=!1,Ie=Yd(se,!0)):Ie=[]:wp(se)||du(se)?(Ie=te,du(te)?Ie=sw(te):(!vn(te)||Qi(te))&&(Ie=qs(se))):Oe=!1}Oe&&(K.set(se,Ie),L(Ie,se,x,H,K),K.delete(se)),Ul(u,y,Ie)}function ai(u,f){var y=u.length;if(y)return f+=f<0?y:0,aa(f,y)?u[f]:n}function Sc(u,f,y){f.length?f=Wt(f,function(H){return Tt(H)?function(K){return Br(K,H.length===1?H[0]:H)}:H}):f=[ua];var x=-1;f=Wt(f,Lr(st()));var L=Ad(u,function(H,K,te){var se=Wt(f,function(ke){return ke(H)});return{criteria:se,index:++x,value:H}});return by(L,function(H,K){return Am(H,K,y)})}function Bs(u,f){return Od(u,f,function(y,x){return Jy(u,x)})}function Od(u,f,y){for(var x=-1,L=f.length,H={};++x<L;){var K=f[x],te=Br(u,K);y(te,K)&&on(H,go(K,u),te)}return H}function Rd(u){return function(f){return Br(f,u)}}function Jt(u,f,y,x){var L=x?pd:Ss,H=-1,K=f.length,te=u;for(u===f&&(f=pr(f)),y&&(te=Wt(u,Lr(y)));++H<K;)for(var se=0,ke=f[H],Ie=y?y(ke):ke;(se=L(te,Ie,se,x))>-1;)te!==u&&rc.call(te,se,1),rc.call(u,se,1);return u}function Gl(u,f){for(var y=u?f.length:0,x=y-1;y--;){var L=f[y];if(y==x||L!==H){var H=L;aa(L)?rc.call(u,L,1):zi(u,L)}}return u}function Kl(u,f){return u+Wo(jl()*(f-u+1))}function Ld(u,f,y,x){for(var L=-1,H=wn(Li((f-u)/(y||1)),0),K=me(H);H--;)K[x?H:++L]=u,u+=y;return K}function Ys(u,f){var y="";if(!u||f<1||f>pe)return y;do f%2&&(y+=u),f=Wo(f/2),f&&(u+=u);while(f);return y}function Et(u,f){return Hc(Bc(u,f,ua),u+"")}function Vi(u){return $a(lf(u))}function an(u,f){var y=lf(u);return Hr(y,mo(f,0,y.length))}function on(u,f,y,x){if(!vn(u))return u;f=go(f,u);for(var L=-1,H=f.length,K=H-1,te=u;te!=null&&++L<H;){var se=ka(f[L]),ke=y;if(se==="__proto__"||se==="constructor"||se==="prototype")return u;if(L!=K){var Ie=te[se];ke=x?x(Ie,se,te):n,ke===n&&(ke=vn(Ie)?Ie:aa(f[L+1])?[]:{})}Yi(te,se,ke),te=te[se]}return u}var In=sc?function(u,f){return sc.set(u,f),u}:ua,Ec=Pl?function(u,f){return Pl(u,"toString",{configurable:!0,enumerable:!1,value:e0(f),writable:!0})}:ua;function Ql(u){return Hr(lf(u))}function Xn(u,f,y){var x=-1,L=u.length;f<0&&(f=-f>L?0:L+f),y=y>L?L:y,y<0&&(y+=L),L=f>y?0:y-f>>>0,f>>>=0;for(var H=me(L);++x<L;)H[x]=u[x+f];return H}function Iy(u,f){var y;return Ga(u,function(x,L,H){return y=f(x,L,H),!y}),!!y}function Nn(u,f,y){var x=0,L=u==null?x:u.length;if(typeof f=="number"&&f===f&&L<=ye){for(;x<L;){var H=x+L>>>1,K=u[H];K!==null&&!Na(K)&&(y?K<=f:K<f)?x=H+1:L=H}return L}return Zl(u,f,ua,y)}function Zl(u,f,y,x){var L=0,H=u==null?0:u.length;if(H===0)return 0;f=y(f);for(var K=f!==f,te=f===null,se=Na(f),ke=f===n;L<H;){var Ie=Wo((L+H)/2),Oe=y(u[Ie]),Ve=Oe!==n,at=Oe===null,gt=Oe===Oe,xt=Na(Oe);if(K)var vt=x||gt;else ke?vt=gt&&(x||Ve):te?vt=gt&&Ve&&(x||!at):se?vt=gt&&Ve&&!at&&(x||!xt):at||xt?vt=!1:vt=x?Oe<=f:Oe<f;vt?L=Ie+1:H=Ie}return qn(H,ie)}function Tc(u,f){for(var y=-1,x=u.length,L=0,H=[];++y<x;){var K=u[y],te=f?f(K):K;if(!y||!So(te,se)){var se=te;H[L++]=K===0?0:K}}return H}function Cc(u){return typeof u=="number"?u:Na(u)?U:+u}function fn(u){if(typeof u=="string")return u;if(Tt(u))return Wt(u,fn)+"";if(Na(u))return lc?lc.call(u):"";var f=u+"";return f=="0"&&1/u==-xe?"-0":f}function Fn(u,f,y){var x=-1,L=qu,H=u.length,K=!0,te=[],se=te;if(y)K=!1,L=cd;else if(H>=a){var ke=f?null:hr(u);if(ke)return $o(ke);K=!1,L=uo,se=new Pi}else se=f?[]:te;e:for(;++x<H;){var Ie=u[x],Oe=f?f(Ie):Ie;if(Ie=y||Ie!==0?Ie:0,K&&Oe===Oe){for(var Ve=se.length;Ve--;)if(se[Ve]===Oe)continue e;f&&se.push(Oe),te.push(Ie)}else L(se,Oe,y)||(se!==te&&se.push(Oe),te.push(Ie))}return te}function zi(u,f){return f=go(f,u),u=Yc(u,f),u==null||delete u[ka(On(f))]}function xc(u,f,y,x){return on(u,f,y(Br(u,f)),x)}function Hs(u,f,y,x){for(var L=u.length,H=x?L:-1;(x?H--:++H<L)&&f(u[H],H,u););return y?Xn(u,x?0:H,x?H+1:L):Xn(u,x?H+1:0,x?L:H)}function _d(u,f){var y=u;return y instanceof St&&(y=y.value()),fd(f,function(x,L){return L.func.apply(L.thisArg,zo([x],L.args))},y)}function Mc(u,f,y){var x=u.length;if(x<2)return x?Fn(u[0]):[];for(var L=-1,H=me(x);++L<x;)for(var K=u[L],te=-1;++te<x;)te!=L&&(H[L]=qa(H[L]||K,u[te],f,y));return Fn(kn(H,1),f,y)}function Pd(u,f,y){for(var x=-1,L=u.length,H=f.length,K={};++x<L;){var te=x<H?f[x]:n;y(K,u[x],te)}return K}function kc(u){return Rn(u)?u:[]}function Ic(u){return typeof u=="function"?u:ua}function go(u,f){return Tt(u)?u:Jd(u,f)?[u]:Gm($t(u))}var Nm=Et;function vo(u,f,y){var x=u.length;return y=y===n?x:y,!f&&y>=x?u:Xn(u,f,y)}var Us=gm||function(u){return nn.clearTimeout(u)};function jd(u,f){if(f)return u.slice();var y=u.length,x=wd?wd(y):new u.constructor(y);return u.copy(x),x}function Vs(u){var f=new u.constructor(u.byteLength);return new _l(f).set(new _l(u)),f}function Nc(u,f){var y=f?Vs(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.byteLength)}function Fm(u){var f=new u.constructor(u.source,Jf.exec(u));return f.lastIndex=u.lastIndex,f}function Bd(u){return Pr?zt(Pr.call(u)):{}}function Yd(u,f){var y=f?Vs(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.length)}function Hd(u,f){if(u!==f){var y=u!==n,x=u===null,L=u===u,H=Na(u),K=f!==n,te=f===null,se=f===f,ke=Na(f);if(!te&&!ke&&!H&&u>f||H&&K&&se&&!te&&!ke||x&&K&&se||!y&&se||!L)return 1;if(!x&&!H&&!ke&&u<f||ke&&y&&L&&!x&&!H||te&&y&&L||!K&&L||!se)return-1}return 0}function Am(u,f,y){for(var x=-1,L=u.criteria,H=f.criteria,K=L.length,te=y.length;++x<K;){var se=Hd(L[x],H[x]);if(se){if(x>=te)return se;var ke=y[x];return se*(ke=="desc"?-1:1)}}return u.index-f.index}function Ud(u,f,y,x){for(var L=-1,H=u.length,K=y.length,te=-1,se=f.length,ke=wn(H-K,0),Ie=me(se+ke),Oe=!x;++te<se;)Ie[te]=f[te];for(;++L<K;)(Oe||L<H)&&(Ie[y[L]]=u[L]);for(;ke--;)Ie[te++]=u[L++];return Ie}function Fc(u,f,y,x){for(var L=-1,H=u.length,K=-1,te=y.length,se=-1,ke=f.length,Ie=wn(H-te,0),Oe=me(Ie+ke),Ve=!x;++L<Ie;)Oe[L]=u[L];for(var at=L;++se<ke;)Oe[at+se]=f[se];for(;++K<te;)(Ve||L<H)&&(Oe[at+y[K]]=u[L++]);return Oe}function pr(u,f){var y=-1,x=u.length;for(f||(f=me(x));++y<x;)f[y]=u[y];return f}function Ma(u,f,y,x){var L=!y;y||(y={});for(var H=-1,K=f.length;++H<K;){var te=f[H],se=x?x(y[te],u[te],te,y,u):n;se===n&&(se=u[te]),L?Wa(y,te,se):Yi(y,te,se)}return y}function Om(u,f){return Ma(u,Ws(u),f)}function Ny(u,f){return Ma(u,Za(u),f)}function Jl(u,f){return function(y,x){var L=Tt(y)?ld:jr,H=f?f():{};return L(y,u,st(x,2),H)}}function zs(u){return Et(function(f,y){var x=-1,L=y.length,H=L>1?y[L-1]:n,K=L>2?y[2]:n;for(H=u.length>3&&typeof H=="function"?(L--,H):n,K&&Bt(y[0],y[1],K)&&(H=L<3?n:H,L=1),f=zt(f);++x<L;){var te=y[x];te&&u(f,te,x,H)}return f})}function Rm(u,f){return function(y,x){if(y==null)return y;if(!sa(y))return u(y,x);for(var L=y.length,H=f?L:-1,K=zt(y);(f?H--:++H<L)&&x(K[H],H,K)!==!1;);return y}}function Vd(u){return function(f,y,x){for(var L=-1,H=zt(f),K=x(f),te=K.length;te--;){var se=K[u?te:++L];if(y(H[se],se,H)===!1)break}return f}}function Lm(u,f,y){var x=f&k,L=Xl(u);function H(){var K=this&&this!==nn&&this instanceof H?L:u;return K.apply(x?y:this,arguments)}return H}function zd(u){return function(f){f=$t(f);var y=Ts(f)?_r(f):n,x=y?y[0]:f.charAt(0),L=y?vo(y,1).join(""):f.slice(1);return x[u]()+L}}function yo(u){return function(f){return fd(mw(hw(f).replace(fy,"")),u,"")}}function Xl(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var y=Os(u.prototype),x=u.apply(y,f);return vn(x)?x:y}}function Fy(u,f,y){var x=Xl(u);function L(){for(var H=arguments.length,K=me(H),te=H,se=oi(L);te--;)K[te]=arguments[te];var ke=H<3&&K[0]!==se&&K[H-1]!==se?[]:Jr(K,se);if(H-=ke.length,H<y)return jm(u,f,$s,L.placeholder,n,K,ke,n,n,y-H);var Ie=this&&this!==nn&&this instanceof L?x:u;return cr(Ie,this,K)}return L}function _m(u){return function(f,y,x){var L=zt(f);if(!sa(f)){var H=st(y,3);f=ar(f),y=function(te){return H(L[te],te,L)}}var K=u(f,y,x);return K>-1?L[H?f[K]:K]:n}}function $i(u){return Qa(function(f){var y=f.length,x=y,L=Gn.prototype.thru;for(u&&f.reverse();x--;){var H=f[x];if(typeof H!="function")throw new Xr(s);if(L&&!K&&au(H)=="wrapper")var K=new Gn([],!0)}for(x=K?x:y;++x<y;){H=f[x];var te=au(H),se=te=="wrapper"?ru(H):n;se&&ii(se[0])&&se[1]==(j|B|P|$)&&!se[4].length&&se[9]==1?K=K[au(se[0])].apply(K,se[3]):K=H.length==1&&ii(H)?K[te]():K.thru(H)}return function(){var ke=arguments,Ie=ke[0];if(K&&ke.length==1&&Tt(Ie))return K.plant(Ie).value();for(var Oe=0,Ve=y?f[Oe].apply(this,ke):Ie;++Oe<y;)Ve=f[Oe].call(this,Ve);return Ve}})}function $s(u,f,y,x,L,H,K,te,se,ke){var Ie=f&j,Oe=f&k,Ve=f&M,at=f&(B|N),gt=f&W,xt=Ve?n:Xl(u);function vt(){for(var Mt=arguments.length,At=me(Mt),Fa=Mt;Fa--;)At[Fa]=arguments[Fa];if(at)var zr=oi(vt),Aa=im(At,zr);if(x&&(At=Ud(At,x,L,at)),H&&(At=Fc(At,H,K,at)),Mt-=Aa,at&&Mt<ke){var Ln=Jr(At,zr);return jm(u,f,$s,vt.placeholder,y,At,Ln,te,se,ke-Mt)}var Eo=Oe?y:this,Ji=Ve?Eo[u]:u;return Mt=At.length,te?At=Yn(At,te):gt&&Mt>1&&At.reverse(),Ie&&se<Mt&&(At.length=se),this&&this!==nn&&this instanceof vt&&(Ji=xt||Xl(Ji)),Ji.apply(Eo,At)}return vt}function Ac(u,f){return function(y,x){return ei(y,u,f(x),{})}}function Oc(u,f){return function(y,x){var L;if(y===n&&x===n)return f;if(y!==n&&(L=y),x!==n){if(L===n)return x;typeof y=="string"||typeof x=="string"?(y=fn(y),x=fn(x)):(y=Cc(y),x=Cc(x)),L=u(y,x)}return L}}function Rc(u){return Qa(function(f){return f=Wt(f,Lr(st())),Et(function(y){var x=this;return u(f,function(L){return cr(L,x,y)})})})}function eu(u,f){f=f===n?" ":fn(f);var y=f.length;if(y<2)return y?Ys(f,u):f;var x=Ys(f,Li(u/Oi(f)));return Ts(f)?vo(_r(x),0,u).join(""):x.slice(0,u)}function Pm(u,f,y,x){var L=f&k,H=Xl(u);function K(){for(var te=-1,se=arguments.length,ke=-1,Ie=x.length,Oe=me(Ie+se),Ve=this&&this!==nn&&this instanceof K?H:u;++ke<Ie;)Oe[ke]=x[ke];for(;se--;)Oe[ke++]=arguments[++te];return cr(Ve,L?y:this,Oe)}return K}function $d(u){return function(f,y,x){return x&&typeof x!="number"&&Bt(f,y,x)&&(y=x=n),f=Zi(f),y===n?(y=f,f=0):y=Zi(y),x=x===n?f<y?1:-1:Zi(x),Ld(f,y,x,u)}}function tu(u){return function(f,y){return typeof f=="string"&&typeof y=="string"||(f=Ja(f),y=Ja(y)),u(f,y)}}function jm(u,f,y,x,L,H,K,te,se,ke){var Ie=f&B,Oe=Ie?K:n,Ve=Ie?n:K,at=Ie?H:n,gt=Ie?n:H;f|=Ie?P:R,f&=~(Ie?R:P),f&F||(f&=~(k|M));var xt=[u,f,L,at,Oe,gt,Ve,te,se,ke],vt=y.apply(n,xt);return ii(u)&&wo(vt,xt),vt.placeholder=x,oa(vt,u,f)}function er(u){var f=bn[u];return function(y,x){if(y=Ja(y),x=x==null?0:qn(Ct(x),292),x&&ks(y)){var L=($t(y)+"e").split("e"),H=f(L[0]+"e"+(+L[1]+x));return L=($t(H)+"e").split("e"),+(L[0]+"e"+(+L[1]-x))}return f(y)}}var hr=qo&&1/$o(new qo([,-0]))[1]==xe?function(u){return new qo(u)}:r0;function Wd(u){return function(f){var y=tr(f);return y==Ge?Qu(f):y==en?Ey(f):wy(f,u(f))}}function Ka(u,f,y,x,L,H,K,te){var se=f&M;if(!se&&typeof u!="function")throw new Xr(s);var ke=x?x.length:0;if(ke||(f&=~(P|R),x=L=n),K=K===n?K:wn(Ct(K),0),te=te===n?te:Ct(te),ke-=L?L.length:0,f&R){var Ie=x,Oe=L;x=L=n}var Ve=se?n:ru(u),at=[u,f,y,x,L,Ie,Oe,H,K,te];if(Ve&&$m(at,Ve),u=at[0],f=at[1],y=at[2],x=at[3],L=at[4],te=at[9]=at[9]===n?se?0:u.length:wn(at[9]-ke,0),!te&&f&(B|N)&&(f&=~(B|N)),!f||f==k)var gt=Lm(u,f,y);else f==B||f==N?gt=Fy(u,f,te):(f==P||f==(k|P))&&!L.length?gt=Pm(u,f,y,x):gt=$s.apply(n,at);var xt=Ve?In:wo;return oa(xt(gt,at),u,f)}function qd(u,f,y,x){return u===n||So(u,Ha[y])&&!Rt.call(x,y)?f:u}function Gd(u,f,y,x,L,H){return vn(u)&&vn(f)&&(H.set(f,u),ri(u,f,n,Gd,H),H.delete(f)),u}function Bm(u){return wp(u)?n:u}function Lc(u,f,y,x,L,H){var K=y&T,te=u.length,se=f.length;if(te!=se&&!(K&&se>te))return!1;var ke=H.get(u),Ie=H.get(f);if(ke&&Ie)return ke==f&&Ie==u;var Oe=-1,Ve=!0,at=y&E?new Pi:n;for(H.set(u,f),H.set(f,u);++Oe<te;){var gt=u[Oe],xt=f[Oe];if(x)var vt=K?x(xt,gt,Oe,f,u,H):x(gt,xt,Oe,u,f,H);if(vt!==n){if(vt)continue;Ve=!1;break}if(at){if(!dd(f,function(Mt,At){if(!uo(at,At)&&(gt===Mt||L(gt,Mt,y,x,H)))return at.push(At)})){Ve=!1;break}}else if(!(gt===xt||L(gt,xt,y,x,H))){Ve=!1;break}}return H.delete(u),H.delete(f),Ve}function Ym(u,f,y,x,L,H,K){switch(y){case Dr:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case Kr:return!(u.byteLength!=f.byteLength||!H(new _l(u),new _l(f)));case Pe:case yt:case tt:return So(+u,+f);case $e:return u.name==f.name&&u.message==f.message;case cn:case br:return u==f+"";case Ge:var te=Qu;case en:var se=x&T;if(te||(te=$o),u.size!=f.size&&!se)return!1;var ke=K.get(u);if(ke)return ke==f;x|=E,K.set(u,f);var Ie=Lc(te(u),te(f),x,L,H,K);return K.delete(u),Ie;case wr:if(Pr)return Pr.call(u)==Pr.call(f)}return!1}function Kd(u,f,y,x,L,H){var K=y&T,te=_c(u),se=te.length,ke=_c(f),Ie=ke.length;if(se!=Ie&&!K)return!1;for(var Oe=se;Oe--;){var Ve=te[Oe];if(!(K?Ve in f:Rt.call(f,Ve)))return!1}var at=H.get(u),gt=H.get(f);if(at&&gt)return at==f&&gt==u;var xt=!0;H.set(u,f),H.set(f,u);for(var vt=K;++Oe<se;){Ve=te[Oe];var Mt=u[Ve],At=f[Ve];if(x)var Fa=K?x(At,Mt,Ve,f,u,H):x(Mt,At,Ve,u,f,H);if(!(Fa===n?Mt===At||L(Mt,At,y,x,H):Fa)){xt=!1;break}vt||(vt=Ve=="constructor")}if(xt&&!vt){var zr=u.constructor,Aa=f.constructor;zr!=Aa&&"constructor"in u&&"constructor"in f&&!(typeof zr=="function"&&zr instanceof zr&&typeof Aa=="function"&&Aa instanceof Aa)&&(xt=!1)}return H.delete(u),H.delete(f),xt}function Qa(u){return Hc(Bc(u,n,su),u+"")}function _c(u){return vc(u,ar,Ws)}function nu(u){return vc(u,la,Za)}var ru=sc?function(u){return sc.get(u)}:r0;function au(u){for(var f=u.name+"",y=Fs[f],x=Rt.call(Fs,f)?y.length:0;x--;){var L=y[x],H=L.func;if(H==null||H==u)return L.name}return f}function oi(u){var f=Rt.call(Y,"placeholder")?Y:u;return f.placeholder}function st(){var u=Y.iteratee||t0;return u=u===t0?Wl:u,arguments.length?u(arguments[0],arguments[1]):u}function Pc(u,f){var y=u.__data__;return Ke(f)?y[typeof f=="string"?"string":"hash"]:y.map}function jc(u){for(var f=ar(u),y=f.length;y--;){var x=f[y],L=u[x];f[y]=[x,L,Gs(L)]}return f}function bo(u,f){var y=Es(u,f);return Nd(y)?y:n}function Hm(u){var f=Rt.call(u,Ri),y=u[Ri];try{u[Ri]=n;var x=!0}catch{}var L=Rl.call(u);return x&&(f?u[Ri]=y:delete u[Ri]),L}var Ws=ac?function(u){return u==null?[]:(u=zt(u),Vo(ac(u),function(f){return nc.call(u,f)}))}:a0,Za=ac?function(u){for(var f=[];u;)zo(f,Ws(u)),u=Da(u);return f}:a0,tr=Jn;(Bl&&tr(new Bl(new ArrayBuffer(1)))!=Dr||_i&&tr(new _i)!=Ge||Yl&&tr(Yl.resolve())!=Vt||qo&&tr(new qo)!=en||Hl&&tr(new Hl)!=ga)&&(tr=function(u){var f=Jn(u),y=f==dt?u.constructor:n,x=y?si(y):"";if(x)switch(x){case Ed:return Dr;case Go:return Ge;case ym:return Vt;case As:return en;case Ua:return ga}return f});function Um(u,f,y){for(var x=-1,L=y.length;++x<L;){var H=y[x],K=H.size;switch(H.type){case"drop":u+=K;break;case"dropRight":f-=K;break;case"take":f=qn(f,u+K);break;case"takeRight":u=wn(u,f-K);break}}return{start:u,end:f}}function Qd(u){var f=u.match(ya);return f?f[1].split(ba):[]}function Zd(u,f,y){f=go(f,u);for(var x=-1,L=f.length,H=!1;++x<L;){var K=ka(f[x]);if(!(H=u!=null&&y(u,K)))break;u=u[K]}return H||++x!=L?H:(L=u==null?0:u.length,!!L&&ug(L)&&aa(K,L)&&(Tt(u)||du(u)))}function Vm(u){var f=u.length,y=new u.constructor(f);return f&&typeof u[0]=="string"&&Rt.call(u,"index")&&(y.index=u.index,y.input=u.input),y}function qs(u){return typeof u.constructor=="function"&&!ou(u)?Os(Da(u)):{}}function nr(u,f,y){var x=u.constructor;switch(f){case Kr:return Vs(u);case Pe:case yt:return new x(+u);case Dr:return Nc(u,y);case hs:case so:case lo:case Sl:case Ci:case xi:case ms:case _o:case Mi:return Yd(u,y);case Ge:return new x;case tt:case br:return new x(u);case cn:return Fm(u);case en:return new x;case wr:return Bd(u)}}function Ay(u,f){var y=f.length;if(!y)return u;var x=y-1;return f[x]=(y>1?"& ":"")+f[x],f=f.join(y>2?", ":" "),u.replace(va,`{
/* [wrapped with `+f+`] */
`)}function Oy(u){return Tt(u)||du(u)||!!(mm&&u&&u[mm])}function aa(u,f){var y=typeof u;return f=f??pe,!!f&&(y=="number"||y!="symbol"&&jh.test(u))&&u>-1&&u%1==0&&u<f}function Bt(u,f,y){if(!vn(y))return!1;var x=typeof f;return(x=="number"?sa(y)&&aa(f,y.length):x=="string"&&f in y)?So(y[f],u):!1}function Jd(u,f){if(Tt(u))return!1;var y=typeof u;return y=="number"||y=="symbol"||y=="boolean"||u==null||Na(u)?!0:Qr.test(u)||!mn.test(u)||f!=null&&u in zt(f)}function Ke(u){var f=typeof u;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?u!=="__proto__":u===null}function ii(u){var f=au(u),y=Y[f];if(typeof y!="function"||!(f in St.prototype))return!1;if(u===y)return!0;var x=ru(y);return!!x&&u===x[0]}function Xd(u){return!!Xu&&Xu in u}var zm=xs?Qi:o0;function ou(u){var f=u&&u.constructor,y=typeof f=="function"&&f.prototype||Ha;return u===y}function Gs(u){return u===u&&!vn(u)}function iu(u,f){return function(y){return y==null?!1:y[u]===f&&(f!==n||u in zt(y))}}function ep(u){var f=re(u,function(x){return y.size===h&&y.clear(),x}),y=f.cache;return f}function $m(u,f){var y=u[1],x=f[1],L=y|x,H=L<(k|M|j),K=x==j&&y==B||x==j&&y==$&&u[7].length<=f[8]||x==(j|$)&&f[7].length<=f[8]&&y==B;if(!(H||K))return u;x&k&&(u[2]=f[2],L|=y&k?0:F);var te=f[3];if(te){var se=u[3];u[3]=se?Ud(se,te,f[4]):te,u[4]=se?Jr(u[3],g):f[4]}return te=f[5],te&&(se=u[5],u[5]=se?Fc(se,te,f[6]):te,u[6]=se?Jr(u[5],g):f[6]),te=f[7],te&&(u[7]=te),x&j&&(u[8]=u[8]==null?f[8]:qn(u[8],f[8])),u[9]==null&&(u[9]=f[9]),u[0]=f[0],u[1]=L,u}function Wm(u){var f=[];if(u!=null)for(var y in zt(u))f.push(y);return f}function qm(u){return Rl.call(u)}function Bc(u,f,y){return f=wn(f===n?u.length-1:f,0),function(){for(var x=arguments,L=-1,H=wn(x.length-f,0),K=me(H);++L<H;)K[L]=x[f+L];L=-1;for(var te=me(f+1);++L<f;)te[L]=x[L];return te[f]=y(K),cr(u,this,te)}}function Yc(u,f){return f.length<2?u:Br(u,Xn(f,0,-1))}function Yn(u,f){for(var y=u.length,x=qn(f.length,y),L=pr(u);x--;){var H=f[x];u[x]=aa(H,y)?L[H]:n}return u}function Yr(u,f){if(!(f==="constructor"&&typeof u[f]=="function")&&f!="__proto__")return u[f]}var wo=tp(In),Ks=Dd||function(u,f){return nn.setTimeout(u,f)},Hc=tp(Ec);function oa(u,f,y){var x=f+"";return Hc(u,Ay(x,Km(Qd(x),y)))}function tp(u){var f=0,y=0;return function(){var x=ky(),L=ee-(x-y);if(y=x,L>0){if(++f>=oe)return arguments[0]}else f=0;return u.apply(n,arguments)}}function Hr(u,f){var y=-1,x=u.length,L=x-1;for(f=f===n?x:f;++y<f;){var H=Kl(y,L),K=u[H];u[H]=u[y],u[y]=K}return u.length=f,u}var Gm=ep(function(u){var f=[];return u.charCodeAt(0)===46&&f.push(""),u.replace(Mn,function(y,x,L,H){f.push(L?H.replace(oy,"$1"):x||y)}),f});function ka(u){if(typeof u=="string"||Na(u))return u;var f=u+"";return f=="0"&&1/u==-xe?"-0":f}function si(u){if(u!=null){try{return Ol.call(u)}catch{}try{return u+""}catch{}}return""}function Km(u,f){return Wn(ue,function(y){var x="_."+y[0];f&y[1]&&!qu(u,x)&&u.push(x)}),u.sort()}function np(u){if(u instanceof St)return u.clone();var f=new Gn(u.__wrapped__,u.__chain__);return f.__actions__=pr(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}function Ry(u,f,y){(y?Bt(u,f,y):f===n)?f=1:f=wn(Ct(f),0);var x=u==null?0:u.length;if(!x||f<1)return[];for(var L=0,H=0,K=me(Li(x/f));L<x;)K[H++]=Xn(u,L,L+=f);return K}function Uc(u){for(var f=-1,y=u==null?0:u.length,x=0,L=[];++f<y;){var H=u[f];H&&(L[x++]=H)}return L}function rp(){var u=arguments.length;if(!u)return[];for(var f=me(u-1),y=arguments[0],x=u;x--;)f[x-1]=arguments[x];return zo(Tt(y)?pr(y):[y],kn(f,1))}var ia=Et(function(u,f){return Rn(u)?qa(u,kn(f,1,Rn,!0)):[]}),Ft=Et(function(u,f){var y=On(f);return Rn(y)&&(y=n),Rn(u)?qa(u,kn(f,1,Rn,!0),st(y,2)):[]}),_n=Et(function(u,f){var y=On(f);return Rn(y)&&(y=n),Rn(u)?qa(u,kn(f,1,Rn,!0),n,y):[]});function Dn(u,f,y){var x=u==null?0:u.length;return x?(f=y||f===n?1:Ct(f),Xn(u,f<0?0:f,x)):[]}function Hn(u,f,y){var x=u==null?0:u.length;return x?(f=y||f===n?1:Ct(f),f=x-f,Xn(u,0,f<0?0:f)):[]}function Ur(u,f){return u&&u.length?Hs(u,st(f,3),!0,!0):[]}function Qs(u,f){return u&&u.length?Hs(u,st(f,3),!0):[]}function An(u,f,y,x){var L=u==null?0:u.length;return L?(y&&typeof y!="number"&&Bt(u,f,y)&&(y=0,x=L),mc(u,f,y,x)):[]}function Zs(u,f,y){var x=u==null?0:u.length;if(!x)return-1;var L=y==null?0:Ct(y);return L<0&&(L=wn(x+L,0)),Gu(u,st(f,3),L)}function li(u,f,y){var x=u==null?0:u.length;if(!x)return-1;var L=x-1;return y!==n&&(L=Ct(y),L=y<0?wn(x+L,0):qn(L,x-1)),Gu(u,st(f,3),L,!0)}function su(u){var f=u==null?0:u.length;return f?kn(u,1):[]}function ap(u){var f=u==null?0:u.length;return f?kn(u,xe):[]}function lu(u,f){var y=u==null?0:u.length;return y?(f=f===n?1:Ct(f),kn(u,f)):[]}function Mr(u){for(var f=-1,y=u==null?0:u.length,x={};++f<y;){var L=u[f];x[L[0]]=L[1]}return x}function Vc(u){return u&&u.length?u[0]:n}function Js(u,f,y){var x=u==null?0:u.length;if(!x)return-1;var L=y==null?0:Ct(y);return L<0&&(L=wn(x+L,0)),Ss(u,f,L)}function Do(u){var f=u==null?0:u.length;return f?Xn(u,0,-1):[]}var zc=Et(function(u){var f=Wt(u,kc);return f.length&&f[0]===u[0]?Ca(f):[]}),op=Et(function(u){var f=On(u),y=Wt(u,kc);return f===On(y)?f=n:y.pop(),y.length&&y[0]===u[0]?Ca(y,st(f,2)):[]}),ui=Et(function(u){var f=On(u),y=Wt(u,kc);return f=typeof f=="function"?f:n,f&&y.pop(),y.length&&y[0]===u[0]?Ca(y,n,f):[]});function $c(u,f){return u==null?"":oc.call(u,f)}function On(u){var f=u==null?0:u.length;return f?u[f-1]:n}function Wc(u,f,y){var x=u==null?0:u.length;if(!x)return-1;var L=x;return y!==n&&(L=Ct(y),L=L<0?wn(x+L,0):qn(L,x-1)),f===f?Ty(u,f,L):Gu(u,tm,L,!0)}function uu(u,f){return u&&u.length?ai(u,Ct(f)):n}var ip=Et(cu);function cu(u,f){return u&&u.length&&f&&f.length?Jt(u,f):u}function qc(u,f,y){return u&&u.length&&f&&f.length?Jt(u,f,st(y,2)):u}function mr(u,f,y){return u&&u.length&&f&&f.length?Jt(u,f,n,y):u}var ci=Qa(function(u,f){var y=u==null?0:u.length,x=hc(u,f);return Gl(u,Wt(f,function(L){return aa(L,y)?+L:L}).sort(Hd)),x});function Ia(u,f){var y=[];if(!(u&&u.length))return y;var x=-1,L=[],H=u.length;for(f=st(f,3);++x<H;){var K=u[x];f(K,x,u)&&(y.push(K),L.push(x))}return Gl(u,L),y}function rr(u){return u==null?u:ic.call(u)}function Qm(u,f,y){var x=u==null?0:u.length;return x?(y&&typeof y!="number"&&Bt(u,f,y)?(f=0,y=x):(f=f==null?0:Ct(f),y=y===n?x:Ct(y)),Xn(u,f,y)):[]}function sp(u,f){return Nn(u,f)}function lp(u,f,y){return Zl(u,f,st(y,2))}function Ly(u,f){var y=u==null?0:u.length;if(y){var x=Nn(u,f);if(x<y&&So(u[x],f))return x}return-1}function fi(u,f){return Nn(u,f,!0)}function Zm(u,f,y){return Zl(u,f,st(y,2),!0)}function up(u,f){var y=u==null?0:u.length;if(y){var x=Nn(u,f,!0)-1;if(So(u[x],f))return x}return-1}function Wi(u){return u&&u.length?Tc(u):[]}function cp(u,f){return u&&u.length?Tc(u,st(f,2)):[]}function qi(u){var f=u==null?0:u.length;return f?Xn(u,1,f):[]}function Jm(u,f,y){return u&&u.length?(f=y||f===n?1:Ct(f),Xn(u,0,f<0?0:f)):[]}function Xm(u,f,y){var x=u==null?0:u.length;return x?(f=y||f===n?1:Ct(f),f=x-f,Xn(u,f<0?0:f,x)):[]}function fp(u,f){return u&&u.length?Hs(u,st(f,3),!1,!0):[]}function Gc(u,f){return u&&u.length?Hs(u,st(f,3)):[]}var _y=Et(function(u){return Fn(kn(u,1,Rn,!0))}),Py=Et(function(u){var f=On(u);return Rn(f)&&(f=n),Fn(kn(u,1,Rn,!0),st(f,2))}),eg=Et(function(u){var f=On(u);return f=typeof f=="function"?f:n,Fn(kn(u,1,Rn,!0),n,f)});function tg(u){return u&&u.length?Fn(u):[]}function Gi(u,f){return u&&u.length?Fn(u,st(f,2)):[]}function jy(u,f){return f=typeof f=="function"?f:n,u&&u.length?Fn(u,n,f):[]}function di(u){if(!(u&&u.length))return[];var f=0;return u=Vo(u,function(y){if(Rn(y))return f=wn(y.length,f),!0}),gd(f,function(y){return Wt(u,hd(y))})}function dp(u,f){if(!(u&&u.length))return[];var y=di(u);return f==null?y:Wt(y,function(x){return cr(f,n,x)})}var dn=Et(function(u,f){return Rn(u)?qa(u,f):[]}),By=Et(function(u){return Mc(Vo(u,Rn))}),ng=Et(function(u){var f=On(u);return Rn(f)&&(f=n),Mc(Vo(u,Rn),st(f,2))}),Yy=Et(function(u){var f=On(u);return f=typeof f=="function"?f:n,Mc(Vo(u,Rn),n,f)}),Hy=Et(di);function rg(u,f){return Pd(u||[],f||[],Yi)}function ag(u,f){return Pd(u||[],f||[],on)}var Uy=Et(function(u){var f=u.length,y=f>1?u[f-1]:n;return y=typeof y=="function"?(u.pop(),y):n,dp(u,y)});function Vr(u){var f=Y(u);return f.__chain__=!0,f}function pp(u,f){return f(u),u}function Kc(u,f){return f(u)}var pi=Qa(function(u){var f=u.length,y=f?u[0]:0,x=this.__wrapped__,L=function(H){return hc(H,u)};return f>1||this.__actions__.length||!(x instanceof St)||!aa(y)?this.thru(L):(x=x.slice(y,+y+(f?1:0)),x.__actions__.push({func:Kc,args:[L],thisArg:n}),new Gn(x,this.__chain__).thru(function(H){return f&&!H.length&&H.push(n),H}))});function Qc(){return Vr(this)}function Ki(){return new Gn(this.value(),this.__chain__)}function Zc(){this.__values__===n&&(this.__values__=ow(this.value()));var u=this.__index__>=this.__values__.length,f=u?n:this.__values__[this.__index__++];return{done:u,value:f}}function hp(){return this}function mp(u){for(var f,y=this;y instanceof Va;){var x=np(y);x.__index__=0,x.__values__=n,f?L.__wrapped__=x:f=x;var L=x;y=y.__wrapped__}return L.__wrapped__=u,f}function Vy(){var u=this.__wrapped__;if(u instanceof St){var f=u;return this.__actions__.length&&(f=new St(this)),f=f.reverse(),f.__actions__.push({func:Kc,args:[rr],thisArg:n}),new Gn(f,this.__chain__)}return this.thru(rr)}function gp(){return _d(this.__wrapped__,this.__actions__)}var zy=Jl(function(u,f,y){Rt.call(u,y)?++u[y]:Wa(u,y,1)});function og(u,f,y){var x=Tt(u)?ud:Ea;return y&&Bt(u,f,y)&&(f=n),x(u,st(f,3))}function ig(u,f){var y=Tt(u)?Vo:Ui;return y(u,st(f,3))}var Jc=_m(Zs),Xc=_m(li);function sg(u,f){return kn(rf(u,f),1)}function vp(u,f){return kn(rf(u,f),xe)}function $y(u,f,y){return y=y===n?1:Ct(y),kn(rf(u,f),y)}function yp(u,f){var y=Tt(u)?Wn:Ga;return y(u,st(f,3))}function ef(u,f){var y=Tt(u)?Wu:Cm;return y(u,st(f,3))}var tf=Jl(function(u,f,y){Rt.call(u,y)?u[y].push(f):Wa(u,y,[f])});function bp(u,f,y,x){u=sa(u)?u:lf(u),y=y&&!x?Ct(y):0;var L=u.length;return y<0&&(y=wn(L+y,0)),cg(u)?y<=L&&u.indexOf(f,y)>-1:!!L&&Ss(u,f,y)>-1}var nf=Et(function(u,f,y){var x=-1,L=typeof f=="function",H=sa(u)?me(u.length):[];return Ga(u,function(K){H[++x]=L?cr(f,K,y):ti(K,f,y)}),H}),lg=Jl(function(u,f,y){Wa(u,y,f)});function rf(u,f){var y=Tt(u)?Wt:Ad;return y(u,st(f,3))}function af(u,f,y,x){return u==null?[]:(Tt(f)||(f=f==null?[]:[f]),y=x?n:y,Tt(y)||(y=y==null?[]:[y]),Sc(u,f,y))}var Wy=Jl(function(u,f,y){u[y?0:1].push(f)},function(){return[[],[]]});function fu(u,f,y){var x=Tt(u)?fd:rm,L=arguments.length<3;return x(u,st(f,4),y,L,Ga)}function qy(u,f,y){var x=Tt(u)?gy:rm,L=arguments.length<3;return x(u,st(f,4),y,L,Cm)}function of(u,f){var y=Tt(u)?Vo:Ui;return y(u,ce(st(f,3)))}function o(u){var f=Tt(u)?$a:Vi;return f(u)}function l(u,f,y){(y?Bt(u,f,y):f===n)?f=1:f=Ct(f);var x=Tt(u)?Bi:an;return x(u,f)}function p(u){var f=Tt(u)?Em:Ql;return f(u)}function v(u){if(u==null)return 0;if(sa(u))return cg(u)?Oi(u):u.length;var f=tr(u);return f==Ge||f==en?u.size:Dc(u).length}function S(u,f,y){var x=Tt(u)?dd:Iy;return y&&Bt(u,f,y)&&(f=n),x(u,st(f,3))}var C=Et(function(u,f){if(u==null)return[];var y=f.length;return y>1&&Bt(u,f[0],f[1])?f=[]:y>2&&Bt(f[0],f[1],f[2])&&(f=[f[0]]),Sc(u,kn(f,1),[])}),_=Kt||function(){return nn.Date.now()};function q(u,f){if(typeof f!="function")throw new Xr(s);return u=Ct(u),function(){if(--u<1)return f.apply(this,arguments)}}function J(u,f,y){return f=y?n:f,f=u&&f==null?u.length:f,Ka(u,j,n,n,n,n,f)}function ge(u,f){var y;if(typeof f!="function")throw new Xr(s);return u=Ct(u),function(){return--u>0&&(y=f.apply(this,arguments)),u<=1&&(f=n),y}}var Ae=Et(function(u,f,y){var x=k;if(y.length){var L=Jr(y,oi(Ae));x|=P}return Ka(u,x,f,y,L)}),_e=Et(function(u,f,y){var x=k|M;if(y.length){var L=Jr(y,oi(_e));x|=P}return Ka(f,x,u,y,L)});function Fe(u,f,y){f=y?n:f;var x=Ka(u,B,n,n,n,n,n,f);return x.placeholder=Fe.placeholder,x}function qe(u,f,y){f=y?n:f;var x=Ka(u,N,n,n,n,n,n,f);return x.placeholder=qe.placeholder,x}function Je(u,f,y){var x,L,H,K,te,se,ke=0,Ie=!1,Oe=!1,Ve=!0;if(typeof u!="function")throw new Xr(s);f=Ja(f)||0,vn(y)&&(Ie=!!y.leading,Oe="maxWait"in y,H=Oe?wn(Ja(y.maxWait)||0,f):H,Ve="trailing"in y?!!y.trailing:Ve);function at(Ln){var Eo=x,Ji=L;return x=L=n,ke=Ln,K=u.apply(Ji,Eo),K}function gt(Ln){return ke=Ln,te=Ks(Mt,f),Ie?at(Ln):K}function xt(Ln){var Eo=Ln-se,Ji=Ln-ke,yw=f-Eo;return Oe?qn(yw,H-Ji):yw}function vt(Ln){var Eo=Ln-se,Ji=Ln-ke;return se===n||Eo>=f||Eo<0||Oe&&Ji>=H}function Mt(){var Ln=_();if(vt(Ln))return At(Ln);te=Ks(Mt,xt(Ln))}function At(Ln){return te=n,Ve&&x?at(Ln):(x=L=n,K)}function Fa(){te!==n&&Us(te),ke=0,x=se=L=te=n}function zr(){return te===n?K:At(_())}function Aa(){var Ln=_(),Eo=vt(Ln);if(x=arguments,L=this,se=Ln,Eo){if(te===n)return gt(se);if(Oe)return Us(te),te=Ks(Mt,f),at(se)}return te===n&&(te=Ks(Mt,f)),K}return Aa.cancel=Fa,Aa.flush=zr,Aa}var et=Et(function(u,f){return xd(u,1,f)}),gn=Et(function(u,f,y){return xd(u,Ja(f)||0,y)});function le(u){return Ka(u,W)}function re(u,f){if(typeof u!="function"||f!=null&&typeof f!="function")throw new Xr(s);var y=function(){var x=arguments,L=f?f.apply(this,x):x[0],H=y.cache;if(H.has(L))return H.get(L);var K=u.apply(this,x);return y.cache=H.set(L,K)||H,K};return y.cache=new(re.Cache||ea),y}re.Cache=ea;function ce(u){if(typeof u!="function")throw new Xr(s);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}function je(u){return ge(2,u)}var nt=Nm(function(u,f){f=f.length==1&&Tt(f[0])?Wt(f[0],Lr(st())):Wt(kn(f,1),Lr(st()));var y=f.length;return Et(function(x){for(var L=-1,H=qn(x.length,y);++L<H;)x[L]=f[L].call(this,x[L]);return cr(u,this,x)})}),lt=Et(function(u,f){var y=Jr(f,oi(lt));return Ka(u,P,n,f,y)}),ct=Et(function(u,f){var y=Jr(f,oi(ct));return Ka(u,R,n,f,y)}),bt=Qa(function(u,f){return Ka(u,$,n,n,n,f)});function Pn(u,f){if(typeof u!="function")throw new Xr(s);return f=f===n?f:Ct(f),Et(u,f)}function Lt(u,f){if(typeof u!="function")throw new Xr(s);return f=f==null?0:wn(Ct(f),0),Et(function(y){var x=y[f],L=vo(y,0,f);return x&&zo(L,x),cr(u,this,L)})}function hi(u,f,y){var x=!0,L=!0;if(typeof u!="function")throw new Xr(s);return vn(y)&&(x="leading"in y?!!y.leading:x,L="trailing"in y?!!y.trailing:L),Je(u,f,{leading:x,maxWait:f,trailing:L})}function Gy(u){return J(u,1)}function Z4(u,f){return lt(Ic(f),u)}function J4(){if(!arguments.length)return[];var u=arguments[0];return Tt(u)?u:[u]}function X4(u){return xr(u,b)}function eC(u,f){return f=typeof f=="function"?f:n,xr(u,b,f)}function tC(u){return xr(u,m|b)}function nC(u,f){return f=typeof f=="function"?f:n,xr(u,m|b,f)}function rC(u,f){return f==null||Vl(u,f,ar(f))}function So(u,f){return u===f||u!==u&&f!==f}var aC=tu(Ta),oC=tu(function(u,f){return u>=f}),du=kd(function(){return arguments}())?kd:function(u){return Sn(u)&&Rt.call(u,"callee")&&!nc.call(u,"callee")},Tt=me.isArray,iC=sd?Lr(sd):yc;function sa(u){return u!=null&&ug(u.length)&&!Qi(u)}function Rn(u){return Sn(u)&&sa(u)}function sC(u){return u===!0||u===!1||Sn(u)&&Jn(u)==Pe}var Xs=Sd||o0,lC=Sr?Lr(Sr):Mm;function uC(u){return Sn(u)&&u.nodeType===1&&!wp(u)}function cC(u){if(u==null)return!0;if(sa(u)&&(Tt(u)||typeof u=="string"||typeof u.splice=="function"||Xs(u)||sf(u)||du(u)))return!u.length;var f=tr(u);if(f==Ge||f==en)return!u.size;if(ou(u))return!Dc(u).length;for(var y in u)if(Rt.call(u,y))return!1;return!0}function fC(u,f){return Ps(u,f)}function dC(u,f,y){y=typeof y=="function"?y:n;var x=y?y(u,f):n;return x===n?Ps(u,f,n,y):!!x}function Ky(u){if(!Sn(u))return!1;var f=Jn(u);return f==$e||f==Se||typeof u.message=="string"&&typeof u.name=="string"&&!wp(u)}function pC(u){return typeof u=="number"&&ks(u)}function Qi(u){if(!vn(u))return!1;var f=Jn(u);return f==Ze||f==Xe||f==He||f==ja}function tw(u){return typeof u=="number"&&u==Ct(u)}function ug(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=pe}function vn(u){var f=typeof u;return u!=null&&(f=="object"||f=="function")}function Sn(u){return u!=null&&typeof u=="object"}var nw=Ai?Lr(Ai):bc;function hC(u,f){return u===f||wc(u,f,jc(f))}function mC(u,f,y){return y=typeof y=="function"?y:n,wc(u,f,jc(f),y)}function gC(u){return rw(u)&&u!=+u}function vC(u){if(zm(u))throw new wt(i);return Nd(u)}function yC(u){return u===null}function bC(u){return u==null}function rw(u){return typeof u=="number"||Sn(u)&&Jn(u)==tt}function wp(u){if(!Sn(u)||Jn(u)!=dt)return!1;var f=Da(u);if(f===null)return!0;var y=Rt.call(f,"constructor")&&f.constructor;return typeof y=="function"&&y instanceof y&&Ol.call(y)==ec}var Qy=$u?Lr($u):km;function wC(u){return tw(u)&&u>=-pe&&u<=pe}var aw=Ds?Lr(Ds):Fd;function cg(u){return typeof u=="string"||!Tt(u)&&Sn(u)&&Jn(u)==br}function Na(u){return typeof u=="symbol"||Sn(u)&&Jn(u)==wr}var sf=Jh?Lr(Jh):$l;function DC(u){return u===n}function SC(u){return Sn(u)&&tr(u)==ga}function EC(u){return Sn(u)&&Jn(u)==io}var TC=tu(ni),CC=tu(function(u,f){return u<=f});function ow(u){if(!u)return[];if(sa(u))return cg(u)?_r(u):pr(u);if(po&&u[po])return Sy(u[po]());var f=tr(u),y=f==Ge?Qu:f==en?$o:lf;return y(u)}function Zi(u){if(!u)return u===0?u:0;if(u=Ja(u),u===xe||u===-xe){var f=u<0?-1:1;return f*we}return u===u?u:0}function Ct(u){var f=Zi(u),y=f%1;return f===f?y?f-y:f:0}function iw(u){return u?mo(Ct(u),0,G):0}function Ja(u){if(typeof u=="number")return u;if(Na(u))return U;if(vn(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=vn(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=am(u);var y=iy.test(u);return y||Ph.test(u)?Vu(u.slice(2),y?2:8):Lh.test(u)?U:+u}function sw(u){return Ma(u,la(u))}function xC(u){return u?mo(Ct(u),-pe,pe):u===0?u:0}function $t(u){return u==null?"":fn(u)}var MC=zs(function(u,f){if(ou(f)||sa(f)){Ma(f,ar(f),u);return}for(var y in f)Rt.call(f,y)&&Yi(u,y,f[y])}),lw=zs(function(u,f){Ma(f,la(f),u)}),fg=zs(function(u,f,y,x){Ma(f,la(f),u,x)}),kC=zs(function(u,f,y,x){Ma(f,ar(f),u,x)}),IC=Qa(hc);function NC(u,f){var y=Os(u);return f==null?y:Zt(y,f)}var FC=Et(function(u,f){u=zt(u);var y=-1,x=f.length,L=x>2?f[2]:n;for(L&&Bt(f[0],f[1],L)&&(x=1);++y<x;)for(var H=f[y],K=la(H),te=-1,se=K.length;++te<se;){var ke=K[te],Ie=u[ke];(Ie===n||So(Ie,Ha[ke])&&!Rt.call(u,ke))&&(u[ke]=H[ke])}return u}),AC=Et(function(u){return u.push(n,Gd),cr(uw,n,u)});function OC(u,f){return em(u,st(f,3),ra)}function RC(u,f){return em(u,st(f,3),Jo)}function LC(u,f){return u==null?u:zl(u,st(f,3),la)}function _C(u,f){return u==null?u:gc(u,st(f,3),la)}function PC(u,f){return u&&ra(u,st(f,3))}function jC(u,f){return u&&Jo(u,st(f,3))}function BC(u){return u==null?[]:dr(u,ar(u))}function YC(u){return u==null?[]:dr(u,la(u))}function Zy(u,f,y){var x=u==null?n:Br(u,f);return x===n?y:x}function HC(u,f){return u!=null&&Zd(u,f,Xo)}function Jy(u,f){return u!=null&&Zd(u,f,Md)}var UC=Ac(function(u,f,y){f!=null&&typeof f.toString!="function"&&(f=Rl.call(f)),u[f]=y},e0(ua)),VC=Ac(function(u,f,y){f!=null&&typeof f.toString!="function"&&(f=Rl.call(f)),Rt.call(u,f)?u[f].push(y):u[f]=[y]},st),zC=Et(ti);function ar(u){return sa(u)?za(u):Dc(u)}function la(u){return sa(u)?za(u,!0):Im(u)}function $C(u,f){var y={};return f=st(f,3),ra(u,function(x,L,H){Wa(y,f(x,L,H),x)}),y}function WC(u,f){var y={};return f=st(f,3),ra(u,function(x,L,H){Wa(y,L,f(x,L,H))}),y}var qC=zs(function(u,f,y){ri(u,f,y)}),uw=zs(function(u,f,y,x){ri(u,f,y,x)}),GC=Qa(function(u,f){var y={};if(u==null)return y;var x=!1;f=Wt(f,function(H){return H=go(H,u),x||(x=H.length>1),H}),Ma(u,nu(u),y),x&&(y=xr(y,m|w|b,Bm));for(var L=f.length;L--;)zi(y,f[L]);return y});function KC(u,f){return cw(u,ce(st(f)))}var QC=Qa(function(u,f){return u==null?{}:Bs(u,f)});function cw(u,f){if(u==null)return{};var y=Wt(nu(u),function(x){return[x]});return f=st(f),Od(u,y,function(x,L){return f(x,L[0])})}function ZC(u,f,y){f=go(f,u);var x=-1,L=f.length;for(L||(L=1,u=n);++x<L;){var H=u==null?n:u[ka(f[x])];H===n&&(x=L,H=y),u=Qi(H)?H.call(u):H}return u}function JC(u,f,y){return u==null?u:on(u,f,y)}function XC(u,f,y,x){return x=typeof x=="function"?x:n,u==null?u:on(u,f,y,x)}var fw=Wd(ar),dw=Wd(la);function ex(u,f,y){var x=Tt(u),L=x||Xs(u)||sf(u);if(f=st(f,4),y==null){var H=u&&u.constructor;L?y=x?new H:[]:vn(u)?y=Qi(H)?Os(Da(u)):{}:y={}}return(L?Wn:ra)(u,function(K,te,se){return f(y,K,te,se)}),y}function tx(u,f){return u==null?!0:zi(u,f)}function nx(u,f,y){return u==null?u:xc(u,f,Ic(y))}function rx(u,f,y,x){return x=typeof x=="function"?x:n,u==null?u:xc(u,f,Ic(y),x)}function lf(u){return u==null?[]:Fl(u,ar(u))}function ax(u){return u==null?[]:Fl(u,la(u))}function ox(u,f,y){return y===n&&(y=f,f=n),y!==n&&(y=Ja(y),y=y===y?y:0),f!==n&&(f=Ja(f),f=f===f?f:0),mo(Ja(u),f,y)}function ix(u,f,y){return f=Zi(f),y===n?(y=f,f=0):y=Zi(y),u=Ja(u),xm(u,f,y)}function sx(u,f,y){if(y&&typeof y!="boolean"&&Bt(u,f,y)&&(f=y=n),y===n&&(typeof f=="boolean"?(y=f,f=n):typeof u=="boolean"&&(y=u,u=n)),u===n&&f===n?(u=0,f=1):(u=Zi(u),f===n?(f=u,u=0):f=Zi(f)),u>f){var x=u;u=f,f=x}if(y||u%1||f%1){var L=jl();return qn(u+L*(f-u+od("1e-"+((L+"").length-1))),f)}return Kl(u,f)}var lx=yo(function(u,f,y){return f=f.toLowerCase(),u+(y?pw(f):f)});function pw(u){return Xy($t(u).toLowerCase())}function hw(u){return u=$t(u),u&&u.replace(Bh,sm).replace(Gh,"")}function ux(u,f,y){u=$t(u),f=fn(f);var x=u.length;y=y===n?x:mo(Ct(y),0,x);var L=y;return y-=f.length,y>=0&&u.slice(y,L)==f}function cx(u){return u=$t(u),u&&Ye.test(u)?u.replace(Le,lm):u}function fx(u){return u=$t(u),u&&Zr.test(u)?u.replace(lr,"\\$&"):u}var dx=yo(function(u,f,y){return u+(y?"-":"")+f.toLowerCase()}),px=yo(function(u,f,y){return u+(y?" ":"")+f.toLowerCase()}),hx=zd("toLowerCase");function mx(u,f,y){u=$t(u),f=Ct(f);var x=f?Oi(u):0;if(!f||x>=f)return u;var L=(f-x)/2;return eu(Wo(L),y)+u+eu(Li(L),y)}function gx(u,f,y){u=$t(u),f=Ct(f);var x=f?Oi(u):0;return f&&x<f?u+eu(f-x,y):u}function vx(u,f,y){u=$t(u),f=Ct(f);var x=f?Oi(u):0;return f&&x<f?eu(f-x,y)+u:u}function yx(u,f,y){return y||f==null?f=0:f&&(f=+f),vm($t(u).replace(El,""),f||0)}function bx(u,f,y){return(y?Bt(u,f,y):f===n)?f=1:f=Ct(f),Ys($t(u),f)}function wx(){var u=arguments,f=$t(u[0]);return u.length<3?f:f.replace(u[1],u[2])}var Dx=yo(function(u,f,y){return u+(y?"_":"")+f.toLowerCase()});function Sx(u,f,y){return y&&typeof y!="number"&&Bt(u,f,y)&&(f=y=n),y=y===n?G:y>>>0,y?(u=$t(u),u&&(typeof f=="string"||f!=null&&!Qy(f))&&(f=fn(f),!f&&Ts(u))?vo(_r(u),0,y):u.split(f,y)):[]}var Ex=yo(function(u,f,y){return u+(y?" ":"")+Xy(f)});function Tx(u,f,y){return u=$t(u),y=y==null?0:mo(Ct(y),0,u.length),f=fn(f),u.slice(y,y+f.length)==f}function Cx(u,f,y){var x=Y.templateSettings;y&&Bt(u,f,y)&&(f=n),u=$t(u),f=fg({},f,x,qd);var L=fg({},f.imports,x.imports,qd),H=ar(L),K=Fl(L,H),te,se,ke=0,Ie=f.interpolate||Lu,Oe="__p += '",Ve=Al((f.escape||Lu).source+"|"+Ie.source+"|"+(Ie===xn?ki:Lu).source+"|"+(f.evaluate||Lu).source+"|$","g"),at="//# sourceURL="+(Rt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++py+"]")+`
`;u.replace(Ve,function(vt,Mt,At,Fa,zr,Aa){return At||(At=Fa),Oe+=u.slice(ke,Aa).replace(sy,um),Mt&&(te=!0,Oe+=`' +
__e(`+Mt+`) +
'`),zr&&(se=!0,Oe+=`';
`+zr+`;
__p += '`),At&&(Oe+=`' +
((__t = (`+At+`)) == null ? '' : __t) +
'`),ke=Aa+vt.length,vt}),Oe+=`';
`;var gt=Rt.call(f,"variable")&&f.variable;if(!gt)Oe=`with (obj) {
`+Oe+`
}
`;else if(jo.test(gt))throw new wt(c);Oe=(se?Oe.replace(V,""):Oe).replace(ne,"$1").replace(he,"$1;"),Oe="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Oe+`return __p
}`;var xt=gw(function(){return Ot(H,at+"return "+Oe).apply(n,K)});if(xt.source=Oe,Ky(xt))throw xt;return xt}function xx(u){return $t(u).toLowerCase()}function Mx(u){return $t(u).toUpperCase()}function kx(u,f,y){if(u=$t(u),u&&(y||f===n))return am(u);if(!u||!(f=fn(f)))return u;var x=_r(u),L=_r(f),H=om(x,L),K=vd(x,L)+1;return vo(x,H,K).join("")}function Ix(u,f,y){if(u=$t(u),u&&(y||f===n))return u.slice(0,Ju(u)+1);if(!u||!(f=fn(f)))return u;var x=_r(u),L=vd(x,_r(f))+1;return vo(x,0,L).join("")}function Nx(u,f,y){if(u=$t(u),u&&(y||f===n))return u.replace(El,"");if(!u||!(f=fn(f)))return u;var x=_r(u),L=om(x,_r(f));return vo(x,L).join("")}function Fx(u,f){var y=z,x=X;if(vn(f)){var L="separator"in f?f.separator:L;y="length"in f?Ct(f.length):y,x="omission"in f?fn(f.omission):x}u=$t(u);var H=u.length;if(Ts(u)){var K=_r(u);H=K.length}if(y>=H)return u;var te=y-Oi(x);if(te<1)return x;var se=K?vo(K,0,te).join(""):u.slice(0,te);if(L===n)return se+x;if(K&&(te+=se.length-te),Qy(L)){if(u.slice(te).search(L)){var ke,Ie=se;for(L.global||(L=Al(L.source,$t(Jf.exec(L))+"g")),L.lastIndex=0;ke=L.exec(Ie);)var Oe=ke.index;se=se.slice(0,Oe===n?te:Oe)}}else if(u.indexOf(fn(L),te)!=te){var Ve=se.lastIndexOf(L);Ve>-1&&(se=se.slice(0,Ve))}return se+x}function Ax(u){return u=$t(u),u&&Be.test(u)?u.replace(Te,cm):u}var Ox=yo(function(u,f,y){return u+(y?" ":"")+f.toUpperCase()}),Xy=zd("toUpperCase");function mw(u,f,y){return u=$t(u),f=y?n:f,f===n?Dy(u)?Cy(u):yy(u):u.match(f)||[]}var gw=Et(function(u,f){try{return cr(u,n,f)}catch(y){return Ky(y)?y:new wt(y)}}),Rx=Qa(function(u,f){return Wn(f,function(y){y=ka(y),Wa(u,y,Ae(u[y],u))}),u});function Lx(u){var f=u==null?0:u.length,y=st();return u=f?Wt(u,function(x){if(typeof x[1]!="function")throw new Xr(s);return[y(x[0]),x[1]]}):[],Et(function(x){for(var L=-1;++L<f;){var H=u[L];if(cr(H[0],this,x))return cr(H[1],this,x)}})}function _x(u){return Tm(xr(u,m))}function e0(u){return function(){return u}}function Px(u,f){return u==null||u!==u?f:u}var jx=$i(),Bx=$i(!0);function ua(u){return u}function t0(u){return Wl(typeof u=="function"?u:xr(u,m))}function Yx(u){return js(xr(u,m))}function Hx(u,f){return xa(u,xr(f,m))}var Ux=Et(function(u,f){return function(y){return ti(y,u,f)}}),Vx=Et(function(u,f){return function(y){return ti(u,y,f)}});function n0(u,f,y){var x=ar(f),L=dr(f,x);y==null&&!(vn(f)&&(L.length||!x.length))&&(y=f,f=u,u=this,L=dr(f,ar(f)));var H=!(vn(y)&&"chain"in y)||!!y.chain,K=Qi(u);return Wn(L,function(te){var se=f[te];u[te]=se,K&&(u.prototype[te]=function(){var ke=this.__chain__;if(H||ke){var Ie=u(this.__wrapped__),Oe=Ie.__actions__=pr(this.__actions__);return Oe.push({func:se,args:arguments,thisArg:u}),Ie.__chain__=ke,Ie}return se.apply(u,zo([this.value()],arguments))})}),u}function zx(){return nn._===this&&(nn._=pm),this}function r0(){}function $x(u){return u=Ct(u),Et(function(f){return ai(f,u)})}var Wx=Rc(Wt),qx=Rc(ud),Gx=Rc(dd);function vw(u){return Jd(u)?hd(ka(u)):Rd(u)}function Kx(u){return function(f){return u==null?n:Br(u,f)}}var Qx=$d(),Zx=$d(!0);function a0(){return[]}function o0(){return!1}function Jx(){return{}}function Xx(){return""}function e6(){return!0}function t6(u,f){if(u=Ct(u),u<1||u>pe)return[];var y=G,x=qn(u,G);f=st(f),u-=G;for(var L=gd(x,f);++y<u;)f(y);return L}function n6(u){return Tt(u)?Wt(u,ka):Na(u)?[u]:pr(Gm($t(u)))}function r6(u){var f=++Ms;return $t(u)+f}var a6=Oc(function(u,f){return u+f},0),o6=er("ceil"),i6=Oc(function(u,f){return u/f},1),s6=er("floor");function l6(u){return u&&u.length?Hi(u,ua,Ta):n}function u6(u,f){return u&&u.length?Hi(u,st(f,2),Ta):n}function c6(u){return nm(u,ua)}function f6(u,f){return nm(u,st(f,2))}function d6(u){return u&&u.length?Hi(u,ua,ni):n}function p6(u,f){return u&&u.length?Hi(u,st(f,2),ni):n}var h6=Oc(function(u,f){return u*f},1),m6=er("round"),g6=Oc(function(u,f){return u-f},0);function v6(u){return u&&u.length?md(u,ua):0}function y6(u,f){return u&&u.length?md(u,st(f,2)):0}return Y.after=q,Y.ary=J,Y.assign=MC,Y.assignIn=lw,Y.assignInWith=fg,Y.assignWith=kC,Y.at=IC,Y.before=ge,Y.bind=Ae,Y.bindAll=Rx,Y.bindKey=_e,Y.castArray=J4,Y.chain=Vr,Y.chunk=Ry,Y.compact=Uc,Y.concat=rp,Y.cond=Lx,Y.conforms=_x,Y.constant=e0,Y.countBy=zy,Y.create=NC,Y.curry=Fe,Y.curryRight=qe,Y.debounce=Je,Y.defaults=FC,Y.defaultsDeep=AC,Y.defer=et,Y.delay=gn,Y.difference=ia,Y.differenceBy=Ft,Y.differenceWith=_n,Y.drop=Dn,Y.dropRight=Hn,Y.dropRightWhile=Ur,Y.dropWhile=Qs,Y.fill=An,Y.filter=ig,Y.flatMap=sg,Y.flatMapDeep=vp,Y.flatMapDepth=$y,Y.flatten=su,Y.flattenDeep=ap,Y.flattenDepth=lu,Y.flip=le,Y.flow=jx,Y.flowRight=Bx,Y.fromPairs=Mr,Y.functions=BC,Y.functionsIn=YC,Y.groupBy=tf,Y.initial=Do,Y.intersection=zc,Y.intersectionBy=op,Y.intersectionWith=ui,Y.invert=UC,Y.invertBy=VC,Y.invokeMap=nf,Y.iteratee=t0,Y.keyBy=lg,Y.keys=ar,Y.keysIn=la,Y.map=rf,Y.mapKeys=$C,Y.mapValues=WC,Y.matches=Yx,Y.matchesProperty=Hx,Y.memoize=re,Y.merge=qC,Y.mergeWith=uw,Y.method=Ux,Y.methodOf=Vx,Y.mixin=n0,Y.negate=ce,Y.nthArg=$x,Y.omit=GC,Y.omitBy=KC,Y.once=je,Y.orderBy=af,Y.over=Wx,Y.overArgs=nt,Y.overEvery=qx,Y.overSome=Gx,Y.partial=lt,Y.partialRight=ct,Y.partition=Wy,Y.pick=QC,Y.pickBy=cw,Y.property=vw,Y.propertyOf=Kx,Y.pull=ip,Y.pullAll=cu,Y.pullAllBy=qc,Y.pullAllWith=mr,Y.pullAt=ci,Y.range=Qx,Y.rangeRight=Zx,Y.rearg=bt,Y.reject=of,Y.remove=Ia,Y.rest=Pn,Y.reverse=rr,Y.sampleSize=l,Y.set=JC,Y.setWith=XC,Y.shuffle=p,Y.slice=Qm,Y.sortBy=C,Y.sortedUniq=Wi,Y.sortedUniqBy=cp,Y.split=Sx,Y.spread=Lt,Y.tail=qi,Y.take=Jm,Y.takeRight=Xm,Y.takeRightWhile=fp,Y.takeWhile=Gc,Y.tap=pp,Y.throttle=hi,Y.thru=Kc,Y.toArray=ow,Y.toPairs=fw,Y.toPairsIn=dw,Y.toPath=n6,Y.toPlainObject=sw,Y.transform=ex,Y.unary=Gy,Y.union=_y,Y.unionBy=Py,Y.unionWith=eg,Y.uniq=tg,Y.uniqBy=Gi,Y.uniqWith=jy,Y.unset=tx,Y.unzip=di,Y.unzipWith=dp,Y.update=nx,Y.updateWith=rx,Y.values=lf,Y.valuesIn=ax,Y.without=dn,Y.words=mw,Y.wrap=Z4,Y.xor=By,Y.xorBy=ng,Y.xorWith=Yy,Y.zip=Hy,Y.zipObject=rg,Y.zipObjectDeep=ag,Y.zipWith=Uy,Y.entries=fw,Y.entriesIn=dw,Y.extend=lw,Y.extendWith=fg,n0(Y,Y),Y.add=a6,Y.attempt=gw,Y.camelCase=lx,Y.capitalize=pw,Y.ceil=o6,Y.clamp=ox,Y.clone=X4,Y.cloneDeep=tC,Y.cloneDeepWith=nC,Y.cloneWith=eC,Y.conformsTo=rC,Y.deburr=hw,Y.defaultTo=Px,Y.divide=i6,Y.endsWith=ux,Y.eq=So,Y.escape=cx,Y.escapeRegExp=fx,Y.every=og,Y.find=Jc,Y.findIndex=Zs,Y.findKey=OC,Y.findLast=Xc,Y.findLastIndex=li,Y.findLastKey=RC,Y.floor=s6,Y.forEach=yp,Y.forEachRight=ef,Y.forIn=LC,Y.forInRight=_C,Y.forOwn=PC,Y.forOwnRight=jC,Y.get=Zy,Y.gt=aC,Y.gte=oC,Y.has=HC,Y.hasIn=Jy,Y.head=Vc,Y.identity=ua,Y.includes=bp,Y.indexOf=Js,Y.inRange=ix,Y.invoke=zC,Y.isArguments=du,Y.isArray=Tt,Y.isArrayBuffer=iC,Y.isArrayLike=sa,Y.isArrayLikeObject=Rn,Y.isBoolean=sC,Y.isBuffer=Xs,Y.isDate=lC,Y.isElement=uC,Y.isEmpty=cC,Y.isEqual=fC,Y.isEqualWith=dC,Y.isError=Ky,Y.isFinite=pC,Y.isFunction=Qi,Y.isInteger=tw,Y.isLength=ug,Y.isMap=nw,Y.isMatch=hC,Y.isMatchWith=mC,Y.isNaN=gC,Y.isNative=vC,Y.isNil=bC,Y.isNull=yC,Y.isNumber=rw,Y.isObject=vn,Y.isObjectLike=Sn,Y.isPlainObject=wp,Y.isRegExp=Qy,Y.isSafeInteger=wC,Y.isSet=aw,Y.isString=cg,Y.isSymbol=Na,Y.isTypedArray=sf,Y.isUndefined=DC,Y.isWeakMap=SC,Y.isWeakSet=EC,Y.join=$c,Y.kebabCase=dx,Y.last=On,Y.lastIndexOf=Wc,Y.lowerCase=px,Y.lowerFirst=hx,Y.lt=TC,Y.lte=CC,Y.max=l6,Y.maxBy=u6,Y.mean=c6,Y.meanBy=f6,Y.min=d6,Y.minBy=p6,Y.stubArray=a0,Y.stubFalse=o0,Y.stubObject=Jx,Y.stubString=Xx,Y.stubTrue=e6,Y.multiply=h6,Y.nth=uu,Y.noConflict=zx,Y.noop=r0,Y.now=_,Y.pad=mx,Y.padEnd=gx,Y.padStart=vx,Y.parseInt=yx,Y.random=sx,Y.reduce=fu,Y.reduceRight=qy,Y.repeat=bx,Y.replace=wx,Y.result=ZC,Y.round=m6,Y.runInContext=ae,Y.sample=o,Y.size=v,Y.snakeCase=Dx,Y.some=S,Y.sortedIndex=sp,Y.sortedIndexBy=lp,Y.sortedIndexOf=Ly,Y.sortedLastIndex=fi,Y.sortedLastIndexBy=Zm,Y.sortedLastIndexOf=up,Y.startCase=Ex,Y.startsWith=Tx,Y.subtract=g6,Y.sum=v6,Y.sumBy=y6,Y.template=Cx,Y.times=t6,Y.toFinite=Zi,Y.toInteger=Ct,Y.toLength=iw,Y.toLower=xx,Y.toNumber=Ja,Y.toSafeInteger=xC,Y.toString=$t,Y.toUpper=Mx,Y.trim=kx,Y.trimEnd=Ix,Y.trimStart=Nx,Y.truncate=Fx,Y.unescape=Ax,Y.uniqueId=r6,Y.upperCase=Ox,Y.upperFirst=Xy,Y.each=yp,Y.eachRight=ef,Y.first=Vc,n0(Y,function(){var u={};return ra(Y,function(f,y){Rt.call(Y.prototype,y)||(u[y]=f)}),u}(),{chain:!1}),Y.VERSION=r,Wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Y[u].placeholder=Y}),Wn(["drop","take"],function(u,f){St.prototype[u]=function(y){y=y===n?1:wn(Ct(y),0);var x=this.__filtered__&&!f?new St(this):this.clone();return x.__filtered__?x.__takeCount__=qn(y,x.__takeCount__):x.__views__.push({size:qn(y,G),type:u+(x.__dir__<0?"Right":"")}),x},St.prototype[u+"Right"]=function(y){return this.reverse()[u](y).reverse()}}),Wn(["filter","map","takeWhile"],function(u,f){var y=f+1,x=y==de||y==De;St.prototype[u]=function(L){var H=this.clone();return H.__iteratees__.push({iteratee:st(L,3),type:y}),H.__filtered__=H.__filtered__||x,H}}),Wn(["head","last"],function(u,f){var y="take"+(f?"Right":"");St.prototype[u]=function(){return this[y](1).value()[0]}}),Wn(["initial","tail"],function(u,f){var y="drop"+(f?"":"Right");St.prototype[u]=function(){return this.__filtered__?new St(this):this[y](1)}}),St.prototype.compact=function(){return this.filter(ua)},St.prototype.find=function(u){return this.filter(u).head()},St.prototype.findLast=function(u){return this.reverse().find(u)},St.prototype.invokeMap=Et(function(u,f){return typeof u=="function"?new St(this):this.map(function(y){return ti(y,u,f)})}),St.prototype.reject=function(u){return this.filter(ce(st(u)))},St.prototype.slice=function(u,f){u=Ct(u);var y=this;return y.__filtered__&&(u>0||f<0)?new St(y):(u<0?y=y.takeRight(-u):u&&(y=y.drop(u)),f!==n&&(f=Ct(f),y=f<0?y.dropRight(-f):y.take(f-u)),y)},St.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},St.prototype.toArray=function(){return this.take(G)},ra(St.prototype,function(u,f){var y=/^(?:filter|find|map|reject)|While$/.test(f),x=/^(?:head|last)$/.test(f),L=Y[x?"take"+(f=="last"?"Right":""):f],H=x||/^find/.test(f);L&&(Y.prototype[f]=function(){var K=this.__wrapped__,te=x?[1]:arguments,se=K instanceof St,ke=te[0],Ie=se||Tt(K),Oe=function(Mt){var At=L.apply(Y,zo([Mt],te));return x&&Ve?At[0]:At};Ie&&y&&typeof ke=="function"&&ke.length!=1&&(se=Ie=!1);var Ve=this.__chain__,at=!!this.__actions__.length,gt=H&&!Ve,xt=se&&!at;if(!H&&Ie){K=xt?K:new St(this);var vt=u.apply(K,te);return vt.__actions__.push({func:Kc,args:[Oe],thisArg:n}),new Gn(vt,Ve)}return gt&&xt?u.apply(this,te):(vt=this.thru(Oe),gt?x?vt.value()[0]:vt.value():vt)})}),Wn(["pop","push","shift","sort","splice","unshift"],function(u){var f=co[u],y=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",x=/^(?:pop|shift)$/.test(u);Y.prototype[u]=function(){var L=arguments;if(x&&!this.__chain__){var H=this.value();return f.apply(Tt(H)?H:[],L)}return this[y](function(K){return f.apply(Tt(K)?K:[],L)})}}),ra(St.prototype,function(u,f){var y=Y[f];if(y){var x=y.name+"";Rt.call(Fs,x)||(Fs[x]=[]),Fs[x].push({name:f,func:y})}}),Fs[$s(n,M).name]=[{name:"wrapper",func:n}],St.prototype.clone=uc,St.prototype.reverse=Td,St.prototype.value=Rs,Y.prototype.at=pi,Y.prototype.chain=Qc,Y.prototype.commit=Ki,Y.prototype.next=Zc,Y.prototype.plant=mp,Y.prototype.reverse=Vy,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=gp,Y.prototype.first=Y.prototype.head,po&&(Y.prototype[po]=hp),Y},Cs=xy();Ya?((Ya.exports=Cs)._=Cs,Nl._=Cs):nn._=Cs}).call(Un)})(qg,qg.exports);var nE=qg.exports;function dg(e){const t=e.match(/^#+/);return t?t[0].length:0}function J8(e,t){const n=e.split(`
`);let r="",a=[],i=!1,s=1;for(let c=0;c<n.length;c++){const d=n[c];if(d.startsWith("#")){if(i&&dg(d)<=dg(t))break;r=d,r===t?(i=!0,s=c+1):i&&dg(d)>dg(t)?a.push(d):(i=!1,a=[])}else i&&a.push(d)}return t?nE.isEmpty(a)?{content:"",startLine:-1}:{content:a.join(`
`),startLine:s}:{content:e,startLine:0}}function X8(e){const t=e.split(/\r?\n/),n=[];for(let r=0;r<t.length;r++)new RegExp(P8).test(t[r])&&n.push({line:t[r],index:r+1});return n}async function eM(e,t){let n=t.vault.getAbstractFileByPath(e);return n||(new I.Notice(O("File not found for the given thino path, is creating a new file")),n=await t.vault.create(e,'{"nodes": [], "edges": []}'),rt.setChangedByMemos(!0)),n}async function tM(e,t){let n;try{n=await t.vault.read(e)}catch{n=await t.vault.cachedRead(e)}const r=n.split(/---\n/);return r.length<3?n:r[2].trim()}function nM(e){const t=e.split(/\r?\n/),n=[];let r="",a=[],i=0;for(let s=0;s<t.length;s++){const c=t[s];c.startsWith("#")?(r&&n.push({header:r,content:a.join(`
`).trim(),pos:{start:i,end:s-1}}),r=c,a=[],i=s):a.push(c)}return r&&n.push({header:r,content:a.join(`
`).trim(),pos:{start:i,end:t.length-1}}),n}function rM(e){const t=e.split(/\r?\n/),n=[];let r=!1,a=[],i="";for(let s=0;s<t.length;s++){const c=t[s];c.startsWith("> [!thino]")?(r&&(n.push({metadata:i,content:a.join(`
`).trim()}),a=[]),r=!0,i=c.replace("> [!thino]","").trim()):r&&c.startsWith(">")?a.push(c.replace(/^> /,"")):r&&!c.startsWith(">")&&(r=!1,n.push({metadata:i,content:a.join(`
`).trim()}),a=[],i="")}return r&&n.push({metadata:i,content:a.join(`
`).trim()}),n}const aM=e=>{let t;switch(e){case" ":t="TASK-TODO";break;case"x":case"X":t="TASK-DONE";break;default:t="TASK-"+e;break}return t};async function oM(e,t){if(!t)return 0;const{vault:n}=Ce.getState().dailyNotesState.app,r=e==null?void 0:e.DefaultMemoComposition,a=(e==null?void 0:e.ProcessEntriesBelow)||"";let i;try{i=await n.read(t)}catch{i=await n.cachedRead(t)}let s;r!=""&&/{TIME}/g.test(r)&&/{CONTENT}/g.test(r)?s="(-|\\*) (\\[(.{1})\\]\\s)?"+r.replace(/{TIME}/g,"((\\<time\\>)?\\d{1,2}:\\d{2})?").replace(/ {CONTENT}/g,""):s="(-|\\*) (\\[(.{1})\\]\\s)?((\\<time\\>)?\\d{1,2}\\:\\d{2})?";const c=new RegExp(s,"g"),d=(i.match(c)||[]).length,h=new RegExp(a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),g=(i.match(h)||[]).length;return i=null,g?d:0}function iM(e){return e.replace(/^(-|\*|\d\.) (\d{1,2}:\d{2})\s(.*)$/g,"$3")}function sM(e,t){return lM(e,t)}const lM=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?((\\d{1,2})\\:(\\d{2}))?(\\<\\/time\\>)?").replace(/{CONTENT}/g,"(.*)$"):n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?((\\d{1,2})\\:(\\d{2}))?(\\<\\/time\\>)?\\s?(.*)$",(a=new RegExp(n,"").exec(t))==null?void 0:a[8]},uM=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\<\\/time\\>)?").replace(/{CONTENT}/g,"(.*)$"):n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)$",(a=new RegExp(n,"").exec(t))==null?void 0:a[4]},cM=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\<\\/time\\>)?").replace(/{CONTENT}/g,"(.*)$"):n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)$",(a=new RegExp(n,"").exec(t))==null?void 0:a[5]},fM=e=>{var t;return(t=/^\s*[\-\*]\s(\[(.{1})\])\s(.*)$/.exec(e))==null?void 0:t[2]},rE=()=>G2()?!0:(new I.Notice(O("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!1);async function aE(e,t){if(!e)return t;const n=Ce.getState().dailyNotesState.app,r=await tM(e,n);if(!r.trim())return t;let a=I.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss");await n.fileManager.processFrontMatter(e,i=>{if(!i)return t;const s=!!i.pinned,c=!!i.archived,d=!!i.deletedAt;i.createdAt&&(a=I.moment(i.createdAt,"YYYY/MM/DD HH:mm:ss").isValid()?i.createdAt:a);const h=i.deletedAt?i.deletedAt:"",g=i.visibility?i.visibility:"PRIVATE",m=i.thinoType?i.thinoType:"JOURNAL",w=i.webId?i.webId:"";i.id||(i.id=Ue.randomId(16));const b=i.id?i.id:"",T=i.hasId?i.hasId:"",E=i.linkId?i.linkId:"",k=e.path,M="Memo",F="MULTI",B=[];return t.push({id:b,content:r,createdAt:a,updatedAt:a,deletedAt:d?I.moment(h,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:s,rowStatus:c?"ARCHIVED":"NORMAL",visibility:g,thinoType:m,hasId:T,linkId:E,path:k,creatorName:M,sourceType:F,resourceList:B,webId:w}),t})}async function X0(e,t){var b,T,E,k,M,F;if(!e)return t;const{vault:n}=Ce.getState().dailyNotesState.app;let r;try{r=await n.read(e)}catch{r=await n.cachedRead(e)}if(!r)return;const a=I.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss"),i=I.moment(e.stat.mtime).format("YYYY/MM/DD HH:mm:ss"),s=e.path,c="Thino",d="FILE",h="",g="",m=[],w=await nM(r);for(const B of w){const N=rM(B.content);for(const P of N){const R=P.metadata.match(/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/g);if(!R)continue;const j=(T=(b=P.metadata.match(/id::([^\]]*)/g))==null?void 0:b[0])==null?void 0:T.replace("id::","");if(!j)continue;const $=R?R[0]:a,W=R?R[0]:i,z=P.metadata.match(/webId::([^\]]*)/g)?(k=(E=P.metadata.match(/webId::([^\]]*)/g))==null?void 0:E[0])==null?void 0:k.replace("webId::",""):"",X=P.metadata.contains("[pinned::true]"),oe=P.metadata.contains("[archived::true]"),ee=P.metadata.contains("[deleted::"),de=(M=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(P.metadata))==null?void 0:M[2],fe=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(P.metadata)?"PUBLIC":"PRIVATE",De=(F=new RegExp(/\[(thinoType|THINOTYPE)::([^\]]*)\]/,"g").exec(P.metadata))==null?void 0:F[2];t.push({id:j,content:P.content,createdAt:$,updatedAt:W,deletedAt:ee?I.moment(de,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:X,rowStatus:oe?"ARCHIVED":"NORMAL",visibility:fe,thinoType:De||"JOURNAL",hasId:h,linkId:g,path:s,creatorName:c,sourceType:d,resourceList:m,webId:z})}}return t}async function e1(e,t){var m,w,b;if(!e)return[];const n=Ce.getState().dailyNotesState.settings,{vault:r}=Ce.getState().dailyNotesState.app;if(await oM(n,e)===0)return;const i=_p(e,"day");let s,c;try{c=await r.read(e)}catch{c=await r.cachedRead(e)}const{content:d,startLine:h}=J8(c,n.ProcessEntriesBelow),g=X8(d);for(const T of g){const E=uM(n.DefaultMemoComposition,T.line),k=cM(n.DefaultMemoComposition,T.line);let M=iM(T.line);if(i.hours(parseInt(E)),i.minutes(parseInt(k)),/^\s*[-*]\s(\[(.)\])\s/g.test(T.line)){const z=fM(T.line);M=sM(n.DefaultMemoComposition,T.line),s=aM(z)}else s="JOURNAL";let F=M;const B=new RegExp(/\[(pinned|PINNED)::true\]/,"g").test(M),N=new RegExp(/\[(archived|ARCHIVED)::true\]/,"g").test(M),P=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").test(M),R=(m=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(M))==null?void 0:m[2],j=(w=new RegExp(/\[(webId|WEBID)::([^\]]*)\]/,"g").exec(M))==null?void 0:w[2],$=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(M)?"PUBLIC":"PRIVATE",W=(b=new RegExp(/\s\^([0-9a-zA-Z-]+)$/).exec(M))==null?void 0:b[1];F=F.replace(/\s\[pinned::[^\]]+\]/g,"").replace(/\s\[visibility::[^\]]+\]/g,"").replace(/\s\[archived::[^\]]+\]/g,"").replace(/\s\[deleted::[^\]]+\]/g,"").replace(/\s\[webId::[^\]]+\]/g,"").replace(/\s\^([0-9a-zA-Z-]+)$/g,""),t.push({id:i.format("YYYYMMDDHHmmSS")+`${T.index+h-1}`,content:F,createdAt:i.format("YYYY/MM/DD HH:mm:SS"),updatedAt:i.format("YYYY/MM/DD HH:mm:SS"),thinoType:s,hasId:W||"",linkId:"",path:e.path,deletedAt:P?I.moment(R,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",rowStatus:N?"ARCHIVED":"NORMAL",visibility:$,pinned:B,creatorName:"Memo",resourceList:[],sourceType:"DAILY",webId:j})}}async function t1(e,t){const{app:n}=Ce.getState().dailyNotesState;if(!(e instanceof I.TFile))return;let r;try{r=await n.vault.read(e)}catch{r=await n.vault.cachedRead(e)}if(!r)return;const a=JSON.parse(r),i=a==null?void 0:a.nodes;for(const s of i){if(s.type==="group"||s.createdAt===void 0||s.text.trim()==="")continue;const c=I.moment(s==null?void 0:s.createdAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),d=I.moment(s==null?void 0:s.updatedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),h=s!=null&&s.deletedAt?I.moment(s==null?void 0:s.deletedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",g=!!(s!=null&&s.pinned),m=s!=null&&s.archived?"ARCHIVED":"NORMAL",w=s!=null&&s.visibility?s==null?void 0:s.visibility:"PRIVATE",b=s!=null&&s.thinoType?s==null?void 0:s.thinoType:"JOURNAL",T=s!=null&&s.text?s==null?void 0:s.text:"",E=s!=null&&s.id?s==null?void 0:s.id:"",k=s!=null&&s.hasId?s==null?void 0:s.hasId:"",M=s!=null&&s.linkId?s==null?void 0:s.linkId:"",F=e.path,B="Memo",N="CANVAS",P=[],R=s!=null&&s.webId?s==null?void 0:s.webId:void 0;t.push({id:E,content:T,createdAt:c,updatedAt:d,deletedAt:h,pinned:g,rowStatus:m,visibility:w,thinoType:b,hasId:k,linkId:M,path:F,creatorName:B,sourceType:N,resourceList:P,webId:R})}}async function Cw(e=[]){const t=[],n=[],r=Ce.getState().dailyNotesState.app,{vault:a}=r,{settings:i}=Ce.getState().dailyNotesState,s=r.loadLocalStorage("tokenForSync"),c=async(d,h)=>{for(const g of d)try{await h(g,t)}catch(m){new I.Notice(m)}};if(e.includes("CANVAS")){const d=dM(a);await c(d,t1)}if(e.includes("MULTI")){const d=pM(a,i);await c(d,aE)}if(e.includes("DAILY")){const d=await hM(a);await c(d,e1)}if(e.includes("FILE")||s){const d=mM(a);await c(d,X0)}return{memos:t,commentMemos:n}}function dM(e){return e.getAllLoadedFiles().filter(t=>t instanceof I.TFile&&t.extension==="canvas"&&t.name.includes(".thino"))}function pM(e,t){return e.getMarkdownFiles().filter(n=>{var r;return n instanceof I.TFile&&((r=n.parent)==null?void 0:r.path.includes(t.MemoOtherSaveLocation.MemoDefaultMultiFilePath.trim()))})}async function hM(e){const t=J2();t===void 0&&new I.Notice(O("Please check your daily note plugin OR periodic notes plugin settings")+"folder path is empty or undefined"),e.getAbstractFileByPath(I.normalizePath(t))||new I.Notice(O("Failed to find daily notes folder"));const r=Nu();return Object.values(r).filter(a=>a instanceof I.TFile&&a.extension==="md")}function mM(e){return e.getMarkdownFiles().filter(t=>t instanceof I.TFile&&t.name.trim().includes("thino"))}const gM=async(e,t,n)=>{const r=await Rf(Ce.getState().dailyNotesState.app)||[],a=r.find(c=>c.id===e),i={...a,title:t,querystring:n},s=r.findIndex(c=>c.id===e);return r[s]=i,await ph(Ce.getState().dailyNotesState.app,r),[a]};function vM(e){return(e==null?void 0:e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))||e}function yM(e){const t=[];let n=e;for(;n.contains(`
`);){const r=n.indexOf(`
`);t.push(n.slice(0,r)),n=n.slice(r+1)}return t.push(n),t}async function bM({content:e,isList:t}){const n=Ce.getState().dailyNotesState.settings,r=I.moment(),a=Ue.randomId(16),i=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",s=`${i}/${r.format("YYYYMMDD")}-${a}.md`,c={id:a,content:e,deletedAt:"",path:s,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"MULTI"},d=ut.getState().app,{vault:h,fileManager:g}=d,m=h.getAbstractFileByPath(i);(!m||!(m instanceof I.TFolder))&&(new I.Notice(O("Folder not found for the given thino path, is creating a new folder")),await h.createFolder(i)),rt.setChangedByMemos(!0);const w=await h.create(s,e);return await g.processFrontMatter(w,b=>{b.id=a,b.createdAt=r.format("YYYY/MM/DD HH:mm:ss"),b.updatedAt=r.format("YYYY/MM/DD HH:mm:ss"),b.thinoType=t?"JOURNAL":"TASK-TODO",b.pinned=!1,b.visibility="PUBLIC",b.rowStatus="NORMAL"}),c}async function wM({content:e,isList:t}){const n=Ce.getState().dailyNotesState.settings,r=I.moment(),a=Ue.randomId(16),i=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",s={id:a,content:e,deletedAt:"",path:i,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE"},c=ut.getState().app,{vault:d}=c;let h=d.getAbstractFileByPath(i);(!h||!(h instanceof I.TFile))&&(new I.Notice(O("File not found for the given thino path, is creating a new file")),h=await d.create(i,""));let g="";try{g=await d.read(h)||await d.cachedRead(h)}catch{new I.Notice(O("Failed to read current daily note, check if it exists."))}const m=g.indexOf(`# ${r.format("YYYY-MM-DD")}`);let w=g.indexOf(`
#`,m+1);w===-1&&(w=g.length);const b=`> [!thino] ${r.format("YYYY/MM/DD HH:mm:ss")} %% [id::${a}] [thinoType::${t?"JOURNAL":"TASK-TODO"}] %%`,T=e.replace(/\n/g,`
> `),E=`
${b}
> ${T}
`;let k;if(m===-1){const M=`# ${r.format("YYYY-MM-DD")}`;k=`${g.substring(0,w)}
${M}${E}
${g.substring(w)}`}else k=`${g.substring(0,w)}${E}${g.substring(w)}`;return setTimeout(async()=>{rt.setChangedByMemos(!0),await d.modify(h,k)},200),s}async function xw(e){const t=Ce.getState().dailyNotesState.settings,n=I.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),r=e.id,a=(t==null?void 0:t.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",i={id:r,content:e.content,deletedAt:e.deletedAt??"",path:a,createdAt:n.format("YYYY/MM/DD HH:mm:ss"),updatedAt:n.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",hasId:"",linkId:"",pinned:e.pinned,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE",webId:e.id},s=ut.getState().app,{vault:c}=s;let d=c.getAbstractFileByPath(a);(!d||!(d instanceof I.TFile))&&(new I.Notice(O("File not found for the given thino path, is creating a new file")),d=await c.create(a,""));let h="";try{h=await c.read(d)||await c.cachedRead(d)}catch{new I.Notice(O("Failed to read current daily note, check if it exists."))}const g=h.indexOf(`# ${n.format("YYYY-MM-DD")}`);let m=h.indexOf(`
#`,g+1);m===-1&&(m=h.length);const w=`> [!thino] ${n.format("YYYY/MM/DD HH:mm:ss")} %% [id::${r}] [thinoType::JOURNAL]${e.rowStatus==="ARCHIVED"?" [archived::true]":""}${e.pinned===!0?" [pinned::true]":""}${e.deletedAt?` [deleted::${e.deletedAt}]`:""}${e.id?` [webId::${e.id}]`:""}  %%`,b=e.content.replace(/\n/g,`
> `),T=`
${w}
> ${b}
`;let E;if(g===-1){const k=`# ${n.format("YYYY-MM-DD")}`;E=`${h.substring(0,m)}
${k}${T}
${h.substring(m)}`}else E=`${h.substring(0,m)}${T}${h.substring(m)}`;return rt.setChangedByMemos(!0),await c.modify(d,E),i}async function DM({content:e,isList:t}){const n=Ce.getState().dailyNotesState.settings,r=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultCanvasPath)||"basic.thino.canvas",a=I.moment(),i=Ue.randomId(16),s={id:i,content:e,deletedAt:"",path:r,createdAt:a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:a.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"CANVAS"},c=ut.getState().app,{vault:d}=c,h=await eM(r,c);if(!h||!(h instanceof I.TFile)){new I.Notice(O("File not found for the given thino path, is creating a new file"));return}const g=await d.read(h),m=JSON.parse(g);if(m.nodes.find(k=>k.id===s.id))return;let b;m.nodes.length>0&&(b=[...m.nodes].reduce((k,M)=>{if(!k.createdAt)return M;const F=I.moment(k.createdAt,"YYYY/MM/DD HH:mm:ss"),B=I.moment(M.createdAt,"YYYY/MM/DD HH:mm:ss");return F.isAfter(B)?k:M}));const T=b?{x:b.x,y:b.y+100,width:b.width,height:b.height}:{x:0,y:0,width:200,height:100};m.nodes.push({...T,type:"text",id:i,text:e,deletedAt:"",createdAt:a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:a.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[]}),rt.setChangedByMemos(!0);const E=JSON.stringify(m,null,2);return await d.modify(h,E),s}async function Mw(e,t,n){var F;const{vault:r}=Ce.getState().dailyNotesState.app??app,a=Ce.getState().dailyNotesState.settings,i=e.replace(/\n/g,"<br>"),s=n??I.moment(),c=s.format("HH"),d=s.format("mm"),h=`${c}:${d}`,g=t?"- ":"- [ ] ",m=a!=null&&a.DefaultMemoComposition?`${g}${(F=a==null?void 0:a.DefaultMemoComposition)==null?void 0:F.replace(/{TIME}/g,h).replace(/{CONTENT}/g,i)}`:`${g}${h} ${i}`,w=Nu(),b=bv(s,w);let T;if(b?T=b:T=await Ue.createDailyNoteCheck(s),!T){new I.Notice(O("Failed to create daily note, check if it exists."));return}b||await ut.fechLocalDailyNotes();let E="";try{E=await r.read(T)||await r.cachedRead(T)}catch{new I.Notice(O("Failed to read current daily note, check if it exists."))}const k=await oE(a==null?void 0:a.InsertAfter,m,E);n?await r.modify(T,k.content):setTimeout(async()=>{await r.modify(T,k.content)},200);const M=k.posNum===-1?iE(k.content).length-1:k.posNum+1;return rt.setChangedByMemos(!0),{id:s.format("YYYYMMDDHHmm")+"00"+M,content:e,deletedAt:"",createdAt:s.format("YYYY/MM/DD HH:mm:ss"),updatedAt:s.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"":"TASK-TODO",path:T.path,hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function SM(e){const{vault:t}=Ce.getState().dailyNotesState.app??app,{DefaultMemoComposition:n,InsertAfter:r}=Ce.getState().dailyNotesState.settings;let a=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PRIVATE"?' [visibility::"PRIVATE"]':"");if(e.id){const B=" [webId::"+e.id+"]";a+=B}const i=I.moment();if(e.deletedAt){const B=" [deleted::"+i.format("YYYYMMDDHHmmss")+"]";a+=B}const s=e.content.replace(/\n/g,"<br>")+a,c=I.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),d=c.format("HH"),h=c.format("mm"),g=`${d}:${h}`,m=e.thinoType?"- [ ] ":"- ",w=n?`${m}${n==null?void 0:n.replace(/{TIME}/g,g).replace(/{CONTENT}/g,s)}`:`${m}${g} ${s}`,b=Nu(),T=bv(c,b);let E;if(T?E=T:E=await Ue.createDailyNoteCheck(c),!E){new I.Notice(O("Failed to create daily note, check if it exists."));return}T||await ut.fechLocalDailyNotes();let k="";try{k=await t.read(E)||await t.cachedRead(E)}catch{new I.Notice(O("Failed to read current daily note, check if it exists."))}const M=await oE(r,w,k);await t.modify(E,M.content);const F=M.posNum===-1?iE(M.content).length-1:M.posNum+1;return rt.setChangedByMemos(!0),{id:c.format("YYYYMMDDHHmm")+"00"+F,content:e.content,deletedAt:e.deletedAt??"",createdAt:c.format("YYYY/MM/DD HH:mm:ss"),updatedAt:c.format("YYYY/MM/DD HH:mm:ss"),thinoType:e.thinoType??"JOURNAL",path:E.path,hasId:"",linkId:"",pinned:e.pinned??!1,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",webId:e.id,creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function oE(e,t,n){const r=new RegExp(`s*${await vM(e)}s*`),a=yM(n),i=a.findIndex(h=>r.test(h)),s=(e==null?void 0:e.trim())===""?!0:i===-1,c=a.slice(i+1).findIndex(h=>/^#+ |---/.test(h)),d=c!==-1;if(d){let h;for(let g=c+i;g>i;g--)if(!/^[\s\n ]*$/.test(a[g])){h=g;break}return h||(h=i),await kw(t,n,s?-1:h,d)}else return await kw(t,n,a.length-1,d)}async function kw(e,t,n,r){if(n<-1)throw new Error("Invalid position");if(n===-1)return{content:`${t}
${e}`,posNum:-1};const a=t.split(`
`),i=a.slice(0,n+1).join(`
`),s=a.slice(n+1).join(`
`),c=s.trim().length>0;return{content:`${i}${!c&&!r||!i.endsWith(`
`)?`
`:""}${e}${(c||r?`
`:"")+s}`,posNum:n}}const iE=e=>e.split(/\r?\n/);async function EM(e){const t=Ce.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof I.TFile)){new I.Notice(O("File not found for the given thino path"));return}await t.vault.delete(n)}async function TM(e){const t=Ce.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof I.TFile)){new I.Notice(O("File not found for the given thino path"));return}const a=(await t.vault.read(n)).split(`
`),i=a.findIndex(d=>d.includes(e.id));if(i===-1){new I.Notice(O("Thino not found"));return}const s=a.findIndex((d,h)=>h>i&&d.trim()==="");s===-1?a.splice(i,a.length-i):a.splice(i,s-i);const c=a.join(`
`);if(!c){new I.Notice(O("Thino not found"));return}rt.setChangedByMemos(!0),await t.vault.modify(n,c)}async function CM(e){const t=Ce.getState().dailyNotesState.app,n=t.metadataCache.getFirstLinkpathDest("",e.path);if(!n){new I.Notice(O("File not found for the given thino path"));return}const r=await t.vault.read(n),a=JSON.parse(r),i=a.nodes,s=i.findIndex(g=>g.id===e.id);if(s===-1){new I.Notice(O("Thino not found"));return}i.splice(s,1);const c=a.edges;c.filter(g=>g.fromNode===e.id||g.toNode===e.id).forEach(g=>{const m=c.findIndex(w=>w.id===g.id);m!==-1&&c.splice(m,1)}),rt.setChangedByMemos(!0);const h=JSON.stringify(a,null,2);await t.vault.modify(n,h)}async function xM(e){rE()||new I.Notice(O("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."),5e3);const{vault:t}=Ce.getState().dailyNotesState.app,n=e.id.toString().slice(0,14),r=I.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(I.moment(n,"YYYYMMDDHHmmss"))?I.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):I.moment(n,"YYYYMMDDHHmmss"),a=I.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(r,"day"),i=e.path,s=t.getAbstractFileByPath(i);if(!s){new I.Notice(O("Please check your daily note plugin OR periodic notes plugin settings"));return}const c=await t.read(s),d=c.split(`
`),h=a?I.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14),g=d.findIndex(T=>T.includes(e.content.replace(/\n/g,"<br>").trim())&&T.includes(h)),m=parseInt(e.id.slice(14));let w=g;g===-1&&(w=m-1);const b=d[g]||d[m-1];if(!c){new I.Notice(O("Thino not found"));return}if(b===d[w]){rt.setChangedByMemos(!0),d.splice(w,1),await t.modify(s,d.join(`
`));return}}async function MM(){const{vault:e,metadataCache:t}=Ce.getState().dailyNotesState.app,n=Ce.getState().dailyNotesState.settings,a=J2()+"/"+n.DeleteFileName+".md",i=[],s=t.getFirstLinkpathDest("",a);if(s instanceof I.TFile){let c=await e.read(s),d=kM(c);if(d.length===0)return i;for(let h=0;h<d.length;h++){const g=d[h];if(/- /.test(g)){const w=IM(g).slice(0,13),b=I.moment(w,"YYYYMMDDHHmmss"),T=FM(d[h]),E=I.moment(T.slice(0,13),"YYYYMMDDHHmmss"),k=NM(d[h]);i.push({id:T,content:k,user_id:1,createdAt:b.format("YYYY/MM/DD HH:mm:SS"),updatedAt:b.format("YYYY/MM/DD HH:mm:SS"),deletedAt:E})}else continue}d=null,c=null}return i}const kM=e=>e.split(/\r?\n/),IM=e=>{var t;return(t=/^- (\d{14})(\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[1]},NM=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[2]},FM=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[4]};async function AM(e){const t=await Rf(Ce.getState().dailyNotesState.app)||[],n=t.findIndex(r=>r.id===e);t.splice(n,1),await ph(Ce.getState().dailyNotesState.app,t)}const OM=async e=>{const{app:t}=Ce.getState().dailyNotesState,n=await Rf(t)||[],r=n.find(a=>a.id===e);if(r){const a=I.moment().format("YYYY/MM/DD HH:mm:ss");return r.pinnedAt=a,await ph(t,n),a}else{new I.Notice(O("Query not found"));return}},RM=async e=>{const{app:t}=Ce.getState().dailyNotesState,n=await Rf(t)||[],r=n.find(a=>a.id===e);if(r){r.pinnedAt="",await ph(t,n);return}else{new I.Notice(O("Query not found"));return}};function LM(e,t){const n=/%%(.*?)%%/,r=e.match(n);if(!r)return e;const a=r[1].trim(),i={};a.split(" ").forEach(c=>{const[d,h]=c.slice(1,-1).split("::");i[d]=h});for(const c of Object.keys(t))if(c!=="id"&&c!=="content"){if(c==="rowStatus"&&t.rowStatus==="ARCHIVED"){i.archived="true";continue}else if(c==="rowStatus"&&t.rowStatus==="NORMAL"){delete i.archived;continue}if(c==="deleted"&&t.deleted){const d=I.moment().format("YYYYMMDDHHmmss");i.deleted=d}else typeof t[c]=="boolean"?t[c]?i[c]="true":delete i[c]:t[c]&&(i[c]=t[c])}const s=Object.entries(i).map(([c,d])=>`[${c}::${d}]`).join(" ");return e.replace(n,`%% ${s} %%`)}async function ns(e,t){if(!e.sourceType||e.sourceType!=="MULTI")return e;const{vault:n,fileManager:r}=Ce.getState().dailyNotesState.app,a=n.getAbstractFileByPath(e.path);if(!a)return e;const i=I.moment();if(await r.processFrontMatter(a,s=>{(t.pinned||t.thinoType||t.rowStatus||t.visibility||t.deleted)&&rt.setChangedByMemos(!0),t.id&&(s.id=t.id),t.thinoType&&(s.thinoType=t.thinoType),t.rowStatus&&(s.rowStatus=t.rowStatus),t.visibility&&(s.visibility=t.visibility),t.webId&&(s.webId=t.webId),t.pinned!==void 0&&(s.pinned=t.pinned),t.deleted!==void 0&&(s.deletedAt=t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):""),s.createdAt||(s.createdAt=i.format("YYYY/MM/DD HH:mm:ss")),s.updatedAt=i.format("YYYY/MM/DD HH:mm:ss")}),t.content){const s=await n.read(a);let c=s;const d=t.content.replace(/\$/g,"$$$$");c=s.replace(e.content,d),await n.modify(a,c)}return rt.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||i.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?i.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function ll(e,t){if(!e.sourceType||e.sourceType!=="FILE")return e;const{vault:n}=Ce.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const a=I.moment();let i="";try{i=await n.read(r)}catch{i=await n.cachedRead(r)}const s=i.split(/\r?\n/),c=s.findIndex(M=>M.includes(e.id)||e.webId&&M.includes(e.webId)),d=s[c];if(!d)return e;const h=LM(d,t);if(!d)return e;const g=h+`
`,m=s.findIndex((M,F)=>F>c&&M.trim()==="");let w="";m===-1&&(w=s.slice(c+1).join(`
`)),m!==-1&&(w=s.slice(c+1,m).join(`
`));let b=w;t!=null&&t.content&&(b=t.content.split(/\r?\n/).map(N=>"> "+N).join(`
`));const E=(g+b).split(/\r?\n/);s.splice(c,m?m-c:s.length-c,...E);const k=s.join(`
`);return await n.modify(r,k),rt.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?a.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function ul(e,t){if(!e.sourceType||e.sourceType!=="CANVAS")return e;const{vault:n}=Ce.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const a=await n.read(r),i=JSON.parse(a),s=i.nodes.find(h=>h.id===e.id);if(!s)return e;t.content&&(s.text=t.content),t.thinoType&&(s.thinoType=t.thinoType),t.rowStatus&&(s.rowStatus=t.rowStatus),t.visibility&&(s.visibility=t.visibility),t.pinned!==void 0&&(s.pinned=t.pinned),t.webId&&(s.webId=t.webId);const c=I.moment();t.deleted!==void 0&&(s.deletedAt=t.deleted?c.format("YYYY/MM/DD HH:mm:ss"):""),s.updatedAt=c.format("YYYY/MM/DD HH:mm:ss");const d=JSON.stringify(i,null,2);return await n.modify(r,d),rt.setChangedByMemos(!0),{...e,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?c.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function cl(e,t){rE()||new I.Notice(O("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."));const{vault:n}=Ce.getState().dailyNotesState.app,r=e.id.toString().slice(0,14),a=I.moment(e.createdAt,"YYYY-MM-DD HH:mm:ss").isSame(I.moment(r,"YYYYMMDDHHmmss"))?I.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):I.moment(r,"YYYYMMDDHHmmss"),i=I.moment(e.createdAt,"YYYY-MM-DD HH:mm:ss").isSame(a,"day"),s=e.path,c=n.getAbstractFileByPath(s)||n.getAbstractFileByPath(e.path);if(!c)return new I.Notice(O("Please check your daily note plugin OR periodic notes plugin settings")),e;const h=(await n.read(c)).split(`
`),g=i?I.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14);let m,w,b;try{m=h.findIndex(M=>{const F=M.replace(/^(-|\*|\d\.|-\s\[.?\])\s\d{2}:\d{2}/,"").trim(),B=e.content.replace(/\n/g,"<br>").trim(),N=M.includes(g),P=F.includes(B);return N&&(P||F===B)}),b=!1,w=parseInt(e.id.slice(14))}catch{}let T=m!==-1&&m===w?m:w;m===-1&&(T=w,h[w-1]&&(b=!0));let E=h[w]||h[m];if(E=E.replace(/\s\^([0-9a-zA-Z-]+)$/g,""),!E)return new I.Notice(O("Thino not found")),e;if(t.content)if(b){const M=e.thinoType==="TASK-TODO"?"- [ ] ":e.thinoType==="TASK-DONE"?"- [x] ":e.thinoType.startsWith("TASK")?`- [${e.thinoType.slice(5)}] `:"- ",F=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PUBLIC"?' [visibility::"PUBLIC"]':"");E=`${M}${g} ${t.content.trim()} ${F}`}else{const M=/^(((-|\*)|(\d\.)|(-\s\[.?\]))\s\d{2}:\d{2})/.exec(E)[1];E=E.replace(/^(((-|\*)|(\d\.)|(-\s\[.?\]))\s\d{2}:\d{2})/,"").replace(e.content.trim().replace(/\n/g,"<br>"),t.content.trim().replace(/\n/g,"<br>")).trim(),E=M+" "+E}if(t.thinoType){const M=t.thinoType==="TASK-TODO"?"- [ ] ":t.thinoType==="TASK-DONE"?"- [x] ":t.thinoType.startsWith("TASK")?`- [${t.thinoType.slice(5)}] `:"- ";E=E.replace(/^((- \[.\] )|((-|\*) ))/,M)}if(t.rowStatus){const M=t.rowStatus==="ARCHIVED"?"[archived::"+(t.rowStatus==="ARCHIVED"?"true":"false")+"]":"";E=E.includes("[archived::")?E.replace(/\[archived::(true|false)\]/,M):E+" "+M}if(t.visibility){const M='[visibility::"'+t.visibility+'"]';E=E.includes("[visibility::")?E.replace(/\[visibility::"(PUBLIC|PROTECTED)"\]/g,M):E+" "+M}if(t.pinned!==void 0){const M=t.pinned?"[pinned::"+(t.pinned?"true":"false")+"]":"";E=E.includes("[pinned::")?E.replace(/\[pinned::(true|false)\]/,t.pinned===!1?"":M):E+" "+M}if(t.webId!==void 0){const M="[webId::"+t.webId+"]";E=E.includes("[webId::")?E.replace(/\[webId::([^\]]+)\]/,t.webId===""?"":M):E+" "+M}const k=I.moment();if(t.deleted!==void 0){const M="[deleted::"+k.format("YYYYMMDDHHmmss")+"]";t.deleted?(E=E.replace(/\[deleted::([^\]]+)\]/,""),E=E+" "+M):t.deleted===!1&&(E=E.replace(/\[deleted::([^\]]+)\]/,""))}if(e.hasId){const M=" ^"+e.hasId;E=E.replace(/\s\^([0-9a-zA-Z-]+)$/g,"")+M}return E!==h[T]?(h.splice(T,1,E),await n.modify(c,h.join(`
`)),rt.setChangedByMemos(!0),{...e,thinoType:t.thinoType??e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?k.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}):e}const _M=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return ul(e,{id:e.id,pinned:!0});case"DAILY":return cl(e,{id:e.id,pinned:!0});case"MULTI":return ns(e,{id:e.id,pinned:!0});case"FILE":return ll(e,{id:e.id,pinned:!0})}},PM=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return ul(e,{id:e.id,pinned:!1});case"DAILY":return cl(e,{id:e.id,pinned:!1});case"MULTI":return ns(e,{id:e.id,pinned:!1});case"FILE":return ll(e,{id:e.id,pinned:!1})}};var n1;(e=>{async function t(E){return await Cw(E)}e.getMyMemos=t;async function n(E){return await Cw([E])}e.updateSpecificTypeMemo=n;function r(){return MM()}e.getMyDeletedMemos=r;function a(E){const k=Me.getMemoById(E);if(k)switch(k==null?void 0:k.sourceType){case"DAILY":return cl(k,{id:k.id,deleted:!1});case"CANVAS":return ul(k,{id:k.id,deleted:!1});case"MULTI":return ns(k,{id:k.id,deleted:!1});case"FILE":return ll(k,{id:k.id,deleted:!1})}}e.restoreMemo=a;function i(E){return TM(E)}e.deleteMemoInSingleFile=i;function s(E){return EM(E)}e.deleteMemoInMultiFiles=s;function c(E){return xM(E)}e.deleteMemoInDailyNote=c;function d(E){return CM(E)}e.deleteMemoInCanvas=d;function h(){return K8()}e.getMyQueries=h;async function g(E,k){return await Z8(E,k)}e.createQuery=g;function m(E,k,M){return gM(E,k,M)}e.updateQuery=m;function w(E){return AM(E)}e.deleteQueryById=w;function b(E){return OM(E)}e.pinQuery=b;function T(E){return RM(E)}e.unpinQuery=T})(n1||(n1={}));const fa=n1;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});class Au extends Error{}class jM extends Au{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class BM extends Au{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class YM extends Au{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Op extends Au{}class sE extends Au{constructor(t){super(`Invalid unit ${t}`)}}class eo extends Au{}class el extends Au{constructor(){super("Zone is an abstract class")}}const ze="numeric",Fo="short",La="long",Gg={year:ze,month:ze,day:ze},lE={year:ze,month:Fo,day:ze},HM={year:ze,month:Fo,day:ze,weekday:Fo},uE={year:ze,month:La,day:ze},cE={year:ze,month:La,day:ze,weekday:La},fE={hour:ze,minute:ze},dE={hour:ze,minute:ze,second:ze},pE={hour:ze,minute:ze,second:ze,timeZoneName:Fo},hE={hour:ze,minute:ze,second:ze,timeZoneName:La},mE={hour:ze,minute:ze,hourCycle:"h23"},gE={hour:ze,minute:ze,second:ze,hourCycle:"h23"},vE={hour:ze,minute:ze,second:ze,hourCycle:"h23",timeZoneName:Fo},yE={hour:ze,minute:ze,second:ze,hourCycle:"h23",timeZoneName:La},bE={year:ze,month:ze,day:ze,hour:ze,minute:ze},wE={year:ze,month:ze,day:ze,hour:ze,minute:ze,second:ze},DE={year:ze,month:Fo,day:ze,hour:ze,minute:ze},SE={year:ze,month:Fo,day:ze,hour:ze,minute:ze,second:ze},UM={year:ze,month:Fo,day:ze,weekday:Fo,hour:ze,minute:ze},EE={year:ze,month:La,day:ze,hour:ze,minute:ze,timeZoneName:Fo},TE={year:ze,month:La,day:ze,hour:ze,minute:ze,second:ze,timeZoneName:Fo},CE={year:ze,month:La,day:ze,weekday:La,hour:ze,minute:ze,timeZoneName:La},xE={year:ze,month:La,day:ze,weekday:La,hour:ze,minute:ze,second:ze,timeZoneName:La};class hh{get type(){throw new el}get name(){throw new el}get ianaName(){return this.name}get isUniversal(){throw new el}offsetName(t,n){throw new el}formatOffset(t,n){throw new el}offset(t){throw new el}equals(t){throw new el}get isValid(){throw new el}}let l0=null;class wv extends hh{static get instance(){return l0===null&&(l0=new wv),l0}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return kE(t,n,r)}formatOffset(t,n){return jp(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let Lg={};function VM(e){return Lg[e]||(Lg[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Lg[e]}const zM={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function $M(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,a,i,s,c,d,h,g]=r;return[s,a,i,c,d,h,g]}function WM(e,t){const n=e.formatToParts(t),r=[];for(let a=0;a<n.length;a++){const{type:i,value:s}=n[a],c=zM[i];i==="era"?r[c]=s:_t(c)||(r[c]=parseInt(s,10))}return r}let pg={};class os extends hh{static create(t){return pg[t]||(pg[t]=new os(t)),pg[t]}static resetCache(){pg={},Lg={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=os.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return kE(t,n,r,this.name)}formatOffset(t,n){return jp(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const r=VM(this.name);let[a,i,s,c,d,h,g]=r.formatToParts?WM(r,n):$M(r,n);c==="BC"&&(a=-Math.abs(a)+1);const w=z1({year:a,month:i,day:s,hour:d===24?0:d,minute:h,second:g,millisecond:0});let b=+n;const T=b%1e3;return b-=T>=0?T:1e3+T,(w-b)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Iw={};function qM(e,t={}){const n=JSON.stringify([e,t]);let r=Iw[n];return r||(r=new Intl.ListFormat(e,t),Iw[n]=r),r}let r1={};function a1(e,t={}){const n=JSON.stringify([e,t]);let r=r1[n];return r||(r=new Intl.DateTimeFormat(e,t),r1[n]=r),r}let o1={};function GM(e,t={}){const n=JSON.stringify([e,t]);let r=o1[n];return r||(r=new Intl.NumberFormat(e,t),o1[n]=r),r}let i1={};function KM(e,t={}){const{base:n,...r}=t,a=JSON.stringify([e,r]);let i=i1[a];return i||(i=new Intl.RelativeTimeFormat(e,t),i1[a]=i),i}let Rp=null;function QM(){return Rp||(Rp=new Intl.DateTimeFormat().resolvedOptions().locale,Rp)}function ZM(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let r,a;try{r=a1(e).resolvedOptions(),a=e}catch{const d=e.substring(0,n);r=a1(d).resolvedOptions(),a=d}const{numberingSystem:i,calendar:s}=r;return[a,i,s]}}function JM(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function XM(e){const t=[];for(let n=1;n<=12;n++){const r=ot.utc(2016,n,1);t.push(e(r))}return t}function ek(e){const t=[];for(let n=1;n<=7;n++){const r=ot.utc(2016,11,13+n);t.push(e(r))}return t}function hg(e,t,n,r,a){const i=e.listingMode(n);return i==="error"?null:i==="en"?r(t):a(t)}function tk(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class nk{constructor(t,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:a,floor:i,...s}=r;if(!n||Object.keys(s).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=GM(t,c)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):V1(t,3);return Bn(n,this.padTo)}}}class rk{constructor(t,n,r){this.opts=r;let a;if(t.zone.isUniversal){const s=-1*(t.offset/60),c=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;t.offset!==0&&os.create(c).valid?(a=c,this.dt=t):(a="UTC",r.timeZoneName?this.dt=t:this.dt=t.offset===0?t:ot.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,a=t.zone.name);const i={...this.opts};i.timeZone=i.timeZone||a,this.dtf=a1(n,i)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class ak{constructor(t,n,r){this.opts={style:"long",...r},!n&&ME()&&(this.rtf=KM(t,r))}format(t,n){return this.rtf?this.rtf.format(t,n):Dk(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}class un{static fromOpts(t){return un.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,n,r,a=!1){const i=t||jn.defaultLocale,s=i||(a?"en-US":QM()),c=n||jn.defaultNumberingSystem,d=r||jn.defaultOutputCalendar;return new un(s,c,d,i)}static resetCache(){Rp=null,r1={},o1={},i1={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r}={}){return un.create(t,n,r)}constructor(t,n,r,a){const[i,s,c]=ZM(t);this.locale=i,this.numberingSystem=n||s||null,this.outputCalendar=r||c||null,this.intl=JM(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=tk(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:un.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1,r=!0){return hg(this,t,r,FE,()=>{const a=n?{month:t,day:"numeric"}:{month:t},i=n?"format":"standalone";return this.monthsCache[i][t]||(this.monthsCache[i][t]=XM(s=>this.extract(s,a,"month"))),this.monthsCache[i][t]})}weekdays(t,n=!1,r=!0){return hg(this,t,r,RE,()=>{const a=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=n?"format":"standalone";return this.weekdaysCache[i][t]||(this.weekdaysCache[i][t]=ek(s=>this.extract(s,a,"weekday"))),this.weekdaysCache[i][t]})}meridiems(t=!0){return hg(this,void 0,t,()=>LE,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ot.utc(2016,11,13,9),ot.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(t,n=!0){return hg(this,t,n,_E,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[ot.utc(-40,1,1),ot.utc(2017,1,1)].map(a=>this.extract(a,r,"era"))),this.eraCache[t]})}extract(t,n,r){const a=this.dtFormatter(t,n),i=a.formatToParts(),s=i.find(c=>c.type.toLowerCase()===r);return s?s.value:null}numberFormatter(t={}){return new nk(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new rk(t,this.intl,n)}relFormatter(t={}){return new ak(this.intl,this.isEnglish(),t)}listFormatter(t={}){return qM(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let u0=null;class Wr extends hh{static get utcInstance(){return u0===null&&(u0=new Wr(0)),u0}static instance(t){return t===0?Wr.utcInstance:new Wr(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Wr(Sv(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${jp(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${jp(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return jp(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class ok extends hh{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function fl(e,t){if(_t(e)||e===null)return t;if(e instanceof hh)return e;if(ik(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?wv.instance:n==="utc"||n==="gmt"?Wr.utcInstance:Wr.parseSpecifier(n)||os.create(e)}else return wu(e)?Wr.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new ok(e)}let Nw=()=>Date.now(),Fw="system",Aw=null,Ow=null,Rw=null,Lw=60,_w;class jn{static get now(){return Nw}static set now(t){Nw=t}static set defaultZone(t){Fw=t}static get defaultZone(){return fl(Fw,wv.instance)}static get defaultLocale(){return Aw}static set defaultLocale(t){Aw=t}static get defaultNumberingSystem(){return Ow}static set defaultNumberingSystem(t){Ow=t}static get defaultOutputCalendar(){return Rw}static set defaultOutputCalendar(t){Rw=t}static get twoDigitCutoffYear(){return Lw}static set twoDigitCutoffYear(t){Lw=t%100}static get throwOnInvalid(){return _w}static set throwOnInvalid(t){_w=t}static resetCaches(){un.resetCache(),os.resetCache()}}function _t(e){return typeof e>"u"}function wu(e){return typeof e=="number"}function Dv(e){return typeof e=="number"&&e%1===0}function ik(e){return typeof e=="string"}function sk(e){return Object.prototype.toString.call(e)==="[object Date]"}function ME(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function lk(e){return Array.isArray(e)?e:[e]}function Pw(e,t,n){if(e.length!==0)return e.reduce((r,a)=>{const i=[t(a),a];return r&&n(r[0],i[0])===r[0]?r:i},null)[1]}function uk(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function wf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function as(e,t,n){return Dv(e)&&e>=t&&e<=n}function ck(e,t){return e-t*Math.floor(e/t)}function Bn(e,t=2){const n=e<0;let r;return n?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function sl(e){if(!(_t(e)||e===null||e===""))return parseInt(e,10)}function pu(e){if(!(_t(e)||e===null||e===""))return parseFloat(e)}function U1(e){if(!(_t(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function V1(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function mh(e){return e%4===0&&(e%100!==0||e%400===0)}function Pp(e){return mh(e)?366:365}function Kg(e,t){const n=ck(t-1,12)+1,r=e+(t-n)/12;return n===2?mh(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function z1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function Qg(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return t===4||r===3?53:52}function s1(e){return e>99?e:e>jn.twoDigitCutoffYear?1900+e:2e3+e}function kE(e,t,n,r=null){const a=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const s={timeZoneName:t,...i},c=new Intl.DateTimeFormat(n,s).formatToParts(a).find(d=>d.type.toLowerCase()==="timezonename");return c?c.value:null}function Sv(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,a=n<0||Object.is(n,-0)?-r:r;return n*60+a}function IE(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new eo(`Invalid unit value ${e}`);return t}function Zg(e,t){const n={};for(const r in e)if(wf(e,r)){const a=e[r];if(a==null)continue;n[t(r)]=IE(a)}return n}function jp(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),a=e>=0?"+":"-";switch(t){case"short":return`${a}${Bn(n,2)}:${Bn(r,2)}`;case"narrow":return`${a}${n}${r>0?`:${r}`:""}`;case"techie":return`${a}${Bn(n,2)}${Bn(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Ev(e){return uk(e,["hour","minute","second","millisecond"])}const fk=["January","February","March","April","May","June","July","August","September","October","November","December"],NE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dk=["J","F","M","A","M","J","J","A","S","O","N","D"];function FE(e){switch(e){case"narrow":return[...dk];case"short":return[...NE];case"long":return[...fk];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const AE=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],OE=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],pk=["M","T","W","T","F","S","S"];function RE(e){switch(e){case"narrow":return[...pk];case"short":return[...OE];case"long":return[...AE];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const LE=["AM","PM"],hk=["Before Christ","Anno Domini"],mk=["BC","AD"],gk=["B","A"];function _E(e){switch(e){case"narrow":return[...gk];case"short":return[...mk];case"long":return[...hk];default:return null}}function vk(e){return LE[e.hour<12?0:1]}function yk(e,t){return RE(t)[e.weekday-1]}function bk(e,t){return FE(t)[e.month-1]}function wk(e,t){return _E(t)[e.year<0?0:1]}function Dk(e,t,n="always",r=!1){const a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&i){const m=e==="days";switch(t){case 1:return m?"tomorrow":`next ${a[e][0]}`;case-1:return m?"yesterday":`last ${a[e][0]}`;case 0:return m?"today":`this ${a[e][0]}`}}const s=Object.is(t,-0)||t<0,c=Math.abs(t),d=c===1,h=a[e],g=r?d?h[1]:h[2]||h[1]:d?a[e][0]:e;return s?`${c} ${g} ago`:`in ${c} ${g}`}function jw(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const Sk={D:Gg,DD:lE,DDD:uE,DDDD:cE,t:fE,tt:dE,ttt:pE,tttt:hE,T:mE,TT:gE,TTT:vE,TTTT:yE,f:bE,ff:DE,fff:EE,ffff:CE,F:wE,FF:SE,FFF:TE,FFFF:xE};class Or{static create(t,n={}){return new Or(t,n)}static parseFormat(t){let n=null,r="",a=!1;const i=[];for(let s=0;s<t.length;s++){const c=t.charAt(s);c==="'"?(r.length>0&&i.push({literal:a,val:r}),n=null,r="",a=!a):a||c===n?r+=c:(r.length>0&&i.push({literal:!1,val:r}),r=c,n=c)}return r.length>0&&i.push({literal:a,val:r}),i}static macroTokenToFormatOpts(t){return Sk[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTime(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTimeParts(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).formatToParts()}formatInterval(t,n={}){return this.loc.dtFormatter(t.start,{...this.opts,...n}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return Bn(t,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,n){const r=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(b,T)=>this.loc.extract(t,b,T),s=b=>t.isOffsetFixed&&t.offset===0&&b.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,b.format):"",c=()=>r?vk(t):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(b,T)=>r?bk(t,b):i(T?{month:b}:{month:b,day:"numeric"},"month"),h=(b,T)=>r?yk(t,b):i(T?{weekday:b}:{weekday:b,month:"long",day:"numeric"},"weekday"),g=b=>{const T=Or.macroTokenToFormatOpts(b);return T?this.formatWithSystemDefault(t,T):b},m=b=>r?wk(t,b):i({era:b},"era"),w=b=>{switch(b){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return c();case"d":return a?i({day:"numeric"},"day"):this.num(t.day);case"dd":return a?i({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return a?i({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return a?i({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return a?i({month:"numeric"},"month"):this.num(t.month);case"MM":return a?i({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return a?i({year:"numeric"},"year"):this.num(t.year);case"yy":return a?i({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return a?i({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return a?i({year:"numeric"},"year"):this.num(t.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return g(b)}};return jw(Or.parseFormat(n),w)}formatDurationFromString(t,n){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=d=>h=>{const g=r(h);return g?this.num(d.get(g),h.length):h},i=Or.parseFormat(n),s=i.reduce((d,{literal:h,val:g})=>h?d:d.concat(g),[]),c=t.shiftTo(...s.map(r).filter(d=>d));return jw(i,a(c))}}class ko{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const PE=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Lf(...e){const t=e.reduce((n,r)=>n+r.source,"");return RegExp(`^${t}$`)}function _f(...e){return t=>e.reduce(([n,r,a],i)=>{const[s,c,d]=i(t,a);return[{...n,...s},c||r,d]},[{},null,1]).slice(0,2)}function Pf(e,...t){if(e==null)return[null,null];for(const[n,r]of t){const a=n.exec(e);if(a)return r(a)}return[null,null]}function jE(...e){return(t,n)=>{const r={};let a;for(a=0;a<e.length;a++)r[e[a]]=sl(t[n+a]);return[r,null,n+a]}}const BE=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ek=`(?:${BE.source}?(?:\\[(${PE.source})\\])?)?`,$1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,YE=RegExp(`${$1.source}${Ek}`),W1=RegExp(`(?:T${YE.source})?`),Tk=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Ck=/(\d{4})-?W(\d\d)(?:-?(\d))?/,xk=/(\d{4})-?(\d{3})/,Mk=jE("weekYear","weekNumber","weekDay"),kk=jE("year","ordinal"),Ik=/(\d{4})-(\d\d)-(\d\d)/,HE=RegExp(`${$1.source} ?(?:${BE.source}|(${PE.source}))?`),Nk=RegExp(`(?: ${HE.source})?`);function vf(e,t,n){const r=e[t];return _t(r)?n:sl(r)}function Fk(e,t){return[{year:vf(e,t),month:vf(e,t+1,1),day:vf(e,t+2,1)},null,t+3]}function jf(e,t){return[{hours:vf(e,t,0),minutes:vf(e,t+1,0),seconds:vf(e,t+2,0),milliseconds:U1(e[t+3])},null,t+4]}function gh(e,t){const n=!e[t]&&!e[t+1],r=Sv(e[t+1],e[t+2]),a=n?null:Wr.instance(r);return[{},a,t+3]}function vh(e,t){const n=e[t]?os.create(e[t]):null;return[{},n,t+1]}const Ak=RegExp(`^T?${$1.source}$`),Ok=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Rk(e){const[t,n,r,a,i,s,c,d,h]=e,g=t[0]==="-",m=d&&d[0]==="-",w=(b,T=!1)=>b!==void 0&&(T||b&&g)?-b:b;return[{years:w(pu(n)),months:w(pu(r)),weeks:w(pu(a)),days:w(pu(i)),hours:w(pu(s)),minutes:w(pu(c)),seconds:w(pu(d),d==="-0"),milliseconds:w(U1(h),m)}]}const Lk={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function q1(e,t,n,r,a,i,s){const c={year:t.length===2?s1(sl(t)):sl(t),month:NE.indexOf(n)+1,day:sl(r),hour:sl(a),minute:sl(i)};return s&&(c.second=sl(s)),e&&(c.weekday=e.length>3?AE.indexOf(e)+1:OE.indexOf(e)+1),c}const _k=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Pk(e){const[,t,n,r,a,i,s,c,d,h,g,m]=e,w=q1(t,a,r,n,i,s,c);let b;return d?b=Lk[d]:h?b=0:b=Sv(g,m),[w,new Wr(b)]}function jk(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Bk=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Yk=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Hk=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Bw(e){const[,t,n,r,a,i,s,c]=e;return[q1(t,a,r,n,i,s,c),Wr.utcInstance]}function Uk(e){const[,t,n,r,a,i,s,c]=e;return[q1(t,c,n,r,a,i,s),Wr.utcInstance]}const Vk=Lf(Tk,W1),zk=Lf(Ck,W1),$k=Lf(xk,W1),Wk=Lf(YE),UE=_f(Fk,jf,gh,vh),qk=_f(Mk,jf,gh,vh),Gk=_f(kk,jf,gh,vh),Kk=_f(jf,gh,vh);function Qk(e){return Pf(e,[Vk,UE],[zk,qk],[$k,Gk],[Wk,Kk])}function Zk(e){return Pf(jk(e),[_k,Pk])}function Jk(e){return Pf(e,[Bk,Bw],[Yk,Bw],[Hk,Uk])}function Xk(e){return Pf(e,[Ok,Rk])}const e5=_f(jf);function t5(e){return Pf(e,[Ak,e5])}const n5=Lf(Ik,Nk),r5=Lf(HE),a5=_f(jf,gh,vh);function o5(e){return Pf(e,[n5,UE],[r5,a5])}const i5="Invalid Duration",VE={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},s5={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...VE},Xa=146097/400,uf=146097/4800,l5={years:{quarters:4,months:12,weeks:Xa/7,days:Xa,hours:Xa*24,minutes:Xa*24*60,seconds:Xa*24*60*60,milliseconds:Xa*24*60*60*1e3},quarters:{months:3,weeks:Xa/28,days:Xa/4,hours:Xa*24/4,minutes:Xa*24*60/4,seconds:Xa*24*60*60/4,milliseconds:Xa*24*60*60*1e3/4},months:{weeks:uf/7,days:uf,hours:uf*24,minutes:uf*24*60,seconds:uf*24*60*60,milliseconds:uf*24*60*60*1e3},...VE},hu=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],u5=hu.slice(0).reverse();function tl(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Qe(r)}function c5(e){return e<0?Math.floor(e):Math.ceil(e)}function zE(e,t,n,r,a){const i=e[a][n],s=t[n]/i,c=Math.sign(s)===Math.sign(r[a]),d=!c&&r[a]!==0&&Math.abs(s)<=1?c5(s):Math.trunc(s);r[a]+=d,t[n]-=d*i}function f5(e,t){u5.reduce((n,r)=>_t(t[r])?n:(n&&zE(e,t,n,t,r),r),null)}function d5(e){const t={};for(const[n,r]of Object.entries(e))r!==0&&(t[n]=r);return t}class Qe{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let r=n?l5:s5;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||un.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,n){return Qe.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new eo(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Qe({values:Zg(t,Qe.normalizeUnit),loc:un.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(wu(t))return Qe.fromMillis(t);if(Qe.isDuration(t))return t;if(typeof t=="object")return Qe.fromObject(t);throw new eo(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[r]=Xk(t);return r?Qe.fromObject(r,n):Qe.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=t5(t);return r?Qe.fromObject(r,n):Qe.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new eo("need to specify a reason the Duration is invalid");const r=t instanceof ko?t:new ko(t,n);if(jn.throwOnInvalid)throw new YM(r);return new Qe({invalid:r})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new sE(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Or.create(this.loc,r).formatDurationFromString(this,t):i5}toHuman(t={}){const n=hu.map(r=>{const a=this.values[r];return _t(a)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(a)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=V1(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let a=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(a+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||r.milliseconds!==0)&&(a+=".SSS"));let i=r.toFormat(a);return t.includePrefix&&(i="T"+i),i}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=Qe.fromDurationLike(t),r={};for(const a of hu)(wf(n.values,a)||wf(this.values,a))&&(r[a]=n.get(a)+this.get(a));return tl(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const n=Qe.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=IE(t(this.values[r],r));return tl(this,{values:n},!0)}get(t){return this[Qe.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...Zg(t,Qe.normalizeUnit)};return tl(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:r,matrix:a}={}){const s={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:a,conversionAccuracy:r};return tl(this,s)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return f5(this.matrix,t),tl(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=d5(this.normalize().shiftToAll().toObject());return tl(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(s=>Qe.normalizeUnit(s));const n={},r={},a=this.toObject();let i;for(const s of hu)if(t.indexOf(s)>=0){i=s;let c=0;for(const h in r)c+=this.matrix[h][s]*r[h],r[h]=0;wu(a[s])&&(c+=a[s]);const d=Math.trunc(c);n[s]=d,r[s]=(c*1e3-d*1e3)/1e3;for(const h in a)hu.indexOf(h)>hu.indexOf(s)&&zE(this.matrix,a,h,n,s)}else wu(a[s])&&(r[s]=a[s]);for(const s in r)r[s]!==0&&(n[i]+=s===i?r[s]:r[s]/this.matrix[i][s]);return tl(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return tl(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(r,a){return r===void 0||r===0?a===void 0||a===0:r===a}for(const r of hu)if(!n(this.values[r],t.values[r]))return!1;return!0}}const cf="Invalid Interval";function p5(e,t){return!e||!e.isValid?Tn.invalid("missing or invalid start"):!t||!t.isValid?Tn.invalid("missing or invalid end"):t<e?Tn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Tn{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new eo("need to specify a reason the Interval is invalid");const r=t instanceof ko?t:new ko(t,n);if(jn.throwOnInvalid)throw new BM(r);return new Tn({invalid:r})}static fromDateTimes(t,n){const r=Tp(t),a=Tp(n),i=p5(r,a);return i??new Tn({start:r,end:a})}static after(t,n){const r=Qe.fromDurationLike(n),a=Tp(t);return Tn.fromDateTimes(a,a.plus(r))}static before(t,n){const r=Qe.fromDurationLike(n),a=Tp(t);return Tn.fromDateTimes(a.minus(r),a)}static fromISO(t,n){const[r,a]=(t||"").split("/",2);if(r&&a){let i,s;try{i=ot.fromISO(r,n),s=i.isValid}catch{s=!1}let c,d;try{c=ot.fromISO(a,n),d=c.isValid}catch{d=!1}if(s&&d)return Tn.fromDateTimes(i,c);if(s){const h=Qe.fromISO(a,n);if(h.isValid)return Tn.after(i,h)}else if(d){const h=Qe.fromISO(r,n);if(h.isValid)return Tn.before(c,h)}}return Tn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(t),r=this.end.startOf(t);return Math.floor(r.diff(n,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?Tn.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(Tp).filter(s=>this.contains(s)).sort(),r=[];let{s:a}=this,i=0;for(;a<this.e;){const s=n[i]||this.e,c=+s>+this.e?this.e:s;r.push(Tn.fromDateTimes(a,c)),a=c,i+=1}return r}splitBy(t){const n=Qe.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,a=1,i;const s=[];for(;r<this.e;){const c=this.start.plus(n.mapUnits(d=>d*a));i=+c>+this.e?this.e:c,s.push(Tn.fromDateTimes(r,i)),r=i,a+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:Tn.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Tn.fromDateTimes(n,r)}static merge(t){const[n,r]=t.sort((a,i)=>a.s-i.s).reduce(([a,i],s)=>i?i.overlaps(s)||i.abutsStart(s)?[a,i.union(s)]:[a.concat([i]),s]:[a,s],[[],null]);return r&&n.push(r),n}static xor(t){let n=null,r=0;const a=[],i=t.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),s=Array.prototype.concat(...i),c=s.sort((d,h)=>d.time-h.time);for(const d of c)r+=d.type==="s"?1:-1,r===1?n=d.time:(n&&+n!=+d.time&&a.push(Tn.fromDateTimes(n,d.time)),n=null);return Tn.merge(a)}difference(...t){return Tn.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:cf}toLocaleString(t=Gg,n={}){return this.isValid?Or.create(this.s.loc.clone(n),t).formatInterval(this):cf}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:cf}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cf}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:cf}toFormat(t,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:cf}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):Qe.invalid(this.invalidReason)}mapEndpoints(t){return Tn.fromDateTimes(t(this.s),t(this.e))}}class mg{static hasDST(t=jn.defaultZone){const n=ot.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return os.isValidZone(t)}static normalizeZone(t){return fl(t,jn.defaultZone)}static months(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null,outputCalendar:i="gregory"}={}){return(a||un.create(n,r,i)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null,outputCalendar:i="gregory"}={}){return(a||un.create(n,r,i)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null}={}){return(a||un.create(n,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null}={}){return(a||un.create(n,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return un.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return un.create(n,null,"gregory").eras(t)}static features(){return{relative:ME()}}}function Yw(e,t){const n=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(Qe.fromMillis(r).as("days"))}function h5(e,t,n){const r=[["years",(d,h)=>h.year-d.year],["quarters",(d,h)=>h.quarter-d.quarter+(h.year-d.year)*4],["months",(d,h)=>h.month-d.month+(h.year-d.year)*12],["weeks",(d,h)=>{const g=Yw(d,h);return(g-g%7)/7}],["days",Yw]],a={},i=e;let s,c;for(const[d,h]of r)n.indexOf(d)>=0&&(s=d,a[d]=h(e,t),c=i.plus(a),c>t?(a[d]--,e=i.plus(a)):e=c);return[e,a,c,s]}function m5(e,t,n,r){let[a,i,s,c]=h5(e,t,n);const d=t-a,h=n.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);h.length===0&&(s<t&&(s=a.plus({[c]:1})),s!==a&&(i[c]=(i[c]||0)+d/(s-a)));const g=Qe.fromObject(i,r);return h.length>0?Qe.fromMillis(d,r).shiftTo(...h).plus(g):g}const G1={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Hw={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},g5=G1.hanidec.replace(/[\[|\]]/g,"").split("");function v5(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(e[n].search(G1.hanidec)!==-1)t+=g5.indexOf(e[n]);else for(const a in Hw){const[i,s]=Hw[a];r>=i&&r<=s&&(t+=r-i)}}return parseInt(t,10)}else return t}function To({numberingSystem:e},t=""){return new RegExp(`${G1[e||"latn"]}${t}`)}const y5="missing Intl.DateTimeFormat.formatToParts support";function Ut(e,t=n=>n){return{regex:e,deser:([n])=>t(v5(n))}}const b5=" ",$E=`[ ${b5}]`,WE=new RegExp($E,"g");function w5(e){return e.replace(/\./g,"\\.?").replace(WE,$E)}function Uw(e){return e.replace(/\./g,"").replace(WE," ").toLowerCase()}function Co(e,t){return e===null?null:{regex:RegExp(e.map(w5).join("|")),deser:([n])=>e.findIndex(r=>Uw(n)===Uw(r))+t}}function Vw(e,t){return{regex:e,deser:([,n,r])=>Sv(n,r),groups:t}}function c0(e){return{regex:e,deser:([t])=>t}}function D5(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function S5(e,t){const n=To(t),r=To(t,"{2}"),a=To(t,"{3}"),i=To(t,"{4}"),s=To(t,"{6}"),c=To(t,"{1,2}"),d=To(t,"{1,3}"),h=To(t,"{1,6}"),g=To(t,"{1,9}"),m=To(t,"{2,4}"),w=To(t,"{4,6}"),b=k=>({regex:RegExp(D5(k.val)),deser:([M])=>M,literal:!0}),E=(k=>{if(e.literal)return b(k);switch(k.val){case"G":return Co(t.eras("short",!1),0);case"GG":return Co(t.eras("long",!1),0);case"y":return Ut(h);case"yy":return Ut(m,s1);case"yyyy":return Ut(i);case"yyyyy":return Ut(w);case"yyyyyy":return Ut(s);case"M":return Ut(c);case"MM":return Ut(r);case"MMM":return Co(t.months("short",!0,!1),1);case"MMMM":return Co(t.months("long",!0,!1),1);case"L":return Ut(c);case"LL":return Ut(r);case"LLL":return Co(t.months("short",!1,!1),1);case"LLLL":return Co(t.months("long",!1,!1),1);case"d":return Ut(c);case"dd":return Ut(r);case"o":return Ut(d);case"ooo":return Ut(a);case"HH":return Ut(r);case"H":return Ut(c);case"hh":return Ut(r);case"h":return Ut(c);case"mm":return Ut(r);case"m":return Ut(c);case"q":return Ut(c);case"qq":return Ut(r);case"s":return Ut(c);case"ss":return Ut(r);case"S":return Ut(d);case"SSS":return Ut(a);case"u":return c0(g);case"uu":return c0(c);case"uuu":return Ut(n);case"a":return Co(t.meridiems(),0);case"kkkk":return Ut(i);case"kk":return Ut(m,s1);case"W":return Ut(c);case"WW":return Ut(r);case"E":case"c":return Ut(n);case"EEE":return Co(t.weekdays("short",!1,!1),1);case"EEEE":return Co(t.weekdays("long",!1,!1),1);case"ccc":return Co(t.weekdays("short",!0,!1),1);case"cccc":return Co(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Vw(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return Vw(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return c0(/[a-z_+-/]{1,256}?/i);default:return b(k)}})(e)||{invalidReason:y5};return E.token=e,E}const E5={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function T5(e,t){const{type:n,value:r}=e;if(n==="literal")return{literal:!0,val:r};const a=t[n];let i=E5[n];if(typeof i=="object"&&(i=i[a]),i)return{literal:!1,val:i}}function C5(e){return[`^${e.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,e]}function x5(e,t,n){const r=e.match(t);if(r){const a={};let i=1;for(const s in n)if(wf(n,s)){const c=n[s],d=c.groups?c.groups+1:1;!c.literal&&c.token&&(a[c.token.val[0]]=c.deser(r.slice(i,i+d))),i+=d}return[r,a]}else return[r,{}]}function M5(e){const t=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return _t(e.z)||(n=os.create(e.z)),_t(e.Z)||(n||(n=new Wr(e.Z)),r=e.Z),_t(e.q)||(e.M=(e.q-1)*3+1),_t(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),_t(e.u)||(e.S=U1(e.u)),[Object.keys(e).reduce((i,s)=>{const c=t(s);return c&&(i[c]=e[s]),i},{}),n,r]}let f0=null;function k5(){return f0||(f0=ot.fromMillis(1555555555555)),f0}function I5(e,t){if(e.literal)return e;const n=Or.macroTokenToFormatOpts(e.val),r=KE(n,t);return r==null||r.includes(void 0)?e:r}function qE(e,t){return Array.prototype.concat(...e.map(n=>I5(n,t)))}function GE(e,t,n){const r=qE(Or.parseFormat(n),e),a=r.map(s=>S5(s,e)),i=a.find(s=>s.invalidReason);if(i)return{input:t,tokens:r,invalidReason:i.invalidReason};{const[s,c]=C5(a),d=RegExp(s,"i"),[h,g]=x5(t,d,c),[m,w,b]=g?M5(g):[null,null,void 0];if(wf(g,"a")&&wf(g,"H"))throw new Op("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:d,rawMatches:h,matches:g,result:m,zone:w,specificOffset:b}}}function N5(e,t,n){const{result:r,zone:a,specificOffset:i,invalidReason:s}=GE(e,t,n);return[r,a,i,s]}function KE(e,t){return e?Or.create(t,e).formatDateTimeParts(k5()).map(a=>T5(a,e)):null}const QE=[0,31,59,90,120,151,181,212,243,273,304,334],ZE=[0,31,60,91,121,152,182,213,244,274,305,335];function to(e,t){return new ko("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function JE(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const a=r.getUTCDay();return a===0?7:a}function XE(e,t,n){return n+(mh(e)?ZE:QE)[t-1]}function e3(e,t){const n=mh(e)?ZE:QE,r=n.findIndex(i=>i<t),a=t-n[r];return{month:r+1,day:a}}function l1(e){const{year:t,month:n,day:r}=e,a=XE(t,n,r),i=JE(t,n,r);let s=Math.floor((a-i+10)/7),c;return s<1?(c=t-1,s=Qg(c)):s>Qg(t)?(c=t+1,s=1):c=t,{weekYear:c,weekNumber:s,weekday:i,...Ev(e)}}function zw(e){const{weekYear:t,weekNumber:n,weekday:r}=e,a=JE(t,1,4),i=Pp(t);let s=n*7+r-a-3,c;s<1?(c=t-1,s+=Pp(c)):s>i?(c=t+1,s-=Pp(t)):c=t;const{month:d,day:h}=e3(c,s);return{year:c,month:d,day:h,...Ev(e)}}function d0(e){const{year:t,month:n,day:r}=e,a=XE(t,n,r);return{year:t,ordinal:a,...Ev(e)}}function $w(e){const{year:t,ordinal:n}=e,{month:r,day:a}=e3(t,n);return{year:t,month:r,day:a,...Ev(e)}}function F5(e){const t=Dv(e.weekYear),n=as(e.weekNumber,1,Qg(e.weekYear)),r=as(e.weekday,1,7);return t?n?r?!1:to("weekday",e.weekday):to("week",e.week):to("weekYear",e.weekYear)}function A5(e){const t=Dv(e.year),n=as(e.ordinal,1,Pp(e.year));return t?n?!1:to("ordinal",e.ordinal):to("year",e.year)}function t3(e){const t=Dv(e.year),n=as(e.month,1,12),r=as(e.day,1,Kg(e.year,e.month));return t?n?r?!1:to("day",e.day):to("month",e.month):to("year",e.year)}function n3(e){const{hour:t,minute:n,second:r,millisecond:a}=e,i=as(t,0,23)||t===24&&n===0&&r===0&&a===0,s=as(n,0,59),c=as(r,0,59),d=as(a,0,999);return i?s?c?d?!1:to("millisecond",a):to("second",r):to("minute",n):to("hour",t)}const p0="Invalid DateTime",Ww=864e13;function gg(e){return new ko("unsupported zone",`the zone "${e.name}" is not supported`)}function h0(e){return e.weekData===null&&(e.weekData=l1(e.c)),e.weekData}function Sp(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new ot({...n,...t,old:n})}function r3(e,t,n){let r=e-t*60*1e3;const a=n.offset(r);if(t===a)return[r,t];r-=(a-t)*60*1e3;const i=n.offset(r);return a===i?[r,a]:[e-Math.min(a,i)*60*1e3,Math.max(a,i)]}function qw(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function _g(e,t,n){return r3(z1(e),t,n)}function Gw(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),a=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,i={...e.c,year:r,month:a,day:Math.min(e.c.day,Kg(r,a))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},s=Qe.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),c=z1(i);let[d,h]=r3(c,n,e.zone);return s!==0&&(d+=s,h=e.zone.offset(d)),{ts:d,o:h}}function Ep(e,t,n,r,a,i){const{setZone:s,zone:c}=n;if(e&&Object.keys(e).length!==0){const d=t||c,h=ot.fromObject(e,{...n,zone:d,specificOffset:i});return s?h:h.setZone(c)}else return ot.invalid(new ko("unparsable",`the input "${a}" can't be parsed as ${r}`))}function vg(e,t,n=!0){return e.isValid?Or.create(un.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function m0(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=Bn(e.c.year,n?6:4),t?(r+="-",r+=Bn(e.c.month),r+="-",r+=Bn(e.c.day)):(r+=Bn(e.c.month),r+=Bn(e.c.day)),r}function Kw(e,t,n,r,a,i){let s=Bn(e.c.hour);return t?(s+=":",s+=Bn(e.c.minute),(e.c.second!==0||!n)&&(s+=":")):s+=Bn(e.c.minute),(e.c.second!==0||!n)&&(s+=Bn(e.c.second),(e.c.millisecond!==0||!r)&&(s+=".",s+=Bn(e.c.millisecond,3))),a&&(e.isOffsetFixed&&e.offset===0&&!i?s+="Z":e.o<0?(s+="-",s+=Bn(Math.trunc(-e.o/60)),s+=":",s+=Bn(Math.trunc(-e.o%60))):(s+="+",s+=Bn(Math.trunc(e.o/60)),s+=":",s+=Bn(Math.trunc(e.o%60)))),i&&(s+="["+e.zone.ianaName+"]"),s}const a3={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},O5={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},R5={ordinal:1,hour:0,minute:0,second:0,millisecond:0},o3=["year","month","day","hour","minute","second","millisecond"],L5=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],_5=["year","ordinal","hour","minute","second","millisecond"];function Qw(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new sE(e);return t}function Zw(e,t){const n=fl(t.zone,jn.defaultZone),r=un.fromObject(t),a=jn.now();let i,s;if(_t(e.year))i=a;else{for(const h of o3)_t(e[h])&&(e[h]=a3[h]);const c=t3(e)||n3(e);if(c)return ot.invalid(c);const d=n.offset(a);[i,s]=_g(e,d,n)}return new ot({ts:i,zone:n,loc:r,o:s})}function Jw(e,t,n){const r=_t(n.round)?!0:n.round,a=(s,c)=>(s=V1(s,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(s,c)),i=s=>n.calendary?t.hasSame(e,s)?0:t.startOf(s).diff(e.startOf(s),s).get(s):t.diff(e,s).get(s);if(n.unit)return a(i(n.unit),n.unit);for(const s of n.units){const c=i(s);if(Math.abs(c)>=1)return a(c,s)}return a(e>t?-0:0,n.units[n.units.length-1])}function Xw(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}class ot{constructor(t){const n=t.zone||jn.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new ko("invalid input"):null)||(n.isValid?null:gg(n));this.ts=_t(t.ts)?jn.now():t.ts;let a=null,i=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[a,i]=[t.old.c,t.old.o];else{const c=n.offset(this.ts);a=qw(this.ts,c),r=Number.isNaN(a.year)?new ko("invalid input"):null,a=r?null:a,i=r?null:c}this._zone=n,this.loc=t.loc||un.create(),this.invalid=r,this.weekData=null,this.c=a,this.o=i,this.isLuxonDateTime=!0}static now(){return new ot({})}static local(){const[t,n]=Xw(arguments),[r,a,i,s,c,d,h]=n;return Zw({year:r,month:a,day:i,hour:s,minute:c,second:d,millisecond:h},t)}static utc(){const[t,n]=Xw(arguments),[r,a,i,s,c,d,h]=n;return t.zone=Wr.utcInstance,Zw({year:r,month:a,day:i,hour:s,minute:c,second:d,millisecond:h},t)}static fromJSDate(t,n={}){const r=sk(t)?t.valueOf():NaN;if(Number.isNaN(r))return ot.invalid("invalid input");const a=fl(n.zone,jn.defaultZone);return a.isValid?new ot({ts:r,zone:a,loc:un.fromObject(n)}):ot.invalid(gg(a))}static fromMillis(t,n={}){if(wu(t))return t<-Ww||t>Ww?ot.invalid("Timestamp out of range"):new ot({ts:t,zone:fl(n.zone,jn.defaultZone),loc:un.fromObject(n)});throw new eo(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(wu(t))return new ot({ts:t*1e3,zone:fl(n.zone,jn.defaultZone),loc:un.fromObject(n)});throw new eo("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const r=fl(n.zone,jn.defaultZone);if(!r.isValid)return ot.invalid(gg(r));const a=jn.now(),i=_t(n.specificOffset)?r.offset(a):n.specificOffset,s=Zg(t,Qw),c=!_t(s.ordinal),d=!_t(s.year),h=!_t(s.month)||!_t(s.day),g=d||h,m=s.weekYear||s.weekNumber,w=un.fromObject(n);if((g||c)&&m)throw new Op("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&c)throw new Op("Can't mix ordinal dates with month/day");const b=m||s.weekday&&!g;let T,E,k=qw(a,i);b?(T=L5,E=O5,k=l1(k)):c?(T=_5,E=R5,k=d0(k)):(T=o3,E=a3);let M=!1;for(const $ of T){const W=s[$];_t(W)?M?s[$]=E[$]:s[$]=k[$]:M=!0}const F=b?F5(s):c?A5(s):t3(s),B=F||n3(s);if(B)return ot.invalid(B);const N=b?zw(s):c?$w(s):s,[P,R]=_g(N,i,r),j=new ot({ts:P,zone:r,o:R,loc:w});return s.weekday&&g&&t.weekday!==j.weekday?ot.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${j.toISO()}`):j}static fromISO(t,n={}){const[r,a]=Qk(t);return Ep(r,a,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[r,a]=Zk(t);return Ep(r,a,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[r,a]=Jk(t);return Ep(r,a,n,"HTTP",n)}static fromFormat(t,n,r={}){if(_t(t)||_t(n))throw new eo("fromFormat requires an input string and a format");const{locale:a=null,numberingSystem:i=null}=r,s=un.fromOpts({locale:a,numberingSystem:i,defaultToEN:!0}),[c,d,h,g]=N5(s,t,n);return g?ot.invalid(g):Ep(c,d,r,`format ${n}`,t,h)}static fromString(t,n,r={}){return ot.fromFormat(t,n,r)}static fromSQL(t,n={}){const[r,a]=o5(t);return Ep(r,a,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new eo("need to specify a reason the DateTime is invalid");const r=t instanceof ko?t:new ko(t,n);if(jn.throwOnInvalid)throw new jM(r);return new ot({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const r=KE(t,un.fromObject(n));return r?r.map(a=>a?a.val:null).join(""):null}static expandFormat(t,n={}){return qE(Or.parseFormat(t),un.fromObject(n)).map(a=>a.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?h0(this).weekYear:NaN}get weekNumber(){return this.isValid?h0(this).weekNumber:NaN}get weekday(){return this.isValid?h0(this).weekday:NaN}get ordinal(){return this.isValid?d0(this.c).ordinal:NaN}get monthShort(){return this.isValid?mg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?mg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?mg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?mg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return mh(this.year)}get daysInMonth(){return Kg(this.year,this.month)}get daysInYear(){return this.isValid?Pp(this.year):NaN}get weeksInWeekYear(){return this.isValid?Qg(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:r,calendar:a}=Or.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:a}}toUTC(t=0,n={}){return this.setZone(Wr.instance(t),n)}toLocal(){return this.setZone(jn.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=fl(t,jn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let a=this.ts;if(n||r){const i=t.offset(this.ts),s=this.toObject();[a]=_g(s,i,t)}return Sp(this,{ts:a,zone:t})}else return ot.invalid(gg(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:r}={}){const a=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return Sp(this,{loc:a})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=Zg(t,Qw),r=!_t(n.weekYear)||!_t(n.weekNumber)||!_t(n.weekday),a=!_t(n.ordinal),i=!_t(n.year),s=!_t(n.month)||!_t(n.day),c=i||s,d=n.weekYear||n.weekNumber;if((c||a)&&d)throw new Op("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&a)throw new Op("Can't mix ordinal dates with month/day");let h;r?h=zw({...l1(this.c),...n}):_t(n.ordinal)?(h={...this.toObject(),...n},_t(n.day)&&(h.day=Math.min(Kg(h.year,h.month),h.day))):h=$w({...d0(this.c),...n});const[g,m]=_g(h,this.o,this.zone);return Sp(this,{ts:g,o:m})}plus(t){if(!this.isValid)return this;const n=Qe.fromDurationLike(t);return Sp(this,Gw(this,n))}minus(t){if(!this.isValid)return this;const n=Qe.fromDurationLike(t).negate();return Sp(this,Gw(this,n))}startOf(t){if(!this.isValid)return this;const n={},r=Qe.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,n={}){return this.isValid?Or.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):p0}toLocaleString(t=Gg,n={}){return this.isValid?Or.create(this.loc.clone(n),t).formatDateTime(this):p0}toLocaleParts(t={}){return this.isValid?Or.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:a=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const s=t==="extended";let c=m0(this,s);return c+="T",c+=Kw(this,s,n,r,a,i),c}toISODate({format:t="extended"}={}){return this.isValid?m0(this,t==="extended"):null}toISOWeekDate(){return vg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:a=!1,extendedZone:i=!1,format:s="extended"}={}){return this.isValid?(a?"T":"")+Kw(this,s==="extended",n,t,r,i):null}toRFC2822(){return vg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return vg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?m0(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let a="HH:mm:ss.SSS";return(n||t)&&(r&&(a+=" "),n?a+="z":t&&(a+="ZZ")),vg(this,a,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():p0}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",r={}){if(!this.isValid||!t.isValid)return Qe.invalid("created by diffing an invalid DateTime");const a={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=lk(n).map(Qe.normalizeUnit),s=t.valueOf()>this.valueOf(),c=s?this:t,d=s?t:this,h=m5(c,d,i,a);return s?h.negate():h}diffNow(t="milliseconds",n={}){return this.diff(ot.now(),t,n)}until(t){return this.isValid?Tn.fromDateTimes(this,t):this}hasSame(t,n){if(!this.isValid)return!1;const r=t.valueOf(),a=this.setZone(t.zone,{keepLocalTime:!0});return a.startOf(n)<=r&&r<=a.endOf(n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||ot.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let a=["years","months","days","hours","minutes","seconds"],i=t.unit;return Array.isArray(t.unit)&&(a=t.unit,i=void 0),Jw(n,this.plus(r),{...t,numeric:"always",units:a,unit:i})}toRelativeCalendar(t={}){return this.isValid?Jw(t.base||ot.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(ot.isDateTime))throw new eo("min requires all arguments be DateTimes");return Pw(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(ot.isDateTime))throw new eo("max requires all arguments be DateTimes");return Pw(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,r={}){const{locale:a=null,numberingSystem:i=null}=r,s=un.fromOpts({locale:a,numberingSystem:i,defaultToEN:!0});return GE(s,t,n)}static fromStringExplain(t,n,r={}){return ot.fromFormatExplain(t,n,r)}static get DATE_SHORT(){return Gg}static get DATE_MED(){return lE}static get DATE_MED_WITH_WEEKDAY(){return HM}static get DATE_FULL(){return uE}static get DATE_HUGE(){return cE}static get TIME_SIMPLE(){return fE}static get TIME_WITH_SECONDS(){return dE}static get TIME_WITH_SHORT_OFFSET(){return pE}static get TIME_WITH_LONG_OFFSET(){return hE}static get TIME_24_SIMPLE(){return mE}static get TIME_24_WITH_SECONDS(){return gE}static get TIME_24_WITH_SHORT_OFFSET(){return vE}static get TIME_24_WITH_LONG_OFFSET(){return yE}static get DATETIME_SHORT(){return bE}static get DATETIME_SHORT_WITH_SECONDS(){return wE}static get DATETIME_MED(){return DE}static get DATETIME_MED_WITH_SECONDS(){return SE}static get DATETIME_MED_WITH_WEEKDAY(){return UM}static get DATETIME_FULL(){return EE}static get DATETIME_FULL_WITH_SECONDS(){return TE}static get DATETIME_HUGE(){return CE}static get DATETIME_HUGE_WITH_SECONDS(){return xE}}function Tp(e){if(ot.isDateTime(e))return e;if(e&&e.valueOf&&wu(e.valueOf()))return ot.fromJSDate(e);if(e&&typeof e=="object")return ot.fromObject(e);throw new eo(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const K1={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},P5={allowHtml:!0};({...K1,...P5});class Q1{constructor(t){this.value=t,this.successful=!0}map(t){return new Q1(t(this.value))}flatMap(t){return t(this.value)}mapErr(t){return this}bimap(t,n){return this.map(t)}orElse(t){return this.value}cast(){return this}orElseThrow(t){return this.value}}class Z1{constructor(t){this.error=t,this.successful=!1}map(t){return this}flatMap(t){return this}mapErr(t){return new Z1(t(this.error))}bimap(t,n){return this.mapErr(n)}orElse(t){return t}cast(){return this}orElseThrow(t){throw t?new Error(t(this.error)):new Error(""+this.error)}}var Jg;(function(e){function t(i){return new Q1(i)}e.success=t;function n(i){return new Z1(i)}e.failure=n;function r(i,s,c){return i.successful?s.successful?c(i.value,s.value):n(s.error):n(i.error)}e.flatMap2=r;function a(i,s,c){return r(i,s,(d,h)=>t(c(d,h)))}e.map2=a})(Jg||(Jg={}));var j5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Un<"u"?Un:typeof self<"u"?self:{},Z={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:j5,function(){return function(n){var r={};function a(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(i,s,c){a.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:c})},a.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},a.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(s,"a",s),s},a.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},a.p="",a(a.s=0)}([function(n,r,a){function i(V){if(!(this instanceof i))return new i(V);this._=V}var s=i.prototype;function c(V,ne){for(var he=0;he<V;he++)ne(he)}function d(V,ne,he){return function(Te,Le){c(Le.length,function(Be){Te(Le[Be],Be,Le)})}(function(Te,Le,Be){ne=V(ne,Te,Le,Be)},he),ne}function h(V,ne){return d(function(he,Te,Le,Be){return he.concat([V(Te,Le,Be)])},[],ne)}function g(V,ne){var he={v:0,buf:ne};return c(V,function(){var Te;he={v:he.v<<1|(Te=he.buf,Te[0]>>7),buf:function(Le){var Be=d(function(Ye,mt,Yt,xn){return Ye.concat(Yt===xn.length-1?Buffer.from([mt,0]).readUInt16BE(0):xn.readUInt16BE(Yt))},[],Le);return Buffer.from(h(function(Ye){return(Ye<<1&65535)>>8},Be))}(he.buf)}}),he}function m(){return typeof Buffer<"u"}function w(){if(!m())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function b(V){w();var ne=d(function(Be,Ye){return Be+Ye},0,V);if(ne%8!=0)throw new Error("The bits ["+V.join(", ")+"] add up to "+ne+" which is not an even number of bytes; the total should be divisible by 8");var he,Te=ne/8,Le=(he=function(Be){return Be>48},d(function(Be,Ye){return Be||(he(Ye)?Ye:Be)},null,V));if(Le)throw new Error(Le+" bit range requested exceeds 48 bit (6 byte) Number max.");return new i(function(Be,Ye){var mt=Te+Ye;return mt>Be.length?$(Ye,Te.toString()+" bytes"):j(mt,d(function(Yt,xn){var mn=g(xn,Yt.buf);return{coll:Yt.coll.concat(mn.v),buf:mn.buf}},{coll:[],buf:Be.slice(Ye,mt)},V).coll)})}function T(V,ne){return new i(function(he,Te){return w(),Te+ne>he.length?$(Te,ne+" bytes for "+V):j(Te+ne,he.slice(Te,Te+ne))})}function E(V,ne){if(typeof(he=ne)!="number"||Math.floor(he)!==he||ne<0||ne>6)throw new Error(V+" requires integer length in range [0, 6].");var he}function k(V){return E("uintBE",V),T("uintBE("+V+")",V).map(function(ne){return ne.readUIntBE(0,V)})}function M(V){return E("uintLE",V),T("uintLE("+V+")",V).map(function(ne){return ne.readUIntLE(0,V)})}function F(V){return E("intBE",V),T("intBE("+V+")",V).map(function(ne){return ne.readIntBE(0,V)})}function B(V){return E("intLE",V),T("intLE("+V+")",V).map(function(ne){return ne.readIntLE(0,V)})}function N(V){return V instanceof i}function P(V){return{}.toString.call(V)==="[object Array]"}function R(V){return m()&&Buffer.isBuffer(V)}function j(V,ne){return{status:!0,index:V,value:ne,furthest:-1,expected:[]}}function $(V,ne){return P(ne)||(ne=[ne]),{status:!1,index:-1,value:null,furthest:V,expected:ne}}function W(V,ne){if(!ne||V.furthest>ne.furthest)return V;var he=V.furthest===ne.furthest?function(Te,Le){if(function(){if(i._supportsSet!==void 0)return i._supportsSet;var lr=typeof Set<"u";return i._supportsSet=lr,lr}()&&Array.from){for(var Be=new Set(Te),Ye=0;Ye<Le.length;Ye++)Be.add(Le[Ye]);var mt=Array.from(Be);return mt.sort(),mt}for(var Yt={},xn=0;xn<Te.length;xn++)Yt[Te[xn]]=!0;for(var mn=0;mn<Le.length;mn++)Yt[Le[mn]]=!0;var Qr=[];for(var Mn in Yt)({}).hasOwnProperty.call(Yt,Mn)&&Qr.push(Mn);return Qr.sort(),Qr}(V.expected,ne.expected):ne.expected;return{status:V.status,index:V.index,value:V.value,furthest:ne.furthest,expected:he}}var z={};function X(V,ne){if(R(V))return{offset:ne,line:-1,column:-1};V in z||(z[V]={});for(var he=z[V],Te=0,Le=0,Be=0,Ye=ne;Ye>=0;){if(Ye in he){Te=he[Ye].line,Be===0&&(Be=he[Ye].lineStart);break}(V.charAt(Ye)===`
`||V.charAt(Ye)==="\r"&&V.charAt(Ye+1)!==`
`)&&(Le++,Be===0&&(Be=Ye+1)),Ye--}var mt=Te+Le,Yt=ne-Be;return he[ne]={line:mt,lineStart:Be},{offset:ne,line:mt+1,column:Yt+1}}function oe(V){if(!N(V))throw new Error("not a parser: "+V)}function ee(V,ne){return typeof V=="string"?V.charAt(ne):V[ne]}function de(V){if(typeof V!="number")throw new Error("not a number: "+V)}function fe(V){if(typeof V!="function")throw new Error("not a function: "+V)}function De(V){if(typeof V!="string")throw new Error("not a string: "+V)}var xe=2,pe=3,we=8,U=5*we,G=4*we,ie="  ";function ye(V,ne){return new Array(ne+1).join(V)}function ue(V,ne,he){var Te=ne-V.length;return Te<=0?V:ye(he,Te)+V}function be(V,ne,he,Te){return{from:V-ne>0?V-ne:0,to:V+he>Te?Te:V+he}}function Re(V,ne){var he,Te,Le,Be,Ye,mt=ne.index,Yt=mt.offset,xn=1;if(Yt===V.length)return"Got the end of the input";if(R(V)){var mn=Yt-Yt%we,Qr=Yt-mn,Mn=be(mn,U,G+we,V.length),lr=h(function(Gt){return h(function(va){return ue(va.toString(16),2,"0")},Gt)},function(Gt,va){var ya=Gt.length,ba=[],Po=0;if(ya<=va)return[Gt.slice()];for(var jo=0;jo<ya;jo++)ba[Po]||ba.push([]),ba[Po].push(Gt[jo]),(jo+1)%va==0&&Po++;return ba}(V.slice(Mn.from,Mn.to).toJSON().data,we));Be=function(Gt){return Gt.from===0&&Gt.to===1?{from:Gt.from,to:Gt.to}:{from:Gt.from/we,to:Math.floor(Gt.to/we)}}(Mn),Te=mn/we,he=3*Qr,Qr>=4&&(he+=1),xn=2,Le=h(function(Gt){return Gt.length<=4?Gt.join(" "):Gt.slice(0,4).join(" ")+"  "+Gt.slice(4).join(" ")},lr),(Ye=(8*(Be.to>0?Be.to-1:Be.to)).toString(16).length)<2&&(Ye=2)}else{var Zr=V.split(/\r\n|[\n\r\u2028\u2029]/);he=mt.column-1,Te=mt.line-1,Be=be(Te,xe,pe,Zr.length),Le=Zr.slice(Be.from,Be.to),Ye=Be.to.toString().length}var El=Te-Be.from;return R(V)&&(Ye=(8*(Be.to>0?Be.to-1:Be.to)).toString(16).length)<2&&(Ye=2),d(function(Gt,va,ya){var ba,Po=ya===El,jo=Po?"> ":ie;return ba=R(V)?ue((8*(Be.from+ya)).toString(16),Ye,"0"):ue((Be.from+ya+1).toString(),Ye," "),[].concat(Gt,[jo+ba+" | "+va],Po?[ie+ye(" ",Ye)+" | "+ue("",he," ")+ye("^",xn)]:[])},[],Le).join(`
`)}function He(V,ne){return[`
`,"-- PARSING FAILED "+ye("-",50),`

`,Re(V,ne),`

`,(he=ne.expected,he.length===1?`Expected:

`+he[0]:`Expected one of the following: 

`+he.join(", ")),`
`].join("");var he}function Pe(V){return V.flags!==void 0?V.flags:[V.global?"g":"",V.ignoreCase?"i":"",V.multiline?"m":"",V.unicode?"u":"",V.sticky?"y":""].join("")}function yt(){for(var V=[].slice.call(arguments),ne=V.length,he=0;he<ne;he+=1)oe(V[he]);return i(function(Te,Le){for(var Be,Ye=new Array(ne),mt=0;mt<ne;mt+=1){if(!(Be=W(V[mt]._(Te,Le),Be)).status)return Be;Ye[mt]=Be.value,Le=Be.index}return W(j(Le,Ye),Be)})}function Se(){var V=[].slice.call(arguments);if(V.length===0)throw new Error("seqMap needs at least one argument");var ne=V.pop();return fe(ne),yt.apply(null,V).map(function(he){return ne.apply(null,he)})}function $e(){var V=[].slice.call(arguments),ne=V.length;if(ne===0)return dt("zero alternates");for(var he=0;he<ne;he+=1)oe(V[he]);return i(function(Te,Le){for(var Be,Ye=0;Ye<V.length;Ye+=1)if((Be=W(V[Ye]._(Te,Le),Be)).status)return Be;return Be})}function Ze(V,ne){return Xe(V,ne).or(Dt([]))}function Xe(V,ne){return oe(V),oe(ne),Se(V,ne.then(V).many(),function(he,Te){return[he].concat(Te)})}function Ge(V){De(V);var ne="'"+V+"'";return i(function(he,Te){var Le=Te+V.length,Be=he.slice(Te,Le);return Be===V?j(Le,Be):$(Te,ne)})}function tt(V,ne){(function(Le){if(!(Le instanceof RegExp))throw new Error("not a regexp: "+Le);for(var Be=Pe(Le),Ye=0;Ye<Be.length;Ye++){var mt=Be.charAt(Ye);if(mt!=="i"&&mt!=="m"&&mt!=="u"&&mt!=="s")throw new Error('unsupported regexp flag "'+mt+'": '+Le)}})(V),arguments.length>=2?de(ne):ne=0;var he=function(Le){return RegExp("^(?:"+Le.source+")",Pe(Le))}(V),Te=""+V;return i(function(Le,Be){var Ye=he.exec(Le.slice(Be));if(Ye){if(0<=ne&&ne<=Ye.length){var mt=Ye[0],Yt=Ye[ne];return j(Be+mt.length,Yt)}return $(Be,"valid match group (0 to "+Ye.length+") in "+Te)}return $(Be,Te)})}function Dt(V){return i(function(ne,he){return j(he,V)})}function dt(V){return i(function(ne,he){return $(he,V)})}function Vt(V){if(N(V))return i(function(ne,he){var Te=V._(ne,he);return Te.index=he,Te.value="",Te});if(typeof V=="string")return Vt(Ge(V));if(V instanceof RegExp)return Vt(tt(V));throw new Error("not a string, regexp, or parser: "+V)}function ja(V){return oe(V),i(function(ne,he){var Te=V._(ne,he),Le=ne.slice(he,Te.index);return Te.status?$(he,'not "'+Le+'"'):j(he,null)})}function cn(V){return fe(V),i(function(ne,he){var Te=ee(ne,he);return he<ne.length&&V(Te)?j(he+1,Te):$(he,"a character/byte matching "+V)})}function en(V,ne){arguments.length<2&&(ne=V,V=void 0);var he=i(function(Te,Le){return he._=ne()._,he._(Te,Le)});return V?he.desc(V):he}function br(){return dt("fantasy-land/empty")}s.parse=function(V){if(typeof V!="string"&&!R(V))throw new Error(".parse must be called with a string or Buffer as its argument");var ne,he=this.skip(io)._(V,0);return ne=he.status?{status:!0,value:he.value}:{status:!1,index:X(V,he.furthest),expected:he.expected},delete z[V],ne},s.tryParse=function(V){var ne=this.parse(V);if(ne.status)return ne.value;var he=He(V,ne),Te=new Error(he);throw Te.type="ParsimmonError",Te.result=ne,Te},s.assert=function(V,ne){return this.chain(function(he){return V(he)?Dt(he):dt(ne)})},s.or=function(V){return $e(this,V)},s.trim=function(V){return this.wrap(V,V)},s.wrap=function(V,ne){return Se(V,this,ne,function(he,Te){return Te})},s.thru=function(V){return V(this)},s.then=function(V){return oe(V),yt(this,V).map(function(ne){return ne[1]})},s.many=function(){var V=this;return i(function(ne,he){for(var Te=[],Le=void 0;;){if(!(Le=W(V._(ne,he),Le)).status)return W(j(he,Te),Le);if(he===Le.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");he=Le.index,Te.push(Le.value)}})},s.tieWith=function(V){return De(V),this.map(function(ne){if(function(Le){if(!P(Le))throw new Error("not an array: "+Le)}(ne),ne.length){De(ne[0]);for(var he=ne[0],Te=1;Te<ne.length;Te++)De(ne[Te]),he+=V+ne[Te];return he}return""})},s.tie=function(){return this.tieWith("")},s.times=function(V,ne){var he=this;return arguments.length<2&&(ne=V),de(V),de(ne),i(function(Te,Le){for(var Be=[],Ye=void 0,mt=void 0,Yt=0;Yt<V;Yt+=1){if(mt=W(Ye=he._(Te,Le),mt),!Ye.status)return mt;Le=Ye.index,Be.push(Ye.value)}for(;Yt<ne&&(mt=W(Ye=he._(Te,Le),mt),Ye.status);Yt+=1)Le=Ye.index,Be.push(Ye.value);return W(j(Le,Be),mt)})},s.result=function(V){return this.map(function(){return V})},s.atMost=function(V){return this.times(0,V)},s.atLeast=function(V){return Se(this.times(V),this.many(),function(ne,he){return ne.concat(he)})},s.map=function(V){fe(V);var ne=this;return i(function(he,Te){var Le=ne._(he,Te);return Le.status?W(j(Le.index,V(Le.value)),Le):Le})},s.contramap=function(V){fe(V);var ne=this;return i(function(he,Te){var Le=ne.parse(V(he.slice(Te)));return Le.status?j(Te+he.length,Le.value):Le})},s.promap=function(V,ne){return fe(V),fe(ne),this.contramap(V).map(ne)},s.skip=function(V){return yt(this,V).map(function(ne){return ne[0]})},s.mark=function(){return Se(wr,this,wr,function(V,ne,he){return{start:V,value:ne,end:he}})},s.node=function(V){return Se(wr,this,wr,function(ne,he,Te){return{name:V,value:he,start:ne,end:Te}})},s.sepBy=function(V){return Ze(this,V)},s.sepBy1=function(V){return Xe(this,V)},s.lookahead=function(V){return this.skip(Vt(V))},s.notFollowedBy=function(V){return this.skip(ja(V))},s.desc=function(V){P(V)||(V=[V]);var ne=this;return i(function(he,Te){var Le=ne._(he,Te);return Le.status||(Le.expected=V),Le})},s.fallback=function(V){return this.or(Dt(V))},s.ap=function(V){return Se(V,this,function(ne,he){return ne(he)})},s.chain=function(V){var ne=this;return i(function(he,Te){var Le=ne._(he,Te);return Le.status?W(V(Le.value)._(he,Le.index),Le):Le})},s.concat=s.or,s.empty=br,s.of=Dt,s["fantasy-land/ap"]=s.ap,s["fantasy-land/chain"]=s.chain,s["fantasy-land/concat"]=s.concat,s["fantasy-land/empty"]=s.empty,s["fantasy-land/of"]=s.of,s["fantasy-land/map"]=s.map;var wr=i(function(V,ne){return j(ne,X(V,ne))}),Lo=i(function(V,ne){return ne>=V.length?$(ne,"any character/byte"):j(ne+1,ee(V,ne))}),ga=i(function(V,ne){return j(V.length,V.slice(ne))}),io=i(function(V,ne){return ne<V.length?$(ne,"EOF"):j(ne,null)}),Kr=tt(/[0-9]/).desc("a digit"),Dr=tt(/[0-9]*/).desc("optional digits"),hs=tt(/[a-z]/i).desc("a letter"),so=tt(/[a-z]*/i).desc("optional letters"),lo=tt(/\s*/).desc("optional whitespace"),Sl=tt(/\s+/).desc("whitespace"),Ci=Ge("\r"),xi=Ge(`
`),ms=Ge(`\r
`),_o=$e(ms,xi,Ci).desc("newline"),Mi=$e(_o,io);i.all=ga,i.alt=$e,i.any=Lo,i.cr=Ci,i.createLanguage=function(V){var ne={};for(var he in V)({}).hasOwnProperty.call(V,he)&&function(Te){ne[Te]=en(function(){return V[Te](ne)})}(he);return ne},i.crlf=ms,i.custom=function(V){return i(V(j,$))},i.digit=Kr,i.digits=Dr,i.empty=br,i.end=Mi,i.eof=io,i.fail=dt,i.formatError=He,i.index=wr,i.isParser=N,i.lazy=en,i.letter=hs,i.letters=so,i.lf=xi,i.lookahead=Vt,i.makeFailure=$,i.makeSuccess=j,i.newline=_o,i.noneOf=function(V){return cn(function(ne){return V.indexOf(ne)<0}).desc("none of '"+V+"'")},i.notFollowedBy=ja,i.of=Dt,i.oneOf=function(V){for(var ne=V.split(""),he=0;he<ne.length;he++)ne[he]="'"+ne[he]+"'";return cn(function(Te){return V.indexOf(Te)>=0}).desc(ne)},i.optWhitespace=lo,i.Parser=i,i.range=function(V,ne){return cn(function(he){return V<=he&&he<=ne}).desc(V+"-"+ne)},i.regex=tt,i.regexp=tt,i.sepBy=Ze,i.sepBy1=Xe,i.seq=yt,i.seqMap=Se,i.seqObj=function(){for(var V,ne={},he=0,Te=(V=arguments,Array.prototype.slice.call(V)),Le=Te.length,Be=0;Be<Le;Be+=1){var Ye=Te[Be];if(!N(Ye)){if(P(Ye)&&Ye.length===2&&typeof Ye[0]=="string"&&N(Ye[1])){var mt=Ye[0];if(Object.prototype.hasOwnProperty.call(ne,mt))throw new Error("seqObj: duplicate key "+mt);ne[mt]=!0,he++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(he===0)throw new Error("seqObj expects at least one named parser, found zero");return i(function(Yt,xn){for(var mn,Qr={},Mn=0;Mn<Le;Mn+=1){var lr,Zr;if(P(Te[Mn])?(lr=Te[Mn][0],Zr=Te[Mn][1]):(lr=null,Zr=Te[Mn]),!(mn=W(Zr._(Yt,xn),mn)).status)return mn;lr&&(Qr[lr]=mn.value),xn=mn.index}return W(j(xn,Qr),mn)})},i.string=Ge,i.succeed=Dt,i.takeWhile=function(V){return fe(V),i(function(ne,he){for(var Te=he;Te<ne.length&&V(ee(ne,Te));)Te++;return j(Te,ne.slice(he,Te))})},i.test=cn,i.whitespace=Sl,i["fantasy-land/empty"]=br,i["fantasy-land/of"]=Dt,i.Binary={bitSeq:b,bitSeqObj:function(V){w();var ne={},he=0,Te=h(function(Be){if(P(Be)){var Ye=Be;if(Ye.length!==2)throw new Error("["+Ye.join(", ")+"] should be length 2, got length "+Ye.length);if(De(Ye[0]),de(Ye[1]),Object.prototype.hasOwnProperty.call(ne,Ye[0]))throw new Error("duplicate key in bitSeqObj: "+Ye[0]);return ne[Ye[0]]=!0,he++,Ye}return de(Be),[null,Be]},V);if(he<1)throw new Error("bitSeqObj expects at least one named pair, got ["+V.join(", ")+"]");var Le=h(function(Be){return Be[0]},Te);return b(h(function(Be){return Be[1]},Te)).map(function(Be){return d(function(Ye,mt){return mt[0]!==null&&(Ye[mt[0]]=mt[1]),Ye},{},h(function(Ye,mt){return[Ye,Be[mt]]},Le))})},byte:function(V){if(w(),de(V),V>255)throw new Error("Value specified to byte constructor ("+V+"=0x"+V.toString(16)+") is larger in value than a single byte.");var ne=(V>15?"0x":"0x0")+V.toString(16);return i(function(he,Te){var Le=ee(he,Te);return Le===V?j(Te+1,Le):$(Te,ne)})},buffer:function(V){return T("buffer",V).map(function(ne){return Buffer.from(ne)})},encodedString:function(V,ne){return T("string",ne).map(function(he){return he.toString(V)})},uintBE:k,uint8BE:k(1),uint16BE:k(2),uint32BE:k(4),uintLE:M,uint8LE:M(1),uint16LE:M(2),uint32LE:M(4),intBE:F,int8BE:F(1),int16BE:F(2),int32BE:F(4),intLE:B,int8LE:B(1),int16LE:B(2),int32LE:B(4),floatBE:T("floatBE",4).map(function(V){return V.readFloatBE(0)}),floatLE:T("floatLE",4).map(function(V){return V.readFloatLE(0)}),doubleBE:T("doubleBE",8).map(function(V){return V.readDoubleBE(0)}),doubleLE:T("doubleLE",8).map(function(V){return V.readDoubleLE(0)})},n.exports=i}])})})(Z);var J1=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function i3(e){return e==null?e:e.shiftToAll().normalize()}function eD(e){return e.includes("/")&&(e=e.substring(e.lastIndexOf("/")+1)),e.endsWith(".md")&&(e=e.substring(0,e.length-3)),e}Z.exports.alt(Z.exports.regex(new RegExp(J1(),"")),Z.exports.regex(/[0-9\p{Letter}_-]+/u).map(e=>e.toLocaleLowerCase()),Z.exports.whitespace.map(e=>"-"),Z.exports.any.map(e=>"")).many().map(e=>e.join(""));const B5=Z.exports.alt(Z.exports.regex(new RegExp(J1(),"")),Z.exports.regex(/[0-9\p{Letter}_-]+/u),Z.exports.whitespace.map(e=>" "),Z.exports.any.map(e=>" ")).many().map(e=>e.join("").split(/\s+/).join(" ").trim());function Y5(e){return B5.tryParse(e)}function H5(e){return e=i3(e),e=Qe.fromObject(Object.fromEntries(Object.entries(e.toObject()).filter(([,t])=>t>0))),e.toHuman()}var $p;(function(e){function t(N,P=K1,R=!1){let j=n(N);if(!j)return P.renderNullAs;switch(j.type){case"null":return P.renderNullAs;case"string":return j.value;case"number":case"boolean":return""+j.value;case"html":return j.value.outerHTML;case"widget":return j.value.markdown();case"link":return j.value.markdown();case"function":return"<function>";case"array":let $="";return R&&($+="["),$+=j.value.map(W=>t(W,P,!0)).join(", "),R&&($+="]"),$;case"object":return"{ "+Object.entries(j.value).map(W=>W[0]+": "+t(W[1],P,!0)).join(", ")+" }";case"date":return j.value.second==0&&j.value.hour==0&&j.value.minute==0?j.value.toFormat(P.defaultDateFormat):j.value.toFormat(P.defaultDateTimeFormat);case"duration":return H5(j.value)}}e.toString=t;function n(N){return w(N)?{type:"null",value:N}:h(N)?{type:"number",value:N}:d(N)?{type:"string",value:N}:T(N)?{type:"boolean",value:N}:m(N)?{type:"duration",value:N}:g(N)?{type:"date",value:N}:k(N)?{type:"widget",value:N}:b(N)?{type:"array",value:N}:E(N)?{type:"link",value:N}:B(N)?{type:"function",value:N}:M(N)?{type:"html",value:N}:F(N)?{type:"object",value:N}:void 0}e.wrapValue=n;function r(N,P){if(F(N)){let R={};for(let[j,$]of Object.entries(N))R[j]=r($,P);return R}else if(b(N)){let R=[];for(let j of N)R.push(r(j,P));return R}else return P(N)}e.mapLeaves=r;function a(N,P,R){var j,$;if(N===void 0&&(N=null),P===void 0&&(P=null),N===null&&P===null)return 0;if(N===null)return-1;if(P===null)return 1;let W=n(N),z=n(P);if(W===void 0&&z===void 0)return 0;if(W===void 0)return-1;if(z===void 0)return 1;if(W.type!=z.type)return W.type.localeCompare(z.type);if(W.value===z.value)return 0;switch(W.type){case"string":return W.value.localeCompare(z.value);case"number":return W.value<z.value?-1:W.value==z.value?0:1;case"null":return 0;case"boolean":return W.value==z.value?0:W.value?1:-1;case"link":let X=W.value,oe=z.value,ee=R??(ye=>ye),de=ee(X.path).localeCompare(ee(oe.path));if(de!=0)return de;let fe=X.type.localeCompare(oe.type);return fe!=0?fe:X.subpath&&!oe.subpath?1:!X.subpath&&oe.subpath?-1:!X.subpath&&!oe.subpath?0:((j=X.subpath)!==null&&j!==void 0?j:"").localeCompare(($=oe.subpath)!==null&&$!==void 0?$:"");case"date":return W.value<z.value?-1:W.value.equals(z.value)?0:1;case"duration":return W.value<z.value?-1:W.value.equals(z.value)?0:1;case"array":let De=W.value,xe=z.value;for(let ye=0;ye<Math.min(De.length,xe.length);ye++){let ue=a(De[ye],xe[ye]);if(ue!=0)return ue}return De.length-xe.length;case"object":let pe=W.value,we=z.value,U=Array.from(Object.keys(pe)),G=Array.from(Object.keys(we));U.sort(),G.sort();let ie=a(U,G);if(ie!=0)return ie;for(let ye of U){let ue=a(pe[ye],we[ye]);if(ue!=0)return ue}return 0;case"widget":case"html":case"function":return 0}}e.compareValue=a;function i(N){var P;return(P=n(N))===null||P===void 0?void 0:P.type}e.typeOf=i;function s(N){let P=n(N);if(!P)return!1;switch(P.type){case"number":return P.value!=0;case"string":return P.value.length>0;case"boolean":return P.value;case"link":return!!P.value.path;case"date":return P.value.toMillis()!=0;case"duration":return P.value.as("seconds")!=0;case"object":return Object.keys(P.value).length>0;case"array":return P.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}e.isTruthy=s;function c(N){if(N==null)return N;if(e.isArray(N))return[].concat(N.map(P=>c(P)));if(e.isObject(N)){let P={};for(let[R,j]of Object.entries(N))P[R]=c(j);return P}else return N}e.deepCopy=c;function d(N){return typeof N=="string"}e.isString=d;function h(N){return typeof N=="number"}e.isNumber=h;function g(N){return N instanceof ot}e.isDate=g;function m(N){return N instanceof Qe}e.isDuration=m;function w(N){return N==null}e.isNull=w;function b(N){return Array.isArray(N)}e.isArray=b;function T(N){return typeof N=="boolean"}e.isBoolean=T;function E(N){return N instanceof Nr}e.isLink=E;function k(N){return N instanceof X1}e.isWidget=k;function M(N){return typeof HTMLElement<"u"?N instanceof HTMLElement:!1}e.isHtml=M;function F(N){return typeof N=="object"&&!M(N)&&!k(N)&&!b(N)&&!m(N)&&!g(N)&&!E(N)&&N!==void 0&&!w(N)}e.isObject=F;function B(N){return typeof N=="function"}e.isFunction=B})($p||($p={}));var tD;(function(e){function t(a){return $p.isObject(a)&&Object.keys(a).length==2&&"key"in a&&"rows"in a}e.isElementGroup=t;function n(a){for(let i of a)if(!t(i))return!1;return!0}e.isGrouping=n;function r(a){if(n(a)){let i=0;for(let s of a)i+=r(s.rows);return i}else return a.length}e.count=r})(tD||(tD={}));class Nr{constructor(t){Object.assign(this,t)}static file(t,n=!1,r){return new Nr({path:t,embed:n,display:r,subpath:void 0,type:"file"})}static infer(t,n=!1,r){if(t.includes("#^")){let a=t.split("#^");return Nr.block(a[0],a[1],n,r)}else if(t.includes("#")){let a=t.split("#");return Nr.header(a[0],a[1],n,r)}else return Nr.file(t,n,r)}static header(t,n,r,a){return new Nr({path:t,embed:r,display:a,subpath:Y5(n),type:"header"})}static block(t,n,r,a){return new Nr({path:t,embed:r,display:a,subpath:n,type:"block"})}static fromObject(t){return new Nr(t)}equals(t){return t==null||t==null?!1:this.path==t.path&&this.type==t.type&&this.subpath==t.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(t){return new Nr(Object.assign({},this,{path:t}))}withDisplay(t){return new Nr(Object.assign({},this,{display:t}))}withHeader(t){return Nr.header(this.path,t,this.embed,this.display)}toFile(){return Nr.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let t=new Nr(this);return t.embed=!0,t}}fromEmbed(){if(this.embed){let t=new Nr(this);return t.embed=!1,t}else return this}markdown(){let t=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?t+="|"+this.display:(t+="|"+eD(this.path),(this.type=="header"||this.type=="block")&&(t+=" > "+this.subpath)),t+="]]",t}obsidianLink(){var t,n;const r=this.path.replace("|","\\|");return this.type=="header"?r+"#"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):this.type=="block"?r+"#^"+((n=this.subpath)===null||n===void 0?void 0:n.replace("|","\\|")):r}fileName(){return eD(this.path).replace(".md","")}}class X1{constructor(t){this.$widget=t}}class U5 extends X1{constructor(t,n){super("dataview:list-pair"),this.key=t,this.value=n}markdown(){return`${$p.toString(this.key)}: ${$p.toString(this.value)}`}}class V5 extends X1{constructor(t,n){super("dataview:external-link"),this.url=t,this.display=n}markdown(){var t;return`[${(t=this.display)!==null&&t!==void 0?t:this.url}](${this.url})`}}var nD;(function(e){function t(s,c){return new U5(s,c)}e.listPair=t;function n(s,c){return new V5(s,c)}e.externalLink=n;function r(s){return s.$widget==="dataview:list-pair"}e.isListPair=r;function a(s){return s.$widget==="dataview:external-link"}e.isExternalLink=a;function i(s){return r(s)||a(s)}e.isBuiltin=i})(nD||(nD={}));var En;(function(e){function t(w){return{type:"variable",name:w}}e.variable=t;function n(w){return{type:"literal",value:w}}e.literal=n;function r(w,b,T){return{type:"binaryop",left:w,op:b,right:T}}e.binaryOp=r;function a(w,b){return{type:"index",object:w,index:b}}e.index=a;function i(w){let b=w.split("."),T=e.variable(b[0]);for(let E=1;E<b.length;E++)T=e.index(T,e.literal(b[E]));return T}e.indexVariable=i;function s(w,b){return{type:"lambda",arguments:w,value:b}}e.lambda=s;function c(w,b){return{type:"function",func:w,arguments:b}}e.func=c;function d(w){return{type:"list",values:w}}e.list=d;function h(w){return{type:"object",values:w}}e.object=h;function g(w){return{type:"negated",child:w}}e.negate=g;function m(w){return w=="<="||w=="<"||w==">"||w==">="||w=="!="||w=="="}e.isCompareOp=m,e.NULL=e.literal(null)})(En||(En={}));var gi;(function(e){function t(g){return{type:"tag",tag:g}}e.tag=t;function n(g){return{type:"csv",path:g}}e.csv=n;function r(g){return{type:"folder",folder:g}}e.folder=r;function a(g,m){return{type:"link",file:g,direction:m?"incoming":"outgoing"}}e.link=a;function i(g,m,w){return{type:"binaryop",left:g,op:m,right:w}}e.binaryOp=i;function s(g,m){return{type:"binaryop",left:g,op:"&",right:m}}e.and=s;function c(g,m){return{type:"binaryop",left:g,op:"|",right:m}}e.or=c;function d(g){return{type:"negate",child:g}}e.negate=d;function h(){return{type:"empty"}}e.empty=h})(gi||(gi={}));const rD=new RegExp(J1(),""),u1={year:Qe.fromObject({years:1}),years:Qe.fromObject({years:1}),yr:Qe.fromObject({years:1}),yrs:Qe.fromObject({years:1}),month:Qe.fromObject({months:1}),months:Qe.fromObject({months:1}),mo:Qe.fromObject({months:1}),mos:Qe.fromObject({months:1}),week:Qe.fromObject({weeks:1}),weeks:Qe.fromObject({weeks:1}),wk:Qe.fromObject({weeks:1}),wks:Qe.fromObject({weeks:1}),w:Qe.fromObject({weeks:1}),day:Qe.fromObject({days:1}),days:Qe.fromObject({days:1}),d:Qe.fromObject({days:1}),hour:Qe.fromObject({hours:1}),hours:Qe.fromObject({hours:1}),hr:Qe.fromObject({hours:1}),hrs:Qe.fromObject({hours:1}),h:Qe.fromObject({hours:1}),minute:Qe.fromObject({minutes:1}),minutes:Qe.fromObject({minutes:1}),min:Qe.fromObject({minutes:1}),mins:Qe.fromObject({minutes:1}),m:Qe.fromObject({minutes:1}),second:Qe.fromObject({seconds:1}),seconds:Qe.fromObject({seconds:1}),sec:Qe.fromObject({seconds:1}),secs:Qe.fromObject({seconds:1}),s:Qe.fromObject({seconds:1})},c1={now:()=>ot.local(),today:()=>ot.local().startOf("day"),yesterday:()=>ot.local().startOf("day").minus(Qe.fromObject({days:1})),tomorrow:()=>ot.local().startOf("day").plus(Qe.fromObject({days:1})),sow:()=>ot.local().startOf("week"),"start-of-week":()=>ot.local().startOf("week"),eow:()=>ot.local().endOf("week"),"end-of-week":()=>ot.local().endOf("week"),soy:()=>ot.local().startOf("year"),"start-of-year":()=>ot.local().startOf("year"),eoy:()=>ot.local().endOf("year"),"end-of-year":()=>ot.local().endOf("year"),som:()=>ot.local().startOf("month"),"start-of-month":()=>ot.local().startOf("month"),eom:()=>ot.local().endOf("month"),"end-of-month":()=>ot.local().endOf("month")},f1=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function z5(e){let t=-1;for(;(t=e.indexOf("|",t+1))>=0;)if(!(t>0&&e[t-1]=="\\"))return[e.substring(0,t).replace(/\\\|/g,"|"),e.substring(t+1)];return[e.replace(/\\\|/g,"|"),void 0]}function $5(e){let[t,n]=z5(e);return Nr.infer(t,!1,n)}function Cp(e,t,n){return Z.exports.seqMap(e,Z.exports.seq(Z.exports.optWhitespace,t,Z.exports.optWhitespace,e).many(),(r,a)=>{if(a.length==0)return r;let i=n(r,a[0][1],a[0][3]);for(let s=1;s<a.length;s++)i=n(i,a[s][1],a[s][3]);return i})}function W5(e,...t){return Z.exports.custom((n,r)=>(a,i)=>{let s=e._(a,i);if(!s.status)return s;for(let c of t){let d=c(s.value)._(a,s.index);if(!d.status)return s;s=d}return s})}const Mo=Z.exports.createLanguage({number:e=>Z.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(t=>Number.parseFloat(t)).desc("number"),string:e=>Z.exports.string('"').then(Z.exports.alt(e.escapeCharacter,Z.exports.noneOf('"\\')).atLeast(0).map(t=>t.join(""))).skip(Z.exports.string('"')).desc("string"),escapeCharacter:e=>Z.exports.string("\\").then(Z.exports.any).map(t=>t==='"'?'"':t==="\\"?"\\":"\\"+t),bool:e=>Z.exports.regexp(/true|false|True|False/).map(t=>t.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:e=>Z.exports.seqMap(Z.exports.string("#"),Z.exports.alt(Z.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(t,n)=>t+n.join("")).desc("tag ('#hello/stuff')"),identifier:e=>Z.exports.seqMap(Z.exports.alt(Z.exports.regexp(new RegExp("\\p{Letter}","u")),Z.exports.regexp(rD).desc("text")),Z.exports.alt(Z.exports.regexp(/[0-9\p{Letter}_-]/u),Z.exports.regexp(rD).desc("text")).many(),(t,n)=>t+n.join("")).desc("variable identifier"),link:e=>Z.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(t=>$5(t)).desc("file link"),embedLink:e=>Z.exports.seqMap(Z.exports.string("!").atMost(1),e.link,(t,n)=>(t.length>0&&(n.embed=!0),n)).desc("file link"),binaryPlusMinus:e=>Z.exports.regexp(/\+|-/).map(t=>t).desc("'+' or '-'"),binaryMulDiv:e=>Z.exports.regexp(/\*|\/|%/).map(t=>t).desc("'*' or '/' or '%'"),binaryCompareOp:e=>Z.exports.regexp(/>=|<=|!=|>|<|=/).map(t=>t).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:e=>Z.exports.regexp(/and|or|&|\|/i).map(t=>t.toLowerCase()=="and"?"&":t.toLowerCase()=="or"?"|":t).desc("'and' or 'or'"),rootDate:e=>Z.exports.seqMap(Z.exports.regexp(/\d{4}/),Z.exports.string("-"),Z.exports.regexp(/\d{2}/),(t,n,r)=>ot.fromObject({year:Number.parseInt(t),month:Number.parseInt(r)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:e=>Z.exports.alt(...Object.keys(c1).sort((t,n)=>n.length-t.length).map(Z.exports.string)),date:e=>W5(e.rootDate,t=>Z.exports.seqMap(Z.exports.string("-"),Z.exports.regexp(/\d{2}/),(n,r)=>t.set({day:Number.parseInt(r)})),t=>Z.exports.seqMap(Z.exports.string("T"),Z.exports.regexp(/\d{2}/),(n,r)=>t.set({hour:Number.parseInt(r)})),t=>Z.exports.seqMap(Z.exports.string(":"),Z.exports.regexp(/\d{2}/),(n,r)=>t.set({minute:Number.parseInt(r)})),t=>Z.exports.seqMap(Z.exports.string(":"),Z.exports.regexp(/\d{2}/),(n,r)=>t.set({second:Number.parseInt(r)})),t=>Z.exports.alt(Z.exports.seqMap(Z.exports.string("."),Z.exports.regexp(/\d{3}/),(n,r)=>t.set({millisecond:Number.parseInt(r)})),Z.exports.succeed(t)),t=>Z.exports.alt(Z.exports.seqMap(Z.exports.string("+").or(Z.exports.string("-")),Z.exports.regexp(/\d{1,2}(:\d{2})?/),(n,r)=>t.setZone("UTC"+n+r,{keepLocalTime:!0})),Z.exports.seqMap(Z.exports.string("Z"),()=>t.setZone("utc",{keepLocalTime:!0})),Z.exports.seqMap(Z.exports.string("["),Z.exports.regexp(/[0-9A-Za-z+-\/]+/u),Z.exports.string("]"),(n,r,a)=>t.setZone(r,{keepLocalTime:!0})))).assert(t=>t.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:e=>Z.exports.alt(e.dateShorthand.map(t=>c1[t]()),e.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:e=>Z.exports.alt(...Object.keys(u1).sort((t,n)=>n.length-t.length).map(Z.exports.string)),duration:e=>Z.exports.seqMap(e.number,Z.exports.optWhitespace,e.durationType,(t,n,r)=>u1[r].mapUnits(a=>a*t)).sepBy1(Z.exports.string(",").trim(Z.exports.optWhitespace).or(Z.exports.optWhitespace)).map(t=>t.reduce((n,r)=>n.plus(r))).desc("duration like 4hr2min"),rawNull:e=>Z.exports.string("null"),tagSource:e=>e.tag.map(t=>gi.tag(t)),csvSource:e=>Z.exports.seqMap(Z.exports.string("csv(").skip(Z.exports.optWhitespace),e.string,Z.exports.string(")"),(t,n,r)=>gi.csv(n)),linkIncomingSource:e=>e.link.map(t=>gi.link(t.path,!0)),linkOutgoingSource:e=>Z.exports.seqMap(Z.exports.string("outgoing(").skip(Z.exports.optWhitespace),e.link,Z.exports.string(")"),(t,n,r)=>gi.link(n.path,!1)),folderSource:e=>e.string.map(t=>gi.folder(t)),parensSource:e=>Z.exports.seqMap(Z.exports.string("("),Z.exports.optWhitespace,e.source,Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>r),negateSource:e=>Z.exports.seqMap(Z.exports.alt(Z.exports.string("-"),Z.exports.string("!")),e.atomSource,(t,n)=>gi.negate(n)),atomSource:e=>Z.exports.alt(e.parensSource,e.negateSource,e.linkOutgoingSource,e.linkIncomingSource,e.folderSource,e.tagSource,e.csvSource),binaryOpSource:e=>Cp(e.atomSource,e.binaryBooleanOp.map(t=>t),gi.binaryOp),source:e=>e.binaryOpSource,variableField:e=>e.identifier.chain(t=>f1.includes(t.toUpperCase())?Z.exports.fail("Variable fields cannot be a keyword ("+f1.join(" or ")+")"):Z.exports.succeed(En.variable(t))).desc("variable"),numberField:e=>e.number.map(t=>En.literal(t)).desc("number"),stringField:e=>e.string.map(t=>En.literal(t)).desc("string"),boolField:e=>e.bool.map(t=>En.literal(t)).desc("boolean"),dateField:e=>Z.exports.seqMap(Z.exports.string("date("),Z.exports.optWhitespace,e.datePlus,Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>En.literal(r)).desc("date"),durationField:e=>Z.exports.seqMap(Z.exports.string("dur("),Z.exports.optWhitespace,e.duration,Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>En.literal(r)).desc("duration"),nullField:e=>e.rawNull.map(t=>En.NULL),linkField:e=>e.link.map(t=>En.literal(t)),listField:e=>e.field.sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace)).wrap(Z.exports.string("[").skip(Z.exports.optWhitespace),Z.exports.optWhitespace.then(Z.exports.string("]"))).map(t=>En.list(t)).desc("list ('[1, 2, 3]')"),objectField:e=>Z.exports.seqMap(e.identifier.or(e.string),Z.exports.string(":").trim(Z.exports.optWhitespace),e.field,(t,n,r)=>({name:t,value:r})).sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace)).wrap(Z.exports.string("{").skip(Z.exports.optWhitespace),Z.exports.optWhitespace.then(Z.exports.string("}"))).map(t=>{let n={};for(let r of t)n[r.name]=r.value;return En.object(n)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:e=>Z.exports.alt(e.date,e.duration.map(t=>i3(t)),e.string,e.tag,e.embedLink,e.bool,e.number,e.rawNull),inlineFieldList:e=>e.atomInlineField.sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace).lookahead(e.atomInlineField)),inlineField:e=>Z.exports.alt(Z.exports.seqMap(e.atomInlineField,Z.exports.string(",").trim(Z.exports.optWhitespace),e.inlineFieldList,(t,n,r)=>[t].concat(r)),e.atomInlineField),atomField:e=>Z.exports.alt(e.embedLink.map(t=>En.literal(t)),e.negatedField,e.linkField,e.listField,e.objectField,e.lambdaField,e.parensField,e.boolField,e.numberField,e.stringField,e.dateField,e.durationField,e.nullField,e.variableField),indexField:e=>Z.exports.seqMap(e.atomField,Z.exports.alt(e.dotPostfix,e.indexPostfix,e.functionPostfix).many(),(t,n)=>{let r=t;for(let a of n)switch(a.type){case"dot":r=En.index(r,En.literal(a.field));break;case"index":r=En.index(r,a.field);break;case"function":r=En.func(r,a.fields);break}return r}),negatedField:e=>Z.exports.seqMap(Z.exports.string("!"),e.indexField,(t,n)=>En.negate(n)).desc("negated field"),parensField:e=>Z.exports.seqMap(Z.exports.string("("),Z.exports.optWhitespace,e.field,Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>r),lambdaField:e=>Z.exports.seqMap(e.identifier.sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace)).wrap(Z.exports.string("(").trim(Z.exports.optWhitespace),Z.exports.string(")").trim(Z.exports.optWhitespace)),Z.exports.string("=>").trim(Z.exports.optWhitespace),e.field,(t,n,r)=>({type:"lambda",arguments:t,value:r})),dotPostfix:e=>Z.exports.seqMap(Z.exports.string("."),e.identifier,(t,n)=>({type:"dot",field:n})),indexPostfix:e=>Z.exports.seqMap(Z.exports.string("["),Z.exports.optWhitespace,e.field,Z.exports.optWhitespace,Z.exports.string("]"),(t,n,r,a,i)=>({type:"index",field:r})),functionPostfix:e=>Z.exports.seqMap(Z.exports.string("("),Z.exports.optWhitespace,e.field.sepBy(Z.exports.string(",").trim(Z.exports.optWhitespace)),Z.exports.optWhitespace,Z.exports.string(")"),(t,n,r,a,i)=>({type:"function",fields:r})),binaryMulDivField:e=>Cp(e.indexField,e.binaryMulDiv,En.binaryOp),binaryPlusMinusField:e=>Cp(e.binaryMulDivField,e.binaryPlusMinus,En.binaryOp),binaryCompareField:e=>Cp(e.binaryPlusMinusField,e.binaryCompareOp,En.binaryOp),binaryBooleanField:e=>Cp(e.binaryCompareField,e.binaryBooleanOp,En.binaryOp),binaryOpField:e=>e.binaryBooleanField,field:e=>e.binaryOpField});function q5(e){try{return Jg.success(Mo.field.tryParse(e))}catch(t){return Jg.failure(""+t)}}var Xg;(function(e){function t(r,a){return{name:r,field:a}}e.named=t;function n(r,a){return{field:r,direction:a}}e.sortBy=n})(Xg||(Xg={}));function G5(e){return Z.exports.custom((t,n)=>(r,a)=>{let i=e._(r,a);return i.status?Object.assign({},i,{value:[i.value,r.substring(a,i.index)]}):i})}function K5(e){return e.split(/[\r\n]+/).map(t=>t.trim()).join("")}const Q5=Z.exports.createLanguage({queryType:e=>Z.exports.alt(Z.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(t=>t.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:e=>Z.exports.seqMap(Mo.field.skip(Z.exports.whitespace),Z.exports.regexp(/AS/i).skip(Z.exports.whitespace),Mo.identifier.or(Mo.string),(t,n,r)=>Xg.named(r,t)),namedField:e=>Z.exports.alt(e.explicitNamedField,G5(Mo.field).map(([t,n])=>Xg.named(K5(n),t))),sortField:e=>Z.exports.seqMap(Mo.field.skip(Z.exports.optWhitespace),Z.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(t,n)=>{let r=n.length==0?"ascending":n[0].toLowerCase();return r=="desc"&&(r="descending"),r=="asc"&&(r="ascending"),{field:t,direction:r}}),headerClause:e=>e.queryType.skip(Z.exports.whitespace).chain(t=>{switch(t){case"table":return Z.exports.seqMap(Z.exports.regexp(/WITHOUT\s+ID/i).skip(Z.exports.optWhitespace).atMost(1),Z.exports.sepBy(e.namedField,Z.exports.string(",").trim(Z.exports.optWhitespace)),(n,r)=>({type:"table",fields:r,showId:n.length==0}));case"list":return Z.exports.seqMap(Z.exports.regexp(/WITHOUT\s+ID/i).skip(Z.exports.optWhitespace).atMost(1),Mo.field.atMost(1),(n,r)=>({type:"list",format:r.length==1?r[0]:void 0,showId:n.length==0}));case"task":return Z.exports.succeed({type:"task"});case"calendar":return Z.exports.seqMap(e.namedField,n=>({type:"calendar",showId:!0,field:n}));default:return Z.exports.fail(`Unrecognized query type '${t}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:e=>Z.exports.seqMap(Z.exports.regexp(/FROM/i),Z.exports.whitespace,Mo.source,(t,n,r)=>r),whereClause:e=>Z.exports.seqMap(Z.exports.regexp(/WHERE/i),Z.exports.whitespace,Mo.field,(t,n,r)=>({type:"where",clause:r})).desc("WHERE <expression>"),sortByClause:e=>Z.exports.seqMap(Z.exports.regexp(/SORT/i),Z.exports.whitespace,e.sortField.sepBy1(Z.exports.string(",").trim(Z.exports.optWhitespace)),(t,n,r)=>({type:"sort",fields:r})).desc("SORT field [ASC/DESC]"),limitClause:e=>Z.exports.seqMap(Z.exports.regexp(/LIMIT/i),Z.exports.whitespace,Mo.field,(t,n,r)=>({type:"limit",amount:r})).desc("LIMIT <value>"),flattenClause:e=>Z.exports.seqMap(Z.exports.regexp(/FLATTEN/i).skip(Z.exports.whitespace),e.namedField,(t,n)=>({type:"flatten",field:n})).desc("FLATTEN <value> [AS <name>]"),groupByClause:e=>Z.exports.seqMap(Z.exports.regexp(/GROUP BY/i).skip(Z.exports.whitespace),e.namedField,(t,n)=>({type:"group",field:n})).desc("GROUP BY <value> [AS <name>]"),clause:e=>Z.exports.alt(e.fromClause,e.whereClause,e.sortByClause,e.limitClause,e.groupByClause,e.flattenClause),query:e=>Z.exports.seqMap(e.headerClause.trim(Z.exports.optWhitespace),e.fromClause.trim(Z.exports.optWhitespace).atMost(1),e.clause.trim(Z.exports.optWhitespace).many(),(t,n,r)=>({header:t,source:n.length==0?gi.folder(""):n[0],operations:r,settings:K1}))}),Z5=e=>{var t;return e?(t=e.plugins.plugins.dataview)===null||t===void 0?void 0:t.api:window.DataviewAPI},J5=e=>e.plugins.enabledPlugins.has("dataview");ds.DATE_SHORTHANDS=c1;ds.DURATION_TYPES=u1;ds.EXPRESSION=Mo;ds.KEYWORDS=f1;ds.QUERY_LANGUAGE=Q5;var X5=ds.getAPI=Z5;ds.isPluginEnabled=J5;ds.parseField=q5;async function e7(e,t,n,r,a){var k,M;const{vault:i,metadataCache:s}=Ce.getState().dailyNotesState.app===void 0?app:Ce.getState().dailyNotesState.app,c=Ce.getState().dailyNotesState.settings,d=e.replace(/\n/g,"<br>");if(n===void 0)return;const h=s.getFirstLinkpathDest("",n),g=I.moment(),m=g.format("YYYYMMDDHHmmss"),w=r.slice(14),b="    ",T=m+" "+d.trim(),E=b+"- "+m+" "+d.trim();if(h){let F;if(c!=null&&c.CommentOnMemos&&(c!=null&&c.CommentsInOriginalNotes)){const R=X5();if(R!==void 0)try{F=(M=(k=R.page(h.path))==null?void 0:k.file.lists.values)==null?void 0:M.filter(j=>j.line===parseInt(w))}catch{}}const B=await i.read(h);let N=0;F[0].children.values.length>0?N=F[0].children.values[F[0].children.values.length-1].line:N=F[0].line;const P=await t7(E,B,N);if(await i.modify(h,P.content),t)return{id:m+(N+1),content:T,deletedAt:"",createdAt:g.format("YYYY/MM/DD HH:mm:ss"),updatedAt:g.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",path:h.path,hasId:"",linkId:a}}}async function t7(e,t,n){if(n===-1)return{content:`${t}
${e}`,posNum:-1};const r=t.split(`
`),a=r.slice(0,n+1).join(`
`),i=r.slice(n+1).join(`
`);return/^\s*$/g.test(r[n+1])?{content:`${a}
${e}
${i}`,posNum:n}:{content:`${a}
${e}
${i}`,posNum:n}}const eb=async e=>{const t=ut.getState().app,n=t.metadataCache.getFirstLinkpathDest("",e);if(!n){new I.Notice(O("File not found for the given thino path"));return}await t.workspace.getLeaf("split").openFile(n)},tb=async(e,t)=>{const{app:n}=ut.getState(),r=parseInt(e.slice(14)),a=n.metadataCache.getFirstLinkpathDest("",t);if(!I.Platform.isMobile)await n.workspace.getLeaf("split").openFile(a,{eState:{line:r}});else{let i=n.workspace.activeLeaf;i===null&&(i=n.workspace.getLeaf(!1)),await i.openFile(a,{eState:{line:r}})}},nb=async(e,t)=>{var d;const n=ut.getState().app,r=n.metadataCache.getFirstLinkpathDest("",t);if(!r){new I.Notice(O("File not found for the given thino path"));return}let a="";try{a=await n.vault.read(r)}catch{a=await n.vault.cachedRead(r)}const s=a.split(/\r?\n/).findIndex(h=>h.contains(e)),c=n.workspace.getLeaf("split");await c.openFile(r,{eState:{line:s}});try{(d=c.view.editor)==null||d.setCursor({line:s,ch:1})}catch{}},rb=async(e,t)=>{var c;const n=ut.getState().app,r=(d,h)=>{var m;const g=(m=Array.from(d.nodes.values()))==null?void 0:m.find(w=>w.id===h);return g?(d.selectOnly(g),d.zoomToSelection(),!0):!1},a=n.workspace.getLeavesOfType("canvas");for(const d of a){const h=d.view;if(((c=h==null?void 0:h.file)==null?void 0:c.path)===t&&r(h.canvas,e))return}const i=n.metadataCache.getFirstLinkpathDest("",t);if(!i){new I.Notice(O("File not found for the given thino path"));return}const s=n.workspace.getLeaf("split");await s.openFile(i),setTimeout(()=>{var d;r((d=s.view)==null?void 0:d.canvas,e)},10)},n7="https://api.thino.pkmer.cn/test",Bf=n7,r7="unknown",a7=/!\[(?<content>[^\]]+)\]\((?<link>[^)]+)\)/g;function o7(e){return e.substring(e.lastIndexOf(".")+1)}function i7(e){return{id:e.id,createdAt:Date.now().toString(),filename:e.id,type:`${o7(e.id)}`,size:e.size.toString()}}function s7(e){const t=e==null?void 0:e.matchAll(a7);return t?Array.from(t).map(n=>{var r;return i7({url:(r=n.groups)==null?void 0:r.link,id:r7,size:0,mtime:""})}).filter(n=>n.type!="html"):[]}function yh(e){var t;return{id:e.id,createdAt:I.moment(e.ctime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"),updatedAt:I.moment(e.mtime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"),deletedAt:(t=e.ttime)!=null&&t.toString()?I.moment(e.ttime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"):"",rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,resourceList:s7(e.content),creatorName:"thino",sourceType:(e==null?void 0:e.thinoType)||"FILE",visibility:"PUBLIC",localId:e.originalId,deleted:!!e.dtime}}async function l7(e){const n={url:`${Bf}/thino/getThinos${e?`?since=${e}&includeDeleted=true`:""}`,method:"GET",headers:{Authorization:`Bearer ${Yf()}`}};return I.requestUrl(n).then(r=>{r.status>=400;try{return r.json.payload.map(i=>yh(i))}catch{}}).catch(r=>[])}function Yf(){const e=Ce.getState().dailyNotesState.app||app;return(e==null?void 0:e.loadLocalStorage("tokenForSync"))||""}async function s3(e){const t=`${Bf}/thino/createThino`,n={content:e.content,thinoType:(e==null?void 0:e.thinoType)||"FILE",pinned:!1,rowStatus:"NORMAL",encrypted:!1},r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Yf()}`}};return I.requestUrl(r).then(a=>{a.status>=400;try{const i=a.json;return yh(i.payload)}catch{}}).catch(a=>null)}function u7(e){return{id:e.id,ctime:I.moment(e.createdAt,"YYYY-MM-DD HH:mm:ss").valueOf(),mtime:I.moment(e.updatedAt,"YYYY-MM-DD HH:mm:ss").valueOf(),ttime:e.deletedAt?I.moment(e.deletedAt,"YYYY-MM-DD HH:mm:ss").valueOf():void 0,rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,encrypted:!1,thinoType:e.sourceType==="DAILY"?"DAILY":"FILE",tags:[]}}async function c7(e){const t=`${Bf}/thino/createThinosByData`,n=e.map(a=>u7(a)),r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Yf()}`}};return I.requestUrl(r).then(a=>{a.status>=400;try{return a.json.payload.map(c=>yh(c))}catch{}}).catch(a=>[])}async function g0(e){const n={url:`${Bf}/thino/updateThinoById/${e.id}`,method:"POST",contentType:"application/json",body:JSON.stringify(e),headers:{Authorization:`Bearer ${Yf()}`}};return I.requestUrl(n).then(r=>{r.status>=400;try{const a=r.json;return yh(a.payload)}catch{}}).catch(r=>null)}async function f7(e){const n={url:`${Bf}/thino/recoverThinoFromTrash/${e}`,method:"POST",headers:{Authorization:`Bearer ${Yf()}`}};return I.requestUrl(n).then(r=>{r.status>=400;try{const a=r.json;return yh(a.payload)}catch{}}).catch(r=>null)}async function d7(e){const n={url:`${Bf}/thino/deleteThinoById/${e}`,method:"DELETE",headers:{Authorization:`Bearer ${Yf()}`}};return I.requestUrl(n).then(r=>{r.status>=400}).catch(r=>null)}class p7{constructor(){ve(this,"initialized",!1)}getState(){return Ce.getState().memoState}async fetchAllMemos(){const t=ut.getState().settings,n=await fa.getMyMemos(t.EnabledLocationList.map(i=>i.value)),r=[...n.memos],a=[...n.commentMemos];return Ce.dispatch({type:"SET_MEMOS",payload:{memos:r}}),Ce.dispatch({type:"SET_COMMENT_MEMOS",payload:{commentMemos:a}}),this.initialized||(this.initialized=!0,rt.setLoaded(!0)),r}async updateTypeMemos(t){const n=await fa.updateSpecificTypeMemo(t),r=this.getState().memos.filter(a=>a.sourceType!==t);Ce.dispatch({type:"SET_MEMOS",payload:{memos:[...r,...n.memos]}})}async removeTypeMemos(t){const n=this.getState().memos.filter(r=>r.sourceType!==t);Ce.dispatch({type:"SET_MEMOS",payload:{memos:[...n]}})}async fetchDeletedMemos(){const t=await fa.getMyDeletedMemos();return t.sort((n,r)=>Ue.getTimeStampByDate(r.deletedAt)-Ue.getTimeStampByDate(n.deletedAt)),t}pushMemo(t){Ce.dispatch({type:"INSERT_MEMO",payload:{memo:{...t}}})}pushCommentMemo(t){Ce.dispatch({type:"INSERT_COMMENT_MEMO",payload:{memo:{...t}}})}getMemoById(t){for(const n of this.getState().memos)if(n.id===t)return n;return null}getCommentMemoById(t){for(const n of this.getState().commentMemos)if(n.id===t)return n;return null}getMemoByWebId(t){for(const n of this.getState().memos)if(n.webId===t||n.id===t)return n;return null}async updateMemoById(t,n,r){const a=this.getMemoByWebId(t);if(!a)return;let i=null;const s=r?{}:{content:n.content,rowStatus:n.rowStatus,pinned:n.pinned,deleted:!!n.deletedAt,thinoType:n.thinoType??""};switch(a.sourceType){case"DAILY":i=await cl(a,{id:a.id,webId:n.id,...s});break;case"CANVAS":i=await ul(a,{id:a.id,webId:n.id,...s});break;case"MULTI":i=await ns(a,{id:a.id,webId:n.id,...s});break;case"FILE":i=await ll(a,{id:a.id,webId:n.id,...s});break}if(!i)return a;Ce.dispatch({type:"EDIT_MEMO",payload:i})}async archiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await cl(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"CANVAS":n=await ul(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"MULTI":n=await ns(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"FILE":n=await ll(t,{id:t.id,rowStatus:"ARCHIVED"});break}return n?(Ce.dispatch({type:"ARCHIVE_MEMO_BY_ID",payload:n}),n):t}async unarchiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await cl(t,{id:t.id,rowStatus:"NORMAL"});break;case"CANVAS":n=await ul(t,{id:t.id,rowStatus:"NORMAL"});break;case"MULTI":n=await ns(t,{id:t.id,rowStatus:"NORMAL"});break;case"FILE":n=await ll(t,{id:t.id,rowStatus:"NORMAL"});break}return Ce.dispatch({type:"UNARCHIVE_MEMO_BY_ID",payload:n}),n}async hideMemoById(t){const n=this.getMemoById(t);if(!n)return n;let r=null;switch(n.sourceType){case"DAILY":r=await cl(n,{id:n.id,deleted:!0});break;case"CANVAS":r=await ul(n,{id:n.id,deleted:!0});break;case"MULTI":r=await ns(n,{id:n.id,deleted:!0});break;case"FILE":r=await ll(n,{id:n.id,deleted:!0});break}if(!r)return n;if(r)return r}async restoreMemoById(t){return await fa.restoreMemo(t)}async deleteMemoById(t,n){const r=this.getMemoById(t);try{switch(r.sourceType){case"DAILY":await fa.deleteMemoInDailyNote(r);break;case"CANVAS":await fa.deleteMemoInCanvas(r);break;case"MULTI":await fa.deleteMemoInMultiFiles(r);break;case"FILE":await fa.deleteMemoInSingleFile(r);break}Ce.dispatch({type:"DELETE_MEMO_BY_ID",payload:{id:t}})}catch{new I.Notice(O("Failed to delete memo"))}if(n&&n==="local")return;const a=ut.getState().settings,i=ut.getState().app;!(i!=null&&i.loadLocalStorage("tokenForSync"))||!a.startSync||r.webId&&await d7(r.webId)}async removeMemosInFile(t,n){var a,i;const r=[];try{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n)await e1(t,r);else if(t.path.contains("thino.canvas"))await t1(t,r);else if((a=t==null?void 0:t.parent)!=null&&a.path.contains(n)||!(t!=null&&t.parent)&&!((i=t==null?void 0:t.parent)!=null&&i.path)){const c=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());c.length>0&&r.push(...c)}else t.path.endsWith(".md")&&t.path.contains(".thino")&&await X0(t,r);const s=r.map(c=>c.id);Ce.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:s}})}catch{}}async updateMemosInFile(t,n){const r=[],a=async()=>{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){await e1(t,r);return}else if(t.path.contains("thino.canvas")){await t1(t,r);return}else if(t!=null&&t.parent.path.contains(n)){await aE(t,r);return}else if(t.path.endsWith(".md")&&t.path.contains(".thino")){await X0(t,r);return}};try{await a(),Ce.dispatch({type:"UPDATE_MEMO_BATCH",payload:{memos:r,path:t.path}})}catch{}}async updateMemoProperty(t){const n=Ue.randomId(16),r=await ns(t,{id:n});Ce.dispatch({type:"EDIT_MEMO_PATH",payload:r})}editMemo(t){const n=t.webId;Ce.dispatch({type:"EDIT_MEMO",payload:t});const r=ut.getState().settings,a=ut.getState().app;if(!(!(a!=null&&a.loadLocalStorage("tokenForSync"))||!r.startSync))try{t&&n&&g0({id:n,content:t.content,rowStatus:t.rowStatus,pinned:t.pinned,ttime:t.deletedAt?I.moment(t.deletedAt,"YYYY-MM-DD HH:mm:ss").valueOf():0,thinoType:t.sourceType==="DAILY"?"DAILY":"FILE"})}catch{}}editCommentMemo(t){Ce.dispatch({type:"EDIT_COMMENT_MEMO",payload:t})}getThinoViaKeyword(t){const{memos:n}=this.getState();return n.filter(a=>a.content.toLowerCase().includes(t==null?void 0:t.toLowerCase()))}updateTagsState(){const{memos:t}=this.getState(),n=new Set,r={};for(const a of t){const i=a.content.replace(/<br>/g," ").replace(/<[^>]*>/g,"").replace(/\`\`\`[a-z]*\n[\s\S]*?\n\`\`\`/g,"").replace(/\`([^\`].*?)\`/g,"");if(a.deletedAt!==""&&a.deletedAt)continue;[...Array.from(i.match(or)??[]),...Array.from(i.match(Rr)??[]),...Array.from(i.match(Ra)??[])].forEach(c=>{const d=c.replace(or,"$1").replace(Rr,"$1").replace(Ra,"$2").trim();/^\d+$/.test(d)||(n.add(d),r[d]=(r[d]||0)+1)})}Ce.dispatch({type:"SET_TAGS",payload:{tags:Array.from(n),tagsNum:r}})}clearMemos(){Ce.dispatch({type:"SET_MEMOS",payload:{memos:[]}})}async getLinkedMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes(t))}async getCommentMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes("comment: "+t))}async createMemoMultiFile({content:t,isList:n}){return await bM({content:t,isList:n})}async createMemoSingleFile({content:t,isList:n}){return await wM({content:t,isList:n})}async createOrPatchThinoFromWeb(t){const n=this.getState().memos;if(t.localId&&(n!=null&&n.some(i=>i.id===t.localId)))return await this.updateMemoById(t.localId,t,!0),null;if(n!=null&&n.some(i=>i.id===t.id)||n!=null&&n.some(i=>i.webId===t.id))return await this.updateMemoById(t.id,t,!1),null;let r=t.sourceType;const a=ut.getState().settings;switch(a&&(a!=null&&a.saveThinoType)&&(r=a.saveThinoType!=="FILE"?a.saveThinoType:t.sourceType),r){case"FILE":case"MULTI":case"CANVAS":return await xw(t);case"DAILY":return await SM(t);default:return await xw(t)}}async initSync(){const n=this.getState().memos.filter(a=>!a.webId),r=await c7(n);for(const a of r)await this.createOrPatchThinoFromWeb(a)}async createMemoCanvas({text:t,isList:n}){return await DM({content:t,isList:n})}async createMemoDaily(t,n){return await Mw(t,n)}async pinMemoById(t){const n=this.getMemoById(t),r=await _M(n);Ce.dispatch({type:"PIN_MEMO",payload:r});try{const a=ut.getState().settings,i=ut.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&a.startSync){const c=await g0({id:r.webId,pinned:!0});this.editMemo(c)}}catch{}}async unpinMemoById(t){const n=this.getMemoById(t),r=await PM(n);Ce.dispatch({type:"PIN_MEMO",payload:r});try{const a=ut.getState().settings,i=ut.getState().app;if((i==null?void 0:i.loadLocalStorage("tokenForSync"))&&a.startSync){const c=await g0({id:r.webId,pinned:!1});this.editMemo(c)}}catch{}}async createCommentMemo(t,n,r,a,i){return await e7(t,n,r,a,i)}async importMemos(t,n,r){return await Mw(t,n,r)}async createThino({content:t,isList:n,type:r}){let a=null;switch(r.toLowerCase()){case"canvas":a=await Me.createMemoCanvas({text:t,isList:n});break;case"multi":a=await Me.createMemoMultiFile({content:t,isList:n});break;case"daily":a=await Me.createMemoDaily(t,n);break;case"file":a=await Me.createMemoSingleFile({content:t,isList:n});break;default:a=await Me.createMemoDaily(t,n);break}const i=ut.getState().settings,s=ut.getState().app,c=s==null?void 0:s.loadLocalStorage("tokenForSync");if(a&&c&&i.startSync){const d=await s3({content:t,thinoType:r==="DAILY"?"DAILY":"FILE"});await this.updateMemoById(a.id,d,!0)}return a}async openThinoByID(t){const n=this.getMemoById(t);if(n)switch(n.sourceType){case"DAILY":await tb(n.id,n.path);break;case"CANVAS":await rb(n.id,n.path);break;case"MULTI":await eb(n.path);break;case"FILE":await nb(n.id,n.path);break}}async updateMemo(t,n,r){const a=this.getMemoById(t);if(a){let i=null;switch(a.sourceType){case"DAILY":i=await cl(a,{id:a.id,content:n,thinoType:r||""});break;case"CANVAS":i=await ul(a,{id:a.id,content:n,thinoType:r||""});break;case"MULTI":i=await ns(a,{id:a.id,content:n,thinoType:r||""});break;case"FILE":i=await ll(a,{id:a.id,content:n,thinoType:r||""})}if(i)return i}return a}}const Me=new p7;class h7{getState(){return Ce.getState().queryState}async getMyAllQueries(){const t=it.getState().query.filter,n=this.getQueryById(t),r=await fa.getMyQueries();return Ce.dispatch({type:"SET_QUERIES",payload:{queries:[...r,...n?[n]:[]]}}),r}getQueryById(t){return this.getState().queries.find(n=>n.id===t)}pushQuery(t){Ce.dispatch({type:"INSERT_QUERY",payload:{query:{...t}}})}editQuery(t){Ce.dispatch({type:"UPDATE_QUERY",payload:t})}async deleteQuery(t){await fa.deleteQueryById(t),Ce.dispatch({type:"DELETE_QUERY_BY_ID",payload:{id:t}})}async createQuery(t,n){return await fa.createQuery(t,n)}createTempQuery(t,n){return Q8(t,n)}async updateQuery(t,n,r){return await fa.updateQuery(t,n,r)}async pinQuery(t){await fa.pinQuery(t)}async unpinQuery(t){await fa.unpinQuery(t)}}const ln=new h7;class m7{async upload(t){const{vault:n,fileManager:r}=Ce.getState().dailyNotesState.app,a=await t.arrayBuffer(),i=g7(t.type),s=Nu(),c=I.moment(),d=bv(c,s);let h;if(d)d instanceof I.TFile&&(h=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${I.moment().format("YYYYMMDDHHmmss")}`,i,d),a));else{const g=await K2(c);h=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${I.moment().format("YYYYMMDDHHmmss")}`,i,g),a)}return r.generateMarkdownLink(h,h.path,"","")}async parseHtml(t){const n=await t.text(),r=document.createElement("html");r.innerHTML=n;const a=Array.from(r.getElementsByClassName("memo"));for(const i of a){const s=i.getElementsByClassName("content")[0],c=I.htmlToMarkdown(s.innerHTML),d=await Me.importMemos(c,!0,I.moment(i.getElementsByClassName("time")[0].innerHTML));Me.pushMemo(d)}}}const g7=e=>{var t;return(t=/^image\/(.+)$/.exec(e))==null?void 0:t[1]},ab=new m7;var Ou={},l3={exports:{}},ca={},v0={exports:{}},y0={},aD;function v7(){return aD||(aD=1,function(e){function t(pe,we){var U=pe.length;pe.push(we);e:for(;0<U;){var G=U-1>>>1,ie=pe[G];if(0<a(ie,we))pe[G]=we,pe[U]=ie,U=G;else break e}}function n(pe){return pe.length===0?null:pe[0]}function r(pe){if(pe.length===0)return null;var we=pe[0],U=pe.pop();if(U!==we){pe[0]=U;e:for(var G=0,ie=pe.length,ye=ie>>>1;G<ye;){var ue=2*(G+1)-1,be=pe[ue],Re=ue+1,He=pe[Re];if(0>a(be,U))Re<ie&&0>a(He,be)?(pe[G]=He,pe[Re]=U,G=Re):(pe[G]=be,pe[ue]=U,G=ue);else if(Re<ie&&0>a(He,U))pe[G]=He,pe[Re]=U,G=Re;else break e}}return we}function a(pe,we){var U=pe.sortIndex-we.sortIndex;return U!==0?U:pe.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],h=[],g=1,m=null,w=3,b=!1,T=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(pe){for(var we=n(h);we!==null;){if(we.callback===null)r(h);else if(we.startTime<=pe)r(h),we.sortIndex=we.expirationTime,t(d,we);else break;we=n(h)}}function N(pe){if(E=!1,B(pe),!T)if(n(d)!==null)T=!0,De(P);else{var we=n(h);we!==null&&xe(N,we.startTime-pe)}}function P(pe,we){T=!1,E&&(E=!1,M($),$=-1),b=!0;var U=w;try{for(B(we),m=n(d);m!==null&&(!(m.expirationTime>we)||pe&&!X());){var G=m.callback;if(typeof G=="function"){m.callback=null,w=m.priorityLevel;var ie=G(m.expirationTime<=we);we=e.unstable_now(),typeof ie=="function"?m.callback=ie:m===n(d)&&r(d),B(we)}else r(d);m=n(d)}if(m!==null)var ye=!0;else{var ue=n(h);ue!==null&&xe(N,ue.startTime-we),ye=!1}return ye}finally{m=null,w=U,b=!1}}var R=!1,j=null,$=-1,W=5,z=-1;function X(){return!(e.unstable_now()-z<W)}function oe(){if(j!==null){var pe=e.unstable_now();z=pe;var we=!0;try{we=j(!0,pe)}finally{we?ee():(R=!1,j=null)}}else R=!1}var ee;if(typeof F=="function")ee=function(){F(oe)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=oe,ee=function(){fe.postMessage(null)}}else ee=function(){k(oe,0)};function De(pe){j=pe,R||(R=!0,ee())}function xe(pe,we){$=k(function(){pe(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){T||b||(T=!0,De(P))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe||(W=0<pe?Math.floor(1e3/pe):5)},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(pe){switch(w){case 1:case 2:case 3:var we=3;break;default:we=w}var U=w;w=we;try{return pe()}finally{w=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,we){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var U=w;w=pe;try{return we()}finally{w=U}},e.unstable_scheduleCallback=function(pe,we,U){var G=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,pe){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=U+ie,pe={id:g++,callback:we,priorityLevel:pe,startTime:U,expirationTime:ie,sortIndex:-1},U>G?(pe.sortIndex=U,t(h,pe),n(d)===null&&pe===n(h)&&(E?(M($),$=-1):E=!0,xe(N,U-G))):(pe.sortIndex=ie,t(d,pe),T||b||(T=!0,De(P))),pe},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(pe){var we=w;return function(){var U=w;w=we;try{return pe.apply(this,arguments)}finally{w=U}}}}(y0)),y0}var oD;function y7(){return oD||(oD=1,v0.exports=v7()),v0.exports}var iD;function b7(){if(iD)return ca;iD=1;var e=A,t=y7();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function i(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(a[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function w(o){return d.call(m,o)?!0:d.call(g,o)?!1:h.test(o)?m[o]=!0:(g[o]=!0,!1)}function b(o,l,p,v){if(p!==null&&p.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,l,p,v){if(l===null||typeof l>"u"||b(o,l,p,v))return!0;if(v)return!1;if(p!==null)switch(p.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(o,l,p,v,S,C,_){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=p,this.propertyName=o,this.type=l,this.sanitizeURL=C,this.removeEmptyString=_}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];k[l]=new E(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function F(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(M,F);k[l]=new E(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(M,F);k[l]=new E(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(M,F);k[l]=new E(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function B(o,l,p,v){var S=k.hasOwnProperty(l)?k[l]:null;(S!==null?S.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,p,S,v)&&(p=null),v||S===null?w(l)&&(p===null?o.removeAttribute(l):o.setAttribute(l,""+p)):S.mustUseProperty?o[S.propertyName]=p===null?S.type===3?!1:"":p:(l=S.attributeName,v=S.attributeNamespace,p===null?o.removeAttribute(l):(S=S.type,p=S===3||S===4&&p===!0?"":""+p,v?o.setAttributeNS(v,l,p):o.setAttribute(l,p))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),X=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),pe=Symbol.iterator;function we(o){return o===null||typeof o!="object"?null:(o=pe&&o[pe]||o["@@iterator"],typeof o=="function"?o:null)}var U=Object.assign,G;function ie(o){if(G===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);G=l&&l[1]||""}return`
`+G+o}var ye=!1;function ue(o,l){if(!o||ye)return"";ye=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ge){var v=ge}Reflect.construct(o,[],l)}else{try{l.call()}catch(ge){v=ge}o.call(l.prototype)}else{try{throw Error()}catch(ge){v=ge}o()}}catch(ge){if(ge&&v&&typeof ge.stack=="string"){for(var S=ge.stack.split(`
`),C=v.stack.split(`
`),_=S.length-1,q=C.length-1;1<=_&&0<=q&&S[_]!==C[q];)q--;for(;1<=_&&0<=q;_--,q--)if(S[_]!==C[q]){if(_!==1||q!==1)do if(_--,q--,0>q||S[_]!==C[q]){var J=`
`+S[_].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=_&&0<=q);break}}}finally{ye=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?ie(o):""}function be(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=ue(o.type,!1),o;case 11:return o=ue(o.type.render,!1),o;case 1:return o=ue(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case R:return"Portal";case W:return"Profiler";case $:return"StrictMode";case ee:return"Suspense";case de:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case X:return(o.displayName||"Context")+".Consumer";case z:return(o._context.displayName||"Context")+".Provider";case oe:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case fe:return l=o.displayName||null,l!==null?l:Re(o.type)||"Memo";case De:l=o._payload,o=o._init;try{return Re(o(l))}catch{}}return null}function He(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(l);case 8:return l===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Pe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function yt(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Se(o){var l=yt(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),v=""+o[l];if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,C=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return S.call(this)},set:function(_){v=""+_,C.call(this,_)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(_){v=""+_},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function $e(o){o._valueTracker||(o._valueTracker=Se(o))}function Ze(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var p=l.getValue(),v="";return o&&(v=yt(o)?o.checked?"true":"false":o.value),o=v,o!==p?(l.setValue(o),!0):!1}function Xe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ge(o,l){var p=l.checked;return U({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function tt(o,l){var p=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;p=Pe(l.value!=null?l.value:p),o._wrapperState={initialChecked:v,initialValue:p,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Dt(o,l){l=l.checked,l!=null&&B(o,"checked",l,!1)}function dt(o,l){Dt(o,l);var p=Pe(l.value),v=l.type;if(p!=null)v==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?ja(o,l.type,p):l.hasOwnProperty("defaultValue")&&ja(o,l.type,Pe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Vt(o,l,p){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,p||l===o.value||(o.value=l),o.defaultValue=l}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function ja(o,l,p){(l!=="number"||Xe(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var cn=Array.isArray;function en(o,l,p,v){if(o=o.options,l){l={};for(var S=0;S<p.length;S++)l["$"+p[S]]=!0;for(p=0;p<o.length;p++)S=l.hasOwnProperty("$"+o[p].value),o[p].selected!==S&&(o[p].selected=S),S&&v&&(o[p].defaultSelected=!0)}else{for(p=""+Pe(p),l=null,S=0;S<o.length;S++){if(o[S].value===p){o[S].selected=!0,v&&(o[S].defaultSelected=!0);return}l!==null||o[S].disabled||(l=o[S])}l!==null&&(l.selected=!0)}}function br(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function wr(o,l){var p=l.value;if(p==null){if(p=l.children,l=l.defaultValue,p!=null){if(l!=null)throw Error(n(92));if(cn(p)){if(1<p.length)throw Error(n(93));p=p[0]}l=p}l==null&&(l=""),p=l}o._wrapperState={initialValue:Pe(p)}}function Lo(o,l){var p=Pe(l.value),v=Pe(l.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),l.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),v!=null&&(o.defaultValue=""+v)}function ga(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function io(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?io(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Dr,hs=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,p,v,S){MSApp.execUnsafeLocalFunction(function(){return o(l,p,v,S)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Dr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function so(o,l){if(l){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=l;return}}o.textContent=l}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sl=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(o){Sl.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),lo[l]=lo[o]})});function Ci(o,l,p){return l==null||typeof l=="boolean"||l===""?"":p||typeof l!="number"||l===0||lo.hasOwnProperty(o)&&lo[o]?(""+l).trim():l+"px"}function xi(o,l){o=o.style;for(var p in l)if(l.hasOwnProperty(p)){var v=p.indexOf("--")===0,S=Ci(p,l[p],v);p==="float"&&(p="cssFloat"),v?o.setProperty(p,S):o[p]=S}}var ms=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(o,l){if(l){if(ms[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Mi(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V=null;function ne(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var he=null,Te=null,Le=null;function Be(o){if(o=Gn(o)){if(typeof he!="function")throw Error(n(280));var l=o.stateNode;l&&(l=uc(l),he(o.stateNode,o.type,l))}}function Ye(o){Te?Le?Le.push(o):Le=[o]:Te=o}function mt(){if(Te){var o=Te,l=Le;if(Le=Te=null,Be(o),l)for(o=0;o<l.length;o++)Be(l[o])}}function Yt(o,l){return o(l)}function xn(){}var mn=!1;function Qr(o,l,p){if(mn)return o(l,p);mn=!0;try{return Yt(o,l,p)}finally{mn=!1,(Te!==null||Le!==null)&&(xn(),mt())}}function Mn(o,l){var p=o.stateNode;if(p===null)return null;var v=uc(p);if(v===null)return null;p=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,l,typeof p));return p}var lr=!1;if(c)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){lr=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{lr=!1}function El(o,l,p,v,S,C,_,q,J){var ge=Array.prototype.slice.call(arguments,3);try{l.apply(p,ge)}catch(Ae){this.onError(Ae)}}var Gt=!1,va=null,ya=!1,ba=null,Po={onError:function(o){Gt=!0,va=o}};function jo(o,l,p,v,S,C,_,q,J){Gt=!1,va=null,El.apply(Po,arguments)}function oy(o,l,p,v,S,C,_,q,J){if(jo.apply(this,arguments),Gt){if(Gt){var ge=va;Gt=!1,va=null}else throw Error(n(198));ya||(ya=!0,ba=ge)}}function ki(o){var l=o,p=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,l.flags&4098&&(p=l.return),o=l.return;while(o)}return l.tag===3?p:null}function Jf(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Lh(o){if(ki(o)!==o)throw Error(n(188))}function iy(o){var l=o.alternate;if(!l){if(l=ki(o),l===null)throw Error(n(188));return l!==o?null:o}for(var p=o,v=l;;){var S=p.return;if(S===null)break;var C=S.alternate;if(C===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===p)return Lh(S),o;if(C===v)return Lh(S),l;C=C.sibling}throw Error(n(188))}if(p.return!==v.return)p=S,v=C;else{for(var _=!1,q=S.child;q;){if(q===p){_=!0,p=S,v=C;break}if(q===v){_=!0,v=S,p=C;break}q=q.sibling}if(!_){for(q=C.child;q;){if(q===p){_=!0,p=C,v=S;break}if(q===v){_=!0,v=C,p=S;break}q=q.sibling}if(!_)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:l}function _h(o){return o=iy(o),o!==null?Ph(o):null}function Ph(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Ph(o);if(l!==null)return l;o=o.sibling}return null}var jh=t.unstable_scheduleCallback,Bh=t.unstable_cancelCallback,Lu=t.unstable_shouldYield,sy=t.unstable_requestPaint,tn=t.unstable_now,ly=t.unstable_getCurrentPriorityLevel,Xf=t.unstable_ImmediatePriority,Yh=t.unstable_UserBlockingPriority,Tl=t.unstable_NormalPriority,Hh=t.unstable_LowPriority,ed=t.unstable_IdlePriority,_u=null,Ba=null;function uy(o){if(Ba&&typeof Ba.onCommitFiberRoot=="function")try{Ba.onCommitFiberRoot(_u,o,void 0,(o.current.flags&128)===128)}catch{}}var wa=Math.clz32?Math.clz32:zh,Uh=Math.log,Vh=Math.LN2;function zh(o){return o>>>=0,o===0?32:31-(Uh(o)/Vh|0)|0}var gs=64,Pu=4194304;function vs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ii(o,l){var p=o.pendingLanes;if(p===0)return 0;var v=0,S=o.suspendedLanes,C=o.pingedLanes,_=p&268435455;if(_!==0){var q=_&~S;q!==0?v=vs(q):(C&=_,C!==0&&(v=vs(C)))}else _=p&~S,_!==0?v=vs(_):C!==0&&(v=vs(C));if(v===0)return 0;if(l!==0&&l!==v&&!(l&S)&&(S=v&-v,C=l&-l,S>=C||S===16&&(C&4194240)!==0))return l;if(v&4&&(v|=p&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=v;0<l;)p=31-wa(l),S=1<<p,v|=o[p],l&=~S;return v}function $h(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cy(o,l){for(var p=o.suspendedLanes,v=o.pingedLanes,S=o.expirationTimes,C=o.pendingLanes;0<C;){var _=31-wa(C),q=1<<_,J=S[_];J===-1?(!(q&p)||q&v)&&(S[_]=$h(q,l)):J<=l&&(o.expiredLanes|=q),C&=~q}}function ju(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function td(){var o=gs;return gs<<=1,!(gs&4194240)&&(gs=64),o}function Cl(o){for(var l=[],p=0;31>p;p++)l.push(o);return l}function xl(o,l,p){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-wa(l),o[l]=p}function Wh(o,l){var p=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<p;){var S=31-wa(p),C=1<<S;l[S]=0,v[S]=-1,o[S]=-1,p&=~C}}function Ml(o,l){var p=o.entangledLanes|=l;for(o=o.entanglements;p;){var v=31-wa(p),S=1<<v;S&l|o[v]&l&&(o[v]|=l),p&=~S}}var Pt=0;function Ni(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var nd,Bu,qh,rd,ad,Yu=!1,kl=[],Bo=null,Yo=null,Ho=null,ys=new Map,Il=new Map,Uo=[],fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gh(o,l){switch(o){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Ho=null;break;case"pointerover":case"pointerout":ys.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(l.pointerId)}}function Fi(o,l,p,v,S,C){return o===null||o.nativeEvent!==C?(o={blockedOn:l,domEventName:p,eventSystemFlags:v,nativeEvent:C,targetContainers:[S]},l!==null&&(l=Gn(l),l!==null&&Bu(l)),o):(o.eventSystemFlags|=v,l=o.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),o)}function dy(o,l,p,v,S){switch(l){case"focusin":return Bo=Fi(Bo,o,l,p,v,S),!0;case"dragenter":return Yo=Fi(Yo,o,l,p,v,S),!0;case"mouseover":return Ho=Fi(Ho,o,l,p,v,S),!0;case"pointerover":var C=S.pointerId;return ys.set(C,Fi(ys.get(C)||null,o,l,p,v,S)),!0;case"gotpointercapture":return C=S.pointerId,Il.set(C,Fi(Il.get(C)||null,o,l,p,v,S)),!0}return!1}function Kh(o){var l=Va(o.target);if(l!==null){var p=ki(l);if(p!==null){if(l=p.tag,l===13){if(l=Jf(p),l!==null){o.blockedOn=l,ad(o.priority,function(){qh(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Hu(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var p=zu(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);V=v,p.target.dispatchEvent(v),V=null}else return l=Gn(p),l!==null&&Bu(l),o.blockedOn=p,!1;l.shift()}return!0}function Qh(o,l,p){Hu(o)&&p.delete(l)}function py(){Yu=!1,Bo!==null&&Hu(Bo)&&(Bo=null),Yo!==null&&Hu(Yo)&&(Yo=null),Ho!==null&&Hu(Ho)&&(Ho=null),ys.forEach(Qh),Il.forEach(Qh)}function Ht(o,l){o.blockedOn===l&&(o.blockedOn=null,Yu||(Yu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,py)))}function jt(o){function l(S){return Ht(S,o)}if(0<kl.length){Ht(kl[0],o);for(var p=1;p<kl.length;p++){var v=kl[p];v.blockedOn===o&&(v.blockedOn=null)}}for(Bo!==null&&Ht(Bo,o),Yo!==null&&Ht(Yo,o),Ho!==null&&Ht(Ho,o),ys.forEach(l),Il.forEach(l),p=0;p<Uo.length;p++)v=Uo[p],v.blockedOn===o&&(v.blockedOn=null);for(;0<Uo.length&&(p=Uo[0],p.blockedOn===null);)Kh(p),p.blockedOn===null&&Uo.shift()}var bs=N.ReactCurrentBatchConfig,Uu=!0;function hy(o,l,p,v){var S=Pt,C=bs.transition;bs.transition=null;try{Pt=1,od(o,l,p,v)}finally{Pt=S,bs.transition=C}}function my(o,l,p,v){var S=Pt,C=bs.transition;bs.transition=null;try{Pt=4,od(o,l,p,v)}finally{Pt=S,bs.transition=C}}function od(o,l,p,v){if(Uu){var S=zu(o,l,p,v);if(S===null)Sd(o,l,v,Vu,p),Gh(o,v);else if(dy(S,o,l,p,v))v.stopPropagation();else if(Gh(o,v),l&4&&-1<fy.indexOf(o)){for(;S!==null;){var C=Gn(S);if(C!==null&&nd(C),C=zu(o,l,p,v),C===null&&Sd(o,l,v,Vu,p),C===S)break;S=C}S!==null&&v.stopPropagation()}else Sd(o,l,v,null,p)}}var Vu=null;function zu(o,l,p,v){if(Vu=null,o=ne(v),o=Va(o),o!==null)if(l=ki(o),l===null)o=null;else if(p=l.tag,p===13){if(o=Jf(l),o!==null)return o;o=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Vu=o,null}function Zh(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ly()){case Xf:return 1;case Yh:return 4;case Tl:case Hh:return 16;case ed:return 536870912;default:return 16}default:return 16}}var nn=null,Nl=null,Ya=null;function id(){if(Ya)return Ya;var o,l=Nl,p=l.length,v,S="value"in nn?nn.value:nn.textContent,C=S.length;for(o=0;o<p&&l[o]===S[o];o++);var _=p-o;for(v=1;v<=_&&l[p-v]===S[C-v];v++);return Ya=S.slice(o,1<v?1-v:void 0)}function ws(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ur(){return!0}function sd(){return!1}function Sr(o){function l(p,v,S,C,_){this._reactName=p,this._targetInst=S,this.type=v,this.nativeEvent=C,this.target=_,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(p=o[q],this[q]=p?p(C):C[q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?ur:sd,this.isPropagationStopped=sd,this}return U(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),l}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=Sr(Ai),Ds=U({},Ai,{view:0,detail:0}),Jh=Sr(Ds),cr,ld,Wn,Wu=U({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Wn&&(Wn&&o.type==="mousemove"?(cr=o.screenX-Wn.screenX,ld=o.screenY-Wn.screenY):ld=cr=0,Wn=o),cr)},movementY:function(o){return"movementY"in o?o.movementY:ld}}),ud=Sr(Wu),Vo=U({},Wu,{dataTransfer:0}),qu=Sr(Vo),cd=U({},Ds,{relatedTarget:0}),Wt=Sr(cd),zo=U({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),fd=Sr(zo),gy=U({},Ai,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),dd=Sr(gy),vy=U({},Ai,{data:0}),Xh=Sr(vy),yy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ss(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Gu[o])?!!l[o]:!1}function pd(){return Ss}var tm=U({},Ds,{key:function(o){if(o.key){var l=yy[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ws(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?em[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pd,charCode:function(o){return o.type==="keypress"?ws(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ws(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),nm=Sr(tm),hd=U({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=Sr(hd),rm=U({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pd}),by=Sr(rm),md=U({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),gd=Sr(md),wy=U({},Wu,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),am=Sr(wy),Lr=[9,13,27,32],Fl=c&&"CompositionEvent"in window,uo=null;c&&"documentMode"in document&&(uo=document.documentMode);var om=c&&"TextEvent"in window&&!uo,vd=c&&(!Fl||uo&&8<uo&&11>=uo),im=" ",sm=!1;function lm(o,l){switch(o){case"keyup":return Lr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function um(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Es=!1;function Ts(o,l){switch(o){case"compositionend":return um(l);case"keypress":return l.which!==32?null:(sm=!0,im);case"textInput":return o=l.data,o===im&&sm?null:o;default:return null}}function Dy(o,l){if(Es)return o==="compositionend"||!Fl&&lm(o,l)?(o=id(),Ya=Nl=nn=null,Es=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vd&&l.locale!=="ko"?null:l.data;default:return null}}var Sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Sy[o.type]:l==="textarea"}function yd(o,l,p,v){Ye(v),l=oc(l,"onChange"),0<l.length&&(p=new $u("onChange","change",null,p,v),o.push({event:p,listeners:l}))}var Jr=null,$o=null;function Ey(o){gm(o,0)}function Zu(o){var l=St(o);if(Ze(l))return o}function Ty(o,l){if(o==="change")return l}var Oi=!1;if(c){var _r;if(c){var Ju="oninput"in document;if(!Ju){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),Ju=typeof cm.oninput=="function"}_r=Ju}else _r=!1;Oi=_r&&(!document.documentMode||9<document.documentMode)}function fm(){Jr&&(Jr.detachEvent("onpropertychange",dm),$o=Jr=null)}function dm(o){if(o.propertyName==="value"&&Zu($o)){var l=[];yd(l,$o,o,ne(o)),Qr(Ey,l)}}function Cy(o,l,p){o==="focusin"?(fm(),Jr=l,$o=p,Jr.attachEvent("onpropertychange",dm)):o==="focusout"&&fm()}function xy(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Zu($o)}function Cs(o,l){if(o==="click")return Zu(l)}function ae(o,l){if(o==="input"||o==="change")return Zu(l)}function Ee(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var me=typeof Object.is=="function"?Object.is:Ee;function We(o,l){if(me(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var p=Object.keys(o),v=Object.keys(l);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!d.call(l,S)||!me(o[S],l[S]))return!1}return!0}function wt(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ot(o,l){var p=wt(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=l&&v>=l)return{node:p,offset:l-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=wt(p)}}function bn(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?bn(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function zt(){for(var o=window,l=Xe();l instanceof o.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)o=l.contentWindow;else break;l=Xe(o.document)}return l}function Al(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function My(o){var l=zt(),p=o.focusedElem,v=o.selectionRange;if(l!==p&&p&&p.ownerDocument&&bn(p.ownerDocument.documentElement,p)){if(v!==null&&Al(p)){if(l=v.start,o=v.end,o===void 0&&(o=l),"selectionStart"in p)p.selectionStart=l,p.selectionEnd=Math.min(o,p.value.length);else if(o=(l=p.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var S=p.textContent.length,C=Math.min(v.start,S);v=v.end===void 0?C:Math.min(v.end,S),!o.extend&&C>v&&(S=v,v=C,C=S),S=Ot(p,C);var _=Ot(p,v);S&&_&&(o.rangeCount!==1||o.anchorNode!==S.node||o.anchorOffset!==S.offset||o.focusNode!==_.node||o.focusOffset!==_.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),o.removeAllRanges(),C>v?(o.addRange(l),o.extend(_.node,_.offset)):(l.setEnd(_.node,_.offset),o.addRange(l)))}}for(l=[],o=p;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<l.length;p++)o=l[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Xr=c&&"documentMode"in document&&11>=document.documentMode,co=null,bd=null,Ha=null,xs=!1;function Ol(o,l,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;xs||co==null||co!==Xe(v)||(v=co,"selectionStart"in v&&Al(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ha&&We(Ha,v)||(Ha=v,v=oc(bd,"onSelect"),0<v.length&&(l=new $u("onSelect","select",null,l,p),o.push({event:l,listeners:v}),l.target=co)))}function Rt(o,l){var p={};return p[o.toLowerCase()]=l.toLowerCase(),p["Webkit"+o]="webkit"+l,p["Moz"+o]="moz"+l,p}var Ms={animationend:Rt("Animation","AnimationEnd"),animationiteration:Rt("Animation","AnimationIteration"),animationstart:Rt("Animation","AnimationStart"),transitionend:Rt("Transition","TransitionEnd")},Xu={},Rl={};c&&(Rl=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function ec(o){if(Xu[o])return Xu[o];if(!Ms[o])return o;var l=Ms[o],p;for(p in l)if(l.hasOwnProperty(p)&&p in Rl)return Xu[o]=l[p];return o}var pm=ec("animationend"),hm=ec("animationiteration"),Ll=ec("animationstart"),fo=ec("transitionend"),_l=new Map,wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(o,l){_l.set(o,l),i(l,[o])}for(var tc=0;tc<wd.length;tc++){var nc=wd[tc],rc=nc.toLowerCase(),mm=nc[0].toUpperCase()+nc.slice(1);Da(rc,"on"+mm)}Da(pm,"onAnimationEnd"),Da(hm,"onAnimationIteration"),Da(Ll,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(fo,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ri=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Pl(o,l,p){var v=o.type||"unknown-event";o.currentTarget=p,oy(v,l,void 0,o),o.currentTarget=null}function gm(o,l){l=(l&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],S=v.event;v=v.listeners;e:{var C=void 0;if(l)for(var _=v.length-1;0<=_;_--){var q=v[_],J=q.instance,ge=q.currentTarget;if(q=q.listener,J!==C&&S.isPropagationStopped())break e;Pl(S,q,ge),C=J}else for(_=0;_<v.length;_++){if(q=v[_],J=q.instance,ge=q.currentTarget,q=q.listener,J!==C&&S.isPropagationStopped())break e;Pl(S,q,ge),C=J}}}if(ya)throw o=ba,ya=!1,ba=null,o}function Kt(o,l){var p=l[lc];p===void 0&&(p=l[lc]=new Set);var v=o+"__bubble";p.has(v)||(ac(l,o,2,!1),p.add(v))}function Dd(o,l,p){var v=0;l&&(v|=4),ac(p,o,v,l)}var Li="_reactListening"+Math.random().toString(36).slice(2);function Wo(o){if(!o[Li]){o[Li]=!0,r.forEach(function(p){p!=="selectionchange"&&(Ri.has(p)||Dd(p,!1,o),Dd(p,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Li]||(l[Li]=!0,Dd("selectionchange",!1,l))}}function ac(o,l,p,v){switch(Zh(l)){case 1:var S=hy;break;case 4:S=my;break;default:S=od}p=S.bind(null,l,p,o),S=void 0,!lr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?o.addEventListener(l,p,{capture:!0,passive:S}):o.addEventListener(l,p,!0):S!==void 0?o.addEventListener(l,p,{passive:S}):o.addEventListener(l,p,!1)}function Sd(o,l,p,v,S){var C=v;if(!(l&1)&&!(l&2)&&v!==null)e:for(;;){if(v===null)return;var _=v.tag;if(_===3||_===4){var q=v.stateNode.containerInfo;if(q===S||q.nodeType===8&&q.parentNode===S)break;if(_===4)for(_=v.return;_!==null;){var J=_.tag;if((J===3||J===4)&&(J=_.stateNode.containerInfo,J===S||J.nodeType===8&&J.parentNode===S))return;_=_.return}for(;q!==null;){if(_=Va(q),_===null)return;if(J=_.tag,J===5||J===6){v=C=_;continue e}q=q.parentNode}}v=v.return}Qr(function(){var ge=C,Ae=ne(p),_e=[];e:{var Fe=_l.get(o);if(Fe!==void 0){var qe=$u,Je=o;switch(o){case"keypress":if(ws(p)===0)break e;case"keydown":case"keyup":qe=nm;break;case"focusin":Je="focus",qe=Wt;break;case"focusout":Je="blur",qe=Wt;break;case"beforeblur":case"afterblur":qe=Wt;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=by;break;case pm:case hm:case Ll:qe=fd;break;case fo:qe=gd;break;case"scroll":qe=Jh;break;case"wheel":qe=am;break;case"copy":case"cut":case"paste":qe=dd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=Ku}var et=(l&4)!==0,gn=!et&&o==="scroll",le=et?Fe!==null?Fe+"Capture":null:Fe;et=[];for(var re=ge,ce;re!==null;){ce=re;var je=ce.stateNode;if(ce.tag===5&&je!==null&&(ce=je,le!==null&&(je=Mn(re,le),je!=null&&et.push(ks(re,je,ce)))),gn)break;re=re.return}0<et.length&&(Fe=new qe(Fe,Je,null,p,Ae),_e.push({event:Fe,listeners:et}))}}if(!(l&7)){e:{if(Fe=o==="mouseover"||o==="pointerover",qe=o==="mouseout"||o==="pointerout",Fe&&p!==V&&(Je=p.relatedTarget||p.fromElement)&&(Va(Je)||Je[Pr]))break e;if((qe||Fe)&&(Fe=Ae.window===Ae?Ae:(Fe=Ae.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,qe?(Je=p.relatedTarget||p.toElement,qe=ge,Je=Je?Va(Je):null,Je!==null&&(gn=ki(Je),Je!==gn||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(qe=null,Je=ge),qe!==Je)){if(et=ud,je="onMouseLeave",le="onMouseEnter",re="mouse",(o==="pointerout"||o==="pointerover")&&(et=Ku,je="onPointerLeave",le="onPointerEnter",re="pointer"),gn=qe==null?Fe:St(qe),ce=Je==null?Fe:St(Je),Fe=new et(je,re+"leave",qe,p,Ae),Fe.target=gn,Fe.relatedTarget=ce,je=null,Va(Ae)===ge&&(et=new et(le,re+"enter",Je,p,Ae),et.target=ce,et.relatedTarget=gn,je=et),gn=je,qe&&Je)t:{for(et=qe,le=Je,re=0,ce=et;ce;ce=Is(ce))re++;for(ce=0,je=le;je;je=Is(je))ce++;for(;0<re-ce;)et=Is(et),re--;for(;0<ce-re;)le=Is(le),ce--;for(;re--;){if(et===le||le!==null&&et===le.alternate)break t;et=Is(et),le=Is(le)}et=null}else et=null;qe!==null&&wn(_e,Fe,qe,et,!1),Je!==null&&gn!==null&&wn(_e,gn,Je,et,!0)}}e:{if(Fe=ge?St(ge):window,qe=Fe.nodeName&&Fe.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Fe.type==="file")var nt=Ty;else if(Qu(Fe))if(Oi)nt=ae;else{nt=xy;var lt=Cy}else(qe=Fe.nodeName)&&qe.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(nt=Cs);if(nt&&(nt=nt(o,ge))){yd(_e,nt,p,Ae);break e}lt&&lt(o,Fe,ge),o==="focusout"&&(lt=Fe._wrapperState)&&lt.controlled&&Fe.type==="number"&&ja(Fe,"number",Fe.value)}switch(lt=ge?St(ge):window,o){case"focusin":(Qu(lt)||lt.contentEditable==="true")&&(co=lt,bd=ge,Ha=null);break;case"focusout":Ha=bd=co=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,Ol(_e,p,Ae);break;case"selectionchange":if(Xr)break;case"keydown":case"keyup":Ol(_e,p,Ae)}var ct;if(Fl)e:{switch(o){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else Es?lm(o,p)&&(bt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(bt="onCompositionStart");bt&&(vd&&p.locale!=="ko"&&(Es||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Es&&(ct=id()):(nn=Ae,Nl="value"in nn?nn.value:nn.textContent,Es=!0)),lt=oc(ge,bt),0<lt.length&&(bt=new Xh(bt,o,null,p,Ae),_e.push({event:bt,listeners:lt}),ct?bt.data=ct:(ct=um(p),ct!==null&&(bt.data=ct)))),(ct=om?Ts(o,p):Dy(o,p))&&(ge=oc(ge,"onBeforeInput"),0<ge.length&&(Ae=new Xh("onBeforeInput","beforeinput",null,p,Ae),_e.push({event:Ae,listeners:ge}),Ae.data=ct))}gm(_e,l)})}function ks(o,l,p){return{instance:o,listener:l,currentTarget:p}}function oc(o,l){for(var p=l+"Capture",v=[];o!==null;){var S=o,C=S.stateNode;S.tag===5&&C!==null&&(S=C,C=Mn(o,p),C!=null&&v.unshift(ks(o,C,S)),C=Mn(o,l),C!=null&&v.push(ks(o,C,S))),o=o.return}return v}function Is(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wn(o,l,p,v,S){for(var C=l._reactName,_=[];p!==null&&p!==v;){var q=p,J=q.alternate,ge=q.stateNode;if(J!==null&&J===v)break;q.tag===5&&ge!==null&&(q=ge,S?(J=Mn(p,C),J!=null&&_.unshift(ks(p,J,q))):S||(J=Mn(p,C),J!=null&&_.push(ks(p,J,q)))),p=p.return}_.length!==0&&o.push({event:l,listeners:_})}var qn=/\r\n?/g,ky=/\u0000|\uFFFD/g;function vm(o){return(typeof o=="string"?o:""+o).replace(qn,`
`).replace(ky,"")}function jl(o,l,p){if(l=vm(l),vm(o)!==l&&p)throw Error(n(425))}function ic(){}var Bl=null,_i=null;function Yl(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,Hl=typeof clearTimeout=="function"?clearTimeout:void 0,Ns=typeof Promise=="function"?Promise:void 0,sc=typeof queueMicrotask=="function"?queueMicrotask:typeof Ns<"u"?function(o){return Ns.resolve(null).then(o).catch(Fs)}:qo;function Fs(o){setTimeout(function(){throw o})}function Ed(o,l){var p=l,v=0;do{var S=p.nextSibling;if(o.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"){if(v===0){o.removeChild(S),jt(l);return}v--}else p!=="$"&&p!=="$?"&&p!=="$!"||v++;p=S}while(p);jt(l)}function Go(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function ym(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return o;l--}else p==="/$"&&l++}o=o.previousSibling}return null}var As=Math.random().toString(36).slice(2),Ua="__reactFiber$"+As,Ko="__reactProps$"+As,Pr="__reactContainer$"+As,lc="__reactEvents$"+As,Y="__reactListeners$"+As,Os="__reactHandles$"+As;function Va(o){var l=o[Ua];if(l)return l;for(var p=o.parentNode;p;){if(l=p[Pr]||p[Ua]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(o=ym(o);o!==null;){if(p=o[Ua])return p;o=ym(o)}return l}o=p,p=o.parentNode}return null}function Gn(o){return o=o[Ua]||o[Pr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function St(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function uc(o){return o[Ko]||null}var Td=[],Rs=-1;function Er(o){return{current:o}}function Qt(o){0>Rs||(o.current=Td[Rs],Td[Rs]=null,Rs--)}function qt(o,l){Rs++,Td[Rs]=o.current,o.current=l}var Qo={},Kn=Er(Qo),Tr=Er(!1),fr=Qo;function Ls(o,l){var p=o.type.contextTypes;if(!p)return Qo;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var S={},C;for(C in p)S[C]=l[C];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=S),S}function Cr(o){return o=o.childContextTypes,o!=null}function cc(){Qt(Tr),Qt(Kn)}function bm(o,l,p){if(Kn.current!==Qo)throw Error(n(168));qt(Kn,l),qt(Tr,p)}function wm(o,l,p){var v=o.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return p;v=v.getChildContext();for(var S in v)if(!(S in l))throw Error(n(108,He(o)||"Unknown",S));return U({},p,v)}function ea(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Qo,fr=Kn.current,qt(Kn,o),qt(Tr,Tr.current),!0}function Dm(o,l,p){var v=o.stateNode;if(!v)throw Error(n(169));p?(o=wm(o,l,fr),v.__reactInternalMemoizedMergedChildContext=o,Qt(Tr),Qt(Kn),qt(Kn,o)):Qt(Tr),qt(Tr,p)}var ho=null,fc=!1,Cd=!1;function Sm(o){ho===null?ho=[o]:ho.push(o)}function Pi(o){fc=!0,Sm(o)}function Zo(){if(!Cd&&ho!==null){Cd=!0;var o=0,l=Pt;try{var p=ho;for(Pt=1;o<p.length;o++){var v=p[o];do v=v(!0);while(v!==null)}ho=null,fc=!1}catch(S){throw ho!==null&&(ho=ho.slice(o+1)),jh(Xf,Zo),S}finally{Pt=l,Cd=!1}}return null}var _s=[],Qn=0,dc=null,pc=0,ta=[],na=0,ji=null,za=1,$a="";function Bi(o,l){_s[Qn++]=pc,_s[Qn++]=dc,dc=o,pc=l}function Em(o,l,p){ta[na++]=za,ta[na++]=$a,ta[na++]=ji,ji=o;var v=za;o=$a;var S=32-wa(v)-1;v&=~(1<<S),p+=1;var C=32-wa(l)+S;if(30<C){var _=S-S%5;C=(v&(1<<_)-1).toString(32),v>>=_,S-=_,za=1<<32-wa(l)+S|p<<S|v,$a=C+o}else za=1<<C|p<<S|v,$a=o}function Ul(o){o.return!==null&&(Bi(o,1),Em(o,1,0))}function Yi(o){for(;o===dc;)dc=_s[--Qn],_s[Qn]=null,pc=_s[--Qn],_s[Qn]=null;for(;o===ji;)ji=ta[--na],ta[na]=null,$a=ta[--na],ta[na]=null,za=ta[--na],ta[na]=null}var Zn=null,jr=null,Zt=!1,Sa=null;function Wa(o,l){var p=Vr(5,null,null,0);p.elementType="DELETED",p.stateNode=l,p.return=o,l=o.deletions,l===null?(o.deletions=[p],o.flags|=16):l.push(p)}function hc(o,l){switch(o.tag){case 5:var p=o.type;return l=l.nodeType!==1||p.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Zn=o,jr=Go(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Zn=o,jr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(p=ji!==null?{id:za,overflow:$a}:null,o.memoizedState={dehydrated:l,treeContext:p,retryLane:1073741824},p=Vr(18,null,null,0),p.stateNode=l,p.return=o,o.child=p,Zn=o,jr=null,!0):!1;default:return!1}}function mo(o){return(o.mode&1)!==0&&(o.flags&128)===0}function xr(o){if(Zt){var l=jr;if(l){var p=l;if(!hc(o,l)){if(mo(o))throw Error(n(418));l=Go(p.nextSibling);var v=Zn;l&&hc(o,l)?Wa(v,p):(o.flags=o.flags&-4097|2,Zt=!1,Zn=o)}}else{if(mo(o))throw Error(n(418));o.flags=o.flags&-4097|2,Zt=!1,Zn=o}}}function Tm(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Zn=o}function Vl(o){if(o!==Zn)return!1;if(!Zt)return Tm(o),Zt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Yl(o.type,o.memoizedProps)),l&&(l=jr)){if(mo(o))throw xd(),Error(n(418));for(;l;)Wa(o,l),l=Go(l.nextSibling)}if(Tm(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(l===0){jr=Go(o.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++}o=o.nextSibling}jr=null}}else jr=Zn?Go(o.stateNode.nextSibling):null;return!0}function xd(){for(var o=jr;o;)o=Go(o.nextSibling)}function qa(){jr=Zn=null,Zt=!1}function Ga(o){Sa===null?Sa=[o]:Sa.push(o)}var Cm=N.ReactCurrentBatchConfig;function Ea(o,l){if(o&&o.defaultProps){l=U({},l),o=o.defaultProps;for(var p in o)l[p]===void 0&&(l[p]=o[p]);return l}return l}var Hi=Er(null),mc=null,Ui=null,kn=null;function zl(){kn=Ui=mc=null}function gc(o){var l=Hi.current;Qt(Hi),o._currentValue=l}function ra(o,l,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),o===p)break;o=o.return}}function Jo(o,l){mc=o,kn=Ui=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&l&&(er=!0),o.firstContext=null)}function dr(o){var l=o._currentValue;if(kn!==o)if(o={context:o,memoizedValue:l,next:null},Ui===null){if(mc===null)throw Error(n(308));Ui=o,mc.dependencies={lanes:0,firstContext:o}}else Ui=Ui.next=o;return l}var Br=null;function vc(o){Br===null?Br=[o]:Br.push(o)}function Jn(o,l,p,v){var S=l.interleaved;return S===null?(p.next=p,vc(l)):(p.next=S.next,S.next=p),l.interleaved=p,Ta(o,v)}function Ta(o,l){o.lanes|=l;var p=o.alternate;for(p!==null&&(p.lanes|=l),p=o,o=o.return;o!==null;)o.childLanes|=l,p=o.alternate,p!==null&&(p.childLanes|=l),p=o,o=o.return;return p.tag===3?p.stateNode:null}var Xo=!1;function Md(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xm(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ca(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function ei(o,l,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,Ft&2){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,Ta(o,p)}return S=v.interleaved,S===null?(l.next=l,vc(v)):(l.next=S.next,S.next=l),v.interleaved=l,Ta(o,p)}function ti(o,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194240)!==0)){var v=l.lanes;v&=o.pendingLanes,p|=v,l.lanes=p,Ml(o,p)}}function kd(o,l){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var _={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};C===null?S=C=_:C=C.next=_,p=p.next}while(p!==null);C===null?S=C=l:C=C.next=l}else S=C=l;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:v.shared,effects:v.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=l:o.next=l,p.lastBaseUpdate=l}function yc(o,l,p,v){var S=o.updateQueue;Xo=!1;var C=S.firstBaseUpdate,_=S.lastBaseUpdate,q=S.shared.pending;if(q!==null){S.shared.pending=null;var J=q,ge=J.next;J.next=null,_===null?C=ge:_.next=ge,_=J;var Ae=o.alternate;Ae!==null&&(Ae=Ae.updateQueue,q=Ae.lastBaseUpdate,q!==_&&(q===null?Ae.firstBaseUpdate=ge:q.next=ge,Ae.lastBaseUpdate=J))}if(C!==null){var _e=S.baseState;_=0,Ae=ge=J=null,q=C;do{var Fe=q.lane,qe=q.eventTime;if((v&Fe)===Fe){Ae!==null&&(Ae=Ae.next={eventTime:qe,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Je=o,et=q;switch(Fe=l,qe=p,et.tag){case 1:if(Je=et.payload,typeof Je=="function"){_e=Je.call(qe,_e,Fe);break e}_e=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=et.payload,Fe=typeof Je=="function"?Je.call(qe,_e,Fe):Je,Fe==null)break e;_e=U({},_e,Fe);break e;case 2:Xo=!0}}q.callback!==null&&q.lane!==0&&(o.flags|=64,Fe=S.effects,Fe===null?S.effects=[q]:Fe.push(q))}else qe={eventTime:qe,lane:Fe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ae===null?(ge=Ae=qe,J=_e):Ae=Ae.next=qe,_|=Fe;if(q=q.next,q===null){if(q=S.shared.pending,q===null)break;Fe=q,q=Fe.next,Fe.next=null,S.lastBaseUpdate=Fe,S.shared.pending=null}}while(!0);if(Ae===null&&(J=_e),S.baseState=J,S.firstBaseUpdate=ge,S.lastBaseUpdate=Ae,l=S.shared.interleaved,l!==null){S=l;do _|=S.lane,S=S.next;while(S!==l)}else C===null&&(S.shared.lanes=0);li|=_,o.lanes=_,o.memoizedState=_e}}function Mm(o,l,p){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var v=o[l],S=v.callback;if(S!==null){if(v.callback=null,v=p,typeof S!="function")throw Error(n(191,S));S.call(v)}}}var Ps=new e.Component().refs;function Id(o,l,p,v){l=o.memoizedState,p=p(v,l),p=p==null?l:U({},l,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var bc={isMounted:function(o){return(o=o._reactInternals)?ki(o)===o:!1},enqueueSetState:function(o,l,p){o=o._reactInternals;var v=mr(),S=ci(o),C=Ca(v,S);C.payload=l,p!=null&&(C.callback=p),l=ei(o,C,S),l!==null&&(Ia(l,o,S,v),ti(l,o,S))},enqueueReplaceState:function(o,l,p){o=o._reactInternals;var v=mr(),S=ci(o),C=Ca(v,S);C.tag=1,C.payload=l,p!=null&&(C.callback=p),l=ei(o,C,S),l!==null&&(Ia(l,o,S,v),ti(l,o,S))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var p=mr(),v=ci(o),S=Ca(p,v);S.tag=2,l!=null&&(S.callback=l),l=ei(o,S,v),l!==null&&(Ia(l,o,v,p),ti(l,o,v))}};function wc(o,l,p,v,S,C,_){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,C,_):l.prototype&&l.prototype.isPureReactComponent?!We(p,v)||!We(S,C):!0}function Nd(o,l,p){var v=!1,S=Qo,C=l.contextType;return typeof C=="object"&&C!==null?C=dr(C):(S=Cr(l)?fr:Kn.current,v=l.contextTypes,C=(v=v!=null)?Ls(o,S):Qo),l=new l(p,C),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=bc,o.stateNode=l,l._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=S,o.__reactInternalMemoizedMaskedChildContext=C),l}function km(o,l,p,v){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,v),l.state!==o&&bc.enqueueReplaceState(l,l.state,null)}function Fd(o,l,p,v){var S=o.stateNode;S.props=p,S.state=o.memoizedState,S.refs=Ps,Md(o);var C=l.contextType;typeof C=="object"&&C!==null?S.context=dr(C):(C=Cr(l)?fr:Kn.current,S.context=Ls(o,C)),S.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Id(o,l,C,p),S.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(l=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),l!==S.state&&bc.enqueueReplaceState(S,S.state,null),yc(o,p,S,v),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308)}function $l(o,l,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var v=p.stateNode}if(!v)throw Error(n(147,o));var S=v,C=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===C?l.ref:(l=function(_){var q=S.refs;q===Ps&&(q=S.refs={}),_===null?delete q[C]:q[C]=_},l._stringRef=C,l)}if(typeof o!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,o))}return o}function Wl(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function Dc(o){var l=o._init;return l(o._payload)}function Im(o){function l(le,re){if(o){var ce=le.deletions;ce===null?(le.deletions=[re],le.flags|=16):ce.push(re)}}function p(le,re){if(!o)return null;for(;re!==null;)l(le,re),re=re.sibling;return null}function v(le,re){for(le=new Map;re!==null;)re.key!==null?le.set(re.key,re):le.set(re.index,re),re=re.sibling;return le}function S(le,re){return le=pi(le,re),le.index=0,le.sibling=null,le}function C(le,re,ce){return le.index=ce,o?(ce=le.alternate,ce!==null?(ce=ce.index,ce<re?(le.flags|=2,re):ce):(le.flags|=2,re)):(le.flags|=1048576,re)}function _(le){return o&&le.alternate===null&&(le.flags|=2),le}function q(le,re,ce,je){return re===null||re.tag!==6?(re=hp(ce,le.mode,je),re.return=le,re):(re=S(re,ce),re.return=le,re)}function J(le,re,ce,je){var nt=ce.type;return nt===j?Ae(le,re,ce.props.children,je,ce.key):re!==null&&(re.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===De&&Dc(nt)===re.type)?(je=S(re,ce.props),je.ref=$l(le,re,ce),je.return=le,je):(je=Qc(ce.type,ce.key,ce.props,null,le.mode,je),je.ref=$l(le,re,ce),je.return=le,je)}function ge(le,re,ce,je){return re===null||re.tag!==4||re.stateNode.containerInfo!==ce.containerInfo||re.stateNode.implementation!==ce.implementation?(re=mp(ce,le.mode,je),re.return=le,re):(re=S(re,ce.children||[]),re.return=le,re)}function Ae(le,re,ce,je,nt){return re===null||re.tag!==7?(re=Ki(ce,le.mode,je,nt),re.return=le,re):(re=S(re,ce),re.return=le,re)}function _e(le,re,ce){if(typeof re=="string"&&re!==""||typeof re=="number")return re=hp(""+re,le.mode,ce),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case P:return ce=Qc(re.type,re.key,re.props,null,le.mode,ce),ce.ref=$l(le,null,re),ce.return=le,ce;case R:return re=mp(re,le.mode,ce),re.return=le,re;case De:var je=re._init;return _e(le,je(re._payload),ce)}if(cn(re)||we(re))return re=Ki(re,le.mode,ce,null),re.return=le,re;Wl(le,re)}return null}function Fe(le,re,ce,je){var nt=re!==null?re.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return nt!==null?null:q(le,re,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case P:return ce.key===nt?J(le,re,ce,je):null;case R:return ce.key===nt?ge(le,re,ce,je):null;case De:return nt=ce._init,Fe(le,re,nt(ce._payload),je)}if(cn(ce)||we(ce))return nt!==null?null:Ae(le,re,ce,je,null);Wl(le,ce)}return null}function qe(le,re,ce,je,nt){if(typeof je=="string"&&je!==""||typeof je=="number")return le=le.get(ce)||null,q(re,le,""+je,nt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case P:return le=le.get(je.key===null?ce:je.key)||null,J(re,le,je,nt);case R:return le=le.get(je.key===null?ce:je.key)||null,ge(re,le,je,nt);case De:var lt=je._init;return qe(le,re,ce,lt(je._payload),nt)}if(cn(je)||we(je))return le=le.get(ce)||null,Ae(re,le,je,nt,null);Wl(re,je)}return null}function Je(le,re,ce,je){for(var nt=null,lt=null,ct=re,bt=re=0,Pn=null;ct!==null&&bt<ce.length;bt++){ct.index>bt?(Pn=ct,ct=null):Pn=ct.sibling;var Lt=Fe(le,ct,ce[bt],je);if(Lt===null){ct===null&&(ct=Pn);break}o&&ct&&Lt.alternate===null&&l(le,ct),re=C(Lt,re,bt),lt===null?nt=Lt:lt.sibling=Lt,lt=Lt,ct=Pn}if(bt===ce.length)return p(le,ct),Zt&&Bi(le,bt),nt;if(ct===null){for(;bt<ce.length;bt++)ct=_e(le,ce[bt],je),ct!==null&&(re=C(ct,re,bt),lt===null?nt=ct:lt.sibling=ct,lt=ct);return Zt&&Bi(le,bt),nt}for(ct=v(le,ct);bt<ce.length;bt++)Pn=qe(ct,le,bt,ce[bt],je),Pn!==null&&(o&&Pn.alternate!==null&&ct.delete(Pn.key===null?bt:Pn.key),re=C(Pn,re,bt),lt===null?nt=Pn:lt.sibling=Pn,lt=Pn);return o&&ct.forEach(function(hi){return l(le,hi)}),Zt&&Bi(le,bt),nt}function et(le,re,ce,je){var nt=we(ce);if(typeof nt!="function")throw Error(n(150));if(ce=nt.call(ce),ce==null)throw Error(n(151));for(var lt=nt=null,ct=re,bt=re=0,Pn=null,Lt=ce.next();ct!==null&&!Lt.done;bt++,Lt=ce.next()){ct.index>bt?(Pn=ct,ct=null):Pn=ct.sibling;var hi=Fe(le,ct,Lt.value,je);if(hi===null){ct===null&&(ct=Pn);break}o&&ct&&hi.alternate===null&&l(le,ct),re=C(hi,re,bt),lt===null?nt=hi:lt.sibling=hi,lt=hi,ct=Pn}if(Lt.done)return p(le,ct),Zt&&Bi(le,bt),nt;if(ct===null){for(;!Lt.done;bt++,Lt=ce.next())Lt=_e(le,Lt.value,je),Lt!==null&&(re=C(Lt,re,bt),lt===null?nt=Lt:lt.sibling=Lt,lt=Lt);return Zt&&Bi(le,bt),nt}for(ct=v(le,ct);!Lt.done;bt++,Lt=ce.next())Lt=qe(ct,le,bt,Lt.value,je),Lt!==null&&(o&&Lt.alternate!==null&&ct.delete(Lt.key===null?bt:Lt.key),re=C(Lt,re,bt),lt===null?nt=Lt:lt.sibling=Lt,lt=Lt);return o&&ct.forEach(function(Gy){return l(le,Gy)}),Zt&&Bi(le,bt),nt}function gn(le,re,ce,je){if(typeof ce=="object"&&ce!==null&&ce.type===j&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case P:e:{for(var nt=ce.key,lt=re;lt!==null;){if(lt.key===nt){if(nt=ce.type,nt===j){if(lt.tag===7){p(le,lt.sibling),re=S(lt,ce.props.children),re.return=le,le=re;break e}}else if(lt.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===De&&Dc(nt)===lt.type){p(le,lt.sibling),re=S(lt,ce.props),re.ref=$l(le,lt,ce),re.return=le,le=re;break e}p(le,lt);break}else l(le,lt);lt=lt.sibling}ce.type===j?(re=Ki(ce.props.children,le.mode,je,ce.key),re.return=le,le=re):(je=Qc(ce.type,ce.key,ce.props,null,le.mode,je),je.ref=$l(le,re,ce),je.return=le,le=je)}return _(le);case R:e:{for(lt=ce.key;re!==null;){if(re.key===lt)if(re.tag===4&&re.stateNode.containerInfo===ce.containerInfo&&re.stateNode.implementation===ce.implementation){p(le,re.sibling),re=S(re,ce.children||[]),re.return=le,le=re;break e}else{p(le,re);break}else l(le,re);re=re.sibling}re=mp(ce,le.mode,je),re.return=le,le=re}return _(le);case De:return lt=ce._init,gn(le,re,lt(ce._payload),je)}if(cn(ce))return Je(le,re,ce,je);if(we(ce))return et(le,re,ce,je);Wl(le,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,re!==null&&re.tag===6?(p(le,re.sibling),re=S(re,ce),re.return=le,le=re):(p(le,re),re=hp(ce,le.mode,je),re.return=le,le=re),_(le)):p(le,re)}return gn}var ni=Im(!0),Ad=Im(!1),js={},xa=Er(js),ri=Er(js),ql=Er(js);function ai(o){if(o===js)throw Error(n(174));return o}function Sc(o,l){switch(qt(ql,l),qt(ri,o),qt(xa,js),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Kr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Kr(l,o)}Qt(xa),qt(xa,l)}function Bs(){Qt(xa),Qt(ri),Qt(ql)}function Od(o){ai(ql.current);var l=ai(xa.current),p=Kr(l,o.type);l!==p&&(qt(ri,o),qt(xa,p))}function Rd(o){ri.current===o&&(Qt(xa),Qt(ri))}var Jt=Er(0);function Gl(o){for(var l=o;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Kl=[];function Ld(){for(var o=0;o<Kl.length;o++)Kl[o]._workInProgressVersionPrimary=null;Kl.length=0}var Ys=N.ReactCurrentDispatcher,Et=N.ReactCurrentBatchConfig,Vi=0,an=null,on=null,In=null,Ec=!1,Ql=!1,Xn=0,Iy=0;function Nn(){throw Error(n(321))}function Zl(o,l){if(l===null)return!1;for(var p=0;p<l.length&&p<o.length;p++)if(!me(o[p],l[p]))return!1;return!0}function Tc(o,l,p,v,S,C){if(Vi=C,an=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ys.current=o===null||o.memoizedState===null?Xl:Fy,o=p(v,S),Ql){C=0;do{if(Ql=!1,Xn=0,25<=C)throw Error(n(301));C+=1,In=on=null,l.updateQueue=null,Ys.current=_m,o=p(v,S)}while(Ql)}if(Ys.current=yo,l=on!==null&&on.next!==null,Vi=0,In=on=an=null,Ec=!1,l)throw Error(n(300));return o}function Cc(){var o=Xn!==0;return Xn=0,o}function fn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?an.memoizedState=In=o:In=In.next=o,In}function Fn(){if(on===null){var o=an.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var l=In===null?an.memoizedState:In.next;if(l!==null)In=l,on=o;else{if(o===null)throw Error(n(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},In===null?an.memoizedState=In=o:In=In.next=o}return In}function zi(o,l){return typeof l=="function"?l(o):l}function xc(o){var l=Fn(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var v=on,S=v.baseQueue,C=p.pending;if(C!==null){if(S!==null){var _=S.next;S.next=C.next,C.next=_}v.baseQueue=S=C,p.pending=null}if(S!==null){C=S.next,v=v.baseState;var q=_=null,J=null,ge=C;do{var Ae=ge.lane;if((Vi&Ae)===Ae)J!==null&&(J=J.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),v=ge.hasEagerState?ge.eagerState:o(v,ge.action);else{var _e={lane:Ae,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};J===null?(q=J=_e,_=v):J=J.next=_e,an.lanes|=Ae,li|=Ae}ge=ge.next}while(ge!==null&&ge!==C);J===null?_=v:J.next=q,me(v,l.memoizedState)||(er=!0),l.memoizedState=v,l.baseState=_,l.baseQueue=J,p.lastRenderedState=v}if(o=p.interleaved,o!==null){S=o;do C=S.lane,an.lanes|=C,li|=C,S=S.next;while(S!==o)}else S===null&&(p.lanes=0);return[l.memoizedState,p.dispatch]}function Hs(o){var l=Fn(),p=l.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var v=p.dispatch,S=p.pending,C=l.memoizedState;if(S!==null){p.pending=null;var _=S=S.next;do C=o(C,_.action),_=_.next;while(_!==S);me(C,l.memoizedState)||(er=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),p.lastRenderedState=C}return[C,v]}function _d(){}function Mc(o,l){var p=an,v=Fn(),S=l(),C=!me(v.memoizedState,S);if(C&&(v.memoizedState=S,er=!0),v=v.queue,Bd(Ic.bind(null,p,v,o),[o]),v.getSnapshot!==l||C||In!==null&&In.memoizedState.tag&1){if(p.flags|=2048,Us(9,kc.bind(null,p,v,S,l),void 0,null),_n===null)throw Error(n(349));Vi&30||Pd(p,l,S)}return S}function Pd(o,l,p){o.flags|=16384,o={getSnapshot:l,value:p},l=an.updateQueue,l===null?(l={lastEffect:null,stores:null},an.updateQueue=l,l.stores=[o]):(p=l.stores,p===null?l.stores=[o]:p.push(o))}function kc(o,l,p,v){l.value=p,l.getSnapshot=v,go(l)&&Nm(o)}function Ic(o,l,p){return p(function(){go(l)&&Nm(o)})}function go(o){var l=o.getSnapshot;o=o.value;try{var p=l();return!me(o,p)}catch{return!0}}function Nm(o){var l=Ta(o,1);l!==null&&Ia(l,o,1,-1)}function vo(o){var l=fn();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:o},l.queue=o,o=o.dispatch=Rm.bind(null,an,o),[l.memoizedState,o]}function Us(o,l,p,v){return o={tag:o,create:l,destroy:p,deps:v,next:null},l=an.updateQueue,l===null?(l={lastEffect:null,stores:null},an.updateQueue=l,l.lastEffect=o.next=o):(p=l.lastEffect,p===null?l.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,l.lastEffect=o)),o}function jd(){return Fn().memoizedState}function Vs(o,l,p,v){var S=fn();an.flags|=o,S.memoizedState=Us(1|l,p,void 0,v===void 0?null:v)}function Nc(o,l,p,v){var S=Fn();v=v===void 0?null:v;var C=void 0;if(on!==null){var _=on.memoizedState;if(C=_.destroy,v!==null&&Zl(v,_.deps)){S.memoizedState=Us(l,p,C,v);return}}an.flags|=o,S.memoizedState=Us(1|l,p,C,v)}function Fm(o,l){return Vs(8390656,8,o,l)}function Bd(o,l){return Nc(2048,8,o,l)}function Yd(o,l){return Nc(4,2,o,l)}function Hd(o,l){return Nc(4,4,o,l)}function Am(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Ud(o,l,p){return p=p!=null?p.concat([o]):null,Nc(4,4,Am.bind(null,l,o),p)}function Fc(){}function pr(o,l){var p=Fn();l=l===void 0?null:l;var v=p.memoizedState;return v!==null&&l!==null&&Zl(l,v[1])?v[0]:(p.memoizedState=[o,l],o)}function Ma(o,l){var p=Fn();l=l===void 0?null:l;var v=p.memoizedState;return v!==null&&l!==null&&Zl(l,v[1])?v[0]:(o=o(),p.memoizedState=[o,l],o)}function Om(o,l,p){return Vi&21?(me(p,l)||(p=td(),an.lanes|=p,li|=p,o.baseState=!0),l):(o.baseState&&(o.baseState=!1,er=!0),o.memoizedState=p)}function Ny(o,l){var p=Pt;Pt=p!==0&&4>p?p:4,o(!0);var v=Et.transition;Et.transition={};try{o(!1),l()}finally{Pt=p,Et.transition=v}}function Jl(){return Fn().memoizedState}function zs(o,l,p){var v=ci(o);if(p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},Vd(o))Lm(l,p);else if(p=Jn(o,l,p,v),p!==null){var S=mr();Ia(p,o,v,S),zd(p,l,v)}}function Rm(o,l,p){var v=ci(o),S={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if(Vd(o))Lm(l,S);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var _=l.lastRenderedState,q=C(_,p);if(S.hasEagerState=!0,S.eagerState=q,me(q,_)){var J=l.interleaved;J===null?(S.next=S,vc(l)):(S.next=J.next,J.next=S),l.interleaved=S;return}}catch{}p=Jn(o,l,S,v),p!==null&&(S=mr(),Ia(p,o,v,S),zd(p,l,v))}}function Vd(o){var l=o.alternate;return o===an||l!==null&&l===an}function Lm(o,l){Ql=Ec=!0;var p=o.pending;p===null?l.next=l:(l.next=p.next,p.next=l),o.pending=l}function zd(o,l,p){if(p&4194240){var v=l.lanes;v&=o.pendingLanes,p|=v,l.lanes=p,Ml(o,p)}}var yo={readContext:dr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},Xl={readContext:dr,useCallback:function(o,l){return fn().memoizedState=[o,l===void 0?null:l],o},useContext:dr,useEffect:Fm,useImperativeHandle:function(o,l,p){return p=p!=null?p.concat([o]):null,Vs(4194308,4,Am.bind(null,l,o),p)},useLayoutEffect:function(o,l){return Vs(4194308,4,o,l)},useInsertionEffect:function(o,l){return Vs(4,2,o,l)},useMemo:function(o,l){var p=fn();return l=l===void 0?null:l,o=o(),p.memoizedState=[o,l],o},useReducer:function(o,l,p){var v=fn();return l=p!==void 0?p(l):l,v.memoizedState=v.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},v.queue=o,o=o.dispatch=zs.bind(null,an,o),[v.memoizedState,o]},useRef:function(o){var l=fn();return o={current:o},l.memoizedState=o},useState:vo,useDebugValue:Fc,useDeferredValue:function(o){return fn().memoizedState=o},useTransition:function(){var o=vo(!1),l=o[0];return o=Ny.bind(null,o[1]),fn().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,p){var v=an,S=fn();if(Zt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=l(),_n===null)throw Error(n(349));Vi&30||Pd(v,l,p)}S.memoizedState=p;var C={value:p,getSnapshot:l};return S.queue=C,Fm(Ic.bind(null,v,C,o),[o]),v.flags|=2048,Us(9,kc.bind(null,v,C,p,l),void 0,null),p},useId:function(){var o=fn(),l=_n.identifierPrefix;if(Zt){var p=$a,v=za;p=(v&~(1<<32-wa(v)-1)).toString(32)+p,l=":"+l+"R"+p,p=Xn++,0<p&&(l+="H"+p.toString(32)),l+=":"}else p=Iy++,l=":"+l+"r"+p.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},Fy={readContext:dr,useCallback:pr,useContext:dr,useEffect:Bd,useImperativeHandle:Ud,useInsertionEffect:Yd,useLayoutEffect:Hd,useMemo:Ma,useReducer:xc,useRef:jd,useState:function(){return xc(zi)},useDebugValue:Fc,useDeferredValue:function(o){var l=Fn();return Om(l,on.memoizedState,o)},useTransition:function(){var o=xc(zi)[0],l=Fn().memoizedState;return[o,l]},useMutableSource:_d,useSyncExternalStore:Mc,useId:Jl,unstable_isNewReconciler:!1},_m={readContext:dr,useCallback:pr,useContext:dr,useEffect:Bd,useImperativeHandle:Ud,useInsertionEffect:Yd,useLayoutEffect:Hd,useMemo:Ma,useReducer:Hs,useRef:jd,useState:function(){return Hs(zi)},useDebugValue:Fc,useDeferredValue:function(o){var l=Fn();return on===null?l.memoizedState=o:Om(l,on.memoizedState,o)},useTransition:function(){var o=Hs(zi)[0],l=Fn().memoizedState;return[o,l]},useMutableSource:_d,useSyncExternalStore:Mc,useId:Jl,unstable_isNewReconciler:!1};function $i(o,l){try{var p="",v=l;do p+=be(v),v=v.return;while(v);var S=p}catch(C){S=`
Error generating stack: `+C.message+`
`+C.stack}return{value:o,source:l,stack:S,digest:null}}function $s(o,l,p){return{value:o,source:null,stack:p??null,digest:l??null}}function Ac(o,l){try{}catch(p){setTimeout(function(){throw p})}}var Oc=typeof WeakMap=="function"?WeakMap:Map;function Rc(o,l,p){p=Ca(-1,p),p.tag=3,p.payload={element:null};var v=l.value;return p.callback=function(){zc||(zc=!0,op=v),Ac(o,l)},p}function eu(o,l,p){p=Ca(-1,p),p.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var S=l.value;p.payload=function(){return v(S)},p.callback=function(){Ac(o,l)}}var C=o.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(p.callback=function(){Ac(o,l),typeof v!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})}),p}function Pm(o,l,p){var v=o.pingCache;if(v===null){v=o.pingCache=new Oc;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(p)||(S.add(p),o=By.bind(null,o,l,p),l.then(o,o))}function $d(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function tu(o,l,p,v,S){return o.mode&1?(o.flags|=65536,o.lanes=S,o):(o===l?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(l=Ca(-1,1),l.tag=2,ei(p,l,1))),p.lanes|=1),o)}var jm=N.ReactCurrentOwner,er=!1;function hr(o,l,p,v){l.child=o===null?Ad(l,null,p,v):ni(l,o.child,p,v)}function Wd(o,l,p,v,S){p=p.render;var C=l.ref;return Jo(l,S),v=Tc(o,l,p,v,C,S),p=Cc(),o!==null&&!er?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Za(o,l,S)):(Zt&&p&&Ul(l),l.flags|=1,hr(o,l,v,S),l.child)}function Ka(o,l,p,v,S){if(o===null){var C=p.type;return typeof C=="function"&&!pp(C)&&C.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(l.tag=15,l.type=C,qd(o,l,C,v,S)):(o=Qc(p.type,null,v,l,l.mode,S),o.ref=l.ref,o.return=l,l.child=o)}if(C=o.child,!(o.lanes&S)){var _=C.memoizedProps;if(p=p.compare,p=p!==null?p:We,p(_,v)&&o.ref===l.ref)return Za(o,l,S)}return l.flags|=1,o=pi(C,v),o.ref=l.ref,o.return=l,l.child=o}function qd(o,l,p,v,S){if(o!==null){var C=o.memoizedProps;if(We(C,v)&&o.ref===l.ref)if(er=!1,l.pendingProps=v=C,(o.lanes&S)!==0)o.flags&131072&&(er=!0);else return l.lanes=o.lanes,Za(o,l,S)}return Lc(o,l,p,v,S)}function Gd(o,l,p){var v=l.pendingProps,S=v.children,C=o!==null?o.memoizedState:null;if(v.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Qs,Ur),Ur|=p;else{if(!(p&1073741824))return o=C!==null?C.baseLanes|p:p,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,qt(Qs,Ur),Ur|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:p,qt(Qs,Ur),Ur|=v}else C!==null?(v=C.baseLanes|p,l.memoizedState=null):v=p,qt(Qs,Ur),Ur|=v;return hr(o,l,S,p),l.child}function Bm(o,l){var p=l.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(l.flags|=512,l.flags|=2097152)}function Lc(o,l,p,v,S){var C=Cr(p)?fr:Kn.current;return C=Ls(l,C),Jo(l,S),p=Tc(o,l,p,v,C,S),v=Cc(),o!==null&&!er?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~S,Za(o,l,S)):(Zt&&v&&Ul(l),l.flags|=1,hr(o,l,p,S),l.child)}function Ym(o,l,p,v,S){if(Cr(p)){var C=!0;ea(l)}else C=!1;if(Jo(l,S),l.stateNode===null)Ws(o,l),Nd(l,p,v),Fd(l,p,v,S),v=!0;else if(o===null){var _=l.stateNode,q=l.memoizedProps;_.props=q;var J=_.context,ge=p.contextType;typeof ge=="object"&&ge!==null?ge=dr(ge):(ge=Cr(p)?fr:Kn.current,ge=Ls(l,ge));var Ae=p.getDerivedStateFromProps,_e=typeof Ae=="function"||typeof _.getSnapshotBeforeUpdate=="function";_e||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(q!==v||J!==ge)&&km(l,_,v,ge),Xo=!1;var Fe=l.memoizedState;_.state=Fe,yc(l,v,_,S),J=l.memoizedState,q!==v||Fe!==J||Tr.current||Xo?(typeof Ae=="function"&&(Id(l,p,Ae,v),J=l.memoizedState),(q=Xo||wc(l,p,q,v,Fe,J,ge))?(_e||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=J),_.props=v,_.state=J,_.context=ge,v=q):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{_=l.stateNode,xm(o,l),q=l.memoizedProps,ge=l.type===l.elementType?q:Ea(l.type,q),_.props=ge,_e=l.pendingProps,Fe=_.context,J=p.contextType,typeof J=="object"&&J!==null?J=dr(J):(J=Cr(p)?fr:Kn.current,J=Ls(l,J));var qe=p.getDerivedStateFromProps;(Ae=typeof qe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(q!==_e||Fe!==J)&&km(l,_,v,J),Xo=!1,Fe=l.memoizedState,_.state=Fe,yc(l,v,_,S);var Je=l.memoizedState;q!==_e||Fe!==Je||Tr.current||Xo?(typeof qe=="function"&&(Id(l,p,qe,v),Je=l.memoizedState),(ge=Xo||wc(l,p,ge,v,Fe,Je,J)||!1)?(Ae||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(v,Je,J),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(v,Je,J)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||q===o.memoizedProps&&Fe===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&Fe===o.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Je),_.props=v,_.state=Je,_.context=J,v=ge):(typeof _.componentDidUpdate!="function"||q===o.memoizedProps&&Fe===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&Fe===o.memoizedState||(l.flags|=1024),v=!1)}return Kd(o,l,p,v,C,S)}function Kd(o,l,p,v,S,C){Bm(o,l);var _=(l.flags&128)!==0;if(!v&&!_)return S&&Dm(l,p,!1),Za(o,l,C);v=l.stateNode,jm.current=l;var q=_&&typeof p.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,o!==null&&_?(l.child=ni(l,o.child,null,C),l.child=ni(l,null,q,C)):hr(o,l,q,C),l.memoizedState=v.state,S&&Dm(l,p,!0),l.child}function Qa(o){var l=o.stateNode;l.pendingContext?bm(o,l.pendingContext,l.pendingContext!==l.context):l.context&&bm(o,l.context,!1),Sc(o,l.containerInfo)}function _c(o,l,p,v,S){return qa(),Ga(S),l.flags|=256,hr(o,l,p,v),l.child}var nu={dehydrated:null,treeContext:null,retryLane:0};function ru(o){return{baseLanes:o,cachePool:null,transitions:null}}function au(o,l,p){var v=l.pendingProps,S=Jt.current,C=!1,_=(l.flags&128)!==0,q;if((q=_)||(q=o!==null&&o.memoizedState===null?!1:(S&2)!==0),q?(C=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(S|=1),qt(Jt,S&1),o===null)return xr(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(l.mode&1?o.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(_=v.children,o=v.fallback,C?(v=l.mode,C=l.child,_={mode:"hidden",children:_},!(v&1)&&C!==null?(C.childLanes=0,C.pendingProps=_):C=Zc(_,v,0,null),o=Ki(o,v,p,null),C.return=l,o.return=l,C.sibling=o,l.child=C,l.child.memoizedState=ru(p),l.memoizedState=nu,o):oi(l,_));if(S=o.memoizedState,S!==null&&(q=S.dehydrated,q!==null))return Pc(o,l,_,v,q,S,p);if(C){C=v.fallback,_=l.mode,S=o.child,q=S.sibling;var J={mode:"hidden",children:v.children};return!(_&1)&&l.child!==S?(v=l.child,v.childLanes=0,v.pendingProps=J,l.deletions=null):(v=pi(S,J),v.subtreeFlags=S.subtreeFlags&14680064),q!==null?C=pi(q,C):(C=Ki(C,_,p,null),C.flags|=2),C.return=l,v.return=l,v.sibling=C,l.child=v,v=C,C=l.child,_=o.child.memoizedState,_=_===null?ru(p):{baseLanes:_.baseLanes|p,cachePool:null,transitions:_.transitions},C.memoizedState=_,C.childLanes=o.childLanes&~p,l.memoizedState=nu,v}return C=o.child,o=C.sibling,v=pi(C,{mode:"visible",children:v.children}),!(l.mode&1)&&(v.lanes=p),v.return=l,v.sibling=null,o!==null&&(p=l.deletions,p===null?(l.deletions=[o],l.flags|=16):p.push(o)),l.child=v,l.memoizedState=null,v}function oi(o,l){return l=Zc({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function st(o,l,p,v){return v!==null&&Ga(v),ni(l,o.child,null,p),o=oi(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Pc(o,l,p,v,S,C,_){if(p)return l.flags&256?(l.flags&=-257,v=$s(Error(n(422))),st(o,l,_,v)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(C=v.fallback,S=l.mode,v=Zc({mode:"visible",children:v.children},S,0,null),C=Ki(C,S,_,null),C.flags|=2,v.return=l,C.return=l,v.sibling=C,l.child=v,l.mode&1&&ni(l,o.child,null,_),l.child.memoizedState=ru(_),l.memoizedState=nu,C);if(!(l.mode&1))return st(o,l,_,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var q=v.dgst;return v=q,C=Error(n(419)),v=$s(C,v,void 0),st(o,l,_,v)}if(q=(_&o.childLanes)!==0,er||q){if(v=_n,v!==null){switch(_&-_){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=S&(v.suspendedLanes|_)?0:S,S!==0&&S!==C.retryLane&&(C.retryLane=S,Ta(o,S),Ia(v,o,S,-1))}return fp(),v=$s(Error(n(421))),st(o,l,_,v)}return S.data==="$?"?(l.flags|=128,l.child=o.child,l=Yy.bind(null,o),S._reactRetry=l,null):(o=C.treeContext,jr=Go(S.nextSibling),Zn=l,Zt=!0,Sa=null,o!==null&&(ta[na++]=za,ta[na++]=$a,ta[na++]=ji,za=o.id,$a=o.overflow,ji=l),l=oi(l,v.children),l.flags|=4096,l)}function jc(o,l,p){o.lanes|=l;var v=o.alternate;v!==null&&(v.lanes|=l),ra(o.return,l,p)}function bo(o,l,p,v,S){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=p,C.tailMode=S)}function Hm(o,l,p){var v=l.pendingProps,S=v.revealOrder,C=v.tail;if(hr(o,l,v.children,p),v=Jt.current,v&2)v=v&1|2,l.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&jc(o,p,l);else if(o.tag===19)jc(o,p,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(qt(Jt,v),!(l.mode&1))l.memoizedState=null;else switch(S){case"forwards":for(p=l.child,S=null;p!==null;)o=p.alternate,o!==null&&Gl(o)===null&&(S=p),p=p.sibling;p=S,p===null?(S=l.child,l.child=null):(S=p.sibling,p.sibling=null),bo(l,!1,S,p,C);break;case"backwards":for(p=null,S=l.child,l.child=null;S!==null;){if(o=S.alternate,o!==null&&Gl(o)===null){l.child=S;break}o=S.sibling,S.sibling=p,p=S,S=o}bo(l,!0,p,null,C);break;case"together":bo(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ws(o,l){!(l.mode&1)&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Za(o,l,p){if(o!==null&&(l.dependencies=o.dependencies),li|=l.lanes,!(p&l.childLanes))return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,p=pi(o,o.pendingProps),l.child=p,p.return=l;o.sibling!==null;)o=o.sibling,p=p.sibling=pi(o,o.pendingProps),p.return=l;p.sibling=null}return l.child}function tr(o,l,p){switch(l.tag){case 3:Qa(l),qa();break;case 5:Od(l);break;case 1:Cr(l.type)&&ea(l);break;case 4:Sc(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,S=l.memoizedProps.value;qt(Hi,v._currentValue),v._currentValue=S;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(qt(Jt,Jt.current&1),l.flags|=128,null):p&l.child.childLanes?au(o,l,p):(qt(Jt,Jt.current&1),o=Za(o,l,p),o!==null?o.sibling:null);qt(Jt,Jt.current&1);break;case 19:if(v=(p&l.childLanes)!==0,o.flags&128){if(v)return Hm(o,l,p);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),qt(Jt,Jt.current),v)break;return null;case 22:case 23:return l.lanes=0,Gd(o,l,p)}return Za(o,l,p)}var Um,Qd,Zd,Vm;Um=function(o,l){for(var p=l.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Qd=function(){},Zd=function(o,l,p,v){var S=o.memoizedProps;if(S!==v){o=l.stateNode,ai(xa.current);var C=null;switch(p){case"input":S=Ge(o,S),v=Ge(o,v),C=[];break;case"select":S=U({},S,{value:void 0}),v=U({},v,{value:void 0}),C=[];break;case"textarea":S=br(o,S),v=br(o,v),C=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=ic)}_o(p,v);var _;p=null;for(ge in S)if(!v.hasOwnProperty(ge)&&S.hasOwnProperty(ge)&&S[ge]!=null)if(ge==="style"){var q=S[ge];for(_ in q)q.hasOwnProperty(_)&&(p||(p={}),p[_]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(a.hasOwnProperty(ge)?C||(C=[]):(C=C||[]).push(ge,null));for(ge in v){var J=v[ge];if(q=S!=null?S[ge]:void 0,v.hasOwnProperty(ge)&&J!==q&&(J!=null||q!=null))if(ge==="style")if(q){for(_ in q)!q.hasOwnProperty(_)||J&&J.hasOwnProperty(_)||(p||(p={}),p[_]="");for(_ in J)J.hasOwnProperty(_)&&q[_]!==J[_]&&(p||(p={}),p[_]=J[_])}else p||(C||(C=[]),C.push(ge,p)),p=J;else ge==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,q=q?q.__html:void 0,J!=null&&q!==J&&(C=C||[]).push(ge,J)):ge==="children"?typeof J!="string"&&typeof J!="number"||(C=C||[]).push(ge,""+J):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(a.hasOwnProperty(ge)?(J!=null&&ge==="onScroll"&&Kt("scroll",o),C||q===J||(C=[])):(C=C||[]).push(ge,J))}p&&(C=C||[]).push("style",p);var ge=C;(l.updateQueue=ge)&&(l.flags|=4)}},Vm=function(o,l,p,v){p!==v&&(l.flags|=4)};function qs(o,l){if(!Zt)switch(o.tailMode){case"hidden":l=o.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function nr(o){var l=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(l)for(var S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=v,o.childLanes=p,l}function Ay(o,l,p){var v=l.pendingProps;switch(Yi(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(l),null;case 1:return Cr(l.type)&&cc(),nr(l),null;case 3:return v=l.stateNode,Bs(),Qt(Tr),Qt(Kn),Ld(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(Vl(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Sa!==null&&(lp(Sa),Sa=null))),Qd(o,l),nr(l),null;case 5:Rd(l);var S=ai(ql.current);if(p=l.type,o!==null&&l.stateNode!=null)Zd(o,l,p,v,S),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(n(166));return nr(l),null}if(o=ai(xa.current),Vl(l)){v=l.stateNode,p=l.type;var C=l.memoizedProps;switch(v[Ua]=l,v[Ko]=C,o=(l.mode&1)!==0,p){case"dialog":Kt("cancel",v),Kt("close",v);break;case"iframe":case"object":case"embed":Kt("load",v);break;case"video":case"audio":for(S=0;S<po.length;S++)Kt(po[S],v);break;case"source":Kt("error",v);break;case"img":case"image":case"link":Kt("error",v),Kt("load",v);break;case"details":Kt("toggle",v);break;case"input":tt(v,C),Kt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},Kt("invalid",v);break;case"textarea":wr(v,C),Kt("invalid",v)}_o(p,C),S=null;for(var _ in C)if(C.hasOwnProperty(_)){var q=C[_];_==="children"?typeof q=="string"?v.textContent!==q&&(C.suppressHydrationWarning!==!0&&jl(v.textContent,q,o),S=["children",q]):typeof q=="number"&&v.textContent!==""+q&&(C.suppressHydrationWarning!==!0&&jl(v.textContent,q,o),S=["children",""+q]):a.hasOwnProperty(_)&&q!=null&&_==="onScroll"&&Kt("scroll",v)}switch(p){case"input":$e(v),Vt(v,C,!0);break;case"textarea":$e(v),ga(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=ic)}v=S,l.updateQueue=v,v!==null&&(l.flags|=4)}else{_=S.nodeType===9?S:S.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=io(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=_.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=_.createElement(p,{is:v.is}):(o=_.createElement(p),p==="select"&&(_=o,v.multiple?_.multiple=!0:v.size&&(_.size=v.size))):o=_.createElementNS(o,p),o[Ua]=l,o[Ko]=v,Um(o,l,!1,!1),l.stateNode=o;e:{switch(_=Mi(p,v),p){case"dialog":Kt("cancel",o),Kt("close",o),S=v;break;case"iframe":case"object":case"embed":Kt("load",o),S=v;break;case"video":case"audio":for(S=0;S<po.length;S++)Kt(po[S],o);S=v;break;case"source":Kt("error",o),S=v;break;case"img":case"image":case"link":Kt("error",o),Kt("load",o),S=v;break;case"details":Kt("toggle",o),S=v;break;case"input":tt(o,v),S=Ge(o,v),Kt("invalid",o);break;case"option":S=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},S=U({},v,{value:void 0}),Kt("invalid",o);break;case"textarea":wr(o,v),S=br(o,v),Kt("invalid",o);break;default:S=v}_o(p,S),q=S;for(C in q)if(q.hasOwnProperty(C)){var J=q[C];C==="style"?xi(o,J):C==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&hs(o,J)):C==="children"?typeof J=="string"?(p!=="textarea"||J!=="")&&so(o,J):typeof J=="number"&&so(o,""+J):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(a.hasOwnProperty(C)?J!=null&&C==="onScroll"&&Kt("scroll",o):J!=null&&B(o,C,J,_))}switch(p){case"input":$e(o),Vt(o,v,!1);break;case"textarea":$e(o),ga(o);break;case"option":v.value!=null&&o.setAttribute("value",""+Pe(v.value));break;case"select":o.multiple=!!v.multiple,C=v.value,C!=null?en(o,!!v.multiple,C,!1):v.defaultValue!=null&&en(o,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(o.onclick=ic)}switch(p){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return nr(l),null;case 6:if(o&&l.stateNode!=null)Vm(o,l,o.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(p=ai(ql.current),ai(xa.current),Vl(l)){if(v=l.stateNode,p=l.memoizedProps,v[Ua]=l,(C=v.nodeValue!==p)&&(o=Zn,o!==null))switch(o.tag){case 3:jl(v.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&jl(v.nodeValue,p,(o.mode&1)!==0)}C&&(l.flags|=4)}else v=(p.nodeType===9?p:p.ownerDocument).createTextNode(v),v[Ua]=l,l.stateNode=v}return nr(l),null;case 13:if(Qt(Jt),v=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Zt&&jr!==null&&l.mode&1&&!(l.flags&128))xd(),qa(),l.flags|=98560,C=!1;else if(C=Vl(l),v!==null&&v.dehydrated!==null){if(o===null){if(!C)throw Error(n(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Ua]=l}else qa(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;nr(l),C=!1}else Sa!==null&&(lp(Sa),Sa=null),C=!0;if(!C)return l.flags&65536?l:null}return l.flags&128?(l.lanes=p,l):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(l.child.flags|=8192,l.mode&1&&(o===null||Jt.current&1?An===0&&(An=3):fp())),l.updateQueue!==null&&(l.flags|=4),nr(l),null);case 4:return Bs(),Qd(o,l),o===null&&Wo(l.stateNode.containerInfo),nr(l),null;case 10:return gc(l.type._context),nr(l),null;case 17:return Cr(l.type)&&cc(),nr(l),null;case 19:if(Qt(Jt),C=l.memoizedState,C===null)return nr(l),null;if(v=(l.flags&128)!==0,_=C.rendering,_===null)if(v)qs(C,!1);else{if(An!==0||o!==null&&o.flags&128)for(o=l.child;o!==null;){if(_=Gl(o),_!==null){for(l.flags|=128,qs(C,!1),v=_.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=p,p=l.child;p!==null;)C=p,o=v,C.flags&=14680066,_=C.alternate,_===null?(C.childLanes=0,C.lanes=o,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=_.childLanes,C.lanes=_.lanes,C.child=_.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=_.memoizedProps,C.memoizedState=_.memoizedState,C.updateQueue=_.updateQueue,C.type=_.type,o=_.dependencies,C.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return qt(Jt,Jt.current&1|2),l.child}o=o.sibling}C.tail!==null&&tn()>Js&&(l.flags|=128,v=!0,qs(C,!1),l.lanes=4194304)}else{if(!v)if(o=Gl(_),o!==null){if(l.flags|=128,v=!0,p=o.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),qs(C,!0),C.tail===null&&C.tailMode==="hidden"&&!_.alternate&&!Zt)return nr(l),null}else 2*tn()-C.renderingStartTime>Js&&p!==1073741824&&(l.flags|=128,v=!0,qs(C,!1),l.lanes=4194304);C.isBackwards?(_.sibling=l.child,l.child=_):(p=C.last,p!==null?p.sibling=_:l.child=_,C.last=_)}return C.tail!==null?(l=C.tail,C.rendering=l,C.tail=l.sibling,C.renderingStartTime=tn(),l.sibling=null,p=Jt.current,qt(Jt,v?p&1|2:p&1),l):(nr(l),null);case 22:case 23:return cp(),v=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(l.flags|=8192),v&&l.mode&1?Ur&1073741824&&(nr(l),l.subtreeFlags&6&&(l.flags|=8192)):nr(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function Oy(o,l){switch(Yi(l),l.tag){case 1:return Cr(l.type)&&cc(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Bs(),Qt(Tr),Qt(Kn),Ld(),o=l.flags,o&65536&&!(o&128)?(l.flags=o&-65537|128,l):null;case 5:return Rd(l),null;case 13:if(Qt(Jt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));qa()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Qt(Jt),null;case 4:return Bs(),null;case 10:return gc(l.type._context),null;case 22:case 23:return cp(),null;case 24:return null;default:return null}}var aa=!1,Bt=!1,Jd=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function ii(o,l){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){dn(o,l,v)}else p.current=null}function Xd(o,l,p){try{p()}catch(v){dn(o,l,v)}}var zm=!1;function ou(o,l){if(Bl=Uu,o=zt(),Al(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var S=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var _=0,q=-1,J=-1,ge=0,Ae=0,_e=o,Fe=null;t:for(;;){for(var qe;_e!==p||S!==0&&_e.nodeType!==3||(q=_+S),_e!==C||v!==0&&_e.nodeType!==3||(J=_+v),_e.nodeType===3&&(_+=_e.nodeValue.length),(qe=_e.firstChild)!==null;)Fe=_e,_e=qe;for(;;){if(_e===o)break t;if(Fe===p&&++ge===S&&(q=_),Fe===C&&++Ae===v&&(J=_),(qe=_e.nextSibling)!==null)break;_e=Fe,Fe=_e.parentNode}_e=qe}p=q===-1||J===-1?null:{start:q,end:J}}else p=null}p=p||{start:0,end:0}}else p=null;for(_i={focusedElem:o,selectionRange:p},Uu=!1,Ke=l;Ke!==null;)if(l=Ke,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ke=o;else for(;Ke!==null;){l=Ke;try{var Je=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var et=Je.memoizedProps,gn=Je.memoizedState,le=l.stateNode,re=le.getSnapshotBeforeUpdate(l.elementType===l.type?et:Ea(l.type,et),gn);le.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ce=l.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(je){dn(l,l.return,je)}if(o=l.sibling,o!==null){o.return=l.return,Ke=o;break}Ke=l.return}return Je=zm,zm=!1,Je}function Gs(o,l,p){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&o)===o){var C=S.destroy;S.destroy=void 0,C!==void 0&&Xd(l,p,C)}S=S.next}while(S!==v)}}function iu(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&o)===o){var v=p.create;p.destroy=v()}p=p.next}while(p!==l)}}function ep(o){var l=o.ref;if(l!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof l=="function"?l(o):l.current=o}}function $m(o){var l=o.alternate;l!==null&&(o.alternate=null,$m(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Ua],delete l[Ko],delete l[lc],delete l[Y],delete l[Os])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Wm(o){return o.tag===5||o.tag===3||o.tag===4}function qm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Wm(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Bc(o,l,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?p.nodeType===8?p.parentNode.insertBefore(o,l):p.insertBefore(o,l):(p.nodeType===8?(l=p.parentNode,l.insertBefore(o,p)):(l=p,l.appendChild(o)),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=ic));else if(v!==4&&(o=o.child,o!==null))for(Bc(o,l,p),o=o.sibling;o!==null;)Bc(o,l,p),o=o.sibling}function Yc(o,l,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,l?p.insertBefore(o,l):p.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(Yc(o,l,p),o=o.sibling;o!==null;)Yc(o,l,p),o=o.sibling}var Yn=null,Yr=!1;function wo(o,l,p){for(p=p.child;p!==null;)Ks(o,l,p),p=p.sibling}function Ks(o,l,p){if(Ba&&typeof Ba.onCommitFiberUnmount=="function")try{Ba.onCommitFiberUnmount(_u,p)}catch{}switch(p.tag){case 5:Bt||ii(p,l);case 6:var v=Yn,S=Yr;Yn=null,wo(o,l,p),Yn=v,Yr=S,Yn!==null&&(Yr?(o=Yn,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Yn.removeChild(p.stateNode));break;case 18:Yn!==null&&(Yr?(o=Yn,p=p.stateNode,o.nodeType===8?Ed(o.parentNode,p):o.nodeType===1&&Ed(o,p),jt(o)):Ed(Yn,p.stateNode));break;case 4:v=Yn,S=Yr,Yn=p.stateNode.containerInfo,Yr=!0,wo(o,l,p),Yn=v,Yr=S;break;case 0:case 11:case 14:case 15:if(!Bt&&(v=p.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var C=S,_=C.destroy;C=C.tag,_!==void 0&&(C&2||C&4)&&Xd(p,l,_),S=S.next}while(S!==v)}wo(o,l,p);break;case 1:if(!Bt&&(ii(p,l),v=p.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(q){dn(p,l,q)}wo(o,l,p);break;case 21:wo(o,l,p);break;case 22:p.mode&1?(Bt=(v=Bt)||p.memoizedState!==null,wo(o,l,p),Bt=v):wo(o,l,p);break;default:wo(o,l,p)}}function Hc(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new Jd),l.forEach(function(v){var S=Hy.bind(null,o,v);p.has(v)||(p.add(v),v.then(S,S))})}}function oa(o,l){var p=l.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v];try{var C=o,_=l,q=_;e:for(;q!==null;){switch(q.tag){case 5:Yn=q.stateNode,Yr=!1;break e;case 3:Yn=q.stateNode.containerInfo,Yr=!0;break e;case 4:Yn=q.stateNode.containerInfo,Yr=!0;break e}q=q.return}if(Yn===null)throw Error(n(160));Ks(C,_,S),Yn=null,Yr=!1;var J=S.alternate;J!==null&&(J.return=null),S.return=null}catch(ge){dn(S,l,ge)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)tp(l,o),l=l.sibling}function tp(o,l){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(oa(l,o),Hr(o),v&4){try{Gs(3,o,o.return),iu(3,o)}catch(et){dn(o,o.return,et)}try{Gs(5,o,o.return)}catch(et){dn(o,o.return,et)}}break;case 1:oa(l,o),Hr(o),v&512&&p!==null&&ii(p,p.return);break;case 5:if(oa(l,o),Hr(o),v&512&&p!==null&&ii(p,p.return),o.flags&32){var S=o.stateNode;try{so(S,"")}catch(et){dn(o,o.return,et)}}if(v&4&&(S=o.stateNode,S!=null)){var C=o.memoizedProps,_=p!==null?p.memoizedProps:C,q=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{q==="input"&&C.type==="radio"&&C.name!=null&&Dt(S,C),Mi(q,_);var ge=Mi(q,C);for(_=0;_<J.length;_+=2){var Ae=J[_],_e=J[_+1];Ae==="style"?xi(S,_e):Ae==="dangerouslySetInnerHTML"?hs(S,_e):Ae==="children"?so(S,_e):B(S,Ae,_e,ge)}switch(q){case"input":dt(S,C);break;case"textarea":Lo(S,C);break;case"select":var Fe=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!C.multiple;var qe=C.value;qe!=null?en(S,!!C.multiple,qe,!1):Fe!==!!C.multiple&&(C.defaultValue!=null?en(S,!!C.multiple,C.defaultValue,!0):en(S,!!C.multiple,C.multiple?[]:"",!1))}S[Ko]=C}catch(et){dn(o,o.return,et)}}break;case 6:if(oa(l,o),Hr(o),v&4){if(o.stateNode===null)throw Error(n(162));S=o.stateNode,C=o.memoizedProps;try{S.nodeValue=C}catch(et){dn(o,o.return,et)}}break;case 3:if(oa(l,o),Hr(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{jt(l.containerInfo)}catch(et){dn(o,o.return,et)}break;case 4:oa(l,o),Hr(o);break;case 13:oa(l,o),Hr(o),S=o.child,S.flags&8192&&(C=S.memoizedState!==null,S.stateNode.isHidden=C,!C||S.alternate!==null&&S.alternate.memoizedState!==null||(Vc=tn())),v&4&&Hc(o);break;case 22:if(Ae=p!==null&&p.memoizedState!==null,o.mode&1?(Bt=(ge=Bt)||Ae,oa(l,o),Bt=ge):oa(l,o),Hr(o),v&8192){if(ge=o.memoizedState!==null,(o.stateNode.isHidden=ge)&&!Ae&&o.mode&1)for(Ke=o,Ae=o.child;Ae!==null;){for(_e=Ke=Ae;Ke!==null;){switch(Fe=Ke,qe=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:Gs(4,Fe,Fe.return);break;case 1:ii(Fe,Fe.return);var Je=Fe.stateNode;if(typeof Je.componentWillUnmount=="function"){v=Fe,p=Fe.return;try{l=v,Je.props=l.memoizedProps,Je.state=l.memoizedState,Je.componentWillUnmount()}catch(et){dn(v,p,et)}}break;case 5:ii(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){Km(_e);continue}}qe!==null?(qe.return=Fe,Ke=qe):Km(_e)}Ae=Ae.sibling}e:for(Ae=null,_e=o;;){if(_e.tag===5){if(Ae===null){Ae=_e;try{S=_e.stateNode,ge?(C=S.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(q=_e.stateNode,J=_e.memoizedProps.style,_=J!=null&&J.hasOwnProperty("display")?J.display:null,q.style.display=Ci("display",_))}catch(et){dn(o,o.return,et)}}}else if(_e.tag===6){if(Ae===null)try{_e.stateNode.nodeValue=ge?"":_e.memoizedProps}catch(et){dn(o,o.return,et)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===o)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===o)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===o)break e;Ae===_e&&(Ae=null),_e=_e.return}Ae===_e&&(Ae=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:oa(l,o),Hr(o),v&4&&Hc(o);break;case 21:break;default:oa(l,o),Hr(o)}}function Hr(o){var l=o.flags;if(l&2){try{e:{for(var p=o.return;p!==null;){if(Wm(p)){var v=p;break e}p=p.return}throw Error(n(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(so(S,""),v.flags&=-33);var C=qm(o);Yc(o,C,S);break;case 3:case 4:var _=v.stateNode.containerInfo,q=qm(o);Bc(o,q,_);break;default:throw Error(n(161))}}catch(J){dn(o,o.return,J)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Gm(o,l,p){Ke=o,ka(o)}function ka(o,l,p){for(var v=(o.mode&1)!==0;Ke!==null;){var S=Ke,C=S.child;if(S.tag===22&&v){var _=S.memoizedState!==null||aa;if(!_){var q=S.alternate,J=q!==null&&q.memoizedState!==null||Bt;q=aa;var ge=Bt;if(aa=_,(Bt=J)&&!ge)for(Ke=S;Ke!==null;)_=Ke,J=_.child,_.tag===22&&_.memoizedState!==null?np(S):J!==null?(J.return=_,Ke=J):np(S);for(;C!==null;)Ke=C,ka(C),C=C.sibling;Ke=S,aa=q,Bt=ge}si(o)}else S.subtreeFlags&8772&&C!==null?(C.return=S,Ke=C):si(o)}}function si(o){for(;Ke!==null;){var l=Ke;if(l.flags&8772){var p=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Bt||iu(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Bt)if(p===null)v.componentDidMount();else{var S=l.elementType===l.type?p.memoizedProps:Ea(l.type,p.memoizedProps);v.componentDidUpdate(S,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=l.updateQueue;C!==null&&Mm(l,C,v);break;case 3:var _=l.updateQueue;if(_!==null){if(p=null,l.child!==null)switch(l.child.tag){case 5:p=l.child.stateNode;break;case 1:p=l.child.stateNode}Mm(l,_,p)}break;case 5:var q=l.stateNode;if(p===null&&l.flags&4){p=q;var J=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&p.focus();break;case"img":J.src&&(p.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ge=l.alternate;if(ge!==null){var Ae=ge.memoizedState;if(Ae!==null){var _e=Ae.dehydrated;_e!==null&&jt(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bt||l.flags&512&&ep(l)}catch(Fe){dn(l,l.return,Fe)}}if(l===o){Ke=null;break}if(p=l.sibling,p!==null){p.return=l.return,Ke=p;break}Ke=l.return}}function Km(o){for(;Ke!==null;){var l=Ke;if(l===o){Ke=null;break}var p=l.sibling;if(p!==null){p.return=l.return,Ke=p;break}Ke=l.return}}function np(o){for(;Ke!==null;){var l=Ke;try{switch(l.tag){case 0:case 11:case 15:var p=l.return;try{iu(4,l)}catch(J){dn(l,p,J)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var S=l.return;try{v.componentDidMount()}catch(J){dn(l,S,J)}}var C=l.return;try{ep(l)}catch(J){dn(l,C,J)}break;case 5:var _=l.return;try{ep(l)}catch(J){dn(l,_,J)}}}catch(J){dn(l,l.return,J)}if(l===o){Ke=null;break}var q=l.sibling;if(q!==null){q.return=l.return,Ke=q;break}Ke=l.return}}var Ry=Math.ceil,Uc=N.ReactCurrentDispatcher,rp=N.ReactCurrentOwner,ia=N.ReactCurrentBatchConfig,Ft=0,_n=null,Dn=null,Hn=0,Ur=0,Qs=Er(0),An=0,Zs=null,li=0,su=0,ap=0,lu=null,Mr=null,Vc=0,Js=1/0,Do=null,zc=!1,op=null,ui=null,$c=!1,On=null,Wc=0,uu=0,ip=null,cu=-1,qc=0;function mr(){return Ft&6?tn():cu!==-1?cu:cu=tn()}function ci(o){return o.mode&1?Ft&2&&Hn!==0?Hn&-Hn:Cm.transition!==null?(qc===0&&(qc=td()),qc):(o=Pt,o!==0||(o=window.event,o=o===void 0?16:Zh(o.type)),o):1}function Ia(o,l,p,v){if(50<uu)throw uu=0,ip=null,Error(n(185));xl(o,p,v),(!(Ft&2)||o!==_n)&&(o===_n&&(!(Ft&2)&&(su|=p),An===4&&fi(o,Hn)),rr(o,v),p===1&&Ft===0&&!(l.mode&1)&&(Js=tn()+500,fc&&Zo()))}function rr(o,l){var p=o.callbackNode;cy(o,l);var v=Ii(o,o===_n?Hn:0);if(v===0)p!==null&&Bh(p),o.callbackNode=null,o.callbackPriority=0;else if(l=v&-v,o.callbackPriority!==l){if(p!=null&&Bh(p),l===1)o.tag===0?Pi(Zm.bind(null,o)):Sm(Zm.bind(null,o)),sc(function(){!(Ft&6)&&Zo()}),p=null;else{switch(Ni(v)){case 1:p=Xf;break;case 4:p=Yh;break;case 16:p=Tl;break;case 536870912:p=ed;break;default:p=Tl}p=ag(p,Qm.bind(null,o))}o.callbackPriority=l,o.callbackNode=p}}function Qm(o,l){if(cu=-1,qc=0,Ft&6)throw Error(n(327));var p=o.callbackNode;if(di()&&o.callbackNode!==p)return null;var v=Ii(o,o===_n?Hn:0);if(v===0)return null;if(v&30||v&o.expiredLanes||l)l=Gc(o,v);else{l=v;var S=Ft;Ft|=2;var C=Xm();(_n!==o||Hn!==l)&&(Do=null,Js=tn()+500,qi(o,l));do try{Py();break}catch(q){Jm(o,q)}while(!0);zl(),Uc.current=C,Ft=S,Dn!==null?l=0:(_n=null,Hn=0,l=An)}if(l!==0){if(l===2&&(S=ju(o),S!==0&&(v=S,l=sp(o,S))),l===1)throw p=Zs,qi(o,0),fi(o,v),rr(o,tn()),p;if(l===6)fi(o,v);else{if(S=o.current.alternate,!(v&30)&&!Ly(S)&&(l=Gc(o,v),l===2&&(C=ju(o),C!==0&&(v=C,l=sp(o,C))),l===1))throw p=Zs,qi(o,0),fi(o,v),rr(o,tn()),p;switch(o.finishedWork=S,o.finishedLanes=v,l){case 0:case 1:throw Error(n(345));case 2:Gi(o,Mr,Do);break;case 3:if(fi(o,v),(v&130023424)===v&&(l=Vc+500-tn(),10<l)){if(Ii(o,0)!==0)break;if(S=o.suspendedLanes,(S&v)!==v){mr(),o.pingedLanes|=o.suspendedLanes&S;break}o.timeoutHandle=qo(Gi.bind(null,o,Mr,Do),l);break}Gi(o,Mr,Do);break;case 4:if(fi(o,v),(v&4194240)===v)break;for(l=o.eventTimes,S=-1;0<v;){var _=31-wa(v);C=1<<_,_=l[_],_>S&&(S=_),v&=~C}if(v=S,v=tn()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Ry(v/1960))-v,10<v){o.timeoutHandle=qo(Gi.bind(null,o,Mr,Do),v);break}Gi(o,Mr,Do);break;case 5:Gi(o,Mr,Do);break;default:throw Error(n(329))}}}return rr(o,tn()),o.callbackNode===p?Qm.bind(null,o):null}function sp(o,l){var p=lu;return o.current.memoizedState.isDehydrated&&(qi(o,l).flags|=256),o=Gc(o,l),o!==2&&(l=Mr,Mr=p,l!==null&&lp(l)),o}function lp(o){Mr===null?Mr=o:Mr.push.apply(Mr,o)}function Ly(o){for(var l=o;;){if(l.flags&16384){var p=l.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var v=0;v<p.length;v++){var S=p[v],C=S.getSnapshot;S=S.value;try{if(!me(C(),S))return!1}catch{return!1}}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fi(o,l){for(l&=~ap,l&=~su,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var p=31-wa(l),v=1<<p;o[p]=-1,l&=~v}}function Zm(o){if(Ft&6)throw Error(n(327));di();var l=Ii(o,0);if(!(l&1))return rr(o,tn()),null;var p=Gc(o,l);if(o.tag!==0&&p===2){var v=ju(o);v!==0&&(l=v,p=sp(o,v))}if(p===1)throw p=Zs,qi(o,0),fi(o,l),rr(o,tn()),p;if(p===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Gi(o,Mr,Do),rr(o,tn()),null}function up(o,l){var p=Ft;Ft|=1;try{return o(l)}finally{Ft=p,Ft===0&&(Js=tn()+500,fc&&Zo())}}function Wi(o){On!==null&&On.tag===0&&!(Ft&6)&&di();var l=Ft;Ft|=1;var p=ia.transition,v=Pt;try{if(ia.transition=null,Pt=1,o)return o()}finally{Pt=v,ia.transition=p,Ft=l,!(Ft&6)&&Zo()}}function cp(){Ur=Qs.current,Qt(Qs)}function qi(o,l){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,Hl(p)),Dn!==null)for(p=Dn.return;p!==null;){var v=p;switch(Yi(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&cc();break;case 3:Bs(),Qt(Tr),Qt(Kn),Ld();break;case 5:Rd(v);break;case 4:Bs();break;case 13:Qt(Jt);break;case 19:Qt(Jt);break;case 10:gc(v.type._context);break;case 22:case 23:cp()}p=p.return}if(_n=o,Dn=o=pi(o.current,null),Hn=Ur=l,An=0,Zs=null,ap=su=li=0,Mr=lu=null,Br!==null){for(l=0;l<Br.length;l++)if(p=Br[l],v=p.interleaved,v!==null){p.interleaved=null;var S=v.next,C=p.pending;if(C!==null){var _=C.next;C.next=S,v.next=_}p.pending=v}Br=null}return o}function Jm(o,l){do{var p=Dn;try{if(zl(),Ys.current=yo,Ec){for(var v=an.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}Ec=!1}if(Vi=0,In=on=an=null,Ql=!1,Xn=0,rp.current=null,p===null||p.return===null){An=1,Zs=l,Dn=null;break}e:{var C=o,_=p.return,q=p,J=l;if(l=Hn,q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ge=J,Ae=q,_e=Ae.tag;if(!(Ae.mode&1)&&(_e===0||_e===11||_e===15)){var Fe=Ae.alternate;Fe?(Ae.updateQueue=Fe.updateQueue,Ae.memoizedState=Fe.memoizedState,Ae.lanes=Fe.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var qe=$d(_);if(qe!==null){qe.flags&=-257,tu(qe,_,q,C,l),qe.mode&1&&Pm(C,ge,l),l=qe,J=ge;var Je=l.updateQueue;if(Je===null){var et=new Set;et.add(J),l.updateQueue=et}else Je.add(J);break e}else{if(!(l&1)){Pm(C,ge,l),fp();break e}J=Error(n(426))}}else if(Zt&&q.mode&1){var gn=$d(_);if(gn!==null){!(gn.flags&65536)&&(gn.flags|=256),tu(gn,_,q,C,l),Ga($i(J,q));break e}}C=J=$i(J,q),An!==4&&(An=2),lu===null?lu=[C]:lu.push(C),C=_;do{switch(C.tag){case 3:C.flags|=65536,l&=-l,C.lanes|=l;var le=Rc(C,J,l);kd(C,le);break e;case 1:q=J;var re=C.type,ce=C.stateNode;if(!(C.flags&128)&&(typeof re.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(ui===null||!ui.has(ce)))){C.flags|=65536,l&=-l,C.lanes|=l;var je=eu(C,q,l);kd(C,je);break e}}C=C.return}while(C!==null)}tg(p)}catch(nt){l=nt,Dn===p&&p!==null&&(Dn=p=p.return);continue}break}while(!0)}function Xm(){var o=Uc.current;return Uc.current=yo,o===null?yo:o}function fp(){(An===0||An===3||An===2)&&(An=4),_n===null||!(li&268435455)&&!(su&268435455)||fi(_n,Hn)}function Gc(o,l){var p=Ft;Ft|=2;var v=Xm();(_n!==o||Hn!==l)&&(Do=null,qi(o,l));do try{_y();break}catch(S){Jm(o,S)}while(!0);if(zl(),Ft=p,Uc.current=v,Dn!==null)throw Error(n(261));return _n=null,Hn=0,An}function _y(){for(;Dn!==null;)eg(Dn)}function Py(){for(;Dn!==null&&!Lu();)eg(Dn)}function eg(o){var l=rg(o.alternate,o,Ur);o.memoizedProps=o.pendingProps,l===null?tg(o):Dn=l,rp.current=null}function tg(o){var l=o;do{var p=l.alternate;if(o=l.return,l.flags&32768){if(p=Oy(p,l),p!==null){p.flags&=32767,Dn=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{An=6,Dn=null;return}}else if(p=Ay(p,l,Ur),p!==null){Dn=p;return}if(l=l.sibling,l!==null){Dn=l;return}Dn=l=o}while(l!==null);An===0&&(An=5)}function Gi(o,l,p){var v=Pt,S=ia.transition;try{ia.transition=null,Pt=1,jy(o,l,p,v)}finally{ia.transition=S,Pt=v}return null}function jy(o,l,p,v){do di();while(On!==null);if(Ft&6)throw Error(n(327));p=o.finishedWork;var S=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var C=p.lanes|p.childLanes;if(Wh(o,C),o===_n&&(Dn=_n=null,Hn=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||$c||($c=!0,ag(Tl,function(){return di(),null})),C=(p.flags&15990)!==0,p.subtreeFlags&15990||C){C=ia.transition,ia.transition=null;var _=Pt;Pt=1;var q=Ft;Ft|=4,rp.current=null,ou(o,p),tp(p,o),My(_i),Uu=!!Bl,_i=Bl=null,o.current=p,Gm(p),sy(),Ft=q,Pt=_,ia.transition=C}else o.current=p;if($c&&($c=!1,On=o,Wc=S),C=o.pendingLanes,C===0&&(ui=null),uy(p.stateNode),rr(o,tn()),l!==null)for(v=o.onRecoverableError,p=0;p<l.length;p++)S=l[p],v(S.value,{componentStack:S.stack,digest:S.digest});if(zc)throw zc=!1,o=op,op=null,o;return Wc&1&&o.tag!==0&&di(),C=o.pendingLanes,C&1?o===ip?uu++:(uu=0,ip=o):uu=0,Zo(),null}function di(){if(On!==null){var o=Ni(Wc),l=ia.transition,p=Pt;try{if(ia.transition=null,Pt=16>o?16:o,On===null)var v=!1;else{if(o=On,On=null,Wc=0,Ft&6)throw Error(n(331));var S=Ft;for(Ft|=4,Ke=o.current;Ke!==null;){var C=Ke,_=C.child;if(Ke.flags&16){var q=C.deletions;if(q!==null){for(var J=0;J<q.length;J++){var ge=q[J];for(Ke=ge;Ke!==null;){var Ae=Ke;switch(Ae.tag){case 0:case 11:case 15:Gs(8,Ae,C)}var _e=Ae.child;if(_e!==null)_e.return=Ae,Ke=_e;else for(;Ke!==null;){Ae=Ke;var Fe=Ae.sibling,qe=Ae.return;if($m(Ae),Ae===ge){Ke=null;break}if(Fe!==null){Fe.return=qe,Ke=Fe;break}Ke=qe}}}var Je=C.alternate;if(Je!==null){var et=Je.child;if(et!==null){Je.child=null;do{var gn=et.sibling;et.sibling=null,et=gn}while(et!==null)}}Ke=C}}if(C.subtreeFlags&2064&&_!==null)_.return=C,Ke=_;else e:for(;Ke!==null;){if(C=Ke,C.flags&2048)switch(C.tag){case 0:case 11:case 15:Gs(9,C,C.return)}var le=C.sibling;if(le!==null){le.return=C.return,Ke=le;break e}Ke=C.return}}var re=o.current;for(Ke=re;Ke!==null;){_=Ke;var ce=_.child;if(_.subtreeFlags&2064&&ce!==null)ce.return=_,Ke=ce;else e:for(_=re;Ke!==null;){if(q=Ke,q.flags&2048)try{switch(q.tag){case 0:case 11:case 15:iu(9,q)}}catch(nt){dn(q,q.return,nt)}if(q===_){Ke=null;break e}var je=q.sibling;if(je!==null){je.return=q.return,Ke=je;break e}Ke=q.return}}if(Ft=S,Zo(),Ba&&typeof Ba.onPostCommitFiberRoot=="function")try{Ba.onPostCommitFiberRoot(_u,o)}catch{}v=!0}return v}finally{Pt=p,ia.transition=l}}return!1}function dp(o,l,p){l=$i(p,l),l=Rc(o,l,1),o=ei(o,l,1),l=mr(),o!==null&&(xl(o,1,l),rr(o,l))}function dn(o,l,p){if(o.tag===3)dp(o,o,p);else for(;l!==null;){if(l.tag===3){dp(l,o,p);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ui===null||!ui.has(v))){o=$i(p,o),o=eu(l,o,1),l=ei(l,o,1),o=mr(),l!==null&&(xl(l,1,o),rr(l,o));break}}l=l.return}}function By(o,l,p){var v=o.pingCache;v!==null&&v.delete(l),l=mr(),o.pingedLanes|=o.suspendedLanes&p,_n===o&&(Hn&p)===p&&(An===4||An===3&&(Hn&130023424)===Hn&&500>tn()-Vc?qi(o,0):ap|=p),rr(o,l)}function ng(o,l){l===0&&(o.mode&1?(l=Pu,Pu<<=1,!(Pu&130023424)&&(Pu=4194304)):l=1);var p=mr();o=Ta(o,l),o!==null&&(xl(o,l,p),rr(o,p))}function Yy(o){var l=o.memoizedState,p=0;l!==null&&(p=l.retryLane),ng(o,p)}function Hy(o,l){var p=0;switch(o.tag){case 13:var v=o.stateNode,S=o.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(l),ng(o,p)}var rg;rg=function(o,l,p){if(o!==null)if(o.memoizedProps!==l.pendingProps||Tr.current)er=!0;else{if(!(o.lanes&p)&&!(l.flags&128))return er=!1,tr(o,l,p);er=!!(o.flags&131072)}else er=!1,Zt&&l.flags&1048576&&Em(l,pc,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;Ws(o,l),o=l.pendingProps;var S=Ls(l,Kn.current);Jo(l,p),S=Tc(null,l,v,o,S,p);var C=Cc();return l.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Cr(v)?(C=!0,ea(l)):C=!1,l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Md(l),S.updater=bc,l.stateNode=S,S._reactInternals=l,Fd(l,v,o,p),l=Kd(null,l,v,!0,C,p)):(l.tag=0,Zt&&C&&Ul(l),hr(null,l,S,p),l=l.child),l;case 16:v=l.elementType;e:{switch(Ws(o,l),o=l.pendingProps,S=v._init,v=S(v._payload),l.type=v,S=l.tag=Kc(v),o=Ea(v,o),S){case 0:l=Lc(null,l,v,o,p);break e;case 1:l=Ym(null,l,v,o,p);break e;case 11:l=Wd(null,l,v,o,p);break e;case 14:l=Ka(null,l,v,Ea(v.type,o),p);break e}throw Error(n(306,v,""))}return l;case 0:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ea(v,S),Lc(o,l,v,S,p);case 1:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ea(v,S),Ym(o,l,v,S,p);case 3:e:{if(Qa(l),o===null)throw Error(n(387));v=l.pendingProps,C=l.memoizedState,S=C.element,xm(o,l),yc(l,v,null,p);var _=l.memoizedState;if(v=_.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){S=$i(Error(n(423)),l),l=_c(o,l,v,p,S);break e}else if(v!==S){S=$i(Error(n(424)),l),l=_c(o,l,v,p,S);break e}else for(jr=Go(l.stateNode.containerInfo.firstChild),Zn=l,Zt=!0,Sa=null,p=Ad(l,null,v,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(qa(),v===S){l=Za(o,l,p);break e}hr(o,l,v,p)}l=l.child}return l;case 5:return Od(l),o===null&&xr(l),v=l.type,S=l.pendingProps,C=o!==null?o.memoizedProps:null,_=S.children,Yl(v,S)?_=null:C!==null&&Yl(v,C)&&(l.flags|=32),Bm(o,l),hr(o,l,_,p),l.child;case 6:return o===null&&xr(l),null;case 13:return au(o,l,p);case 4:return Sc(l,l.stateNode.containerInfo),v=l.pendingProps,o===null?l.child=ni(l,null,v,p):hr(o,l,v,p),l.child;case 11:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ea(v,S),Wd(o,l,v,S,p);case 7:return hr(o,l,l.pendingProps,p),l.child;case 8:return hr(o,l,l.pendingProps.children,p),l.child;case 12:return hr(o,l,l.pendingProps.children,p),l.child;case 10:e:{if(v=l.type._context,S=l.pendingProps,C=l.memoizedProps,_=S.value,qt(Hi,v._currentValue),v._currentValue=_,C!==null)if(me(C.value,_)){if(C.children===S.children&&!Tr.current){l=Za(o,l,p);break e}}else for(C=l.child,C!==null&&(C.return=l);C!==null;){var q=C.dependencies;if(q!==null){_=C.child;for(var J=q.firstContext;J!==null;){if(J.context===v){if(C.tag===1){J=Ca(-1,p&-p),J.tag=2;var ge=C.updateQueue;if(ge!==null){ge=ge.shared;var Ae=ge.pending;Ae===null?J.next=J:(J.next=Ae.next,Ae.next=J),ge.pending=J}}C.lanes|=p,J=C.alternate,J!==null&&(J.lanes|=p),ra(C.return,p,l),q.lanes|=p;break}J=J.next}}else if(C.tag===10)_=C.type===l.type?null:C.child;else if(C.tag===18){if(_=C.return,_===null)throw Error(n(341));_.lanes|=p,q=_.alternate,q!==null&&(q.lanes|=p),ra(_,p,l),_=C.sibling}else _=C.child;if(_!==null)_.return=C;else for(_=C;_!==null;){if(_===l){_=null;break}if(C=_.sibling,C!==null){C.return=_.return,_=C;break}_=_.return}C=_}hr(o,l,S.children,p),l=l.child}return l;case 9:return S=l.type,v=l.pendingProps.children,Jo(l,p),S=dr(S),v=v(S),l.flags|=1,hr(o,l,v,p),l.child;case 14:return v=l.type,S=Ea(v,l.pendingProps),S=Ea(v.type,S),Ka(o,l,v,S,p);case 15:return qd(o,l,l.type,l.pendingProps,p);case 17:return v=l.type,S=l.pendingProps,S=l.elementType===v?S:Ea(v,S),Ws(o,l),l.tag=1,Cr(v)?(o=!0,ea(l)):o=!1,Jo(l,p),Nd(l,v,S),Fd(l,v,S,p),Kd(null,l,v,!0,o,p);case 19:return Hm(o,l,p);case 22:return Gd(o,l,p)}throw Error(n(156,l.tag))};function ag(o,l){return jh(o,l)}function Uy(o,l,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(o,l,p,v){return new Uy(o,l,p,v)}function pp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Kc(o){if(typeof o=="function")return pp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===oe)return 11;if(o===fe)return 14}return 2}function pi(o,l){var p=o.alternate;return p===null?(p=Vr(o.tag,l,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=l,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,l=o.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function Qc(o,l,p,v,S,C){var _=2;if(v=o,typeof o=="function")pp(o)&&(_=1);else if(typeof o=="string")_=5;else e:switch(o){case j:return Ki(p.children,S,C,l);case $:_=8,S|=8;break;case W:return o=Vr(12,p,l,S|2),o.elementType=W,o.lanes=C,o;case ee:return o=Vr(13,p,l,S),o.elementType=ee,o.lanes=C,o;case de:return o=Vr(19,p,l,S),o.elementType=de,o.lanes=C,o;case xe:return Zc(p,S,C,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case z:_=10;break e;case X:_=9;break e;case oe:_=11;break e;case fe:_=14;break e;case De:_=16,v=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Vr(_,p,l,S),l.elementType=o,l.type=v,l.lanes=C,l}function Ki(o,l,p,v){return o=Vr(7,o,v,l),o.lanes=p,o}function Zc(o,l,p,v){return o=Vr(22,o,v,l),o.elementType=xe,o.lanes=p,o.stateNode={isHidden:!1},o}function hp(o,l,p){return o=Vr(6,o,null,l),o.lanes=p,o}function mp(o,l,p){return l=Vr(4,o.children!==null?o.children:[],o.key,l),l.lanes=p,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function Vy(o,l,p,v,S){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function gp(o,l,p,v,S,C,_,q,J){return o=new Vy(o,l,p,q,J),l===1?(l=1,C===!0&&(l|=8)):l=0,C=Vr(3,null,null,l),o.current=C,C.stateNode=o,C.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Md(C),o}function zy(o,l,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:v==null?null:""+v,children:o,containerInfo:l,implementation:p}}function og(o){if(!o)return Qo;o=o._reactInternals;e:{if(ki(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Cr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var p=o.type;if(Cr(p))return wm(o,p,l)}return l}function ig(o,l,p,v,S,C,_,q,J){return o=gp(p,v,!0,o,S,C,_,q,J),o.context=og(null),p=o.current,v=mr(),S=ci(p),C=Ca(v,S),C.callback=l??null,ei(p,C,S),o.current.lanes=S,xl(o,S,v),rr(o,v),o}function Jc(o,l,p,v){var S=l.current,C=mr(),_=ci(S);return p=og(p),l.context===null?l.context=p:l.pendingContext=p,l=Ca(C,_),l.payload={element:o},v=v===void 0?null:v,v!==null&&(l.callback=v),o=ei(S,l,_),o!==null&&(Ia(o,S,_,C),ti(o,S,_)),_}function Xc(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function sg(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<l?p:l}}function vp(o,l){sg(o,l),(o=o.alternate)&&sg(o,l)}function $y(){return null}var yp=typeof reportError=="function"?reportError:function(o){};function ef(o){this._internalRoot=o}tf.prototype.render=ef.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Jc(o,l,null,null)},tf.prototype.unmount=ef.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Wi(function(){Jc(null,o,null,null)}),l[Pr]=null}};function tf(o){this._internalRoot=o}tf.prototype.unstable_scheduleHydration=function(o){if(o){var l=rd();o={blockedOn:null,target:o,priority:l};for(var p=0;p<Uo.length&&l!==0&&l<Uo[p].priority;p++);Uo.splice(p,0,o),p===0&&Kh(o)}};function bp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function nf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function lg(){}function rf(o,l,p,v,S){if(S){if(typeof v=="function"){var C=v;v=function(){var ge=Xc(_);C.call(ge)}}var _=ig(l,v,o,0,null,!1,!1,"",lg);return o._reactRootContainer=_,o[Pr]=_.current,Wo(o.nodeType===8?o.parentNode:o),Wi(),_}for(;S=o.lastChild;)o.removeChild(S);if(typeof v=="function"){var q=v;v=function(){var ge=Xc(J);q.call(ge)}}var J=gp(o,0,!1,null,null,!1,!1,"",lg);return o._reactRootContainer=J,o[Pr]=J.current,Wo(o.nodeType===8?o.parentNode:o),Wi(function(){Jc(l,J,p,v)}),J}function af(o,l,p,v,S){var C=p._reactRootContainer;if(C){var _=C;if(typeof S=="function"){var q=S;S=function(){var J=Xc(_);q.call(J)}}Jc(l,_,o,S)}else _=rf(p,l,o,S,v);return Xc(_)}nd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var p=vs(l.pendingLanes);p!==0&&(Ml(l,p|1),rr(l,tn()),!(Ft&6)&&(Js=tn()+500,Zo()))}break;case 13:Wi(function(){var v=Ta(o,1);if(v!==null){var S=mr();Ia(v,o,1,S)}}),vp(o,1)}},Bu=function(o){if(o.tag===13){var l=Ta(o,134217728);if(l!==null){var p=mr();Ia(l,o,134217728,p)}vp(o,134217728)}},qh=function(o){if(o.tag===13){var l=ci(o),p=Ta(o,l);if(p!==null){var v=mr();Ia(p,o,l,v)}vp(o,l)}},rd=function(){return Pt},ad=function(o,l){var p=Pt;try{return Pt=o,l()}finally{Pt=p}},he=function(o,l,p){switch(l){case"input":if(dt(o,p),l=p.name,p.type==="radio"&&l!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<p.length;l++){var v=p[l];if(v!==o&&v.form===o.form){var S=uc(v);if(!S)throw Error(n(90));Ze(v),dt(v,S)}}}break;case"textarea":Lo(o,p);break;case"select":l=p.value,l!=null&&en(o,!!p.multiple,l,!1)}},Yt=up,xn=Wi;var Wy={usingClientEntryPoint:!1,Events:[Gn,St,uc,Ye,mt,up]},fu={findFiberByHostInstance:Va,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qy={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=_h(o),o===null?null:o.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||$y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{_u=of.inject(qy),Ba=of}catch{}}return ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wy,ca.createPortal=function(o,l){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bp(l))throw Error(n(200));return zy(o,l,null,p)},ca.createRoot=function(o,l){if(!bp(o))throw Error(n(299));var p=!1,v="",S=yp;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=gp(o,1,!1,null,null,p,!1,v,S),o[Pr]=l.current,Wo(o.nodeType===8?o.parentNode:o),new ef(l)},ca.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=_h(l),o=o===null?null:o.stateNode,o},ca.flushSync=function(o){return Wi(o)},ca.hydrate=function(o,l,p){if(!nf(l))throw Error(n(200));return af(null,o,l,!0,p)},ca.hydrateRoot=function(o,l,p){if(!bp(o))throw Error(n(405));var v=p!=null&&p.hydratedSources||null,S=!1,C="",_=yp;if(p!=null&&(p.unstable_strictMode===!0&&(S=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onRecoverableError!==void 0&&(_=p.onRecoverableError)),l=ig(l,null,o,1,p??null,S,!1,C,_),o[Pr]=l.current,Wo(o),v)for(o=0;o<v.length;o++)p=v[o],S=p._getVersion,S=S(p._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[p,S]:l.mutableSourceEagerHydrationData.push(p,S);return new tf(l)},ca.render=function(o,l,p){if(!nf(l))throw Error(n(200));return af(null,o,l,!1,p)},ca.unmountComponentAtNode=function(o){if(!nf(o))throw Error(n(40));return o._reactRootContainer?(Wi(function(){af(null,null,o,!1,function(){o._reactRootContainer=null,o[Pr]=null})}),!0):!1},ca.unstable_batchedUpdates=up,ca.unstable_renderSubtreeIntoContainer=function(o,l,p,v){if(!nf(p))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return af(o,l,p,!1,v)},ca.version="18.2.0-next-9e3b772b8-20220608",ca}function u3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u3)}catch{}}u3();l3.exports=b7();var ob=l3.exports;const ib=$n(ob);var Tv,c3=ob;Tv=Ou.createRoot=c3.createRoot;Ou.hydrateRoot=c3.hydrateRoot;const w7=e=>{const{children:t,className:n,clickSpaceDestroy:r,destroy:a}=e,i=()=>{r&&a()},s=c=>{(c.key==="Escape"||(c.ctrlKey||c.metaKey)&&c.key.toLowerCase()==="w")&&a()};return D.jsx("div",{className:`dialog-wrapper ${n}`,onClick:i,onKeyDown:c=>s(c),children:D.jsx("div",{className:"dialog-container",onClick:c=>c.stopPropagation(),children:t})})};function bh(e,t,n){const r=document.createElement("div");document.body.append(r),setTimeout(()=>{var d;(d=r.firstElementChild)==null||d.classList.add("showup")},0);const a={destroy:()=>{var d,h;(d=r.firstElementChild)==null||d.classList.remove("showup"),(h=r.firstElementChild)==null||h.classList.add("showoff"),setTimeout(()=>{r.detach(),c.unmount()},Z2)}},i={...n,destroy:a.destroy};let s=D.jsx(w7,{destroy:a.destroy,clickSpaceDestroy:!0,...e,children:D.jsx(t,{...i})});s=D.jsx(If,{store:Ce,context:It,children:s});const c=Ou.createRoot(r);return c.render(s),a}const D7=e=>{const{shownStatus:t,setShownStatus:n}=e,{dailyNotesState:{app:r},globalState:{manifest:a}}=A.useContext(It),i=A.useRef(null);A.useEffect(()=>{if(t){const h=g=>{var m;(m=i.current)!=null&&m.contains(g.target)||g.stopPropagation(),n(!1)};window.addEventListener("click",h,{capture:!0,once:!0})}},[t]);const s=A.useCallback(async h=>{const{type:g}=h;if(g.startsWith("text"))try{return`${await ab.parseHtml(h)}`}catch(m){new I.Notice(m)}},[]),c=A.useCallback(()=>{const h=document.createElement("input");document.body.appendChild(h),h.type="file",h.multiple=!1,h.accept="text/html",h.onchange=async()=>{if(!h.files||h.files.length===0)return;const g=h.files[0];await s(g),document.body.removeChild(h)},h.click()},[]),d=()=>{r.setting.open(),r.setting.openTabById(a.id??"obsidian-memos")};return D.jsxs("div",{className:`menu-btns-popup ${t?"":"hidden"}`,ref:i,children:[D.jsxs("div",{className:"btn action-btn",onClick:d,children:[D.jsx("span",{ref:h=>{h&&I.setIcon(h,"user")},className:"icon"}),O("Settings")]}),D.jsxs("div",{className:"btn action-btn",onClick:c,children:[D.jsx("span",{ref:h=>{h&&I.setIcon(h,"import")},className:"icon"}),O("Import")]})]})},d1=new Map,Pg=async(e,t=!0)=>{const{vault:n,metadataCache:r}=ut.getState().app;if(t&&d1.has(e))return Promise.resolve(d1.get(e));let a;const i=await n.adapter.exists(e);let s="";try{if(!i&&!/(http|https)/g.test(e)){const c=r.getFirstLinkpathDest(e,"");if(!c){new I.Notice(O("File not exist"));return}s=c.path}else s=e}catch{}if(s){if(/(http|https)/g.test(s))try{const c=await I.requestUrl(e),d=new Uint8Array(c.arrayBuffer);a=new Blob([d],{type:"image/png"})}catch{}else if(s){const c=await n.adapter.readBinary(s),d=new Uint8Array(c);a=new Blob([d],{type:"image/png"})}return a?S7(a,e):""}},S7=(e,t)=>new Promise(n=>{const r=new FileReader;r.onloadend=()=>{const a=r.result;d1.set(t,a),n(a)},r.readAsDataURL(e)}),E7=async e=>{const t=document.createElement(e.tagName);t.innerHTML=e.innerHTML;const n=async(r,a)=>{if(!r||!a)return;const i=window.getComputedStyle(r);if(r.tagName==="IMG")try{let s="";const c=r.getAttribute("src");c!=null&&c.startsWith("http")&&!c.startsWith("http://localhost")?s=await Pg(r==null?void 0:r.getAttribute("src")):s=await Pg(r.getAttribute("path")??I.normalizePath(r==null?void 0:r.parentElement.getAttribute("src"))),a.src=s}catch{}else if(r.className==="property-image")try{const s=r.style.backgroundImage,c=await Pg(s);a.style.backgroundImage=c}catch{}for(const s of i)a.style.setProperty(s,i.getPropertyValue(s),i.getPropertyPriority(s));for(let s=0;s<a.childElementCount;s++)await n(r.children[s],a.children[s])};return await n(e,t),t},T7=async e=>{const t=e.ownerDocument.styleSheets,n=[];for(const a of t)for(const i of a.cssRules)i.constructor.name==="CSSFontFaceRule"&&n.push(i.style);return document.createElement("style")},f3=e=>{const{width:t,height:n}=window.getComputedStyle(e);return{width:parseInt(t.replace("px","")),height:parseInt(n.replace("px",""))}},C7=e=>{const t=new XMLSerializer().serializeToString(e);return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`},x7=(e,t,n)=>{const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg");a.setAttribute("width",`${e}`),a.setAttribute("height",`${t}`),a.setAttribute("viewBox",`0 0 ${e} ${t}`);const i=document.createElementNS(r,"foreignObject");return i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),i.appendChild(n),a.appendChild(i),a},M7=async(e,t)=>{const{width:n,height:r}=f3(e),a=await E7(e);t!=null&&t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor);const i=x7(n,r,a);return i.prepend(await T7(e)),C7(i)},k7=async(e,t)=>{const n=await M7(e,t),r=new Image;r.src=n;const a=(t==null?void 0:t.pixelRatio)||1,{width:i,height:s}=f3(e),c=document.createElement("canvas"),d=c.getContext("2d");return d?(c.width=i*a,c.height=s*a,c.style.width=`${i}`,c.style.height=`${s}`,(t!=null&&t.backgroundColor||document.body.className.contains("theme-dark"))&&(d.fillStyle=t.backgroundColor||"#1f1f1f",d.fillRect(0,0,c.width,c.height)),new Promise(h=>{r.onload=()=>{d.drawImage(r,0,0,c.width,c.height),h(c)}})):Promise.reject("Canvas error")},d3=async(e,t)=>(await k7(e,t)).toDataURL();function Ao(e){const[t,n]=A.useState(()=>!!e),r=A.useCallback(a=>{n(typeof a=="boolean"?a:i=>!i)},[]);return[t,r]}function Hf(e=!0){const[t,n]=A.useState({isLoading:e,isFailed:!1,isSucceed:!1,isPending:!1});return{...t,setLoading:()=>{n({...t,isLoading:!0,isFailed:!1,isPending:!1,isSucceed:!1})},setFinish:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!1,isSucceed:!0})},setError:()=>{n({...t,isLoading:!1,isFailed:!0,isPending:!1,isSucceed:!1})},setPending:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!0,isSucceed:!1})}}}const I7=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return new Blob([r],{type:t})},sD=async e=>{e.startsWith("http")&&(e=await Pg(e));const t=e.split("base64,")[1],n=I7(t,"image/png");await p3(n),new I.Notice(O("Send to clipboard successfully"))},N7=async(e,t)=>{const n=await e.vault.adapter.exists(t);let r="";if(n)r=t;else{const c=e.metadataCache.getFirstLinkpathDest(t,"");if(!c){new I.Notice(O("File not exist"));return}r=c.path}const a=await e.vault.adapter.readBinary(r),i=new Uint8Array(a),s=new Blob([i],{type:"image/png"});await p3(s)},p3=async e=>{const t=new ClipboardItem({"image/png":e});await window.navigator.clipboard.write([t])},lD=1.1,uD=300,cD=20,F7=({destroy:e,imgUrl:t,filepath:n,otherIMGEls:r,currentIndex:a})=>{const i=A.useRef(null),[s,c]=A.useState(-1),d=Ce.getState().dailyNotesState.app,[h,g]=A.useState(a),[m,w]=A.useState(t),b={close:A.useRef(null),previous:A.useRef(null),next:A.useRef(null),decrease:A.useRef(null),increase:A.useRef(null),zoom:A.useRef(null),copy:A.useRef(null)};A.useEffect(()=>{!n&&!t||(I.setIcon(b.close.current,"x"),b.previous.current&&I.setIcon(b.previous.current,"arrow-left"),b.next.current&&I.setIcon(b.next.current,"arrow-right"),I.setIcon(b.decrease.current,"zoom-out"),I.setIcon(b.increase.current,"zoom-in"),I.setIcon(b.zoom.current,"circle"),I.setIcon(b.copy.current,"clipboard"))},[b]),A.useEffect(()=>{Ue.getImageSize(m).then(({width:R})=>{c(R!==0?40:0)})},[m]);const T=()=>{let R=h-1;R<0&&(R=r.length-1),g(R),w(r[R].src)},E=()=>{let R=h+1;R>=r.length&&(R=0),g(R),w(r[R].src)},k=()=>{e()},M=()=>{s>30&&c(s-10)},F=()=>{c(s+10)},B=R=>{R.target!==i.current&&R.target===i.current.parentElement&&k()},N=R=>{if(R.ctrlKey){R.preventDefault();const j=i.current,$=R.nativeEvent.offsetX,W=R.nativeEvent.offsetY,z=$/j.clientWidth,X=W/j.clientHeight;let oe;R.deltaY>0?oe=s/lD:oe=s*lD,oe>uD?oe=uD:oe<cD&&(oe=cD);const ee=s;c(oe);const de=R.currentTarget;de.scrollLeft+=(oe-ee)*z,de.scrollTop+=(oe-ee)*X}else R.deltaX!==0&&(R.currentTarget.scrollLeft+=R.deltaX)},P=async()=>{if(m&&!n)await sD(t);else if(n){const j=r[h].parentElement.getAttribute("src");if(!j){await sD(m);return}await N7(d,j)}};return D.jsxs(D.Fragment,{children:[D.jsx("button",{ref:b.close,className:"btn close-btn",onClick:k}),D.jsxs("div",{className:"img-container internal-embed image-embed is-loaded",onClick:B,onWheel:N,children:[D.jsx("img",{className:s<=0?"hidden":"",ref:i,height:s+"%",src:m}),D.jsx("span",{className:"loading-text "+(s===-1?"":"hidden"),children:O("Image is loading...")}),D.jsx("span",{className:"loading-text "+(s===0?"":"hidden"),children:O("😟 Cannot load image, image link maybe broken")})]}),D.jsxs("div",{className:"action-btns-container",children:[r&&(r==null?void 0:r.length)>1&&D.jsxs(D.Fragment,{children:[D.jsx("button",{ref:b.previous,className:"btn",onClick:T}),D.jsx("button",{ref:b.next,className:"btn",onClick:E})]}),D.jsx("button",{ref:b.decrease,className:"btn",onClick:M}),D.jsx("button",{ref:b.increase,className:"btn",onClick:F}),D.jsx("button",{ref:b.zoom,className:"btn",onClick:()=>c(80)}),D.jsx("button",{ref:b.copy,className:"btn",onClick:P})]})]})};function h3({imgUrl:e,filepath:t,otherIMGEls:n,currentIndex:r}){bh({className:"preview-image-dialog"},F7,{...{imgUrl:e,otherIMGEls:n,currentIndex:r},filepath:t})}const A7=e=>{const{app:t,view:n}=Ce.getState().dailyNotesState,{memo:r}=e,a={...r,createdAtStr:Ue.getDateTimeString(r.createdAt),timeStr:Ue.getTimeString(r.createdAt)},i=Q.useRef(null),s=Q.useRef(null);A.useEffect(()=>{if(!s.current||!i.current||(s.current.hasChildNodes()&&s.current.children[0].detach(),!n))return;async function m(){var b;await I.MarkdownRenderer.render(t,r.content.replaceAll(/<br>/g,`
`)+`
`,s.current,r.path,n);const w=(b=s.current)==null?void 0:b.querySelectorAll(".internal-link");w==null||w.forEach(T=>{const E=T,k=E.getAttribute("data-href");if(!k)return;t.metadataCache.getFirstLinkpathDest(k,r.path)||T.classList.add("is-unresolved"),E.addEventListener("mouseover",F=>{F.stopPropagation(),t.workspace.trigger("hover-link",{event:F,source:"thino",hoverParent:n.containerEl,targetEl:E,linktext:k,sourcePath:E.href})})})}m()},[e.memo.content]);const c=()=>{e.onClickThino&&e.onClickThino(a)},d=async(m,w,b)=>{var k;const T=((k=b.parentElement.dataset)==null?void 0:k.task)==="x"?"DONE":"TODO",E=[...(w==null?void 0:w.querySelectorAll("li.task-list-item"))??[]];for(const M of E)if(M===b||M===b.closest("li.task-list-item")){const F=E.indexOf(M),B=m.content.replace(/<br>/g,`
`).split(/\n/),N=[];for(let W=0;W<B.length;W++)(B[W].trim().startsWith("- [ ]")||B[W].trim().startsWith("- [x]"))&&N.push(W);const P=N[F],j=B[P].replace(/- \[ \] |- \[x\] /g,T==="TODO"?"- [x] ":"- [ ] ");B[P]=j;const $=B.join(`
`).trim();if(m&&m.content!==$){const W=await Me.updateMemo(m.id,$);Me.editMemo(W)}}},h=async m=>{m.preventDefault();const w=m.target;if(w.tagName==="INPUT"&&w.hasClass("task-list-item-checkbox")){await d(a,i.current,w);return}};return A.useMemo(()=>D.jsxs("div",{ref:i,className:"daily-memo-wrapper",children:[D.jsx("div",{className:"time-wrapper",onClick:c,children:D.jsx("span",{className:"normal-text",children:a.timeStr})}),D.jsx("div",{className:"memo-content-container",children:D.jsx("div",{ref:s,onClick:h,className:"memo-content-text"})})]}),[r.content])},O7=typeof window<"u"?A.useLayoutEffect:A.useEffect;function R7(e,t,n,r){const a=A.useRef(t);O7(()=>{a.current=t},[t]),A.useEffect(()=>{const i=(n==null?void 0:n.current)??window;if(!(i&&i.addEventListener))return;const s=c=>{a.current(c)};return i.addEventListener(e,s,r),()=>{i.removeEventListener(e,s,r)}},[e,n,r])}function wh(e,t,n="mousedown"){R7(n,r=>{const a=r.target;if(!a||!a.isConnected||a.closest(".suggestion-container")||a.closest(".menu"))return;(Array.isArray(e)?e.every(s=>s.current&&!s.current.contains(a)):e.current&&!e.current.contains(a))&&t(r)})}const m3=e=>{const{year:t,handleYearChange:n}=e,[r,a]=A.useState([]),[i,s]=A.useState(t),c=A.useRef(null),d=A.useRef(null),[h,g]=Q.useState(!1),m=Q.useRef(null);wh(m,()=>{g(!1)}),A.useEffect(()=>{c.current&&I.setIcon(c.current,"chevron-left"),d.current&&I.setIcon(d.current,"chevron-right")},[c,d,h]),A.useEffect(()=>{b(i)},[t]);const b=T=>{const E=parseInt(T),k=E-E%10,M=[];for(let F=0;F<10;F++)M.push(`${k+F}`);a(M)};return D.jsxs(D.Fragment,{children:[D.jsxs("span",{className:"btn year-btn",onClick:()=>{g(!h)},children:[D.jsx("span",{children:t}),D.jsx("span",{children:O("year")})]}),h&&D.jsxs("div",{ref:m,className:"year-picker-wrapper",children:[D.jsxs("div",{className:"year-picker-header",children:[D.jsxs("div",{className:"year-picker-header-title",children:[i," "+(O("year")||"")]}),D.jsxs("div",{className:"year-picker-header-btns",children:[D.jsx("span",{className:"btn",ref:c,onClick:()=>{const T=parseInt(i)-10;s(T.toString()),b(T.toString())}}),D.jsx("span",{className:"btn",ref:d,onClick:()=>{const T=parseInt(i)+10;s(T.toString()),b(T.toString())}})]})]}),D.jsx("div",{className:"year-picker-body",children:D.jsx("div",{className:"year-picker-body-list",children:r.map(T=>D.jsx("div",{className:`year-picker-body-item ${T===i?"selected":""}`,onClick:()=>{s(T),n(T),g(!1)},children:T},T))})})]})]})},g3=e=>{const{month:t,handleMonthChange:n}=e,[r,a]=A.useState([]),[i,s]=A.useState((parseInt(t)+1).toString()),[c,d]=Q.useState(!1),h=Q.useRef(null);wh(h,()=>{d(!1)}),A.useEffect(()=>{m()},[t]);const m=()=>{const w=[];for(let b=1;b<=12;b++)w.push(`${b}`);a(w)};return D.jsxs(D.Fragment,{children:[D.jsxs("span",{className:"btn month-btn",onClick:()=>{d(!c)},children:[D.jsxs("span",{children:[O("monthsShort")[parseInt(t)]||parseInt(t)+1," "]}),D.jsx("span",{children:O("month")||""})]}),c&&D.jsxs("div",{ref:h,className:"month-picker-wrapper",children:[D.jsxs("div",{className:"month-picker-header",children:[D.jsxs("div",{className:"month-picker-header-title",children:[i," "+(O("month")||"")]}),D.jsx("div",{className:"month-picker-header-btns"})]}),D.jsx("div",{className:"month-picker-body",children:D.jsx("div",{className:"month-picker-body-list",children:r.map(w=>D.jsx("div",{className:`month-picker-body-item ${w===i?"selected":""}`,onClick:()=>{s(w),n(w),d(!1)},children:w},w))})})]})]})},Cv=e=>{const{className:t,datestamp:n,handleDateStampChange:r}=e,[a,i]=A.useState(xp(n)),[s,c]=A.useState(n);A.useEffect(()=>{i(xp(n))},[n]);const d=new Date(a),h=d.getDay(),g=[];for(let T=0;T<h;T++)g.push({date:0,datestamp:d.getTime()-wi*(7-T)});const m=L7(a);for(let T=1;T<=m;T++)g.push({date:T,datestamp:d.getTime()+wi*(T-1)});const w=(T,E)=>{r(E,T.nativeEvent),c(E)},b=T=>{const E=d.getFullYear(),k=d.getMonth()+1;let M=0;k===1&&T===-1?M=new Date(`${E-1}/12/1`).getTime():k===12&&T===1?M=new Date(`${E+1}/1/1`).getTime():M=new Date(`${E}/${k+T}/1`).getTime(),i(xp(M))};return D.jsxs("div",{className:`date-picker-wrapper ${t}`,children:[D.jsxs("div",{className:"date-picker-header",children:[D.jsx("span",{ref:T=>{T&&I.setIcon(T,"chevron-left")},className:"btn btn-text",onClick:()=>b(-1)}),D.jsxs("span",{className:"normal-text",children:[D.jsx(m3,{year:d.getFullYear().toString(),handleYearChange:T=>{i(xp(new Date(`${T}/${d.getMonth()+1}/1`).getTime()))}}),D.jsx(g3,{month:d.getMonth().toString(),handleMonthChange:T=>{i(xp(new Date(`${d.getFullYear()}/${parseInt(T)}/1`).getTime()))}})]}),D.jsx("span",{ref:T=>{T&&I.setIcon(T,"chevron-right")},className:"btn btn-text",onClick:()=>b(1)})]}),D.jsxs("div",{className:"date-picker-day-container",children:[D.jsx("div",{className:"date-picker-day-header",children:O("weekDaysShort").map(T=>D.jsx("span",{className:"day-item",children:T},T))}),D.jsx("div",{className:"date-picker-day-content",children:g.map(T=>T.date===0?D.jsx("span",{className:"day-item null",children:""},T.datestamp):D.jsx("span",{className:`day-item ${T.datestamp===n?"current":""} ${T.datestamp===s?"selected":""}`,onClick:E=>w(E,T.datestamp),children:D.jsx("span",{className:"day-item-text",children:T.date})},T.datestamp))})]})]})};function L7(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/wi}function xp(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}const _7=e=>{const{dailyNotesState:{app:t,view:n}}=A.useContext(It),{memo:r,handleMemoContentClick:a,handleMemoDoubleClick:i}=e,s=Q.useRef(null),[c,d]=Q.useState("");return A.useEffect(()=>{if(!s.current||s.current.hasChildNodes()&&r.content===c||!n||!t)return;d(r.content),s.current.hasChildNodes()&&s.current.empty();async function h(){var m,w;await I.MarkdownRenderer.render(t,r.content.replaceAll(/<br>/g,`
`)+`
`,s.current,r.path,n),(m=s.current)==null||m.toggleClass(["markdown-rendered"],!0);const g=(w=s.current)==null?void 0:w.querySelectorAll(".internal-link");g==null||g.forEach(b=>{const T=b,E=T.getAttribute("data-href");if(!E)return;t.metadataCache.getFirstLinkpathDest(E,r.path)||b.classList.add("is-unresolved"),T.addEventListener("mouseover",M=>{M.stopPropagation(),t.workspace.trigger("hover-link",{event:M,source:"thino",hoverParent:n.containerEl,targetEl:T,linktext:E,sourcePath:T.href})})})}h()},[r.content,n,t]),D.jsx("div",{ref:s,className:"memo-content-text",onClick:h=>a(h,r),onDoubleClick:i,onContextMenu:h=>{h.preventDefault()}})},v3=A.memo(_7),P7=e=>{const[t,n]=A.useState({...e.memo,createdAtStr:Ue.getDateTimeString(e.memo.createdAt)}),[r,a]=A.useState([]),[i,s]=A.useState([]);A.useEffect(()=>{(async()=>{try{const m=[],w=[...t.content.matchAll(Fu)];for(const T of w)if(T&&T.length===3){const E=T[2],k=Me.getMemoById(E);k&&m.push({...k,createdAtStr:Ue.getDateTimeString(k.createdAt),dateStr:Ue.getDateString(k.createdAt)})}a([...m]);const b=await Me.getLinkedMemos(t.id);s(b.sort((T,E)=>Ue.getTimeStampByDate(E.createdAt)-Ue.getTimeStampByDate(T.createdAt)).map(T=>({...T,createdAtStr:Ue.getDateTimeString(T.createdAt),dateStr:Ue.getDateString(T.createdAt)})))}catch{}})()},[t.id]);const c=A.useCallback(async g=>{var w;const m=g.target;if(m.className==="memo-link-text"){const b=(w=m.dataset)==null?void 0:w.value,T=Me.getMemoById(b??"");if(T){const E={...T,createdAtStr:Ue.getDateTimeString(T.createdAt)};a([]),s([]),n(E)}else new I.Notice(O("Thino not found")),m.classList.remove("memo-link-text")}},[]),d=A.useCallback(g=>{a([]),s([]),n(g)},[]),h=A.useCallback(()=>{e.destroy(),rt.setEditMemoId(t.id)},[t.id]);return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"memo-card-container",children:[D.jsxs("div",{className:"header-container",children:[D.jsx("span",{className:"time-text",children:t.createdAtStr}),D.jsxs("div",{className:"btns-container",children:[D.jsx("button",{ref:g=>{g&&I.setIcon(g,"edit")},className:"btn edit-btn",onClick:h}),D.jsx("button",{ref:g=>{g&&I.setIcon(g,"x")},className:"btn close-btn",onClick:e.destroy})]})]}),D.jsx("div",{className:"memo-container",children:D.jsx("div",{className:"memo-content-text",children:D.jsx(v3,{memo:e.memo,handleMemoContentClick:c,handleMemoDoubleClick:()=>{}})})}),D.jsx("div",{className:"layer-container"}),r.map((g,m)=>m<4?D.jsx("div",{className:"background-layer-container",style:{bottom:(m+1)*-3+"px",left:(m+1)*5+"px",width:`calc(100% - ${(m+1)*10}px)`,zIndex:-m-1}},m):null)]}),r.length>0?D.jsxs("div",{className:"linked-memos-wrapper",children:[D.jsxs("span",{className:"normal-text",children:[O("LINKED")," ",r.length," THINO"," "]}),r.map(g=>{const m=Ew(J0(g.content)).replaceAll(`
`," ");return D.jsxs("div",{className:"linked-memo-container",onClick:()=>d(g),children:[D.jsxs("span",{className:"time-text",children:[g.dateStr," "]}),m]},g.id)})]}):null,i.length>0?D.jsxs("div",{className:"linked-memos-wrapper",children:[D.jsxs("span",{className:"normal-text",children:[i.length," THINO ",O("LINK TO THE")," THINO"]}),i.map(g=>{const m=Ew(J0(g.content)).replaceAll(`
`," ");return D.jsxs("div",{className:"linked-memo-container",onClick:()=>d(g),children:[D.jsxs("span",{className:"time-text",children:[g.dateStr," "]}),m]},g.id)})]}):null]})};function xv(e){bh({className:"memo-card-dialog"},P7,{memo:e})}const j7=e=>{const{memoState:{memos:t}}=A.useContext(It),n=Hf(),[r,a]=A.useState([]),[i,s]=A.useState(Ue.getDateStampByDate(Ue.getDateString(e.currentDateStamp))),[c,d]=Ao(!1),h=A.useRef(null),g=new Date(i),{vault:m}=Ce.getState().dailyNotesState.app,w=Ce.getState().dailyNotesState.settings;A.useEffect(()=>{(()=>{const F=t.filter(B=>Ue.getTimeStampByDate(B.createdAt)>=i&&Ue.getTimeStampByDate(B.createdAt)<i+wi).filter(B=>B.deletedAt==="").sort((B,N)=>Ue.getTimeStampByDate(B.createdAt)-Ue.getTimeStampByDate(N.createdAt));a(F),n.setFinish()})()},[i,t]);const b=(M,F)=>{const B=window.atob(M),N=new ArrayBuffer(B.length),P=new Uint8Array(N);for(let R=0;R<B.length;R++)P[R]=B.charCodeAt(R);return new Blob([N],{type:F})},T=async()=>{d(!1),setTimeout(()=>{h.current&&d3(h.current,{backgroundColor:"#ffffff",pixelRatio:window.devicePixelRatio*2}).then(M=>{if(w!=null&&w.AutoSaveWhenOnMobile&&I.Platform.isMobile){const F=M.split("base64,")[1];b(F,"image/png").arrayBuffer().then(async N=>{let P;const R="png",j=Nu();for(const $ in j)if(j[$]instanceof I.TFile){P=j[$];break}P!==void 0&&await m.createBinary(await m.getAvailablePathForAttachments(`Pasted Image ${I.moment().format("YYYYMMDDHHmmss")}`,R,P),N)})}h3({imgUrl:M})}).catch(()=>{})},0)},E=M=>{s(M),d(!1)},k=A.useMemo(()=>D.jsxs("div",{className:"header-wrapper",children:[D.jsx("span",{className:"title-text",children:O("Daily Memos")}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:M=>{I.setIcon&&M&&I.setIcon(M,"chevron-left")},className:"btn btn-text",onClick:()=>s(M=>M-wi)}),D.jsx("span",{ref:M=>{I.setIcon&&M&&I.setIcon(M,"chevron-right")},className:"btn btn-text",onClick:()=>s(M=>M+wi)}),D.jsx("span",{ref:M=>{I.setIcon&&M&&I.setIcon(M,"share")},className:"btn btn-text share-btn",onClick:T}),D.jsx("span",{ref:M=>{I.setIcon&&M&&I.setIcon(M,"x")},className:"btn btn-text",onClick:()=>e.destroy()})]})]}),[]);return D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"dialog-header-container",children:k}),D.jsxs("div",{className:"dialog-content-container",ref:h,children:[D.jsxs("div",{className:"date-card-container",onClick:()=>d(),children:[D.jsx("div",{className:"year-text",children:g.getFullYear()}),D.jsxs("div",{className:"date-container",children:[D.jsx("div",{className:"month-text",children:O("months")[g.getMonth()]}),D.jsx("div",{className:"date-text",children:g.getDate()}),D.jsx("div",{className:"day-text",children:O("weekDays")[g.getDay()]})]})]}),D.jsx(Cv,{className:`date-picker ${c?"":"hidden"}`,datestamp:i,handleDateStampChange:E}),n.isLoading?D.jsx("div",{className:"tip-container",children:D.jsx("span",{className:"tip-text",children:O("Loading...")})}):r.length===0?D.jsx("div",{className:"tip-container",children:D.jsx("span",{className:"tip-text",children:O("Noooop!")})}):D.jsx("div",{className:"dailymemos-wrapper",children:r.map(M=>D.jsx(A7,{memo:M,onClickThino:F=>{e.destroy(),xv(F)}},`${M.id}-${M.updatedAt}`))})]})]})};function Bp(e=Date.now()){bh({className:"daily-memo-diary-dialog"},j7,{currentDateStamp:e})}const B7=()=>{const{memoState:{memos:e,tags:t},locationState:{pathname:n},dailyNotesState:{settings:r,app:a,verifyState:i},globalState:{manifest:s,showSiderbarInMobileView:c}}=A.useContext(It),[d,h]=A.useState("Memos"),[g,m]=A.useState(0),[w,b]=A.useState(0),[T,E]=A.useState(0),[k,M]=A.useState(null),[F,B]=A.useState(!1),N=Q.useRef(null),[P,R]=A.useState(0),[j,$]=A.useState(0),[W,z]=A.useState(!1);A.useEffect(()=>{r&&h(r.UserName)},[r]),A.useLayoutEffect(()=>{if(!a)return;const{tags:ee,memos:de,days:fe}=Y7(a);E(ee),m(de),b(fe)},[a]),A.useEffect(()=>{let ee=0;const de=g-P,fe=1e3,De=xe=>{ee||(ee=xe);const pe=xe-ee;if(pe<fe){const we=pe/fe;R(P+de*we),requestAnimationFrame(De)}else R(g)};requestAnimationFrame(De)},[g]),A.useEffect(()=>{let ee=0;const de=w-j,fe=1e3,De=xe=>{ee||(ee=xe);const pe=xe-ee;if(pe<fe){const we=pe/fe;$(j+de*we),requestAnimationFrame(De)}else $(w)};requestAnimationFrame(De)},[w]),A.useEffect(()=>{!r||!a||(B(g>9999||T>999||w>999),H7({tags:T,memos:g,days:w},a))},[g,T,w]),A.useEffect(()=>{Me.initialized&&e&&n==="/"&&(E(t.length),m(e.filter(ee=>!(ee.deletedAt!==""&&ee.deletedAt)).length),M(e.length>0?e[e.length-1]:null))},[t,e,n]),A.useEffect(()=>{if(!Me.initialized)return;if(!k){b(0);return}if(!N.current||!(k!=null&&k.createdAt))return;I.requireApiVersion("1.4.4")&&I.setTooltip(N.current,O("Started from")+" "+Ue.getDateTimeString((k==null?void 0:k.createdAt)??""));const ee=Math.ceil((Date.now()-Ue.getTimeStampByDate(k==null?void 0:k.createdAt))/1e3/3600/24);b(e?ee:0)},[k]);const X=A.useCallback(()=>{it.pushHistory("/"),it.clearQuery()},[]),oe=()=>{const ee=document.querySelector(".memos-sidebar-wrapper"),de=document.querySelector(".menu-btns-popup");de.style.top=70-ee.scrollTop+"px",z(!0)};return D.jsxs("div",{className:"user-banner-container",children:[D.jsxs("div",{className:"userinfo-header-container",children:[D.jsxs("span",{className:"username-container",children:[D.jsx("span",{className:"username-text",onClick:X,children:d==="MEMO 😉"?"THINO 😉":d??"THINO"}),D.jsx("span",{className:`user-pro-badge ${i?"activated":""}`,onClick:()=>{a.setting.open(),a.setting.openTabById(s.id??"obsidian-memos")},children:"PRO"})]}),D.jsxs("span",{className:"btn-group",children:[D.jsx("span",{ref:ee=>{ee&&ee.hasChildNodes()||ee&&I.setIcon(ee,"more-horizontal")},className:"btn action-btn menu-popup-btn",onClick:oe}),c&&D.jsx("span",{ref:ee=>{ee&&ee.hasChildNodes()||ee&&I.setIcon(ee,"x")},className:"btn action-btn",onClick:()=>{rt.setShowSiderbarInMobileView(!1)}})]}),D.jsx(D7,{shownStatus:W,setShownStatus:z})]}),D.jsxs("div",{className:`status-text-container ${F?"text-overflow":""}`,children:[D.jsxs("div",{className:"status-text memos-text",children:[D.jsx("span",{className:"amount-text",children:Math.round(P)}),D.jsx("span",{className:"type-text",children:"THINO"})]}),D.jsxs("div",{className:"status-text tags-text",children:[D.jsx("span",{className:"amount-text",children:T}),D.jsx("span",{className:"type-text",children:O("TAG")})]}),D.jsxs("div",{ref:N,className:"status-text duration-text",onClick:()=>Bp(),children:[D.jsx("span",{className:"amount-text",children:Math.round(j)??0}),D.jsx("span",{className:"type-text",children:O("DAY")})]})]})]})};function y3(e){return`userBannerCache:${e}`}function Y7(e){try{const t=y3(e.appId),n=Vn.get([t])[t];return n?JSON.parse(n):{tags:0,memos:0,days:0}}catch{return{tags:0,memos:0,days:0}}}function H7({tags:e,memos:t,days:n},r){try{const a={tags:e,memos:t,days:n},i=y3(r.appId);Vn.set({[i]:JSON.stringify(a)})}catch{}}const U7=e=>{const{children:t,when:n}=e;return n?D.jsx(D.Fragment,{children:t}):null},Io=U7,V7=[{text:O("AND"),value:"AND"},{text:O("OR"),value:"OR"}],ol={TAG:{value:"TAG",text:O("TAG"),operators:[{text:O("INCLUDE"),value:"CONTAIN"},{text:O("EXCLUDE"),value:"NOT_CONTAIN"}]},TYPE:{value:"TYPE",text:O("TYPE"),operators:[{value:"IS",text:O("IS")},{value:"IS_NOT",text:O("ISNOT")}],values:[{value:"CONNECTED",text:O("LINKED")},{value:"NOT_TAGGED",text:O("NO TAGS")},{value:"LINKED",text:O("HAS LINKS")},{value:"IMAGED",text:O("HAS IMAGES")}]},TEXT:{value:"TEXT",text:O("TEXT"),operators:[{value:"CONTAIN",text:O("INCLUDE")},{value:"NOT_CONTAIN",text:O("EXCLUDE")}]},DATE:{value:"DATE",text:O("DATE"),operators:[{value:"NOT_CONTAIN",text:O("BEFORE")},{value:"CONTAIN",text:O("AFTER")}]},LIST:{value:"LIST",text:O("LIST"),operators:[{value:"IS",text:O("IS")},{value:"IS_NOT",text:O("ISNOT")}],values:[{value:"TODO",text:O("TODO")},{value:"DONE",text:O("DONE")},{value:"LIST",text:O("JOURNAL")},{value:"OTHER",text:O("OTHER")}]},SOURCE:{value:"SOURCE",text:O("SOURCE"),operators:[{value:"IS",text:O("IS")},{value:"IS_NOT",text:O("ISNOT")}],values:[{value:"DAILY",text:O("DAILY")},{value:"MULTI",text:O("MULTI")},{value:"FILE",text:O("FILE")},{value:"CANVAS",text:O("CANVAS")}]}},p1=ol.TYPE.values,z7=e=>{for(const t of p1)if(t.value===e)return t.text;return""},fD=()=>({type:"TAG",value:{operator:"CONTAIN",value:""},relation:"AND"}),Dh=(e,t)=>{let n=!0;for(const r of t){const{relation:a}=r,i=$7(e,r);a==="OR"?n=n||i:n=n&&i}return n},$7=(e,t)=>{const{type:n,value:{operator:r,value:a}}=t;if(a==="")return!0;let i=!0;if(n==="TAG"){let s=!0;const c=new Set;for(const d of Array.from(e.content.match(or)??[])){const g=d.replace(or,"$1").trim().split("/");let m="";for(const w of g)m+=w,c.add(m),m+="/"}for(const d of Array.from(e.content.match(Rr)??[])){const g=d.replace(Rr,"$1").trim().split("/");let m="";for(const w of g)m+=w,c.add(m),m+="/"}c.has(a)||(s=!1),r==="NOT_CONTAIN"&&(s=!s),i=s}else if(n==="TYPE"){let s=!1;(a==="NOT_TAGGED"&&e.content.match(or)===null&&e.content.match(Ra)===null||a==="LINKED"&&e.content.match(Af)!==null||a==="IMAGED"&&e.content.match(Of)!==null||a==="CONNECTED"&&e.content.match(Fu)!==null)&&(s=!0),r==="IS_NOT"&&(s=!s),i=s}else if(n==="TEXT"){let s=e.content.toLowerCase().includes(a.toLowerCase());r==="NOT_CONTAIN"&&(s=!s),i=s}else if(n==="LIST"){let c=(e.thinoType==="JOURNAL"?"LIST":e.thinoType==="TASK-TODO"?"TODO":e.thinoType==="TASK-DONE"?"DONE":"OTHER").contains(a);r==="IS_NOT"&&(c=!c),i=c}else if(n==="SOURCE"){let s=e.sourceType===a;r==="IS_NOT"&&(s=!s),i=s}else if(n==="DATE"){const s=I.moment(a,"YYYY-MM-DD").isValid();let c,d;if(s)c=I.moment(a,"YYYY-MM-DD"),d=c.isBefore(I.moment(e.createdAt,"YYYY-MM-DD HH:mm:ss"),"day");else{const g=(app.plugins.enabledPlugins.has("nldates-obsidian")&&app.plugins.getPlugin("nldates-obsidian")).parseDate(a);g.date!==null&&(d=g.moment.isBefore(I.moment(e.createdAt),"day"))}r==="NOT_CONTAIN"&&(d=!d),i=d}return i=e.linkId===""?i:!1,i},W7={text:O("SELECT"),value:""},q7=e=>{const{className:t,dataSource:n,handleValueChanged:r,value:a}=e,[i,s]=Ao(!1),c=A.useRef(null);let d=W7;for(const m of n)if(m.value===a){d=m;break}A.useEffect(()=>{if(i){const m=w=>{var b;(b=c.current)!=null&&b.contains(w.target)||s(!1)};window.addEventListener("click",m,{capture:!0,once:!0})}},[i]);const h=m=>{r&&r(m.value),s(!1)},g=m=>{m.stopPropagation(),s()};return D.jsxs("div",{className:`selector-wrapper ${t??""}`,ref:c,children:[D.jsxs("div",{className:`current-value-container ${i?"active":""}`,onClick:g,children:[D.jsx("span",{className:"value-text",children:d.text}),D.jsx("span",{ref:m=>{m&&I.setIcon(m,"chevron-right")},className:"btn arrow-text"})]}),D.jsx("div",{className:`items-wrapper ${i?"":"hidden"}`,children:n.map(m=>D.jsx("div",{className:`item-container ${m.value===a?"selected":""}`,onClick:()=>{h(m)},children:m.text},m.value))})]})},ff=A.memo(q7);var dD=function(t){return t.reduce(function(n,r){var a=r[0],i=r[1];return n[a]=i,n},{})},pD=typeof window<"u"&&window.document&&window.document.createElement?A.useLayoutEffect:A.useEffect,pa="top",ro="bottom",ao="right",ha="left",sb="auto",Sh=[pa,ro,ao,ha],Df="start",Wp="end",G7="clippingParents",b3="viewport",Mp="popper",K7="reference",hD=Sh.reduce(function(e,t){return e.concat([t+"-"+Df,t+"-"+Wp])},[]),lb=[].concat(Sh,[sb]).reduce(function(e,t){return e.concat([t,t+"-"+Df,t+"-"+Wp])},[]),Q7="beforeRead",Z7="read",J7="afterRead",X7="beforeMain",e9="main",t9="afterMain",n9="beforeWrite",r9="write",a9="afterWrite",o9=[Q7,Z7,J7,X7,e9,t9,n9,r9,a9];function Si(e){return e?(e.nodeName||"").toLowerCase():null}function _a(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Eu(e){var t=_a(e).Element;return e instanceof t||e instanceof Element}function no(e){var t=_a(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ub(e){if(typeof ShadowRoot>"u")return!1;var t=_a(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function i9(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},i=t.elements[n];!no(i)||!Si(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(s){var c=a[s];c===!1?i.removeAttribute(s):i.setAttribute(s,c===!0?"":c)}))})}function s9(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=s.reduce(function(d,h){return d[h]="",d},{});!no(a)||!Si(a)||(Object.assign(a.style,c),Object.keys(i).forEach(function(d){a.removeAttribute(d)}))})}}const l9={name:"applyStyles",enabled:!0,phase:"write",fn:i9,effect:s9,requires:["computeStyles"]};function Di(e){return e.split("-")[0]}var Du=Math.max,ev=Math.min,Sf=Math.round;function h1(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function w3(){return!/^((?!chrome|android).)*safari/i.test(h1())}function Ef(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&no(e)&&(a=e.offsetWidth>0&&Sf(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Sf(r.height)/e.offsetHeight||1);var s=Eu(e)?_a(e):window,c=s.visualViewport,d=!w3()&&n,h=(r.left+(d&&c?c.offsetLeft:0))/a,g=(r.top+(d&&c?c.offsetTop:0))/i,m=r.width/a,w=r.height/i;return{width:m,height:w,top:g,right:h+m,bottom:g+w,left:h,x:h,y:g}}function cb(e){var t=Ef(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function D3(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ub(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function is(e){return _a(e).getComputedStyle(e)}function u9(e){return["table","td","th"].indexOf(Si(e))>=0}function vl(e){return((Eu(e)?e.ownerDocument:e.document)||window.document).documentElement}function Mv(e){return Si(e)==="html"?e:e.assignedSlot||e.parentNode||(ub(e)?e.host:null)||vl(e)}function mD(e){return!no(e)||is(e).position==="fixed"?null:e.offsetParent}function c9(e){var t=/firefox/i.test(h1()),n=/Trident/i.test(h1());if(n&&no(e)){var r=is(e);if(r.position==="fixed")return null}var a=Mv(e);for(ub(a)&&(a=a.host);no(a)&&["html","body"].indexOf(Si(a))<0;){var i=is(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Eh(e){for(var t=_a(e),n=mD(e);n&&u9(n)&&is(n).position==="static";)n=mD(n);return n&&(Si(n)==="html"||Si(n)==="body"&&is(n).position==="static")?t:n||c9(e)||t}function fb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Yp(e,t,n){return Du(e,ev(t,n))}function f9(e,t,n){var r=Yp(e,t,n);return r>n?n:r}function S3(){return{top:0,right:0,bottom:0,left:0}}function E3(e){return Object.assign({},S3(),e)}function T3(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var d9=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,E3(typeof t!="number"?t:T3(t,Sh))};function p9(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,c=Di(n.placement),d=fb(c),h=[ha,ao].indexOf(c)>=0,g=h?"height":"width";if(!(!i||!s)){var m=d9(a.padding,n),w=cb(i),b=d==="y"?pa:ha,T=d==="y"?ro:ao,E=n.rects.reference[g]+n.rects.reference[d]-s[d]-n.rects.popper[g],k=s[d]-n.rects.reference[d],M=Eh(i),F=M?d==="y"?M.clientHeight||0:M.clientWidth||0:0,B=E/2-k/2,N=m[b],P=F-w[g]-m[T],R=F/2-w[g]/2+B,j=Yp(N,R,P),$=d;n.modifiersData[r]=(t={},t[$]=j,t.centerOffset=j-R,t)}}function h9(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||D3(t.elements.popper,a)&&(t.elements.arrow=a))}const C3={name:"arrow",enabled:!0,phase:"main",fn:p9,effect:h9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Tf(e){return e.split("-")[1]}var m9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function g9(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:Sf(n*a)/a||0,y:Sf(r*a)/a||0}}function gD(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,s=e.offsets,c=e.position,d=e.gpuAcceleration,h=e.adaptive,g=e.roundOffsets,m=e.isFixed,w=s.x,b=w===void 0?0:w,T=s.y,E=T===void 0?0:T,k=typeof g=="function"?g({x:b,y:E}):{x:b,y:E};b=k.x,E=k.y;var M=s.hasOwnProperty("x"),F=s.hasOwnProperty("y"),B=ha,N=pa,P=window;if(h){var R=Eh(n),j="clientHeight",$="clientWidth";if(R===_a(n)&&(R=vl(n),is(R).position!=="static"&&c==="absolute"&&(j="scrollHeight",$="scrollWidth")),a===pa||(a===ha||a===ao)&&i===Wp){N=ro;var W=m&&R===P&&P.visualViewport?P.visualViewport.height:R[j];E-=W-r.height,E*=d?1:-1}if(a===ha||(a===pa||a===ro)&&i===Wp){B=ao;var z=m&&R===P&&P.visualViewport?P.visualViewport.width:R[$];b-=z-r.width,b*=d?1:-1}}var X=Object.assign({position:c},h&&m9),oe=g===!0?g9({x:b,y:E},_a(n)):{x:b,y:E};if(b=oe.x,E=oe.y,d){var ee;return Object.assign({},X,(ee={},ee[N]=F?"0":"",ee[B]=M?"0":"",ee.transform=(P.devicePixelRatio||1)<=1?"translate("+b+"px, "+E+"px)":"translate3d("+b+"px, "+E+"px, 0)",ee))}return Object.assign({},X,(t={},t[N]=F?E+"px":"",t[B]=M?b+"px":"",t.transform="",t))}function v9(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,c=n.roundOffsets,d=c===void 0?!0:c,h={placement:Di(t.placement),variation:Tf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,gD(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,gD(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const x3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:v9,data:{}};var yg={passive:!0};function y9(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,s=r.resize,c=s===void 0?!0:s,d=_a(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&h.forEach(function(g){g.addEventListener("scroll",n.update,yg)}),c&&d.addEventListener("resize",n.update,yg),function(){i&&h.forEach(function(g){g.removeEventListener("scroll",n.update,yg)}),c&&d.removeEventListener("resize",n.update,yg)}}const M3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:y9,data:{}};var b9={left:"right",right:"left",bottom:"top",top:"bottom"};function jg(e){return e.replace(/left|right|bottom|top/g,function(t){return b9[t]})}var w9={start:"end",end:"start"};function vD(e){return e.replace(/start|end/g,function(t){return w9[t]})}function db(e){var t=_a(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function pb(e){return Ef(vl(e)).left+db(e).scrollLeft}function D9(e,t){var n=_a(e),r=vl(e),a=n.visualViewport,i=r.clientWidth,s=r.clientHeight,c=0,d=0;if(a){i=a.width,s=a.height;var h=w3();(h||!h&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:i,height:s,x:c+pb(e),y:d}}function S9(e){var t,n=vl(e),r=db(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=Du(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Du(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-r.scrollLeft+pb(e),d=-r.scrollTop;return is(a||n).direction==="rtl"&&(c+=Du(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:c,y:d}}function hb(e){var t=is(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function k3(e){return["html","body","#document"].indexOf(Si(e))>=0?e.ownerDocument.body:no(e)&&hb(e)?e:k3(Mv(e))}function Hp(e,t){var n;t===void 0&&(t=[]);var r=k3(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=_a(r),s=a?[i].concat(i.visualViewport||[],hb(r)?r:[]):r,c=t.concat(s);return a?c:c.concat(Hp(Mv(s)))}function m1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function E9(e,t){var n=Ef(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function yD(e,t,n){return t===b3?m1(D9(e,n)):Eu(t)?E9(t,n):m1(S9(vl(e)))}function T9(e){var t=Hp(Mv(e)),n=["absolute","fixed"].indexOf(is(e).position)>=0,r=n&&no(e)?Eh(e):e;return Eu(r)?t.filter(function(a){return Eu(a)&&D3(a,r)&&Si(a)!=="body"}):[]}function C9(e,t,n,r){var a=t==="clippingParents"?T9(e):[].concat(t),i=[].concat(a,[n]),s=i[0],c=i.reduce(function(d,h){var g=yD(e,h,r);return d.top=Du(g.top,d.top),d.right=ev(g.right,d.right),d.bottom=ev(g.bottom,d.bottom),d.left=Du(g.left,d.left),d},yD(e,s,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function I3(e){var t=e.reference,n=e.element,r=e.placement,a=r?Di(r):null,i=r?Tf(r):null,s=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,d;switch(a){case pa:d={x:s,y:t.y-n.height};break;case ro:d={x:s,y:t.y+t.height};break;case ao:d={x:t.x+t.width,y:c};break;case ha:d={x:t.x-n.width,y:c};break;default:d={x:t.x,y:t.y}}var h=a?fb(a):null;if(h!=null){var g=h==="y"?"height":"width";switch(i){case Df:d[h]=d[h]-(t[g]/2-n[g]/2);break;case Wp:d[h]=d[h]+(t[g]/2-n[g]/2);break}}return d}function qp(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.strategy,s=i===void 0?e.strategy:i,c=n.boundary,d=c===void 0?G7:c,h=n.rootBoundary,g=h===void 0?b3:h,m=n.elementContext,w=m===void 0?Mp:m,b=n.altBoundary,T=b===void 0?!1:b,E=n.padding,k=E===void 0?0:E,M=E3(typeof k!="number"?k:T3(k,Sh)),F=w===Mp?K7:Mp,B=e.rects.popper,N=e.elements[T?F:w],P=C9(Eu(N)?N:N.contextElement||vl(e.elements.popper),d,g,s),R=Ef(e.elements.reference),j=I3({reference:R,element:B,strategy:"absolute",placement:a}),$=m1(Object.assign({},B,j)),W=w===Mp?$:R,z={top:P.top-W.top+M.top,bottom:W.bottom-P.bottom+M.bottom,left:P.left-W.left+M.left,right:W.right-P.right+M.right},X=e.modifiersData.offset;if(w===Mp&&X){var oe=X[a];Object.keys(z).forEach(function(ee){var de=[ao,ro].indexOf(ee)>=0?1:-1,fe=[pa,ro].indexOf(ee)>=0?"y":"x";z[ee]+=oe[fe]*de})}return z}function x9(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,s=n.padding,c=n.flipVariations,d=n.allowedAutoPlacements,h=d===void 0?lb:d,g=Tf(r),m=g?c?hD:hD.filter(function(T){return Tf(T)===g}):Sh,w=m.filter(function(T){return h.indexOf(T)>=0});w.length===0&&(w=m);var b=w.reduce(function(T,E){return T[E]=qp(e,{placement:E,boundary:a,rootBoundary:i,padding:s})[Di(E)],T},{});return Object.keys(b).sort(function(T,E){return b[T]-b[E]})}function M9(e){if(Di(e)===sb)return[];var t=jg(e);return[vD(e),t,vD(t)]}function k9(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,c=s===void 0?!0:s,d=n.fallbackPlacements,h=n.padding,g=n.boundary,m=n.rootBoundary,w=n.altBoundary,b=n.flipVariations,T=b===void 0?!0:b,E=n.allowedAutoPlacements,k=t.options.placement,M=Di(k),F=M===k,B=d||(F||!T?[jg(k)]:M9(k)),N=[k].concat(B).reduce(function(ue,be){return ue.concat(Di(be)===sb?x9(t,{placement:be,boundary:g,rootBoundary:m,padding:h,flipVariations:T,allowedAutoPlacements:E}):be)},[]),P=t.rects.reference,R=t.rects.popper,j=new Map,$=!0,W=N[0],z=0;z<N.length;z++){var X=N[z],oe=Di(X),ee=Tf(X)===Df,de=[pa,ro].indexOf(oe)>=0,fe=de?"width":"height",De=qp(t,{placement:X,boundary:g,rootBoundary:m,altBoundary:w,padding:h}),xe=de?ee?ao:ha:ee?ro:pa;P[fe]>R[fe]&&(xe=jg(xe));var pe=jg(xe),we=[];if(i&&we.push(De[oe]<=0),c&&we.push(De[xe]<=0,De[pe]<=0),we.every(function(ue){return ue})){W=X,$=!1;break}j.set(X,we)}if($)for(var U=T?3:1,G=function(be){var Re=N.find(function(He){var Pe=j.get(He);if(Pe)return Pe.slice(0,be).every(function(yt){return yt})});if(Re)return W=Re,"break"},ie=U;ie>0;ie--){var ye=G(ie);if(ye==="break")break}t.placement!==W&&(t.modifiersData[r]._skip=!0,t.placement=W,t.reset=!0)}}const N3={name:"flip",enabled:!0,phase:"main",fn:k9,requiresIfExists:["offset"],data:{_skip:!1}};function bD(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function wD(e){return[pa,ao,ro,ha].some(function(t){return e[t]>=0})}function I9(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,s=qp(t,{elementContext:"reference"}),c=qp(t,{altBoundary:!0}),d=bD(s,r),h=bD(c,a,i),g=wD(d),m=wD(h);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:g,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":m})}const F3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:I9};function N9(e,t,n){var r=Di(e),a=[ha,pa].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=i[0],c=i[1];return s=s||0,c=(c||0)*a,[ha,ao].indexOf(r)>=0?{x:c,y:s}:{x:s,y:c}}function F9(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,s=lb.reduce(function(g,m){return g[m]=N9(m,t.rects,i),g},{}),c=s[t.placement],d=c.x,h=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}const A3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:F9};function A9(e){var t=e.state,n=e.name;t.modifiersData[n]=I3({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const O3={name:"popperOffsets",enabled:!0,phase:"read",fn:A9,data:{}};function O9(e){return e==="x"?"y":"x"}function R9(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,s=n.altAxis,c=s===void 0?!1:s,d=n.boundary,h=n.rootBoundary,g=n.altBoundary,m=n.padding,w=n.tether,b=w===void 0?!0:w,T=n.tetherOffset,E=T===void 0?0:T,k=qp(t,{boundary:d,rootBoundary:h,padding:m,altBoundary:g}),M=Di(t.placement),F=Tf(t.placement),B=!F,N=fb(M),P=O9(N),R=t.modifiersData.popperOffsets,j=t.rects.reference,$=t.rects.popper,W=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,z=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),X=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,oe={x:0,y:0};if(R){if(i){var ee,de=N==="y"?pa:ha,fe=N==="y"?ro:ao,De=N==="y"?"height":"width",xe=R[N],pe=xe+k[de],we=xe-k[fe],U=b?-$[De]/2:0,G=F===Df?j[De]:$[De],ie=F===Df?-$[De]:-j[De],ye=t.elements.arrow,ue=b&&ye?cb(ye):{width:0,height:0},be=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:S3(),Re=be[de],He=be[fe],Pe=Yp(0,j[De],ue[De]),yt=B?j[De]/2-U-Pe-Re-z.mainAxis:G-Pe-Re-z.mainAxis,Se=B?-j[De]/2+U+Pe+He+z.mainAxis:ie+Pe+He+z.mainAxis,$e=t.elements.arrow&&Eh(t.elements.arrow),Ze=$e?N==="y"?$e.clientTop||0:$e.clientLeft||0:0,Xe=(ee=X==null?void 0:X[N])!=null?ee:0,Ge=xe+yt-Xe-Ze,tt=xe+Se-Xe,Dt=Yp(b?ev(pe,Ge):pe,xe,b?Du(we,tt):we);R[N]=Dt,oe[N]=Dt-xe}if(c){var dt,Vt=N==="x"?pa:ha,ja=N==="x"?ro:ao,cn=R[P],en=P==="y"?"height":"width",br=cn+k[Vt],wr=cn-k[ja],Lo=[pa,ha].indexOf(M)!==-1,ga=(dt=X==null?void 0:X[P])!=null?dt:0,io=Lo?br:cn-j[en]-$[en]-ga+z.altAxis,Kr=Lo?cn+j[en]+$[en]-ga-z.altAxis:wr,Dr=b&&Lo?f9(io,cn,Kr):Yp(b?io:br,cn,b?Kr:wr);R[P]=Dr,oe[P]=Dr-cn}t.modifiersData[r]=oe}}const R3={name:"preventOverflow",enabled:!0,phase:"main",fn:R9,requiresIfExists:["offset"]};function L9(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _9(e){return e===_a(e)||!no(e)?db(e):L9(e)}function P9(e){var t=e.getBoundingClientRect(),n=Sf(t.width)/e.offsetWidth||1,r=Sf(t.height)/e.offsetHeight||1;return n!==1||r!==1}function j9(e,t,n){n===void 0&&(n=!1);var r=no(t),a=no(t)&&P9(t),i=vl(t),s=Ef(e,a,n),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((Si(t)!=="body"||hb(i))&&(c=_9(t)),no(t)?(d=Ef(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=pb(i))),{x:s.left+c.scrollLeft-d.x,y:s.top+c.scrollTop-d.y,width:s.width,height:s.height}}function B9(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(c){if(!n.has(c)){var d=t.get(c);d&&a(d)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function Y9(e){var t=B9(e);return o9.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function H9(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function U9(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var DD={placement:"bottom",modifiers:[],strategy:"absolute"};function SD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function L3(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?DD:a;return function(c,d,h){h===void 0&&(h=i);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},DD,i),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},m=[],w=!1,b={state:g,setOptions:function(M){var F=typeof M=="function"?M(g.options):M;E(),g.options=Object.assign({},i,g.options,F),g.scrollParents={reference:Eu(c)?Hp(c):c.contextElement?Hp(c.contextElement):[],popper:Hp(d)};var B=Y9(U9([].concat(r,g.options.modifiers)));return g.orderedModifiers=B.filter(function(N){return N.enabled}),T(),b.update()},forceUpdate:function(){if(!w){var M=g.elements,F=M.reference,B=M.popper;if(SD(F,B)){g.rects={reference:j9(F,Eh(B),g.options.strategy==="fixed"),popper:cb(B)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(z){return g.modifiersData[z.name]=Object.assign({},z.data)});for(var N=0;N<g.orderedModifiers.length;N++){if(g.reset===!0){g.reset=!1,N=-1;continue}var P=g.orderedModifiers[N],R=P.fn,j=P.options,$=j===void 0?{}:j,W=P.name;typeof R=="function"&&(g=R({state:g,options:$,name:W,instance:b})||g)}}}},update:H9(function(){return new Promise(function(k){b.forceUpdate(),k(g)})}),destroy:function(){E(),w=!0}};if(!SD(c,d))return b;b.setOptions(h).then(function(k){!w&&h.onFirstUpdate&&h.onFirstUpdate(k)});function T(){g.orderedModifiers.forEach(function(k){var M=k.name,F=k.options,B=F===void 0?{}:F,N=k.effect;if(typeof N=="function"){var P=N({state:g,name:M,instance:b,options:B}),R=function(){};m.push(P||R)}})}function E(){m.forEach(function(k){return k()}),m=[]}return b}}var V9=[M3,O3,x3,l9,A3,N3,R3,C3,F3],_3=L3({defaultModifiers:V9}),z9=typeof Element<"u",$9=typeof Map=="function",W9=typeof Set=="function",q9=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Bg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Bg(e[r],t[r]))return!1;return!0}var i;if($9&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!Bg(r.value[1],t.get(r.value[0])))return!1;return!0}if(W9&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(q9&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if(z9&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!Bg(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var G9=function(t,n){try{return Bg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return!1;throw r}};const K9=$n(G9);var Q9=[],kv=function(t,n,r){r===void 0&&(r={});var a=A.useRef(null),i={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||Q9},s=A.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=s[0],d=s[1],h=A.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(b){var T=b.state,E=Object.keys(T.elements);ob.flushSync(function(){d({styles:dD(E.map(function(k){return[k,T.styles[k]||{}]})),attributes:dD(E.map(function(k){return[k,T.attributes[k]]}))})})},requires:["computeStyles"]}},[]),g=A.useMemo(function(){var w={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[h,{name:"applyStyles",enabled:!1}])};return K9(a.current,w)?a.current||w:(a.current=w,w)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,h]),m=A.useRef();return pD(function(){m.current&&m.current.setOptions(g)},[g]),pD(function(){if(!(t==null||n==null)){var w=r.createPopper||_3,b=w(t,n,g);return m.current=b,function(){b.destroy(),m.current=null}}},[t,n,r.createPopper]),{state:m.current?m.current.state:null,styles:c.styles,attributes:c.attributes,update:m.current?m.current.update:null,forceUpdate:m.current?m.current.forceUpdate:null}},Z9=function(){},J9=Z9;const X9=$n(J9),eI=[{label:O("Today"),value:I.moment().format("YYYY-MM-DD")},{label:O("Yesterday"),value:I.moment().subtract(1,"days").format("YYYY-MM-DD")},{label:O("Last 7 days"),value:I.moment().subtract(7,"days").format("YYYY-MM-DD")},{label:O("Last 30 days"),value:I.moment().subtract(30,"days").format("YYYY-MM-DD")},{label:O("Last 90 days"),value:I.moment().subtract(90,"days").format("YYYY-MM-DD")},{label:O("Last 180 days"),value:I.moment().subtract(180,"days").format("YYYY-MM-DD")},{label:O("Last 365 days"),value:I.moment().subtract(365,"days").format("YYYY-MM-DD")}],P3=e=>{const{handleValueChange:t,setShownStatus:n}=e;return D.jsxs(D.Fragment,{children:[e.type==="icon"&&D.jsx("div",{className:"quick-date-btn-group",children:eI.map((r,a)=>D.jsx("div",{className:"btn action-btn quick-date-btn",onClick:()=>{t(r.value),n&&n(!1)},children:r.label},a))}),D.jsx(Cv,{className:"calendar-date-picker",datestamp:(e==null?void 0:e.defaultValue)||I.moment().startOf("day").valueOf(),handleDateStampChange:(r,a)=>{t(e.type==="icon"?I.moment(r).format("YYYY-MM-DD"):r.toString()),n&&n(!1)}})]})},tv=e=>{const{handleValueChange:t}=e,[n,r]=Q.useState(!1),a=Q.useRef(null),i=Q.useRef(null),s=kv(i.current,a.current,{placement:"bottom-start"});return wh(a,()=>{r(!1)}),D.jsxs(D.Fragment,{children:[D.jsx("span",{ref:d=>{i.current=d,d&&e.type==="icon"&&I.setIcon(d,"calendar")},className:`btn calendar-btn ${e.type==="icon"?"icon-btn":"text-btn"}`,onClick:()=>{!I.Platform.isMobile&&r(!n),!I.Platform.isMobile&&(s!=null&&s.update)&&(s==null||s.update()),I.Platform.isMobile&&new j3(ut.getState().app,e.type,t).open()},children:e.type==="text"&&e.defaultValue?e.defaultText?e.defaultText:I.moment(e.defaultValue,"x").subtract(e.startOrEnd==="end"?1:0,"days").format("YYYY/MM/DD"):""}),D.jsx("div",{className:`menu-btns-popup ${n?"":"hidden"}`,ref:a,style:s.styles.popper,children:D.jsx(P3,{type:e.defaultText?"icon":e.type,handleValueChange:t,setShownStatus:r})})]})};class j3 extends I.Modal{constructor(n,r,a){super(n);ve(this,"root");ve(this,"type");ve(this,"handleValueChange");this.type=r,this.handleValueChange=a}onOpen(){const{contentEl:n}=this;this.root=Tv(n),this.root.render(D.jsx(P3,{type:this.type,handleValueChange:this.handleValueChange,setShownStatus:r=>{!r&&this.close()}}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const tI=(e,t)=>(e%t+t)%t;class nI{constructor(t,n,r){ve(this,"owner");ve(this,"values");ve(this,"suggestions");ve(this,"selectedItem");ve(this,"containerEl");this.owner=t,this.containerEl=n,n.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),n.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),r.register([],"ArrowUp",a=>{if(!a.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),r.register([],"ArrowDown",a=>{if(!a.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),r.register([],"Enter",a=>{if(!a.isComposing)return this.useSelectedItem(a),!1})}onSuggestionClick(t,n){t.preventDefault();const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,n){const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1)}setSuggestions(t){this.containerEl.empty();const n=[];t.forEach(r=>{const a=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(r,a),n.push(a)}),this.values=t,this.suggestions=n,this.setSelectedItem(0,!1)}useSelectedItem(t){const n=this.values[this.selectedItem];n&&this.owner.selectSuggestion(n,t)}setSelectedItem(t,n){const r=tI(t,this.suggestions.length),a=this.suggestions[this.selectedItem],i=this.suggestions[r];a==null||a.removeClass("is-selected"),i==null||i.addClass("is-selected"),this.selectedItem=r,n&&i.scrollIntoView(!1)}}class B3{constructor(t,n){ve(this,"inputEl");ve(this,"popper");ve(this,"scope");ve(this,"suggestEl");ve(this,"suggest");this.cb=n,this.inputEl=t,this.scope=new I.Scope,this.suggestEl=createDiv("suggestion-container");const r=this.suggestEl.createDiv("suggestion");this.suggest=new nI(this,r,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",a=>{a.preventDefault()})}onInputChanged(){const t=this.inputEl.value,n=this.getSuggestions(t);if(!n){this.close();return}n.length>0?(this.suggest.setSuggestions(n),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(t,n){app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=_3(n,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:r,instance:a})=>{const i=`${r.rects.reference.width}px`;r.styles.popper.width!==i&&(r.styles.popper.width=i,a.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}destroy(){this.inputEl.removeEventListener("input",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("blur",this.close.bind(this)),this.close()}}const rI=e=>{const t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())};let aI=class extends B3{fuzzySearchItemsOptimized(t,n){const r=I.prepareFuzzySearch(t);return n.map(a=>{const i=r(a);return i?{item:a,match:i,score:i.score}:null}).sort((a,i)=>(i==null?void 0:i.score)-(a==null?void 0:a.score)).filter(Boolean)}getSuggestions(t){const{settings:n,app:r}=ut.getState(),a=t.toLocaleLowerCase(),i=n.UseVaultTags?rI(r):Me.getState().tags;return this.fuzzySearchItemsOptimized(a,i).map(s=>s.item)}renderSuggestion(t,n){n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:t})}selectSuggestion(t){this.inputEl.value=t,this.inputEl.dispatchEvent(new Event("change")),this.cb&&this.cb(t),this.close()}};function vr(){const e=document.createDocumentFragment();e.createEl("div",{cls:"thino-info"}).createEl("div",{text:O("This is a pro feature, please upgrade to pro version to use it.")});const r=e.createEl("div",{cls:"thino-link"}).createEl("div",{text:O("You can get pro version from: ")}),a=localStorage.getItem("language");let i="https://pkmer.cn/products/UserProfile/";a&&a==="zh"?i="https://pkmer.cn/products/thino/":i="https://thino.pkmer.net/en/",r.createEl("a",{text:"PKMer",attr:{href:i}}),new I.Notice(e,5e3)}const mb=e=>{const{destroy:t,queryId:n,type:r="dialog"}=e,[a,i]=A.useState(""),[s,c]=A.useState(r!=="dialog"?[fD()]:[]),d=Hf(!1),[h,g]=A.useState(!1),[m,w]=Ao(!1),b=Me.getState().memos.filter(R=>!(R.deletedAt!==""&&R.deletedAt)).filter(R=>Dh(R,s)).length;A.useEffect(()=>{T()},[n]);const T=()=>{const R=ln.getQueryById(n??"");if(R){i(R.title);const j=JSON.parse(R.querystring);return Array.isArray(j)&&c(j),R}},E=R=>{const j=R.target.value;i(j)},k=async()=>{if(!a)return new I.Notice(O("TITLE CANNOT BE NULL!")),null;if(s.length===0)return new I.Notice(O("FILTER CANNOT BE NULL!")),null;if(s.length===1&&s[s.length-1].value.value==="")return new I.Notice(O("Please finish the last filter setting first")),null;let R;try{n&&!n.startsWith("Filter [Temp] ")?(R=await ln.updateQuery(n,a,JSON.stringify(s)),ln.editQuery(R),await ln.getMyAllQueries()):(R=await ln.createQuery(a,JSON.stringify(s)),ln.pushQuery(R),await ln.getMyAllQueries())}catch(j){new I.Notice(j.message)}return R},M=async()=>{switch(r){case"modal":case"inline":if(s.length===0){new I.Notice(O("FILTER CANNOT BE NULL!"));return}if(s.length===1&&s[s.length-1].value.value===""){new I.Notice(O("Please finish the last filter setting first"));return}try{const R=ln.getQueryById(n??"");if(R&&JSON.stringify(s)===R.querystring){it.setMemoFilter(R.id),t();return}const j=ln.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(s));ln.pushQuery(j),it.setMemoFilter(j.id)}catch(R){new I.Notice(R.message)}t();break;case"dialog":try{if(!await k())return}catch(R){new I.Notice(R.message)}t();break}},F=()=>{if(s.length===0){new I.Notice(O("FILTER CANNOT BE NULL!"));return}if(h){it.setMemoFilter(""),g(!1);return}const R=ln.getQueryById(n??"");if(R&&JSON.stringify(s)===R.querystring){it.setMemoFilter(R.id);return}const j=ln.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(s));ln.pushQuery(j),it.setMemoFilter(j.id),e.setPreview&&e.setPreview(j.id),g(!0)},B=()=>{if(s.length>0&&s[s.length-1].value.value===""){new I.Notice(O("Please finish the last filter setting first"));return}c([...s,fD()])},N=A.useCallback((R,j)=>{c($=>{const W=[...$];return W[R]=j,W})},[]),P=A.useCallback(R=>{c(j=>j.filter((W,z)=>z!==R))},[]);return D.jsxs(D.Fragment,{children:[r==="dialog"&&D.jsxs("div",{className:"dialog-header-container",children:[D.jsxs("span",{className:"title-text",children:[D.jsx("span",{className:"icon-text",children:"🔖"}),O(n?"EDIT QUERY":"CREATE QUERY")]}),D.jsx("button",{ref:R=>{R&&I.setIcon(R,"x")},className:"btn close-btn",onClick:t})]}),D.jsxs("div",{className:"dialog-content-container",children:[(r==="dialog"||m)&&D.jsxs("div",{className:"form-item-container input-form-container",children:[D.jsx("span",{className:"normal-text",children:O("TITLE")}),D.jsx("input",{className:"title-input",type:"text",value:a,onChange:E})]}),D.jsxs("div",{className:"form-item-container filter-form-container",children:[D.jsx("span",{className:"normal-text",children:O("FILTER")}),D.jsxs("div",{className:"filters-wrapper",children:[s.map((R,j)=>D.jsx(iI,{index:j,filter:R,handleFilterChange:N,handleFilterRemove:P},j)),D.jsx("div",{className:"create-filter-btn",onClick:B,children:O("ADD FILTER TERMS")})]})]})]}),D.jsx("div",{className:"dialog-footer-container",children:D.jsxs("div",{className:"btns-container",children:[(r==="inline"||r==="modal")&&D.jsx("button",{className:`btn ${m?"mod-cta":"save-btn"}`,onClick:async()=>{if(!m)w();else{const R=await k();w(!1),t(),R&&it.setMemoFilter(R.id)}},children:O(m?"Set and save":"Save")}),D.jsxs("div",{className:"btns-group-container",children:[D.jsxs("span",{className:`tip-text ${s.length===0&&"hidden"}`,children:[O("MATCH")," Thino ",D.jsx("strong",{children:b})," ",O("TIMES")]}),D.jsx(D.Fragment,{children:r==="inline"&&D.jsx("button",{className:"btn mod-cta",onClick:F,children:O("Preview")})}),D.jsx("button",{className:`btn save-btn ${d.isLoading?"requesting":""}`,onClick:M,children:O(r==="inline"||r==="modal"?"Filter":n?"EDIT":"Save")})]})]})})]})},oI=e=>{const{index:t,filter:n,handleFilterChange:r,handleFilterRemove:a}=e,{type:i}=n,s=A.useRef(null),c=A.useRef(null),d=A.useRef(n),h=A.useRef(i);A.useEffect(()=>{d.current=e.filter},[n]),A.useEffect(()=>{if(s.current)return i==="TAG"&&!c.current&&(h.current=i,c.current=new aI(s.current,b)),()=>{c.current&&(c.current.destroy(),c.current=null)}},[s,i]);const g=A.useCallback(k=>{["AND","OR"].includes(k)&&r(t,{...n,relation:k})},[n]),m=A.useCallback(k=>{if(n.type!==k){const{verifyState:M,plugin:F}=ut.getState(),B=I.Platform.isMobile?F.app.appId.replace(/\//g,"-"):F.app.appId,N=M&&(M==null?void 0:M.appId)===B;if(k==="SOURCE"&&!N){vr();return}const P=Object.values(ol[k].operators);r(t,{...n,type:k,value:{operator:P[0].value,value:""}})}},[n]),w=A.useCallback(k=>{r(t,{...n,value:{...n.value,operator:k}})},[n]),b=A.useCallback(k=>{r(t,{...d.current,value:{...d.current.value,value:k}})},[n]),T=()=>{a(t)},E={TYPE:D.jsx(ff,{className:"value-selector",dataSource:ol.TYPE.values,value:n.value.value,handleValueChanged:b}),LIST:D.jsx(ff,{className:"value-selector",dataSource:ol.LIST.values,value:n.value.value,handleValueChanged:b}),SOURCE:D.jsx(ff,{className:"value-selector",dataSource:ol.SOURCE.values,value:n.value.value,handleValueChanged:b}),TAG:D.jsx("input",{type:"text",id:Math.random().toString(36).substring(7),className:"value-inputer",ref:s,value:n.value.value,onChange:k=>{b(k.target.value)}}),TEXT:D.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:k=>{b(k.target.value)}}),DATE:D.jsxs("div",{className:"date-inputer",children:[D.jsx(tv,{type:"icon",handleValueChange:b}),D.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:k=>{b(k.target.value)}})]})};return D.jsxs("div",{className:"memo-filter-input-wrapper",children:[t>0&&D.jsx(ff,{className:"relation-selector",dataSource:V7,value:n.relation,handleValueChanged:g}),D.jsx(ff,{className:"type-selector",dataSource:Object.values(ol),value:n.type,handleValueChanged:m}),D.jsxs(D.Fragment,{children:[Object.keys(ol).includes(i)&&D.jsx(ff,{className:"operator-selector",dataSource:Object.values(ol[i].operators),value:n.value.operator,handleValueChanged:w}),E[i]]}),D.jsx("div",{ref:k=>{k&&I.setIcon(k,"x")},className:"btn remove-btn",onClick:T})]})},iI=A.memo(oI);function g1(e){bh({className:"create-query-dialog"},mb,{queryId:e})}const sI=()=>{const{queryState:{queries:e},dailyNotesState:{app:t},locationState:{query:{filter:n}}}=A.useContext(It),r=Hf(),[a,i]=A.useState([]);return A.useEffect(()=>{const s=e.filter(c=>{var d,h;return!((d=c.id)!=null&&d.toString().startsWith("Filter [Temp]"))&&!((h=c.id)!=null&&h.toString().includes("Filter [Temp]"))}).sort((c,d)=>{if(d.pinnedAt&&!c.pinnedAt)return 1;if(c.pinnedAt&&!d.pinnedAt)return-1;const h=Ue.getTimeStampByDate(c.pinnedAt||c.createdAt);return Ue.getTimeStampByDate(d.pinnedAt||d.createdAt)-h});i(s)},[e]),A.useEffect(()=>{ln.getMyAllQueries().catch(()=>{}).finally(()=>{r.setFinish()})},[t]),D.jsxs("div",{className:"queries-wrapper",children:[D.jsxs("span",{className:"title-text",children:[D.jsx("span",{className:"normal-text",children:O("QUERY")}),D.jsx("span",{ref:s=>{s&&I.setIcon(s,"plus")},className:"btn create-query-btn",onClick:()=>g1()})]}),D.jsx(Io,{when:r.isSucceed&&a.length===0,children:D.jsx("div",{className:"create-query-btn-container",children:D.jsx("span",{className:"btn",onClick:()=>g1(),children:O("CREATE FILTER")})})}),D.jsx("div",{className:"queries-container",children:a.map(s=>D.jsx(lI,{query:s,isActive:s.id===n},`${s.id}-${I.moment(s.createdAt,"YYYY-MM-DD HH:mm:ss").format("x")}`))})]})},lI=e=>{const{query:t,isActive:n}=e,[r,a]=Ao(!1),[i,s]=Ao(!1),c=()=>{it.setMemoFilter(n?"":t.id)},d=E=>{E.stopPropagation(),a()},h=()=>{a(!1)},g=async E=>{if(E.stopPropagation(),i)try{await ln.deleteQuery(t.id)}catch(k){new I.Notice(k.message)}else s()},m=E=>{E.stopPropagation(),g1(t.id)},w=async E=>{E.stopPropagation();try{t.pinnedAt?await ln.unpinQuery(t.id):await ln.pinQuery(t.id),ln.editQuery({...t,pinnedAt:t.pinnedAt?"":Ue.getDateTimeString(Date.now())})}catch{}},b=()=>{s(!1)},T=A.useMemo(()=>D.jsxs("div",{className:"action-btns-container",children:[D.jsxs("span",{className:"btn",onClick:w,children:[D.jsx("span",{ref:E=>{E&&I.setIcon(E,t.pinnedAt?"pin-off":"pin")},className:"icon-text"}),D.jsx("span",{className:"normal-text",children:t.pinnedAt?O("UNPIN"):O("PIN")})]}),D.jsxs("span",{className:"btn",onClick:m,children:[D.jsx("span",{ref:E=>{E&&!E.hasChildNodes()&&I.setIcon(E,"edit")},className:"icon-text"}),D.jsx("span",{className:"normal-text",children:O("EDIT")})]}),D.jsxs("span",{className:`btn delete-btn ${i?"final-confirm":""}`,onClick:g,onMouseLeave:b,children:[D.jsx("span",{ref:E=>{E&&!E.hasChildNodes()&&I.setIcon(E,"trash-2")},className:"icon-text"}),D.jsx("span",{className:"normal-text",children:O(i?"CONFIRM！":"DELETE")})]})]}),[t.pinnedAt,i]);return D.jsx(D.Fragment,{children:D.jsxs("div",{className:`query-item-container ${n?"active":""}`,onClick:c,children:[D.jsxs("div",{className:"query-text-container",children:[D.jsx("span",{ref:E=>{E&&!E.hasChildNodes()&&I.setIcon(E,"filter")},className:"icon-text"}),D.jsxs("span",{className:"query-text",children:[t.title,t.pinnedAt&&" 📌"]})]}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:E=>{E&&!E.hasChildNodes()&&I.setIcon(E,"more-horizontal")},className:"btn action-btn toggle-btn",onClick:d}),D.jsx("div",{className:`action-btns-wrapper ${r?"":"hidden"}`,onMouseLeave:h,children:T})]})]})})},uI=()=>{var g;const{locationState:{query:{tag:e}},dailyNotesState:{app:t},memoState:{tags:n,tagsNum:r,memos:a}}=A.useContext(It),[i,s]=A.useState([]),[c,d]=A.useState(((g=t||app)==null?void 0:g.loadLocalStorage("thino-tag-sort-order"))||"alphabetical");A.useEffect(()=>{var w;const m=(w=t||app)==null?void 0:w.loadLocalStorage("thino-temp-tags");s(m||[])},[]),A.useEffect(()=>{Me.updateTagsState()},[a]),A.useEffect(()=>{const m=Array.from(n).sort(),w={subTags:[]};for(const b of m){const T=b.split("/");let E=w,k="";for(let M=0;M<T.length;M++){const F=T[M];M===0?k+=F:k+="/"+F;let B=null;for(const N of E.subTags)if(N.text===k){B=N;break}B||(B={key:F,text:k,count:r[k],subTags:[]},E.subTags.push(B)),E=B}}s(w.subTags)},[n]),A.useEffect(()=>{var m;Me.initialized&&((m=t||app)==null||m.saveLocalStorage("thino-temp-tags",i))},[i]);const h=m=>{m.stopPropagation();const w=new I.Menu;for(const b of["alphabetical","alphabeticalReverse","byCount","byCountReverse"])w.addItem(T=>{T.setTitle(O(b)).onClick(()=>{d(b),t==null||t.saveLocalStorage("thino-tag-sort-order",b)}).setChecked(c===b)}),b==="alphabeticalReverse"&&w.addSeparator();w.showAtMouseEvent(m.nativeEvent)};return D.jsxs("div",{className:"tags-wrapper",children:[D.jsxs("div",{className:"tags-header title-text",children:[D.jsx("span",{className:"normal-text",children:O("Frequently Used Tags")}),D.jsx("span",{ref:m=>{m&&I.setIcon(m,"arrow-down-narrow-wide")},className:"tags-sort-btn",onClick:h})]}),D.jsxs("div",{className:"tags-container",children:[i.sort(cI(c)).map((m,w)=>D.jsx(Y3,{tag:m,tagQuery:e},m.text+"-"+w)),D.jsx(Io,{when:i.length<5&&Me.initialized,children:D.jsxs("span",{className:"tag-tip-container",children:[O("Input")," ",D.jsxs("span",{className:"code-text",children:[O("#Tag")," "]}),O("to create tag"),"..."]})})]})]})},Y3=e=>{const{tag:t,tagQuery:n}=e,r=n===t.text,a=t.subTags.length>0,[i,s]=Ao(!1),c=()=>{r?it.setTagQuery(""):(Ue.copyTextToClipboard(`#${t.text} `),["/","/recycle"].includes(it.getState().pathname)||it.setPathname("/"),it.setTagQuery(t.text))},d=h=>{h.stopPropagation(),s()};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:`tag-item-container ${r?"active":""}`,onClick:c,children:[D.jsxs("div",{className:"tag-text-container",children:[D.jsx("span",{ref:h=>{h&&I.setIcon(h,"hash")},className:"btn tag-btn"}),D.jsx("span",{className:"tag-text",children:t.key})]}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{className:"tag-count",children:t.count}),a?D.jsx("span",{ref:h=>{h&&I.setIcon(h,"chevron-right")},className:`btn action-btn toggle-btn ${i?"shown":""}`,onClick:d}):null]})]}),a?D.jsx("div",{className:`subtags-container ${i?"":"hidden"}`,children:t.subTags.map((h,g)=>D.jsx(Y3,{tag:h,tagQuery:n},h.text+"-"+g))}):null]})},ED=new Intl.Collator(void 0,{usage:"sort",sensitivity:"base",numeric:!0}).compare,b0={alphabetical:(e,t)=>ED(e.text,t.text),alphabeticalReverse:(e,t)=>-ED(e.text,t.text),byCount:(e,t)=>t.count-e.count,byCountReverse:(e,t)=>e.count-t.count},cI=(e="byCount")=>b0.hasOwnProperty(e)?b0[e]:b0.alphabetical;var w0=A,fI=function(e){return typeof e=="function"},dI=function(e){var t=w0.useState(e),n=t[0],r=t[1],a=w0.useRef(n),i=w0.useCallback(function(s){a.current=fI(s)?s(a.current):s,r(a.current)},[]);return[n,i,a]},pI=dI;const Ar=$n(pI);class ft extends I.Setting{constructor(n,r){super(n);ve(this,"settingTab");ve(this,"name","");ve(this,"desc","");this.settingTab=r}setName(n){return super.setName(n),this.name=n,this}setDesc(n){return super.setDesc(n),this.desc=n,this}setTab(n){const r=typeof this.name=="string"?this.name:this.name.textContent??"",a=typeof this.desc=="string"?this.desc:this.desc.textContent??"";return this.settingTab.addSettingToMasterSettingsList(n,this.settingEl,r,a),this}}class hI extends I.Modal{constructor(n,r,a,i,s){super(n);ve(this,"plugin");ve(this,"settingTab");ve(this,"target",5);ve(this,"cb");this.app=n,this.settingTab=r,this.plugin=a,this.target=i,this.cb=s}onOpen(){var c;const{contentEl:n}=this;(c=n.parentElement)==null||c.classList.add("memo-save-location-modal"),n.createEl("h3",{text:O("Thino Daily Target")});const r=n.createDiv("modal-setting");new ft(r,this.settingTab).setName(O("Target Thino Count")).addSlider(d=>{d.setDynamicTooltip().setValue(this.target).setLimits(1,30,1).onChange(async h=>{this.target=h})});const a=n.createDiv("button-group"),i=a.createEl("button",{text:O("Cancel")}),s=a.createEl("button",{text:O("Save")});s.onclick=async()=>{this.plugin.settings.MemoDailyTarget=this.target,this.settingTab.applySettingsUpdate(),this.cb(this.target),this.close()},i.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}const mI=({allStat:e,todayTimeStamp:t,calendarType:n,handleCalendarTypeChange:r})=>{const{dailyNotesState:{app:a,settings:i},globalState:{manifest:s}}=A.useContext(It),[c,d]=A.useState(),[h,g]=A.useState(5),[m,w]=A.useState(0),[b,T]=A.useState(0),[E,k]=A.useState(i.HeatmapColorScheme||"default"),M=A.useRef(null),F=A.useRef(null);A.useEffect(()=>{i.HeatmapColorScheme&&k(i.HeatmapColorScheme)},[i.HeatmapColorScheme]),A.useEffect(()=>{let N,P=5;s&&a&&(N=a==null?void 0:a.plugins.getPlugin(s.id),P=N==null?void 0:N.settings.MemoDailyTarget,d(N)),g(P)},[s,a]),A.useEffect(()=>{const N=e.find(j=>j.timestamp===t),P=N?N.count:0;T(P);const R=Math.min(100,P/h*100);w(R)},[e,h]),A.useEffect(()=>{I.requireApiVersion("1.4.4")&&(I.setTooltip(F.current,m.toFixed(2)+"%"),I.setTooltip(M.current,O("Set daily target")+` (${b}/${h})`))},[m,b]),A.useEffect(()=>{M.current&&(M.current.hasChildNodes()||I.setIcon(M.current,"crosshair"),I.requireApiVersion("1.4.4")&&I.setTooltip(F.current,m+"%"))},[M,h]);const B=A.useCallback(()=>{if(!c)return;new hI(a,c==null?void 0:c.settingTab,c,h,P=>{g(P)}).open()},[c,h]);return D.jsx(D.Fragment,{children:D.jsxs("div",{className:`usage-daily-progress-wrapper heatmap-${E}`,children:[D.jsx("div",{ref:F,className:"daily-progress-bar",children:D.jsx("div",{className:"daily-progress-bar-inner",style:{width:`${m}%`}})}),D.jsx("div",{ref:M,className:"daily-progress-target",onClick:B}),D.jsx("div",{ref:N=>{N&&I.setIcon(N,n==="basic"?"layout-grid":"calendar"),N&&I.setTooltip&&I.setTooltip(N,O("Switch calendar type"))},className:"switch-calendar-type-btn",onClick:()=>r&&r(n==="basic"?"heatmap":"basic")})]})})},gI=e=>{const{className:t,view:n,datestamp:r,handleDateStampChange:a,handleDateItemClick:i,handleMonthChange:s,dailyStat:c}=e,d=I.moment().startOf("day").valueOf(),[h,g]=A.useState(kp(r)),[m,w]=A.useState(null);A.useEffect(()=>{g(kp(r))},[r]);const b=new Date(h),T=b.getDay(),E=[];for(let F=0;F<T;F++)E.push({date:0,datestamp:b.getTime()-wi*(7-F)});const k=yI(h);for(let F=1;F<=k;F++)E.push({date:F,datestamp:b.getTime()+wi*(F-1)});const M=F=>{const B=b.getFullYear(),N=b.getMonth()+1;let P=0;N===1&&F===-1?P=new Date(`${B-1}/12/1`).getTime():N===12&&F===1?P=new Date(`${B+1}/1/1`).getTime():P=new Date(`${B}/${N+F}/1`).getTime(),g(kp(P)),s&&s(P)};return D.jsxs("div",{className:`heatmap-date-picker-wrapper ${t}`,children:[D.jsxs("div",{className:"date-picker-header",children:[D.jsx("span",{ref:F=>{F&&I.setIcon(F,"chevron-left")},className:"btn btn-text",onClick:()=>M(-1)}),D.jsxs("span",{className:"normal-text",children:[D.jsx(m3,{year:b.getFullYear().toString(),handleYearChange:F=>{g(kp(new Date(`${F}/${b.getMonth()+1}/1`).getTime()))}}),D.jsx(g3,{month:b.getMonth().toString(),handleMonthChange:F=>{g(kp(new Date(`${b.getFullYear()}/${parseInt(F)}/1`).getTime()))}})]}),D.jsx("span",{ref:F=>{F&&I.setIcon(F,"chevron-right")},className:"btn btn-text",onClick:()=>M(1)})]}),D.jsxs("div",{className:"date-picker-day-container",children:[D.jsx("div",{className:"date-picker-day-header",children:O("weekDaysShort").map(F=>D.jsx("span",{className:"day-item",children:F},F))}),D.jsx("div",{className:"date-picker-day-content",children:E.map(F=>{if(F.date===0)return D.jsx("span",{className:"day-item null",children:""},F.datestamp);const B=c.find(R=>R.timestamp===F.datestamp)||{count:0,timestamp:F.datestamp,list:0},N=B.count-B.list,P=B.list;return D.jsxs("span",{className:`day-item ${F.datestamp===d?"current":""} ${F.datestamp===m?"selected":""} ${D0(B.count)}`,onClick:R=>{a(r,R.nativeEvent),w(F.datestamp===m?null:F.datestamp),i&&i(R,B)},onMouseOver:R=>{if(!B||!B.count)return;const j=new I.HoverPopover(n,R.currentTarget,100);vI(j,{d:F,list:P,task:N})},children:[D.jsx("span",{className:"day-item-text",children:F.date}),D.jsx(D.Fragment,{children:B&&B.count!==0&&D.jsxs("span",{className:"day-item-dots",children:[N>0&&D.jsx("div",{className:`day-item-dot thino-task-dot ${D0(N)}`}),P>0&&D.jsx("div",{className:`day-item-dot thino-list-dot ${D0(P)}`})]})})]},F.datestamp)})})]})]})};function vI(e,{d:t,list:n,task:r}){e.hoverEl.toggleClass("thino-hover-popover",!0);const a=e.hoverEl.createDiv({cls:"thino-hover-popover-content"});a.createDiv({cls:"thino-date-item",text:`${I.moment(t.datestamp).format("YYYY-MM-DD")}`});const i=a.createDiv({cls:"thino-list-item"});i.createSpan({cls:"thino-list-item-title-text",text:`${O("List")}: `}),i.createSpan({cls:"thino-list-item-title-count",text:`${n}`});const s=a.createDiv({cls:"thino-task-item"});s.createSpan({cls:"thino-task-item-title-text",text:`${O("Task")}: `}),s.createSpan({cls:"thino-task-item-title-count",text:`${r}`})}function yI(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/wi}function kp(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}function D0(e){return e<=0?"":e<=1?"stat-day-L1-bg":e<=2?"stat-day-L2-bg":e<=4?"stat-day-L3-bg":"stat-day-L4-bg"}const TD={width:12,height:7},CD=(e,t)=>{const n=[];for(let r=0;r<=e;r++)n.push({timestamp:parseInt(I.moment(t).add(r,"days").format("x")),count:0,list:0});return n},bI=()=>{const e=parseInt(I.moment().endOf("day").format("x")),t=new Date(e).getDay()||7,n=parseInt(I.moment().startOf("day").format("x")),r=new Array(7-(t===7?1:t)).fill(0),a=(TD.width-1)*TD.height+t,i=parseInt(I.moment().startOf("day").subtract(a,"days").format("x")),s=I.moment().startOf("day").subtract(a,"days"),{memoState:{memos:c},dailyNotesState:{view:d,app:h,settings:g,verifyState:m}}=A.useContext(It),[w,b]=Ar(DI(h)||"heatmap"),[T,E]=Ar(I.moment().startOf("day").valueOf()),[k,M]=Ar(g.HeatmapColorScheme||"default"),F=c.filter(we=>we.linkId===""),[B,N]=Ar(CD(a,i)),[P,R]=Ar(null),[j,$]=Ar(null),[W,z,X]=Ar(""),oe=A.useRef(null),ee=A.useRef(null);A.useEffect(()=>{const we=CD(a,i);for(const U of F){const ie=I.moment(U.createdAt.replaceAll("/","-")).startOf("day").diff(s,"days");ie>=0&&ie<we.length&&(we[ie].count+=1,U.thinoType==="JOURNAL"&&(we[ie].list+=1))}N([...we])},[c]),A.useEffect(()=>{g.HeatmapColorScheme&&M(g.HeatmapColorScheme)},[g.HeatmapColorScheme]);const de=A.useCallback((we,U)=>{var be;if(R(U),!ee.current)return;const{isMobileView:G}=rt.getState(),ie=we.target,ye=document.querySelector(".memos-sidebar-wrapper");ee.current.style.left=ie.offsetLeft-(((be=oe.current)==null?void 0:be.offsetLeft)??0)+"px";let ue=ie.offsetTop;G||(ue-=ye==null?void 0:ye.scrollTop),ee.current.style.top=ue+"px"},[]),fe=A.useCallback(()=>{R(null)},[]),De=()=>{b(w==="heatmap"?"basic":"heatmap"),wI(h,w==="heatmap"?"basic":"heatmap"),E(I.moment().startOf("day").valueOf())},xe=A.useCallback(async(we,U)=>{if(U.count===0)return;const G=it.getState().query.duration,ie=G==null?void 0:G.from,ye=G==null?void 0:G.to,ue=I.moment(ie).diff(ye,"day")==0;if(ie===U.timestamp&&ue)it.setFromAndToQuery(0,0),$(null),z(null);else if(ie!==U.timestamp&&ie>0&&we.shiftKey){const be=I.moment(U.timestamp).endOf("day").diff(ye,"day");ie===0&&we.shiftKey?z("from"):be<0&&ue&&z("to"),I.moment(ie).isBefore(U.timestamp)?X.current==="to"?be<0?it.setFromAndToQuery(U.timestamp,ye):(it.setFromAndToQuery(parseInt(I.moment(ye).startOf("day").format("x")),parseInt(I.moment(U.timestamp).endOf("day").format("x"))),z("from")):X.current==="from"&&(be<0,it.setFromAndToQuery(ie,parseInt(I.moment(U.timestamp).endOf("day").format("x")))):X.current==="to"?it.setFromAndToQuery(U.timestamp,ye):X.current==="from"&&(it.setFromAndToQuery(U.timestamp,parseInt(I.moment(ie).endOf("day").format("x"))),z("to"))}else if(ie===0&&we.shiftKey)it.setFromAndToQuery(U.timestamp,parseInt(I.moment().endOf("day").format("x")));else if(U.count>0&&(we.ctrlKey||we.metaKey)){const{app:be,dailyNotes:Re}=ut.getState(),He=bv(I.moment(U.timestamp),Re);if(!I.Platform.isMobile)await be.workspace.getLeaf("split").openFile(He);else{let Pe=be.workspace.activeLeaf;Pe===null&&(Pe=be.workspace.getLeaf(!0)),Pe.openFile(He)}}else U.count>0&&!we.shiftKey&&!we.ctrlKey&&!we.metaKey&&(["/","/recycle"].includes(it.getState().pathname)||it.setPathname("/"),it.setFromAndToQuery(U.timestamp,Ue.getTimeStampByDate(I.moment(U.timestamp+wi).subtract(1,"days").endOf("day").format("YYYY-MM-DD HH:mm:ss"))),$(U))},[]),pe=A.useMemo(()=>D.jsx(gI,{className:`heatmap-${k}`,view:d,datestamp:T,dailyStat:B,handleMonthChange:we=>{E(we)},handleDateStampChange:we=>{},handleDateItemClick:(we,U)=>xe(we,U)}),[JSON.stringify(B),d,T,k]);return D.jsxs(D.Fragment,{children:[w==="basic"&&pe,w==="heatmap"&&D.jsxs("div",{className:`usage-heat-map-wrapper heatmap-${k}`,ref:oe,children:[D.jsxs("div",{className:"day-tip-text-container",children:[D.jsx("span",{className:"tip-text",children:O("weekDaysShort")[0]}),D.jsx("span",{className:"tip-text"}),D.jsx("span",{className:"tip-text",children:O("weekDaysShort")[2]}),D.jsx("span",{className:"tip-text"}),D.jsx("span",{className:"tip-text",children:O("weekDaysShort")[4]}),D.jsx("span",{className:"tip-text"}),D.jsx("span",{className:"tip-text",children:O("weekDaysShort")[6]})]}),D.jsxs("div",{ref:ee,className:"usage-detail-container pop-up "+(P?"":"hidden"),children:[P==null?void 0:P.count," thino ",O("on")," ",D.jsx("span",{className:"date-text",children:I.moment(P==null?void 0:P.timestamp,"x").format("YYYY/MM/DD ddd")})]}),D.jsxs("div",{className:"usage-heat-map",children:[B.map((we,U)=>{const G=we.count,ie=G<=0?"":G<=1?"stat-day-L1-bg":G<=2?"stat-day-L2-bg":G<=4?"stat-day-L3-bg":"stat-day-L4-bg";return D.jsx("span",{className:`stat-container ${ie} ${j===we?"current":""} ${n===we.timestamp?"today":""}`,onMouseEnter:ye=>de(ye,we),onMouseLeave:fe,onClick:ye=>xe(ye,we)},U)}),r.map((we,U)=>D.jsx("span",{className:"stat-container null"},U))]})]}),m&&D.jsx(mI,{allStat:B,todayTimeStamp:n,calendarType:w,handleCalendarTypeChange:De})]})};function wI(e,t){try{e==null||e.saveLocalStorage("calendarType",t)}catch{}}function DI(e){try{return(e==null?void 0:e.loadLocalStorage("calendarType"))||"heatmap"}catch{return"heatmap"}}const SI=()=>{const{dailyNotesState:{app:e,settings:t,verifyState:n}}=A.useContext(It),r=[{name:O("Random Review"),path:"/review",iconID:"star"},{name:O("ARCHIVE"),path:"/archive",iconID:"archive"},{name:O("Recycle bin"),path:"/recycle",iconID:"recycle"}],a=A.useRef([]);return A.useEffect(()=>{a.current.forEach((i,s)=>{i&&I.setIcon(i,r[s].iconID)})},[t,a]),D.jsx(D.Fragment,{children:D.jsx("div",{className:"path-entry-wrapper",children:r.map((i,s)=>D.jsx(D.Fragment,{children:D.jsxs("div",{className:`path-entry-container ${it.getState().pathname===i.path?"active":""} ${t.DeleteThinoDirectly&&i.path==="/recycle"?"hidden":""}`,onClick:()=>{const c=I.Platform.isMobile?e.appId.replace(/\//g,"-"):e.appId;if(!n&&(n==null?void 0:n.appId)!==c&&i.path==="/review"){vr();return}it.setPathname(i.path),i.path==="/review"&&it.getState().pathname==="/review"&&e.workspace.trigger("refresh-review-memos")},children:[D.jsx("span",{ref:c=>a.current[s]=c,className:"path-entry-icon"}),D.jsx("span",{className:"path-entry-text",children:i.name})]},s)}))})})},EI=e=>{const{locationState:t,globalState:{isMobileView:n,showSiderbarInMobileView:r}}=A.useContext(It),a=A.useRef(null),i=A.useMemo(()=>s=>{var d,h,g;const c=rt.getState().showSiderbarInMobileView;if(!c){window.removeEventListener("click",i,{capture:!0});return}(d=a.current)!=null&&d.contains(s.target)||(g=(h=a.current)==null?void 0:h.parentNode)!=null&&g.contains(s.target)&&(c&&s.stopPropagation(),rt.setShowSiderbarInMobileView(!1),window.removeEventListener("click",i,{capture:!0}))},[]);return A.useEffect(()=>{rt.setShowSiderbarInMobileView(!1)},[t]),A.useEffect(()=>{r?document.body.classList.add(Tw):document.body.classList.remove(Tw)},[r]),A.useEffect(()=>{n&&r&&window.addEventListener("click",i,{capture:!0})},[n,r]),D.jsxs("aside",{className:"memos-sidebar-wrapper",ref:a,children:[e.children,D.jsx(B7,{}),D.jsx(bI,{}),D.jsx(SI,{}),D.jsx(sI,{}),D.jsx(uI,{})]})},S0=()=>({type:"initialText",value:"",timestamp:Date.now(),selectionStart:0,selectionEnd:0}),xD={initialValue:"",interval:300};class TI{constructor(t,n=xD){this.listeners=[],this.runUndo=()=>{const r=this.actions[this.currentIndex].selectionStart;this.currentIndex>0&&this.currentIndex--,this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.runRedo=()=>{this.currentIndex<this.actions.length-1&&this.currentIndex++;const r=this.actions[this.currentIndex].selectionEnd;this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.getActions=()=>this.actions,this.setState=(r,a)=>{this.actions=[...r],this.currentIndex=a<this.actions.length?a:this.actions.length-1,this.dispatchChange()},this.resetState=()=>{this.actions=[S0()],this.currentIndex=0,this.dispatchChange()},this.destroy=()=>{this.rmEventListeners()},this.subscribe=r=>{this.listeners.push(r)},this.handleElementKeydown=r=>{const a=r;a.key==="z"&&!a.shiftKey&&(a.metaKey||a.ctrlKey)?(r.preventDefault(),this.runUndo()):(a.key==="z"&&a.shiftKey&&(a.metaKey||a.ctrlKey)||a.key==="y"&&(a.metaKey||a.ctrlKey))&&(r.preventDefault(),this.runRedo())},this.handleElementInput=r=>{const a=r,i=this.actions[this.currentIndex];this.pushNewAction({type:a.inputType,value:this.element.value,timestamp:Date.now(),selectionStart:this.element.selectionEnd-(this.element.value.length-i.value.length),selectionEnd:this.element.selectionEnd})},this.addEventListeners=()=>{this.element.addEventListener("keydown",this.handleElementKeydown),this.element.addEventListener("input",this.handleElementInput)},this.rmEventListeners=()=>{this.element.removeEventListener("keydown",this.handleElementKeydown),this.element.removeEventListener("input",this.handleElementInput)},this.pushNewAction=r=>{const a=this.actions[this.currentIndex];a&&a.type===r.type&&r.timestamp-a.timestamp<this.config.interval?this.actions[this.currentIndex]=Object.assign(Object.assign({},a),{value:r.value,selectionEnd:r.selectionEnd,timestamp:r.timestamp}):(this.config.maxSize&&this.currentIndex>=this.config.maxSize?(this.actions.shift(),this.actions[0]=S0()):this.currentIndex++,this.actions[this.currentIndex]=r,this.actions=this.actions.slice(0,this.currentIndex+1)),this.dispatchChange()},this.dispatchChange=()=>{for(const r of this.listeners)r([...this.actions],this.currentIndex)},this.element=t,this.config=Object.assign(Object.assign({},xD),n),this.config.initialActions&&this.config.initialActions.length>0?(this.actions=this.config.initialActions,this.config.initialIndex!==void 0&&this.config.initialIndex<this.actions.length?this.currentIndex=this.config.initialIndex:this.currentIndex=this.actions.length-1):(this.actions=[S0()],this.currentIndex=0,this.config.initialValue!==""&&(this.actions.push({type:"insertText",value:this.config.initialValue,timestamp:Date.now(),selectionStart:0,selectionEnd:this.config.initialValue.length}),this.currentIndex++)),this.element.value=this.actions[this.currentIndex].value,this.addEventListeners()}}function CI(){const[,e]=A.useState(!1);return A.useCallback(()=>{e(n=>!n)},[])}var H3={exports:{}};(function(e){(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function a(i,s,c){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var d=c&&c.debug||!1;if(d){var h=document.querySelector("#input-textarea-caret-position-mirror-div");h&&h.parentNode.removeChild(h)}var g=document.createElement("div");g.id="input-textarea-caret-position-mirror-div",document.body.appendChild(g);var m=g.style,w=window.getComputedStyle?getComputedStyle(i):i.currentStyle;m.whiteSpace="pre-wrap",i.nodeName!=="INPUT"&&(m.wordWrap="break-word"),m.position="absolute",d||(m.visibility="hidden"),t.forEach(function(E){m[E]=w[E]}),r?i.scrollHeight>parseInt(w.height)&&(m.overflowY="scroll"):m.overflow="hidden",g.textContent=i.value.substring(0,s),i.nodeName==="INPUT"&&(g.textContent=g.textContent.replace(/\s/g," "));var b=document.createElement("span");b.textContent=i.value.substring(s)||".",g.appendChild(b);var T={top:b.offsetTop+parseInt(w.borderTopWidth),left:b.offsetLeft+parseInt(w.borderLeftWidth)};return d?b.style.backgroundColor="#aaa":document.body.removeChild(g),T}e.exports=a})()})(H3);var xI=H3.exports;const MI=$n(xI);var U3=Un.CustomEvent;function kI(){try{var e=new U3("cat",{detail:{foo:"bar"}});return e.type==="cat"&&e.detail.foo==="bar"}catch{}return!1}var II=kI()?U3:typeof document<"u"&&typeof document.createEvent=="function"?function(t,n){var r=document.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r}:function(t,n){var r=document.createEventObject();return r.type=t,n?(r.bubbles=!!n.bubbles,r.cancelable=!!n.cancelable,r.detail=n.detail):(r.bubbles=!1,r.cancelable=!1,r.detail=void 0),r};const NI=$n(II);function FI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){FI(e,a,n[a])})}return e}function Th(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iv(e,t,n){return t&&MD(e.prototype,t),n&&MD(e,n),e}function yf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yf=function(n){return typeof n}:yf=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yf(e)}function Yg(e){return typeof Symbol=="function"&&yf(Symbol.iterator)==="symbol"?Yg=function(n){return yf(n)}:Yg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":yf(n)},Yg(e)}function OI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nv(e,t){return t&&(Yg(t)==="object"||typeof t=="function")?t:OI(e)}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(e)}function v1(e,t){return v1=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},v1(e,t)}function Fv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v1(e,t)}function RI(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function LI(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function _I(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function PI(e){return RI(e)||LI(e)||_I()}var Oa={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},jI=function e(){var t=this;Th(this,e),this.startListen=function(n){n&&n.addEventListener("keydown",t.f)},this.stopListen=function(n){n&&n.removeEventListener("keydown",t.f)},this.add=function(n,r){var a=n;return typeof a!="object"&&(a=[a]),t.listeners[t.index]={keyCode:a,fn:r},t.index++},this.remove=function(n){delete t.listeners[n]},this.removeAll=function(){t.listeners={},t.index=1},this.index=1,this.listeners={},this.f=function(n){if(n){var r=n.keyCode||n.which;Object.values(t.listeners).forEach(function(a){var i=a.keyCode,s=a.fn;i.includes(r)&&(n.stopPropagation(),n.preventDefault(),s(n))})}}},vu=new jI,BI=function(e){Fv(t,e);function t(){var n,r;Th(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=Nv(this,(n=Cf(t)).call.apply(n,[this].concat(i))),r.selectItem=function(){var c=r.props,d=c.item,h=c.onSelectHandler;h(d)},r}return Iv(t,[{key:"shouldComponentUpdate",value:function(r){return this.props.item!==r.item||this.props.selected!==r.selected||this.props.style!==r.style||this.props.className!==r.className}},{key:"render",value:function(){var r=this,a=this.props,i=a.component,s=a.style,c=a.onClickHandler,d=a.item,h=a.selected,g=a.className,m=a.innerRef;return Q.createElement("li",{className:"rta__item  ".concat(h===!0?"rta__item--selected":""," ").concat(g||""),style:s},Q.createElement("div",{className:"rta__entity ".concat(h===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:c,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){r.clicked=!0,r.selectItem()},onTouchEnd:function(b){b.preventDefault(),r.clicked&&c(b)},onTouchMove:function(){r.clicked=!1},onTouchCancel:function(){r.clicked=!1},ref:m},Q.createElement(i,{selected:h,entity:d})))}}]),t}(Q.Component),YI=function(e){Fv(t,e);function t(){var n,r;Th(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=Nv(this,(n=Cf(t)).call.apply(n,[this].concat(i))),r.state={selectedItem:null},r.cachedIdOfItems=new Map,r.onPressEnter=function(c){typeof c<"u"&&c.preventDefault();var d=r.props.values;r.modifyText(d[r.getPositionInList()])},r.getPositionInList=function(){var c=r.props.values,d=r.state.selectedItem;return d?c.findIndex(function(h){return r.getId(h)===r.getId(d)}):0},r.getId=function(c){if(r.cachedIdOfItems.has(c))return r.cachedIdOfItems.get(c);var d=r.props.getTextToReplace(c),h=function(){if(d){if(d.key)return d.key;if(typeof c=="string"||!c.key)return d.text}if(!c.key)throw new Error("Item ".concat(JSON.stringify(c),' has to have defined "key" property'));return c.key},g=h();return r.cachedIdOfItems.set(c,g),g},r.listeners=[],r.itemsRef={},r.modifyText=function(c){if(c){var d=r.props.onSelect;d(c)}},r.selectItem=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=r.props.onItemHighlighted;r.state.selectedItem!==c&&r.setState({selectedItem:c},function(){h(c),d&&r.props.dropdownScroll(r.itemsRef[r.getId(c)])})},r.scroll=function(c){c.preventDefault();var d=r.props.values,h=c.keyCode||c.which,g=r.getPositionInList(),m;switch(h){case Oa.DOWN:m=g+1;break;case Oa.UP:m=g-1;break;default:m=g;break}m=(m%d.length+d.length)%d.length,r.selectItem(d[m],[Oa.DOWN,Oa.UP].includes(h))},r.isSelected=function(c){var d=r.state.selectedItem;return d?r.getId(d)===r.getId(c):!1},r}return Iv(t,[{key:"componentDidMount",value:function(){this.listeners.push(vu.add([Oa.DOWN,Oa.UP],this.scroll),vu.add([Oa.ENTER,Oa.TAB],this.onPressEnter));var r=this.props.values;r&&r[0]&&this.selectItem(r[0])}},{key:"componentDidUpdate",value:function(r){var a=this,i=r.values,s=this.props.values,c=i.map(function(h){return a.getId(h)}).join(""),d=s.map(function(h){return a.getId(h)}).join("");c!==d&&s&&s[0]&&this.selectItem(s[0])}},{key:"componentWillUnmount",value:function(){for(var r;this.listeners.length;)r=this.listeners.pop(),vu.remove(r)}},{key:"render",value:function(){var r=this,a=this.props,i=a.values,s=a.component,c=a.style,d=a.itemClassName,h=a.className,g=a.itemStyle;return Q.createElement("ul",{className:"rta__list ".concat(h||""),style:c},i.map(function(m){return Q.createElement(BI,{key:r.getId(m),innerRef:function(b){r.itemsRef[r.getId(m)]=b},selected:r.isSelected(m),item:m,className:d,style:g,onClickHandler:r.onPressEnter,onSelectHandler:r.selectItem,component:s})}))}}]),t}(Q.Component);function HI(e,t){var n=parseInt(getComputedStyle(t).getPropertyValue("height"),10),r=parseInt(getComputedStyle(e).getPropertyValue("height"),10)-n,a=t.offsetTop,i=e.scrollTop;a<i+r&&i<a||(e.scrollTop=a)}var kD="next",nl={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},ID=function(t){},UI=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],bg=function(t){return PI(t).map(function(n){return UI.includes(n)?"\\".concat(n):n}).join("")},VI=function(e){Fv(t,e);function t(){return Th(this,t),Nv(this,Cf(t).apply(this,arguments))}return Iv(t,[{key:"componentDidMount",value:function(){var r=this.props.boundariesElement;if(typeof r=="string"){var a=document.querySelector(r);if(!a)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=a}else if(r instanceof HTMLElement)this.containerElem=r;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var r,a,i=this.props.top||0,s=this.props.left||0,c=[],d=[],h=0,g=0,m=this.containerElem.getBoundingClientRect(),w=this.ref.getBoundingClientRect(),b=this.props.textareaRef.getBoundingClientRect(),T=window.getComputedStyle(this.ref),E=parseInt(T.getPropertyValue("margin-top"),10),k=parseInt(T.getPropertyValue("margin-bottom"),10),M=parseInt(T.getPropertyValue("margin-left"),10),F=parseInt(T.getPropertyValue("margin-right"),10),B=E+k+b.top+i+w.height,N=M+F+b.left+s+w.width;N>m.right&&b.left+s>w.width?(g=s-w.width,c.push(nl.X.LEFT),d.push(nl.X.RIGHT)):(g=s,c.push(nl.X.RIGHT),d.push(nl.X.LEFT)),B>m.bottom&&b.top+i>w.height?(h=i-w.height,c.push(nl.Y.TOP),d.push(nl.Y.BOTTOM)):(h=i,c.push(nl.Y.BOTTOM),d.push(nl.Y.TOP)),this.props.renderToBody&&(h+=b.top,g+=b.left),this.ref.style.top="".concat(h,"px"),this.ref.style.left="".concat(g,"px"),(r=this.ref.classList).remove.apply(r,d),(a=this.ref.classList).add.apply(a,c)}},{key:"render",value:function(){var r=this,a=this.props,i=a.style,s=a.className,c=a.innerRef,d=a.children,h=a.renderToBody,g=document.body,m=Q.createElement("div",{ref:function(b){r.ref=b,c(b)},className:"rta__autocomplete ".concat(s||""),style:i},d);return h&&g!==null?ib.createPortal(m,g):m}}]),t}(Q.Component),V3=function(e){Fv(t,e);function t(n){var r;Th(this,t),r=Nv(this,Cf(t).call(this,n)),r.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},r.escListenerInit=function(){r.escListener||(r.escListener=vu.add(Oa.ESC,r._closeAutocomplete))},r.escListenerDestroy=function(){r.escListener&&(vu.remove(r.escListener),r.escListener=null)},r.getSelectionPosition=function(){return r.textareaRef?{selectionStart:r.textareaRef.selectionStart,selectionEnd:r.textareaRef.selectionEnd}:null},r.getSelectedText=function(){if(!r.textareaRef)return null;var d=r.textareaRef,h=d.selectionStart,g=d.selectionEnd;return h===g?null:r.state.value.substr(h,g-h)},r.setCaretPosition=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;r.textareaRef&&(r.textareaRef.focus(),r.textareaRef.setSelectionRange(d,d))},r.getCaretPosition=function(){if(!r.textareaRef)return 0;var d=r.textareaRef.selectionEnd;return d},r._handleCaretChange=function(d){var h=function(){var w=r.getCaretPosition()-1;r.lastTrigger=r.lastTrigger?w:0};if(d.type==="keydown"){var g=d.keyCode||d.which;switch(g){case Oa.UP:case Oa.DOWN:r._isAutocompleteOpen()||h();break;case Oa.LEFT:case Oa.RIGHT:h();break}return}h()},r._onSelect=function(d){var h=r.state,g=h.selectionEnd,m=h.currentTrigger,w=h.value,b=r.props.onItemSelected;if(m){var T=r._getTextToReplace(m);if(!T){r._closeAutocomplete();return}var E=T(d);if(!E){r._closeAutocomplete();return}b&&b({currentTrigger:m,item:d});var k=function(z,X,oe){switch(z){case"start":return oe;case"next":case"end":return oe+X.length;default:if(!Number.isInteger(z))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return z}},M=w.slice(0,g),F=bg(m),B=M.length-M.lastIndexOf(m),N=M.search(new RegExp("(?!".concat(F,")$")))-B,P=E.caretPosition==="next"?"".concat(E.text," "):E.text,R=k(E.caretPosition,P,N),j=M.substring(0,N)+P,$=w.replace(M,j);r.setState({value:$,dataLoading:!1},function(){var W=r.tokenRegExpEnding.exec(P),z=W?W[0].length:1;r.lastTrigger=R&&R-z,r.textareaRef.value=$,r.textareaRef.selectionEnd=R,r._changeHandler();var X=r.textareaRef.scrollTop;r.setCaretPosition(R),window.chrome&&(r.textareaRef.scrollTop=X)})}},r._getTextToReplace=function(d){var h=r.props.trigger[d];if(!d||!h)return null;var g=h.output;return function(m){if(typeof m=="object"&&(!g||typeof g!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(g){var w=g(m,d);if(w===void 0||typeof w=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(w),'". Check the implementation for trigger "').concat(d,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(w===null)return null;if(typeof w=="string")return{text:w,caretPosition:kD};if(!w.text&&typeof w.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));if(!w.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));return w}if(typeof m!="string")throw new Error(`Output item should be string
`);return{text:"".concat(d).concat(m).concat(d),caretPosition:kD}}},r._getCurrentTriggerSettings=function(){var d=r.state.currentTrigger;return d?r.props.trigger[d]:null},r._getValuesFromProvider=function(){var d=r.state,h=d.currentTrigger,g=d.actualToken,m=r._getCurrentTriggerSettings();if(!(!h||!m)){var w=m.dataProvider,b=m.component;if(typeof w!="function")throw new Error("Trigger provider has to be a function!");r.setState({dataLoading:!0});var T=w(g);T instanceof Promise||(T=Promise.resolve(T)),T.then(function(E){if(!Array.isArray(E))throw new Error("Trigger provider has to provide an array!");if(typeof b!="function")throw new Error("Component should be defined!");if(h===r.state.currentTrigger){if(!E.length){r._closeAutocomplete();return}r.setState({dataLoading:!1,data:E,component:b})}}).catch(function(E){return ID(E.message)})}},r._getSuggestions=function(){var d=r.state,h=d.currentTrigger,g=d.data;return!h||!g||g&&!g.length?null:g},r._createRegExp=function(){var d=r.props.trigger;r.tokenRegExp=new RegExp("(".concat(Object.keys(d).sort(function(h,g){return h<g?1:h>g?-1:0}).map(function(h){return bg(h)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),r.tokenRegExpEnding=new RegExp("(".concat(Object.keys(d).sort(function(h,g){return h<g?1:h>g?-1:0}).map(function(h){return bg(h)}).join("|"),")$"))},r._closeAutocomplete=function(){var d=r.state.currentTrigger;r.escListenerDestroy(),r.setState({data:null,dataLoading:!1,currentTrigger:null},function(){d&&r._onItemHighlightedHandler(null)})},r._cleanUpProps=function(){var d=AI({},r.props),h=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var g in d)h.includes(g)&&delete d[g];return d},r._changeHandler=function(d){var h=r.props,g=h.trigger,m=h.onChange,w=h.minChar,b=h.onCaretPositionChange,T=h.movePopupAsYouType,E=r.state,k=E.top,M=E.left,F=d;F||(F=new NI("change",{bubbles:!0}),r.textareaRef.dispatchEvent(F));var B=F.target||r.textareaRef,N=B.selectionEnd,P=B.value;if(r.lastValueBubbledEvent=P,m&&F&&(F.persist&&F.persist(),m(new Proxy(F,{get:function(U,G,ie){return G==="target"?B:Reflect.get(U,G,ie)}}))),b){var R=r.getCaretPosition();b(R)}r.setState({value:P});var j=function(){var U=MI(B,N),G=U.top,ie=U.left;r.setState({top:G-r.textareaRef.scrollTop||0,left:ie})},$=function(U){r.lastTrigger=N-U,r._closeAutocomplete(),j()};if(N<=r.lastTrigger){var W=P.slice(0,N),z=r.tokenRegExp.exec(W);$(z?z[0].length:0)}var X=P.slice(r.lastTrigger,N),oe=r.tokenRegExp.exec(X),ee=oe&&oe[0],de=oe&&oe[1]||null,fe=de?de.length-1:0,De=r.tokenRegExpEnding.exec(X);if(De?$(De[0].length):r._isAutocompleteOpen()||r._closeAutocomplete(),(!ee||ee.length<=w+fe)&&(r.state.currentTrigger&&!g[r.state.currentTrigger].allowWhitespace||!r.state.currentTrigger)){r._closeAutocomplete();return}if(de&&g[de].afterWhitespace&&!/\s/.test(P[N-ee.length-1])&&P[N-ee.length-1]!==void 0){r._closeAutocomplete();return}if(r.state.currentTrigger&&g[r.state.currentTrigger].allowWhitespace){if(oe=new RegExp("".concat(bg(r.state.currentTrigger),".*$")).exec(P.slice(0,N)),ee=oe&&oe[0],!ee){r._closeAutocomplete();return}de=Object.keys(g).find(function(we){return we.slice(0,fe+1)===ee.slice(0,fe+1)})||null}var xe=ee.slice(1);if(de){(T||k===null&&M===null||r.state.currentTrigger!==de)&&j(),r.escListenerInit();var pe=r._getTextToReplace(de);r.setState({selectionEnd:N,currentTrigger:de,textToReplace:pe,actualToken:xe},function(){try{r._getValuesFromProvider()}catch(we){ID(we.message)}})}},r._selectHandler=function(d){var h=r.props,g=h.onCaretPositionChange,m=h.onSelect;if(g){var w=r.getCaretPosition();g(w)}m&&(d.persist(),m(d))},r._shouldStayOpen=function(d){var h=d.relatedTarget;return h===null&&(h=document.activeElement),!!(r.dropdownRef&&h instanceof Node&&r.dropdownRef.contains(h))},r._onClick=function(d){var h=r.props.onClick;h&&(d.persist(),h(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onBlur=function(d){var h=r.props.onBlur;h&&(d.persist(),h(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onScrollHandler=function(){r._closeAutocomplete()},r._onItemHighlightedHandler=function(d){var h=r.props.onItemHighlighted,g=r.state.currentTrigger;if(h)if(typeof h=="function")h({currentTrigger:g,item:d});else throw new Error("`onItemHighlighted` has to be a function")},r._dropdownScroll=function(d){var h=r.props.scrollToItem;if(h){if(h===!0){HI(r.dropdownRef,d);return}if(typeof h!="function"||h.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");h(r.dropdownRef,d)}},r._isAutocompleteOpen=function(){var d=r.state,h=d.dataLoading,g=d.currentTrigger,m=r._getSuggestions();return!!((h||m)&&g)},r._textareaRef=function(d){r.props.innerRef&&r.props.innerRef(d),r.textareaRef=d},r.lastTrigger=0,r.escListener=null;var a=r.props,i=a.loadingComponent,s=a.trigger,c=a.value;if(c&&(r.state.value=c),r._createRegExp(),!i)throw new Error("RTA: loadingComponent is not defined");if(!s)throw new Error("RTA: trigger is not defined");return r}return Iv(t,[{key:"componentDidMount",value:function(){vu.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(r){var a=r.trigger,i=r.value,s=this.props,c=s.trigger,d=s.value;Object.keys(c).join("")!==Object.keys(a).join("")&&this._createRegExp(),i!==d&&this.lastValueBubbledEvent!==d&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),vu.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var r=this,a=this.props,i=a.loadingComponent,s=a.style,c=a.className,d=a.listStyle,h=a.itemStyle,g=a.boundariesElement,m=a.movePopupAsYouType,w=a.listClassName,b=a.itemClassName,T=a.dropdownClassName,E=a.dropdownStyle,k=a.containerStyle,M=a.containerClassName,F=a.loaderStyle,B=a.loaderClassName,N=a.textAreaComponent,P=a.renderToBody,R=this.state,j=R.left,$=R.top,W=R.dataLoading,z=R.component,X=R.value,oe=R.textToReplace,ee=this._isAutocompleteOpen(),de=this._getSuggestions(),fe={},De;return N.component?(De=N.component,fe[N.ref]=this._textareaRef):(De=N,fe.ref=this._textareaRef),Q.createElement("div",{className:"rta ".concat(W===!0?"rta--loading":""," ").concat(M||""),style:k},Q.createElement(De,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(c||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:X,style:s},fe)),ee&&Q.createElement(VI,{innerRef:function(pe){r.dropdownRef=pe},top:$,left:j,style:E,className:T,movePopupAsYouType:m,boundariesElement:g,textareaRef:this.textareaRef,renderToBody:P},de&&z&&oe&&Q.createElement(YI,{values:de,component:z,style:d,className:w,itemClassName:b,itemStyle:h,getTextToReplace:oe,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),W&&Q.createElement("div",{className:"rta__loader ".concat(de!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(B||""),style:F},Q.createElement(i,{data:de}))))}}],[{key:"getDerivedStateFromProps",value:function(r){var a=r.value;return a==null?null:{value:a}}}]),t}(Q.Component);V3.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1};const zI=()=>{const{app:e}=ut.getState(),t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())},$I=e=>{let t=[];const n=ut.getState().settings;if(n&&(n!=null&&n.UseVaultTags))t=zI();else{const{tags:i}=Me.getState();t=i}const r=e.toLowerCase(),a=[];return t.forEach(i=>{i&&i.toLowerCase().contains(r)&&a.push({name:i,char:i})}),a},WI=e=>{const{app:t}=ut.getState(),n=t.vault.getAllLoadedFiles(),r=[];let a;return n.forEach(i=>{e==="["?a="":e.contains("[")&&(a=e.slice(1));const s=a.toLowerCase();i instanceof I.TFile&&["md","png","jpg","canvas","jpeg","gif"].contains(i.extension)&&i.path.toLowerCase().contains(s)&&r.push({name:i.basename,char:i.name,file:i})}),r};function nv(e,t){const n=Object.keys(t).map(r=>qI(e,r,t[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function qI(e,t,n){const r=e[t],a=e.hasOwnProperty(t);let i=n(r);return r&&Object.setPrototypeOf(i,r),Object.setPrototypeOf(s,i),e[t]=s,c;function s(...d){return i===r&&e[t]===s&&c(),i.apply(this,d)}function c(){e[t]===s&&(a?e[t]=r:delete e[t]),i!==r&&(i=r,Object.setPrototypeOf(s,r||Function))}}function GI(e){return e.containerEl.matches(".memos-list-view")}const KI=e=>{const{dailyNotesState:{app:t,plugin:n,editor:r,view:a,dailyNotes:i}}=A.useContext(It),[s,c]=A.useState(null),[d,h]=A.useState(!1),[g,m]=A.useState(""),[w,b]=A.useState(null),T=A.useRef(I.debounce((j,$)=>{ZI(j,$)},100));A.useEffect(()=>{if(!w){for(const j in i)if(i[j]instanceof I.TFile){b(i[j]);break}}},[i]),A.useEffect(()=>{if(!(!e||!r)&&!d)return F(e),()=>{h(!1),s==null||s.destroy()}},[r,e]),A.useEffect(()=>{if(!s||!t)return;const j=QI(t);m(j),(s==null?void 0:s.editor).replaceSelection(j)},[s,t]),A.useEffect(()=>{!s||!t||T.current(g,t)},[g,t]);const E=()=>{s&&s.toggleSource()},k=I.debounce((j,$)=>M(j,$),500,!0),M=(j,$)=>{j&&m($)},F=j=>{if(r&&a){a.register(nv(r.constructor.prototype,{onUpdate:W=>function(...z){if(W.call(this,z),z[1]===!0&&this.owner&&this.owner instanceof yu){const X=this.get();k(this.owner,X)}},getMode:()=>function(){return"source"}})),a.register(nv(I.Workspace.prototype,{getActiveViewOfType:W=>function(z){const X=W.call(this,z);if(!X&&(z==null?void 0:z.VIEW_TYPE)==="markdown"){const oe=this.activeLeaf;if(oe.view instanceof yu)return oe.view}return X},setActiveLeaf:W=>function(z,X){if(GI(z)&&(W.call(this,z,X),z.activeTime=17e11),W.call(this,z,X),z.view instanceof yu){const oe=rt.getState().instanceList.get(z.id);if(!oe)return;self.app.workspace.activeEditor=oe.owner,z.view.editor=oe.editor}},getActiveFile:W=>function(){var X;const z=W.call(this);return((X=this.activeLeaf)==null?void 0:X.view)instanceof yu&&w||z}}));const $=new r.constructor(a.app,j,a);$.owner.editor=$.editor,$.owner.onMarkdownScroll=()=>{},t.workspace.trigger("thino-editor-created",j,$.editor),h(!0),c($),rt.setInstance(`${a.leaf.id}`,$)}};return{instance:s,value:g,set:j=>{try{s&&((s==null?void 0:s.editor).replaceSelection(j),m(j))}catch{}},get:()=>s?s.get():"",append:(j,$)=>{if(!s||$&&$!==s.owner.leaf.id)return;const z=(s.get()||"")+j;(s==null?void 0:s.editor).replaceSelection(j),m(z)},clear:()=>{s&&(s.clear(),m(""))},toggleSource:E}};function z3(e){return`thinoEditorContentCache:${e}`}function QI(e){try{const t=z3(e.appId);return Vn.get([t])[t]??""}catch{return""}}function ZI(e,t){try{const n=z3(t.appId);Vn.set({[n]:e})}catch{}}const ND=({entity:{name:e,char:t,file:n}})=>D.jsx("div",{children:`${t}`}),JI=({data:e})=>D.jsx("div",{children:"Loading"});let mi;const XI=A.forwardRef((e,t)=>{var ye;const{globalState:{useTinyUndoHistoryCache:n,globalEditorShown:r},dailyNotesState:{settings:a,app:i}}=A.useContext(It),{SaveMemoButtonLabel:s,SaveMemoButtonIcon:c}=a,{className:d,inputerType:h,initialContent:g,placeholder:m,showConfirmBtn:w,showCancelBtn:b,onConfirmBtnClick:T,onCancelBtnClick:E,onContentChange:k}=e,M=A.useRef(null),F=A.useRef(null),B=A.useRef(null),N=CI(),{instance:P,value:R,set:j,get:$,append:W,clear:z,toggleSource:X}=KI(F.current),[,oe,ee]=Ar(0),[de,fe]=Ar(!1);A.useEffect(()=>{var ue,be;if(a&&a.FocusOnEditor)switch(h){case"minimal":case"memos":(ue=M.current)==null||ue.focus();break;case"obsidian":P&&((be=P.editor)==null||be.focus())}},[a,P]),A.useEffect(()=>{if(!i)return;const ue=i.workspace.getLeavesOfType(Fr);let be,Re;ue.length>0?(Re=ue[0].view.containerEl,be=Re.offsetHeight):(Re=document,be=window.outerHeight),oe(be)},[i]),A.useEffect(()=>{!M.current||h==="obsidian"||g&&(M.current.value=g,N())},[]),A.useEffect(()=>{var ue;if(h!=="obsidian")if(n){if(!M.current)return;const{tinyUndoActionsCache:be,tinyUndoIndexCache:Re}=Vn.get(["tinyUndoActionsCache","tinyUndoIndexCache"]);return B.current=new TI(M.current,{interval:5e3,initialActions:be,initialIndex:Re}),B.current.subscribe((He,Pe)=>{Vn.set({tinyUndoActionsCache:He,tinyUndoIndexCache:Pe})}),()=>{var He;(He=B.current)==null||He.destroy()}}else(ue=B.current)==null||ue.destroy(),B.current=null,Vn.remove(["tinyUndoActionsCache","tinyUndoIndexCache"])},[n]),A.useEffect(()=>{M.current&&(M.current.style.height="auto",M.current.style.height=(M.current.scrollHeight??0)+"px")},[(ye=M.current)==null?void 0:ye.value]),A.useImperativeHandle(t,()=>({element:M.current,blur:()=>{var ue,be;switch(h){case"minimal":case"memos":(ue=M.current)==null||ue.blur();break;case"obsidian":P&&((be=P.editor)==null||be.blur())}},focus:ue=>{var be,Re,He,Pe,yt;switch(h){case"minimal":case"memos":a!=null&&a.FocusOnEditor&&((be=M.current)==null||be.focus());break;case"obsidian":if(a!=null&&a.FocusOnEditor&&P){if(ue&&ue!==((Pe=(He=(Re=P==null?void 0:P.owner)==null?void 0:Re.view)==null?void 0:He.leaf)==null?void 0:Pe.id))return;(yt=P.editor)==null||yt.focus()}}},insertText:(ue,be)=>{switch(h){case"minimal":case"memos":{if(!M.current)return;const Re=M.current.value;M.current.value=Re.slice(0,M.current.selectionStart)+ue+Re.slice(M.current.selectionStart),k(M.current.value),N()}break;case"obsidian":P&&W(ue,be);break}},setContent:ue=>{switch(h){case"minimal":case"memos":M.current&&(M.current.value=ue,k(M.current.value),N());break;case"obsidian":P&&j(ue);break}},getContent:()=>{switch(h){case"minimal":case"memos":return M.current?M.current.value:"";case"obsidian":return $()}},toggleSource:()=>{switch(h){case"minimal":case"memos":break;case"obsidian":X();break}},clear:()=>{switch(h){case"minimal":case"memos":M.current&&(M.current.value="",k(M.current.value),N());break;case"obsidian":z();break}}}),[P,h]);const De=ue=>{if(!M.current)return;const{fileManager:be}=Ce.getState().dailyNotesState.app;if(ue.currentTrigger==="#"){const Re=M.current.value;let He;mi!=null?He=mi.length:He=0;let Pe=M.current.selectionStart;for(let yt=0;yt<Re.length;yt++)/\s/g.test(Re[Pe])||Pe++;M.current.value=Re.slice(0,M.current.selectionStart-He)+ue.item.char+Re.slice(Pe),k(M.current.value),N()}else if(ue.currentTrigger==="[["){const Re=be.generateMarkdownLink(ue.item.file,ue.item.file.path,"",""),He=M.current.value;let Pe;mi!=null?Re.contains("[[")||ue.item.file.extension!=="md"?Pe=mi.length+1:Pe=mi.length+2:Pe=2;let yt=M.current.selectionStart;for(let Se=0;Se<He.length;Se++)/\s/g.test(He[yt])||yt++;M.current.value=He.slice(0,M.current.selectionStart-Pe)+Re+He.slice(yt),k(M.current.value),N()}},xe=A.useCallback(()=>{var ue;k(((ue=M.current)==null?void 0:ue.value)??""),N()},[]),pe=()=>{var ue;switch(h){case"minimal":case"memos":if(!M.current)return;M.current.value=U(),T(M.current.value),M.current.value="",N(),(ue=B.current)==null||ue.resetState();break;case"obsidian":T($()),z(),N();break}},we=A.useCallback(()=>{switch(h){case"minimal":case"memos":M.current&&(M.current.value="",k(M.current.value),N());break;case"obsidian":z();break}E()},[h,P,M]),U=()=>Vn.get(["thinoEditorContentCache"]).thinoEditorContentCache??"",G=()=>{if(M.current)return M.current.value=U(),M.current.value},ie=ue=>{switch(ue){case"memos":return D.jsx(V3,{className:`common-editor-inputer scroll ${de?" editing":""}`,loadingComponent:JI,placeholder:m,movePopupAsYouType:!0,value:G(),innerRef:be=>{M.current=be},onFocus:()=>{fe(!0)},onBlur:()=>{fe(!1)},onInput:xe,style:{maxHeight:`${ee.current>400?ee.current-400:100}px`},dropdownStyle:{minWidth:180,maxHeight:250,overflowY:"auto"},minChar:0,onItemSelected:De,scrollToItem:!0,trigger:{"#":{dataProvider:be=>(mi=be,$I(be).map(({name:Re,char:He})=>({name:Re,char:He}))),component:ND,afterWhitespace:!0,output:be=>be.char},"[[":{dataProvider:be=>(mi=be,WI(be).slice(0,10).map(({name:Re,char:He,file:Pe})=>({name:Re,char:He,file:Pe}))),component:ND,afterWhitespace:!0,output:be=>be.char}}});case"minimal":return D.jsx("textarea",{style:{minHeight:48},className:"common-editor-inputer scroll",rows:1,placeholder:m,ref:M,onInput:xe});case"obsidian":return D.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:F});default:return D.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:F})}};return D.jsxs("div",{className:"common-editor-wrapper "+d,children:[ie(h),D.jsxs("div",{className:"common-tools-wrapper",children:[D.jsx("div",{className:"common-tools-container",children:D.jsx(Io,{when:e.tools!==void 0,children:e.tools})}),D.jsxs("div",{className:"btns-container",children:[D.jsx(Io,{when:b,children:D.jsx("button",{className:"action-btn cancel-btn",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!r&&we()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||r)&&we()},children:O("CANCEL EDIT")})}),D.jsx(Io,{when:w,children:D.jsxs("button",{title:"Ctrl/Cmd + Enter to save thino",className:"action-btn confirm-btn",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!r&&pe()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||r)&&pe()},children:[s,D.jsxs("span",{className:"icon-text",children:[c,"️"]})]})})]})]})]})}),eN=(e,t)=>({placement:e,modifiers:[{name:"flip",options:{allowedAutoPlacements:t,rootBoundary:"document"}},{name:"preventOverflow",options:{rootBoundary:"document"}}]}),tN=e=>{const n=A.useRef(null),[r,a]=A.useState(null),[i,s]=A.useState(0);let c,d;const h=()=>{if(I.Platform.isMobile){c="right-end",d=["bottom"];return}const m=window.innerWidth-i>280*1.2,w=window.innerWidth-i<280,b=window.innerWidth>280*1.5;if(e.DefaultEditorLocation!=="Bottom"){m?(c="right-end",d=["left-end"]):w&&b?(c="left-end",d=["right-end"]):(c="bottom",d=["bottom"]);return}m?(c="top-end",d=["top-start"]):w&&i>280?(c="top-start",d=["top-end"]):(c="top",d=["top"])};A.useEffect(()=>{e&&h()},[i,e==null?void 0:e.DefaultEditorLocation]);const g=kv(n.current,r,eN(c,d));return{setPosX:s,popperRef:n,setPopperElement:a,popper:g}},nN=e=>{const{offsetLeft:t,offsetTop:n,offsetHeight:r,offsetWidth:a,selectionEnd:i}=e,s=document.createElement("div"),c=window.getComputedStyle(e);for(const E of c)s.style.setProperty(E,c.getPropertyValue(E));s.style.position="fixed",s.style.visibility="hidden",s.style.whiteSpace="pre-wrap";const h=e.tagName==="INPUT"?e.value.replace(/ /g,"."):e.value;s.textContent=h.substring(0,i||0),e.tagName==="TEXTAREA"&&(s.style.height="auto");const g=document.createElement("span");g.textContent=h.substring(i||0)||".",s.appendChild(g),document.body.appendChild(s);const{offsetLeft:m,offsetTop:w,offsetHeight:b,offsetWidth:T}=g;return document.body.removeChild(s),{x:t+m,y:n+w,h:r+b,w:a+T}},Gp=({className:e,editorType:t="block"})=>{const{globalState:n,dailyNotesState:{app:r,settings:a,view:i,verifyState:s}}=A.useContext(It),[c,d]=Ao(!0),h=A.useRef(c),[g,m]=Ar(!0),w=A.useRef(null),b=A.useRef(null),T=A.useRef(n),[E,k]=Ar(!1),[M,F]=Ar(!1),{setPosX:B,popperRef:N,setPopperElement:P,popper:R}=tN(a),[j]=Ar(parseInt(I.moment().format("x"))),$=A.useRef(null),[W,z]=Ar((a==null?void 0:a.EnabledLocationList.length)===1?a==null?void 0:a.EnabledLocationList[0].value:(a==null?void 0:a.MemoSaveLocation)||"DAILY"),X=A.useRef(a.MemoSaveLocation||"DAILY");A.useEffect(()=>{h.current=c},[c]),A.useEffect(()=>{!b.current||!r||!i||(i.registerEvent(r.workspace.on("focus-on-textarea",Se=>{var $e;($e=b.current)==null||$e.focus(Se==null?void 0:Se.id)})),i.registerEvent(r.workspace.on("blur-on-memos",()=>{var Se;(Se=b.current)==null||Se.blur()})),i.registerEvent(r.workspace.on("send-to-thino",async(Se,$e)=>{var Ze,Xe;if(typeof Se=="string")(Ze=b.current)==null||Ze.insertText(Se+`
`,$e.id);else{const Ge=Se.toPNG(),tt=new Blob([Ge],{type:"image/png"}),Dt=new File([tt],"image.png",{type:"image/png",lastModified:Date.now()});if(!Dt)return;const dt=await xe(Dt);dt&&((Xe=b.current)==null||Xe.insertText(dt+`
`,$e.id))}})))},[b,i,r]),A.useEffect(()=>{a&&d(a.DefaultPrefix==="List")},[a==null?void 0:a.DefaultPrefix]),A.useEffect(()=>{if(a){if(a.EnabledLocationList.length===1){z(a.EnabledLocationList[0].value);return}z(a.MemoSaveLocation||"DAILY")}},[a==null?void 0:a.MemoSaveLocation,a==null?void 0:a.EnabledLocationList]),A.useEffect(()=>{var Ze;if(!a||!$.current)return;const Se=(Ze=bf.find(Xe=>Xe.title===W))==null?void 0:Ze.icon;I.setIcon($.current,Se),I.requireApiVersion("1.4.4")&&I.setTooltip($.current,O("Thino Save To: ")+W),X.current=W;const $e=n.manifest;if($e){const Xe=r==null?void 0:r.plugins.getPlugin($e.id);if(Xe){if(Xe.settings.MemoSaveLocation===W)return;Xe.settings.MemoSaveLocation=W,Xe.saveSettings()}}},[W,g]),A.useEffect(()=>{b.current&&a.MemoSaveLocation&&z(a.MemoSaveLocation)},[$,a]),A.useEffect(()=>{if(!b.current||!a||I.Platform.isDesktop||n.globalEditorShown)return;const Se=I.Platform.isMobile===!0,$e=a.UseButtonToShowEditor&&a.DefaultEditorLocation==="Bottom";m(Se&&!$e);const Ze=document.body.find(".memolist-wrapper");Ze&&(Ze.onscroll=()=>{if(n.globalEditorShown)return;const Xe=b.current.getContent();Se&&$e&&!Xe&&m(!1)})},[n.globalEditorShown,b,a==null?void 0:a.UseButtonToShowEditor,a==null?void 0:a.DefaultEditorLocation]);const oe=()=>{F(!1)};A.useEffect(()=>{var Se,$e,Ze,Xe,Ge,tt,Dt,dt;if(n.markMemoId){const Vt=`${O("MARK")}: [@THINO](${n.markMemoId})`;(Se=b.current)==null||Se.insertText(Vt),($e=b.current)==null||$e.focus(),rt.setMarkMemoId("");return}if((Ze=n.editMemoId)!=null&&Ze.trim()&&n.editMemoId!==T.current.editMemoId){const Vt=Me.getMemoById(n.editMemoId);if(Vt)switch(a.EditorType){case"memos":(Xe=b.current)==null||Xe.setContent(Vt.content.replace(/<br>/g,`
`).replace(/ \^\S{6}$/,"")??""),(Ge=b.current)==null||Ge.focus();break;case"obsidian":(tt=b.current)==null||tt.clear(),(Dt=b.current)==null||Dt.setContent(Vt.content.replace(/<br>/g,`
`).replace(/ \^\S{6}$/,"")??""),(dt=b.current)==null||dt.focus();break}}T.current=n},[n.markMemoId,n.editMemoId]),A.useEffect(()=>{var Se,$e,Ze;!b.current||E||a.EditorType==="memos"&&((Se=b.current)==null||Se.element.addEventListener("paste",ee),($e=b.current)==null||$e.element.addEventListener("drop",de),(Ze=b.current)==null||Ze.element.addEventListener("click",fe),k(!0))},[b.current]);const ee=async Se=>{var $e;if(Se.clipboardData&&Se.clipboardData.files.length>0){Se.preventDefault();const Ze=Se.clipboardData.files;for(const Xe of Ze){const Ge=await xe(Xe);Ge&&(($e=b.current)==null||$e.insertText(Ge))}}},de=async Se=>{var $e;if(Se.dataTransfer&&Se.dataTransfer.files.length>0){Se.preventDefault();const Ze=Se.dataTransfer.files;for(const Xe of Ze){const Ge=await xe(Xe);Ge&&(($e=b.current)==null||$e.insertText(Ge))}}},fe=()=>{var Se;U(((Se=b.current)==null?void 0:Se.element.value)??"")},De=async(Se,$e)=>{var Ge,tt,Dt;const Ze=Se.ctrlKey||Se.metaKey,Xe=Se.altKey;if(Se.key==="Escape"&&n.globalEditorShown&&(rt.setGlobalEditorShown(!1),Se.preventDefault()),Ze&&Se.key==="Enter"){Se.preventDefault(),Se.stopPropagation(),$e?(await pe((tt=b.current)==null?void 0:tt.getContent()),(Dt=b.current)==null||Dt.clear()):await pe((Ge=b.current)==null?void 0:Ge.element.value);return}if(Xe)for(let dt=0;dt<a.EnabledLocationList.length;dt++)Se.key===(dt+1).toString()&&z(a.EnabledLocationList[dt].value);setTimeout(()=>{var dt;$e||U(((dt=b.current)==null?void 0:dt.element.value)??"")})},xe=A.useCallback(async Se=>{const{type:$e}=Se;if($e.startsWith("image"))try{return`${await ab.upload(Se)}`}catch(Ze){new I.Notice(Ze)}},[]),pe=async Se=>{if(!Se||Se.trim()===""){new I.Notice(O("Content cannot be empty"));return}const $e=async(Xe,Ge)=>{Ge=Ge.replaceAll("&nbsp;"," "),wg("");try{if(!Xe){let Dt;switch(X.current){case"CANVAS":Dt=await Me.createMemoCanvas({text:Ge,isList:h.current});break;case"MULTI":Dt=await Me.createMemoMultiFile({content:Ge,isList:h.current});break;case"DAILY":Dt=await Me.createMemoDaily(Ge,h.current);break;case"FILE":Dt=await Me.createMemoSingleFile({content:Ge,isList:h.current});break}if(!Dt)return;Me.pushMemo(Dt),it.clearQuery();const dt=r||ut.getState().app,Vt=dt==null?void 0:dt.loadLocalStorage("tokenForSync");Dt&&Vt&&a.startSync&&setTimeout(async()=>{const ja=await s3({content:Ge,thinoType:X.current==="DAILY"?"DAILY":"FILE"});await Me.updateMemoById(Dt.id,ja,!0)},200);return}const tt=Me.getMemoById(Xe);if(tt&&tt.content!==Ge){const Dt=await Me.updateMemo(tt.id,Ge,h.current?"JOURNAL":"TASK-TODO");Dt.updatedAt=Ue.getDateTimeString(Date.now()),Me.editMemo(Dt)}rt.setEditMemoId("")}catch(tt){new I.Notice(tt.message)}},{editMemoId:Ze}=rt.getState();await $e(Ze,Se),wg("")},we=A.useCallback(()=>{var Se;rt.setEditMemoId(""),(Se=b.current)==null||Se.setContent(""),wg("")},[]),U=A.useCallback(Se=>{if(wg(Se??""),!b.current)return;const $e=b.current.getContent(),Ze=b.current.element.selectionStart,Xe=$e.slice(0,Ze),Ge=$e.slice(Ze);(Xe.endsWith("@")||Xe.endsWith("📆"))&&Ge.startsWith(" ")||(Xe.endsWith("@")||Xe.endsWith("📆"))&&Ge===""?(Re(),F(!0)):F(!1),setTimeout(()=>{var tt;(tt=b.current)==null||tt.focus()})},[a.EditorType]),G=Se=>{if(!b.current||!a)return;Se&&(oe(),d(!1));const $e=b.current.getContent(),Ze=b.current.element.selectionStart,Xe=$e.slice(0,Ze),Ge=$e.slice(Ze),tt=I.moment(Se);if(Xe.endsWith("@"))switch(a.InsertDateFormat){case"Dataview":b.current.element.value=$e.slice(0,b.current.element.selectionStart-1)+"[due::"+tt.format("YYYY-MM-DD")+"]"+Ge,b.current.element.setSelectionRange(Ze+17,Ze+17),b.current.focus(),U(b.current.element.value);break;case"Tasks":b.current.element.value=$e.slice(0,b.current.element.selectionStart-1)+"📆"+tt.format("YYYY-MM-DD")+Ge,b.current.element.setSelectionRange(Ze+11,Ze+11),b.current.focus(),U(b.current.element.value)}else{b.current.element.value=Xe+tt.format("YYYY-MM-DD")+Ge,b.current.element.setSelectionRange(Ze+10,Ze+10),b.current.focus(),U(b.current.element.value);return}},ie=()=>{b.current&&d()},ye=()=>{const Se=I.Platform.isMobile?r.appId.replace(/\//g,"-"):r.appId;return!s&&(s==null?void 0:s.appId)!==Se?(vr(),!1):!0},ue=Se=>{if(!ye())return;const $e=new I.Menu;a.EnabledLocationList.forEach(tt=>{$e.addItem(Dt=>{var dt;Dt.setTitle(tt.value).setIcon(((dt=bf.find(Vt=>Vt.title===tt.value))==null?void 0:dt.icon)??"file").setChecked(W===tt.value).onClick(()=>{z(tt.value)})})});let Ze=Se.target,Xe=null;for(;!Ze.hasClass("location-wrapper")&&(Xe=Ze.parentElement,Xe);)Ze=Xe;const Ge=Ze.getBoundingClientRect();setTimeout(()=>{$e.showAtPosition({x:Ge.x,y:Ge.bottom,width:Ge.width,left:!1,overlap:!0})},200)},be=A.useCallback(()=>{var Se,$e;if(!(!b.current&&a.EditorType==="memos"))switch(a.EditorType){case"obsidian":(Se=b.current)==null||Se.focus(),($e=r==null?void 0:r.commands)==null||$e.executeCommandById("editor:insert-tag");break;case"memos":{const Ze=b.current.getContent(),Xe=b.current.element.selectionStart,Ge=Ze.slice(0,Xe),tt=Ze.slice(Xe);let Dt=Ge+"# "+tt,dt=Ge.length+1;Ge.endsWith("#")&&tt.startsWith(" ")&&(Dt=Ge.slice(0,Ge.length-1)+tt.slice(1),dt=Ge.length-1),b.current.element.value=Dt,b.current.element.setSelectionRange(dt,dt),b.current.focus();const Vt=new Event("input",{bubbles:!0,cancelable:!0});b.current.element.dispatchEvent(Vt),U(b.current.element.value)}}},[r]),Re=A.useCallback(()=>{if(!b.current||!N.current||!a||!r)return;const Ze=r.workspace.getLeavesOfType(Fr)[0].view.containerEl,Xe=280,Ge=Ze.clientWidth,{x:tt,y:Dt}=nN(b.current.element);let dt,Vt;I.Platform.isMobile?(window.innerWidth-tt>Xe?dt=(tt+Xe+16>Ge,tt+18):window.innerWidth-tt<Xe?dt=(tt+Xe+16>Ge,tt+34):dt=b.current.element.clientWidth/2,a.DefaultEditorLocation==="Bottom"&&window.innerWidth>875?Vt=Dt+4:a.DefaultEditorLocation==="Bottom"&&window.innerWidth<=875?Vt=Dt+19:a.DefaultEditorLocation==="Top"&&window.innerWidth<=875&&(Vt=Dt+36)):(dt=(tt+Xe+16>Ge,tt+18),Vt=Dt+34),B(tt),N.current.style.left=`${dt}px`,N.current.style.top=`${Vt}px`},[a,r]),He=A.useCallback(()=>{const Se=document.createElement("input");document.body.appendChild(Se),Se.type="file",Se.multiple=!1,Se.accept="image/png, image/gif, image/jpeg",Se.onchange=async()=>{var Xe;if(!Se.files||Se.files.length===0)return;const $e=Se.files[0],Ze=await xe($e);Ze&&((Xe=b.current)==null||Xe.insertText(Ze)),document.body.removeChild(Se)},Se.click()},[]),Pe=!!n.editMemoId,yt=A.useMemo(()=>({className:"memo-editor",inputerType:a.EditorType||"obsidian",initialContent:rN(),placeholder:O("What do you think now..."),showConfirmBtn:!0,showCancelBtn:Pe,showTools:!0,onConfirmBtnClick:pe,onCancelBtnClick:we,onContentChange:U}),[Pe,a.EditorType]);return D.jsxs(D.Fragment,{children:[!n.globalEditorShown&&t==="block"&&D.jsx("div",{ref:Se=>{w.current=Se,Se&&I.setIcon&&I.setIcon(Se,"plus-circle")},className:`memo-show-editor-button ${g?"hidden":""}`,onClick:()=>{var Se;(Se=w.current.firstElementChild)==null||Se.toggleClass("rotate-hidden",!0),setTimeout(()=>{m(!0),w.current.firstElementChild.toggleClass("rotate-hidden",!1)},500),setTimeout(()=>{var $e;($e=b.current)==null||$e.focus()},600)}}),D.jsxs("div",{className:`memo-editor-wrapper ${e||""} ${Pe?"edit-ing":""} ${n.globalEditorShown?"fullscreen-editor":""} ${g?"":"hidden"}`,onKeyDownCapture:Se=>De(Se,!0),children:[D.jsx("span",{className:`tip-text ${Pe?"":"hidden"}`,children:"Modifying..."}),D.jsx(XI,{ref:b,...yt,tools:D.jsxs(D.Fragment,{children:[D.jsx("span",{ref:Se=>{Se&&I.setIcon(Se,"hash")},className:"btn action-btn add-tag",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!n.globalEditorShown&&be()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||n.globalEditorShown)&&be()}}),D.jsx("span",{ref:Se=>{Se&&I.setIcon(Se,"paperclip")},className:"btn action-btn file-upload",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!n.globalEditorShown&&He()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||n.globalEditorShown)&&He()}}),D.jsx("span",{ref:Se=>{Se&&I.setIcon(Se,c?"check-square":"layout-list")},className:"btn action-btn list-or-task",onClick:()=>{a&&a.DefaultEditorLocation==="Top"&&!n.globalEditorShown&&ie()},onPointerDown:()=>{(a&&a.DefaultEditorLocation==="Bottom"||n.globalEditorShown)&&ie()}}),D.jsx("div",{ref:Se=>{Se&&(I.setIcon&&I.setIcon(Se,n.globalEditorShown?"shrink":"expand"),I.setTooltip&&I.setTooltip(Se,n.globalEditorShown?O("Exit fullscreen mode"):O("Enter fullscreen mode")))},className:"action-btn show-editor",onPointerDown:()=>{ye()&&(m(!0),rt.setGlobalEditorShown(!n.globalEditorShown))}}),D.jsx("div",{className:"action-btn split-line"}),D.jsx("div",{className:"action-btn location-wrapper",onClick:Se=>{a&&a.DefaultEditorLocation==="Top"&&!n.globalEditorShown&&ue(Se)},onPointerDown:Se=>{(a&&a.DefaultEditorLocation==="Bottom"||n.globalEditorShown)&&ue(Se)},children:D.jsx("div",{ref:$,className:"action-btn file-location-btn"})})]})}),D.jsx("div",{ref:N,className:"date-picker",children:M&&D.jsx("div",{tabIndex:-1,style:R.styles.popper,...R.attributes.popper,ref:P,role:"dialog",children:D.jsx(Cv,{className:`editor-date-picker ${M?"":"hidden"}`,datestamp:j,handleDateStampChange:G})})})]})]})};function rN(){return Vn.get(["thinoEditorContentCache"]).thinoEditorContentCache??""}function wg(e){Vn.set({thinoEditorContentCache:e})}function aN(){const{locationState:{pathname:e},globalState:{memoListView:t,globalEditorShown:n}}=A.useContext(It);return D.jsxs(D.Fragment,{children:[n&&D.jsx(Gp,{}),!n&&D.jsx("section",{id:"page-wrapper",className:`memos-${e==="/"?t:"list"}-view`,children:D.jsxs(D.Fragment,{children:[D.jsx(EI,{}),D.jsx("main",{className:"content-wrapper",children:rQ(e)})]})})]})}const oN={"*":D.jsx(aN,{})},iN=()=>{const{dailyNotesState:{app:e,view:t},locationState:{query:{type:n}}}=A.useContext(It),r=Q.useRef(null),a=Q.useRef(null),[i,s]=Ao(!1);A.useEffect(()=>{!r||!t||!e||(t.registerEvent(e.workspace.on("blur-on-memos",()=>{var m;(m=r.current)==null||m.blur()})),t.registerEvent(e.workspace.on("focus-on-searchBar",()=>{var m;(m=r.current)==null||m.focus()})))},[r,e,t]),A.useEffect(()=>{a&&I.setIcon(a.current,"search")},[a]);const c=m=>{const{type:w}=it.getState().query;m===w&&(m=""),it.setMemoTypeQuery(m)},d=m=>{const w=m.currentTarget.value;if(!w.contains(" -time: ")){it.setTextQuery(w);return}const b=w.split(" -time: ")[1],T=b.length>10?b.match(/\d{4}-\d{2}-\d{2}/g):null;if(T==null){it.setTextQuery(w.split(" -time: ")[0]);return}if(T.length===1){const E=I.moment(T[0]);it.setTimeQuery({from:E.startOf("day").valueOf(),to:E.endOf("day").valueOf()})}else if(T.length===2){const E=I.moment(T[0]),k=I.moment(T[1]);it.setTimeQuery({from:E.startOf("day").valueOf(),to:k.endOf("day").valueOf()})}it.setTextQuery(w.split(" -time: ")[0])},h=()=>{s(!0)},g=()=>{s(!1)};return D.jsxs("div",{className:"search-bar-container",children:[D.jsxs("div",{className:"search-bar-inputer",children:[D.jsx("span",{ref:a,className:"btn icon-img"}),D.jsx("input",{ref:r,className:"text-input",type:"text",onMouseOver:h,onMouseOut:g,placeholder:i?O("Type here"):"",onChange:d})]}),D.jsx("div",{className:"quickly-action-wrapper",children:D.jsxs("div",{className:"quickly-action-container",children:[D.jsx("span",{className:"title-text",children:O("Quick filter")}),D.jsxs("div",{className:"section-container types-container",children:[D.jsxs("span",{className:"section-text",children:[O("TYPE"),":"]}),D.jsx("div",{className:"values-container",children:p1.map((m,w)=>D.jsxs("div",{children:[D.jsx("span",{className:`type-item ${n===m.value?"selected":""}`,onClick:()=>{c(m.value)},children:m.text}),w+1<p1.length?D.jsx("span",{className:"split-text",children:"/"}):null]},m.value))})]})]})})]})},FD={list:"align-justify",waterfall:"layout-grid",calendar:"calendar",minimal:"list",table:"table"},sN=e=>{const{dailyNotesState:{app:t,view:n,verifyState:r},globalState:{manifest:a}}=A.useContext(It),i=A.useRef(null),s=A.useRef(null),[c,d]=A.useState("list"),[h,g]=A.useState(null);A.useEffect(()=>{if(!a||!t)return;const w=t==null?void 0:t.plugins.getPlugin(a.id);g(w),d(w==null?void 0:w.settings.MemoListView),rt.setMemoListView(w==null?void 0:w.settings.MemoListView)},[a,t]),A.useEffect(()=>{if(!t||!n||!h)return;const w=()=>{if(n.leaf.height===0)return;const b=h==null?void 0:h.settings.MemoListView;n.leaf.width>876?(d(b||"list"),rt.setMemoListView(b||"list")):n.leaf.width<875&&(rt.setMemoListView("list"),d("list"))};w(),s.current||(s.current=t.workspace.on("resize",w),n.registerEvent(s.current))},[t,n,h]),A.useEffect(()=>{i&&(I.setIcon(i.current,FD[c]),rt.setMemoListView(c),I.requireApiVersion("1.4.4")&&I.setTooltip(i.current,O("Switch view")))},[c]);const m=async w=>{const b=I.Platform.isMobile?t.appId.replace(/\//g,"-"):t.appId;if(!r||(r==null?void 0:r.appId)!==b){vr();return}const T=async M=>{rt.setMemoListView(M),h&&(h.settings.MemoListView=M,await h.saveSettings()),d(M)},E=[{view:"list",title:O("List")},{view:"waterfall",title:O("Waterfall")},{view:"calendar",title:O("Calendar")},{view:"table",title:O("Table")}],k=new I.Menu;E.forEach(({view:M,title:F})=>{k.addItem(B=>{B.setChecked(c===M).setIcon(FD[M]).setTitle(F).onClick(()=>{c!==M&&T(M)})})}),k.showAtMouseEvent(w.nativeEvent)};return D.jsx("div",{className:`memos-view-switcher-wrapper ${e.className?e.className:""}`,ref:i,onClick:m})},lN=()=>{const e=A.useRef(null);return A.useEffect(()=>{e&&(I.setIcon(e.current,"calendar-check"),I.setTooltip&&I.setTooltip(e.current,O("Daily Memos")))},[e]),D.jsx("div",{className:"memos-review-entry-wrapper",ref:e,onClick:()=>{Bp()}})},uN=e=>{var b,T;const{dailyNotesState:{app:t,verifyState:n},locationState:{query:r}}=A.useContext(It),a=Q.useRef(null),[i,s]=Q.useState(!1),c=Q.useRef(null),[d,h]=Q.useState(""),g=kv(a.current,c.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,10]}}]});A.useEffect(()=>{i&&g.update&&(g==null||g.update())},[i]),A.useEffect(()=>{a&&I.setIcon(a.current,"filter")},[a]);const m=()=>{const E=I.Platform.isMobile?t.appId.replace(/\//g,"-"):t.appId;return!n&&(n==null?void 0:n.appId)!==E?(vr(),!1):!0};return wh(c,()=>{s(!1),d&&it.getState().query.filter===d&&it.setMemoFilter("")}),D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"thino-inline-filter-wrapper",ref:a,onClick:async()=>{m()&&(I.Platform.isDesktop?(s(!i),await(g==null?void 0:g.update())):new cN(ut.getState().app,r.filter,E=>{h(E)}).open())}}),D.jsx("div",{ref:c,className:`thino-inline-filter-container ${i?"":"hidden"}`,style:g.styles.popper,children:i&&D.jsx(mb,{type:"inline",queryId:(b=r.filter)!=null&&b.startsWith("Filter [Temp] ")&&!((T=r.filter)!=null&&T.includes("Filter [Temp]"))?"":r.filter,destroy:()=>{s(!1)},setPreview:E=>{h(E)}})})]})};class cN extends I.Modal{constructor(n,r,a){super(n);ve(this,"root");ve(this,"setPreview");this.filter=r,this.setPreview=a}onOpen(){var r,a;const{contentEl:n}=this;this.root=Tv(n),this.root.render(D.jsx(If,{store:Ce,context:It,children:D.jsx("div",{className:"thino-inline-filter-container",children:D.jsx(mb,{type:"modal",queryId:(r=this.filter)!=null&&r.startsWith("Filter [Temp] ")&&!((a=this.filter)!=null&&a.includes("Filter [Temp]"))?"":this.filter,destroy:()=>{this.close()},setPreview:i=>{this.setPreview(i)}})})}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const AD=({syncThino:e})=>{const{locationState:{query:{filter:t}},dailyNotesState:{app:n},globalState:{isMobileView:r,showSiderbarInMobileView:a},queryState:{queries:i}}=A.useContext(It),[s]=A.useState(Q.createRef()),[c,d]=A.useState("THINO");A.useEffect(()=>{const m=ln.getQueryById(t);d(m?m.title:"THINO")},[t,i]),A.useEffect(()=>{const m=s.current;I.setIcon(m,"refresh-cw")},[s]);const h=A.useCallback(()=>{if(!(r&&a)){if(e){const m=P1(n);e(m)}Me.fetchAllMemos()}},[]),g=A.useCallback(m=>{m.stopPropagation(),rt.setShowSiderbarInMobileView(!0)},[]);return D.jsxs("div",{className:"section-header-container memos-header-container",children:[D.jsxs("div",{className:"title-text",onClick:()=>{h(),s&&s.current.firstElementChild.toggleClass("rotate-hidden",!0),setTimeout(()=>{s&&s.current.firstElementChild.toggleClass("rotate-hidden",!1)},1e3)},children:[D.jsx(Io,{when:r,children:D.jsx("button",{ref:m=>{m&&I.setIcon(m,"menu")},className:"btn action-btn clickable-icon",onClick:g})}),D.jsx("span",{className:"normal-text",children:c}),D.jsx("span",{className:"refresh-icon",ref:s})]}),D.jsxs("div",{className:"memos-header-search-section",children:[D.jsx(lN,{}),D.jsx(sN,{className:r?"hidden":""}),D.jsx(uN,{}),D.jsx(iN,{})]})]})},fN='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="1146.31828" height="801.00361" viewBox="0 0 1146.31828 801.00361" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M1050.69918,514.5082a456.24913,456.24913,0,0,1-37.38013-261.87c3.6001-23.1,9.44006-46.85,24.43018-64.79,14.38989-17.23,39.34985-27.37,60.0299-19.29-13.56994-29.61-47.76-46.5-80.59-47.33-34.09-.86-66.92,12.5-97.25,28.1-30.33,15.6-59.65,33.81006-92.21,43.99-53.5,16.72-111.91,10.34-165.5-6.09-53.58-16.44-103.62-42.47-154.62-65.71-51.01-23.24-104.17-44.03-160.01-48.91-55.84-4.87-115.25,7.89-157.24,45.01s-61.87,101.28-38.27,152.11c14.25,30.7,42.22,54.32,52.04,86.7,12.32,40.65-7.08,83.96-30.41,119.45-23.34,35.49-51.8,69.58-60.47,111.16-8.01,38.38,2.72,78.02,24.05,111.38a197.34468,197.34468,0,0,0,35.74,41.61c43.09,37.91,98.77,58.15,154.17,73.13,200.27,54.17,416.13,49.29,613.75-13.88,34.99-11.18,69.95-24.43,99.32-46.48,19.16-14.38,35.83-33.02,46.39-54.35a114.10574,114.10574,0,0,0,11.13-36.18005C1104.43917,610.17819,1072.9692,562.05819,1050.69918,514.5082Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><g opacity="0.17"><path d="M890.75032,246.45145c9.64171-4.20394-9.91163-6.65119-32.09585-7.45582s-49.02061-.76011-63.19756-3.04875c-13.71114-2.21343-12.7009-6.14907-13.85427-9.71489s-6.42446-7.222-27.81928-8.0147c-26.6607-.98774-70.62581,2.81434-90.75171.53173-18.78121-2.13011-7.61723-8.81182-35.00344-9.06755-15.63837-.146-35.7849,2.05682-53.18577,2.58844-16.33647.49909-28.42216-.53441-36.90357-1.924s-14.38875-3.15126-23.93413-4.37864c-25.06068-3.2224-74.09133-2.13925-117.853,1.99071s-81.27344,10.89816-102.42889,17.60175-27.00029,13.30376-22.07239,18.90071c3.14674,3.574,11.19915,6.91585,30.73235,8.352,36.53555,2.68621,101.58387-1.9375,139.33713.50645,21.0415,1.36213,30.3764,4.73924,48.83812,6.58716,19.83407,1.98528,48.86935,2.09051,77.39656,2.04341,59.39721-.09807,120.3137-.70829,182.42994-1.82747,25.94486-.46745,53.13-1.0752,80.73761-3.30289s55.76623-6.52591,61.59076-10.5553" transform="translate(-26.84086 -49.49819)" fill="#fff"/></g><path d="M1099.25911,172.04818c-.46-1.18-.96-2.35-1.48-3.49.84.33,1.68006.69,2.51,1.08Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><path d="M648.74482,314.5843c-7.66935-12.68445-16.75721-26.22767-30.98955-30.36953-16.482-4.7965-33.41319,4.73193-47.77473,14.13453a1392.15692,1392.15692,0,0,0-123.89338,91.28311l.04331.49239q46.22556-3.18781,92.451-6.37555c22.26532-1.53546,45.29557-3.2827,64.97195-13.8156,7.46652-3.99683,14.74475-9.33579,23.20555-9.70782,10.51175-.46217,19.67733,6.87923,26.8802,14.54931,42.60732,45.371,54.937,114.7541,102.73817,154.61592A1516.99458,1516.99458,0,0,0,648.74482,314.5843Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M910.64576,699.4127c-4.71168-5.94958-6.63691-7.343-11.28457-13.34761Q842.5968,612.64872,792.65327,534.27272q-33.92353-53.23005-64.48275-108.50439-14.54863-26.27808-28.29961-52.96872-10.67043-20.6952-20.8646-41.63793c-1.94357-3.98781-3.83209-7.99393-5.71122-12.00922-4.42788-9.44232-8.7734-18.93047-13.43942-28.24449-5.31687-10.61571-11.78905-21.74485-21.55259-28.877a29.4049,29.4049,0,0,0-15.31855-5.89457c-7.948-.51337-15.28185,2.76854-22.17569,6.35294-50.43858,26.301-97.65921,59.27589-140.36959,96.79771A730.77781,730.77781,0,0,0,346.39748,485.87843c-1.008,1.43927-3.39163.06418-2.37419-1.38422q6.00935-8.49818,12.25681-16.81288A734.81742,734.81742,0,0,1,543.87972,292.6956q18.24825-11.82579,37.18269-22.54245c6.36206-3.60275,12.75188-7.15967,19.25136-10.49653,6.37147-3.27274,13.13684-6.21547,20.41563-6.32547,24.77011-.385,37.5954,27.667,46.40506,46.54248q4.15283,8.9106,8.40636,17.76626,16.07481,33.62106,33.38729,66.628,10.68453,20.379,21.83683,40.51955,34.7071,62.71816,73.77854,122.897c34.5059,53.1429,68.73651,100.08874,108.04586,149.78473C913.67124,698.84433,911.73706,700.80615,910.64576,699.4127Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M457.9912,345.4352c-1.43911-1.60428-2.86926-3.20856-4.31777-4.81284-11.42244-12.63259-23.6788-25.11847-39.3644-32.36067a57.11021,57.11021,0,0,0-23.92678-5.54622c-8.56213.02753-16.93178,2.27348-24.84307,5.41792-3.74034,1.49428-7.39831,3.19021-11.00078,4.99614-4.11634,2.07182-8.15927,4.28118-12.1834,6.50883q-11.33112,6.27044-22.36816,13.0909-21.9606,13.5722-42.54565,29.21623-10.67111,8.11311-20.90175,16.75788-9.51557,8.03052-18.64618,16.492c-1.30168,1.20091-3.24526-.74255-1.94358-1.94347,1.60428-1.49428,3.22692-2.97938,4.84955-4.44612q6.87549-6.21547,13.9712-12.19258,12.93921-10.91827,26.54851-20.99312,21.16295-15.67614,43.78289-29.2254,11.3036-6.76547,22.91829-12.9626c2.33793-1.24674,4.70317-2.466,7.09571-3.6211a113.11435,113.11435,0,0,1,16.86778-6.86631,60.00626,60.00626,0,0,1,25.476-2.50266,66.32725,66.32725,0,0,1,23.50512,8.1314c15.40091,8.60812,27.34573,21.919,38.97005,34.90916C461.10844,344.80265,459.17382,346.75529,457.9912,345.4352Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M773.55166,476.34216l36.90462-13.498,18.32327-6.70182c5.96758-2.18267,11.92082-4.66747,18.08989-6.23037a28.53868,28.53868,0,0,1,16.37355.20862,37.73731,37.73731,0,0,1,12.771,7.91667,103.63871,103.63871,0,0,1,10.47488,11.18642c3.98932,4.79426,7.9197,9.63878,11.86772,14.46706q24.44135,29.89093,48.56306,60.04134,24.12118,30.14991,47.91981,60.556,23.85681,30.48042,47.38548,61.21573,2.8823,3.76519,5.75967,7.53415c1.0598,1.38809,3.44948.01962,2.37471-1.38807q-23.70225-31.04441-47.73491-61.83464-24.09177-30.86383-48.51646-61.46586-24.42423-30.60142-49.17854-60.93744-6.167-7.5576-12.35444-15.09858c-3.47954-4.24072-6.91984-8.52718-10.73629-12.47426-7.00538-7.24516-15.75772-13.64794-26.23437-13.82167-6.15972-.10214-12.121,1.85248-17.844,3.92288-6.16967,2.232-12.32455,4.50571-18.48632,6.7594L782.11123,470.2921l-9.29068,3.39811c-1.64874.603-.9365,3.26189.73111,2.65195Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M409.45248,324.15733c-18.75411-9.63866-42.77137-7.75087-60.00507,4.29119A855.84532,855.84532,0,0,1,446.818,351.17434C433.53537,343.3904,423.14521,331.19475,409.45248,324.15733Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M349.26282,328.41534,345.6524,331.35c1.22123-1.02713,2.4908-1.99013,3.795-2.90144C349.3858,328.43789,349.32442,328.426,349.26282,328.41534Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M874.62436,476.477c-3.63279-4.42206-7.56046-9.05222-12.99421-10.84836l-5.07308.20009a575.43629,575.43629,0,0,0,153.26729,175.22056Q942.22437,558.76317,874.62436,476.477Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M1086.66915,698.4482c-10.56006,21.33-27.23,39.97-46.39,54.35-29.37,22.05-64.33,35.3-99.32,46.48-197.62,63.17-413.48,68.05-613.75,13.88-55.4-14.98-111.08-35.22-154.17-73.13a197.34468,197.34468,0,0,1-35.74-41.61c57.35-31.52,126.86-43.4,193.19-41.95,95.09,2.08,187.96,27.46,282.16,40.59a1102.669,1102.669,0,0,0,334.04-4.6c38.31994-6.43,77.98-14.84,115.49-4.66A95.14954,95.14954,0,0,1,1086.66915,698.4482Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><circle cx="179.31828" cy="51" r="51" fill="#ccc"/><path d="M362.30892,97.84042C348.81185,83.6816,333.13643,70.765,314.57961,63.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557A64.90832,64.90832,0,0,1,232.6863,78.8348a74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46711,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,361.647,100.3475,1.5139,1.5139,0,0,0,362.30892,97.84042Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><path d="M208.57961,131.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557,64.90832,64.90832,0,0,1-22.05231,8.22681,74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46712,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,255.647,168.3475a1.5139,1.5139,0,0,0,.66193-2.50708C242.81185,151.6816,227.13643,138.765,208.57961,131.93948Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><polygon points="1047.411 588.142 1074.576 567.518 1087.816 580.759 1043.563 611.042 1047.411 588.142" fill="#2f2e41"/><path d="M1048.91635,694.42781H955.99269l3.25907-10.55987,0,0c20.1993-7.31227,8.85333-23.02957,28.06751-32.63666,46.9968-23.4984,65.19118-93.62006,58.30932-121.33935l30.798-1.30221S1118.95877,649.37476,1048.91635,694.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M1128.24653,644.78888a15.61893,15.61893,0,0,1-20.18272.37759l-.0604-.04961-.00207-.07767a14.96483,14.96483,0,0,0-.6-3.81936,10.69077,10.69077,0,0,1-.38818,2.64366l-.07784.28991-.20873-.21549c-.18027-.18589-.35474-.37472-.51859-.561a15.75088,15.75088,0,0,1-2.399-3.63269,45.91623,45.91623,0,0,0-12.74-15.87972,22.29237,22.29237,0,0,1-2.6727-2.57172,22.03415,22.03415,0,0,1,27.66955-33.56911l.13767.0806-.07148.1425a11.47756,11.47756,0,0,1-2.04788,2.954,14.96829,14.96829,0,0,0,3.15395-2.27865l.10006-.09436.11337.07818a22.12793,22.12793,0,0,1,4.0294,3.5867l.12844.14726a9.83643,9.83643,0,0,0,7.28375,3.36123,15.614,15.614,0,0,1,15.11947,18.29291l-.01769.10315-.10034.0304a13.39866,13.39866,0,0,1-5.45694.68088,15.22208,15.22208,0,0,0,4.86061,1.2174l.21654.01718-.06874.20619a15.6035,15.6035,0,0,1-4.50339,6.79l-.05928.05187-.06294.05509a15.3329,15.3329,0,0,0-5.297,10.64272A15.73345,15.73345,0,0,1,1128.24653,644.78888Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M1131.089,639.76934a15.57418,15.57418,0,0,1-.1756,1.67894,15.78521,15.78521,0,0,0,2.53772-7.82047c.02071-.42637.06546-.8511.12549-1.27393A14.8141,14.8141,0,0,0,1131.089,639.76934Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1136.00331,620.789a15.19815,15.19815,0,0,0,3.88418,1.09822,15.63,15.63,0,0,0,1.42322-1.73647A13.24363,13.24363,0,0,1,1136.00331,620.789Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1141.72736,615.66082a15.70907,15.70907,0,0,1-.11112,4.05194,15.52908,15.52908,0,0,0,1.75758-3.62455l.06874-.2062-.21655-.01718A15.09472,15.09472,0,0,1,1141.72736,615.66082Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1140.28241,600.83967a15.65079,15.65079,0,0,0-11.46149-5.29958,9.83649,9.83649,0,0,1-7.28378-3.36124l-.12843-.14726a22.12785,22.12785,0,0,0-4.02939-3.58669l-.11338-.07817-.10005.09434a14.9676,14.9676,0,0,1-3.154,2.27865,11.47832,11.47832,0,0,0,2.04794-2.954l.07146-.1425-.13766-.08059a22.01777,22.01777,0,0,0-32.62113,14.2542,22.02182,22.02182,0,0,1,30.259-8.11268l.13765.08059-.07145.1425a11.47814,11.47814,0,0,1-2.04794,2.954,14.96754,14.96754,0,0,0,3.154-2.27865l.10006-.09434.11338.07817a22.12857,22.12857,0,0,1,4.02939,3.5867l.12843.14725a9.83643,9.83643,0,0,0,7.28377,3.36124,15.61675,15.61675,0,0,1,15.10347,12.83488,18.92714,18.92714,0,0,0,2.26005-.55l.10034-.03039.01776-.10314A15.554,15.554,0,0,0,1140.28241,600.83967Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1173.15913,536.54065a50.29141,50.29141,0,0,1-42.007,49.59965l-.2484.04053-.19219-.16016a48.18565,48.18565,0,0,0-10.51008-6.67159,34.42316,34.42316,0,0,1,5.5662,6.56047l.53537.80469-.96485.04641c-.8328.04053-1.66038.0608-2.45919.0608a50.71554,50.71554,0,0,1-13.88445-1.92513c-20.51748-5.83748-42.55022-6.83567-65.48571-2.96711a71.77856,71.77856,0,0,1-11.90147.993A70.94787,70.94787,0,0,1,1009.287,444.63723l.48765-.16146.19251.47589a36.95659,36.95659,0,0,1,2.787,11.23306,48.19635,48.19635,0,0,0,1.19789-12.47116l-.01536-.44255.43013-.10786a71.24939,71.24939,0,0,1,17.24051-2.1147l.62918.00262a31.67228,31.67228,0,0,0,23.616-10.46237,50.27568,50.27568,0,0,1,76.38016,2.34611l.2118.26213-.1399.30723c-2.93769,6.47484-6.13818,11.19189-9.95836,14.64143a49.01343,49.01343,0,0,0,13.27978-9.16282l.502-.487.35234.60466A50.24214,50.24214,0,0,1,1143.32,464.4278l-.00065.25363c-.00065.08956-.00065.17977-.00065.26932,0,13.61317,5.26419,26.51577,14.46689,35.43934A50.66021,50.66021,0,0,1,1173.15913,536.54065Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M1111.68868,417.71713a35.519,35.519,0,0,1-6.33509,7.77159,48.88929,48.88929,0,0,0,9.89823-6.1865Q1113.50228,418.44038,1111.68868,417.71713Z" transform="translate(-26.84086 -49.49819)"/><path d="M1140.79293,477.73323a50.48191,50.48191,0,0,1,7.22981,8.80775,51.39288,51.39288,0,0,1-4.70405-21.59022c0-.08957,0-.17978.00065-.26932l.00064-.25364a50.24245,50.24245,0,0,0-6.83956-25.32735l-.35235-.60468-.50207.487a49.12616,49.12616,0,0,1-9.17043,6.983A48.97185,48.97185,0,0,0,1140.79293,477.73323Z" transform="translate(-26.84086 -49.49819)"/><path d="M1126.32733,441.77093l-.00065.25364c-.00064.08954-.00064.17975-.00064.26931,0,.49355.00894.98585.02272,1.47739a52.3648,52.3648,0,0,0,5.95587-10.26709l.13985-.30725-.21176-.26212a50.68811,50.68811,0,0,0-9.096-8.79733A50.35621,50.35621,0,0,1,1126.32733,441.77093Z" transform="translate(-26.84086 -49.49819)"/><path d="M1157.78559,500.3901a45.45934,45.45934,0,0,1-6.40838-7.79666,50.2297,50.2297,0,0,1-37.21772,70.89l-.24841.04054-.19217-.16016a48.188,48.188,0,0,0-10.5101-6.67159,34.42262,34.42262,0,0,1,5.56617,6.56046l.5354.80471-.96482.0464c-.83286.04054-1.66041.0608-2.4592.0608a50.71549,50.71549,0,0,1-13.88448-1.92514c-20.51749-5.83747-42.55022-6.83566-65.4857-2.9671a71.7793,71.7793,0,0,1-11.90145.993,70.62389,70.62389,0,0,1-47.12-17.969,71.01118,71.01118,0,0,0,64.1127,40.6259,71.77947,71.77947,0,0,0,11.90145-.99294c22.93547-3.86857,44.96821-2.87037,65.4857,2.96709a50.71543,50.71543,0,0,0,13.88448,1.92514c.79878,0,1.62634-.02026,2.45919-.0608l.96483-.0464-.5354-.80471a34.42263,34.42263,0,0,0-5.56618-6.56045,48.18774,48.18774,0,0,1,10.51011,6.67159l.19217.16016.24841-.04055a50.25392,50.25392,0,0,0,26.63344-85.75019Z" transform="translate(-26.84086 -49.49819)"/></g><polygon points="134.035 560.973 97.223 533.025 79.28 550.968 139.25 592.007 134.035 560.973" fill="#2f2e41"/><path d="M195.21,687.42781h125.9266L316.72,673.11747l0,0c-27.37332-9.9093-11.99769-31.20879-38.036-44.228-63.68827-31.84414-88.3446-126.87035-79.01856-164.43447l-41.73625-1.76471S100.29113,626.37364,195.21,687.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M80.55365,605.25219a20.7786,20.7786,0,0,0-7.17833-14.42261c-.0283-.02489-.05681-.05-.08529-.07465l-.08034-.0703a21.14539,21.14539,0,0,1-6.10283-9.20148l-.09315-.27942.29345-.02329a20.6283,20.6283,0,0,0,6.58691-1.64977,18.15726,18.15726,0,0,1-7.395-.9227l-.136-.0412-.024-.13979a21.15953,21.15953,0,0,1,20.48932-24.78985,13.32987,13.32987,0,0,0,9.87066-4.555l.17406-.19956a29.9868,29.9868,0,0,1,5.46049-4.86055l.15364-.106.13559.12786a20.2845,20.2845,0,0,0,4.27411,3.088,15.554,15.554,0,0,1-2.77519-4.00312l-.09688-.19312.18657-.10923A29.85984,29.85984,0,0,1,141.70818,588.318a30.209,30.209,0,0,1-3.62195,3.48511,62.224,62.224,0,0,0-17.26483,21.51959,21.34447,21.34447,0,0,1-3.251,4.92289c-.222.25244-.45848.50834-.70277.76026l-.28286.292-.10549-.39287a14.48742,14.48742,0,0,1-.526-3.58259,20.27961,20.27961,0,0,0-.813,5.17585l-.00281.10525-.08185.06724a21.15037,21.15037,0,0,1-34.50192-15.41853Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M83.85266,613.35673a21.10374,21.10374,0,0,0,.238,2.27524,21.39156,21.39156,0,0,1-3.439-10.598c-.02806-.57781-.08871-1.15339-.17006-1.72639A20.07562,20.07562,0,0,1,83.85266,613.35673Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M77.193,587.63524a20.59681,20.59681,0,0,1-5.2637,1.48826,21.18029,21.18029,0,0,1-1.92868-2.3532A17.94731,17.94731,0,0,0,77.193,587.63524Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M69.436,580.68579a21.28893,21.28893,0,0,0,.1506,5.491,21.04389,21.04389,0,0,1-2.3818-4.91186l-.09316-.27943.29346-.02329A20.4517,20.4517,0,0,0,69.436,580.68579Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M71.39415,560.60073a21.20931,21.20931,0,0,1,15.53218-7.18179,13.33,13.33,0,0,0,9.87069-4.555l.174-.19955a29.98717,29.98717,0,0,1,5.46048-4.86056l.15364-.10593.13559.12785a20.28377,20.28377,0,0,0,4.27415,3.08794,15.55474,15.55474,0,0,1-2.77529-4.00312l-.09683-.19312.18655-.10921A29.83764,29.83764,0,0,1,148.51627,561.925a29.84315,29.84315,0,0,0-41.00585-10.994l-.18655.10921.09683.19311a15.5548,15.5548,0,0,0,2.77529,4.00313,20.28412,20.28412,0,0,1-4.27415-3.08794l-.13559-.12786-.15364.10594a29.98711,29.98711,0,0,0-5.46048,4.86055l-.174.19956a13.33,13.33,0,0,1-9.87069,4.555A21.16316,21.16316,0,0,0,69.65975,579.135a25.64845,25.64845,0,0,1-3.06273-.74529l-.136-.04118-.02407-.13978A21.07824,21.07824,0,0,1,71.39415,560.60073Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M47.67454,424.47529c12.47114-12.09289,19.605-29.578,19.605-48.026,0-.12136,0-.24361-.00089-.365l-.00088-.34372a68.08611,68.08611,0,0,1,9.26876-34.32266l.47748-.81942.68034.66a66.42122,66.42122,0,0,0,17.99625,12.41711c-5.177-4.67469-9.51414-11.06706-13.4952-19.8415l-.18957-.41636.287-.35523a68.13168,68.13168,0,0,1,103.50749-3.17935,42.9211,42.9211,0,0,0,32.00348,14.1782l.85264-.00355a96.55467,96.55467,0,0,1,23.36369,2.86576l.58289.14617-.02081.59973a65.31307,65.31307,0,0,0,1.62334,16.90044,50.08227,50.08227,0,0,1,3.77686-15.22262l.26089-.64491.66085.21881a96.14585,96.14585,0,0,1-30.24771,187.39848A97.27192,97.27192,0,0,1,202.538,534.974c-31.0813-5.24253-60.93923-3.88982-88.74374,4.02092a68.72787,68.72787,0,0,1-18.81567,2.60886c-1.08252,0-2.204-.02747-3.33261-.08239l-1.30753-.0629L91.064,540.368a46.64968,46.64968,0,0,1,7.5431-8.8905,65.29981,65.29981,0,0,0-14.24286,9.0411l-.26045.217-.33662-.05492A68.10219,68.10219,0,0,1,47.67454,424.47529Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M110.14328,312.44a48.13438,48.13438,0,0,0,8.58508,10.53176,66.25283,66.25283,0,0,1-13.4137-8.38371Q107.68556,313.42016,110.14328,312.44Z" transform="translate(-26.84086 -49.49819)"/><path d="M70.70231,393.77157a68.411,68.411,0,0,0-9.79756,11.93592,69.64577,69.64577,0,0,0,6.37475-29.25825c0-.12137,0-.24362-.00088-.365l-.00087-.34372a68.08661,68.08661,0,0,1,9.26871-34.32266l.4775-.81944.68039.66a66.5738,66.5738,0,0,0,12.42741,9.46305C88.97194,367.31049,82.046,382.77189,70.70231,393.77157Z" transform="translate(-26.84086 -49.49819)"/><path d="M90.30555,345.03683l.00087.34372c.00088.12134.00088.24359.00088.365,0,.66884-.01212,1.336-.0308,2.0021A70.9624,70.9624,0,0,1,82.20534,333.834l-.18953-.41637.287-.35522a68.69044,68.69044,0,0,1,12.32659-11.92181A68.24086,68.24086,0,0,0,90.30555,345.03683Z" transform="translate(-26.84086 -49.49819)"/><path d="M47.67451,424.4753a61.60525,61.60525,0,0,0,8.6844-10.56575,68.06938,68.06938,0,0,0,50.436,96.06741l.33664.05494.26042-.217a65.30253,65.30253,0,0,1,14.24289-9.04108,46.64767,46.64767,0,0,0-7.54306,8.89047l-.72556,1.09052,1.3075.06287c1.12865.05494,2.25012.08239,3.33261.08239a68.72762,68.72762,0,0,0,18.81572-2.60886c27.80451-7.91072,57.66244-9.26344,88.74372-4.0209a97.27262,97.27262,0,0,0,16.12839,1.3456,95.7069,95.7069,0,0,0,63.8553-24.35094,96.23165,96.23165,0,0,1-86.88309,55.05467A97.27245,97.27245,0,0,1,202.538,534.974c-31.08129-5.24254-60.93922-3.88982-88.74373,4.0209a68.72763,68.72763,0,0,1-18.81572,2.60887c-1.08249,0-2.204-.02746-3.33261-.0824l-1.30749-.06287L91.064,540.368a46.64834,46.64834,0,0,1,7.54306-8.89047,65.30253,65.30253,0,0,0-14.24289,9.04108l-.26042.217-.33663-.05494A68.10219,68.10219,0,0,1,47.67451,424.4753Z" transform="translate(-26.84086 -49.49819)"/></g><circle cx="460.31828" cy="185" r="5" fill="#fff"/><circle cx="834.31828" cy="305" r="3" fill="#fff"/><circle cx="892.31828" cy="170" r="3" fill="#fff"/><circle cx="355.31828" cy="80" r="3" fill="#fff"/><circle cx="325.31828" cy="201" r="3" fill="#fff"/><circle cx="179.31828" cy="170" r="3" fill="#fff"/><circle cx="696.31828" cy="195" r="3" fill="#fff"/><circle cx="1003.31828" cy="98" r="3" fill="#fff"/><path d="M328.95929,413.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C339.30268,425.75443,332.75886,420.59829,328.95929,413.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M910.95929,612.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C921.30268,624.75443,914.75886,619.59829,910.95929,612.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M591.95929,449.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C602.30268,461.75443,595.75886,456.59829,591.95929,449.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M287.95929,565.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C298.30268,577.75443,291.75886,572.59829,287.95929,565.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M249.95929,651.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C260.30268,663.75443,253.75886,658.59829,249.95929,651.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><rect x="843.31828" y="68" width="11" height="589" fill="#3f3d56"/><rect x="813.31828" y="20" width="72" height="72" rx="35.99996" fill="#ff6582"/><path d="M418.64263,424.1385c0,11.47771,12.51572,21.67823,23.99344,21.67823s17.571-10.20052,17.571-21.67823a20.78224,20.78224,0,0,0-41.56448,0Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="398.471 484.489 437.067 483.005 439.294 442.925 394.76 442.925 398.471 484.489" fill="#ffb8b8"/><path d="M400.81364,561.4928a6.18231,6.18231,0,0,0-.36494-9.4728l7.00739-20.82235-11.03775,2.917-4.96213,19.32605a6.21581,6.21581,0,0,0,9.35743,8.05215Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><circle cx="415.75835" cy="381.62478" r="14.69804" fill="#ffb8b8"/><path d="M442.96047,429.64379l-10.73253-.28426a1.504,1.504,0,0,1-1.28014-.78738l-3.58787-6.65514a1.49783,1.49783,0,0,1,.39563-1.89138L441.79818,409.047a1.49679,1.49679,0,0,1,1.25618-.28037l11.34184,2.58422a1.499,1.499,0,0,1,1.1066,1.04314l4.4413,15.29492a1.49935,1.49935,0,0,1-1.51389,1.916l-5.5602-.27779a1.50724,1.50724,0,0,1-1.34747-1.0276l-.23052-.69867a.17342.17342,0,0,0-.338.05439,1.49974,1.49974,0,0,1-1.57346,1.4977l-1.84088-.09194a1.4954,1.4954,0,0,1-1.396-1.205l-.79385-3.99256a.1732.1732,0,0,0-.34188.01359l-.51866,4.442a1.492,1.492,0,0,1-1.48734,1.32546Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M432.2515,449.58079l19.00323.25331,6.18481,7.85346,9.95684,2.3481,2.5878,14.95427c1.29375,7.47624-.07979,12.21089-3.88076,18.77751l0,0-.45522,12.91771.503.91426a2.09364,2.09364,0,0,1-.63119,2.72267h0a4.27726,4.27726,0,0,1,.11752,2.81491l-.24528.81046s-.70783,5.66261-40.83239-.29293a3.95632,3.95632,0,0,1-3.34345-3.3986h0a2.95406,2.95406,0,0,1-.547-3.4038l.08175-.16348-.412-.48529a3.177,3.177,0,0,1-.1608-3.90659h0l-5.76652-41.25217,11.91192-3.71Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M419.16862,464.99288l-4.75684-3.94828s-4.22952,1.25013-7.18334,9.58077-13.08957,71.52656-13.08957,71.52656l11.87557-5.93778,16.8392-46.43085Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M524.81946,532.274a6.18228,6.18228,0,0,1-7.09116-6.29147l-20.54147-7.79242,9.257-6.682,18.08733,8.42424a6.21581,6.21581,0,0,1,.28831,12.34162Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><path d="M461.88061,464.63253l3.22471-5.27425s4.40655-.18456,9.89528,6.74353c2.81373,3.55161,21.04874,34.01719,21.04874,34.01719l16.86311,14.05546-13.80628,4.93081-16.27169-6.90314-18.244-30.078Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="435.555 666.81 444.739 666.81 449.108 631.385 435.553 631.386 435.555 666.81" fill="#ffb6b6"/><polygon points="355.157 661.099 364.044 663.415 377.208 630.238 364.091 626.819 355.157 661.099" fill="#ffb6b6"/><path d="M460.11787,711.77763l14.51826-.86655v6.22026l13.80293,9.53279a3.88541,3.88541,0,0,1-2.20782,7.08274H468.9467l-2.97925-6.15279-1.16325,6.15279h-6.517Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M380.13111,705.42858l14.2674,2.8235-1.569,6.01913,10.95211,12.70615a3.88541,3.88541,0,0,1-3.923,6.29683L383.133,728.91441l-1.331-6.70531-2.67759,5.66043-6.30624-1.64381Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M383.1248,688.31931l26.92081-55.33021,2.11353-65.49091C406.33233,556.677,423.491,532.805,423.491,532.805v-9.24491l41.91852,7.90812v0a201.21489,201.21489,0,0,1,12.26151,73.06026L475.982,694.04734h.52987a3.31527,3.31527,0,1,1,0,6.63053H459.9355a3.31527,3.31527,0,1,1,0-6.63053h.4274L448.4631,580.16351l-13.83654,56.19881L401.189,688.1066a3.3069,3.3069,0,0,1-.26524,6.60379H384.34739a3.31182,3.31182,0,0,1-1.22259-6.39108Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M382.75841,426.29647c6.19395-6.05935,10.09279-14.02773,15.22255-21.01108,5.1296-6.98327,12.35472-13.3824,21.01083-13.77026a13.03786,13.03786,0,0,1,8.16579,2.129,8.30541,8.30541,0,0,1,3.60455,7.36741c.9138-2.56674,4.99718-3.1453,6.588-.93331,1.59062,2.21191-.25722,5.89893-2.98115,5.94838l-.2671-1.05666a18.24877,18.24877,0,0,1-11.80141,7.83613,2.9783,2.9783,0,0,1-3.35526-3.85425C409.59087,410.80666,412.56052,428.25234,407,436s-21.45259,6.99551-30.82907,8.7353c-9.05466,1.68-17.85857-3.34756-25.69931-8.178A38.2715,38.2715,0,0,0,382.75841,426.29647Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M732.68989,636.90373,704.47275,624.455V613.75265l10.0561-.05651a7.46918,7.46918,0,0,0,7.044-5.10714l7.06437-21.19305a7.46924,7.46924,0,0,0-7.086-9.83122H704.47275v-9.959H725.913a7.46925,7.46925,0,0,0,7.27937-5.79584l4.865-21.16286a7.46923,7.46923,0,0,0-7.27937-9.14265H704.47275v-2.48975a4.97949,4.97949,0,0,0-9.959,0v2.48975H518.1566v-2.48975a4.9795,4.9795,0,0,0-9.959,0v2.48975H487.2868a7.46923,7.46923,0,0,0-7.27937,9.14265l4.865,21.16286a7.46925,7.46925,0,0,0,7.27937,5.79584H508.1976v9.959H496.51328a7.46923,7.46923,0,0,0-7.10927,9.76l7.21041,22.37711a7.46925,7.46925,0,0,0,7.15123,5.17837l4.432-.0249V624.455l-22.82269,12.44874a7.46922,7.46922,0,0,0-7.46924,7.46922v0a7.46925,7.46925,0,0,0,7.46924,7.46925H508.1976v54.77446a4.9795,4.9795,0,0,0,9.959,0V651.84222H694.51376v54.77446a4.97949,4.97949,0,0,0,9.959,0V651.84222h28.21714a7.46925,7.46925,0,0,0,7.46925-7.46925v0A7.46922,7.46922,0,0,0,732.68989,636.90373Zm-214.53329-69.298H694.51376v9.959H518.1566Zm0,56.84925v-9.65563l176.35716-.99076V624.455Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/></svg>',dN='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="855.93958" height="630.06608" viewBox="0 0 855.93958 630.06608" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M935.43234,472.55767c-3.73,43.08-22.51,84.71-49.3,119.14q-1.68,2.16-3.4,4.28-3.87,4.77-7.94,9.36-4.98,5.655-10.25,11.05005-4.29,4.43994-8.78,8.68994-3.465,3.315-7.01,6.5c-28.43,25.69-61.09,46.89-94.74,65.43005-65.67,36.17-137.65,63.56995-212.52,67.56-74.86,3.98-153.01-17.46-207.91-68.52-73.99-68.81-94.63995-183.58-64.6-280.05,19.98-64.18,60.76-122.24,116.26-160.16,55.02-37.59,124.43-54.51,190.12-43.44995,52.44-31.87006,121.09-32.48,178.1-8.89,30.42,12.59,57.72,31.31,81.67,53.93a339.34337,339.34337,0,0,1,30.72,33.23q1.455,1.785,2.88,3.6,5.97,7.545,11.55,15.4,8.01,11.265,15.21,23.03c1.32,2.16,2.63,4.33,3.91,6.52.86,1.47,1.73,2.95,2.58,4.44a.29776.29776,0,0,1,.04.1c13.31,23.41,24.19,48.39,29.86005,74.5,1,4.62,1.84,9.26,2.49,13.94v.01q.855,5.955,1.29,11.97A176.97711,176.97711,0,0,1,935.43234,472.55767Z" transform="translate(-172.03021 -134.96696)" fill="#3f3d56"/><path d="M740.07386,537.68412,591.61233,414.00627,735.84027,542.638a3.44161,3.44161,0,1,0,4.23359-4.95386Z" transform="translate(-172.03021 -134.96696)" fill="#f0f0f0" opacity="0.3"/><circle cx="227.58212" cy="250.78071" r="89" fill="#f2f2f2"/><path d="M478.61233,379.74767a80.99369,80.99369,0,0,1-81,81,81.57161,81.57161,0,0,1-27.8-4.9,81.05489,81.05489,0,1,1,108.8-76.1Z" transform="translate(-172.03021 -134.96696)" fill="#fff"/><circle cx="211.58212" cy="217.78071" r="25" fill="#e4e4e4"/><path d="M475.45236,357.27764a25.00115,25.00115,0,0,1-27.6-41.08A81.05279,81.05279,0,0,1,475.45236,357.27764Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="252.58212" cy="271.78071" r="9" fill="#e4e4e4"/><path d="M387.61233,457.74767a9.04581,9.04581,0,0,1-.31,2.34,79.52774,79.52774,0,0,1-17.49-4.24,9.00157,9.00157,0,0,1,17.8,1.9Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><path d="M334.61233,375.74767a18.002,18.002,0,0,1-16.8,17.96,81.54773,81.54773,0,0,1,1.76-35.71A18.00026,18.00026,0,0,1,334.61233,375.74767Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="606.45653" cy="208.48305" r="3.70234" fill="#6c63ff"/><circle cx="572.30231" cy="119.94851" r="2.16307" fill="#f0f0f0"/><circle cx="225.30231" cy="543.94851" r="2.16307" fill="#f0f0f0"/><circle cx="584.58144" cy="331.59402" r="2.16307" fill="#f0f0f0"/><circle cx="305.45653" cy="350.48305" r="3.70234" fill="#6c63ff"/><circle cx="171.45653" cy="416.48305" r="17.48305" fill="#6c63ff"/><circle cx="267.30231" cy="435.94851" r="2.16307" fill="#f0f0f0"/><circle cx="487.30231" cy="97.94851" r="2.16307" fill="#f0f0f0"/><circle cx="358.30231" cy="558.94851" r="2.16307" fill="#f0f0f0"/><circle cx="326.30231" cy="117.94851" r="2.16307" fill="#f0f0f0"/><circle cx="382.30231" cy="222.94851" r="2.16307" fill="#f0f0f0"/><circle cx="296.58144" cy="480.59402" r="2.16307" fill="#f0f0f0"/><circle cx="549.58144" cy="494.59402" r="2.16307" fill="#f0f0f0"/><circle cx="437.58144" cy="368.59402" r="2.16307" fill="#f0f0f0"/><circle cx="494.58144" cy="222.59402" r="2.16307" fill="#f0f0f0"/><circle cx="598.21204" cy="292.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="150.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="445.65473" r="4.28889" fill="#ff6584"/><path d="M863.45236,605.33764a7.694,7.694,0,0,0-7.39,5.58,7.3896,7.3896,0,0,0-.3,2.12v12.04q4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.68118,667.89806q-19.36816,0-42.45654-1.46386c-79.61377-5.05567-182.7378-22.63282-290.376-49.49219-107.6377-26.85938-206.93018-59.79395-279.58545-92.73438-35.39258-16.04687-62.55615-31.23632-80.73535-45.14746-19.24707-14.72705-27.666-27.564-25.02393-38.15283,5.148-20.62891,50.731-25.14209,88.064-25.29541l.01269,3c-51.26806.21045-81.51367,8.38672-85.16552,23.022-4.65186,18.64014,33.28662,47.74073,104.08691,79.84131,72.49561,32.86817,171.60547,65.73926,279.07324,92.55664,107.46729,26.81641,210.40137,44.36328,289.83985,49.40821,77.57861,4.92773,124.74316-2.9375,129.39453-21.57813,3.86181-15.47656-21.59815-38.27539-71.68946-64.19824l1.37891-2.66406c36.397,18.83593,78.64551,45.85156,73.22168,67.58886-2.64258,10.58887-16.10547,17.96485-40.01514,21.92285C927.0762,666.7672,910.33548,667.89806,890.68118,667.89806Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="714.58212" cy="208.78071" r="100.5" fill="#fff"/><path d="M886.61233,241.74767a102,102,0,1,0,102,102A101.635,101.635,0,0,0,886.61233,241.74767Zm0,201a99,99,0,1,1,99-99A98.61767,98.61767,0,0,1,886.61233,442.74767Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M798.417,367.81847a2.00078,2.00078,0,0,1-1.957-1.59765,97.66924,97.66924,0,0,1,22.34082-83.13526,2,2,0,0,1,2.98633,2.66114A93.59682,93.59682,0,0,0,800.378,365.41515a2.00228,2.00228,0,0,1-1.96094,2.40332Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><circle cx="714.51924" cy="238.27373" r="63.87702" fill="#6c63ff"/><path d="M866.24805,397.35666c-4.14062-.115-9.29385-.25869-13.26384-3.15874a10.18618,10.18618,0,0,1-4.00806-7.60607,6.85213,6.85213,0,0,1,2.33007-5.62763c2.07352-1.75216,5.10139-2.16313,8.36441-1.2042l-3.38076-24.7061,2.48174-.34,3.97444,29.04518-2.07245-.951c-2.4027-1.10205-5.70088-1.66285-7.7504.06911a4.40263,4.40263,0,0,0-1.44375,3.62659,7.69887,7.69887,0,0,0,2.98246,5.67107c3.08949,2.25668,7.19708,2.54779,11.85585,2.678Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><rect x="658.49493" y="222.21767" width="13.49133" height="2.50498" fill="#2f2e41"/><rect x="701.07961" y="222.21765" width="13.49133" height="2.50498" fill="#2f2e41"/><path d="M889.23233,452.90765h-57.9a8.14716,8.14716,0,0,0-8.13995,8.14v128.33a47.66955,47.66955,0,0,0,25.56,42.19995q3.555-3.18,7.01-6.5,4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005,4.08006-4.59,7.94-9.36,1.725-2.115,3.4-4.28c26.79-34.43,45.57-76.06,49.3-119.14A64.04854,64.04854,0,0,0,889.23233,452.90765Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M891.34231,479.68767a14.61136,14.61136,0,0,0-10.43-4.17,14.465,14.465,0,0,0-9.16,3.36005,13.12263,13.12263,0,0,0-1.17,1.07l-47.38995,48.6-34.37,35.25a6.80061,6.80061,0,0,0-1.28,1.8,7.29573,7.29573,0,0,0-.77,3.32,7.16751,7.16751,0,0,0,2.18006,5.07l1.35,1.32,9.8,9.55.01-.01a7.29073,7.29073,0,0,0,4.66,1.63,7.167,7.167,0,0,0,5.07-2.18l1.59-1.62,11.38-11.67.38-.39,68.41-70.16a14.69128,14.69128,0,0,0-.26-20.77Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.86152,343.44c2.1124-4.46658-.05349-9.23761-3.76378-12.09072-4.67557-3.59539-10.7221-3.00085-16.04008-1.29905-5.82238,1.8632-11.51366,5.21608-17.80383,5.02337a11.13058,11.13058,0,0,1-10.24407-7.27764c-3.3687-8.639.43561-18.29488,6.29971-24.84681a34.26766,34.26766,0,0,1,26.544-11.586,34.64989,34.64989,0,0,1,28.068,16.9026,1.54079,1.54079,0,0,0,2.05229.53813,36.88225,36.88225,0,0,1,28.39377-.71432,36.28984,36.28984,0,0,1,22.58042,34.49188c-.05,1.93122,2.95005,1.9301,3,0a39.89155,39.89155,0,0,0-10.59928-27.81249,38.71871,38.71871,0,0,0-27.56681-12.16772,39.33641,39.33641,0,0,0-17.32226,3.61223l2.05229.53813a37.69886,37.69886,0,0,0-25.0988-17.728,36.48542,36.48542,0,0,0-29.42384,7.32772c-7.70165,6.02707-13.53849,15.38016-13.17519,25.41071.15721,4.34047,1.44713,8.796,4.4606,12.03051,3.85981,4.14287,9.62229,4.85944,14.94631,3.798,7.07554-1.41071,13.53533-6.06449,20.91133-5.92113a10.21164,10.21164,0,0,1,7.6417,3.4453c1.62455,1.83335,2.6042,4.47042,1.49716,6.81122-.82094,1.73585,1.76463,3.26026,2.59041,1.51416Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M412.09426,704.32287c-35.59912.001-68.69433-1.22071-98.32226-3.68555-38.72656-3.22266-69.41455-8.40332-91.21045-15.39648-23.07666-7.40528-35.31934-16.667-36.38818-27.52832-2.083-21.15821,39.334-40.72461,74.44531-53.41309l1.01953,2.82227c-48.2168,17.42382-73.957,35.28613-72.47949,50.29785,1.88183,19.11914,47.39209,33.78125,124.86181,40.22754,79.3252,6.60058,183.71729,4.26172,293.94727-6.58985,110.23-10.84863,213.07568-28.90625,289.59131-50.8457,74.72607-21.42578,116.50488-44.67969,114.623-63.79883-1.5625-15.874-33.20264-28.793-89.0918-36.3789l.40332-2.97266c40.60986,5.51172,89.47949,16.76172,91.67383,39.05762,1.06933,10.86132-9.1333,22.332-30.32276,34.09375-20.01465,11.10937-49.10351,22.17285-86.45849,32.88281-76.68506,21.98828-179.71973,40.08105-290.12451,50.94824C539.00247,700.86,472.01663,704.32287,412.09426,704.32287Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="838.45653" cy="434.48305" r="17.48305" fill="#6c63ff"/><circle cx="331.45653" cy="17.48305" r="17.48305" fill="#e6e6e6"/><circle cx="19.45653" cy="433.48305" r="17.48305" fill="#e6e6e6"/><circle cx="127.45653" cy="108.48305" r="10.70234" fill="#ff6584"/><circle cx="77.45653" cy="514.48305" r="10.70234" fill="#ff6584"/><circle cx="807.45653" cy="339.48305" r="10.70234" fill="#ff6584"/><circle cx="645.45653" cy="598.48305" r="17.48305" fill="#e6e6e6"/></svg>',pN=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let i=0;i<n.length;i++)a[i]=n.charCodeAt(i);return new Blob([r],{type:t})},hN=async e=>{const{vault:t}=ut.getState().app,n=await t.adapter.readBinary(e),r=new Uint8Array(n),a=new Blob([r],{type:"image/png"});return new Promise(i=>{const s=new FileReader;s.onloadend=()=>{const c=s.result;i(c)},s.readAsDataURL(a)})},mN=async()=>{const{app:e,settings:t}=ut.getState();let n,r;const a=document.body.hasClass("theme-light"),i=a?t==null?void 0:t.DefaultLightBackgroundImage:t==null?void 0:t.DefaultDarkBackgroundImage;await e.vault.adapter.exists(t==null?void 0:t.DefaultLightBackgroundImage)&&/\.(png|svg|jpg|jpeg)/g.test(t==null?void 0:t.DefaultLightBackgroundImage)?(r=i,n=await hN(r)):n="data:image/svg+xml;base64,"+btoa(a?fN:dN);const c=document.querySelector(".dialog-wrapper .memo-background .property-image");c.style.backgroundImage="url('"+n+"')",document.body.className.contains("theme-dark")&&(c.style.backgroundColor="#1f1f1f")},gN=e=>{const{memo:t,destroy:n}=e,{memos:r}=Ce.getState().memoState,{view:a,app:i,settings:s}=Ce.getState().dailyNotesState,c={...t,createdAtStr:Ue.getDateTimeString(t.createdAt)},[d,h]=A.useState(!1),[g,m]=A.useState(c.content),[w,b]=A.useState(!1),T=A.useRef(null),E=A.useRef(null),[k,M]=A.useState(""),F=A.useRef(null),B=A.useRef(null);let N,P;r.length&&(N=r.length>0?r[r.length-1]:null,N?P=r?Math.ceil((Date.now()-Ue.getTimeStampByDate(N==null?void 0:N.createdAt))/1e3/3600/24)+1:0:P=0);const R=s==null?void 0:s.ShareFooterEnd.replace("{UserName}",s==null?void 0:s.UserName),j=s==null?void 0:s.ShareFooterStart.replace("{ThinoNum}",r.length.toString()).replace("{UsedDay}",P.toString());A.useEffect(()=>{!T.current||!E.current||(I.setIcon(T.current,"copy"),I.setIcon(E.current,"x"))},[T,E]),A.useEffect(()=>{I.setIcon(T.current,w?"loader":"copy"),T.current.disabled=w,T.current.toggleClass("copying",w)},[w]),A.useEffect(()=>{if(!B.current||!a||d)return;m(t.content),B.current.hasChildNodes()&&B.current.empty();async function X(){await I.MarkdownRenderer.render(i,t.content.replaceAll(/<br>/g,`
`)+`
`,B.current,t.path,a)}X(),setTimeout(()=>{if(mN(),!F.current)return;let oe;document.body.hasClass("theme-dark")?oe="#727171":oe="#eaeaea",d3(F.current,{backgroundColor:oe,pixelRatio:window.devicePixelRatio*2}).then(ee=>{M(ee),h(!0)}).catch(()=>{})},Z2)},[F,B,c]);const $=()=>{n()},W=A.useCallback(X=>{b(X)},[w]),z=async()=>{W(!0);const{vault:X}=Ce.getState().dailyNotesState.app,oe=F.current.querySelector(".memo-shortcut-img");if(!oe)return;const ee=oe==null?void 0:oe.getAttribute("src").split("base64,")[1],de=pN(ee,"image/png");let fe;if(s!=null&&s.AutoSaveWhenOnMobile&&I.Platform.isMobile&&de.arrayBuffer().then(async xe=>{const pe="png",we=Nu();for(const U in we)if(we[U]instanceof I.TFile){fe=we[U];break}fe!==void 0&&await X.createBinary(await X.getAvailablePathForAttachments(`Pasted Image ${I.moment().format("YYYYMMDDHHmmss")}`,pe,fe),xe)}),!de){new I.Notice("Copy to clipboard failed");return}const De=new ClipboardItem({"image/png":de});window.navigator.clipboard.write([De]).then(()=>{setTimeout(()=>{W(!1)},500)}),new I.Notice("Copy to clipboard successfully")};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"dialog-header-container",children:[D.jsxs("p",{className:"title-text",children:[D.jsx("span",{className:"icon-text",children:"🥰"}),O("Share Memo Image")]}),D.jsxs("div",{className:"btn-group",children:[D.jsx("button",{ref:T,className:"btn copy-btn",onClick:z}),D.jsx("button",{ref:E,className:"btn close-btn",onClick:$})]})]}),D.jsxs("div",{className:"dialog-content-container",children:[D.jsx("div",{className:`tip-words-container ${k?"finish":"loading"}`,children:D.jsx("p",{className:"tip-text",children:O(k?"↗Click the button to save":"Image is generating...")})}),D.jsxs("div",{className:"memo-container",ref:F,children:[D.jsx(Io,{when:k!=="",children:D.jsx("img",{className:"memo-shortcut-img",onClick:z,src:k})}),D.jsxs("div",{className:"memo-background",children:[D.jsx("div",{className:"property-image",style:{backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),D.jsx("span",{className:"background-container"}),D.jsx("div",{ref:B,className:"memo-content-text"}),D.jsxs("div",{className:"watermark-container",children:[D.jsxs("span",{className:"normal-text footer-start",children:[D.jsx("div",{className:"property-social-icons"}),D.jsx("span",{className:"name-text",children:j})]}),D.jsx("span",{className:"normal-text footer-end",children:D.jsx("span",{className:"name-text",children:R})})]})]})]})]})]})};function vN(e){bh({className:"share-memo-image-dialog"},gN,{memo:e})}const yN=A.forwardRef((e,t)=>{const{memo:n,handlePinMemoClick:r,handleFixMemoClick:a,handleSourceMemoClick:i,handleShowMemoStoryDialog:s,handleCopyMemoClick:c,handleEditMemoClick:d,handleGenMemoImageBtnClick:h,handleMarkMemoClick:g,handleArchiveMemo:m,handleDeleteMemoClick:w}=e,b=Ce.getState().dailyNotesState.settings,[T,E]=Ao(!1),k=A.useRef(null),M={pinRef:A.useRef(null),fixRef:A.useRef(null),typeRef:A.useRef(null),moreRef:A.useRef(null)},F={copy:A.useRef(null),read:A.useRef(null),mark:A.useRef(null),share:A.useRef(null),edit:A.useRef(null),source:A.useRef(null),archive:A.useRef(null),delete:A.useRef(null)};return A.useEffect(()=>{k.current&&(I.setIcon(F.copy.current,"copy"),I.setIcon(F.read.current,"book-open"),I.setIcon(F.mark.current,"bookmark"),I.setIcon(F.share.current,"share-2"),I.setIcon(F.edit.current,"pencil"),I.setIcon(F.source.current,"home"),I.setIcon(F.archive.current,"archive"),I.setIcon(F.delete.current,"trash"))},[k]),A.useEffect(()=>{if(!M.typeRef)return;const B=bf.find(N=>N.title===n.sourceType);I.setIcon(M.typeRef.current,B.icon),I.requireApiVersion("1.4.4")&&I.setTooltip(M.typeRef.current,n.path),M.fixRef&&(I.setIcon(M.fixRef.current,"shield-alert"),I.requireApiVersion("1.4.4")&&I.setTooltip(M.fixRef.current,"Update Thino property"))},[M.typeRef]),A.useEffect(()=>{M.pinRef&&(n.pinned?(I.setIcon(M.pinRef.current,"pin-off"),I.requireApiVersion("1.4.4")&&I.setTooltip(M.pinRef.current,O("UNPIN"))):(I.setIcon(M.pinRef.current,"pin"),I.requireApiVersion("1.4.4")&&I.setTooltip(M.pinRef.current,O("PIN"))))},[M.pinRef,n.pinned]),A.useImperativeHandle(t,()=>({toggleConfirm:B=>E(B),confirmStatus:T})),D.jsx("div",{ref:k,className:"memo-top-right-wrapper",children:D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:M.fixRef,className:`btn ${n.sourceType!=="MULTI"||n.id!==""?"hidden":""} fix-memo-btn`,onClick:()=>a(n)}),D.jsx("span",{ref:M.typeRef,className:`btn ${n.sourceType==="DAILY"?"hidden":""} source-type-btn`,onClick:()=>i(n)}),D.jsx("span",{ref:M.pinRef,className:`btn ${e.memo.pinned?"pinned-btn":"unpinned-btn"}`,onClick:r}),D.jsx("span",{ref:B=>{M.moreRef.current=B,B&&I.setIcon(B,"more-horizontal")},className:"btn more-action-btn"}),D.jsx("div",{className:"more-action-btns-wrapper",children:D.jsxs("div",{className:"more-action-btns-container",children:[D.jsxs("div",{className:"more-action-btn-group more-action-menu-item",children:[D.jsx("span",{ref:F.copy,className:"more-action-item-icon",onClick:c}),D.jsx("span",{ref:F.edit,className:"more-action-item-icon",onClick:d}),D.jsx("span",{ref:F.share,className:"more-action-item-icon",onClick:h})]}),D.jsx("hr",{className:"menu-hr"}),D.jsxs("div",{className:"more-action-menu-item",onClick:s,children:[D.jsx("span",{ref:F.read,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",children:O("READ")})]}),D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:F.mark,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",onClick:g,children:O("MARK")})]}),D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:F.source,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",onClick:()=>i(n),children:O("SOURCE")})]}),D.jsx("hr",{className:"menu-hr"}),D.jsxs("div",{className:"more-action-menu-item archive-menu-item",children:[D.jsx("span",{ref:F.archive,className:"more-action-item-icon"}),D.jsx("span",{className:"btn delete-btn",onClick:()=>m(n),children:O("ARCHIVE").toUpperCase()})]}),D.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[D.jsx("span",{ref:F.delete,className:"more-action-item-icon"}),D.jsx("span",{className:`btn delete-btn ${T?"final-confirm":""}`,onClick:async B=>{B.stopPropagation(),B.preventDefault(),await w(B)},children:T?O("CONFIRM！"):b.DeleteThinoDirectly?O("DELETE"):O("Recycle bin").toUpperCase()})]}),D.jsx("hr",{className:"menu-hr"}),D.jsx("div",{className:"text-count-item more-action-menu-item",children:D.jsx("span",{className:"btn text-count-btn",children:Ue.countWords(n.content)+` ${O("words")}`})})]})})]})})}),bN=e=>{const{memo:t,handleMemoTypeToggle:n,handleShowMemoStoryDialog:r,settings:a}=e;return D.jsxs("div",{className:"memo-top-left-wrapper",children:[e.children,D.jsx("span",{title:t.createdAt,className:"time-text",onClick:r,children:t.createdAt}),D.jsx("div",{className:`btn memo-type-img ${a!=null&&a.ShowTaskLabel?"":"hidden"}`,onClick:n,children:t.thinoType!=="JOURNAL"&&D.jsx("input",{className:"task-list-item-checkbox",type:"checkbox",checked:t.thinoType!=="TASK-TODO","data-task":t.thinoType==="TASK-TODO"?"":t.thinoType==="TASK-DONE"?"x":t.thinoType.slice(5)})})]})},wN=async(e,t,n)=>{const r=n.getAttribute("href"),a=n.className;if(a.contains("tag"))DN(n.innerText.slice(1));else if(a.contains("internal-link")){const i=n.getAttribute("data-href"),s=Me.getMemoById(i??"");s?xv(s):await e.workspace.openLinkText(i,i,!I.Platform.isMobile&&t.navigation!==!0)}else r&&window.open(r,"_blank")},DN=e=>{const t=it.getState().query.tag;it.setTagQuery(t===e?"":e)},SN=(e,t)=>{const n=t==null?void 0:t.getAttribute("src"),r=t==null?void 0:t.parentElement.getAttribute("src"),a=[...(e==null?void 0:e.querySelectorAll("img"))??[]],i=a.indexOf(t);h3({imgUrl:n,filepath:n.startsWith("app")?r:void 0,otherIMGEls:a,currentIndex:i})},EN=e=>{var r;const t=(r=e.dataset)==null?void 0:r.value,n=Me.getMemoById(t??"");n?xv(n):(new I.Notice("Thino Not Found"),e.classList.remove("memo-link-text"))},TN=async(e,t,n)=>{var i;const r=((i=n.parentElement.dataset)==null?void 0:i.task)==="x"?"DONE":"TODO",a=[...(t==null?void 0:t.querySelectorAll("li.task-list-item"))??[]];for(const s of a)if(s===n||s===n.closest("li.task-list-item")){const c=a.indexOf(s),d=e.content.replace(/<br>/g,`
`).split(/\n/),h=[];for(let T=0;T<d.length;T++)(d[T].trim().startsWith("- [ ]")||d[T].trim().startsWith("- [x]"))&&h.push(T);const g=h[c],w=d[g].replace(/- \[ \] |- \[x\] /g,r==="TODO"?"- [x] ":"- [ ] ");d[g]=w;const b=d.join(`
`).trim();if(e&&e.content!==b){const T=await Me.updateMemo(e.id,b);Me.editMemo(T)}}},CN=e=>{const{globalState:{editMemoId:t},dailyNotesState:{app:n,view:r,settings:a,verifyState:i},locationState:{pathname:s}}=A.useContext(It),{memo:c,type:d="inline"}=e,h=A.useRef(null),g=A.useRef(null),[m,w]=A.useState(!1);A.useEffect(()=>{m&&setTimeout(()=>{rt.setEditMemoId(c.id)},100)},[m]),A.useEffect(()=>{s==="/review"&&t!==c.id&&m&&w(!1)},[t]);const b=()=>{xv(c)},T=()=>{if(a!=null&&a.UseButtonToShowEditor&&(a==null?void 0:a.DefaultEditorLocation)==="Bottom"){const fe=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");fe&&fe.trigger("click")}rt.setMarkMemoId(c.id)},E=async()=>{const fe=I.Platform.isMobile?n.appId.replace(/\//g,"-"):n.appId;if(!i&&(i==null?void 0:i.appId)!==fe){vr();return}c.pinned?await Me.unpinMemoById(c.id):await Me.pinMemoById(c.id)},k=()=>{if(a!=null&&a.UseButtonToShowEditor&&(a==null?void 0:a.DefaultEditorLocation)==="Bottom"&&I.Platform.isMobile){const fe=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");fe&&fe.trigger("click")}s==="/review"&&w(!0),s!=="/review"&&rt.setEditMemoId(c.id)},M=async fe=>{fe.sourceType==="MULTI"&&fe.id.trim()===""&&await Me.updateMemoProperty(fe)},F=async fe=>{await Me.openThinoByID(fe.id)},B=async fe=>{try{const De=await Me.archiveMemo(fe);De&&Me.editMemo(De)}catch(De){new I.Notice(De.message)}},N=async()=>{if(g.current&&!g.current.confirmStatus){g.current&&g.current.toggleConfirm();return}try{if(a.DeleteThinoDirectly)await Me.deleteMemoById(c.id);else{const fe=await Me.hideMemoById(c.id);fe&&Me.editMemo(fe)}}catch(fe){new I.Notice(fe.message)}rt.getState().editMemoId===c.id&&rt.setEditMemoId("")},P=()=>{if(g.current&&!g.current.confirmStatus){g.current&&g.current.toggleConfirm(!1);return}},R=()=>{vN(c)},j=async()=>{const fe=await Me.updateMemo(c.id,c.content,c.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");fe&&Me.editMemo(fe)},$=async fe=>{fe.stopPropagation(),navigator.clipboard.writeText(c.content.replace(/(<br>|<p>)/g,`
`)).then(()=>{new I.Notice(O("COPY SUCCEED"))}).catch(()=>{new I.Notice(O("COPY FAILED"))})},W=fe=>{fe&&k()},z=async(fe,De)=>{fe.preventDefault();const xe=fe.target;if(fe.ctrlKey||fe.metaKey){await F(De);return}if(xe.tagName==="A"){await wN(n,r,xe);return}if(xe.tagName==="IMG"){SN(h.current,xe);return}if(xe.tagName==="A"&&xe.getAttribute("href")){const pe=xe.getAttribute("href");window.open(pe,"_blank");return}if(xe.className==="memo-link-text"){EN(xe);return}if(xe.tagName==="INPUT"&&xe.hasClass("task-list-item-checkbox")){await TN(De,h.current,xe);return}},X=fe=>{const De=new I.Menu;De.dom.toggleClass("memo-context-menu",!0);const xe=window.getSelection();(xe==null?void 0:xe.toString().length)>0&&De.addItem(pe=>{pe.setIcon("copy").setTitle(O("COPY")).onClick(()=>{navigator.clipboard.writeText(xe.toString()).then(()=>{new I.Notice(O("COPY SUCCEED"))}).catch(()=>{new I.Notice(O("COPY FAILED"))})})}).addSeparator(),De.addItem(pe=>{pe.setIcon("book-open").setTitle(O("READ")).onClick(b)}).addItem(pe=>{pe.setIcon(c.pinned?"pin-off":"pin").setTitle(c.pinned?O("UNPIN"):O("PIN")).onClick(E)}).addItem(pe=>{pe.setIcon("bookmark").setTitle(O("MARK")).onClick(T)}).addItem(pe=>{pe.setIcon("share-2").setTitle(O("SHARE")).onClick(R)}).addItem(pe=>{pe.setIcon("pencil").setTitle(O("EDIT")).onClick(k)}).addItem(pe=>{pe.setIcon("home").setTitle(O("SOURCE")).onClick(()=>F(c))}).addSeparator().addItem(pe=>{pe.setIcon("archive").setTitle(O("ARCHIVE")).onClick(()=>B(c))}).addItem(pe=>{pe.setIcon("trash").setTitle(O("DELETE")).onClick(N)}),De.showAtMouseEvent(fe.nativeEvent)},oe=A.useMemo(()=>({memo:c,handlePinMemoClick:E,handleFixMemoClick:M,handleSourceMemoClick:F,handleArchiveMemo:B,handleDeleteMemoClick:N,handleGenMemoImageBtnClick:R,handleMarkMemoClick:T,handleEditMemoClick:k,handleCopyMemoClick:$,handleShowMemoStoryDialog:b}),[c]),ee=A.useMemo(()=>({memo:c,handleMemoTypeToggle:j,handleShowMemoStoryDialog:b,settings:a}),[c,a]),de=A.useMemo(()=>D.jsxs("div",{ref:h,className:`memo-wrapper ${c.pinned?"pinned":""}`,"data-source-type":c.sourceType,"data-thino-type":c.thinoType,"data-thino-id":c.id,onMouseLeave:P,onContextMenu:X,children:[m&&D.jsx(Gp,{editorType:"inline"}),!m&&D.jsxs(D.Fragment,{children:[d==="inline"&&D.jsxs("div",{className:"memo-top-wrapper",draggable:!0,onDragStart:fe=>{fe.target.classList.add("dragging"),fe.dataTransfer.setDragImage(h.current,0,0),fe.dataTransfer.setData("text/plain",c.content.replace(/<br>/g,`
`))},onDragEnd:fe=>{fe.target.classList.remove("dragging")},children:[D.jsx(bN,{...ee}),D.jsx(yN,{ref:g,...oe})]}),D.jsx(v3,{memo:c,handleMemoContentClick:z,handleMemoDoubleClick:W})]})]}),[c,m]);return D.jsx(D.Fragment,{children:de})},pl=A.memo(CN);function xN(e,t){if(e==null)return{};var n=MN(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function MN(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function rv(){return rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(this,arguments)}function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(n),!0).forEach(function(r){kN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const IN={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},E0=2;class gb extends Q.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||E0,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||E0});let r=1/0,a=n.default||E0;for(let i in n){const s=parseInt(i);s>0&&t<=s&&s<r&&(r=s,a=n[i])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const t=this.state.columnCount,n=new Array(t),r=Q.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const i=a%t;n[i]||(n[i]=[]),n[i].push(r[a])}return n}renderColumns(){const{column:t,columnAttrs:n={},columnClassName:r}=this.props,a=this.itemsInColumns(),i=`${100/a.length}%`;let s=r;s&&typeof s!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof s>"u"&&(s="my-masonry-grid_column"));const c=Ip(Ip(Ip({},t),n),{},{style:Ip(Ip({},n.style),{},{width:i}),className:s});return a.map((d,h)=>Q.createElement("div",rv({},c,{key:h}),d))}logDeprecated(t){}render(){const t=this.props,{children:n,breakpointCols:r,columnClassName:a,columnAttrs:i,column:s,className:c}=t,d=xN(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let h=c;return typeof c!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof c>"u"&&(h="my-masonry-grid")),Q.createElement("div",rv({},d,{className:h}),this.renderColumns())}}gb.defaultProps=IN;const RD=e=>{const{thinos:t,dayMark:n}=e,[r,a]=Q.useState(!0),i=Q.useRef(null);A.useEffect(()=>{i&&I.setTooltip&&I.setTooltip(i.current,O("Click to expand or fold, Cmd+Click to show all thinos of the day"))},[i]);const s=d=>{if(I.Keymap.isModifier(d.nativeEvent,"Mod")){const h=I.moment(n,"YYYY-MM-DD");it.setFromAndToQuery(h.startOf("day").valueOf(),h.endOf("day").valueOf());return}a(!r)},c=A.useMemo(()=>D.jsx(D.Fragment,{children:e.type==="list"?D.jsxs(D.Fragment,{children:[D.jsx("div",{ref:i,className:`day-mark ${r?"":"folded"}`,onClick:s,children:D.jsxs("span",{className:"day-mark-text",children:[r?"▼ ":"▶ ",n==="PINNED"?n+" 📌":n]})},n),r&&t.map((d,h)=>D.jsx(pl,{memo:d},`${d.id}-${I.moment(d.updatedAt,"YYYY-MM-DD HH:mm:ss").format("x")}-${h}`))]}):D.jsxs(D.Fragment,{children:[D.jsx("div",{ref:i,className:`day-mark ${r?"":"folded"}`,onClick:s,children:D.jsxs("span",{className:"day-mark-text",children:[r?"▼ ":"▶ ",n==="PINNED"?n+" 📌":n]})},n),D.jsx(gb,{breakpointCols:e.type==="waterfall"?3:1,className:`${e.type}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:r&&t.map((d,h)=>D.jsx(pl,{memo:d},`${d.id}-${I.moment(d.updatedAt,"YYYY-MM-DD HH:mm:ss").format("x")}-${h}`))})]})}),[t,r]);return D.jsx(D.Fragment,{children:c})};function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function NN(e,t){if(ss(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $3(e){var t=NN(e,"string");return ss(t)=="symbol"?t:String(t)}function gu(e,t,n){return t=$3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(n),!0).forEach(function(r){gu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Av(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Ei(e,t){if(e==null)return{};var n=Av(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$3(r.key),r)}}function sr(e,t,n){return t&&_D(e.prototype,t),n&&_D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function av(e){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},av(e)}function W3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W3=function(){return!!e})()}function q3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FN(e,t){if(t&&(ss(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q3(e)}function qr(e,t,n){return t=av(t),FN(e,W3()?Reflect.construct(t,n||[],av(e).constructor):t.apply(e,n))}function ov(e,t){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ov(e,t)}function Gr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ov(e,t)}function G3(e){if(Array.isArray(e))return e}function AN(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,s,c=[],d=!0,h=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(g){h=!0,a=g}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(h)throw a}}return c}}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vb(e,t){if(e){if(typeof e=="string")return y1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y1(e,t)}}function K3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rs(e,t){return G3(e)||AN(e,t)||vb(e,t)||K3()}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cn.apply(this,arguments)}var ON=function(e,t,n,r,a,i,s,c){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[n,r,a,i,s,c],g=0;d=new Error(t.replace(/%s/g,function(){return h[g++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},RN=ON;const Kp=$n(RN);var LN=function(){};function _N(e,t){var n={};return Object.keys(e).forEach(function(r){n[Hg(r)]=LN}),n}function PD(e,t){return e[t]!==void 0}function Hg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function PN(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function jN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ov(e,t)}function Q3(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Z3(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function J3(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Q3.__suppressDeprecationWarning=!0;Z3.__suppressDeprecationWarning=!0;J3.__suppressDeprecationWarning=!0;function BN(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var i=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Q3,t.componentWillReceiveProps=Z3),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=J3;var c=t.componentDidUpdate;t.componentDidUpdate=function(h,g,m){var w=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:m;c.call(this,h,g,w)}}return e}var YN="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function X3(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",a=PN(e),i=Object.keys(t),s=i.map(Hg);a||!n.length||Kp(!1);var c=function(h){jN(g,h);function g(){for(var w,b=arguments.length,T=new Array(b),E=0;E<b;E++)T[E]=arguments[E];w=h.call.apply(h,[this].concat(T))||this,w.handlers=Object.create(null),i.forEach(function(M){var F=t[M],B=function(P){if(w.props[F]){var R;w._notifying=!0;for(var j=arguments.length,$=new Array(j>1?j-1:0),W=1;W<j;W++)$[W-1]=arguments[W];(R=w.props)[F].apply(R,[P].concat($)),w._notifying=!1}w.unmounted||w.setState(function(z){var X,oe=z.values;return{values:Cn(Object.create(null),oe,(X={},X[M]=P,X))}})};w.handlers[F]=B}),n.length&&(w.attachRef=function(M){w.inner=M});var k=Object.create(null);return i.forEach(function(M){k[M]=w.props[Hg(M)]}),w.state={values:k,prevProps:{}},w}var m=g.prototype;return m.shouldComponentUpdate=function(){return!this._notifying},g.getDerivedStateFromProps=function(b,T){var E=T.values,k=T.prevProps,M={values:Cn(Object.create(null),E),prevProps:{}};return i.forEach(function(F){M.prevProps[F]=b[F],!PD(b,F)&&PD(k,F)&&(M.values[F]=b[Hg(F)])}),M},m.componentWillUnmount=function(){this.unmounted=!0},m.render=function(){var b=this,T=this.props,E=T.innerRef,k=Av(T,["innerRef"]);s.forEach(function(F){delete k[F]});var M={};return i.forEach(function(F){var B=b.props[F];M[F]=B!==void 0?B:b.state.values[F]}),Q.createElement(e,Cn({},k,M,this.handlers,{ref:E||this.attachRef}))},g}(Q.Component);BN(c),c.displayName="Uncontrolled("+r+")",c.propTypes=Cn({innerRef:function(){}},_N(t)),n.forEach(function(h){c.prototype[h]=function(){var m;return(m=this.inner)[h].apply(m,arguments)}});var d=c;return Q.forwardRef&&(d=Q.forwardRef(function(h,g){return Q.createElement(c,Cn({},h,{innerRef:g,__source:{fileName:YN,lineNumber:128},__self:this}))}),d.propTypes=c.propTypes),d.ControlledComponent=e,d.deferControlTo=function(h,g,m){return g===void 0&&(g={}),X3(h,Cn({},t,g),m)},d}function eT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=eT(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function zn(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=eT(e))&&(r&&(r+=" "),r+=t);return r}var tT={exports:{}},T0,jD;function HN(){if(jD)return T0;jD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return T0=e,T0}var C0,BD;function UN(){if(BD)return C0;BD=1;var e=HN();function t(){}function n(){}return n.resetWarningCache=t,C0=function(){function r(s,c,d,h,g,m){if(m!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},C0}tT.exports=UN()();var VN=tT.exports;const Ne=$n(VN);var iv="milliseconds",Qp="seconds",Zp="minutes",Jp="hours",Tu="day",xf="week",Xp="month",Cu="year",xu="decade",Mu="century",nT={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},zN={month:1,year:12,decade:10*12,century:100*12};function $N(e){return[31,WN(e),31,30,31,30,31,31,30,31,30,31]}function WN(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Oo(e,t,n){switch(e=new Date(e),n){case iv:case Qp:case Zp:case Jp:case Tu:case xf:return qN(e,t*nT[n]);case Xp:case Cu:case xu:case Mu:return GN(e,t*zN[n])}throw new TypeError('Invalid units: "'+n+'"')}function qN(e,t){var n=new Date(+e+t);return KN(e,n)}function GN(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),i=n*12+r+t,s=Math.trunc(i/12),c=i%12,d=Math.min(a,$N(s)[c]),h=new Date(e);return h.setFullYear(s),h.setDate(1),h.setMonth(c),h.setDate(d),h}function KN(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),a=r-n;return new Date(+t+a*nT.minutes)}function eh(e,t,n){return Oo(e,-t,n)}function yr(e,t,n){switch(e=new Date(e),t){case Mu:case xu:case Cu:e=lv(e,0);case Xp:e=sT(e,1);case xf:case Tu:e=rh(e,0);case Jp:e=Mf(e,0);case Zp:e=nh(e,0);case Qp:e=th(e,0)}return t===xu&&(e=eh(e,ku(e)%10,"year")),t===Mu&&(e=eh(e,ku(e)%100,"year")),t===xf&&(e=lT(e,0,n)),e}function sv(e,t,n){switch(e=new Date(e),e=yr(e,t,n),t){case Mu:case xu:case Cu:case Xp:case xf:e=Oo(e,1,t),e=eh(e,1,Tu),e.setHours(23,59,59,999);break;case Tu:e.setHours(23,59,59,999);break;case Jp:case Zp:case Qp:e=Oo(e,1,t),e=eh(e,1,iv)}return e}var Ch=Vf(function(e,t){return e===t}),yb=Vf(function(e,t){return e!==t}),Ov=Vf(function(e,t){return e>t}),xh=Vf(function(e,t){return e>=t}),bb=Vf(function(e,t){return e<t}),Uf=Vf(function(e,t){return e<=t});function rT(){return new Date(Math.min.apply(Math,arguments))}function aT(){return new Date(Math.max.apply(Math,arguments))}function oT(e,t,n,r){return r=r||"day",(!t||xh(e,t,r))&&(!n||Uf(e,n,r))}var th=yl("Milliseconds"),nh=yl("Seconds"),Mf=yl("Minutes"),rh=yl("Hours"),iT=yl("Day"),sT=yl("Date"),lv=yl("Month"),ku=yl("FullYear");function QN(e,t){return t===void 0?ku(yr(e,xu)):Oo(e,t+10,Cu)}function ZN(e,t){return t===void 0?ku(yr(e,Mu)):Oo(e,t+100,Cu)}function lT(e,t,n){var r=(iT(e)+7-(n||0))%7;return t===void 0?r:Oo(e,t-r,Tu)}function JN(e,t,n,r){var a,i,s;switch(n){case iv:case Qp:case Zp:case Jp:case Tu:case xf:a=t.getTime()-e.getTime();break;case Xp:case Cu:case xu:case Mu:a=(ku(t)-ku(e))*12+lv(t)-lv(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case iv:i=1;break;case Qp:i=1e3;break;case Zp:i=1e3*60;break;case Jp:i=1e3*60*60;break;case Tu:i=1e3*60*60*24;break;case xf:i=1e3*60*60*24*7;break;case Xp:i=1;break;case Cu:i=12;break;case xu:i=120;break;case Mu:i=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return s=a/i,r?s:Math.round(s)}function yl(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&(e==="Hours"||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function Vf(e){return function(t,n,r){return e(+yr(t,r),+yr(n,r))}}const YD=Object.freeze(Object.defineProperty({__proto__:null,add:Oo,century:ZN,date:sT,day:iT,decade:QN,diff:JN,endOf:sv,eq:Ch,gt:Ov,gte:xh,hours:rh,inRange:oT,lt:bb,lte:Uf,max:aT,milliseconds:th,min:rT,minutes:Mf,month:lv,neq:yb,seconds:nh,startOf:yr,subtract:eh,weekday:lT,year:ku},Symbol.toStringTag,{value:"Module"}));function XN(e){if(Array.isArray(e))return y1(e)}function uT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ug(e){return XN(e)||uT(e)||vb(e)||eF()}function tF(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var cT=tF;function nF(e,t){return e===t||e!==e&&t!==t}var Mh=nF,rF=typeof Un=="object"&&Un&&Un.Object===Object&&Un,fT=rF,aF=fT,oF=typeof self=="object"&&self&&self.Object===Object&&self,iF=aF||oF||Function("return this")(),Ti=iF,sF=Ti,lF=sF.Symbol,zf=lF,HD=zf,dT=Object.prototype,uF=dT.hasOwnProperty,cF=dT.toString,Np=HD?HD.toStringTag:void 0;function fF(e){var t=uF.call(e,Np),n=e[Np];try{e[Np]=void 0;var r=!0}catch{}var a=cF.call(e);return r&&(t?e[Np]=n:delete e[Np]),a}var dF=fF,pF=Object.prototype,hF=pF.toString;function mF(e){return hF.call(e)}var gF=mF,UD=zf,vF=dF,yF=gF,bF="[object Null]",wF="[object Undefined]",VD=UD?UD.toStringTag:void 0;function DF(e){return e==null?e===void 0?wF:bF:VD&&VD in Object(e)?vF(e):yF(e)}var $f=DF;function SF(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ps=SF,EF=$f,TF=ps,CF="[object AsyncFunction]",xF="[object Function]",MF="[object GeneratorFunction]",kF="[object Proxy]";function IF(e){if(!TF(e))return!1;var t=EF(e);return t==xF||t==MF||t==CF||t==kF}var wb=IF,NF=9007199254740991;function FF(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=NF}var Db=FF,AF=wb,OF=Db;function RF(e){return e!=null&&OF(e.length)&&!AF(e)}var kh=RF,LF=9007199254740991,_F=/^(?:0|[1-9]\d*)$/;function PF(e,t){var n=typeof e;return t=t??LF,!!t&&(n=="number"||n!="symbol"&&_F.test(e))&&e>-1&&e%1==0&&e<t}var Sb=PF,jF=Mh,BF=kh,YF=Sb,HF=ps;function UF(e,t,n){if(!HF(n))return!1;var r=typeof t;return(r=="number"?BF(n)&&YF(t,n.length):r=="string"&&t in n)?jF(n[t],e):!1}var Rv=UF,VF=/\s/;function zF(e){for(var t=e.length;t--&&VF.test(e.charAt(t)););return t}var $F=zF,WF=$F,qF=/^\s+/;function GF(e){return e&&e.slice(0,WF(e)+1).replace(qF,"")}var KF=GF;function QF(e){return e!=null&&typeof e=="object"}var bl=QF,ZF=$f,JF=bl,XF="[object Symbol]";function eA(e){return typeof e=="symbol"||JF(e)&&ZF(e)==XF}var Ih=eA,tA=KF,zD=ps,nA=Ih,$D=NaN,rA=/^[-+]0x[0-9a-f]+$/i,aA=/^0b[01]+$/i,oA=/^0o[0-7]+$/i,iA=parseInt;function sA(e){if(typeof e=="number")return e;if(nA(e))return $D;if(zD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tA(e);var n=aA.test(e);return n||oA.test(e)?iA(e.slice(2),n?2:8):rA.test(e)?$D:+e}var lA=sA,uA=lA,WD=1/0,cA=17976931348623157e292;function fA(e){if(!e)return e===0?e:0;if(e=uA(e),e===WD||e===-WD){var t=e<0?-1:1;return t*cA}return e===e?e:0}var pT=fA,dA=pT;function pA(e){var t=dA(e),n=t%1;return t===t?n?t-n:t:0}var hT=pA,hA=cT,mA=Rv,gA=hT,vA=Math.ceil,yA=Math.max;function bA(e,t,n){(n?mA(e,t,n):t===void 0)?t=1:t=yA(gA(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var a=0,i=0,s=Array(vA(r/t));a<r;)s[i++]=hA(e,a,a+=t);return s}var wA=bA;const DA=$n(wA);function Nh(e){return e&&e.ownerDocument||document}function SA(e){var t=Nh(e);return t&&t.defaultView||window}function EA(e,t){return SA(e).getComputedStyle(e,t)}var TA=/([A-Z])/g;function CA(e){return e.replace(TA,"-$1").toLowerCase()}var xA=/^ms-/;function Dg(e){return CA(e).replace(xA,"-ms-")}var MA=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function kA(e){return!!(e&&MA.test(e))}function hf(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Dg(t))||EA(e).getPropertyValue(Dg(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(Dg(a)):kA(a)?r+=a+"("+i+") ":n+=Dg(a)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function ah(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function IA(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Eb(e){return"window"in e&&e.window===e?e:IA(e)&&e.defaultView||!1}function mT(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,a){var i=Eb(r);if(a===void 0)return i?i[e]:r[t];i?i.scrollTo(i[e],a):r[t]=a}return n}const gT=mT("pageXOffset"),vT=mT("pageYOffset");function Su(e){var t=Nh(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!ah(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+vT(r)-(r.clientTop||0),left:n.left+gT(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var NA=function(t){return!!t&&"offsetParent"in t};function FA(e){for(var t=Nh(e),n=e&&e.offsetParent;NA(n)&&n.nodeName!=="HTML"&&hf(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var AA=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function yT(e,t){var n={top:0,left:0},r;if(hf(e,"position")==="fixed")r=e.getBoundingClientRect();else{var a=t||FA(e);r=Su(e),AA(a)!=="html"&&(n=Su(a));var i=String(hf(a,"borderTopWidth")||0);n.top+=parseInt(i,10)-vT(a)||0;var s=String(hf(a,"borderLeftWidth")||0);n.left+=parseInt(s,10)-gT(a)||0}var c=String(hf(e,"marginTop")||0),d=String(hf(e,"marginLeft")||0);return Cn({},r,{top:r.top-n.top-(parseInt(c,10)||0),left:r.left-n.left-(parseInt(d,10)||0)})}const Tb=!!(typeof window<"u"&&window.document&&window.document.createElement);var qD=new Date().getTime();function OA(e){var t=new Date().getTime(),n=Math.max(0,16-(t-qD)),r=setTimeout(e,n);return qD=t,r}var RA=["","webkit","moz","o","ms"],b1="clearTimeout",w1=OA,GD=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};Tb&&RA.some(function(e){var t=GD(e,"request");return t in window&&(b1=GD(e,"cancel"),w1=function(r){return window[t](r)}),!!w1});var KD=function(t){typeof window[b1]=="function"&&window[b1](t)},bT=w1,x0;function LA(e,t){if(!x0){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;x0=function(i,s){return r.call(i,s)}}return x0(e,t)}var _A=Function.prototype.bind.call(Function.prototype.call,[].slice);function PA(e,t){return _A(e.querySelectorAll(t))}var D1=!1,S1=!1;try{var M0={get passive(){return D1=!0},get once(){return S1=D1=!0}};Tb&&(window.addEventListener("test",M0,M0),window.removeEventListener("test",M0,!0))}catch{}function jA(e,t,n,r){if(r&&typeof r!="boolean"&&!S1){var a=r.once,i=r.capture,s=n;!S1&&a&&(s=n.__once||function c(d){this.removeEventListener(t,c,i),n.call(this,d)},n.__once=s),e.addEventListener(t,s,D1?r:i)}e.addEventListener(t,n,r)}function BA(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t}function QD(e){const t=BA(e);return A.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function ZD(){return A.useState(null)}function YA(){const e=A.useRef(!0),t=A.useRef(()=>e.current);return A.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function HA(e){const t=YA();return[e[0],A.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var UA=L3({defaultModifiers:[F3,O3,x3,M3,A3,N3,R3,C3]}),JD=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},VA={name:"applyStyles",enabled:!1},zA={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,a=r.reference,i=r.popper;if("removeAttribute"in a){var s=(a.getAttribute("aria-describedby")||"").split(",").filter(function(c){return c.trim()!==i.id});s.length?a.setAttribute("aria-describedby",s.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,a=r.elements,i=a.popper,s=a.reference,c=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&c==="tooltip"&&"setAttribute"in s){var d=s.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(i.id)!==-1)return;s.setAttribute("aria-describedby",d?d+","+i.id:i.id)}}},$A=[];function WA(e,t,n){var r=n===void 0?{}:n,a=r.enabled,i=a===void 0?!0:a,s=r.placement,c=s===void 0?"bottom":s,d=r.strategy,h=d===void 0?"absolute":d,g=r.modifiers,m=g===void 0?$A:g,w=Av(r,["enabled","placement","strategy","modifiers"]),b=A.useRef(),T=A.useCallback(function(){var N;(N=b.current)==null||N.update()},[]),E=A.useCallback(function(){var N;(N=b.current)==null||N.forceUpdate()},[]),k=HA(A.useState({placement:c,update:T,forceUpdate:E,attributes:{},styles:{popper:JD(h),arrow:{}}})),M=k[0],F=k[1],B=A.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(P){var R=P.state,j={},$={};Object.keys(R.elements).forEach(function(W){j[W]=R.styles[W],$[W]=R.attributes[W]}),F({state:R,styles:j,attributes:$,update:T,forceUpdate:E,placement:R.placement})}}},[T,E,F]);return A.useEffect(function(){!b.current||!i||b.current.setOptions({placement:c,strategy:h,modifiers:[].concat(m,[B,VA])})},[h,c,B,i]),A.useEffect(function(){if(!(!i||e==null||t==null))return b.current=UA(e,t,Cn({},w,{placement:c,strategy:h,modifiers:[].concat(m,[zA,B])})),function(){b.current!=null&&(b.current.destroy(),b.current=void 0,F(function(N){return Cn({},N,{attributes:{},styles:{popper:JD(h)}})}))}},[i,e,t]),M}function qA(e,t,n,r){var a=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}function Lp(e,t,n,r){return jA(e,t,n,r),function(){qA(e,t,n,r)}}function GA(e){return e&&"setState"in e?ib.findDOMNode(e):e??null}const KA=function(e){return Nh(GA(e))};var QA=27,XD=function(){};function ZA(e){return e.button===0}function JA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var eS=function(t){return t&&("current"in t?t.current:t)};function XA(e,t,n){var r=n===void 0?{}:n,a=r.disabled,i=r.clickTrigger,s=i===void 0?"click":i,c=A.useRef(!1),d=t||XD,h=A.useCallback(function(w){var b,T=eS(e);X9(!!T,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!T||JA(w)||!ZA(w)||!!ah(T,(b=w.composedPath==null?void 0:w.composedPath()[0])!=null?b:w.target)},[e]),g=QD(function(w){c.current||d(w)}),m=QD(function(w){w.keyCode===QA&&d(w)});A.useEffect(function(){if(!(a||e==null)){var w=window.event,b=KA(eS(e)),T=Lp(b,s,h,!0),E=Lp(b,s,function(F){if(F===w){w=void 0;return}g(F)}),k=Lp(b,"keyup",function(F){if(F===w){w=void 0;return}m(F)}),M=[];return"ontouchstart"in b.documentElement&&(M=[].slice.call(b.body.children).map(function(F){return Lp(F,"mousemove",XD)})),function(){T(),E(),k(),M.forEach(function(F){return F()})}}},[e,a,s,h,g,m])}function eO(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function tO(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function nO(e){var t,n,r,a,i=e.enabled,s=e.enableEvents,c=e.placement,d=e.flip,h=e.offset,g=e.fixed,m=e.containerPadding,w=e.arrowElement,b=e.popperConfig,T=b===void 0?{}:b,E=eO(T.modifiers);return Cn({},T,{placement:c,enabled:i,strategy:g?"fixed":T.strategy,modifiers:tO(Cn({},E,{eventListeners:{enabled:s},preventOverflow:Cn({},E.preventOverflow,{options:m?Cn({padding:m},(t=E.preventOverflow)==null?void 0:t.options):(n=E.preventOverflow)==null?void 0:n.options}),offset:{options:Cn({offset:h},(r=E.offset)==null?void 0:r.options)},arrow:Cn({},E.arrow,{enabled:!!w,options:Cn({},(a=E.arrow)==null?void 0:a.options,{element:w})}),flip:Cn({enabled:!!d},E.flip)}))})}function rO(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function aO(e,t){e.classList?e.classList.add(t):rO(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function tS(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function oO(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=tS(e.className,t):e.setAttribute("class",tS(e.className&&e.className.baseVal||"",t))}var Sg;function wT(e){if((!Sg&&Sg!==0||e)&&Tb){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Sg=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Sg}var k0=function(t){var n;return typeof document>"u"?null:t==null?Nh().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function nS(e,t){var n=A.useState(function(){return k0(e)}),r=n[0],a=n[1];if(!r){var i=k0(e);i&&a(i)}return A.useEffect(function(){t&&r&&t(r)},[t,r]),A.useEffect(function(){var s=k0(e);s!==r&&a(s)},[e,r]),r}const rS=e=>!e||typeof e=="function"?e:t=>{e.current=t};function iO(e,t){const n=rS(e),r=rS(t);return a=>{n&&n(a),r&&r(a)}}function sO(e,t){return A.useMemo(()=>iO(e,t),[e,t])}var Cb=Q.forwardRef(function(e,t){var n=e.flip,r=e.offset,a=e.placement,i=e.containerPadding,s=i===void 0?5:i,c=e.popperConfig,d=c===void 0?{}:c,h=e.transition,g=ZD(),m=g[0],w=g[1],b=ZD(),T=b[0],E=b[1],k=sO(w,t),M=nS(e.container),F=nS(e.target),B=A.useState(!e.show),N=B[0],P=B[1],R=WA(F,m,nO({placement:a,enableEvents:!!e.show,containerPadding:s||5,flip:n,offset:r,arrowElement:T,popperConfig:d})),j=R.styles,$=R.attributes,W=Av(R,["styles","attributes"]);e.show?N&&P(!1):!e.transition&&!N&&P(!0);var z=function(){P(!0),e.onExited&&e.onExited.apply(e,arguments)},X=e.show||h&&!N;if(XA(m,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!X)return null;var oe=e.children(Cn({},W,{show:!!e.show,props:Cn({},$.popper,{style:j.popper,ref:k}),arrowProps:Cn({},$.arrow,{style:j.arrow,ref:E})}));if(h){var ee=e.onExit,de=e.onExiting,fe=e.onEnter,De=e.onEntering,xe=e.onEntered;oe=Q.createElement(h,{in:e.show,appear:!0,onExit:ee,onExiting:de,onExited:z,onEnter:fe,onEntering:De,onEntered:xe},oe)}return M?ib.createPortal(oe,M):null});Cb.displayName="Overlay";Cb.propTypes={show:Ne.bool,placement:Ne.oneOf(lb),target:Ne.any,container:Ne.any,flip:Ne.bool,children:Ne.func.isRequired,containerPadding:Ne.number,popperConfig:Ne.object,rootClose:Ne.bool,rootCloseEvent:Ne.oneOf(["click","mousedown"]),rootCloseDisabled:Ne.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(t.rootClose){var i;return(i=Ne.func).isRequired.apply(i,[t].concat(r))}return Ne.func.apply(Ne,[t].concat(r))},transition:Ne.elementType,onEnter:Ne.func,onEntering:Ne.func,onEntered:Ne.func,onExit:Ne.func,onExiting:Ne.func,onExited:Ne.func};const lO=Cb;function uO(){this.__data__=[],this.size=0}var cO=uO,fO=Mh;function dO(e,t){for(var n=e.length;n--;)if(fO(e[n][0],t))return n;return-1}var Lv=dO,pO=Lv,hO=Array.prototype,mO=hO.splice;function gO(e){var t=this.__data__,n=pO(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():mO.call(t,n,1),--this.size,!0}var vO=gO,yO=Lv;function bO(e){var t=this.__data__,n=yO(t,e);return n<0?void 0:t[n][1]}var wO=bO,DO=Lv;function SO(e){return DO(this.__data__,e)>-1}var EO=SO,TO=Lv;function CO(e,t){var n=this.__data__,r=TO(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var xO=CO,MO=cO,kO=vO,IO=wO,NO=EO,FO=xO;function Wf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wf.prototype.clear=MO;Wf.prototype.delete=kO;Wf.prototype.get=IO;Wf.prototype.has=NO;Wf.prototype.set=FO;var _v=Wf,AO=_v;function OO(){this.__data__=new AO,this.size=0}var RO=OO;function LO(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var _O=LO;function PO(e){return this.__data__.get(e)}var jO=PO;function BO(e){return this.__data__.has(e)}var YO=BO,HO=Ti,UO=HO["__core-js_shared__"],VO=UO,I0=VO,aS=function(){var e=/[^.]+$/.exec(I0&&I0.keys&&I0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zO(e){return!!aS&&aS in e}var $O=zO,WO=Function.prototype,qO=WO.toString;function GO(e){if(e!=null){try{return qO.call(e)}catch{}try{return e+""}catch{}}return""}var DT=GO,KO=wb,QO=$O,ZO=ps,JO=DT,XO=/[\\^$.*+?()[\]{}|]/g,eR=/^\[object .+?Constructor\]$/,tR=Function.prototype,nR=Object.prototype,rR=tR.toString,aR=nR.hasOwnProperty,oR=RegExp("^"+rR.call(aR).replace(XO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iR(e){if(!ZO(e)||QO(e))return!1;var t=KO(e)?oR:eR;return t.test(JO(e))}var sR=iR;function lR(e,t){return e==null?void 0:e[t]}var uR=lR,cR=sR,fR=uR;function dR(e,t){var n=fR(e,t);return cR(n)?n:void 0}var Ru=dR,pR=Ru,hR=Ti,mR=pR(hR,"Map"),xb=mR,gR=Ru,vR=gR(Object,"create"),Pv=vR,oS=Pv;function yR(){this.__data__=oS?oS(null):{},this.size=0}var bR=yR;function wR(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var DR=wR,SR=Pv,ER="__lodash_hash_undefined__",TR=Object.prototype,CR=TR.hasOwnProperty;function xR(e){var t=this.__data__;if(SR){var n=t[e];return n===ER?void 0:n}return CR.call(t,e)?t[e]:void 0}var MR=xR,kR=Pv,IR=Object.prototype,NR=IR.hasOwnProperty;function FR(e){var t=this.__data__;return kR?t[e]!==void 0:NR.call(t,e)}var AR=FR,OR=Pv,RR="__lodash_hash_undefined__";function LR(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=OR&&t===void 0?RR:t,this}var _R=LR,PR=bR,jR=DR,BR=MR,YR=AR,HR=_R;function qf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qf.prototype.clear=PR;qf.prototype.delete=jR;qf.prototype.get=BR;qf.prototype.has=YR;qf.prototype.set=HR;var UR=qf,iS=UR,VR=_v,zR=xb;function $R(){this.size=0,this.__data__={hash:new iS,map:new(zR||VR),string:new iS}}var WR=$R;function qR(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var GR=qR,KR=GR;function QR(e,t){var n=e.__data__;return KR(t)?n[typeof t=="string"?"string":"hash"]:n.map}var jv=QR,ZR=jv;function JR(e){var t=ZR(this,e).delete(e);return this.size-=t?1:0,t}var XR=JR,eL=jv;function tL(e){return eL(this,e).get(e)}var nL=tL,rL=jv;function aL(e){return rL(this,e).has(e)}var oL=aL,iL=jv;function sL(e,t){var n=iL(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var lL=sL,uL=WR,cL=XR,fL=nL,dL=oL,pL=lL;function Gf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gf.prototype.clear=uL;Gf.prototype.delete=cL;Gf.prototype.get=fL;Gf.prototype.has=dL;Gf.prototype.set=pL;var Mb=Gf,hL=_v,mL=xb,gL=Mb,vL=200;function yL(e,t){var n=this.__data__;if(n instanceof hL){var r=n.__data__;if(!mL||r.length<vL-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new gL(r)}return n.set(e,t),this.size=n.size,this}var bL=yL,wL=_v,DL=RO,SL=_O,EL=jO,TL=YO,CL=bL;function Kf(e){var t=this.__data__=new wL(e);this.size=t.size}Kf.prototype.clear=DL;Kf.prototype.delete=SL;Kf.prototype.get=EL;Kf.prototype.has=TL;Kf.prototype.set=CL;var kb=Kf,xL="__lodash_hash_undefined__";function ML(e){return this.__data__.set(e,xL),this}var kL=ML;function IL(e){return this.__data__.has(e)}var NL=IL,FL=Mb,AL=kL,OL=NL;function uv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new FL;++t<n;)this.add(e[t])}uv.prototype.add=uv.prototype.push=AL;uv.prototype.has=OL;var RL=uv;function LL(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var _L=LL;function PL(e,t){return e.has(t)}var jL=PL,BL=RL,YL=_L,HL=jL,UL=1,VL=2;function zL(e,t,n,r,a,i){var s=n&UL,c=e.length,d=t.length;if(c!=d&&!(s&&d>c))return!1;var h=i.get(e),g=i.get(t);if(h&&g)return h==t&&g==e;var m=-1,w=!0,b=n&VL?new BL:void 0;for(i.set(e,t),i.set(t,e);++m<c;){var T=e[m],E=t[m];if(r)var k=s?r(E,T,m,t,e,i):r(T,E,m,e,t,i);if(k!==void 0){if(k)continue;w=!1;break}if(b){if(!YL(t,function(M,F){if(!HL(b,F)&&(T===M||a(T,M,n,r,i)))return b.push(F)})){w=!1;break}}else if(!(T===E||a(T,E,n,r,i))){w=!1;break}}return i.delete(e),i.delete(t),w}var ST=zL,$L=Ti,WL=$L.Uint8Array,ET=WL;function qL(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var GL=qL;function KL(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var QL=KL,sS=zf,lS=ET,ZL=Mh,JL=ST,XL=GL,e_=QL,t_=1,n_=2,r_="[object Boolean]",a_="[object Date]",o_="[object Error]",i_="[object Map]",s_="[object Number]",l_="[object RegExp]",u_="[object Set]",c_="[object String]",f_="[object Symbol]",d_="[object ArrayBuffer]",p_="[object DataView]",uS=sS?sS.prototype:void 0,N0=uS?uS.valueOf:void 0;function h_(e,t,n,r,a,i,s){switch(n){case p_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case d_:return!(e.byteLength!=t.byteLength||!i(new lS(e),new lS(t)));case r_:case a_:case s_:return ZL(+e,+t);case o_:return e.name==t.name&&e.message==t.message;case l_:case c_:return e==t+"";case i_:var c=XL;case u_:var d=r&t_;if(c||(c=e_),e.size!=t.size&&!d)return!1;var h=s.get(e);if(h)return h==t;r|=n_,s.set(e,t);var g=JL(c(e),c(t),r,a,i,s);return s.delete(e),g;case f_:if(N0)return N0.call(e)==N0.call(t)}return!1}var m_=h_;function g_(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var Ib=g_,v_=Array.isArray,oo=v_,y_=Ib,b_=oo;function w_(e,t,n){var r=t(e);return b_(e)?r:y_(r,n(e))}var TT=w_;function D_(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[a++]=s)}return i}var S_=D_;function E_(){return[]}var CT=E_,T_=S_,C_=CT,x_=Object.prototype,M_=x_.propertyIsEnumerable,cS=Object.getOwnPropertySymbols,k_=cS?function(e){return e==null?[]:(e=Object(e),T_(cS(e),function(t){return M_.call(e,t)}))}:C_,Nb=k_;function I_(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var N_=I_,F_=$f,A_=bl,O_="[object Arguments]";function R_(e){return A_(e)&&F_(e)==O_}var L_=R_,fS=L_,__=bl,xT=Object.prototype,P_=xT.hasOwnProperty,j_=xT.propertyIsEnumerable,B_=fS(function(){return arguments}())?fS:function(e){return __(e)&&P_.call(e,"callee")&&!j_.call(e,"callee")},Fb=B_,cv={exports:{}};function Y_(){return!1}var H_=Y_;cv.exports;(function(e,t){var n=Ti,r=H_,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,c=s?n.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||r;e.exports=h})(cv,cv.exports);var Bv=cv.exports,U_=$f,V_=Db,z_=bl,$_="[object Arguments]",W_="[object Array]",q_="[object Boolean]",G_="[object Date]",K_="[object Error]",Q_="[object Function]",Z_="[object Map]",J_="[object Number]",X_="[object Object]",eP="[object RegExp]",tP="[object Set]",nP="[object String]",rP="[object WeakMap]",aP="[object ArrayBuffer]",oP="[object DataView]",iP="[object Float32Array]",sP="[object Float64Array]",lP="[object Int8Array]",uP="[object Int16Array]",cP="[object Int32Array]",fP="[object Uint8Array]",dP="[object Uint8ClampedArray]",pP="[object Uint16Array]",hP="[object Uint32Array]",sn={};sn[iP]=sn[sP]=sn[lP]=sn[uP]=sn[cP]=sn[fP]=sn[dP]=sn[pP]=sn[hP]=!0;sn[$_]=sn[W_]=sn[aP]=sn[q_]=sn[oP]=sn[G_]=sn[K_]=sn[Q_]=sn[Z_]=sn[J_]=sn[X_]=sn[eP]=sn[tP]=sn[nP]=sn[rP]=!1;function mP(e){return z_(e)&&V_(e.length)&&!!sn[U_(e)]}var gP=mP;function vP(e){return function(t){return e(t)}}var Yv=vP,fv={exports:{}};fv.exports;(function(e,t){var n=fT,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,s=i&&n.process,c=function(){try{var d=a&&a.require&&a.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();e.exports=c})(fv,fv.exports);var Ab=fv.exports,yP=gP,bP=Yv,dS=Ab,pS=dS&&dS.isTypedArray,wP=pS?bP(pS):yP,Ob=wP,DP=N_,SP=Fb,EP=oo,TP=Bv,CP=Sb,xP=Ob,MP=Object.prototype,kP=MP.hasOwnProperty;function IP(e,t){var n=EP(e),r=!n&&SP(e),a=!n&&!r&&TP(e),i=!n&&!r&&!a&&xP(e),s=n||r||a||i,c=s?DP(e.length,String):[],d=c.length;for(var h in e)(t||kP.call(e,h))&&!(s&&(h=="length"||a&&(h=="offset"||h=="parent")||i&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||CP(h,d)))&&c.push(h);return c}var MT=IP,NP=Object.prototype;function FP(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||NP;return e===n}var Rb=FP;function AP(e,t){return function(n){return e(t(n))}}var kT=AP,OP=kT,RP=OP(Object.keys,Object),LP=RP,_P=Rb,PP=LP,jP=Object.prototype,BP=jP.hasOwnProperty;function YP(e){if(!_P(e))return PP(e);var t=[];for(var n in Object(e))BP.call(e,n)&&n!="constructor"&&t.push(n);return t}var HP=YP,UP=MT,VP=HP,zP=kh;function $P(e){return zP(e)?UP(e):VP(e)}var Fh=$P,WP=TT,qP=Nb,GP=Fh;function KP(e){return WP(e,GP,qP)}var IT=KP,hS=IT,QP=1,ZP=Object.prototype,JP=ZP.hasOwnProperty;function XP(e,t,n,r,a,i){var s=n&QP,c=hS(e),d=c.length,h=hS(t),g=h.length;if(d!=g&&!s)return!1;for(var m=d;m--;){var w=c[m];if(!(s?w in t:JP.call(t,w)))return!1}var b=i.get(e),T=i.get(t);if(b&&T)return b==t&&T==e;var E=!0;i.set(e,t),i.set(t,e);for(var k=s;++m<d;){w=c[m];var M=e[w],F=t[w];if(r)var B=s?r(F,M,w,t,e,i):r(M,F,w,e,t,i);if(!(B===void 0?M===F||a(M,F,n,r,i):B)){E=!1;break}k||(k=w=="constructor")}if(E&&!k){var N=e.constructor,P=t.constructor;N!=P&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof P=="function"&&P instanceof P)&&(E=!1)}return i.delete(e),i.delete(t),E}var ej=XP,tj=Ru,nj=Ti,rj=tj(nj,"DataView"),aj=rj,oj=Ru,ij=Ti,sj=oj(ij,"Promise"),lj=sj,uj=Ru,cj=Ti,fj=uj(cj,"Set"),dj=fj,pj=Ru,hj=Ti,mj=pj(hj,"WeakMap"),gj=mj,E1=aj,T1=xb,C1=lj,x1=dj,M1=gj,NT=$f,Qf=DT,mS="[object Map]",vj="[object Object]",gS="[object Promise]",vS="[object Set]",yS="[object WeakMap]",bS="[object DataView]",yj=Qf(E1),bj=Qf(T1),wj=Qf(C1),Dj=Qf(x1),Sj=Qf(M1),mu=NT;(E1&&mu(new E1(new ArrayBuffer(1)))!=bS||T1&&mu(new T1)!=mS||C1&&mu(C1.resolve())!=gS||x1&&mu(new x1)!=vS||M1&&mu(new M1)!=yS)&&(mu=function(e){var t=NT(e),n=t==vj?e.constructor:void 0,r=n?Qf(n):"";if(r)switch(r){case yj:return bS;case bj:return mS;case wj:return gS;case Dj:return vS;case Sj:return yS}return t});var Hv=mu,F0=kb,Ej=ST,Tj=m_,Cj=ej,wS=Hv,DS=oo,SS=Bv,xj=Ob,Mj=1,ES="[object Arguments]",TS="[object Array]",Eg="[object Object]",kj=Object.prototype,CS=kj.hasOwnProperty;function Ij(e,t,n,r,a,i){var s=DS(e),c=DS(t),d=s?TS:wS(e),h=c?TS:wS(t);d=d==ES?Eg:d,h=h==ES?Eg:h;var g=d==Eg,m=h==Eg,w=d==h;if(w&&SS(e)){if(!SS(t))return!1;s=!0,g=!1}if(w&&!g)return i||(i=new F0),s||xj(e)?Ej(e,t,n,r,a,i):Tj(e,t,d,n,r,a,i);if(!(n&Mj)){var b=g&&CS.call(e,"__wrapped__"),T=m&&CS.call(t,"__wrapped__");if(b||T){var E=b?e.value():e,k=T?t.value():t;return i||(i=new F0),a(E,k,n,r,i)}}return w?(i||(i=new F0),Cj(e,t,n,r,a,i)):!1}var Nj=Ij,Fj=Nj,xS=bl;function FT(e,t,n,r,a){return e===t?!0:e==null||t==null||!xS(e)&&!xS(t)?e!==e&&t!==t:Fj(e,t,n,r,FT,a)}var Lb=FT,Aj=Lb;function Oj(e,t){return Aj(e,t)}var Rj=Oj;const Lj=$n(Rj);function A0(e,t){var n=Eb(e);return n?n.innerHeight:t?e.clientHeight:Su(e).height}function AT(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(LA(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function _j(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Pj=_j,jj=kb,Bj=Lb,Yj=1,Hj=2;function Uj(e,t,n,r){var a=n.length,i=a,s=!r;if(e==null)return!i;for(e=Object(e);a--;){var c=n[a];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<i;){c=n[a];var d=c[0],h=e[d],g=c[1];if(s&&c[2]){if(h===void 0&&!(d in e))return!1}else{var m=new jj;if(r)var w=r(h,g,d,e,t,m);if(!(w===void 0?Bj(g,h,Yj|Hj,r,m):w))return!1}}return!0}var Vj=Uj,zj=ps;function $j(e){return e===e&&!zj(e)}var OT=$j,Wj=OT,qj=Fh;function Gj(e){for(var t=qj(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,Wj(a)]}return t}var Kj=Gj;function Qj(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var RT=Qj,Zj=Vj,Jj=Kj,Xj=RT;function eB(e){var t=Jj(e);return t.length==1&&t[0][2]?Xj(t[0][0],t[0][1]):function(n){return n===e||Zj(n,e,t)}}var tB=eB,nB=oo,rB=Ih,aB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oB=/^\w*$/;function iB(e,t){if(nB(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||rB(e)?!0:oB.test(e)||!aB.test(e)||t!=null&&e in Object(t)}var _b=iB,LT=Mb,sB="Expected a function";function Pb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(sB);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var s=e.apply(this,r);return n.cache=i.set(a,s)||i,s};return n.cache=new(Pb.Cache||LT),n}Pb.Cache=LT;var lB=Pb,uB=lB,cB=500;function fB(e){var t=uB(e,function(r){return n.size===cB&&n.clear(),r}),n=t.cache;return t}var dB=fB,pB=dB,hB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mB=/\\(\\)?/g,gB=pB(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(hB,function(n,r,a,i){t.push(a?i.replace(mB,"$1"):r||n)}),t}),vB=gB;function yB(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var jb=yB,MS=zf,bB=jb,wB=oo,DB=Ih,SB=1/0,kS=MS?MS.prototype:void 0,IS=kS?kS.toString:void 0;function _T(e){if(typeof e=="string")return e;if(wB(e))return bB(e,_T)+"";if(DB(e))return IS?IS.call(e):"";var t=e+"";return t=="0"&&1/e==-SB?"-0":t}var EB=_T,TB=EB;function CB(e){return e==null?"":TB(e)}var xB=CB,MB=oo,kB=_b,IB=vB,NB=xB;function FB(e,t){return MB(e)?e:kB(e,t)?[e]:IB(NB(e))}var Uv=FB,AB=Ih,OB=1/0;function RB(e){if(typeof e=="string"||AB(e))return e;var t=e+"";return t=="0"&&1/e==-OB?"-0":t}var Ah=RB,LB=Uv,_B=Ah;function PB(e,t){t=LB(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[_B(t[n++])];return n&&n==r?e:void 0}var Vv=PB,jB=Vv;function BB(e,t,n){var r=e==null?void 0:jB(e,t);return r===void 0?n:r}var YB=BB;function HB(e,t){return e!=null&&t in Object(e)}var UB=HB,VB=Uv,zB=Fb,$B=oo,WB=Sb,qB=Db,GB=Ah;function KB(e,t,n){t=VB(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var s=GB(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&qB(a)&&WB(s,a)&&($B(e)||zB(e)))}var QB=KB,ZB=UB,JB=QB;function XB(e,t){return e!=null&&JB(e,t,ZB)}var eY=XB,tY=Lb,nY=YB,rY=eY,aY=_b,oY=OT,iY=RT,sY=Ah,lY=1,uY=2;function cY(e,t){return aY(e)&&oY(t)?iY(sY(e),t):function(n){var r=nY(n,e);return r===void 0&&r===t?rY(n,e):tY(t,r,lY|uY)}}var fY=cY;function dY(e){return e}var zv=dY;function pY(e){return function(t){return t==null?void 0:t[e]}}var hY=pY,mY=Vv;function gY(e){return function(t){return mY(t,e)}}var vY=gY,yY=hY,bY=vY,wY=_b,DY=Ah;function SY(e){return wY(e)?yY(DY(e)):bY(e)}var EY=SY,TY=tB,CY=fY,xY=zv,MY=oo,kY=EY;function IY(e){return typeof e=="function"?e:e==null?xY:typeof e=="object"?MY(e)?CY(e[0],e[1]):TY(e):kY(e)}var $v=IY,NY=Pj,FY=$v,AY=hT,OY=Math.max;function RY(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:AY(n);return a<0&&(a=OY(r+a,0)),NY(e,FY(t),a)}var LY=RY;const _Y=$n(LY);var PY=Math.ceil,jY=Math.max;function BY(e,t,n,r){for(var a=-1,i=jY(PY((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++a]=e,e+=n;return s}var YY=BY,HY=YY,UY=Rv,O0=pT;function VY(e){return function(t,n,r){return r&&typeof r!="number"&&UY(t,n,r)&&(n=r=void 0),t=O0(t),n===void 0?(n=t,t=0):n=O0(n),r=r===void 0?t<n?1:-1:O0(r),HY(t,n,r,e)}}var zY=VY,$Y=zY,WY=$Y(),qY=WY;const GY=$n(qY);var NS=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function KY(e,t){return!!(e===t||NS(e)&&NS(t))}function QY(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!KY(e[n],t[n]))return!1;return!0}function PT(e,t){t===void 0&&(t=QY);var n=null;function r(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var s=e.apply(this,a);return n={lastResult:s,lastArgs:a,lastThis:this},s}return r.clear=function(){n=null},r}var FS=zf,ZY=Fb,JY=oo,AS=FS?FS.isConcatSpreadable:void 0;function XY(e){return JY(e)||ZY(e)||!!(AS&&e&&e[AS])}var eH=XY,tH=Ib,nH=eH;function jT(e,t,n,r,a){var i=-1,s=e.length;for(n||(n=nH),a||(a=[]);++i<s;){var c=e[i];t>0&&n(c)?t>1?jT(c,t-1,n,r,a):tH(a,c):r||(a[a.length]=c)}return a}var BT=jT;function rH(e){return function(t,n,r){for(var a=-1,i=Object(t),s=r(t),c=s.length;c--;){var d=s[e?c:++a];if(n(i[d],d,i)===!1)break}return t}}var aH=rH,oH=aH,iH=oH(),sH=iH,lH=sH,uH=Fh;function cH(e,t){return e&&lH(e,t,uH)}var Bb=cH,fH=kh;function dH(e,t){return function(n,r){if(n==null)return n;if(!fH(n))return e(n,r);for(var a=n.length,i=t?a:-1,s=Object(n);(t?i--:++i<a)&&r(s[i],i,s)!==!1;);return n}}var pH=dH,hH=Bb,mH=pH,gH=mH(hH),vH=gH,yH=vH,bH=kh;function wH(e,t){var n=-1,r=bH(e)?Array(e.length):[];return yH(e,function(a,i,s){r[++n]=t(a,i,s)}),r}var DH=wH;function SH(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var EH=SH,OS=Ih;function TH(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=OS(e),s=t!==void 0,c=t===null,d=t===t,h=OS(t);if(!c&&!h&&!i&&e>t||i&&s&&d&&!c&&!h||r&&s&&d||!n&&d||!a)return 1;if(!r&&!i&&!h&&e<t||h&&n&&a&&!r&&!i||c&&n&&a||!s&&a||!d)return-1}return 0}var CH=TH,xH=CH;function MH(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,s=a.length,c=n.length;++r<s;){var d=xH(a[r],i[r]);if(d){if(r>=c)return d;var h=n[r];return d*(h=="desc"?-1:1)}}return e.index-t.index}var kH=MH,R0=jb,IH=Vv,NH=$v,FH=DH,AH=EH,OH=Yv,RH=kH,LH=zv,_H=oo;function PH(e,t,n){t.length?t=R0(t,function(i){return _H(i)?function(s){return IH(s,i.length===1?i[0]:i)}:i}):t=[LH];var r=-1;t=R0(t,OH(NH));var a=FH(e,function(i,s,c){var d=R0(t,function(h){return h(i)});return{criteria:d,index:++r,value:i}});return AH(a,function(i,s){return RH(i,s,n)})}var jH=PH;function BH(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var YH=BH,HH=YH,RS=Math.max;function UH(e,t,n){return t=RS(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=RS(r.length-t,0),s=Array(i);++a<i;)s[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(s),HH(e,this,c)}}var YT=UH;function VH(e){return function(){return e}}var zH=VH,$H=Ru,WH=function(){try{var e=$H(Object,"defineProperty");return e({},"",{}),e}catch{}}(),HT=WH,qH=zH,LS=HT,GH=zv,KH=LS?function(e,t){return LS(e,"toString",{configurable:!0,enumerable:!1,value:qH(t),writable:!0})}:GH,QH=KH,ZH=800,JH=16,XH=Date.now;function eU(e){var t=0,n=0;return function(){var r=XH(),a=JH-(r-n);if(n=r,a>0){if(++t>=ZH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var tU=eU,nU=QH,rU=tU,aU=rU(nU),UT=aU,oU=zv,iU=YT,sU=UT;function lU(e,t){return sU(iU(e,t,oU),e+"")}var VT=lU,uU=BT,cU=jH,fU=VT,_S=Rv,dU=fU(function(e,t){if(e==null)return[];var n=t.length;return n>1&&_S(e,t[0],t[1])?t=[]:n>2&&_S(t[0],t[1],t[2])&&(t=[t[0]]),cU(e,uU(t,1),[])}),pU=dU;const hU=$n(pU);function k1(e,t){var n=Eb(e);return n?n.innerWidth:t?e.clientWidth:Su(e).width}function zT(e){return G3(e)||uT(e)||vb(e)||K3()}function mU(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var $T=mU,PS=HT;function gU(e,t,n){t=="__proto__"&&PS?PS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Yb=gU,vU=Yb,yU=Mh,bU=Object.prototype,wU=bU.hasOwnProperty;function DU(e,t,n){var r=e[t];(!(wU.call(e,t)&&yU(r,n))||n===void 0&&!(t in e))&&vU(e,t,n)}var WT=DU,SU=WT,EU=Yb;function TU(e,t,n,r){var a=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var c=t[i],d=r?r(n[c],e[c],c,n,e):void 0;d===void 0&&(d=e[c]),a?EU(n,c,d):SU(n,c,d)}return n}var Oh=TU,CU=Oh,xU=Fh;function MU(e,t){return e&&CU(t,xU(t),e)}var kU=MU;function IU(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var NU=IU,FU=ps,AU=Rb,OU=NU,RU=Object.prototype,LU=RU.hasOwnProperty;function _U(e){if(!FU(e))return OU(e);var t=AU(e),n=[];for(var r in e)r=="constructor"&&(t||!LU.call(e,r))||n.push(r);return n}var PU=_U,jU=MT,BU=PU,YU=kh;function HU(e){return YU(e)?jU(e,!0):BU(e)}var Wv=HU,UU=Oh,VU=Wv;function zU(e,t){return e&&UU(t,VU(t),e)}var $U=zU,dv={exports:{}};dv.exports;(function(e,t){var n=Ti,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,s=i?n.Buffer:void 0,c=s?s.allocUnsafe:void 0;function d(h,g){if(g)return h.slice();var m=h.length,w=c?c(m):new h.constructor(m);return h.copy(w),w}e.exports=d})(dv,dv.exports);var WU=dv.exports;function qU(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var GU=qU,KU=Oh,QU=Nb;function ZU(e,t){return KU(e,QU(e),t)}var JU=ZU,XU=kT,eV=XU(Object.getPrototypeOf,Object),qv=eV,tV=Ib,nV=qv,rV=Nb,aV=CT,oV=Object.getOwnPropertySymbols,iV=oV?function(e){for(var t=[];e;)tV(t,rV(e)),e=nV(e);return t}:aV,qT=iV,sV=Oh,lV=qT;function uV(e,t){return sV(e,lV(e),t)}var cV=uV,fV=TT,dV=qT,pV=Wv;function hV(e){return fV(e,pV,dV)}var GT=hV,mV=Object.prototype,gV=mV.hasOwnProperty;function vV(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&gV.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var yV=vV,jS=ET;function bV(e){var t=new e.constructor(e.byteLength);return new jS(t).set(new jS(e)),t}var Hb=bV,wV=Hb;function DV(e,t){var n=t?wV(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var SV=DV,EV=/\w*$/;function TV(e){var t=new e.constructor(e.source,EV.exec(e));return t.lastIndex=e.lastIndex,t}var CV=TV,BS=zf,YS=BS?BS.prototype:void 0,HS=YS?YS.valueOf:void 0;function xV(e){return HS?Object(HS.call(e)):{}}var MV=xV,kV=Hb;function IV(e,t){var n=t?kV(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var NV=IV,FV=Hb,AV=SV,OV=CV,RV=MV,LV=NV,_V="[object Boolean]",PV="[object Date]",jV="[object Map]",BV="[object Number]",YV="[object RegExp]",HV="[object Set]",UV="[object String]",VV="[object Symbol]",zV="[object ArrayBuffer]",$V="[object DataView]",WV="[object Float32Array]",qV="[object Float64Array]",GV="[object Int8Array]",KV="[object Int16Array]",QV="[object Int32Array]",ZV="[object Uint8Array]",JV="[object Uint8ClampedArray]",XV="[object Uint16Array]",ez="[object Uint32Array]";function tz(e,t,n){var r=e.constructor;switch(t){case zV:return FV(e);case _V:case PV:return new r(+e);case $V:return AV(e,n);case WV:case qV:case GV:case KV:case QV:case ZV:case JV:case XV:case ez:return LV(e,n);case jV:return new r;case BV:case UV:return new r(e);case YV:return OV(e);case HV:return new r;case VV:return RV(e)}}var nz=tz,rz=ps,US=Object.create,az=function(){function e(){}return function(t){if(!rz(t))return{};if(US)return US(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),KT=az,oz=KT,iz=qv,sz=Rb;function lz(e){return typeof e.constructor=="function"&&!sz(e)?oz(iz(e)):{}}var uz=lz,cz=Hv,fz=bl,dz="[object Map]";function pz(e){return fz(e)&&cz(e)==dz}var hz=pz,mz=hz,gz=Yv,VS=Ab,zS=VS&&VS.isMap,vz=zS?gz(zS):mz,yz=vz,bz=Hv,wz=bl,Dz="[object Set]";function Sz(e){return wz(e)&&bz(e)==Dz}var Ez=Sz,Tz=Ez,Cz=Yv,$S=Ab,WS=$S&&$S.isSet,xz=WS?Cz(WS):Tz,Mz=xz,kz=kb,Iz=$T,Nz=WT,Fz=kU,Az=$U,Oz=WU,Rz=GU,Lz=JU,_z=cV,Pz=IT,jz=GT,Bz=Hv,Yz=yV,Hz=nz,Uz=uz,Vz=oo,zz=Bv,$z=yz,Wz=ps,qz=Mz,Gz=Fh,Kz=Wv,Qz=1,Zz=2,Jz=4,QT="[object Arguments]",Xz="[object Array]",e$="[object Boolean]",t$="[object Date]",n$="[object Error]",ZT="[object Function]",r$="[object GeneratorFunction]",a$="[object Map]",o$="[object Number]",JT="[object Object]",i$="[object RegExp]",s$="[object Set]",l$="[object String]",u$="[object Symbol]",c$="[object WeakMap]",f$="[object ArrayBuffer]",d$="[object DataView]",p$="[object Float32Array]",h$="[object Float64Array]",m$="[object Int8Array]",g$="[object Int16Array]",v$="[object Int32Array]",y$="[object Uint8Array]",b$="[object Uint8ClampedArray]",w$="[object Uint16Array]",D$="[object Uint32Array]",rn={};rn[QT]=rn[Xz]=rn[f$]=rn[d$]=rn[e$]=rn[t$]=rn[p$]=rn[h$]=rn[m$]=rn[g$]=rn[v$]=rn[a$]=rn[o$]=rn[JT]=rn[i$]=rn[s$]=rn[l$]=rn[u$]=rn[y$]=rn[b$]=rn[w$]=rn[D$]=!0;rn[n$]=rn[ZT]=rn[c$]=!1;function Vg(e,t,n,r,a,i){var s,c=t&Qz,d=t&Zz,h=t&Jz;if(n&&(s=a?n(e,r,a,i):n(e)),s!==void 0)return s;if(!Wz(e))return e;var g=Vz(e);if(g){if(s=Yz(e),!c)return Rz(e,s)}else{var m=Bz(e),w=m==ZT||m==r$;if(zz(e))return Oz(e,c);if(m==JT||m==QT||w&&!a){if(s=d||w?{}:Uz(e),!c)return d?_z(e,Az(s,e)):Lz(e,Fz(s,e))}else{if(!rn[m])return a?e:{};s=Hz(e,m,c)}}i||(i=new kz);var b=i.get(e);if(b)return b;i.set(e,s),qz(e)?e.forEach(function(k){s.add(Vg(k,t,n,k,e,i))}):$z(e)&&e.forEach(function(k,M){s.set(M,Vg(k,t,n,M,e,i))});var T=h?d?jz:Pz:d?Kz:Gz,E=g?void 0:T(e);return Iz(E||e,function(k,M){E&&(M=k,k=e[M]),Nz(s,M,Vg(k,t,n,M,e,i))}),s}var S$=Vg;function E$(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var T$=E$,C$=Vv,x$=cT;function M$(e,t){return t.length<2?e:C$(e,x$(t,0,-1))}var k$=M$,I$=Uv,N$=T$,F$=k$,A$=Ah;function O$(e,t){return t=I$(t,e),e=F$(e,t),e==null||delete e[A$(N$(t))]}var R$=O$,L$=$f,_$=qv,P$=bl,j$="[object Object]",B$=Function.prototype,Y$=Object.prototype,XT=B$.toString,H$=Y$.hasOwnProperty,U$=XT.call(Object);function V$(e){if(!P$(e)||L$(e)!=j$)return!1;var t=_$(e);if(t===null)return!0;var n=H$.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&XT.call(n)==U$}var z$=V$,$$=z$;function W$(e){return $$(e)?void 0:e}var q$=W$,G$=BT;function K$(e){var t=e==null?0:e.length;return t?G$(e,1):[]}var Q$=K$,Z$=Q$,J$=YT,X$=UT;function eW(e){return X$(J$(e,void 0,Z$),e+"")}var tW=eW,nW=jb,rW=S$,aW=R$,oW=Uv,iW=Oh,sW=q$,lW=tW,uW=GT,cW=1,fW=2,dW=4,pW=lW(function(e,t){var n={};if(e==null)return n;var r=!1;t=nW(t,function(i){return i=oW(i,e),r||(r=i.length>1),i}),iW(e,uW(e),n),r&&(n=rW(n,cW|fW|dW,sW));for(var a=t.length;a--;)aW(n,t[a]);return n}),hW=pW;const mW=$n(hW);var gW=VT,vW=Mh,yW=Rv,bW=Wv,e4=Object.prototype,wW=e4.hasOwnProperty,DW=gW(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&yW(t[0],t[1],a)&&(r=1);++n<r;)for(var i=t[n],s=bW(i),c=-1,d=s.length;++c<d;){var h=s[c],g=e[h];(g===void 0||vW(g,e4[h])&&!wW.call(e,h))&&(e[h]=i[h])}return e}),SW=DW;const EW=$n(SW);var TW=$T,CW=KT,xW=Bb,MW=$v,kW=qv,IW=oo,NW=Bv,FW=wb,AW=ps,OW=Ob;function RW(e,t,n){var r=IW(e),a=r||NW(e)||OW(e);if(t=MW(t),n==null){var i=e&&e.constructor;a?n=r?new i:[]:AW(e)?n=FW(i)?CW(kW(e)):{}:n={}}return(a?TW:xW)(e,function(s,c,d){return t(n,s,c,d)}),n}var LW=RW;const _W=$n(LW);var PW=Yb,jW=Bb,BW=$v;function YW(e,t){var n={};return t=BW(t),jW(e,function(r,a,i){PW(n,a,t(r,a,i))}),n}var HW=YW;const UW=$n(HW);var VW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Un,function(){return function(n,r,a){r.prototype.isBetween=function(i,s,c,d){var h=a(i),g=a(s),m=(d=d||"()")[0]==="(",w=d[1]===")";return(m?this.isAfter(h,c):!this.isBefore(h,c))&&(w?this.isBefore(g,c):!this.isAfter(g,c))||(m?this.isBefore(h,c):!this.isAfter(h,c))&&(w?this.isAfter(g,c):!this.isBefore(g,c))}}})})(VW);var zW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Un,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(zW);var $W={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Un,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})($W);var WW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Un,function(){return function(n,r,a){var i=r.prototype,s=function(m){return m&&(m.indexOf?m:m.s)},c=function(m,w,b,T,E){var k=m.name?m:m.$locale(),M=s(k[w]),F=s(k[b]),B=M||F.map(function(P){return P.slice(0,T)});if(!E)return B;var N=k.weekStart;return B.map(function(P,R){return B[(R+(N||0))%7]})},d=function(){return a.Ls[a.locale()]},h=function(m,w){return m.formats[w]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,E,k){return E||k.slice(1)})}(m.formats[w.toUpperCase()])},g=function(){var m=this;return{months:function(w){return w?w.format("MMMM"):c(m,"months")},monthsShort:function(w){return w?w.format("MMM"):c(m,"monthsShort","months",3)},firstDayOfWeek:function(){return m.$locale().weekStart||0},weekdays:function(w){return w?w.format("dddd"):c(m,"weekdays")},weekdaysMin:function(w){return w?w.format("dd"):c(m,"weekdaysMin","weekdays",2)},weekdaysShort:function(w){return w?w.format("ddd"):c(m,"weekdaysShort","weekdays",3)},longDateFormat:function(w){return h(m.$locale(),w)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return g.bind(this)()},a.localeData=function(){var m=d();return{firstDayOfWeek:function(){return m.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(w){return h(m,w)},meridiem:m.meridiem,ordinal:m.ordinal}},a.months=function(){return c(d(),"months")},a.monthsShort=function(){return c(d(),"monthsShort","months",3)},a.weekdays=function(m){return c(d(),"weekdays",null,null,m)},a.weekdaysShort=function(m){return c(d(),"weekdaysShort","weekdays",3,m)},a.weekdaysMin=function(m){return c(d(),"weekdaysMin","weekdays",2,m)}}})})(WW);var qW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Un,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,i){var s=a.prototype,c=s.format;i.en.formats=n,s.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var h=this.$locale().formats,g=function(m,w){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(b,T,E){var k=E&&E.toUpperCase();return T||w[E]||n[E]||w[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,F,B){return F||B.slice(1)})})}(d,h===void 0?{}:h);return c.call(this,g)}}})})(qW);var GW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Un,function(){return function(n,r,a){var i=function(s,c){if(!c||!c.length||c.length===1&&!c[0]||c.length===1&&Array.isArray(c[0])&&!c[0].length)return null;var d;c.length===1&&c[0].length>0&&(c=c[0]),d=(c=c.filter(function(g){return g}))[0];for(var h=1;h<c.length;h+=1)c[h].isValid()&&!c[h][s](d)||(d=c[h]);return d};a.max=function(){var s=[].slice.call(arguments,0);return i("isAfter",s)},a.min=function(){var s=[].slice.call(arguments,0);return i("isBefore",s)}}})})(GW);var KW={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Un,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,s,c){var d=s.prototype;c.utc=function(E){var k={date:E,utc:!0,args:arguments};return new s(k)},d.utc=function(E){var k=c(this.toDate(),{locale:this.$L,utc:!0});return E?k.add(this.utcOffset(),n):k},d.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var h=d.parse;d.parse=function(E){E.utc&&(this.$u=!0),this.$utils().u(E.$offset)||(this.$offset=E.$offset),h.call(this,E)};var g=d.init;d.init=function(){if(this.$u){var E=this.$d;this.$y=E.getUTCFullYear(),this.$M=E.getUTCMonth(),this.$D=E.getUTCDate(),this.$W=E.getUTCDay(),this.$H=E.getUTCHours(),this.$m=E.getUTCMinutes(),this.$s=E.getUTCSeconds(),this.$ms=E.getUTCMilliseconds()}else g.call(this)};var m=d.utcOffset;d.utcOffset=function(E,k){var M=this.$utils().u;if(M(E))return this.$u?0:M(this.$offset)?m.call(this):this.$offset;if(typeof E=="string"&&(E=function(P){P===void 0&&(P="");var R=P.match(r);if(!R)return null;var j=(""+R[0]).match(a)||["-",0,0],$=j[0],W=60*+j[1]+ +j[2];return W===0?0:$==="+"?W:-W}(E),E===null))return this;var F=Math.abs(E)<=16?60*E:E,B=this;if(k)return B.$offset=F,B.$u=E===0,B;if(E!==0){var N=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(B=this.local().add(F+N,n)).$offset=F,B.$x.$localOffset=N}else B=this.utc();return B};var w=d.format;d.format=function(E){var k=E||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return w.call(this,k)},d.valueOf=function(){var E=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*E},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var b=d.toDate;d.toDate=function(E){return E==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():b.call(this)};var T=d.diff;d.diff=function(E,k,M){if(E&&this.$u===E.$u)return T.call(this,E,k,M);var F=this.local(),B=c(E).local();return T.call(F,B,k,M)}}})})(KW);function ts(e){return e.children}var ma={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},$r={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},qS=Object.keys($r).map(function(e){return $r[e]});Ne.oneOfType([Ne.string,Ne.func]);Ne.any;Ne.func;Ne.oneOfType([Ne.arrayOf(Ne.oneOf(qS)),Ne.objectOf(function(e,t){var n=qS.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return Ne.elementType.apply(Ne,[e,t].concat(a))})]);Ne.oneOfType([Ne.oneOf(["overlap","no-overlap"]),Ne.func]);function hn(e,t){e&&e.apply(null,[].concat(t))}var GS={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function t4(e,t){var n=yr(e,"month");return yr(n,"week",t.startOfWeek())}function n4(e,t){var n=sv(e,"month");return sv(n,"week",t.startOfWeek())}function QW(e,t){for(var n=t4(e,t),r=n4(e,t),a=[];Uf(n,r,"day");)a.push(n),n=Oo(n,1,"day");return a}function ZW(e,t){var n=yr(e,t);return Ch(n,e)?n:Oo(n,1,t)}function JW(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,a=[];Uf(r,t,n);)a.push(r),r=Oo(r,1,n);return a}function XW(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=yr(e,"day"),e=rh(e,rh(t)),e=Mf(e,Mf(t)),e=nh(e,nh(t)),th(e,th(t)))}function KS(e){return rh(e)===0&&Mf(e)===0&&nh(e)===0&&th(e)===0}function eq(e,t,n,r){return n==="day"&&(n="date"),Math.abs(YD[n](e,void 0,r)-YD[n](t,void 0,r))}function Ub(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+yr(e,n)/GS[n]-+yr(t,n)/GS[n]))}var tq=Ne.oneOfType([Ne.string,Ne.func]);function nq(e,t,n,r,a){var i=typeof r=="function"?r(n,a,e):t.call(e,n,r,a);return Kp(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function rq(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function Vb(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function aq(e,t){return Ub(e,t,"minutes")+Vb(e,t)}function oq(e){var t=yr(e,"day");return Ub(t,e,"minutes")+Vb(t,e)}function iq(e,t){return bb(e,t,"day")}function sq(e,t,n){var r=Ch(e,t,"minutes");return r?xh(t,n,"minutes"):Ov(t,n,"minutes")}function I1(e,t){return eq(e,t,"day")}function lq(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,i=e.evtB,s=i.start,c=i.end,d=i.allDay,h=+yr(n,"day")-+yr(s,"day"),g=I1(n,r),m=I1(s,c);return h||m-g||!!d-!!a||+n-+s||+r-+c}function uq(e){var t=e.event,n=t.start,r=t.end,a=e.range,i=a.start,s=a.end,c=yr(n,"day"),d=Uf(c,s,"day"),h=yb(c,r,"minutes"),g=h?Ov(r,i,"minutes"):xh(r,i,"minutes");return d&&g}function cq(e,t){return Ch(e,t,"day")}function fq(e,t){return KS(e)&&KS(t)}var dq=sr(function e(t){var n=this;ir(this,e),Kp(typeof t.format=="function","date localizer `format(..)` must be a function"),Kp(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||tq,this.formats=t.formats,this.format=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return nq.apply(void 0,[n,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||XW,this.inRange=t.inRange||oT,this.lt=t.lt||bb,this.lte=t.lte||Uf,this.gt=t.gt||Ov,this.gte=t.gte||xh,this.eq=t.eq||Ch,this.neq=t.neq||yb,this.startOf=t.startOf||yr,this.endOf=t.endOf||sv,this.add=t.add||Oo,this.range=t.range||JW,this.diff=t.diff||Ub,this.ceil=t.ceil||ZW,this.min=t.min||rT,this.max=t.max||aT,this.minutes=t.minutes||Mf,this.daySpan=t.daySpan||I1,this.firstVisibleDay=t.firstVisibleDay||t4,this.lastVisibleDay=t.lastVisibleDay||n4,this.visibleDays=t.visibleDays||QW,this.getSlotDate=t.getSlotDate||rq,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||Vb,this.getTotalMin=t.getTotalMin||aq,this.getMinutesFromMidnight=t.getMinutesFromMidnight||oq,this.continuesPrior=t.continuesPrior||iq,this.continuesAfter=t.continuesAfter||sq,this.sortEvents=t.sortEvents||lq,this.inEventRange=t.inEventRange||uq,this.isSameDate=t.isSameDate||cq,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||fq,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function pq(e,t,n,r){var a=Xt(Xt({},e.formats),n);return Xt(Xt({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,c){return e.format(s,a[c]||c,t)}})}var hq={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function mq(e){return Xt(Xt({},hq),e)}function gq(e){var t=e.ref,n=e.callback;A.useEffect(function(){var r=function(i){t.current&&!t.current.contains(i.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var vq=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],r4=function(e){Gr(t,e);function t(){return ir(this,t),qr(this,t,arguments)}return sr(t,[{key:"render",value:function(){var r=this.props,a=r.style,i=r.className,s=r.event,c=r.selected,d=r.isAllDay,h=r.onSelect,g=r.onDoubleClick,m=r.onKeyPress,w=r.localizer,b=r.continuesPrior,T=r.continuesAfter,E=r.accessors,k=r.getters,M=r.children,F=r.components,B=F.event,N=F.eventWrapper,P=r.slotStart,R=r.slotEnd,j=Ei(r,vq);delete j.resizable;var $=E.title(s),W=E.tooltip(s),z=E.end(s),X=E.start(s),oe=E.allDay(s),ee=d||oe||w.diff(X,w.ceil(z,"day"),"day")>1,de=k.eventProp(s,X,z,c),fe=Q.createElement("div",{className:"rbc-event-content",title:W||void 0},B?Q.createElement(B,{event:s,continuesPrior:b,continuesAfter:T,title:$,isAllDay:oe,localizer:w,slotStart:P,slotEnd:R}):$);return Q.createElement(N,Object.assign({},this.props,{type:"date"}),Q.createElement("div",Object.assign({},j,{style:Xt(Xt({},de.style),a),className:zn("rbc-event",i,de.className,{"rbc-selected":c,"rbc-event-allday":ee,"rbc-event-continues-prior":b,"rbc-event-continues-after":T}),onClick:function(xe){return h&&h(s,xe)},onDoubleClick:function(xe){return g&&g(s,xe)},onKeyDown:function(xe){return m&&m(s,xe)}}),typeof M=="function"?M(fe):fe))}}]),t}(Q.Component);function Gv(e,t){return!e||t==null?!1:Lj(e,t)}function a4(e,t){var n=e.right-e.left,r=n/t;return r}function o4(e,t,n,r){var a=a4(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function yq(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function bq(e,t,n,r,a){var i=-1,s=-1,c=r-1,d=a4(t,r),h=o4(t,n.x,a,r),g=t.top<n.y&&t.bottom>n.y,m=t.top<e.y&&t.bottom>e.y,w=e.y>t.bottom,b=t.top>e.y,T=n.top<t.top&&n.bottom>t.bottom;return T&&(i=0,s=c),g&&(b?(i=0,s=h):w&&(i=h,s=c)),m&&(i=s=a?c-Math.floor((e.x-t.left)/d):Math.floor((e.x-t.left)/d),g?h<i?i=h:s=h:e.y<n.y?s=c:i=0),{startIdx:i,endIdx:s}}function wq(e){var t=e.target,n=e.offset,r=e.container,a=e.box,i=Su(t),s=i.top,c=i.left,d=i.width,h=i.height,g=Su(r),m=g.top,w=g.left,b=g.width,T=g.height,E=Su(a),k=E.width,M=E.height,F=m+T,B=w+b,N=s+M,P=c+k,R=n.x,j=n.y,$=N>F?s-M-j:s+j+h,W=P>B?c+R-k+d:c+R;return{topOffset:$,leftOffset:W}}function Dq(e){var t=e.containerRef,n=e.accessors,r=e.getters,a=e.selected,i=e.components,s=e.localizer,c=e.position,d=e.show,h=e.events,g=e.slotStart,m=e.slotEnd,w=e.onSelect,b=e.onDoubleClick,T=e.onKeyPress,E=e.handleDragStart,k=e.popperRef,M=e.target,F=e.offset;gq({ref:k,callback:d}),A.useLayoutEffect(function(){var P=wq({target:M,offset:F,container:t.current,box:k.current}),R=P.topOffset,j=P.leftOffset;k.current.style.top="".concat(R,"px"),k.current.style.left="".concat(j,"px")},[F.x,F.y,M]);var B=c.width,N={minWidth:B+B/2};return Q.createElement("div",{style:N,className:"rbc-overlay",ref:k},Q.createElement("div",{className:"rbc-overlay-header"},s.format(g,"dayHeaderFormat")),h.map(function(P,R){return Q.createElement(r4,{key:R,type:"popup",localizer:s,event:P,getters:r,onSelect:w,accessors:n,components:i,onDoubleClick:b,onKeyPress:T,continuesPrior:s.lt(n.end(P),g,"day"),continuesAfter:s.gte(n.start(P),m,"day"),slotStart:g,slotEnd:m,selected:Gv(P,a),draggable:!0,onDragStart:function(){return E(P)},onDragEnd:function(){return d()}})}))}var i4=Q.forwardRef(function(e,t){return Q.createElement(Dq,Object.assign({},e,{popperRef:t}))});i4.propTypes={accessors:Ne.object.isRequired,getters:Ne.object.isRequired,selected:Ne.object,components:Ne.object.isRequired,localizer:Ne.object.isRequired,position:Ne.object.isRequired,show:Ne.func.isRequired,events:Ne.array.isRequired,slotStart:Ne.instanceOf(Date).isRequired,slotEnd:Ne.instanceOf(Date),onSelect:Ne.func,onDoubleClick:Ne.func,onKeyPress:Ne.func,handleDragStart:Ne.func,style:Ne.object,offset:Ne.shape({x:Ne.number,y:Ne.number})};function Sq(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,a=e.overlay,i=e.accessors,s=e.localizer,c=e.components,d=e.getters,h=e.selected,g=e.handleSelectEvent,m=e.handleDoubleClickEvent,w=e.handleKeyPressEvent,b=e.handleDragStart,T=e.onHide,E=e.overlayDisplay,k=A.useRef(null);if(!a.position)return null;var M=r;isNaN(r)||(M={x:r,y:r});var F=a.position,B=a.events,N=a.date,P=a.end;return Q.createElement(lO,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:T,target:a.target},function(R){var j=R.props;return Q.createElement(i4,Object.assign({},j,{containerRef:t,ref:k,target:a.target,offset:M,accessors:i,getters:d,selected:h,components:c,localizer:s,position:F,show:E,events:B,slotStart:N,slotEnd:P,onSelect:g,onDoubleClick:m,onKeyPress:w,handleDragStart:b}))})}var zb=Q.forwardRef(function(e,t){return Q.createElement(Sq,Object.assign({},e,{containerRef:t}))});zb.propTypes={popupOffset:Ne.oneOfType([Ne.number,Ne.shape({x:Ne.number,y:Ne.number})]),overlay:Ne.shape({position:Ne.object,events:Ne.array,date:Ne.instanceOf(Date),end:Ne.instanceOf(Date)}),accessors:Ne.object.isRequired,localizer:Ne.object.isRequired,components:Ne.object.isRequired,getters:Ne.object.isRequired,selected:Ne.object,handleSelectEvent:Ne.func,handleDoubleClickEvent:Ne.func,handleKeyPressEvent:Ne.func,handleDragStart:Ne.func,onHide:Ne.func,overlayDisplay:Ne.func};function kr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Lp(n,e,t,{passive:!1})}function Eq(e,t,n){return!e||ah(e,document.elementFromPoint(t,n))}function Tq(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return AT(a,".rbc-event",e)}function Cq(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return AT(a,".rbc-show-more",e)}function pv(e,t){return!!Tq(e,t)}function xq(e,t){return!!Cq(e,t)}function df(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var QS=5,Mq=250,s4=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,a=r===void 0?!1:r,i=n.longPressThreshold,s=i===void 0?250:i,c=n.validContainers,d=c===void 0?[]:c;ir(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=s,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=kr("touchmove",function(){},window),this._removeKeyDownListener=kr("keydown",this._keyListener),this._removeKeyUpListener=kr("keyup",this._keyListener),this._removeDropFromOutsideListener=kr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=kr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return sr(e,[{key:"on",value:function(n,r){var a=this._listeners[n]||(this._listeners[n]=[]);return a.push(r),{remove:function(){var s=a.indexOf(r);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var s,c=this._listeners[n]||[];return c.forEach(function(d){s===void 0&&(s=d.apply(void 0,a))}),s}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:ZS(r,Iu(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var a=this,i=null,s=null,c=null,d=function(w){i=setTimeout(function(){g(),n(w)},a.longPressThreshold),s=kr("touchmove",function(){return g()}),c=kr("touchend",function(){return g()})},h=kr("touchstart",d),g=function(){i&&clearTimeout(i),s&&s(),c&&c(),i=null,s=null,c=null};return r&&d(r),function(){g(),h()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=kr("mousedown",function(i){n._removeInitialEventListener(),n._handleInitialEvent(i),n._removeInitialEventListener=kr("mousedown",n._handleInitialEvent)}),a=kr("touchstart",function(i){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,i)});this._removeInitialEventListener=function(){r(),a()}}},{key:"_dropFromOutsideListener",value:function(n){var r=df(n),a=r.pageX,i=r.pageY,s=r.clientX,c=r.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:s,clientY:c}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=df(n),a=r.pageX,i=r.pageY,s=r.clientX,c=r.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:s,clientY:c}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var r=df(n),a=r.clientX,i=r.clientY,s=r.pageX,c=r.pageY,d=this.container(),h,g;if(!(n.which===3||n.button===2||!Eq(d,a,i))){if(!this.globalMouse&&d&&!ah(d,n.target)){var m=kq(0),w=m.top,b=m.left,T=m.bottom,E=m.right;if(g=Iu(d),h=ZS({top:g.top-w,left:g.left-b,bottom:g.bottom+T,right:g.right+E},{top:c,left:s}),!h)return}var k=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:s,y:c,clientX:a,clientY:i});if(k!==!1)switch(n.type){case"mousedown":this._removeEndListener=kr("mouseup",this._handleTerminatingEvent),this._onEscListener=kr("keydown",this._handleTerminatingEvent),this._removeMoveListener=kr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=kr("touchend",this._handleTerminatingEvent),this._removeMoveListener=kr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,a=this.validContainers;return!a||!a.length||!r?!0:a.some(function(i){return!!r.closest(i)})}},{key:"_handleTerminatingEvent",value:function(n){var r=df(n),a=r.pageX,i=r.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var s=!this.container||ah(this.container(),n.target),c=this._isWithinValidContainer(n),d=this._selectRect,h=this.isClick(a,i);return this._initialEventData=null,n.key==="Escape"||!c?this.emit("reset"):h&&s?this._handleClickEvent(n):h?this.emit("reset"):this.emit("select",d)}}},{key:"_handleClickEvent",value:function(n){var r=df(n),a=r.pageX,i=r.pageY,s=r.clientX,c=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<Mq?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:s,clientY:c})):(this._lastClickData={timestamp:d},this.emit("click",{x:a,y:i,clientX:s,clientY:c}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,a=r.x,i=r.y,s=df(n),c=s.pageX,d=s.pageY,h=Math.abs(a-c),g=Math.abs(i-d),m=Math.min(c,a),w=Math.min(d,i),b=this.selecting;this.isClick(c,d)&&!b&&!(h||g)||(this.selecting=!0,this._selectRect={top:w,left:m,x:c,y:d,right:m+h,bottom:w+g},b||this.emit("selectStart",this._initialEventData),this.isClick(c,d)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var a=this._initialEventData,i=a.x,s=a.y,c=a.isTouch;return!c&&Math.abs(n-i)<=QS&&Math.abs(r-s)<=QS}}]),e}();function kq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return ss(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function ZS(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Iu(e),a=r.top,i=r.left,s=r.right,c=s===void 0?i:s,d=r.bottom,h=d===void 0?a:d,g=Iu(t),m=g.top,w=g.left,b=g.right,T=b===void 0?w:b,E=g.bottom,k=E===void 0?m:E;return!(h-n<m||a+n>k||c-n<w||i+n>T)}function Iu(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+JS("left"),r=t.top+JS("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function JS(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var Iq=function(e){Gr(t,e);function t(n,r){var a;return ir(this,t),a=qr(this,t,[n,r]),a.state={selecting:!1},a.containerRef=A.createRef(),a}return sr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,a=r.range,i=r.getNow,s=r.getters,c=r.date,d=r.components.dateCellWrapper,h=r.localizer,g=this.state,m=g.selecting,w=g.startIdx,b=g.endIdx,T=i();return Q.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(E,k){var M=m&&k>=w&&k<=b,F=s.dayProp(E),B=F.className,N=F.style;return Q.createElement(d,{key:k,value:E,range:a},Q.createElement("div",{style:N,className:zn("rbc-day-bg",B,M&&"rbc-selected-cell",h.isSameDate(E,T)&&"rbc-today",c&&h.neq(c,E,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,a=this.containerRef.current,i=this._selector=new s4(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(d,h){if(!pv(a,d)&&!xq(a,d)){var g=Iu(a),m=r.props,w=m.range,b=m.rtl;if(yq(g,d)){var T=o4(g,d.x,b,w.length);r._selectSlot({startIdx:T,endIdx:T,action:h,box:d})}}r._initial={},r.setState({selecting:!1})};i.on("selecting",function(c){var d=r.props,h=d.range,g=d.rtl,m=-1,w=-1;if(r.state.selecting||(hn(r.props.onSelectStart,[c]),r._initial={x:c.x,y:c.y}),i.isSelected(a)){var b=Iu(a),T=bq(r._initial,b,c,h.length,g);m=T.startIdx,w=T.endIdx}r.setState({selecting:!0,startIdx:m,endIdx:w})}),i.on("beforeSelect",function(c){if(r.props.selectable==="ignoreEvents")return!pv(r.containerRef.current,c)}),i.on("click",function(c){return s(c,"click")}),i.on("doubleClick",function(c){return s(c,"doubleClick")}),i.on("select",function(c){r._selectSlot(Xt(Xt({},r.state),{},{action:"select",bounds:c})),r._initial={},r.setState({selecting:!1}),hn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var a=r.endIdx,i=r.startIdx,s=r.action,c=r.bounds,d=r.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:s,bounds:c,box:d,resourceId:this.props.resourceId})}}]),t}(Q.Component),bi={propTypes:{slotMetrics:Ne.object.isRequired,selected:Ne.object,isAllDay:Ne.bool,accessors:Ne.object.isRequired,localizer:Ne.object.isRequired,components:Ne.object.isRequired,getters:Ne.object.isRequired,onSelect:Ne.func,onDoubleClick:Ne.func,onKeyPress:Ne.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,s=t.onSelect,c=t.onDoubleClick,d=t.onKeyPress,h=t.localizer,g=t.slotMetrics,m=t.components,w=t.resizable,b=g.continuesPrior(n),T=g.continuesAfter(n);return Q.createElement(r4,{event:n,getters:i,localizer:h,accessors:a,components:m,onSelect:s,onDoubleClick:c,onKeyPress:d,continuesPrior:b,continuesAfter:T,slotStart:g.first,slotEnd:g.last,selected:Gv(n,r),resizable:w})},renderSpan:function(t,n,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(n)/t*100+"%";return Q.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},l4=function(e){Gr(t,e);function t(){return ir(this,t),qr(this,t,arguments)}return sr(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.segments,s=a.slotMetrics.slots,c=a.className,d=1;return Q.createElement("div",{className:zn(c,"rbc-row")},i.reduce(function(h,g,m){var w=g.event,b=g.left,T=g.right,E=g.span,k="_lvl_"+m,M=b-d,F=bi.renderEvent(r.props,w);return M&&h.push(bi.renderSpan(s,M,"".concat(k,"_gap"))),h.push(bi.renderSpan(s,E,k,F)),d=T+1,h},[]))}}]),t}(Q.Component);l4.defaultProps=Xt({},bi.defaultProps);function u4(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function Nq(e,t,n,r){var a=u4({dateRange:t,localizer:r}),i=a.first,s=a.last,c=r.diff(i,s,"day"),d=r.max(r.startOf(n.start(e),"day"),i),h=r.min(r.ceil(n.end(e),"day"),s),g=_Y(t,function(w){return r.isSameDate(w,d)}),m=r.diff(d,h,"day");return m=Math.min(m,c),m=Math.max(m-r.segmentOffset,1),{event:e,span:m,left:g+1,right:Math.max(g+m,1)}}function c4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,a,i=[],s=[];for(n=0;n<e.length;n++){for(a=e[n],r=0;r<i.length&&Fq(a,i[r]);r++);r>=t?s.push(a):(i[r]||(i[r]=[])).push(a)}for(n=0;n<i.length;n++)i[n].sort(function(c,d){return c.left-d.left});return{levels:i,extra:s}}function oh(e,t,n,r,a){var i={start:r.start(e),end:r.end(e)},s={start:t,end:n};return a.inEventRange({event:i,range:s})}function Fq(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function Aq(e,t,n){var r=Ug(e),a=[],i=[];r.forEach(function(d){var h=t.start(d),g=t.end(d);n.daySpan(h,g)>1?a.push(d):i.push(d)});var s=a.sort(function(d,h){return N1(d,h,t,n)}),c=i.sort(function(d,h){return N1(d,h,t,n)});return[].concat(Ug(s),Ug(c))}function N1(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:i})}var f4=function(t,n){return t.left<=n&&t.right>=n},XS=function(t,n){return t.filter(function(r){return f4(r,n)}).map(function(r){return r.event})},d4=function(e){Gr(t,e);function t(){return ir(this,t),qr(this,t,arguments)}return sr(t,[{key:"render",value:function(){for(var r=this.props,a=r.segments,i=r.slotMetrics.slots,s=c4(a).levels[0],c=1,d=1,h=[];c<=i;){var g="_lvl_"+c,m=s.filter(function(F){return f4(F,c)})[0]||{},w=m.event,b=m.left,T=m.right,E=m.span;if(!w){c++;continue}var k=Math.max(0,b-d);if(this.canRenderSlotEvent(b,E)){var M=bi.renderEvent(this.props,w);k&&h.push(bi.renderSpan(i,k,g+"_gap")),h.push(bi.renderSpan(i,E,g,M)),d=c=T+1}else k&&h.push(bi.renderSpan(i,k,g+"_gap")),h.push(bi.renderSpan(i,1,g,this.renderShowMore(a,c))),d=c+=1}return Q.createElement("div",{className:"rbc-row"},h)}},{key:"canRenderSlotEvent",value:function(r,a){var i=this.props.segments;return GY(r,r+a).every(function(s){var c=XS(i,s).length;return c===1})}},{key:"renderShowMore",value:function(r,a){var i=this,s=this.props,c=s.localizer,d=s.slotMetrics,h=d.getEventsForSlot(a),g=XS(r,a),m=g.length;return m?Q.createElement("button",{type:"button",key:"sm_"+a,className:zn("rbc-button-link","rbc-show-more"),onClick:function(b){return i.showMore(a,b)}},c.messages.showMore(m,g,h)):!1}},{key:"showMore",value:function(r,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(r,a.target)}}]),t}(Q.Component);d4.defaultProps=Xt({},bi.defaultProps);var Oq=function(t){var n=t.children;return Q.createElement("div",{className:"rbc-row-content-scroll-container"},n)},Rq=function(t,n){return t.left<=n&&t.right>=n},Lq=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function p4(){return PT(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,i=e.accessors,s=e.localizer,c=u4({dateRange:t,localizer:s}),d=c.first,h=c.last,g=n.map(function(E){return Nq(E,t,i,s)}),m=c4(g,Math.max(r-1,1)),w=m.levels,b=m.extra,T=b.length>0?a-1:a;w.length<T;)w.push([]);return{first:d,last:h,levels:w,extra:b,range:t,slots:t.length,clone:function(k){var M=p4();return M(Xt(Xt({},e),k))},getDateForSlot:function(k){return t[k]},getSlotForDate:function(k){return t.find(function(M){return s.isSameDate(M,k)})},getEventsForSlot:function(k){return g.filter(function(M){return Rq(M,k)}).map(function(M){return M.event})},continuesPrior:function(k){return s.continuesPrior(i.start(k),d)},continuesAfter:function(k){var M=i.start(k),F=i.end(k);return s.continuesAfter(M,F,h)}}},Lq)}var hv=function(e){Gr(t,e);function t(){var n;ir(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=qr(this,t,[].concat(a)),n.handleSelectSlot=function(s){var c=n.props,d=c.range,h=c.onSelectSlot;h(d.slice(s.start,s.end+1),s)},n.handleShowMore=function(s,c){var d=n.props,h=d.range,g=d.onShowMore,m=n.slotMetrics(n.props),w=PA(n.containerRef.current,".rbc-row-bg")[0],b;w&&(b=w.children[s-1]);var T=m.getEventsForSlot(s);g(T,h[s-1],b,s,c)},n.getContainer=function(){var s=n.props.container;return s?s():n.containerRef.current},n.renderHeadingCell=function(s,c){var d=n.props,h=d.renderHeader,g=d.getNow,m=d.localizer;return h({date:s,key:"header_".concat(c),className:zn("rbc-date-cell",m.isSameDate(s,g())&&"rbc-now")})},n.renderDummy=function(){var s=n.props,c=s.className,d=s.range,h=s.renderHeader,g=s.showAllEvents;return Q.createElement("div",{className:c,ref:n.containerRef},Q.createElement("div",{className:zn("rbc-row-content",g&&"rbc-row-content-scrollable")},h&&Q.createElement("div",{className:"rbc-row",ref:n.headingRowRef},d.map(n.renderHeadingCell)),Q.createElement("div",{className:"rbc-row",ref:n.eventRowRef},Q.createElement("div",{className:"rbc-row-segment"},Q.createElement("div",{className:"rbc-event"},Q.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=A.createRef(),n.headingRowRef=A.createRef(),n.eventRowRef=A.createRef(),n.slotMetrics=p4(),n}return sr(t,[{key:"getRowLimit",value:function(){var r,a=A0(this.eventRowRef.current),i=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?A0(this.headingRowRef.current):0,s=A0(this.containerRef.current)-i;return Math.max(Math.floor(s/a),1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.rtl,s=r.range,c=r.className,d=r.selected,h=r.selectable,g=r.renderForMeasure,m=r.accessors,w=r.getters,b=r.components,T=r.getNow,E=r.renderHeader,k=r.onSelect,M=r.localizer,F=r.onSelectStart,B=r.onSelectEnd,N=r.onDoubleClick,P=r.onKeyPress,R=r.resourceId,j=r.longPressThreshold,$=r.isAllDay,W=r.resizable,z=r.showAllEvents;if(g)return this.renderDummy();var X=this.slotMetrics(this.props),oe=X.levels,ee=X.extra,de=z?Oq:ts,fe=b.weekWrapper,De={selected:d,accessors:m,getters:w,localizer:M,components:b,onSelect:k,onDoubleClick:N,onKeyPress:P,resourceId:R,slotMetrics:X,resizable:W};return Q.createElement("div",{className:c,role:"rowgroup",ref:this.containerRef},Q.createElement(Iq,{localizer:M,date:a,getNow:T,rtl:i,range:s,selectable:h,container:this.getContainer,getters:w,onSelectStart:F,onSelectEnd:B,onSelectSlot:this.handleSelectSlot,components:b,longPressThreshold:j,resourceId:R}),Q.createElement("div",{className:zn("rbc-row-content",z&&"rbc-row-content-scrollable"),role:"row"},E&&Q.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),Q.createElement(de,null,Q.createElement(fe,Object.assign({isAllDay:$},De,{rtl:this.props.rtl}),oe.map(function(xe,pe){return Q.createElement(l4,Object.assign({key:pe,segments:xe},De))}),!!ee.length&&Q.createElement(d4,Object.assign({segments:ee,onShowMore:this.handleShowMore},De))))))}}]),t}(Q.Component);hv.defaultProps={minRows:0,maxRows:1/0};var h4=function(t){var n=t.label;return Q.createElement("span",{role:"columnheader","aria-sort":"none"},n)},_q=function(t){var n=t.label,r=t.drilldownView,a=t.onDrillDown;return r?Q.createElement("button",{type:"button",className:"rbc-button-link",onClick:a,role:"cell"},n):Q.createElement("span",null,n)},Pq=["date","className"],jq=function(t,n,r,a,i){return t.filter(function(s){return oh(s,n,r,a,i)})},Kv=function(e){Gr(t,e);function t(){var n;ir(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=qr(this,t,[].concat(a)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(s,c){var d=n.props,h=d.events,g=d.components,m=d.selectable,w=d.getNow,b=d.selected,T=d.date,E=d.localizer,k=d.longPressThreshold,M=d.accessors,F=d.getters,B=d.showAllEvents,N=n.state,P=N.needLimitMeasure,R=N.rowLimit,j=jq(Ug(h),s[0],s[s.length-1],M,E),$=Aq(j,M,E);return Q.createElement(hv,{key:c,ref:c===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:w,date:T,range:s,events:$,maxRows:B?1/0:R,selected:b,selectable:m,components:g,accessors:M,getters:F,localizer:E,renderHeader:n.readerDateHeading,renderForMeasure:P,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:k,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:B})},n.readerDateHeading=function(s){var c=s.date,d=s.className,h=Ei(s,Pq),g=n.props,m=g.date,w=g.getDrilldownView,b=g.localizer,T=b.neq(c,m,"month"),E=b.isSameDate(c,m),k=w(c),M=b.format(c,"dateFormat"),F=n.props.components.dateHeader||_q;return Q.createElement("div",Object.assign({},h,{className:zn(d,T&&"rbc-off-range",E&&"rbc-current"),role:"cell"}),Q.createElement(F,{label:M,date:c,drilldownView:k,isOffRange:T,onDrillDown:function(N){return n.handleHeadingClick(c,k,N)}}))},n.handleSelectSlot=function(s,c){n._pendingSelection=n._pendingSelection.concat(s),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(c)})},n.handleHeadingClick=function(s,c,d){d.preventDefault(),n.clearSelection(),hn(n.props.onDrillDown,[s,c])},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onKeyPressEvent,c)},n.handleShowMore=function(s,c,d,h,g){var m=n.props,w=m.popup,b=m.onDrillDown,T=m.onShowMore,E=m.getDrilldownView,k=m.doShowMoreDrillDown;if(n.clearSelection(),w){var M=yT(d,n.containerRef.current);n.setState({overlay:{date:c,events:s,position:M,target:g}})}else k&&hn(b,[c,E(c)||$r.DAY]);hn(T,[s,c,h])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=A.createRef(),n.slotRowRef=A.createRef(),n._bgRows=[],n._pendingSelection=[],n}return sr(t,[{key:"componentDidMount",value:function(){var r=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||bT(function(){a=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,s=r.className,c=i.visibleDays(a,i),d=DA(c,7);return this._weekCount=d.length,Q.createElement("div",{className:zn("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},Q.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var a=this.props,i=a.localizer,s=a.components,c=r[0],d=r[r.length-1],h=s.header||h4;return i.range(c,d,"day").map(function(g,m){return Q.createElement("div",{key:"header_"+m,className:"rbc-header"},Q.createElement(h,{date:g,localizer:i,label:i.format(g,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,a,i=this,s=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},c=this.props,d=c.accessors,h=c.localizer,g=c.components,m=c.getters,w=c.selected,b=c.popupOffset,T=c.handleDragStart,E=function(){return i.setState({overlay:null})};return Q.createElement(zb,{overlay:s,accessors:d,localizer:h,components:g,getters:m,selected:w,popupOffset:b,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:T,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:E})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(c,d){return+c-+d});var i=new Date(a[0]),s=new Date(a[a.length-1]);s.setDate(a[a.length-1].getDate()+1),hn(this.props.onSelectSlot,{slots:a,start:i,end:s,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,a){var i=r.date,s=r.localizer;return{date:i,needLimitMeasure:s.neq(i,a.date,"month")}}}]),t}(Q.Component);Kv.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),a=n.lastVisibleDay(e,n);return{start:r,end:a}};Kv.navigate=function(e,t,n){var r=n.localizer;switch(t){case ma.PREVIOUS:return r.add(e,-1,"month");case ma.NEXT:return r.add(e,1,"month");default:return e}};Kv.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var e2=function(t){var n=t.min,r=t.max,a=t.step,i=t.slots,s=t.localizer;return"".concat(+s.startOf(n,"minutes"))+"".concat(+s.startOf(r,"minutes"))+"".concat(a,"-").concat(i)};function $b(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,i=e.localizer,s=e2({start:t,end:n,step:r,timeslots:a,localizer:i}),c=1+i.getTotalMin(t,n),d=i.getMinutesFromMidnight(t),h=Math.ceil((c-1)/(r*a)),g=h*a,m=new Array(h),w=new Array(g),b=0;b<h;b++){m[b]=new Array(a);for(var T=0;T<a;T++){var E=b*a+T,k=E*r;w[E]=m[b][T]=i.getSlotDate(t,d,k)}}var M=w.length*r;w.push(i.getSlotDate(t,d,M));function F(B){var N=i.diff(t,B,"minutes")+i.getDstOffset(t,B);return Math.min(N,c)}return{groups:m,update:function(N){return e2(N)!==s?$b(N):this},dateIsInGroup:function(N,P){var R=m[P+1];return i.inRange(N,m[P][0],R?R[0]:n,"minutes")},nextSlot:function(N){var P=w[Math.min(w.indexOf(N)+1,w.length-1)];return P===N&&(P=i.add(N,r,"minutes")),P},closestSlotToPosition:function(N){var P=Math.min(w.length-1,Math.max(0,Math.floor(N*g)));return w[P]},closestSlotFromPoint:function(N,P){var R=Math.abs(P.top-P.bottom);return this.closestSlotToPosition((N.y-P.top)/R)},closestSlotFromDate:function(N){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(N,t,"minutes"))return w[0];if(i.gt(N,n,"minutes"))return w[w.length-1];var R=i.diff(t,N,"minutes");return w[(R-R%r)/r+P]},startsBeforeDay:function(N){return i.lt(N,t,"day")},startsAfterDay:function(N){return i.gt(N,n,"day")},startsBefore:function(N){return i.lt(i.merge(t,N),t,"minutes")},startsAfter:function(N){return i.gt(i.merge(n,N),n,"minutes")},getRange:function(N,P,R,j){R||(N=i.min(n,i.max(t,N))),j||(P=i.min(n,i.max(t,P)));var $=F(N),W=F(P),z=W>r*g&&!i.eq(n,P)?($-r)/(r*g)*100:$/(r*g)*100;return{top:z,height:W/(r*g)*100-z,start:F(N),startDate:N,end:F(P),endDate:P}},getCurrentTimePosition:function(N){var P=F(N),R=P/(r*g)*100;return R}}}var Bq=function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;ir(this,e);var i=a.getRange(r.start(t),r.end(t)),s=i.start,c=i.startDate,d=i.end,h=i.endDate,g=i.top,m=i.height;this.start=s,this.end=d,this.startMs=+c,this.endMs=+h,this.top=g,this.height=m,this.data=t}return sr(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,a=n.xOffset,i=n._width,s=r.indexOf(this)+1;return a+s*i}}]),e}();function Yq(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function Hq(e){for(var t=hU(e,["startMs",function(c){return-c.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var i=t[a];if(!(r.endMs>i.startMs)){if(a>0){var s=t.splice(a,1)[0];n.push(s)}break}}}return n}function m4(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=t.map(function(g){return new Bq(g,{slotMetrics:r,accessors:a})}),s=Hq(i),c=[],d=function(){var m=s[h],w=c.find(function(E){return E.end>m.start||Math.abs(m.start-E.start)<n});if(!w)return m.rows=[],c.push(m),1;m.container=w;for(var b=null,T=w.rows.length-1;!b&&T>=0;T--)Yq(w.rows[T],m,n)&&(b=w.rows[T]);b?(b.leaves.push(m),m.row=b):(m.leaves=[],w.rows.push(m))},h=0;h<s.length;h++)d();return s.map(function(g){return{event:g.data,style:{top:g.top,height:g.height,width:g.width,xOffset:Math.max(0,g.xOffset)}}})}function g4(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=g4(e.friends[r],t,n);t=t>a?t:a}return t}function Uq(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=m4({events:t,minimumStartDifference:n,slotMetrics:r,accessors:a});i.sort(function(fe,De){return fe=fe.style,De=De.style,fe.top!==De.top?fe.top>De.top?1:-1:fe.height!==De.height?fe.top+fe.height<De.top+De.height?1:-1:0});for(var s=0;s<i.length;++s)i[s].friends=[],delete i[s].style.left,delete i[s].style.left,delete i[s].idx,delete i[s].size;for(var c=0;c<i.length-1;++c)for(var d=i[c],h=d.style.top,g=d.style.top+d.style.height,m=c+1;m<i.length;++m){var w=i[m],b=w.style.top,T=w.style.top+w.style.height;(b>=h&&T<=g||T>h&&T<=g||b>=h&&b<g)&&(d.friends.push(w),w.friends.push(d))}for(var E=0;E<i.length;++E){for(var k=i[E],M=[],F=0;F<100;++F)M.push(1);for(var B=0;B<k.friends.length;++B)k.friends[B].idx!==void 0&&(M[k.friends[B].idx]=0);k.idx=M.indexOf(1)}for(var N=0;N<i.length;++N){var P=0;if(!i[N].size){var R=[],j=g4(i[N],0,R);P=100/(j+1),i[N].size=P;for(var $=0;$<R.length;++$)R[$].size=P}}for(var W=0;W<i.length;++W){var z=i[W];z.style.left=z.idx*z.size;for(var X=0,oe=0;oe<z.friends.length;++oe){var ee=z.friends[oe].idx;X=X>ee?X:ee}X<=z.idx&&(z.size=100-z.idx*z.size);var de=z.idx===0?0:3;z.style.width="calc(".concat(z.size,"% - ").concat(de,"px)"),z.style.height="calc(".concat(z.style.height,"% - 2px)"),z.style.xOffset="calc(".concat(z.style.left,"% + ").concat(de,"px)")}return i}var t2={overlap:m4,"no-overlap":Uq};function Vq(e){return!!(e&&e.constructor&&e.call&&e.apply)}function zq(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in t2&&(n=t2[t]),Vq(n)?n.apply(this,arguments):[]}var v4=function(e){Gr(t,e);function t(){return ir(this,t),qr(this,t,arguments)}return sr(t,[{key:"render",value:function(){var r=this.props,a=r.renderSlot,i=r.resource,s=r.group,c=r.getters,d=r.components,h=d===void 0?{}:d,g=h.timeSlotWrapper,m=g===void 0?ts:g,w=c?c.slotGroupProp(s):{};return Q.createElement("div",Object.assign({className:"rbc-timeslot-group"},w),s.map(function(b,T){var E=c?c.slotProp(b,i):{};return Q.createElement(m,{key:T,value:b,resource:i},Q.createElement("div",Object.assign({},E,{className:zn("rbc-time-slot",E.className)}),a&&a(b,T)))}))}}]),t}(A.Component);function Tg(e){return typeof e=="string"?e:e+"%"}function $q(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,i=e.rtl,s=e.selected,c=e.label,d=e.continuesPrior,h=e.continuesAfter,g=e.getters,m=e.onClick,w=e.onDoubleClick,b=e.isBackgroundEvent,T=e.onKeyPress,E=e.components,k=E.event,M=E.eventWrapper,F=a.title(r),B=a.tooltip(r),N=a.end(r),P=a.start(r),R=g.eventProp(r,P,N,s),j=[Q.createElement("div",{key:"1",className:"rbc-event-label"},c),Q.createElement("div",{key:"2",className:"rbc-event-content"},k?Q.createElement(k,{event:r,title:F}):F)],$=t.height,W=t.top,z=t.width,X=t.xOffset,oe=Xt(Xt({},R.style),{},gu({top:Tg(W),height:Tg($),width:Tg(z)},i?"right":"left",Tg(X)));return Q.createElement(M,Object.assign({type:"time"},e),Q.createElement("div",{role:"button",tabIndex:0,onClick:m,onDoubleClick:w,style:oe,onKeyDown:T,title:B?(typeof c=="string"?c+": ":"")+B:void 0,className:zn(b?"rbc-background-event":"rbc-event",n,R.className,{"rbc-selected":s,"rbc-event-continues-earlier":d,"rbc-event-continues-later":h})},j))}var Wq=function(t){var n=t.children,r=t.className,a=t.style,i=t.innerRef;return Q.createElement("div",{className:r,style:a,ref:i},n)},qq=Q.forwardRef(function(e,t){return Q.createElement(Wq,Object.assign({},e,{innerRef:t}))}),Gq=["dayProp"],Kq=["eventContainerWrapper"],y4=function(e){Gr(t,e);function t(){var n;ir(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=qr(this,t,[].concat(a)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(s){var c=s.events,d=s.isBackgroundEvent,h=n.props,g=h.rtl,m=h.selected,w=h.accessors,b=h.localizer,T=h.getters,E=h.components,k=h.step,M=h.timeslots,F=h.dayLayoutAlgorithm,B=h.resizable,N=q3(n),P=N.slotMetrics,R=b.messages,j=zq({events:c,accessors:w,slotMetrics:P,minimumStartDifference:Math.ceil(k*M/2),dayLayoutAlgorithm:F});return j.map(function($,W){var z=$.event,X=$.style,oe=w.end(z),ee=w.start(z),de="eventTimeRangeFormat",fe,De=P.startsBeforeDay(ee),xe=P.startsAfterDay(oe);De?de="eventTimeRangeEndFormat":xe&&(de="eventTimeRangeStartFormat"),De&&xe?fe=R.allDay:fe=b.format({start:ee,end:oe},de);var pe=De||P.startsBefore(ee),we=xe||P.startsAfter(oe);return Q.createElement($q,{style:X,event:z,label:fe,key:"evt_"+W,getters:T,rtl:g,components:E,continuesPrior:pe,continuesAfter:we,accessors:w,resource:n.props.resource,selected:Gv(z,m),onClick:function(G){return n._select(Xt(Xt(Xt({},z),n.props.resource&&{sourceResource:n.props.resource}),d&&{isBackgroundEvent:!0}),G)},onDoubleClick:function(G){return n._doubleClick(z,G)},isBackgroundEvent:d,onKeyPress:function(G){return n._keyPress(z,G)},resizable:B})})},n._selectable=function(){var s=n.containerRef.current,c=n.props,d=c.longPressThreshold,h=c.localizer,g=n._selector=new s4(function(){return s},{longPressThreshold:d}),m=function(E){var k=n.props.onSelecting,M=n.state||{},F=w(E),B=F.startDate,N=F.endDate;k&&(h.eq(M.startDate,B,"minutes")&&h.eq(M.endDate,N,"minutes")||k({start:B,end:N,resourceId:n.props.resource})===!1)||(n.state.start!==F.start||n.state.end!==F.end||n.state.selecting!==F.selecting)&&n.setState(F)},w=function(E){var k=n.slotMetrics.closestSlotFromPoint(E,Iu(s));n.state.selecting||(n._initialSlot=k);var M=n._initialSlot;h.lte(M,k)?k=n.slotMetrics.nextSlot(k):h.gt(M,k)&&(M=n.slotMetrics.nextSlot(M));var F=n.slotMetrics.getRange(h.min(M,k),h.max(M,k));return Xt(Xt({},F),{},{selecting:!0,top:"".concat(F.top,"%"),height:"".concat(F.height,"%")})},b=function(E,k){if(!pv(n.containerRef.current,E)){var M=w(E),F=M.startDate,B=M.endDate;n._selectSlot({startDate:F,endDate:B,action:k,box:E})}n.setState({selecting:!1})};g.on("selecting",m),g.on("selectStart",m),g.on("beforeSelect",function(T){if(n.props.selectable==="ignoreEvents")return!pv(n.containerRef.current,T)}),g.on("click",function(T){return b(T,"click")}),g.on("doubleClick",function(T){return b(T,"doubleClick")}),g.on("select",function(T){n.state.selecting&&(n._selectSlot(Xt(Xt({},n.state),{},{action:"select",bounds:T})),n.setState({selecting:!1}))}),g.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(s){for(var c=s.startDate,d=s.endDate,h=s.action,g=s.bounds,m=s.box,w=c,b=[];n.props.localizer.lte(w,d);)b.push(w),w=new Date(+w+n.props.step*60*1e3);hn(n.props.onSelectSlot,{slots:b,start:c,end:d,resourceId:n.props.resource,action:h,bounds:g,box:m})},n._select=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onSelectEvent,c)},n._doubleClick=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onDoubleClickEvent,c)},n._keyPress=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onKeyPressEvent,c)},n.slotMetrics=$b(n.props),n.containerRef=A.createRef(),n}return sr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,a){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(this.props);var i=this.props,s=i.getNow,c=i.isNow,d=i.localizer,h=i.date,g=i.min,m=i.max,w=d.neq(r.getNow(),s(),"minutes");if(r.isNow!==c||w){if(this.clearTimeIndicatorInterval(),c){var b=!w&&d.eq(r.date,h,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(b)}}else c&&(d.neq(r.min,g,"minutes")||d.neq(r.max,m,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,a=r.min,i=r.max,s=r.getNow,c=s();if(c>=a&&c<=i){var d=this.slotMetrics.getCurrentTimePosition(c);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.max,s=r.rtl,c=r.isNow,d=r.resource,h=r.accessors,g=r.localizer,m=r.getters,w=m.dayProp,b=Ei(m,Gq),T=r.components,E=T.eventContainerWrapper,k=Ei(T,Kq),M=this.slotMetrics,F=this.state,B=F.selecting,N=F.top,P=F.height,R=F.startDate,j=F.endDate,$={start:R,end:j},W=w(i),z=W.className,X=W.style,oe=k.dayColumnWrapper||qq;return Q.createElement(oe,{ref:this.containerRef,date:a,style:X,className:zn(z,"rbc-day-slot","rbc-time-column",c&&"rbc-now",c&&"rbc-today",B&&"rbc-slot-selecting"),slotMetrics:M},M.groups.map(function(ee,de){return Q.createElement(v4,{key:de,group:ee,resource:d,getters:b,components:k})}),Q.createElement(E,{localizer:g,resource:d,accessors:h,getters:b,components:k,slotMetrics:M},Q.createElement("div",{className:zn("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),B&&Q.createElement("div",{className:"rbc-slot-selection",style:{top:N,height:P}},Q.createElement("span",null,g.format($,"selectRangeFormat"))),c&&this.intervalTriggered&&Q.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(Q.Component);y4.defaultProps={dragThroughEvents:!0,timeslots:2};function Qq(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var Zq=function(t){var n=t.min,r=t.max,a=t.timeslots,i=t.step,s=t.localizer,c=t.getNow,d=t.resource,h=t.components,g=t.getters,m=t.gutterRef,w=h.timeGutterWrapper,b=A.useMemo(function(){return Qq({min:n,max:r,localizer:s})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),s]),T=b.start,E=b.end,k=A.useState($b({min:T,max:E,timeslots:a,step:i,localizer:s})),M=rs(k,2),F=M[0],B=M[1];A.useEffect(function(){F&&B(F.update({min:T,max:E,timeslots:a,step:i,localizer:s}))},[T==null?void 0:T.toISOString(),E==null?void 0:E.toISOString(),a,i]);var N=A.useCallback(function(P,R){if(R)return null;var j=F.dateIsInGroup(c(),R);return Q.createElement("span",{className:zn("rbc-label",j&&"rbc-now")},s.format(P,"timeGutterFormat"))},[F,s,c]);return Q.createElement(w,{slotMetrics:F},Q.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:m},F.groups.map(function(P,R){return Q.createElement(v4,{key:R,group:P,resource:d,components:h,renderSlot:N,getters:g})})))},Jq=Q.forwardRef(function(e,t){return Q.createElement(Zq,Object.assign({gutterRef:t},e))}),Xq=function(t){var n=t.label;return Q.createElement(Q.Fragment,null,n)},eG=function(e){Gr(t,e);function t(){var n;ir(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=qr(this,t,[].concat(a)),n.handleHeaderClick=function(s,c,d){d.preventDefault(),hn(n.props.onDrillDown,[s,c])},n.renderRow=function(s){var c=n.props,d=c.events,h=c.rtl,g=c.selectable,m=c.getNow,w=c.range,b=c.getters,T=c.localizer,E=c.accessors,k=c.components,M=c.resizable,F=E.resourceId(s),B=s?d.filter(function(N){return E.resource(N)===F}):d;return Q.createElement(hv,{isAllDay:!0,rtl:h,getNow:m,minRows:2,maxRows:n.props.allDayMaxRows+1,range:w,events:B,resourceId:F,className:"rbc-allday-cell",selectable:g,selected:n.props.selected,components:k,accessors:E,getters:b,localizer:T,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:M})},n}return sr(t,[{key:"renderHeaderCells",value:function(r){var a=this,i=this.props,s=i.localizer,c=i.getDrilldownView,d=i.getNow,h=i.getters.dayProp,g=i.components.header,m=g===void 0?h4:g,w=d();return r.map(function(b,T){var E=c(b),k=s.format(b,"dayFormat"),M=h(b),F=M.className,B=M.style,N=Q.createElement(m,{date:b,label:k,localizer:s});return Q.createElement("div",{key:T,style:B,className:zn("rbc-header",F,s.isSameDate(b,w)&&"rbc-today")},E?Q.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(R){return a.handleHeaderClick(b,E,R)}},N):Q.createElement("span",null,N))})}},{key:"render",value:function(){var r=this,a=this.props,i=a.width,s=a.rtl,c=a.resources,d=a.range,h=a.events,g=a.getNow,m=a.accessors,w=a.selectable,b=a.components,T=a.getters,E=a.scrollRef,k=a.localizer,M=a.isOverflowing,F=a.components,B=F.timeGutterHeader,N=F.resourceHeader,P=N===void 0?Xq:N,R=a.resizable,j={};M&&(j[s?"marginLeft":"marginRight"]="".concat(wT()-1,"px"));var $=c.groupEvents(h);return Q.createElement("div",{style:j,ref:E,className:zn("rbc-time-header",M&&"rbc-overflowing")},Q.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},B&&Q.createElement(B,null)),c.map(function(W,z){var X=rs(W,2),oe=X[0],ee=X[1];return Q.createElement("div",{className:"rbc-time-header-content",key:oe||z},ee&&Q.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(z)},Q.createElement("div",{className:"rbc-header"},Q.createElement(P,{index:z,label:m.resourceTitle(ee),resource:ee}))),Q.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),Q.createElement(hv,{isAllDay:!0,rtl:s,getNow:g,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:$.get(oe)||[],resourceId:ee&&oe,className:"rbc-allday-cell",selectable:w,selected:r.props.selected,components:b,accessors:m,getters:T,localizer:k,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:R}))}))}}]),t}(Q.Component),L0={};function tG(e,t){return{map:function(r){return e?e.map(function(a,i){return r([t.resourceId(a),a],i)}):[r([L0,null],0)]},groupEvents:function(r){var a=new Map;return e?(r.forEach(function(i){var s=t.resource(i)||L0;if(Array.isArray(s))s.forEach(function(d){var h=a.get(d)||[];h.push(i),a.set(d,h)});else{var c=a.get(s)||[];c.push(i),a.set(s,c)}}),a):(a.set(L0,r),a)}}}var Zf=function(e){Gr(t,e);function t(n){var r;return ir(this,t),r=qr(this,t,[n]),r.handleScroll=function(a){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=a.target.scrollLeft)},r.handleResize=function(){KD(r.rafHandle),r.rafHandle=bT(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];hn(r.props.onKeyPressEvent,i)},r.handleSelectEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];hn(r.props.onSelectEvent,i)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];hn(r.props.onDoubleClickEvent,i)},r.handleShowMore=function(a,i,s,c,d){var h=r.props,g=h.popup,m=h.onDrillDown,w=h.onShowMore,b=h.getDrilldownView,T=h.doShowMoreDrillDown;if(r.clearSelection(),g){var E=yT(s,r.containerRef.current);r.setState({overlay:{date:i,events:a,position:Xt(Xt({},E),{},{width:"200px"}),target:d}})}else T&&hn(m,[i,b(i)||$r.DAY]);hn(w,[a,i,c])},r.handleSelectAllDaySlot=function(a,i){var s=r.props.onSelectSlot,c=new Date(a[0]),d=new Date(a[a.length-1]);d.setDate(a[a.length-1].getDate()+1),hn(s,{slots:a,start:c,end:d,action:i.action,resourceId:i.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var a=r.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;r.state.isOverflowing!==i&&(r._updatingOverflow=!0,r.setState({isOverflowing:i},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=PT(function(a,i){return tG(a,i)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=Q.createRef(),r.contentRef=Q.createRef(),r.containerRef=Q.createRef(),r._scrollRatio=null,r.gutterRef=A.createRef(),r}return sr(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),KD(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,a,i,s){var c=this,d=this.props,h=d.min,g=d.max,m=d.components,w=d.accessors,b=d.localizer,T=d.dayLayoutAlgorithm,E=this.memoizedResources(this.props.resources,w),k=E.groupEvents(a),M=E.groupEvents(i);return E.map(function(F,B){var N=rs(F,2),P=N[0],R=N[1];return r.map(function(j,$){var W=(k.get(P)||[]).filter(function(X){return b.inRange(j,w.start(X),w.end(X),"day")}),z=(M.get(P)||[]).filter(function(X){return b.inRange(j,w.start(X),w.end(X),"day")});return Q.createElement(y4,Object.assign({},c.props,{localizer:b,min:b.merge(j,h),max:b.merge(j,g),resource:R&&P,components:m,isNow:b.isSameDate(j,s),key:B+"-"+$,date:j,events:W,backgroundEvents:z,dayLayoutAlgorithm:T}))})})}},{key:"render",value:function(){var r,a=this.props,i=a.events,s=a.backgroundEvents,c=a.range,d=a.width,h=a.rtl,g=a.selected,m=a.getNow,w=a.resources,b=a.components,T=a.accessors,E=a.getters,k=a.localizer,M=a.min,F=a.max,B=a.showMultiDayTimes,N=a.longPressThreshold,P=a.resizable;d=d||this.state.gutterWidth;var R=c[0],j=c[c.length-1];this.slots=c.length;var $=[],W=[],z=[];return i.forEach(function(X){if(oh(X,R,j,T,k)){var oe=T.start(X),ee=T.end(X);T.allDay(X)||k.startAndEndAreDateOnly(oe,ee)||!B&&!k.isSameDate(oe,ee)?$.push(X):W.push(X)}}),s.forEach(function(X){oh(X,R,j,T,k)&&z.push(X)}),$.sort(function(X,oe){return N1(X,oe,T,k)}),Q.createElement("div",{className:zn("rbc-time-view",w&&"rbc-time-view-resources"),ref:this.containerRef},Q.createElement(eG,{range:c,events:$,width:d,rtl:h,getNow:m,localizer:k,selected:g,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(w,T),selectable:this.props.selectable,accessors:T,getters:E,components:b,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:N,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:P}),this.props.popup&&this.renderOverlay(),Q.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Q.createElement(Jq,{date:R,ref:this.gutterRef,localizer:k,min:k.merge(R,M),max:k.merge(R,F),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:b,className:"rbc-time-gutter",getters:E}),this.renderEvents(c,W,z,m())))}},{key:"renderOverlay",value:function(){var r,a,i=this,s=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},c=this.props,d=c.accessors,h=c.localizer,g=c.components,m=c.getters,w=c.selected,b=c.popupOffset,T=c.handleDragStart,E=function(){return i.setState({overlay:null})};return Q.createElement(zb,{overlay:s,accessors:d,localizer:h,components:g,getters:m,selected:w,popupOffset:b,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:T,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:E})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=r.gutterRef)!==null&&a!==void 0&&a.current?k1(r.gutterRef.current):void 0;i&&r.state.gutterWidth!==i&&r.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=r.min,i=r.max,s=r.scrollToTime,c=r.localizer,d=c.diff(c.merge(s,a),s,"milliseconds"),h=c.diff(a,i,"milliseconds");this._scrollRatio=d/h}}]),t}(A.Component);Zf.defaultProps={step:30,timeslots:2};var nG=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Qv=function(e){Gr(t,e);function t(){return ir(this,t),qr(this,t,arguments)}return sr(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,s=r.min,c=s===void 0?i.startOf(new Date,"day"):s,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,g=r.scrollToTime,m=g===void 0?i.startOf(new Date,"day"):g,w=r.enableAutoScroll,b=w===void 0?!0:w,T=Ei(r,nG),E=t.range(a,{localizer:i});return Q.createElement(Zf,Object.assign({},T,{range:E,eventOffset:10,localizer:i,min:c,max:h,scrollToTime:m,enableAutoScroll:b}))}}]),t}(Q.Component);Qv.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};Qv.navigate=function(e,t,n){var r=n.localizer;switch(t){case ma.PREVIOUS:return r.add(e,-1,"day");case ma.NEXT:return r.add(e,1,"day");default:return e}};Qv.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var rG=["date","localizer","min","max","scrollToTime","enableAutoScroll"],hl=function(e){Gr(t,e);function t(){return ir(this,t),qr(this,t,arguments)}return sr(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,s=r.min,c=s===void 0?i.startOf(new Date,"day"):s,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,g=r.scrollToTime,m=g===void 0?i.startOf(new Date,"day"):g,w=r.enableAutoScroll,b=w===void 0?!0:w,T=Ei(r,rG),E=t.range(a,this.props);return Q.createElement(Zf,Object.assign({},T,{range:E,eventOffset:15,localizer:i,min:c,max:h,scrollToTime:m,enableAutoScroll:b}))}}]),t}(Q.Component);hl.defaultProps=Zf.defaultProps;hl.navigate=function(e,t,n){var r=n.localizer;switch(t){case ma.PREVIOUS:return r.add(e,-1,"week");case ma.NEXT:return r.add(e,1,"week");default:return e}};hl.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),i=n.endOf(e,"week",r);return n.range(a,i)};hl.title=function(e,t){var n=t.localizer,r=hl.range(e,{localizer:n}),a=zT(r),i=a[0],s=a.slice(1);return n.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var aG=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Wb(e,t){return hl.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Rh=function(e){Gr(t,e);function t(){return ir(this,t),qr(this,t,arguments)}return sr(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,s=r.min,c=s===void 0?i.startOf(new Date,"day"):s,d=r.max,h=d===void 0?i.endOf(new Date,"day"):d,g=r.scrollToTime,m=g===void 0?i.startOf(new Date,"day"):g,w=r.enableAutoScroll,b=w===void 0?!0:w,T=Ei(r,aG),E=Wb(a,this.props);return Q.createElement(Zf,Object.assign({},T,{range:E,eventOffset:15,localizer:i,min:c,max:h,scrollToTime:m,enableAutoScroll:b}))}}]),t}(Q.Component);Rh.defaultProps=Zf.defaultProps;Rh.range=Wb;Rh.navigate=hl.navigate;Rh.title=function(e,t){var n=t.localizer,r=Wb(e,{localizer:n}),a=zT(r),i=a[0],s=a.slice(1);return n.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};function ml(e){var t=e.accessors,n=e.components,r=e.date,a=e.events,i=e.getters,s=e.length,c=e.localizer,d=e.onDoubleClickEvent,h=e.onSelectEvent,g=e.selected,m=A.useRef(null),w=A.useRef(null),b=A.useRef(null),T=A.useRef(null),E=A.useRef(null);A.useEffect(function(){F()});var k=function(j,$,W){var z=n.event,X=n.date;return $=$.filter(function(oe){return oh(oe,c.startOf(j,"day"),c.endOf(j,"day"),t,c)}),$.map(function(oe,ee){var de=t.title(oe),fe=t.end(oe),De=t.start(oe),xe=i.eventProp(oe,De,fe,Gv(oe,g)),pe=ee===0&&c.format(j,"agendaDateFormat"),we=ee===0?Q.createElement("td",{rowSpan:$.length,className:"rbc-agenda-date-cell"},X?Q.createElement(X,{day:j,label:pe}):pe):!1;return Q.createElement("tr",{key:W+"_"+ee,className:xe.className,style:xe.style},we,Q.createElement("td",{className:"rbc-agenda-time-cell"},M(j,oe)),Q.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(G){return h&&h(oe,G)},onDoubleClick:function(G){return d&&d(oe,G)}},z?Q.createElement(z,{event:oe,title:de}):de))},[])},M=function(j,$){var W="",z=n.time,X=c.messages.allDay,oe=t.end($),ee=t.start($);return t.allDay($)||(c.eq(ee,oe)?X=c.format(ee,"agendaTimeFormat"):c.isSameDate(ee,oe)?X=c.format({start:ee,end:oe},"agendaTimeRangeFormat"):c.isSameDate(j,ee)?X=c.format(ee,"agendaTimeFormat"):c.isSameDate(j,oe)&&(X=c.format(oe,"agendaTimeFormat"))),c.gt(j,ee,"day")&&(W="rbc-continues-prior"),c.lt(j,oe,"day")&&(W+=" rbc-continues-after"),Q.createElement("span",{className:W.trim()},z?Q.createElement(z,{event:$,day:j,label:X}):X)},F=function(){if(E.current){var j=m.current,$=E.current.firstChild;if($){var W=T.current.scrollHeight>T.current.clientHeight,z=[],X=z;z=[k1($.children[0]),k1($.children[1])],(X[0]!==z[0]||X[1]!==z[1])&&(w.current.style.width=z[0]+"px",b.current.style.width=z[1]+"px"),W?(aO(j,"rbc-header-overflowing"),j.style.marginRight=wT()+"px"):oO(j,"rbc-header-overflowing")}}},B=c.messages,N=c.add(r,s,"day"),P=c.range(r,N,"day");return a=a.filter(function(R){return oh(R,c.startOf(r,"day"),c.endOf(N,"day"),t,c)}),a.sort(function(R,j){return+t.start(R)-+t.start(j)}),Q.createElement("div",{className:"rbc-agenda-view"},a.length!==0?Q.createElement(Q.Fragment,null,Q.createElement("table",{ref:m,className:"rbc-agenda-table"},Q.createElement("thead",null,Q.createElement("tr",null,Q.createElement("th",{className:"rbc-header",ref:w},B.date),Q.createElement("th",{className:"rbc-header",ref:b},B.time),Q.createElement("th",{className:"rbc-header"},B.event)))),Q.createElement("div",{className:"rbc-agenda-content",ref:T},Q.createElement("table",{className:"rbc-agenda-table"},Q.createElement("tbody",{ref:E},P.map(function(R,j){return k(R,a,j)}))))):Q.createElement("span",{className:"rbc-agenda-empty"},B.noEventsInRange))}ml.defaultProps={length:30};ml.range=function(e,t){var n=t.length,r=n===void 0?ml.defaultProps.length:n,a=t.localizer,i=a.add(e,r,"day");return{start:e,end:i}};ml.navigate=function(e,t,n){var r=n.length,a=r===void 0?ml.defaultProps.length:r,i=n.localizer;switch(t){case ma.PREVIOUS:return i.add(e,-a,"day");case ma.NEXT:return i.add(e,a,"day");default:return e}};ml.title=function(e,t){var n=t.length,r=n===void 0?ml.defaultProps.length:n,a=t.localizer,i=a.add(e,r,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var zg=gu(gu(gu(gu(gu({},$r.MONTH,Kv),$r.WEEK,hl),$r.WORK_WEEK,Rh),$r.DAY,Qv),$r.AGENDA,ml),oG=["action","date","today"];function iG(e,t){var n=t.action,r=t.date,a=t.today,i=Ei(t,oG);switch(e=typeof e=="string"?zg[e]:e,n){case ma.TODAY:r=a||new Date;break;case ma.DATE:break;default:Kp(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,i)}return r}var sG=function(e){Gr(t,e);function t(){var n;ir(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=qr(this,t,[].concat(a)),n.navigate=function(s){n.props.onNavigate(s)},n.view=function(s){n.props.onView(s)},n}return sr(t,[{key:"render",value:function(){var r=this.props,a=r.localizer.messages,i=r.label;return Q.createElement("div",{className:"rbc-toolbar"},Q.createElement("span",{className:"rbc-btn-group"},Q.createElement("button",{type:"button",onClick:this.navigate.bind(null,ma.TODAY)},a.today),Q.createElement("button",{type:"button",onClick:this.navigate.bind(null,ma.PREVIOUS)},a.previous),Q.createElement("button",{type:"button",onClick:this.navigate.bind(null,ma.NEXT)},a.next)),Q.createElement("span",{className:"rbc-toolbar-label"},i),Q.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(r){var a=this,i=this.props.views,s=this.props.view;if(i.length>1)return i.map(function(c){return Q.createElement("button",{type:"button",key:c,className:zn({"rbc-active":s===c}),onClick:a.view.bind(null,c)},r[c])})}}]),t}(Q.Component);function lG(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&ss(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var rl=function(t){return function(n){return lG(n,t)}},uG=["view","date","getNow","onNavigate"],cG=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function b4(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=rs(r[n],2),i=a[0],s=a[1];s&&t.push(i)}return t}function fG(e,t){var n=t.views,r=b4(n);return r.indexOf(e)!==-1}var w4=function(e){Gr(t,e);function t(){var n;ir(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=qr(this,t,[].concat(a)),n.getViews=function(){var s=n.props.views;return Array.isArray(s)?_W(s,function(c,d){return c[d]=zg[d]},{}):ss(s)==="object"?UW(s,function(c,d){return c===!0?zg[d]:c}):zg},n.getView=function(){var s=n.getViews();return s[n.props.view]},n.getDrilldownView=function(s){var c=n.props,d=c.view,h=c.drilldownView,g=c.getDrilldownView;return g?g(s,d,Object.keys(n.getViews())):h},n.handleRangeChange=function(s,c,d){var h=n.props,g=h.onRangeChange,m=h.localizer;g&&c.range&&g(c.range(s,{localizer:m}),d)},n.handleNavigate=function(s,c){var d=n.props,h=d.view,g=d.date,m=d.getNow,w=d.onNavigate,b=Ei(d,uG),T=n.getView(),E=m();g=iG(T,Xt(Xt({},b),{},{action:s,date:c||g||E,today:E})),w(g,h,s),n.handleRangeChange(g,T)},n.handleViewChange=function(s){s!==n.props.view&&fG(s,n.props)&&n.props.onView(s);var c=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),c[s],s)},n.handleSelectEvent=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onSelectEvent,c)},n.handleDoubleClickEvent=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onDoubleClickEvent,c)},n.handleKeyPressEvent=function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];hn(n.props.onKeyPressEvent,c)},n.handleSelectSlot=function(s){hn(n.props.onSelectSlot,s)},n.handleDrillDown=function(s,c){var d=n.props.onDrillDown;if(d){d(s,c,n.drilldownView);return}c&&n.handleViewChange(c),n.handleNavigate(ma.DATE,s)},n.state={context:t.getContext(n.props)},n}return sr(t,[{key:"render",value:function(){var r=this.props,a=r.view,i=r.toolbar,s=r.events,c=r.backgroundEvents,d=r.style,h=r.className,g=r.elementProps,m=r.date,w=r.getNow,b=r.length,T=r.showMultiDayTimes,E=r.onShowMore,k=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var M=Ei(r,cG);m=m||w();var F=this.getView(),B=this.state.context,N=B.accessors,P=B.components,R=B.getters,j=B.localizer,$=B.viewNames,W=P.toolbar||sG,z=F.title(m,{localizer:j,length:b});return Q.createElement("div",Object.assign({},g,{className:zn(h,"rbc-calendar",M.rtl&&"rbc-rtl"),style:d}),i&&Q.createElement(W,{date:m,view:a,views:$,label:z,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:j}),Q.createElement(F,Object.assign({},M,{events:s,backgroundEvents:c,date:m,getNow:w,length:b,localizer:j,getters:R,components:P,accessors:N,showMultiDayTimes:T,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:E,doShowMoreDrillDown:k})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var a=r.startAccessor,i=r.endAccessor,s=r.allDayAccessor,c=r.tooltipAccessor,d=r.titleAccessor,h=r.resourceAccessor,g=r.resourceIdAccessor,m=r.resourceTitleAccessor,w=r.eventPropGetter,b=r.backgroundEventPropGetter,T=r.slotPropGetter,E=r.slotGroupPropGetter,k=r.dayPropGetter,M=r.view,F=r.views,B=r.localizer,N=r.culture,P=r.messages,R=P===void 0?{}:P,j=r.components,$=j===void 0?{}:j,W=r.formats,z=W===void 0?{}:W,X=b4(F),oe=mq(R);return{viewNames:X,localizer:pq(B,N,z,oe),getters:{eventProp:function(){return w&&w.apply(void 0,arguments)||{}},backgroundEventProp:function(){return b&&b.apply(void 0,arguments)||{}},slotProp:function(){return T&&T.apply(void 0,arguments)||{}},slotGroupProp:function(){return E&&E.apply(void 0,arguments)||{}},dayProp:function(){return k&&k.apply(void 0,arguments)||{}}},components:EW($[M]||{},mW($,X),{eventWrapper:ts,backgroundEventWrapper:ts,eventContainerWrapper:ts,dateCellWrapper:ts,weekWrapper:ts,timeSlotWrapper:ts,timeGutterWrapper:ts}),accessors:{start:rl(a),end:rl(i),allDay:rl(s),tooltip:rl(c),title:rl(d),resource:rl(h),resourceId:rl(g),resourceTitle:rl(m)}}}}]),t}(Q.Component);w4.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:$r.MONTH,views:[$r.MONTH,$r.WEEK,$r.DAY,$r.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:$r.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var dG=X3(w4,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),pG=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"MMMM DD",n)+" – "+r.format(i,r.eq(a,i,"month")?"DD":"MMMM DD",n)},hG=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"L",n)+" – "+r.format(i,"L",n)},_0=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"LT",n)+" – "+r.format(i,"LT",n)},mG=function(t,n,r){var a=t.start;return r.format(a,"LT",n)+" – "},gG=function(t,n,r){var a=t.end;return" – "+r.format(a,"LT",n)},vG={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:_0,eventTimeRangeFormat:_0,eventTimeRangeStartFormat:mG,eventTimeRangeEndFormat:gG,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:pG,agendaHeaderFormat:hG,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:_0};function al(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function yG(e){var t=function(ie,ye){return ye?ie.locale(ye):ie};function n(G){return e(G).toDate().getTimezoneOffset()}function r(G,ie){var ye,ue,be=e(G).local(),Re=e(ie).local();if(!e.tz)return be.toDate().getTimezoneOffset()-Re.toDate().getTimezoneOffset();var He=(ye=be==null||(ue=be._z)===null||ue===void 0?void 0:ue.name)!==null&&ye!==void 0?ye:e.tz.guess(),Pe=e.tz.zone(He).utcOffset(+be),yt=e.tz.zone(He).utcOffset(+Re);return Pe-yt}function a(G){var ie=e(G).startOf("day");return r(ie,G)}function i(G,ie,ye){var ue=al(ye),be=ue?e(G).startOf(ue):e(G),Re=ue?e(ie).startOf(ue):e(ie);return[be,Re,ue]}function s(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ie=arguments.length>1?arguments[1]:void 0,ye=al(ie);return ye?e(G).startOf(ye).toDate():e(G).toDate()}function c(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ie=arguments.length>1?arguments[1]:void 0,ye=al(ie);return ye?e(G).endOf(ye).toDate():e(G).toDate()}function d(G,ie,ye){var ue=i(G,ie,ye),be=rs(ue,3),Re=be[0],He=be[1],Pe=be[2];return Re.isSame(He,Pe)}function h(G,ie,ye){return!d(G,ie,ye)}function g(G,ie,ye){var ue=i(G,ie,ye),be=rs(ue,3),Re=be[0],He=be[1],Pe=be[2];return Re.isAfter(He,Pe)}function m(G,ie,ye){var ue=i(G,ie,ye),be=rs(ue,3),Re=be[0],He=be[1],Pe=be[2];return Re.isBefore(He,Pe)}function w(G,ie,ye){var ue=i(G,ie,ye),be=rs(ue,3),Re=be[0],He=be[1],Pe=be[2];return Re.isSameOrBefore(He,Pe)}function b(G,ie,ye){var ue=i(G,ie,ye),be=rs(ue,3),Re=be[0],He=be[1],Pe=be[2];return Re.isSameOrBefore(He,Pe)}function T(G,ie,ye){var ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",be=al(ue),Re=e(G),He=e(ie),Pe=e(ye);return Re.isBetween(He,Pe,be,"[]")}function E(G,ie){var ye=e(G),ue=e(ie),be=e.min(ye,ue);return be.toDate()}function k(G,ie){var ye=e(G),ue=e(ie),be=e.max(ye,ue);return be.toDate()}function M(G,ie){if(!G&&!ie)return null;var ye=e(ie).format("HH:mm:ss"),ue=e(G).startOf("day").format("MM/DD/YYYY");return e("".concat(ue," ").concat(ye),"MM/DD/YYYY HH:mm:ss").toDate()}function F(G,ie,ye){var ue=al(ye);return e(G).add(ie,ue).toDate()}function B(G,ie){for(var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ue=al(ye),be=e(G).toDate(),Re=[];b(be,ie);)Re.push(be),be=F(be,1,ue);return Re}function N(G,ie){var ye=al(ie),ue=s(G,ye);return d(ue,G)?ue:F(ue,1,ye)}function P(G,ie){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ue=al(ye),be=e(G),Re=e(ie);return Re.diff(be,ue)}function R(G){var ie=e(G);return ie.minutes()}function j(G){var ie=G?e.localeData(G):e.localeData();return ie?ie.firstDayOfWeek():0}function $(G){return e(G).startOf("month").startOf("week").toDate()}function W(G){return e(G).endOf("month").endOf("week").toDate()}function z(G){for(var ie=$(G),ye=W(G),ue=[];b(ie,ye);)ue.push(ie),ie=F(ie,1,"d");return ue}function X(G,ie,ye){return e(G).startOf("day").minute(ie+ye).toDate()}function oe(G,ie){return P(G,ie,"minutes")}function ee(G){var ie=e(G).startOf("day"),ye=e(G);return ye.diff(ie,"minutes")+a(G)}function de(G,ie){var ye=e(G),ue=e(ie);return ye.isBefore(ue,"day")}function fe(G,ie,ye){var ue=e(ie),be=e(ye);return ue.isSameOrAfter(be,"minutes")}function De(G,ie){var ye=e(G),ue=e(ie),be=e.duration(ue.diff(ye));return be.days()}function xe(G){var ie=G.evtA,ye=ie.start,ue=ie.end,be=ie.allDay,Re=G.evtB,He=Re.start,Pe=Re.end,yt=Re.allDay,Se=+s(ye,"day")-+s(He,"day"),$e=De(ye,ue),Ze=De(He,Pe);return Se||Ze-$e||!!yt-!!be||+ye-+He||+ue-+Pe}function pe(G){var ie=G.event,ye=ie.start,ue=ie.end,be=G.range,Re=be.start,He=be.end,Pe=e(ye).startOf("day"),yt=e(ue),Se=e(Re),$e=e(He),Ze=Pe.isSameOrBefore($e,"day"),Xe=!Pe.isSame(yt,"minutes"),Ge=Xe?yt.isAfter(Se,"minutes"):yt.isSameOrAfter(Se,"minutes");return Ze&&Ge}function we(G,ie){var ye=e(G),ue=e(ie);return ye.isSame(ue,"day")}function U(){var G=new Date,ie=/-/.test(G.toString())?"-":"",ye=G.getTimezoneOffset(),ue=Number("".concat(ie).concat(Math.abs(ye))),be=e().utcOffset();return be>ue?1:0}return new dq({formats:vG,firstOfWeek:j,firstVisibleDay:$,lastVisibleDay:W,visibleDays:z,format:function(ie,ye,ue){return t(e(ie),ue).format(ye)},lt:m,lte:b,gt:g,gte:w,eq:d,neq:h,merge:M,inRange:T,startOf:s,endOf:c,range:B,add:F,diff:P,ceil:N,min:E,max:k,minutes:R,getSlotDate:X,getTimezoneOffset:n,getDstOffset:r,getTotalMin:oe,getMinutesFromMidnight:ee,continuesPrior:de,continuesAfter:fe,sortEvents:xe,inEventRange:pe,isSameDate:we,daySpan:De,browserTZOffset:U})}function n2(e,t,n,r,a){const i={start:r.start(e),end:r.end(e)},s={start:t,end:n};return a.inEventRange({event:i,range:s})}function bG(e,t){return!e||t==null?!1:nE.isEqual(e,t)}const gf={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};function ls({accessors:e,components:t,date:n,events:r,getters:a,length:i,localizer:s,onDoubleClickEvent:c,onSelectEvent:d,selected:h}){const g=A.useRef(null),m=A.useRef(null),w=A.useRef(null),b=A.useRef(null),T=A.useRef(null),E=(P,R,j)=>{const{event:$,date:W}=t;return R=R.filter(z=>n2(z,s.startOf(P,"day"),s.endOf(P,"day"),e,s)),R.map((z,X)=>{const oe=e.title(z),ee=e.end(z),de=e.start(z),fe=a.eventProp(z,de,ee,bG(z,h)),De=X===0&&s.format(P,"agendaDateFormat"),xe=X===0?D.jsx("td",{rowSpan:R.length,className:"rbc-agenda-date-cell",children:W?D.jsx(W,{day:P,label:De}):De}):!1;return D.jsxs("tr",{className:fe.className,style:fe.style,children:[xe,D.jsx("td",{className:"rbc-agenda-time-cell",children:k(P,z)}),D.jsx("td",{className:"rbc-agenda-event-cell",onClick:pe=>d&&d(z,pe),onDoubleClick:pe=>c&&c(z,pe),children:$?D.jsx($,{event:z,title:oe}):oe})]},j+"_"+X)},[])},k=(P,R)=>{const j=t.time;let $="",W=s.messages.allDay;const z=e.end(R),X=e.start(R);return e.allDay(R)||(s.eq(X,z)?W=s.format(X,"agendaTimeFormat"):s.isSameDate(X,z)?W=s.format({start:X,end:z},"agendaTimeRangeFormat"):s.isSameDate(P,X)?W=s.format(X,"agendaTimeFormat"):s.isSameDate(P,z)&&(W=s.format(z,"agendaTimeFormat"))),s.gt(P,X,"day")&&($="rbc-continues-prior"),s.lt(P,z,"day")&&($+=" rbc-continues-after"),D.jsx("span",{className:$.trim(),children:j?D.jsx(j,{event:R,day:P,label:W}):W})},{messages:M}=s,F=s.add(n,-i/2,"day"),B=s.add(n,i/2,"day"),N=s.range(F,B,"day");return r=r.filter(P=>n2(P,s.startOf(F,"day"),s.endOf(B,"day"),e,s)),r.sort((P,R)=>+e.start(P)-+e.start(R)),D.jsx("div",{className:"rbc-agenda-view",children:r.length!==0?D.jsxs(Q.Fragment,{children:[D.jsx("table",{ref:g,className:"rbc-agenda-table",children:D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{className:"rbc-header",ref:m,children:M.date}),D.jsx("th",{className:"rbc-header",ref:w,children:M.time}),D.jsx("th",{className:"rbc-header",children:M.event})]})})}),D.jsx("div",{className:"rbc-agenda-content",ref:b,children:D.jsx("table",{className:"rbc-agenda-table",children:D.jsx("tbody",{ref:T,children:N.map((P,R)=>E(P,r,R))})})})]}):D.jsx("span",{className:"rbc-agenda-empty",children:M.noEventsInRange})})}ls.propTypes={accessors:Ne.object.isRequired,components:Ne.object.isRequired,date:Ne.instanceOf(Date),events:Ne.array,getters:Ne.object.isRequired,length:Ne.number.isRequired,localizer:Ne.object.isRequired,onSelectEvent:Ne.func,onDoubleClickEvent:Ne.func,selected:Ne.object};ls.defaultProps={length:30};ls.range=(e,{length:t=ls.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),a=n.add(e,t/2,"day");return{customStart:r,customEnd:a}};ls.navigate=(e,t,{length:n=ls.defaultProps.length,localizer:r})=>{switch(t){case gf.PREVIOUS:return r.add(e,-n,"day");case gf.NEXT:return r.add(e,n,"day");default:return e}};ls.title=(e,{length:t=ls.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),a=n.add(e,t/2,"day");return n.format({start:r,end:a},"agendaHeaderFormat")};function D4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=D4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function us(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=D4(e))&&(r&&(r+=" "),r+=t);return r}function wG(e,t){e.hoverEl.toggleClass("thino-hover-popover",!0);const n=Tv(e.hoverEl);return n.render(D.jsx(If,{store:Ce,context:It,children:D.jsx(pl,{memo:t})})),n}function DG({event:e}){const t=e.resource,n=t.content.split(`
`)[0].slice(0,20),r=Q.useRef(null),a=Q.useRef(null),i=Q.useRef(null);A.useEffect(()=>{if(a.current)return I.setIcon(a.current,"calendar"),()=>{r.current&&(r.current=null)}},[r]);const s=A.useCallback(d=>{i.current&&(i.current.unmount(),i.current=null),i.current=d},[]),c=A.useCallback(d=>{if(!r.current||!I.Keymap.isModifier(d.nativeEvent,"Mod"))return;const h=new I.HoverPopover(ut.getState().view,r.current,100),g=wG(h,t);s(g)},[r.current]);return D.jsxs("span",{className:"rbc-event-renderer","data-source-type":t.sourceType,"data-thino-type":t.thinoType,"data-thino-id":t.id,ref:r,"aria-label":t.path,onMouseOver:c,children:[D.jsx(SG,{event:e}),D.jsx("strong",{children:n})]})}const SG=({event:e})=>{const t=Q.useRef(null),n=e.resource;A.useEffect(()=>{t.current&&I.setIcon(t.current,n.thinoType==="JOURNAL"?"calendar":n.thinoType==="TASK-TODO"?"square":"check-square")},[n==null?void 0:n.thinoType,t]);const r=A.useCallback(async a=>{a.stopPropagation(),a.preventDefault(),await(async()=>{const s=await Me.updateMemo(n.id,n.content,n.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");s&&Me.editMemo(s)})()},[n==null?void 0:n.thinoType,n==null?void 0:n.id,n==null?void 0:n.content]);return D.jsx(D.Fragment,{children:D.jsxs("span",{className:"rbc-event-icon-group",children:[D.jsx("span",{className:"rbc-event-icon",ref:t,onClick:r}),D.jsx("span",{className:us("rbc-event-time","hidden"),children:D.jsx("span",{className:"rbc-event-time-text",children:I.moment(e.start).format("HH:mm")})})]})})};function S4({views:e,view:t,messages:n,onView:r}){return e.map(a=>D.jsx("button",{type:"button",className:us({"rbc-active":t===a}),onClick:()=>r(a),children:n[a]},a))}S4.propTypes={messages:Ne.object,onView:Ne.func,view:Ne.string,views:Ne.array};function E4({date:e,label:t,localizer:{messages:n},onNavigate:r,onView:a,view:i,views:s}){const c={previous:A.useRef(null),today:A.useRef(null),next:A.useRef(null)};A.useEffect(()=>{c&&(I.setIcon(c.previous.current,"chevron-left"),I.setIcon(c.today.current,"dot"),I.setIcon(c.next.current,"chevron-right"))},[c]);const d=A.useMemo(()=>D.jsxs(D.Fragment,{children:[D.jsx("button",{ref:c.previous,type:"button",onClick:()=>r(gf.PREVIOUS),"aria-label":n.previous,children:"<"}),D.jsx("button",{ref:c.today,type:"button",onClick:()=>r(gf.TODAY),"aria-label":n.today,children:"•"}),D.jsx("button",{ref:c.next,type:"button",onClick:()=>r(gf.NEXT),"aria-label":n.next,children:">"})]}),[n]);return D.jsxs("div",{className:"rbc-toolbar",children:[D.jsx("span",{className:us("rbc-btn-group","thino-view-custom-toolbar"),children:d}),D.jsx("span",{className:"rbc-toolbar-label",children:D.jsx(tv,{type:"text",handleValueChange:h=>{r(gf.DATE,I.moment(h,"YYYY-MM-DD").format("YYYY-MM-DDTHH:mm:ssZ"))},defaultText:t+(i==="week"?I.moment(e.valueOf(),"x").format(" [W]WW"):""),defaultValue:I.moment(e.valueOf(),"x").valueOf()})}),D.jsx("span",{className:"rbc-btn-group",children:D.jsx(S4,{view:i,views:s,messages:n,onView:a})})]})}E4.propTypes={date:Ne.instanceOf(Date),label:Ne.string,localizer:Ne.object,messages:Ne.object,onNavigate:Ne.func,onView:Ne.func,view:Ne.string,views:Ne.array};function EG({event:e,children:t,showPopup:n,callRender:r,...a}){const i=A.useRef(null),s=A.useRef(null),c=A.useCallback(d=>{if(!d.isTrusted){r();return}s.current=d.nativeEvent.target,s.current&&(s.current.hasClass("rbc-event")||(s.current=s.current.closest(".rbc-event")),i.current!==null?(window.clearTimeout(i.current),i.current=null):i.current=window.setTimeout(()=>{n(e,s.current),i.current=null},250))},[e,n]);return D.jsx(D.Fragment,{children:D.jsx("div",{className:"rbc-event-wrapper","aria-describedby":"thino",onClick:c,children:t})})}const TG=yG(I.moment),CG=({event:e})=>{const t=e.resource;return D.jsx(D.Fragment,{children:D.jsx(pl,{memo:t})})},xG=e=>{var oe;const{thinos:t}=e,[n,r]=Q.useState([]),[a,i]=Q.useState(app.loadLocalStorage("thino-calendar-view")||"month"),[s,c]=Q.useState(null),d=Q.useRef(null),h=Q.useRef(null),[g,m]=Q.useState(!1),w=A.useRef(null),[b,T]=A.useState(new Date);A.useEffect(()=>()=>{d.current&&(d.current=null),h.current&&(h.current=null),w.current&&(w.current=null)},[]),A.useEffect(()=>{const ee=t.map(de=>{const fe=I.moment(de.createdAt,"YYYY-MM-DD HH:mm:ss"),De=fe.clone().add(1,"minute");return{title:de.content,start:new Date(fe.format("YYYY-MM-DDTHH:mm:ss")),end:new Date(De.format("YYYY-MM-DDTHH:mm:ss")),resource:de}});r(ee)},[t]),A.useEffect(()=>{app.saveLocalStorage("thino-calendar-view",a)},[a]),A.useEffect(()=>{g&&c(t.find(ee=>ee.id===s.id))},[t]),A.useEffect(()=>{s&&w.current.update()},[s]),w.current=kv(d.current,h.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]});const E=A.useCallback(()=>{w.current.update(),w.current.update()},[]),k=A.useCallback((ee,de)=>{c(null),N(),w.current.state.elements.reference=de,c(ee.resource),P()},[]),M=A.useCallback(()=>{N(),c(null)},[]),F=A.useCallback((ee,de,fe)=>{var De;if(B(ee),de==="week"||de==="day"){const xe=d.current.find(".rbc-event-wrapper");if(d.current.closest(".memolist-wrapper"),xe){(De=xe.children[0])==null||De.click();return}else{setTimeout(()=>{var we,U;const pe=d.current.find(".rbc-event-wrapper");(U=(we=pe==null?void 0:pe.children)==null?void 0:we[0])==null||U.click()},0);return}}},[]),B=A.useCallback(ee=>{T(ee)},[T]);wh(h,M);const N=A.useCallback(()=>{m(!1)},[m]),P=A.useCallback(()=>{w.current.update(),m(!0)},[m]),R=A.useCallback(ee=>{const de=ee.resource;rt.setEditMemoId(de.id)},[]),j=A.useCallback(ee=>{i(ee)},[i]),{components:$,views:W,messages:z}=A.useMemo(()=>({components:{toolbar:E4,eventWrapper:ee=>D.jsx(EG,{...ee,callRender:E,showPopup:k}),agenda:{event:CG},event:DG},views:{month:!0,agenda:ls,week:!0,day:!0},messages:{month:O("Month"),day:O("Day"),next:O("Next"),previous:O("Previous"),today:O("Today"),agenda:O("Agenda"),week:O("Week"),yesterday:O("Yesterday"),tomorrow:O("Tomorrow"),noEventsInRange:O("No thinos in range")}}),[]),X=A.useMemo(()=>({timeGutterFormat:(ee,de,fe)=>fe.format(ee,"HH:mm",de),agendaTimeRangeFormat:({start:ee,end:de},fe,De)=>De.format(ee,"HH:mm",fe)+" — "+De.format(de,"HH:mm",fe),agendaHeaderFormat:({start:ee,end:de},fe,De)=>De.format(ee,"YYYY-MM-DD")+" — "+De.format(de,"YYYY-MM-DD")}),[]);return D.jsxs("div",{ref:d,className:"calendar-view",children:[D.jsx(dG,{date:b,messages:z,components:$,localizer:TG,events:n,views:W,onView:j,onDoubleClickEvent:R,onNavigate:F,formats:X,defaultView:a,tooltipAccessor:null,startAccessor:"start",endAccessor:"end"}),D.jsx("div",{ref:h,style:(oe=w.current)==null?void 0:oe.styles.popper,className:us("thino-popup-container",g?"":"hidden"),children:s&&D.jsx(pl,{memo:s})})]})};function dl(e,t){return typeof e=="function"?e(t):e}function Pa(e,t){return n=>{t.setState(r=>({...r,[e]:dl(n,r[e])}))}}function mv(e){return e instanceof Function}function MG(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function kG(e,t){const n=[],r=a=>{a.forEach(i=>{n.push(i);const s=t(i);s!=null&&s.length&&r(s)})};return r(e),n}function pt(e,t,n){let r=[],a;return i=>{let s;n.key&&n.debug&&(s=Date.now());const c=e(i);if(!(c.length!==r.length||c.some((g,m)=>r[m]!==g)))return a;r=c;let h;if(n.key&&n.debug&&(h=Date.now()),a=t(...c),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-s)*100)/100,w=Math.round((Date.now()-h)*100)/100/16,b=(T,E)=>{for(T=String(T);T.length<E;)T=" "+T;return T}}return a}}function ht(e,t,n,r){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[t]},key:!1,onChange:r}}function IG(e,t,n,r){var a,i;const c={...e._getDefaultColumnDef(),...t},d=c.accessorKey;let h=(a=(i=c.id)!=null?i:d?d.replace(".","_"):void 0)!=null?a:typeof c.header=="string"?c.header:void 0,g;if(c.accessorFn?g=c.accessorFn:d&&(d.includes(".")?g=w=>{let b=w;for(const E of d.split(".")){var T;b=(T=b)==null?void 0:T[E]}return b}:g=w=>w[c.accessorKey]),!h)throw new Error;let m={id:`${String(h)}`,accessorFn:g,parent:r,depth:n,columnDef:c,columns:[],getFlatColumns:pt(()=>[!0],()=>{var w;return[m,...(w=m.columns)==null?void 0:w.flatMap(b=>b.getFlatColumns())]},ht(e.options,"debugColumns")),getLeafColumns:pt(()=>[e._getOrderColumnsFn()],w=>{var b;if((b=m.columns)!=null&&b.length){let T=m.columns.flatMap(E=>E.getLeafColumns());return w(T)}return[m]},ht(e.options,"debugColumns"))};for(const w of e._features)w.createColumn==null||w.createColumn(m,e);return m}const Ir="debugHeaders";function r2(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],c=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(c),s.push(d)};return c(i),s},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(i,e)}),i}const NG={createTable:e=>{e.getHeaderGroups=pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>{var i,s;const c=(i=r==null?void 0:r.map(m=>n.find(w=>w.id===m)).filter(Boolean))!=null?i:[],d=(s=a==null?void 0:a.map(m=>n.find(w=>w.id===m)).filter(Boolean))!=null?s:[],h=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(a!=null&&a.includes(m.id)));return Cg(t,[...c,...h,...d],e)},ht(e.options,Ir)),e.getCenterHeaderGroups=pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(a!=null&&a.includes(i.id))),Cg(t,n,e,"center")),ht(e.options,Ir)),e.getLeftHeaderGroups=pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var a;const i=(a=r==null?void 0:r.map(s=>n.find(c=>c.id===s)).filter(Boolean))!=null?a:[];return Cg(t,i,e,"left")},ht(e.options,Ir)),e.getRightHeaderGroups=pt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var a;const i=(a=r==null?void 0:r.map(s=>n.find(c=>c.id===s)).filter(Boolean))!=null?a:[];return Cg(t,i,e,"right")},ht(e.options,Ir)),e.getFooterGroups=pt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),ht(e.options,Ir)),e.getLeftFooterGroups=pt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),ht(e.options,Ir)),e.getCenterFooterGroups=pt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),ht(e.options,Ir)),e.getRightFooterGroups=pt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),ht(e.options,Ir)),e.getFlatHeaders=pt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,Ir)),e.getLeftFlatHeaders=pt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,Ir)),e.getCenterFlatHeaders=pt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,Ir)),e.getRightFlatHeaders=pt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),ht(e.options,Ir)),e.getCenterLeafHeaders=pt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ht(e.options,Ir)),e.getLeftLeafHeaders=pt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ht(e.options,Ir)),e.getRightLeafHeaders=pt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),ht(e.options,Ir)),e.getLeafHeaders=pt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var a,i,s,c,d,h;return[...(a=(i=t[0])==null?void 0:i.headers)!=null?a:[],...(s=(c=n[0])==null?void 0:c.headers)!=null?s:[],...(d=(h=r[0])==null?void 0:h.headers)!=null?d:[]].map(g=>g.getLeafHeaders()).flat()},ht(e.options,Ir))}};function Cg(e,t,n,r){var a,i;let s=0;const c=function(w,b){b===void 0&&(b=1),s=Math.max(s,b),w.filter(T=>T.getIsVisible()).forEach(T=>{var E;(E=T.columns)!=null&&E.length&&c(T.columns,b+1)},0)};c(e);let d=[];const h=(w,b)=>{const T={depth:b,id:[r,`${b}`].filter(Boolean).join("_"),headers:[]},E=[];w.forEach(k=>{const M=[...E].reverse()[0],F=k.column.depth===T.depth;let B,N=!1;if(F&&k.column.parent?B=k.column.parent:(B=k.column,N=!0),M&&(M==null?void 0:M.column)===B)M.subHeaders.push(k);else{const P=r2(n,B,{id:[r,b,B.id,k==null?void 0:k.id].filter(Boolean).join("_"),isPlaceholder:N,placeholderId:N?`${E.filter(R=>R.column===B).length}`:void 0,depth:b,index:E.length});P.subHeaders.push(k),E.push(P)}T.headers.push(k),k.headerGroup=T}),d.push(T),b>0&&h(E,b-1)},g=t.map((w,b)=>r2(n,w,{depth:s,index:b}));h(g,s-1),d.reverse();const m=w=>w.filter(T=>T.column.getIsVisible()).map(T=>{let E=0,k=0,M=[0];T.subHeaders&&T.subHeaders.length?(M=[],m(T.subHeaders).forEach(B=>{let{colSpan:N,rowSpan:P}=B;E+=N,M.push(P)})):E=1;const F=Math.min(...M);return k+=F,T.colSpan=E,T.rowSpan=k,{colSpan:E,rowSpan:k}});return m((a=(i=d[0])==null?void 0:i.headers)!=null?a:[]),d}const xg={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},P0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),FG={getDefaultColumnDef:()=>xg,getInitialState:e=>({columnSizing:{},columnSizingInfo:P0(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Pa("columnSizing",e),onColumnSizingInfoChange:Pa("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:xg.minSize,(r=i??e.columnDef.size)!=null?r:xg.size),(a=e.columnDef.maxSize)!=null?a:xg.maxSize)},e.getStart=pt(n=>[n,Up(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((a,i)=>a+i.getSize(),0),ht(t.options,"debugColumns")),e.getAfter=pt(n=>[n,Up(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((a,i)=>a+i.getSize(),0),ht(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...a}=n;return a})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=a=>{if(a.subHeaders.length)a.subHeaders.forEach(r);else{var i;n+=(i=a.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),a=r==null?void 0:r.getCanResize();return i=>{if(!r||!a||(i.persist==null||i.persist(),j0(i)&&i.touches&&i.touches.length>1))return;const s=e.getSize(),c=e?e.getLeafHeaders().map(M=>[M.column.id,M.column.getSize()]):[[r.id,r.getSize()]],d=j0(i)?Math.round(i.touches[0].clientX):i.clientX,h={},g=(M,F)=>{typeof F=="number"&&(t.setColumnSizingInfo(B=>{var N,P;const R=t.options.columnResizeDirection==="rtl"?-1:1,j=(F-((N=B==null?void 0:B.startOffset)!=null?N:0))*R,$=Math.max(j/((P=B==null?void 0:B.startSize)!=null?P:0),-.999999);return B.columnSizingStart.forEach(W=>{let[z,X]=W;h[z]=Math.round(Math.max(X+X*$,0)*100)/100}),{...B,deltaOffset:j,deltaPercentage:$}}),(t.options.columnResizeMode==="onChange"||M==="end")&&t.setColumnSizing(B=>({...B,...h})))},m=M=>g("move",M),w=M=>{g("end",M),t.setColumnSizingInfo(F=>({...F,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=n||typeof document<"u"?document:null,T={moveHandler:M=>m(M.clientX),upHandler:M=>{b==null||b.removeEventListener("mousemove",T.moveHandler),b==null||b.removeEventListener("mouseup",T.upHandler),w(M.clientX)}},E={moveHandler:M=>(M.cancelable&&(M.preventDefault(),M.stopPropagation()),m(M.touches[0].clientX),!1),upHandler:M=>{var F;b==null||b.removeEventListener("touchmove",E.moveHandler),b==null||b.removeEventListener("touchend",E.upHandler),M.cancelable&&(M.preventDefault(),M.stopPropagation()),w((F=M.touches[0])==null?void 0:F.clientX)}},k=AG()?{passive:!1}:!1;j0(i)?(b==null||b.addEventListener("touchmove",E.moveHandler,k),b==null||b.addEventListener("touchend",E.upHandler,k)):(b==null||b.addEventListener("mousemove",T.moveHandler,k),b==null||b.addEventListener("mouseup",T.upHandler,k)),t.setColumnSizingInfo(M=>({...M,startOffset:d,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?P0():(n=e.initialState.columnSizingInfo)!=null?n:P0())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0}}};let Mg=null;function AG(){if(typeof Mg=="boolean")return Mg;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Mg=e,Mg}function j0(e){return e.type==="touchstart"}const OG={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Pa("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var a,i;e.setExpanded(r?{}:(a=(i=e.initialState)==null?void 0:i.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const s=i.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var a;const i=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{s[c]=!0}):s=r,n=(a=n)!=null?a:!i,!i&&n)return{...s,[e.id]:!0};if(i&&!n){const{[e.id]:c,...d}=s;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,a;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},T4=(e,t,n)=>{var r;const a=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(a))};T4.autoRemove=e=>No(e);const C4=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};C4.autoRemove=e=>No(e);const x4=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};x4.autoRemove=e=>No(e);const M4=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};M4.autoRemove=e=>No(e)||!(e!=null&&e.length);const k4=(e,t,n)=>!n.some(r=>{var a;return!((a=e.getValue(t))!=null&&a.includes(r))});k4.autoRemove=e=>No(e)||!(e!=null&&e.length);const I4=(e,t,n)=>n.some(r=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(r)});I4.autoRemove=e=>No(e)||!(e!=null&&e.length);const N4=(e,t,n)=>e.getValue(t)===n;N4.autoRemove=e=>No(e);const F4=(e,t,n)=>e.getValue(t)==n;F4.autoRemove=e=>No(e);const qb=(e,t,n)=>{let[r,a]=n;const i=e.getValue(t);return i>=r&&i<=a};qb.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,a=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(a)?1/0:a;if(i>s){const c=i;i=s,s=c}return[i,s]};qb.autoRemove=e=>No(e)||No(e[0])&&No(e[1]);const Xi={includesString:T4,includesStringSensitive:C4,equalsString:x4,arrIncludes:M4,arrIncludesAll:k4,arrIncludesSome:I4,equals:N4,weakEquals:F4,inNumberRange:qb};function No(e){return e==null||e===""}const RG={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Pa("columnFilters",e),onGlobalFilterChange:Pa("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Xi.includesString:typeof r=="number"?Xi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Xi.equals:Array.isArray(r)?Xi.arrIncludes:Xi.weakEquals},e.getFilterFn=()=>{var n,r;return mv(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Xi[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,a,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const a=e.getFilterFn(),i=r==null?void 0:r.find(g=>g.id===e.id),s=dl(n,i?i.value:void 0);if(a2(a,s,e)){var c;return(c=r==null?void 0:r.filter(g=>g.id!==e.id))!=null?c:[]}const d={id:e.id,value:s};if(i){var h;return(h=r==null?void 0:r.map(g=>g.id===e.id?d:g))!=null?h:[]}return r!=null&&r.length?[...r,d]:[d]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Xi.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return mv(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Xi[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=a=>{var i;return(i=dl(t,a))==null?void 0:i.filter(s=>{const c=n.find(d=>d.id===s.id);if(c){const d=c.getFilterFn();if(a2(d,s.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function a2(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const LG=(e,t,n)=>n.reduce((r,a)=>{const i=a.getValue(e);return r+(typeof i=="number"?i:0)},0),_G=(e,t,n)=>{let r;return n.forEach(a=>{const i=a.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},PG=(e,t,n)=>{let r;return n.forEach(a=>{const i=a.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},jG=(e,t,n)=>{let r,a;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r===void 0?s>=s&&(r=a=s):(r>s&&(r=s),a<s&&(a=s)))}),[r,a]},BG=(e,t)=>{let n=0,r=0;if(t.forEach(a=>{let i=a.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},YG=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!MG(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),a=n.sort((i,s)=>i-s);return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},HG=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),UG=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,VG=(e,t)=>t.length,B0={sum:LG,min:_G,max:PG,extent:jG,mean:BG,median:YG,unique:HG,uniqueCount:UG,count:VG},zG={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Pa("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,a,i;return(n=(r=(a=(i=e.columnDef.enableGrouping)!=null?i:!0)!=null?a:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return B0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return B0.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return mv(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:B0[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}}};function $G(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(s=>s.id===i)).filter(Boolean),...r]}const WG={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Pa("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=pt(n=>[Up(t,n)],n=>n.findIndex(r=>r.id===e.id),ht(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Up(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const a=Up(t,n);return((r=a[a.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=pt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>a=>{let i=[];if(!(t!=null&&t.length))i=a;else{const s=[...t],c=[...a];for(;c.length&&s.length;){const d=s.shift(),h=c.findIndex(g=>g.id===d);h>-1&&i.push(c.splice(h,1)[0])}i=[...i,...c]}return $G(i,n,r)},ht(e.options,"debugTable"))}},F1=0,A1=10,Y0=()=>({pageIndex:F1,pageSize:A1}),qG={getInitialState:e=>({...e,pagination:{...Y0(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Pa("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const a=i=>dl(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=r=>{var a;e.setPagination(r?Y0():(a=e.initialState.pagination)!=null?a:Y0())},e.setPageIndex=r=>{e.setPagination(a=>{let i=dl(r,a.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,s)),{...a,pageIndex:i}})},e.resetPageIndex=r=>{var a,i;e.setPageIndex(r?F1:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?a:F1)},e.resetPageSize=r=>{var a,i;e.setPageSize(r?A1:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?a:A1)},e.setPageSize=r=>{e.setPagination(a=>{const i=Math.max(1,dl(r,a.pageSize)),s=a.pageSize*a.pageIndex,c=Math.floor(s/i);return{...a,pageIndex:c,pageSize:i}})},e.setPageCount=r=>e.setPagination(a=>{var i;let s=dl(r,(i=e.options.pageCount)!=null?i:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...a,pageCount:s}}),e.getPageOptions=pt(()=>[e.getPageCount()],r=>{let a=[];return r&&r>0&&(a=[...new Array(r)].fill(null).map((i,s)=>s)),a},ht(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:r<a-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},H0=()=>({left:[],right:[]}),U0=()=>({top:[],bottom:[]}),GG={getInitialState:e=>({columnPinning:H0(),rowPinning:U0(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Pa("columnPinning",e),onRowPinningChange:Pa("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var i,s;if(n==="right"){var c,d;return{left:((c=a==null?void 0:a.left)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((d=a==null?void 0:a.right)!=null?d:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var h,g;return{left:[...((h=a==null?void 0:a.left)!=null?h:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((g=a==null?void 0:a.right)!=null?g:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((i=a==null?void 0:a.left)!=null?i:[]).filter(m=>!(r!=null&&r.includes(m))),right:((s=a==null?void 0:a.right)!=null?s:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var a,i,s;return((a=r.columnDef.enablePinning)!=null?a:!0)&&((i=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(c=>c.id),{left:r,right:a}=t.getState().columnPinning,i=n.some(c=>r==null?void 0:r.includes(c)),s=n.some(c=>a==null?void 0:a.includes(c));return i?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?(n=(r=t.getState().columnPinning)==null||(r=r[a])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,a)=>{const i=r?e.getLeafRows().map(d=>{let{id:h}=d;return h}):[],s=a?e.getParentRows().map(d=>{let{id:h}=d;return h}):[],c=new Set([...s,e.id,...i]);t.setRowPinning(d=>{var h,g;if(n==="bottom"){var m,w;return{top:((m=d==null?void 0:d.top)!=null?m:[]).filter(E=>!(c!=null&&c.has(E))),bottom:[...((w=d==null?void 0:d.bottom)!=null?w:[]).filter(E=>!(c!=null&&c.has(E))),...Array.from(c)]}}if(n==="top"){var b,T;return{top:[...((b=d==null?void 0:d.top)!=null?b:[]).filter(E=>!(c!=null&&c.has(E))),...Array.from(c)],bottom:((T=d==null?void 0:d.bottom)!=null?T:[]).filter(E=>!(c!=null&&c.has(E)))}}return{top:((h=d==null?void 0:d.top)!=null?h:[]).filter(E=>!(c!=null&&c.has(E))),bottom:((g=d==null?void 0:d.bottom)!=null?g:[]).filter(E=>!(c!=null&&c.has(E)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return typeof r=="function"?r(e):(n=r??a)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,i=n.some(c=>r==null?void 0:r.includes(c)),s=n.some(c=>a==null?void 0:a.includes(c));return i?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const i=(n=t._getPinnedRows(a))==null?void 0:n.map(s=>{let{id:c}=s;return c});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=pt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,a)=>{const i=[...r??[],...a??[]];return n.filter(s=>!i.includes(s.column.id))},ht(t.options,"debugRows")),e.getLeftVisibleCells=pt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),ht(t.options,"debugRows")),e.getRightVisibleCells=pt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),ht(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?H0():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:H0())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var a,i;return!!((a=r.left)!=null&&a.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=pt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),ht(e.options,"debugColumns")),e.getRightLeafColumns=pt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),ht(e.options,"debugColumns")),e.getCenterLeafColumns=pt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const a=[...n??[],...r??[]];return t.filter(i=>!a.includes(i.id))},ht(e.options,"debugColumns")),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?U0():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:U0())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var a,i;return!!((a=r.top)!=null&&a.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=pt(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(n??[]).map(s=>{const c=e.getRow(s,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(s=>t.find(c=>c.id===s))).filter(Boolean).map(s=>({...s,position:r}))},ht(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=pt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const a=new Set([...n??[],...r??[]]);return t.filter(i=>!a.has(i.id))},ht(e.options,"debugRows"))}},KG={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Pa("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):a.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach(i=>{O1(a,i.id,r,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=pt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?V0(e,n):{rows:[],flatRows:[],rowsById:{}},ht(e.options,"debugTable")),e.getFilteredSelectedRowModel=pt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?V0(e,n):{rows:[],flatRows:[],rowsById:{}},ht(e.options,"debugTable")),e.getGroupedSelectedRowModel=pt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?V0(e,n):{rows:[],flatRows:[],rowsById:{}},ht(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(a=>a.getCanSelect()&&!n[a.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(a=>!n[a.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection(i=>{var s;if(n=typeof n<"u"?n:!a,e.getCanSelect()&&a===n)return i;const c={...i};return O1(c,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Gb(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return R1(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return R1(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var a;n&&e.toggleSelected((a=r.target)==null?void 0:a.checked)}}}},O1=(e,t,n,r,a)=>{var i;const s=a.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(c=>O1(e,c.id,n,r,a))};function V0(e,t){const n=e.getState().rowSelection,r=[],a={},i=function(s,c){return s.map(d=>{var h;const g=Gb(d,n);if(g&&(r.push(d),a[d.id]=d),(h=d.subRows)!=null&&h.length&&(d={...d,subRows:i(d.subRows)}),g)return d}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:a}}function Gb(e,t){var n;return(n=t[e.id])!=null?n:!1}function R1(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let a=!0,i=!1;return e.subRows.forEach(s=>{if(!(i&&!a)&&(s.getCanSelect()&&(Gb(s,t)?i=!0:a=!1),s.subRows&&s.subRows.length)){const c=R1(s,t);c==="all"?i=!0:(c==="some"&&(i=!0),a=!1)}}),a?"all":i?"some":!1}const L1=/([0-9]+)/gm,QG=(e,t,n)=>A4(gl(e.getValue(n)).toLowerCase(),gl(t.getValue(n)).toLowerCase()),ZG=(e,t,n)=>A4(gl(e.getValue(n)),gl(t.getValue(n))),JG=(e,t,n)=>Kb(gl(e.getValue(n)).toLowerCase(),gl(t.getValue(n)).toLowerCase()),XG=(e,t,n)=>Kb(gl(e.getValue(n)),gl(t.getValue(n))),eK=(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},tK=(e,t,n)=>Kb(e.getValue(n),t.getValue(n));function Kb(e,t){return e===t?0:e>t?1:-1}function gl(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function A4(e,t){const n=e.split(L1).filter(Boolean),r=t.split(L1).filter(Boolean);for(;n.length&&r.length;){const a=n.shift(),i=r.shift(),s=parseInt(a,10),c=parseInt(i,10),d=[s,c].sort();if(isNaN(d[0])){if(a>i)return 1;if(i>a)return-1;continue}if(isNaN(d[1]))return isNaN(s)?-1:1;if(s>c)return 1;if(c>s)return-1}return n.length-r.length}const mf={alphanumeric:QG,alphanumericCaseSensitive:ZG,text:JG,textCaseSensitive:XG,datetime:eK,basic:tK},nK={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Pa("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const a of n){const i=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return mf.datetime;if(typeof i=="string"&&(r=!0,i.split(L1).length>1))return mf.alphanumeric}return r?mf.text:mf.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return mv(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:mf[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(s=>{const c=s==null?void 0:s.find(b=>b.id===e.id),d=s==null?void 0:s.findIndex(b=>b.id===e.id);let h=[],g,m=i?n:a==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?c?g="toggle":g="add":s!=null&&s.length&&d!==s.length-1?g="replace":c?g="toggle":g="replace",g==="toggle"&&(i||a||(g="remove")),g==="add"){var w;h=[...s,{id:e.id,desc:m}],h.splice(0,h.length-((w=t.options.maxMultiSortColCount)!=null?w:Number.MAX_SAFE_INTEGER))}else g==="toggle"?h=s.map(b=>b.id===e.id?{...b,desc:m}:b):g==="remove"?h=s.filter(b=>b.id!==e.id):h=[{id:e.id,desc:m}];return h})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(a=t.options.enableMultiRemove)!=null)||a)?!1:s==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(a=>a.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},rK={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Pa("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const a=e.columns;return(n=a.length?a.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=pt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),ht(t.options,"debugRows")),e.getVisibleCells=pt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,a)=>[...n,...r,...a],ht(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>pt(()=>[r(),r().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),ht(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,i)=>({...a,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Up(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const o2=[NG,rK,WG,GG,RG,nK,zG,OG,qG,KG,FG];function aK(e){var t;e.debugAll||e.debugTable;let n={_features:o2};const r=n._features.reduce((g,m)=>Object.assign(g,m.getDefaultOptions==null?void 0:m.getDefaultOptions(n)),{}),a=g=>n.options.mergeOptions?n.options.mergeOptions(r,g):{...r,...g};let s={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(g=>{var m;s=(m=g.getInitialState==null?void 0:g.getInitialState(s))!=null?m:s});const c=[];let d=!1;const h={_features:o2,options:{...r,...e},initialState:s,_queue:g=>{c.push(g),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{n.setState(n.initialState)},setOptions:g=>{const m=dl(g,n.options);n.options=a(m)},getState:()=>n.options.state,setState:g=>{n.options.onStateChange==null||n.options.onStateChange(g)},_getRowId:(g,m,w)=>{var b;return(b=n.options.getRowId==null?void 0:n.options.getRowId(g,m,w))!=null?b:`${w?[w.id,m].join("."):m}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(g,m)=>{let w=(m?n.getPrePaginationRowModel():n.getRowModel()).rowsById[g];if(!w&&(w=n.getCoreRowModel().rowsById[g],!w))throw new Error;return w},_getDefaultColumnDef:pt(()=>[n.options.defaultColumn],g=>{var m;return g=(m=g)!=null?m:{},{header:w=>{const b=w.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:w=>{var b,T;return(b=(T=w.renderValue())==null||T.toString==null?void 0:T.toString())!=null?b:null},...n._features.reduce((w,b)=>Object.assign(w,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...g}},ht(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:pt(()=>[n._getColumnDefs()],g=>{const m=function(w,b,T){return T===void 0&&(T=0),w.map(E=>{const k=IG(n,E,T,b),M=E;return k.columns=M.columns?m(M.columns,k,T+1):[],k})};return m(g)},ht(e,"debugColumns")),getAllFlatColumns:pt(()=>[n.getAllColumns()],g=>g.flatMap(m=>m.getFlatColumns()),ht(e,"debugColumns")),_getAllFlatColumnsById:pt(()=>[n.getAllFlatColumns()],g=>g.reduce((m,w)=>(m[w.id]=w,m),{}),ht(e,"debugColumns")),getAllLeafColumns:pt(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(g,m)=>{let w=g.flatMap(b=>b.getLeafColumns());return m(w)},ht(e,"debugColumns")),getColumn:g=>n._getAllFlatColumnsById()[g]};Object.assign(n,h);for(let g=0;g<n._features.length;g++){const m=n._features[g];m==null||m.createTable==null||m.createTable(n)}return n}function oK(e,t,n,r){const a=()=>{var s;return(s=i.getValue())!=null?s:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:a,getContext:pt(()=>[e,n,t,i],(s,c,d,h)=>({table:s,column:c,row:d,cell:h,getValue:h.getValue,renderValue:h.renderValue}),ht(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(i,n,t,e)},{}),i}const Qb=(e,t,n,r,a,i,s)=>{let c={id:t,index:r,original:n,depth:a,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(c._valuesCache.hasOwnProperty(d))return c._valuesCache[d];const h=e.getColumn(d);if(h!=null&&h.accessorFn)return c._valuesCache[d]=h.accessorFn(c.original,r),c._valuesCache[d]},getUniqueValues:d=>{if(c._uniqueValuesCache.hasOwnProperty(d))return c._uniqueValuesCache[d];const h=e.getColumn(d);if(h!=null&&h.accessorFn)return h.columnDef.getUniqueValues?(c._uniqueValuesCache[d]=h.columnDef.getUniqueValues(c.original,r),c._uniqueValuesCache[d]):(c._uniqueValuesCache[d]=[c.getValue(d)],c._uniqueValuesCache[d])},renderValue:d=>{var h;return(h=c.getValue(d))!=null?h:e.options.renderFallbackValue},subRows:i??[],getLeafRows:()=>kG(c.subRows,d=>d.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let d=[],h=c;for(;;){const g=h.getParentRow();if(!g)break;d.push(g),h=g}return d.reverse()},getAllCells:pt(()=>[e.getAllLeafColumns()],d=>d.map(h=>oK(e,c,h,h.id)),ht(e.options,"debugRows")),_getAllCellsByColumnId:pt(()=>[c.getAllCells()],d=>d.reduce((h,g)=>(h[g.column.id]=g,h),{}),ht(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const h=e._features[d];h==null||h.createRow==null||h.createRow(c,e)}return c};function iK(){return e=>pt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(a,i,s){i===void 0&&(i=0);const c=[];for(let h=0;h<a.length;h++){const g=Qb(e,e._getRowId(a[h],h,s),a[h],h,i,void 0,s==null?void 0:s.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,c.push(g),e.options.getSubRows){var d;g.originalSubRows=e.options.getSubRows(a[h],h),(d=g.originalSubRows)!=null&&d.length&&(g.subRows=r(g.originalSubRows,i+1,g))}}return c};return n.rows=r(t),n},ht(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function O4(e,t,n){return n.options.filterFromLeafRows?sK(e,t,n):lK(e,t,n)}function sK(e,t,n){var r;const a=[],i={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,h){h===void 0&&(h=0);const g=[];for(let w=0;w<d.length;w++){var m;let b=d[w];const T=Qb(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(T.columnFilters=b.columnFilters,(m=b.subRows)!=null&&m.length&&h<s){if(T.subRows=c(b.subRows,h+1),b=T,t(b)&&!T.subRows.length){g.push(b),i[b.id]=b,a.push(b);continue}if(t(b)||T.subRows.length){g.push(b),i[b.id]=b,a.push(b);continue}}else b=T,t(b)&&(g.push(b),i[b.id]=b,a.push(b))}return g};return{rows:c(e),flatRows:a,rowsById:i}}function lK(e,t,n){var r;const a=[],i={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,h){h===void 0&&(h=0);const g=[];for(let w=0;w<d.length;w++){let b=d[w];if(t(b)){var m;if((m=b.subRows)!=null&&m.length&&h<s){const E=Qb(n,b.id,b.original,b.index,b.depth,void 0,b.parentId);E.subRows=c(b.subRows,h+1),b=E}g.push(b),a.push(b),i[b.id]=b}}return g};return{rows:c(e),flatRows:a,rowsById:i}}function uK(){return e=>pt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let w=0;w<t.flatRows.length;w++)t.flatRows[w].columnFilters={},t.flatRows[w].columnFiltersMeta={};return t}const a=[],i=[];(n??[]).forEach(w=>{var b;const T=e.getColumn(w.id);if(!T)return;const E=T.getFilterFn();E&&a.push({id:w.id,filterFn:E,resolvedValue:(b=E.resolveFilterValue==null?void 0:E.resolveFilterValue(w.value))!=null?b:w.value})});const s=n.map(w=>w.id),c=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(w=>w.getCanGlobalFilter());r&&c&&d.length&&(s.push("__global__"),d.forEach(w=>{var b;i.push({id:w.id,filterFn:c,resolvedValue:(b=c.resolveFilterValue==null?void 0:c.resolveFilterValue(r))!=null?b:r})}));let h,g;for(let w=0;w<t.flatRows.length;w++){const b=t.flatRows[w];if(b.columnFilters={},a.length)for(let T=0;T<a.length;T++){h=a[T];const E=h.id;b.columnFilters[E]=h.filterFn(b,E,h.resolvedValue,k=>{b.columnFiltersMeta[E]=k})}if(i.length){for(let T=0;T<i.length;T++){g=i[T];const E=g.id;if(g.filterFn(b,E,g.resolvedValue,k=>{b.columnFiltersMeta[E]=k})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const m=w=>{for(let b=0;b<s.length;b++)if(w.columnFilters[s[b]]===!1)return!1;return!0};return O4(t.rows,m,e)},ht(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function cK(){return(e,t)=>pt(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,a)=>{if(!n.rows.length||!(r!=null&&r.length)&&!a)return n;const i=[...r.map(c=>c.id).filter(c=>c!==t),a?"__global__":void 0].filter(Boolean),s=c=>{for(let d=0;d<i.length;d++)if(c.columnFilters[i[d]]===!1)return!1;return!0};return O4(n.rows,s,e)},ht(e.options,"debugTable"))}function fK(){return(e,t)=>pt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let i=0;i<n.flatRows.length;i++){const s=n.flatRows[i].getUniqueValues(t);for(let c=0;c<s.length;c++){const d=s[c];if(r.has(d)){var a;r.set(d,((a=r.get(d))!=null?a:0)+1)}else r.set(d,1)}}return r},ht(e.options,"debugTable"))}function dK(){return(e,t)=>pt(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const a=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(t);if(typeof a>"u")return;let i=[a,a];for(let s=0;s<n.flatRows.length;s++){const c=n.flatRows[s].getUniqueValues(t);for(let d=0;d<c.length;d++){const h=c[d];h<i[0]?i[0]=h:h>i[1]&&(i[1]=h)}}return i},ht(e.options,"debugTable"))}function pK(){return e=>pt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,a=[],i=r.filter(d=>{var h;return(h=e.getColumn(d.id))==null?void 0:h.getCanSort()}),s={};i.forEach(d=>{const h=e.getColumn(d.id);h&&(s[d.id]={sortUndefined:h.columnDef.sortUndefined,invertSorting:h.columnDef.invertSorting,sortingFn:h.getSortingFn()})});const c=d=>{const h=d.map(g=>({...g}));return h.sort((g,m)=>{for(let b=0;b<i.length;b+=1){var w;const T=i[b],E=s[T.id],k=(w=T==null?void 0:T.desc)!=null?w:!1;let M=0;if(E.sortUndefined){const F=g.getValue(T.id),B=m.getValue(T.id),N=F===void 0,P=B===void 0;(N||P)&&(M=N&&P?0:N?E.sortUndefined:-E.sortUndefined)}if(M===0&&(M=E.sortingFn(g,m,T.id)),M!==0)return k&&(M*=-1),E.invertSorting&&(M*=-1),M}return g.index-m.index}),h.forEach(g=>{var m;a.push(g),(m=g.subRows)!=null&&m.length&&(g.subRows=c(g.subRows))}),h};return{rows:c(n.rows),flatRows:a,rowsById:n.rowsById}},ht(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function hK(e){const t=[],n=r=>{var a;t.push(r),(a=r.subRows)!=null&&a.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function mK(e){return t=>pt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:a,pageIndex:i}=n;let{rows:s,flatRows:c,rowsById:d}=r;const h=a*i,g=h+a;s=s.slice(h,g);let m;t.options.paginateExpandedRows?m={rows:s,flatRows:c,rowsById:d}:m=hK({rows:s,flatRows:c,rowsById:d}),m.flatRows=[];const w=b=>{m.flatRows.push(b),b.subRows.length&&b.subRows.forEach(w)};return m.rows.forEach(w),m},ht(t.options,"debugTable"))}function i2(e,t){return e?gK(e)?A.createElement(e,t):e:null}function gK(e){return vK(e)||typeof e=="function"||yK(e)}function vK(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function yK(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function bK(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=A.useState(()=>({current:aK(t)})),[r,a]=A.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:s=>{a(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const R4={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z"},wK=Object.keys(R4).join("|"),DK=new RegExp(wK,"g");function SK(e){return e.replace(DK,t=>R4[t])}const da={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function EK(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:da.MATCHES,!n.accessors){const s=s2(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const a=kK(e,n.accessors),i={rankedValue:e,rank:da.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<a.length;s++){const c=a[s];let d=s2(c.itemValue,t,n);const{minRanking:h,maxRanking:g,threshold:m=n.threshold}=c.attributes;d<h&&d>=da.MATCHES?d=h:d>g&&(d=g),d=Math.min(d,g),d>=m&&d>i.rank&&(i.rank=d,i.passed=!0,i.accessorIndex=s,i.accessorThreshold=m,i.rankedValue=c.itemValue)}return i}function s2(e,t,n){return e=l2(e,n),t=l2(t,n),t.length>e.length?da.NO_MATCH:e===t?da.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?da.EQUAL:e.startsWith(t)?da.STARTS_WITH:e.includes(` ${t}`)?da.WORD_STARTS_WITH:e.includes(t)?da.CONTAINS:t.length===1?da.NO_MATCH:TK(e).includes(t)?da.ACRONYM:CK(e,t))}function TK(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(i=>{t+=i.substr(0,1)})}),t}function CK(e,t){let n=0,r=0;function a(d,h,g){for(let m=g,w=h.length;m<w;m++)if(h[m]===d)return n+=1,m+1;return-1}function i(d){const h=1/d,g=n/t.length;return da.MATCHES+g*h}const s=a(t[0],e,0);if(s<0)return da.NO_MATCH;r=s;for(let d=1,h=t.length;d<h;d++){const g=t[d];if(r=a(g,e,r),!(r>-1))return da.NO_MATCH}const c=r-s;return i(c)}function xK(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function l2(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=SK(e)),e}function MK(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function kK(e,t){const n=[];for(let r=0,a=t.length;r<a;r++){const i=t[r],s=IK(i),c=MK(e,i);for(let d=0,h=c.length;d<h;d++)n.push({itemValue:c[d],attributes:s})}return n}const u2={maxRanking:1/0,minRanking:-1/0};function IK(e){return typeof e=="function"?u2:{...u2,...e}}const NK=({thino:e})=>{const t=A.useRef(null);A.useEffect(()=>(t.current&&I.setIcon(t.current,"pin"),()=>{t.current&&(t.current=null)}),[t]);const n=A.useCallback(async()=>{e.pinned?await Me.unpinMemoById(e.id):await Me.pinMemoById(e.id)},[e]);return D.jsx("span",{ref:t,className:us("pinned-status",e.pinned?"pinned":"not-pinned"),onClick:n})},FK=({thino:e})=>{const t=A.useRef(null);A.useEffect(()=>(t.current&&I.setIcon(t.current,e.thinoType==="TASK-TODO"?"square":e.thinoType==="JOUNRAL"?"calendar":"check-square"),()=>{t.current&&(t.current=null)}),[t,e==null?void 0:e.thinoType]);const n=A.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const r=await Me.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");r&&Me.editMemo(r)},[e]);return D.jsx("span",{ref:t,className:us("thino-type-status"),onClick:n})},AK=({id:e,path:t})=>{const n=A.useRef(null);A.useEffect(()=>(n.current&&I.setIcon(n.current,"link"),()=>{n.current&&(n.current=null)}),[]);const r=A.useCallback(()=>{!e||!t||Me.openThinoByID(e)},[e,t]);return D.jsxs("span",{className:"source-thino",onClick:r,children:[D.jsx("span",{children:t}),D.jsx("span",{ref:n,className:"source-thino-icon"})]})},OK=({id:e,sourceType:t})=>{const n=A.useRef(null);A.useEffect(()=>{var a;return n.current&&I.setIcon(n.current,((a=bf.find(i=>i.title===t))==null?void 0:a.icon)||"list"),()=>{n.current&&(n.current=null)}},[]);const r=A.useCallback(async()=>{e&&await Me.openThinoByID(e)},[e]);return D.jsx("span",{ref:n,className:"source-type-icon",onClick:r})},c2=(e,t,n,r)=>{const a=EK(e.getValue(t),n);return r({itemRank:a}),a.passed},f2=(e,t,n)=>{var a,i;let r=0;return e.columnFiltersMeta[n]&&(r=xK((a=e.columnFiltersMeta[n])==null?void 0:a.itemRank,(i=t.columnFiltersMeta[n])==null?void 0:i.itemRank)),r===0?mf.alphanumeric(e,t,n):r};function RK({thinos:e}){var g;Q.useReducer(()=>({}),{})[1];const[t,n]=Q.useState([]),[r,a]=Q.useState(""),i=Q.useMemo(()=>[{header:O("Basic Info"),footer:m=>m.column.id,columns:[{accessorKey:"createdAt",header:()=>D.jsx("span",{className:"create-at-header-cell",children:O("Created At")}),cell:m=>m.getValue(),footer:m=>m.column.id,enableColumnFilter:!1},{accessorFn:m=>m.content,id:"content",header:()=>D.jsx("span",{className:"thino-header-cell",children:O("Thino")}),cell:m=>D.jsx(pl,{memo:m.row.original,type:"table"}),footer:m=>m.column.id,filterFn:"fuzzy",sortingFn:f2},{accessorFn:m=>m.thinoType,id:"thinoType",cell:m=>D.jsx(FK,{thino:m.row.original}),header:()=>D.jsx("span",{children:O("Thino Type")}),footer:m=>m.column.id},{accessorFn:m=>m.sourceType,id:"sourceType",cell:m=>D.jsx(OK,{id:m.row.original.id,sourceType:m.getValue()}),header:()=>D.jsx("span",{children:O("Source Type")}),footer:m=>m.column.id}]},{header:O("Additional Info"),footer:m=>m.column.id,columns:[{accessorKey:"pinned",header:()=>D.jsx("span",{children:O("Pinned Status")}),cell:m=>D.jsx(NK,{thino:m.row.original}),footer:m=>m.column.id,filterFn:"fuzzy",sortingFn:f2},{accessorKey:"rowStatus",header:()=>D.jsx("span",{children:O("Row status")}),cell:m=>D.jsx("span",{children:m.getValue()==="NORMAL"?"":m.getValue()}),footer:m=>m.column.id},{accessorKey:"path",header:()=>O("Path"),cell:m=>D.jsx(AK,{id:m.row.original.id,path:m.getValue()}),footer:m=>m.column.id}]}],[]),[s,c]=Q.useState(()=>e),d=()=>c(m=>e);A.useEffect(()=>{d()},[e]);const h=bK({data:s,columns:i,filterFns:{fuzzy:c2},initialState:{pagination:{pageSize:20}},state:{columnFilters:t,globalFilter:r},onColumnFiltersChange:n,onGlobalFilterChange:a,globalFilterFn:c2,getCoreRowModel:iK(),getFilteredRowModel:uK(),getSortedRowModel:pK(),getPaginationRowModel:mK(),getFacetedRowModel:cK(),getFacetedUniqueValues:fK(),getFacetedMinMaxValues:dK(),debugTable:!1,debugHeaders:!1,debugColumns:!1});return Q.useEffect(()=>{var m,w;((m=h.getState().columnFilters[0])==null?void 0:m.id)==="createdAt"&&((w=h.getState().sorting[0])==null?void 0:w.id)!=="createdAt"&&h.setSorting([{id:"createdAt",desc:!1}])},[(g=h.getState().columnFilters[0])==null?void 0:g.id]),D.jsxs("div",{className:"table-view",children:[D.jsx("div",{children:D.jsx($g,{value:r??"",onChange:m=>a(String(m)),className:"table-search-bar",placeholder:O("Search all columns...")})}),D.jsxs("table",{children:[D.jsx("thead",{children:h.getHeaderGroups().map(m=>D.jsx("tr",{children:m.headers.map(w=>D.jsx("th",{colSpan:w.colSpan,children:w.isPlaceholder?null:D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:us(w.column.getCanSort()?"filter-header":"","table-header",w.column.id==="content"?"content-header":""),onClick:w.column.getToggleSortingHandler(),children:[i2(w.column.columnDef.header,w.getContext()),{asc:" 🔼",desc:" 🔽"}[w.column.getIsSorted()]??null]}),w.column.getCanFilter()?D.jsx(LK,{column:w.column,table:h}):null]})},w.id))},m.id))}),D.jsx("tbody",{children:h.getRowModel().rows.map(m=>D.jsx("tr",{className:us(m.getValue("pinned")?"pinned":""),children:m.getVisibleCells().map(w=>D.jsx("td",{children:i2(w.column.columnDef.cell,w.getContext())},w.id))},m.id))})]}),D.jsxs("div",{className:"table-nav-bar",children:[D.jsx("button",{className:"prev-start-btn",onClick:()=>h.setPageIndex(0),disabled:!h.getCanPreviousPage(),children:"<<"}),D.jsx("button",{className:"prev-btn",onClick:()=>h.previousPage(),disabled:!h.getCanPreviousPage(),children:"<"}),D.jsx("button",{className:"next-btn",onClick:()=>h.nextPage(),disabled:!h.getCanNextPage(),children:">"}),D.jsx("button",{className:"next-end-btn",onClick:()=>h.setPageIndex(h.getPageCount()-1),disabled:!h.getCanNextPage(),children:">>"}),D.jsxs("span",{className:"table-page-info",children:[D.jsx("div",{children:O("Page")}),D.jsxs("strong",{children:[h.getState().pagination.pageIndex+1," of ",h.getPageCount()]})]}),D.jsxs("span",{className:"table-page-jump",children:["| ",O("Go to page"),":",D.jsx("input",{type:"number",defaultValue:h.getState().pagination.pageIndex+1,onChange:m=>{const w=m.target.value?Number(m.target.value)-1:0;h.setPageIndex(w)},className:"jump-inputer"})]}),D.jsx("select",{value:h.getState().pagination.pageSize,onChange:m=>{h.setPageSize(Number(m.target.value))},children:[10,20,30,40,50].map(m=>D.jsxs("option",{value:m,children:[O("Show")," ",m," ",O("rows")]},m))})]})]})}function LK({column:e,table:t}){var i,s,c,d,h,g,m,w,b;const n=(i=t.getPreFilteredRowModel().flatRows[0])==null?void 0:i.getValue(e.id),r=e.getFilterValue(),a=Q.useMemo(()=>typeof n=="number"?[]:Array.from(e.getFacetedUniqueValues().keys()).sort(),[e.getFacetedUniqueValues()]);return typeof n=="number"?D.jsx("div",{children:D.jsxs("div",{className:"filter-input-group",children:[D.jsx($g,{type:"number",min:Number(((s=e.getFacetedMinMaxValues())==null?void 0:s[0])??""),max:Number(((c=e.getFacetedMinMaxValues())==null?void 0:c[1])??""),value:(r==null?void 0:r[0])??"",onChange:T=>e.setFilterValue(E=>[T,E==null?void 0:E[1]]),placeholder:`Min ${(d=e.getFacetedMinMaxValues())!=null&&d[0]?`(${(h=e.getFacetedMinMaxValues())==null?void 0:h[0]})`:""}`,className:"filter-input-short"}),D.jsx($g,{type:"number",min:Number(((g=e.getFacetedMinMaxValues())==null?void 0:g[0])??""),max:Number(((m=e.getFacetedMinMaxValues())==null?void 0:m[1])??""),value:(r==null?void 0:r[1])??"",onChange:T=>e.setFilterValue(E=>[E==null?void 0:E[0],T]),placeholder:`Max ${(w=e.getFacetedMinMaxValues())!=null&&w[1]?`(${(b=e.getFacetedMinMaxValues())==null?void 0:b[1]})`:""}`,className:"filter-input-short"})]})}):D.jsx(D.Fragment,{children:a.length>1?D.jsxs(D.Fragment,{children:[e.id!=="path"&&e.id!=="content"&&D.jsx("datalist",{id:e.id+"list",children:a.slice(0,5e3).map(T=>D.jsx("option",{value:T},T))}),D.jsx($g,{type:"text",value:r??"",onChange:T=>e.setFilterValue(T),placeholder:`Search... (${e.getFacetedUniqueValues().size})`,className:"filter-input-long",list:e.id+"list"})]}):""})}function $g({value:e,onChange:t,debounce:n=500,...r}){const[a,i]=Q.useState(e);return Q.useEffect(()=>{i(e)},[e]),Q.useEffect(()=>{const s=setTimeout(()=>{t(a)},n);return()=>clearTimeout(s)},[a]),D.jsx("input",{...r,value:a,onChange:s=>i(s.target.value)})}let _1;function _K(e){const t=e.filter(r=>r.pinned),n=e.filter(r=>!r.pinned);return[...t,...n]}function PK(e){const t={};for(const n of e){const r=I.moment(n.createdAt,"YYYY-MM-DD HH:mm:ss").format("YYYY-MM-DD");if(n.pinned){t.PINNED||(t.PINNED=[]),t.PINNED.push(n);continue}t[r]||(t[r]=[]),t[r].push(n)}return t}function kg(e){const{tag:t,duration:n,type:r,text:a,filter:i}=e,s=ln.getQueryById(i);return!(!!(t||n&&n.from<n.to||r||a||s)||s)}const jK=({tempMemos:e,query:t,HideDoneTasks:n})=>{const r=e.filter(m=>m.rowStatus!=="ARCHIVED"&&!(m.deletedAt!==""&&m.deletedAt)),{tag:a,duration:i,type:s,text:c,filter:d}=t,h=ln.getQueryById(d);return!!(a||i&&i.from<i.to||s||c||h)||h||n?r.filter(m=>{let w=!0;if(m.thinoType!==void 0&&n&&m.thinoType==="TASK-DONE"&&(w=!1),m.content.contains("comment:")&&(w=!1),h){const b=JSON.parse(h.querystring);Array.isArray(b)&&(w=Dh(m,b))}if(a){const b=new Set;for(const T of Array.from(m.content.match(or)??[])){const k=T.replace(or,"$1").trim().split("/");let M="";for(const F of k)M+=F,b.add(M),M+="/"}for(const T of Array.from(m.content.match(Rr)??[])){const k=T.replace(Rr,"$1").trim().split("/");let M="";for(const F of k)M+=F,b.add(M),M+="/"}for(const T of Array.from(m.content.match(Ra)??[])){const k=T.replace(Ra,"$2").trim().split("/");let M="";for(const F of k)M+=F,b.add(M),M+="/"}b.has(a)||(w=!1)}return i&&i.from<i.to&&(Ue.getTimeStampByDate(m.createdAt)<i.from||Ue.getTimeStampByDate(m.createdAt)>i.to)&&(w=!1),s&&(s==="NOT_TAGGED"&&(m.content.match(or)!==null||m.content.match(Ra)!==null||m.content.match(Rr)!==null)||s==="LINKED"&&m.content.match(Af)===null||s==="IMAGED"&&m.content.match(Of)===null||s==="CONNECTED"&&m.content.match(Fu)===null)&&(w=!1),c&&!m.content.toLowerCase().includes(c.toLowerCase())&&(w=!1),w}):r.filter(m=>!m.content.contains("comment:"))},BK=({updateThinosCount:e})=>{const{locationState:{query:t},memoState:{memos:n},globalState:{memoListView:r},dailyNotesState:{app:a,settings:i,verifyState:s,plugin:c}}=A.useContext(It),[d,h]=A.useState(!1),[g,m]=A.useState(!1),[w,b,T]=Ar([]),[E,k]=A.useState([]),[M,F]=A.useState({}),[B,N,P]=Ar([]),R=A.useRef(0),j=A.useRef(!1),$=A.useRef(null),W=A.useRef(null),z=A.useRef(null),X=A.useRef(null);A.useEffect(()=>()=>{W.current&&(W.current=null),z.current&&(z.current=null),X.current&&(X.current=null)},[]),A.useLayoutEffect(()=>{if(n.length!==0||!a)return;const ee=YK(a);!ee||ee.length===0||N(ee)},[a]),A.useEffect(()=>{if(n.length===0&&!Me.initialized)return;h(!1);const ee=_K(n),de=jK({tempMemos:ee,query:t,HideDoneTasks:(i==null?void 0:i.HideDoneTasks)||!1});e&&e(de.length),N(de)},[n,t,i==null?void 0:i.HideDoneTasks]),A.useEffect(()=>{b(B.slice(0,w.length>20?Math.min(w.length,40):40))},[B]),A.useEffect(()=>{var ee;w.length<40&&((ee=z.current)==null||ee.click()),_1=B},[B]),A.useEffect(()=>{(kg(t)&&w.length<B.length||w.length<B.length&&!kg(t))&&m(!1),(kg(t)&&w.length===n.length&&n.length>0||!kg(t)&&w.length===B.length&&B.length>0)&&m(!0),HK(w||[],a),k(w),(s==null?void 0:s.appId)!==(a==null?void 0:a.appId)&&(i!=null&&i.showDayMark)&&c&&(c.settings.showDayMark=!1,c.saveSettings()),i!=null&&i.showDayMark&&F(PK(w))},[w,i==null?void 0:i.showDayMark]),A.useEffect(()=>{if(!W.current)return;const ee=async()=>{j.current||(R.current++,await oe(),R.current>=1&&(j.current=!0,setTimeout(()=>{R.current=0,j.current=!1},3e3)))};w.length<40&&ee();const de=new IntersectionObserver(([fe])=>{if(fe.isIntersecting){if(g)return;ee()}else R.current=0,j.current=!1});return W!=null&&W.current&&de.observe(W.current),()=>{W!=null&&W.current&&de.unobserve(W.current)}},[d,g,W]),A.useEffect(()=>{var ee;(ee=X.current)==null||ee.scrollTo({top:0})},[t]);const oe=async()=>{try{if(P.current.length>T.current.length){h(!0);const ee=Math.min(T.current.length+40,P.current.length)-T.current.length,de=P.current.slice(T.current.length,T.current.length+ee);b(fe=>[...fe,...de]),h(!1),m(de.length<40)}}catch(ee){new I.Notice(ee.response.data.message)}};return D.jsxs("div",{className:`memolist-wrapper ${g?"completed":""}`,ref:X,children:[D.jsxs("div",{ref:$,className:"memolist-container",children:[r==="calendar"&&D.jsx(xG,{thinos:B}),r==="table"&&D.jsx(RK,{thinos:B}),(!(i!=null&&i.showDayMark)||r!=="waterfall")&&r!=="calendar"&&D.jsxs(gb,{breakpointCols:r==="waterfall"?3:1,className:`${r}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:[(i==null?void 0:i.showDayMark)&&r==="list"&&Object.keys(M).length>0&&D.jsx(D.Fragment,{children:Object.keys(M).map(ee=>D.jsx(RD,{type:"list",thinos:M[ee],dayMark:ee},ee))}),!(i!=null&&i.showDayMark)&&E.map((ee,de)=>D.jsx(pl,{memo:ee},`${ee.id}-${I.moment(ee.updatedAt,"YYYY-MM-DD HH:mm:ss").format("x")}-${de}`))]}),(i==null?void 0:i.showDayMark)&&r==="waterfall"&&Object.keys(M).length>0&&D.jsx(D.Fragment,{children:Object.keys(M).map(ee=>D.jsx(RD,{type:"waterfall",thinos:M[ee],dayMark:ee},ee))})]}),D.jsx("div",{ref:W,className:us("status-text-container",r==="calendar"||r==="table"?"hidden":""),children:D.jsx("p",{className:"status-text",children:d?O("Fetching data..."):g?B.length===0?O("Noooop!"):O("All Data is Loaded 🎉"):D.jsx(D.Fragment,{children:D.jsx("span",{ref:z,className:"cursor-pointer hover:text-green-600",onClick:oe,children:O("fetch more")})})})})]})};function L4(e){return`memosListCache:${e}`}function YK(e){var t;try{const n=L4(e.appId),r=Vn.get([n])[n];return r?((t=JSON.parse(r))==null?void 0:t.memos)??[]:[]}catch{return[]}}function HK(e,t){try{if(!e)return;const n=e==null?void 0:e.slice(0,100),r=L4(t.appId);Vn.set({[r]:JSON.stringify({memos:n})})}catch{}}const UK=e=>{const t=[];return e.map(n=>{t.length==0?t.push({date:I.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]}):t.some(a=>{if(a.date==I.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"))return a.have.push(n),!0})||t.push({date:I.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]})}),t},VK=e=>Me.getState().commentMemos.filter(t=>t.linkId===e.hasId).sort((t,n)=>Ue.getTimeStampByDate(t.createdAt)-Ue.getTimeStampByDate(n.createdAt)).map(t=>({...t,createdAtStr:Ue.getDateTimeString(t.createdAt),dateStr:Ue.getDateString(t.createdAt)})),zK=e=>{const t=ut.getState().settings,n=j8(),r=t!=null&&t.ShowDate?"    ":"",a="YYYY/MM/DD HH:mm:ss",i=/comment:(.*)$/g,s=/^\d{14}/g,c=(m,w,b)=>{const T=I.moment(m.createdAt,a).format("HH:mm");return b?b.replace(/{TIME}/g,T).replace(/{CONTENT}/g,w):`${T} ${w}`},d=m=>{const w=m.match(/TASK-(.*)?/g);return w?w[1]:""},h=m=>m==="TASK-TODO"?"- [ ] ":m==="TASK-DONE"?"- [x] ":m.match(/TASK-(.*)?/g)?`- [${d(m)}] `:"- ",g=m=>m.reduce((w,b)=>{const T=b.sourceType!=="MULTI"?`${b.content}`:`[[${b.path}]]`,E=t!=null&&t.ShowTime?c(b,T,t==null?void 0:t.DefaultMemoComposition):T,k=`${h(b.thinoType)}${E}`;let M="";return t.CommentOnMemos&&b.hasId!==void 0&&b.hasId!==""&&(M=VK(b).reduce((B,N)=>{const P=h(N.thinoType),R=N.content.replace(i,"").replace(s,""),j=t!=null&&t.ShowDate?`${P}[[${I.moment(N.createdAt).format(n)}]] ${I.moment(N.createdAt).format("HH:mm")} ${R}`:`${P}${R}`;return B+r+"    "+j+`
`},"")),w+r+k.replace(/ \^\S{6}/g,"")+`
`+M},"");return e.reduce((m,w)=>{const b=t!=null&&t.ShowDate?`- [[${I.moment(w.date,"YYYY-MM-DD").format(n)}]]
`:"",T=g(w.have),E=t!=null&&t.ShowDate&&(t!=null&&t.AddBlankLineWhenDate)&&!(t!=null&&t.CommentOnMemos)?`
`:"";return m+b+T+E},"").replace(/<br>/g,`
    `)},Zv=({thinosCount:e})=>{const{locationState:{query:t}}=A.useContext(It),{tag:n,duration:r,type:a,text:i,filter:s}=t,c=ln.getQueryById(s),d=!!(n||r&&r.from<r.to||a||i||c),h=async()=>{if(!(_1.length>0))return;const g=UK(_1),m=zK(g);await Ue.copyTextToClipboard(m),new I.Notice(O("Copied to clipboard Successfully"))};return D.jsxs("div",{className:`filter-query-container ${d?"":"hidden"}`,children:[D.jsxs("div",{className:"filter-query",children:[D.jsx("span",{className:"tip-text",children:O("FILTER")}),D.jsxs("div",{className:"filter-item-container "+(c?"":"hidden"),onClick:()=>{it.setMemoFilter("")},children:[D.jsx("span",{className:"icon-text",children:"🔖"})," ",c==null?void 0:c.title]}),D.jsxs("div",{className:"filter-item-container "+(n?"":"hidden"),onClick:()=>{it.setTagQuery("")},children:[D.jsx("span",{className:"icon-text",children:"🏷️"})," ",n]}),D.jsxs("div",{className:"filter-item-container "+(a?"":"hidden"),onClick:()=>{it.setMemoTypeQuery("")},children:[D.jsx("span",{className:"icon-text",children:"📦"})," ",z7(a)]}),r&&r.from<r.to&&D.jsxs("div",{className:"filter-item-container",children:[D.jsxs("div",{className:"day-picker-component-group",children:[D.jsx("span",{className:"icon-text",children:"🗓️"})," ",D.jsx(tv,{type:"text",startOrEnd:"start",defaultValue:I.moment(r.from,"x").valueOf(),handleValueChange:g=>{const m=I.moment(r.to,"x"),w=I.moment(g,"x"),b=w.isAfter(m)||w.isSame(m);it.setFromAndToQuery(b?m.startOf("day").valueOf():I.moment(g,"x").startOf("day").valueOf(),r.to)}}),D.jsx("span",{children:O("to")}),D.jsx(tv,{type:"text",startOrEnd:"end",defaultValue:I.moment(r.to,"x").add(1,"days").valueOf(),handleValueChange:g=>{const m=I.moment(r.from,"x"),w=I.moment(g,"x"),b=w.isBefore(m)||w.isSame(m),T=I.moment(g,"x").endOf("day").valueOf();it.setFromAndToQuery(r.from,b?m.endOf("day").valueOf():T)}})]}),D.jsx("div",{ref:g=>g&&I.setIcon(g,"x"),className:"btn close-btn",onClick:()=>{it.setFromAndToQuery(0,0)}})]}),D.jsxs("div",{className:"filter-item-container "+(i?"":"hidden"),onClick:()=>{it.setTextQuery("")},children:[D.jsx("span",{className:"icon-text",children:"🔍"})," ",i]})]}),D.jsxs("div",{className:"thino-filter-items",children:[e&&D.jsx("div",{className:"thinos-count",children:`${e?`${e} Thinos `:""}`}),D.jsx("div",{ref:g=>{g&&I.setIcon(g,"copy"),g&&I.setTooltip&&I.setTooltip(g,O("Copy filtered thinos to clipboard"))},className:"btn copy-memo",onClick:h})]})]})};function $K(){const{settings:e,app:t,view:n}=ut.getState(),{globalState:{loaded:r}}=A.useContext(It),a=I.Platform.isMobile&&e.DefaultEditorLocation==="Bottom",i=Q.useRef(null),[s,c]=Q.useState(0);A.useEffect(()=>{if(!t||!r||!n||!(t==null?void 0:t.loadLocalStorage("tokenForSync"))||!e.startSync)return;i.current=window.setInterval(async()=>{const w=P1(t);await d(w)},3e4),n.registerInterval(i.current);const m=P1(t);return d(m),()=>{i.current&&window.clearInterval(i.current)}},[n,t,r,e.startSync]);const d=async g=>{if(!e.startSync||!(t!=null&&t.loadLocalStorage("tokenForSync")))return;const m=await l7(g);if(!m||m.length===0)return;m.sort((T,E)=>I.moment(T.createdAt,"YYYY-MM-DD HH:mm:ss").isAfter(I.moment(E.createdAt,"YYYY-MM-DD HH:mm:ss"))?1:-1);const w=m.filter(T=>!T.deleted),b=m.filter(T=>T.deleted);for(let T=0;T<w.length;T++){const E=w[T],k=await Me.createOrPatchThinoFromWeb(E);k&&Me.pushMemo(k)}for(let T=0;T<b.length;T++){const E=b[T],k=Me.getMemoByWebId(E.id);k&&await Me.deleteMemoById(k.id,"local")}Me.updateTagsState(),qK(t)},h=[D.jsx(Zv,{thinosCount:s},"filter"),D.jsx(BK,{updateThinosCount:g=>{c(g)}},"list")];return D.jsx(D.Fragment,{children:a?[D.jsx(AD,{syncThino:d},"header"),...h,D.jsx(Gp,{className:"mod-editor-bottom"},"editor")]:[D.jsx(AD,{syncThino:d},"header"),D.jsx(Gp,{},"editor"),...h]})}function WK(e){try{e!=null&&e.saveLocalStorage&&e.saveLocalStorage("thinoLastUpdated",I.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x"))}catch{}}function P1(e){try{const t=(e==null?void 0:e.loadLocalStorage)&&(e==null?void 0:e.loadLocalStorage("thinoLastUpdated"));return t||I.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")}catch{return I.moment().format("x")}}function qK(e){try{e!=null&&e.saveLocalStorage&&e.saveLocalStorage("thinoLastUpdated",I.moment().format("x"))}catch{}}const GK=e=>{const{memo:t,handleDeletedMemoAction:n}=e,{dailyNotesState:r}=A.useContext(It),a={...t,createdAtStr:Ue.getDateTimeString(t.createdAt),deletedAtStr:Ue.getDateTimeString(t.deletedAt??t.createdAt)},i=Q.useRef(null),s=Q.useRef(null),[c,d]=Q.useState(""),[h,g]=Ao(!1),m={restore:A.useRef(null),delete:A.useRef(null),source:A.useRef(null)};A.useEffect(()=>{s&&(I.setIcon(m.restore.current,"archive-restore"),I.setIcon(m.delete.current,"trash"),I.setIcon(m.source.current,"home"))},[s]),A.useEffect(()=>{if(!i.current||!s.current||i.current.hasChildNodes()&&t.content===c||!r.view)return;const k=r.view;d(t.content),i.current.hasChildNodes()&&i.current.empty();async function M(){var B;await I.MarkdownRenderer.render(r.app,t.content.replaceAll(/<br>/g,`
`)+`
`,i.current,t.path,k);const F=(B=i.current)==null?void 0:B.querySelectorAll(".internal-link");F==null||F.forEach(N=>{const P=N,R=P.getAttribute("data-href");if(!R)return;r.app.metadataCache.getFirstLinkpathDest(R,t.path)||N.classList.add("is-unresolved"),P.addEventListener("mouseover",$=>{$.stopPropagation(),r.app.workspace.trigger("hover-link",{event:$,source:"thino",hoverParent:k.containerEl,targetEl:P,linktext:R,sourcePath:P.href})})})}M()},[t.content,s]);const w=async()=>{if(h)try{await Me.deleteMemoById(a.id),n(a.id)}catch(k){new I.Notice(k.message)}else g()},b=async()=>{switch(a.sourceType){case"DAILY":await tb(a.id,a.path);break;case"CANVAS":await rb(a.id,a.path);break;case"MULTI":await eb(a.path);break;case"FILE":await nb(a.id,a.path);break}},T=async()=>{try{const k=await Me.restoreMemoById(a.id),M=r.app,F=M==null?void 0:M.loadLocalStorage("tokenForSync");k&&k.webId&&F&&r.settings.startSync&&await f7(k.webId),k&&Me.editMemo(k),n(a.id),new I.Notice(O("RESTORE SUCCEED"))}catch(k){new I.Notice(k.message)}},E=()=>{h&&g(!1)};return D.jsxs("div",{ref:s,className:`memo-wrapper ${"memos-"+a.id}`,onMouseLeave:E,children:[D.jsxs("div",{className:"memo-top-wrapper",children:[D.jsxs("span",{className:"time-text",children:[O("DELETE AT")," ",a.deletedAtStr]}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:k=>{k&&I.setIcon(k,"more-horizontal")},className:"btn more-action-btn"}),D.jsx("div",{className:"more-action-btns-wrapper",children:D.jsxs("div",{className:"more-action-btns-container",children:[D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:m.restore,className:"more-action-item-icon"}),D.jsx("span",{className:"btn restore-btn",onClick:T,children:O("RESTORE")})]}),D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:m.source,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",onClick:b,children:O("SOURCE")})]}),D.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[D.jsx("span",{ref:m.delete,className:"more-action-item-icon"}),D.jsx("span",{className:`btn delete-btn ${h?"final-confirm":""}`,onClick:w,children:O(h?"CONFIRM！":"DELETE")})]})]})})]})]}),D.jsx("div",{ref:i,className:"memo-content-text",onContextMenu:k=>{k.preventDefault(),k.stopPropagation()}})]})},KK=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=A.useContext(It),r=Hf(),[a,i]=A.useState([]),s=Q.useRef(null),c=A.useCallback(({memos:g,query:m,HideDoneTasks:w})=>{const{tag:b,duration:T,type:E,text:k,filter:M}=m,F=ln.getQueryById(M);return!!(b||T&&T.from<T.to||E||k||F)||F||w?g.filter(N=>{let P=!0;if(N.thinoType!==void 0&&w&&N.thinoType==="TASK-DONE"&&(P=!1),N.content.contains("comment:")&&(P=!1),F){const R=JSON.parse(F.querystring);Array.isArray(R)&&(P=Dh(N,R))}if(b){const R=new Set;for(const j of Array.from(N.content.match(or)??[])){const W=j.replace(or,"$1").trim().split("/");let z="";for(const X of W)z+=X,R.add(z),z+="/"}for(const j of Array.from(N.content.match(Rr)??[])){const W=j.replace(Rr,"$1").trim().split("/");let z="";for(const X of W)z+=X,R.add(z),z+="/"}for(const j of Array.from(N.content.match(Ra)??[])){const W=j.replace(Ra,"$2").trim().split("/");let z="";for(const X of W)z+=X,R.add(z),z+="/"}R.has(b)||(P=!1)}return T&&T.from<T.to&&(Ue.getTimeStampByDate(N.createdAt)<T.from||Ue.getTimeStampByDate(N.createdAt)>T.to)&&(P=!1),E&&(E==="NOT_TAGGED"&&(N.content.match(or)!==null||N.content.match(Rr)!==null)||E==="LINKED"&&N.content.match(Af)===null||E==="IMAGED"&&N.content.match(Of)===null||E==="CONNECTED"&&N.content.match(Fu)===null)&&(P=!1),k&&!N.content.toLowerCase().includes(k.toLowerCase())&&(P=!1),P}):g},[]);A.useEffect(()=>{i(c({memos:n.filter(g=>g.deletedAt!==""&&g.deletedAt),query:e,HideDoneTasks:!1})),r.setFinish(),it.clearQuery()},[n,s.current]);const d=A.useCallback(g=>{i(m=>m.filter(w=>w.id!==g))},[]),h=A.useCallback(()=>{rt.setShowSiderbarInMobileView(!0)},[]);return D.jsxs("div",{className:"memo-trash-wrapper",ref:s,children:[D.jsx("div",{className:"section-header-container",children:D.jsxs("div",{className:"title-text",children:[D.jsx(Io,{when:t,children:D.jsx("button",{ref:g=>{g&&I.setIcon(g,"menu")},className:"btn action-btn clickable-icon",onClick:h})}),D.jsx("span",{className:"normal-text",children:O("Recycle bin")}),D.jsxs("span",{className:"go-home-btn",onClick:()=>{it.setPathname("/")},children:["🏠 ",O("Return To Home Page")]})]})}),D.jsx(Zv,{}),r.isLoading?D.jsx("div",{className:"tip-text-container",children:D.jsx("span",{className:"tip-text",children:O("Fetching data...")})}):a.length===0?D.jsx("div",{className:"tip-text-container",children:D.jsx("span",{className:"tip-text",children:O("Here is No Memos.")})}):D.jsx("div",{className:"deleted-memos-container",children:a.map(g=>D.jsx(GK,{memo:g,handleDeletedMemoAction:d},`${g.id}-${g.updatedAt}`))})]})},Ig="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='currentColor'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M19%203H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm0%2016H5V5h14v14zM17.99%209l-1.41-1.42-6.59%206.59-2.58-2.57-1.42%201.41%204%203.99z'/%3e%3c/svg%3e",Ng="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='currentColor'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M19%205v14H5V5h14m0-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2z'/%3e%3c/svg%3e",QK=()=>{const{globalState:e}=A.useContext(It),{useTinyUndoHistoryCache:t,shouldHideImageUrl:n,shouldSplitMemoWord:r,shouldUseMarkdownParser:a}=e,i=`👋 你好呀～欢迎使用memos!
* ✨ **开源项目**；
* 😋 精美且细节的视觉样式；
* 📑 体验优良的交互逻辑；`,s=()=>{rt.setAppSetting({useTinyUndoHistoryCache:!t})},c=()=>{rt.setAppSetting({shouldSplitMemoWord:!r})},d=()=>{rt.setAppSetting({shouldHideImageUrl:!n})},h=()=>{rt.setAppSetting({shouldUseMarkdownParser:!a})},g=async()=>{const m=Me.getState().memos.map(T=>({...T})),w=JSON.stringify(m),b=document.createElement("a");b.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(w)),b.setAttribute("download","data.json"),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)};return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"section-container preferences-section-container",children:[D.jsx("p",{className:"title-text",children:"Memo 显示相关"}),D.jsx("div",{className:"demo-content-container memo-content-text",dangerouslySetInnerHTML:{__html:J0(i)}}),D.jsxs("label",{className:"form-label checkbox-form-label",onClick:c,children:[D.jsx("span",{className:"normal-text",children:"中英文内容自动间隔"}),D.jsx("img",{className:"icon-img",src:r?Ig:Ng})]}),D.jsxs("label",{className:"form-label checkbox-form-label",onClick:h,children:[D.jsx("span",{className:"normal-text",children:"部分 markdown 格式解析"}),D.jsx("img",{className:"icon-img",src:a?Ig:Ng})]}),D.jsxs("label",{className:"form-label checkbox-form-label",onClick:d,children:[D.jsx("span",{className:"normal-text",children:"隐藏图片链接地址"}),D.jsx("img",{className:"icon-img",src:n?Ig:Ng})]})]}),D.jsxs("div",{className:"section-container preferences-section-container",children:[D.jsx("p",{className:"title-text",children:"编辑器"}),D.jsxs("label",{className:"form-label checkbox-form-label",onClick:s,children:[D.jsxs("span",{className:"normal-text",children:["启用"," ",D.jsx("a",{target:"_blank",href:"https://github.com/boojack/tiny-undo",onClick:m=>m.stopPropagation(),rel:"noreferrer",children:"tiny-undo"})]}),D.jsx("img",{className:"icon-img",src:t?Ig:Ng})]})]}),D.jsxs("div",{className:"section-container hidden",children:[D.jsx("p",{className:"title-text",children:"其他"}),D.jsx("div",{className:"btn-container",children:D.jsx("button",{className:"btn export-btn",onClick:g,children:"导出数据(JSON)"})})]})]})},ZK=()=>{const{globalState:{isMobileView:e}}=A.useContext(It);A.useEffect(()=>{Me.fetchAllMemos()},[]);const t=A.useCallback(()=>{rt.setShowSiderbarInMobileView(!0)},[]);return D.jsxs("div",{className:"preference-wrapper",children:[D.jsx("div",{className:"section-header-container",children:D.jsxs("div",{className:"title-text",children:[D.jsx(Io,{when:e,children:D.jsx("button",{className:"action-btn",onClick:t})}),D.jsx("span",{className:"normal-text",children:"账号与设置"})]})}),D.jsx("div",{className:"sections-wrapper",children:D.jsx(QK,{})})]})},JK=e=>{const{dailyNotesState:{app:t,settings:n,view:r}}=A.useContext(It),{memo:a,handleUnarchivedMemoAction:i}=e,s=Q.useRef(null),c=Q.useRef(null),[d,h]=Q.useState(""),g={...a,createdAtStr:Ue.getDateTimeString(a.createdAt),deletedAtStr:Ue.getDateTimeString(a.deletedAt??a.createdAt)},[m,w]=Ao(!1),b={restore:A.useRef(null),delete:A.useRef(null),source:A.useRef(null)};A.useEffect(()=>{c&&(I.setIcon(b.restore.current,"archive-restore"),I.setIcon(b.delete.current,"trash"),I.setIcon(b.source.current,"home"))},[c]),A.useEffect(()=>{if(!s.current||!c.current||s.current.hasChildNodes()&&a.content===d||!r)return;h(a.content),s.current.hasChildNodes()&&s.current.empty();async function F(){var N;await I.MarkdownRenderer.render(t,a.content.replaceAll(/<br>/g,`
`)+`
`,s.current,a.path,r);const B=(N=s.current)==null?void 0:N.querySelectorAll(".internal-link");B==null||B.forEach(P=>{const R=P,j=R.getAttribute("data-href");if(!j)return;t.metadataCache.getFirstLinkpathDest(j,a.path)||P.classList.add("is-unresolved"),R.addEventListener("mouseover",W=>{W.stopPropagation(),t.workspace.trigger("hover-link",{event:W,source:"thino",hoverParent:r.containerEl,targetEl:R,linktext:j,sourcePath:R.href})})})}F()},[a.content,c]);const T=async()=>{switch(g.sourceType){case"DAILY":await tb(g.id,g.path);break;case"CANVAS":await rb(g.id,g.path);break;case"MULTI":await eb(g.path);break;case"FILE":await nb(g.id,g.path);break}},E=async()=>{if(m)try{if(n.DeleteThinoDirectly)await Me.deleteMemoById(g.id);else{const F=await Me.hideMemoById(g.id);F&&Me.editMemo(F)}}catch(F){new I.Notice(F.message)}else w()},k=async()=>{try{const F=await Me.unarchiveMemo(g);F&&Me.editMemo(F),i(g.id),new I.Notice(O("RESTORE SUCCEED"))}catch(F){new I.Notice(F.message)}},M=()=>{m&&w(!1)};return D.jsxs("div",{ref:c,className:`memo-wrapper ${"memos-"+g.id}`,onMouseLeave:M,children:[D.jsxs("div",{className:"memo-top-wrapper",children:[D.jsxs("span",{className:"time-text",children:[O("ARCHIVED AT")," ",g.updatedAt]}),D.jsxs("div",{className:"btns-container",children:[D.jsx("span",{ref:F=>{F&&I.setIcon(F,"more-horizontal")},className:"btn more-action-btn"}),D.jsx("div",{className:"more-action-btns-wrapper",children:D.jsxs("div",{className:"more-action-btns-container",children:[D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:b.restore,className:"more-action-item-icon"}),D.jsx("span",{className:"btn restore-btn",onClick:k,children:O("RESTORE")})]}),D.jsxs("div",{className:"more-action-menu-item",children:[D.jsx("span",{ref:b.source,className:"more-action-item-icon"}),D.jsx("span",{className:"btn",onClick:T,children:O("SOURCE")})]}),D.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[D.jsx("span",{ref:b.delete,className:"more-action-item-icon"}),D.jsx("span",{className:`btn delete-btn ${m?"final-confirm":""}`,onClick:E,children:O(m?"CONFIRM！":"DELETE")})]})]})})]})]}),D.jsx("div",{ref:s,className:"memo-content-text"})]})},XK=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=A.useContext(It),r=Hf(),[a,i]=A.useState([]),s=Q.useRef(null),c=A.useCallback(({memos:m,query:w,HideDoneTasks:b})=>{const{tag:T,duration:E,type:k,text:M,filter:F}=w,B=ln.getQueryById(F);return!!(T||E&&E.from<E.to||k||M||B)||B||b?m.filter(P=>{let R=!0;if(P.thinoType!==void 0&&b&&P.thinoType==="TASK-DONE"&&(R=!1),P.content.contains("comment:")&&(R=!1),B){const j=JSON.parse(B.querystring);Array.isArray(j)&&(R=Dh(P,j))}if(T){const j=new Set;for(const $ of Array.from(P.content.match(or)??[])){const z=$.replace(or,"$1").trim().split("/");let X="";for(const oe of z)X+=oe,j.add(X),X+="/"}for(const $ of Array.from(P.content.match(Rr)??[])){const z=$.replace(Rr,"$1").trim().split("/");let X="";for(const oe of z)X+=oe,j.add(X),X+="/"}for(const $ of Array.from(P.content.match(Ra)??[])){const z=$.replace(Ra,"$2").trim().split("/");let X="";for(const oe of z)X+=oe,j.add(X),X+="/"}j.has(T)||(R=!1)}return E&&E.from<E.to&&(Ue.getTimeStampByDate(P.createdAt)<E.from||Ue.getTimeStampByDate(P.createdAt)>E.to)&&(R=!1),k&&(k==="NOT_TAGGED"&&(P.content.match(or)!==null||P.content.match(Rr)!==null)||k==="LINKED"&&P.content.match(Af)===null||k==="IMAGED"&&P.content.match(Of)===null||k==="CONNECTED"&&P.content.match(Fu)===null)&&(R=!1),M&&!P.content.toLowerCase().includes(M.toLowerCase())&&(R=!1),R}):m},[]);A.useEffect(()=>{i(c({memos:n.filter(m=>m.rowStatus==="ARCHIVED"&&m.deletedAt===""),query:e,HideDoneTasks:!1})),r.setFinish(),it.clearQuery()},[n,s.current]);const d=A.useCallback(m=>{i(w=>w.filter(b=>b.id!==m))},[]),h=A.useCallback(m=>{i(w=>w.filter(b=>b.id!==m))},[]),g=A.useCallback(()=>{rt.setShowSiderbarInMobileView(!0)},[]);return D.jsxs("div",{className:"memo-trash-wrapper",ref:s,children:[D.jsx("div",{className:"section-header-container",children:D.jsxs("div",{className:"title-text",children:[D.jsx(Io,{when:t,children:D.jsx("button",{ref:m=>{m&&I.setIcon(m,"menu")},className:"btn action-btn clickable-icon",onClick:g})}),D.jsx("span",{className:"normal-text",children:O("ARCHIVE")}),D.jsxs("span",{className:"go-home-btn",onClick:()=>{it.setPathname("/")},children:["🏠 ",O("Return To Home Page")]})]})}),D.jsx(Zv,{}),r.isLoading?D.jsx("div",{className:"tip-text-container",children:D.jsx("p",{className:"tip-text",children:O("Fetching data...")})}):a.length===0?D.jsx("div",{className:"tip-text-container",children:D.jsx("p",{className:"tip-text",children:O("Here is No Memos.")})}):D.jsx("div",{className:"deleted-memos-container",children:a.map(m=>D.jsx(JK,{memo:m,handleUnarchivedMemoAction:h,handleDeletedMemoAction:d},`${m.id}-${m.updatedAt}`))})]})},eQ=()=>{const{dailyNotesState:{app:e},locationState:{query:t},globalState:{isMobileView:n,changedByMemos:r},memoState:{memos:a}}=A.useContext(It),i=Hf(),[s,c]=A.useState([]),[d,h]=A.useState([]),g=Q.useRef(null),m=Q.useRef(null),[w,b]=A.useState(!1),[T,E]=A.useState([]),k=Q.useRef([]),M=A.useCallback(({memos:N,query:P,HideDoneTasks:R})=>{const{tag:j,duration:$,type:W,text:z,filter:X}=P,oe=ln.getQueryById(X);return!!(j||$&&$.from<$.to||W||z||oe)||oe||R?N.filter(de=>{let fe=!0;if(de.thinoType!==void 0&&R&&de.thinoType==="TASK-DONE"&&(fe=!1),de.content.contains("comment:")&&(fe=!1),oe){const De=JSON.parse(oe.querystring);Array.isArray(De)&&(fe=Dh(de,De))}if(j){const De=new Set;for(const xe of Array.from(de.content.match(or)??[])){const we=xe.replace(or,"$1").trim().split("/");let U="";for(const G of we)U+=G,De.add(U),U+="/"}for(const xe of Array.from(de.content.match(Rr)??[])){const we=xe.replace(Rr,"$1").trim().split("/");let U="";for(const G of we)U+=G,De.add(U),U+="/"}for(const xe of Array.from(de.content.match(Ra)??[])){const we=xe.replace(Ra,"$2").trim().split("/");let U="";for(const G of we)U+=G,De.add(U),U+="/"}De.has(j)||(fe=!1)}return $&&$.from<$.to&&(Ue.getTimeStampByDate(de.createdAt)<$.from||Ue.getTimeStampByDate(de.createdAt)>$.to)&&(fe=!1),W&&(W==="NOT_TAGGED"&&(de.content.match(or)!==null||de.content.match(Rr)!==null)||W==="LINKED"&&de.content.match(Af)===null||W==="IMAGED"&&de.content.match(Of)===null||W==="CONNECTED"&&de.content.match(Fu)===null)&&(fe=!1),z&&!de.content.toLowerCase().includes(z.toLowerCase())&&(fe=!1),fe}):N},[]);A.useEffect(()=>{m.current&&(I.setIcon(m.current,"refresh-cw"),e.workspace.on("refresh-review-memos",B))},[m]),A.useEffect(()=>{if(!w)return;const N=[...T].sort(()=>Math.random()-Math.random()).slice(0,10);c(N),b(!1)},[w]),A.useEffect(()=>{if(!(T.length>0))return;const N=[...T].sort(()=>Math.random()-Math.random()).slice(0,10);c(N),b(!1)},[T]),A.useEffect(()=>{g.current&&(E(M({memos:a,query:t,HideDoneTasks:!1}).filter(N=>N.rowStatus!=="ARCHIVED"&&!(N.deletedAt!==""&&N.deletedAt))),i.setFinish(),it.clearQuery())},[a,g.current]),A.useEffect(()=>{if(r&&k.current.length>0){const N=T.filter(R=>k.current.includes(R.id)),P=k.current.map(R=>N.find(j=>j.id===R)).filter(R=>R!==void 0);h(P);return}k.current=s.map(N=>N.id),h(s)},[s]),A.useEffect(()=>{if(s.length===0)return;const N=M({memos:s,query:t,HideDoneTasks:!1});h(N)},[t]);const F=A.useCallback(()=>{rt.setShowSiderbarInMobileView(!0)},[]),B=()=>{b(!0)};return D.jsxs("div",{className:"memo-review-wrapper",ref:g,children:[D.jsx("div",{className:"section-header-container",children:D.jsxs("div",{className:"title-wrapper",children:[D.jsxs("div",{className:"title-btns-left-wrapper",children:[D.jsx(Io,{when:n,children:D.jsx("button",{ref:N=>{N&&I.setIcon(N,"menu")},className:"btn action-btn clickable-icon",onClick:F})}),D.jsx("span",{className:"normal-text",children:O("Random Review")}),D.jsx("span",{ref:m,onClick:B,className:"refresh-icon"})]}),D.jsx("div",{className:"title-btns-right-wrapper",children:D.jsxs("span",{className:"go-home-btn",onClick:()=>{it.setPathname("/")},children:["🏠 ",O("Return To Home Page")]})})]})}),D.jsx(Zv,{}),i.isLoading?D.jsx("div",{className:"tip-text-container",children:D.jsx("span",{className:"tip-text",children:O("Fetching data...")})}):a.length===0?D.jsx("div",{className:"tip-text-container",children:D.jsx("span",{className:"tip-text",children:O("Here is No Memos.")})}):D.jsx("div",{className:"review-memos-container",children:d.map(N=>D.jsx(pl,{memo:N},`${N==null?void 0:N.id}-${N.createdAt}`))})]})},tQ={"/recycle":D.jsx(KK,{}),"/setting":D.jsx(ZK,{}),"/archive":D.jsx(XK,{}),"/review":D.jsx(eQ,{}),"*":D.jsx($K,{})},_4=e=>t=>{for(const n of Object.keys(e))if(n===t)return e[n];return e["*"]},nQ=_4(oN),rQ=_4(tQ);function aQ({app:e}){const{locationState:{pathname:t},dailyNotesState:{settings:n}}=A.useContext(It);return!G2()&&!e.plugins.getPlugin("periodic-notes")&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&new I.Notice(O("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),D.jsx(If,{store:Ce,context:It,children:nQ(t)})}const Fr="thino_view";class oQ extends I.EditorSuggest{constructor(n,r){super(n);ve(this,"root");ve(this,"editor");ve(this,"cursor");ve(this,"plugin");this.plugin=r}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const a=(i=r.parentElement)==null?void 0:i.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}onTrigger(n,r){const i=r.getLine(n.line)[n.ch-1];return this.checkInMemosView(r)&&i==="@"?(this.cursor=n,this.editor=r,I.Platform.isMobile?(new j3(this.app,"text",s=>{this.selectSuggestion(parseInt(s),new MouseEvent("click"))}).open(),null):{start:{line:n.line,ch:n.ch-1},end:n,query:""}):null}getSuggestions(){return[parseInt(I.moment().startOf("day").format("x"))]}renderSuggestion(n,r){var a;(a=this.suggestEl)==null||a.addClass("memos-date-selector"),r.empty(),this.root=Ou.createRoot(r),this.root.render(D.jsx(Q.StrictMode,{children:D.jsx(Cv,{className:"editor-date-picker",datestamp:n,handleDateStampChange:this.selectSuggestion.bind(this)})}))}selectSuggestion(n,r){var s;if(r instanceof KeyboardEvent||r instanceof PointerEvent&&!r.target.hasClass("day-item")&&!r.target.hasClass("null"))return;let a="",i="";switch(this.plugin.settings.InsertDateFormat){case"Dataview":a="[due::",i="]";break;case"Tasks":a="📆";break}this.editor.replaceRange(a+I.moment(n).format("YYYY-MM-DD")+i,{line:this.cursor.line,ch:this.cursor.ch-1},this.cursor),(s=this.root)==null||s.unmount(),this.close()}}class iQ extends I.EditorSuggest{constructor(n,r){super(n);ve(this,"root");ve(this,"editor");ve(this,"cursor");ve(this,"plugin");ve(this,"memos",[]);this.plugin=r,this.memos=Me.getState().memos.filter(a=>!a.deletedAt&&a.rowStatus!=="ARCHIVED")}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const a=(i=r.parentElement)==null?void 0:i.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const a=I.prepareFuzzySearch(n);return r.map(i=>{const s=a(i.content);return s?{item:i,match:s}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r))return null;const i=r.getLine(n.line).slice(0,n.ch);if(i.lastIndexOf("~")===-1)return null;const s=i.slice(i.lastIndexOf("~")+1,n.ch);if(i[i.lastIndexOf("~")-1]!==" "&&i.lastIndexOf("~")!==0)return null;const c=s.trim();return this.memos=Me.getState().memos.filter(d=>!d.deletedAt&&d.rowStatus!=="ARCHIVED"),{start:{line:n.line,ch:n.ch-c.length},end:n,query:c}}getSuggestions(n){return n.query?this.fuzzySearchItemsOptimized(n.query,this.memos).sort((a,i)=>i.match.score-a.match.score).map(a=>a.item).map(a=>({time:a.createdAt,id:a.id,content:a.content})):this.memos.map(a=>({time:a.createdAt,id:a.id,content:a.content}))}renderSuggestion(n,r){r.toggleClass("thino-suggestion",!0),r.createEl("div",{cls:"thino-suggestion-time",text:n.time}),r.createEl("div",{cls:"thino-suggestion-container"}).createEl("div",{cls:"thino-suggestion-content",text:n.content})}selectSuggestion(n){const r=n.id;this.context.editor.replaceRange("MARK: [@THINO]("+r+")",{line:this.context.end.line,ch:this.context.start.ch-1},this.context.end)}}class sQ{constructor(){ve(this,"path","/fake-file-that-generated-for-thino.png");ve(this,"basename","fake-file-that-generated-for-thino");ve(this,"extension","png");ve(this,"deleted",!1);ve(this,"name","fake-file-that-generated-for-thino.png");ve(this,"parent",null);ve(this,"stat");ve(this,"vault",null)}static[Symbol.hasInstance](t){return t instanceof I.TFile}setPath(t){}getNewPathAfterRename(t){}getShortName(){}cache(t){}updateCacheLimit(){}}function lQ(e){try{const t=Ou.createRoot(e);return t.render(D.jsx(Q.StrictMode,{children:D.jsx(If,{store:Ce,context:It,children:D.jsx(Gp,{})})})),t}catch{}}class yu extends I.ItemView{constructor(n,r){super(n);ve(this,"scope",new I.Scope(this.app.scope));ve(this,"root");ve(this,"plugin");ve(this,"hoverPopover");ve(this,"memosComponent");ve(this,"editor",null);ve(this,"navigation",!1);ve(this,"file",new sQ);this.plugin=r,this.registerScope()}getDisplayText(){return"Thino"}getIcon(){return"Memos"}getViewType(){return Fr}getMode(){return"source"}registerScope(){const{scope:n}=this;n.register(["Mod"],"Enter",()=>{});for(let r=0;r<bf.length-1;r++)n.register(["Alt"],(r+1).toString(),()=>{});n.register([],"i",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-textarea"))}),n.register(["Mod"],"f",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"o",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"Escape",()=>{setTimeout(()=>{this.plugin.app.workspace.trigger("blur-on-memos")},20)})}async onFileDeleted(n){var d,h,g;const r=_p(n,"day"),a=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),s=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",c=(g=((h=n.parent)==null?void 0:h.path)||n.path)==null?void 0:g.contains(s==null?void 0:s.trim());(r||a&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="CANVAS"))&&(await Me.removeMemosInFile(n),Me.updateTagsState()),c&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="MULTI")&&(await Me.removeMemosInFile(n,s),Me.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="FILE")&&(await Me.removeMemosInFile(n),Me.updateTagsState())}async onFileModified(n){var d;if(rt.getState().changedByMemos){rt.setChangedByMemos(!1);return}const r=_p(n,"day"),a=n.path.contains(".thino")&&n.path.contains(".canvas"),i=n.path.contains(".thino")&&n.path.contains(".md"),s=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",c=n.parent.path.contains(s==null?void 0:s.trim());if(r||a&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="CANVAS")){await Me.updateMemosInFile(n),Me.updateTagsState();return}c&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="MULTI")&&(await Me.updateMemosInFile(n,s),Me.updateTagsState()),i&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="FILE")&&(await Me.updateMemosInFile(n),Me.updateTagsState())}async onFileCreated(n){var r;if(this.app.workspace.layoutReady&&this.memosComponent){const a=_p(n,"day"),i=n.path.contains(".thino")&&n.path.contains(".canvas"),s=n.path.contains(".thino")&&n.path.contains(".md"),c=((r=this.plugin.settings)==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",d=n.parent.path.contains(c==null?void 0:c.trim());if(a){await ut.updateDailyNotes(n,!1),await Me.updateMemosInFile(n),Me.updateTagsState();return}if(i&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="CANVAS")){await Me.updateMemosInFile(n),Me.updateTagsState();return}d&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="MULTI")&&(await Me.updateMemosInFile(n,c),Me.updateTagsState()),s&&this.plugin.settings.EnabledLocationList.find(h=>h.value==="FILE")&&(await Me.updateMemosInFile(n),Me.updateTagsState())}}async onResize(){var r;super.onResize();const n=this.leaf;if(n&&n.height!==0){if(n.width>950){n.view.containerEl.classList.toggle("mobile-view",!1),rt.setIsMobileView(n.width<=950);return}if((r=this.plugin.settings)!=null&&r.ShowLeftSideBar&&!I.Platform.isMobile)return;n.view.containerEl.classList.toggle("mobile-view",!0),rt.setIsMobileView(n.width<=950)}}async onOpen(){this.navigation=this.plugin.settings.navigation,await this.onResize(),this.onFileCreated=this.onFileCreated.bind(this),this.onFileDeleted=this.onFileDeleted.bind(this),this.onFileModified=this.onFileModified.bind(this),this.registerEvent(this.app.vault.on("create",this.onFileCreated)),this.registerEvent(this.app.vault.on("delete",this.onFileDeleted)),this.registerEvent(this.app.vault.on("modify",I.debounce(this.onFileModified,2e3,!0)));try{this.root=Ou.createRoot(this.contentEl),ut.setView(this),this.root.render(D.jsx(Q.StrictMode,{children:D.jsx(aQ,{app:this.plugin.app})}))}catch{}}onunload(){super.onunload(),this.root.unmount()}}const d2={Memos:'<svg t="1641348507339" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2120" width="100" height="100"><path d="M126.692653 478.099639l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356 0 18.992434 15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297C161.116003 493.523561 145.706067 478.099639 126.692653 478.099639zM244.662333 243.526943c13.742566-13.110184 14.310011-34.948836 1.185841-48.706388l-62.644762-65.668806c-13.128167-13.762547-34.974811-14.229091-48.717377-1.118906s-14.261059 34.911872-1.132893 48.674419l62.644762 65.668806C209.123074 256.13262 230.919767 256.637127 244.662333 243.526943zM543.066631 957.422083l-60.603757 0c-18.654764 0-33.794964 15.147193-33.794964 33.862898 0 18.661757 15.1402 32.71502 33.794964 32.71502l60.603757 0c18.654764 0 33.794964-14.053262 33.794964-32.71502C576.861595 972.568277 561.721395 957.422083 543.066631 957.422083zM988.076617 479.050709l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356s15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297S1007.09003 479.050709 988.076617 479.050709zM512.268737 192.765564c-172.737143 0-312.75527 150.079292-312.75527 322.746503 0 125.630192 74.080583 233.957298 180.936128 283.703669l0 84.51838c0 16.762614 15.410935 31.35435 34.42335 31.35435 0.598415 0 1.193833-0.014985 1.785255-0.042958 0.618395 0.026974 1.239788 0.042958 1.867175 0.042958l187.479731 0c5.905227 0 11.455802-1.220807 16.288078-3.477601 12.231044-4.657447 20.795671-15.383962 20.795671-27.87575l0-84.052835c107.391021-49.534578 181.935151-158.147405 181.935151-284.168214C825.024007 342.843857 684.997888 192.765564 512.268737 192.765564zM574.863548 742.713968l0 80.17063c0 3.159911-0.221783 5.976158-0.642372 8.496694l0 19.092336-124.910895 0 0-17.71768c-0.423586-2.856208-0.642372-6.123015-0.642372-9.870351l0-80.443363c-99.204024-27.75387-171.970892-118.821847-171.970892-226.930167 0-130.094827 105.4689-245.507007 235.571719-245.507007s235.563727 115.41218 235.563727 245.507007C747.832465 623.984031 674.578074 715.293772 574.863548 742.713968zM895.407204 129.328576c-13.429872-13.429872-35.233558-13.439862-48.677416 0.004995l-64.174267 64.175266c-13.448853 13.448853-13.443858 35.257534-0.013986 48.687406 13.429872 13.429872 35.281511 13.477825 48.730364 0.028972l64.175266-64.175266C908.889025 164.605092 908.837076 142.758448 895.407204 129.328576zM511.796199 159.617967c18.992434 0 34.417356-15.410935 34.417356-34.42335l0-90.757281c0-19.019408-15.423923-34.437336-34.417356-34.437336-18.992434 0-34.477297 15.416929-34.477297 34.437336l0 90.757281C477.317903 144.208031 492.802766 159.617967 511.796199 159.617967z" fill="currentColor" p-id="2121"></path></svg>'};function uQ(){Object.keys(d2).forEach(e=>{I.addIcon(e,d2[e])})}class p2 extends B3{fuzzySearchItemsOptimized(t,n){const r=I.prepareFuzzySearch(t);return n.map(a=>{const i=r(a.path);return i?{item:a,match:i,score:i.score}:null}).sort((a,i)=>(i==null?void 0:i.score)-(a==null?void 0:a.score)).filter(Boolean)}getSuggestions(t){const r=app.vault.getFiles().filter(i=>["png","jpg","jpeg","gif"].includes(i.extension)),a=t.toLowerCase();return this.fuzzySearchItemsOptimized(a,r).map(i=>i.item)}renderSuggestion(t,n){var i;const r=t.basename,a=((i=t.parent)==null?void 0:i.path)??"";n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:r}),n.createSpan({cls:"suggestion-path",text:a})}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}}const cQ={General:"chef-hat",Thino:"Memos",Theme:"brush",Share:"share-2",Advanced:"cog"},P4=[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"},{value:"CANVAS",target:"MemoDefaultCanvasPath"},{value:"MULTI",target:"MemoDefaultMultiFilePath"},{value:"FILE",target:"MemoDefaultSingleFilePath"}],xo={StartDate:"Sunday",InsertAfter:"# Journal",UserName:"THINO 😉",ProcessEntriesBelow:"",Language:"en",SaveMemoButtonLabel:"NOTEIT",SaveMemoButtonIcon:"✍️",ShareFooterStart:"{ThinoNum} Thino {UsedDay} Day",ShareFooterEnd:"✍️ by {UserName}",DefaultPrefix:"List",UseDailyOrPeriodic:"Daily",InsertDateFormat:"Tasks",DefaultEditorLocation:"Top",UseButtonToShowEditor:!1,FocusOnEditor:!0,OpenDailyMemosWithMemos:!0,HideDoneTasks:!1,ShowTaskLabel:!1,MobileAndDesktop:"All",OpenMemosAutomatically:!1,ShowTime:!0,ShowDate:!0,AddBlankLineWhenDate:!1,AutoSaveWhenOnMobile:!1,DeleteFileName:"delete",QueryFileName:"query",UseVaultTags:!1,SetCustomBackgroundImage:!1,SetCustomMemoFooter:!1,DefaultLightBackgroundImage:"",DefaultDarkBackgroundImage:"",DefaultMemoComposition:"{TIME} {CONTENT}",CommentOnMemos:!1,CommentsInOriginalNotes:!1,FetchMemosMark:"#memo",FetchMemosFromNote:!1,ShowCommentOnMemos:!1,ShowLeftSideBar:!1,MemoListView:"list",MemoSaveLocation:"DAILY",MemoOtherSaveLocation:{MemoDefaultCanvasPath:"basic.thino.canvas",MemoDefaultMultiFilePath:"Thino",MemoDefaultSingleFilePath:"basic.thino.md"},MemoDailyTarget:5,HeatmapColorScheme:"default",EnabledHttpApi:!1,HttpApiIpType:"localhost",HttpApiPort:"43999",AutoDownloadImage:!1,EditorType:"obsidian",EnabledLocationList:P4,DeleteThinoDirectly:!1,CaptureKey:{EnableCaptureKey:!1,OpenThinoGlobally:"CommandOrControl+Shift+T",ShowNearMouse:!1},startSync:!1,tokenForVerify:{},saveThinoType:"FILE",showDayMark:!1,navigation:!1};function fQ({plugin:e}){const{dailyNotesState:{verifyState:t}}=A.useContext(It),[n,r]=A.useState(!1),[a,i]=A.useState(!1),[s,c]=A.useState(""),d=async()=>{const g=s;g&&(e.settingTab.updateSettings("tokenForVerify",{[e.app.appId]:g}),e.verify().then(m=>{m&&(r(!0),rt.setRefresh(!0),setTimeout(()=>{e.settingTab.display()},200),e.registerToolbarCheck()),new I.Notice(O(m?"Verify successfully":"Failed to verify"))}))},h=async g=>{c(g)};return D.jsx("div",{className:"thino-verify-component",children:t?D.jsxs("div",{className:"thino-verify-content verified",children:[D.jsx("div",{className:"thino-verified-text",children:O("You have verified your account. Congrats!")}),D.jsx("div",{className:"thino-description-link",children:D.jsxs("p",{children:[O("If you have any questions, please contact us."),D.jsx("span",{className:"thino-url",onClick:()=>{const g=localStorage.getItem("language");g&&(g==="zh"||g==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})})]}):D.jsxs("div",{className:"thino-verify-content",children:[D.jsxs("div",{className:"thino-description-link",children:[O("You can buy a license from")+"->",D.jsxs("span",{className:"thino-url",onClick:()=>{const g=localStorage.getItem("language");g&&(g==="zh"||g==="zh-TW")?window.open("https://pkmer.cn/products/thino"):window.open("https://thino.pkmer.net/en/#price")},children:[" ","PKMer"]})]}),D.jsx("textarea",{className:"thino-verify-textarea",value:s,onChange:g=>h(g.target.value),placeholder:O("Input activation code here")}),D.jsxs("div",{className:"thino-button-container",children:[D.jsxs("div",{className:"thino-button-group",children:[D.jsx("button",{onClick:async()=>{I.Platform.isMobile?await navigator.clipboard.writeText(e.app.appId.replace(/\//g,"-")):await navigator.clipboard.writeText(e.app.appId),i(!0),new I.Notice(O("Copied to clipboard Successfully"))},children:O("Copy Thino id")}),D.jsx("button",{onClick:()=>{if(!a){new I.Notice(O("Please copy Thino id first"));return}const g=localStorage.getItem("language");g&&(g==="zh"||g==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&getCode"):window.open("https://pkmer.net/en/userprofile/#tab-21&getCode"),r(!0)},children:O("Get activation code")}),s&&D.jsx(D.Fragment,{children:D.jsx("button",{onClick:async()=>{await d()},children:O("Verify")})})]}),n?D.jsx("p",{children:O("After you verify your account, please refresh this page.")}):""]}),D.jsxs("div",{className:"thino-description-link",children:[O("If you have any questions, please contact us."),D.jsx("span",{className:"thino-url",onClick:()=>{const g=localStorage.getItem("language");g&&(g==="zh"||g==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})]})})}class dQ extends I.PluginSettingTab{constructor(n,r){super(n,r);ve(this,"plugin");ve(this,"applyDebounceTimer",0);ve(this,"tabContent",new Map);ve(this,"selectedTab","General");ve(this,"search");ve(this,"searchSettingInfo",new Map);ve(this,"searchZeroState");ve(this,"navigateEl");ve(this,"root");ve(this,"debounceApplySettingsUpdate",I.debounce(async()=>{await this.plugin.saveSettings()},100,!0));this.plugin=r}updateSettings(n,r){this.plugin.settings={...this.plugin.settings,[n]:r},this.applySettingsUpdate()}applySettingsUpdate(){this.debounceApplySettingsUpdate(),Me.updateTagsState()}async hide(){var n;(n=this.root)==null||n.unmount()}async display(){var n;await this.plugin.loadSettings(),this.root&&((n=this.root)==null||n.unmount()),this.containerEl.empty(),this.containerEl.toggleClass("memos-settings",!0),I.Platform.isMobile&&this.containerEl.toggleClass("memos-mobile",!0),this.generateSettingsTitle(),this.addTabHeader()}generateSettingsTitle(){const n=this.containerEl.createDiv("memos-setting-title");n.createEl("h2",{text:"Thino"}),this.generateSearchBar(n)}addTabHeader(){const n=this.containerEl.createEl("nav",{cls:"memos-setting-header"});this.navigateEl=n.createDiv("memos-setting-tab-group");const r=this.containerEl.createDiv("memos-setting-content");this.updateOldData(),this.createTabAndContent("General",this.navigateEl,r,(a,i)=>this.generateGeneralSettings(i,a)),this.createTabAndContent("Thino",this.navigateEl,r,(a,i)=>this.generateMemosSettings(i,a)),this.createTabAndContent("Theme",this.navigateEl,r,(a,i)=>this.generateThemeSettings(i,a)),this.createTabAndContent("Share",this.navigateEl,r,(a,i)=>this.generateShareSettings(i,a)),this.createTabAndContent("Advanced",this.navigateEl,r,(a,i)=>this.generateAdvancedSettings(i,a)),this.createSearchZeroState(r)}updateOldData(){this.plugin.settings.UserName.startsWith("MEMO ")&&(this.plugin.settings.UserName="THINO 😉"),this.plugin.settings.ShareFooterStart.contains("{Memo")&&(this.plugin.settings.ShareFooterStart=this.plugin.settings.ShareFooterStart.replace("{MemosNum}","{ThinoNum}").replace("memos","thino")),this.applySettingsUpdate()}generateSearchBar(n){const r=new I.Setting(n);r.settingEl.style.border="none",r.addSearch(a=>{this.search=a}),this.search.setPlaceholder(O("Search all settings")),this.search.inputEl.oninput=()=>{for(const a of this.tabContent){const i=a[1];i.navButton.removeClass("memos-navigation-item-selected"),i.content.show(),i.heading.show();const s=this.search.getValue();this.selectedTab==""&&s.trim()!=""&&this.searchSettings(s.toLowerCase()),this.selectedTab=""}this.navigateEl.addClass("memos-setting-searching")},this.search.inputEl.onblur=()=>{this.navigateEl.removeClass("memos-setting-searching")},this.search.onChange(a=>{var i;if(a===""){this.triggerTabChange((i=this.tabContent.get("General"))==null?void 0:i.navButton,"General");return}this.searchSettings(a.toLowerCase())})}triggerTabChange(n,r){if(this.selectedTab==r)return;n.toggleClass("memos-navigation-item-selected",!0);const a=this.tabContent.get(r);if((a==null?void 0:a.content).show(),this.selectedTab!=""){const i=this.tabContent.get(this.selectedTab);i==null||i.navButton.removeClass("memos-navigation-item-selected"),(i==null?void 0:i.content).hide()}else{this.searchZeroState.hide();for(const i of this.searchSettingInfo)for(const s of i[1])s.containerEl.show();for(const i of this.tabContent){const s=i[1];s.heading.hide(),r!==i[0]&&s.content.hide()}}this.selectedTab=r}createTabAndContent(n,r,a,i){const s=this.selectedTab===n,c=r.createDiv("memos-navigation-item");c.toggleClass("memos-desktop",!0),I.setIcon(c.createEl("div",{cls:"memos-navigation-item-icon"}),cQ[n]),c.createSpan({text:O(n)}),c.onclick=()=>{this.triggerTabChange(c,n)};const d=a.createDiv("memos-tab-settings"),h=d.createEl("h2",{cls:"memos-setting-heading",text:n+" Settings"});h.hide(),d.id=n.toLowerCase().replace(" ","-"),s?c.addClass("memos-navigation-item-selected"):d.hide(),i&&i(d,n),this.tabContent.set(n,{content:d,heading:h,navButton:c})}searchSettings(n){var i;const r=new Set,a=(s,c)=>{s.show(),r.has(c)||r.add(c)};for(const s of this.searchSettingInfo){const c=s[0],d=s[1];for(const h of d)if(n.trim()===""||(i=h.alias)!=null&&i.includes(n)||h.description.includes(n)||h.name.includes(n))a(h.containerEl,c);else if(h.options&&h.options.length>0)for(const g of h.options){if(g.description.toLowerCase().includes(n)||g.name.toLowerCase().includes(n)){a(h.containerEl,c);break}else if(g.options){for(const m of g.options)if(m.description.toLowerCase().includes(n)||m.value.toLowerCase().includes(n)){a(h.containerEl,c);break}}h.containerEl.hide()}else h.containerEl.hide()}for(const s of this.tabContent)r.has(s[0])?s[1].heading.show():s[1].heading.hide();r.size===0?this.searchZeroState.show():this.searchZeroState.hide()}addSettingToMasterSettingsList(n,r,a="",i="",s=[],c=""){var h;const d={containerEl:r,name:a.toLowerCase(),description:i.toLowerCase(),options:s,alias:c};this.searchSettingInfo.has(n)?(h=this.searchSettingInfo.get(n))==null||h.push(d):this.searchSettingInfo.set(n,[d])}createSearchZeroState(n){this.searchZeroState=n.createDiv(),this.searchZeroState.hide(),this.searchZeroState.createEl(I.Platform.isMobile?"h3":"h2",{text:"No settings match search"}).style.textAlign="center"}generateGeneralSettings(n,r){this.customHeading(n,r)}generateThemeSettings(n,r){const a=ut.getState().verifyState,i=I.Platform.isMobile?this.plugin.app.appId.replace(/\//g,"-"):this.plugin.app.appId,s=a&&a.appId===i;this.customNameAndTheme(n,r,s)}generateMemosSettings(n,r){this.addMemoSettings(n,r)}generateShareSettings(n,r){this.copyMemosSettings(n,r),this.shareMemosSettings(n,r)}generateAdvancedSettings(n,r){this.saveDataSettings(n,r),this.fetchDataSettings(n,r),this.navigationSettings(n,r);const a=ut.getState().verifyState,i=I.Platform.isMobile?this.plugin.app.appId.replace(/\//g,"-"):this.plugin.app.appId,s=a&&a.appId===i;this.customFileNameSettings(n,r,s),this.setGlobalSettings(n,r,s)}async customNameAndTheme(n,r,a){let i;new ft(r,this).setName(O("Heatmap Color Scheme")).setDesc(O("Set different color scheme for heatmap.")).setTab(n).addDropdown(async s=>{i=s,i.addOption("default","default"),i.addOption("gray","gray"),i.addOption("grass","grass"),i.addOption("frame","frame"),i.addOption("olive","olive"),i.addOption("ice","ice"),i.addOption("magenta","magenta"),i.setValue(this.plugin.settings.HeatmapColorScheme).onChange(async c=>{this.plugin.settings.HeatmapColorScheme=c,this.applySettingsUpdate()})}),new ft(r,this).setName(O("Hide done tasks in Memo list")).setDesc(O("Hide all done tasks in Memo list. Show done tasks by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.HideDoneTasks).onChange(async c=>{this.plugin.settings.HideDoneTasks=c,this.applySettingsUpdate()})),new ft(r,this).setName(O("Show Tasks Label")).setDesc(O("Show tasks label near the time text. False by default")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.ShowTaskLabel).onChange(async c=>{this.plugin.settings.ShowTaskLabel=c,this.applySettingsUpdate()})),new ft(r,this).setName(O("Save Memo button label")).setDesc(O("The text shown on the save Memo button in the UI. 'NOTEIT' by default.")).setTab(n).addText(s=>s.setPlaceholder(xo.SaveMemoButtonLabel).setValue(this.plugin.settings.SaveMemoButtonLabel).onChange(async c=>{this.plugin.settings.SaveMemoButtonLabel=c,this.applySettingsUpdate()})),new ft(r,this).setName(O("Save Memo button icon")).setDesc(O("The icon shown on the save Memo button in the UI.")).setTab(n).addText(s=>s.setPlaceholder(xo.SaveMemoButtonIcon).setValue(this.plugin.settings.SaveMemoButtonIcon).onChange(async c=>{this.plugin.settings.SaveMemoButtonIcon=c,this.applySettingsUpdate()})),I.Platform.isDesktop&&new ft(r,this).setName(O("Always Show Leaf Sidebar on PC")).setDesc(O("Show left sidebar on PC even when the leaf width is less than 875px. False by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.ShowLeftSideBar).onChange(async c=>{this.plugin.settings.ShowLeftSideBar=c,this.applySettingsUpdate()})),await this.getEditorLocation(r,n),new ft(r,this).setHeading().setTab(n).setName(O("Pro Features")),new ft(r,this).setName(O("Show day mark on list mode")).setDesc(O("Show day mark on the top of daily range thino. False by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.showDayMark).onChange(async c=>{if(!a){vr();return}this.plugin.settings.showDayMark=c,this.applySettingsUpdate()}))}async getEditorLocation(n,r){let a;I.Platform.isMobile&&(new ft(n,this).setName(O("Default editor position on mobile")).setDesc(O("Set the default editor position on Mobile, 'Top' by default.")).setTab(r).addDropdown(async i=>{a=i,a.addOption("Top",O("Top")),a.addOption("Bottom",O("Bottom")),a.setValue(this.plugin.settings.DefaultEditorLocation).onChange(async s=>{this.plugin.settings.DefaultEditorLocation=s,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})}),this.plugin.settings.DefaultEditorLocation!=="Top"&&new ft(n,this).setName(O("Use button to show editor on mobile")).setDesc(O("Set a float button to call editor on mobile. Only when editor located at the bottom works.")).setTab(r).addToggle(i=>i.setValue(this.plugin.settings.UseButtonToShowEditor).onChange(async s=>{this.plugin.settings.UseButtonToShowEditor=s,this.applySettingsUpdate()})))}customHeading(n,r){var b;new ft(r,this).setName(O("User name in Memos")).setDesc(O("Set your user name here. 'Memos 😏' By default")).setTab(n).addText(T=>T.setPlaceholder(xo.UserName).setValue(this.plugin.settings.UserName).onChange(async E=>{this.plugin.settings.UserName=E,this.applySettingsUpdate()}));let a=!1;const i=document.createDocumentFragment();i.createEl("span",{text:O("Connect to PKMer Sync, you can check it in ")});const s=localStorage.getItem("language");let c;s&&s==="zh"?c="https://pkmer.cn/products/UserProfile/#tab-21&activateSync":c="https://thino.pkmer.net/en/",i.createEl("a",{text:O("PKMer Sync"),attr:{href:c}});const d=!!((b=this.plugin.app)!=null&&b.loadLocalStorage("tokenForSync"));d&&new ft(r,this).setHeading().setName(O("Sync service")).setTab(n),(s==="zh"||s==="zh-TW")&&new ft(r,this).setName(O("Sync Thino via PKMer")).setDesc(i).setTab(n).addButton(T=>{var k;const E=(k=this.plugin.app)==null?void 0:k.loadLocalStorage("tokenForSync");T.setButtonText(O(E?"Unlink":"Link")).onClick(async()=>{var M;if(!E){const F=localStorage.getItem("language");F&&(F==="zh"||F==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&activateSync"):window.open("https://thino.pkmer.net/en/");return}if(!a){T.setButtonText(O("Confirm?")),a=!0;return}a=!1,E&&((M=this.plugin.app)==null||M.saveLocalStorage("tokenForSync",""),new I.Notice(O("Remove successfully"))),rt.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(s==="zh"||s==="zh-TW")&&this.showSyncStatus(r,n),d&&new ft(r,this).setHeading().setName(O("Pro verification status")).setTab(n);const h=document.createDocumentFragment(),g=h.createEl("div",{cls:"thino-activation"}),m=new ft(r,this).setName(O("Activate Pro Version")).setDesc(h).setTab(n);m.settingEl.toggleClass("thino-activation-setting",!0),m.nameEl.toggleClass("thino-activation-title",!0),this.root=Ou.createRoot(g),this.root.render(D.jsx(If,{store:Ce,context:It,children:D.jsx(fQ,{plugin:this.plugin})}));let w=!1;new ft(r,this).setName(O("Deactivate")).setTab(n).addButton(T=>{T.setWarning().setButtonText(O("Remove")).onClick(async()=>{if(!w){T.setButtonText(O("Confirm?")),w=!0;return}w=!1,this.plugin.settings.tokenForVerify[this.plugin.app.appId]&&(delete this.plugin.settings.tokenForVerify[this.plugin.app.appId],await this.plugin.saveSettings(),new I.Notice(O("Remove successfully"))),await this.plugin.verify(),rt.setRefresh(!0),setTimeout(()=>{this.display()},20)})})}showSyncStatus(n,r){var i;(i=this.plugin.app)!=null&&i.loadLocalStorage("tokenForSync")&&(new ft(n,this).setName(O("Save thino type when sync local")).setDesc(O("Set the default save thino type when sync local, FILE by default.")).setTab(r).addDropdown(async s=>{s.addOption("DAILY",O("DAILY")),s.addOption("FILE",O("FILE")),s.setValue(this.plugin.settings.saveThinoType).onChange(async c=>{this.plugin.settings.saveThinoType=c,this.applySettingsUpdate()})}),new ft(n,this).setName(O("Sync Status")).setDesc(O("Start or stop sync")).setTab(r).addButton(s=>{s.setButtonText(this.plugin.settings.startSync?O("Stop"):O("Start")).onClick(async()=>{this.plugin.settings.startSync=!this.plugin.settings.startSync,await this.plugin.saveSettings(),rt.setRefresh(!0),new I.Notice(this.plugin.settings.startSync?O("Start sync successfully"):O("Stop sync successfully")),setTimeout(()=>{this.display()},200)})}))}addMemoSettings(n,r){new ft(r,this).setName(O("Use Tags In Vault")).setDesc(O("Use tags in vault rather than only in Memos. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.UseVaultTags).onChange(async s=>{this.plugin.settings.UseVaultTags=s,this.applySettingsUpdate()})),new ft(r,this).setName(O("Focus on editor when open memos")).setDesc(O("Focus on editor when open memos. Focus by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.FocusOnEditor).onChange(async s=>{this.plugin.settings.FocusOnEditor=s,this.applySettingsUpdate()})),new ft(r,this).setName(O("Open daily memos with open memos")).setDesc(O("Open daily memos with open memos. Open by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.OpenDailyMemosWithMemos).onChange(async s=>{this.plugin.settings.OpenDailyMemosWithMemos=s,this.applySettingsUpdate()})),new ft(r,this).setName(O("Open Memos when obsidian opens")).setDesc(O("When enable this, Memos will open when Obsidian opens. False by default.")).setTab(n).addDropdown(i=>{i.addOption("Desktop","Desktop"),i.addOption("Mobile","Mobile"),i.addOption("All","All"),i.setValue(this.plugin.settings.MobileAndDesktop).onChange(async s=>{this.plugin.settings.MobileAndDesktop=s,this.applySettingsUpdate()})}).addToggle(i=>i.setValue(this.plugin.settings.OpenMemosAutomatically).onChange(async s=>{this.plugin.settings.OpenMemosAutomatically=s,this.applySettingsUpdate()}));let a;new ft(r,this).setName(O("Default prefix")).setDesc(O("Set the default prefix when create memo, 'List' by default.")).setTab(n).addDropdown(async i=>{a=i,a.addOption("List",O("List")),a.addOption("Task",O("Task")),a.setValue(this.plugin.settings.DefaultPrefix).onChange(async s=>{this.plugin.settings.DefaultPrefix=s,this.applySettingsUpdate()})}),new ft(r,this).setName(O("Default insert date format")).setDesc(O("Set the default date format when insert date by @, 'Tasks' by default.")).setTab(n).addDropdown(async i=>{a=i,a.addOption("Tasks","Tasks"),a.addOption("Dataview","Dataview"),a.setValue(this.plugin.settings.InsertDateFormat).onChange(async s=>{this.plugin.settings.InsertDateFormat=s,this.applySettingsUpdate()})})}memosCommentSettings(n,r){new ft(r,this).setName(O("Allow Comments On Memos")).setDesc(O("You can comment on memos. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.CommentOnMemos).onChange(async i=>{this.plugin.settings.CommentOnMemos=i,this.applySettingsUpdate(),this.display()})),this.plugin.settings.CommentOnMemos&&(new ft(r,this).setName(O("Always Show Memo Comments")).setDesc(O("Always show memo comments on memos. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowCommentOnMemos).onChange(async i=>{this.plugin.settings.ShowCommentOnMemos=i,this.applySettingsUpdate()})),new ft(r,this).setName(O("Comments In Original DailyNotes/Notes")).setDesc(O("You should install Dataview Plugin ver 0.5.9 or later to use this feature.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.CommentsInOriginalNotes).onChange(async i=>{this.plugin.settings.CommentsInOriginalNotes=i,this.applySettingsUpdate()})))}copyMemosSettings(n,r){new ft(r,this).setName(O("Show Time When Copy Results")).setDesc(O("Show time when you copy results, like 12:00. Copy time by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowTime).onChange(async i=>{this.plugin.settings.ShowTime=i,this.applySettingsUpdate()})),new ft(r,this).setName(O("Show Date When Copy Results")).setDesc(O("Show date when you copy results, like [[2022-01-01]]. Copy date by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowDate).onChange(async i=>{this.plugin.settings.ShowDate=i,this.applySettingsUpdate()})),new ft(r,this).setName(O("Add Blank Line Between Different Date")).setDesc(O("Add blank line when copy result with date. No blank line by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.AddBlankLineWhenDate).onChange(async i=>{this.plugin.settings.AddBlankLineWhenDate=i,this.applySettingsUpdate()}))}shareMemosSettings(n,r){new ft(r,this).setName(O("Save Shared Image To Folder For Mobile")).setDesc(O("Save image to folder for mobile. False by Default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.AutoSaveWhenOnMobile).onChange(async i=>{this.plugin.settings.AutoSaveWhenOnMobile=i,this.applySettingsUpdate()})),this.customMemoFooter(n,r),new ft(r,this).setName(O("Custom Background Image")).setDesc(O("Set custom background image.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.SetCustomBackgroundImage).onChange(async i=>{this.plugin.settings.SetCustomBackgroundImage=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomBackgroundImage&&(new ft(r,this).setName(O("Background Image in Light Theme")).setDesc(O('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new p2(a.inputEl),a.setPlaceholder(xo.DefaultLightBackgroundImage).setValue(this.plugin.settings.DefaultLightBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultLightBackgroundImage=i,this.applySettingsUpdate()})}),new ft(r,this).setName(O("Background Image in Dark Theme")).setDesc(O('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new p2(a.inputEl),a.setPlaceholder(xo.DefaultDarkBackgroundImage).setValue(this.plugin.settings.DefaultDarkBackgroundImage).onChange(async i=>{this.plugin.settings.DefaultDarkBackgroundImage=i,this.applySettingsUpdate()})}))}customMemoFooter(n,r){new ft(r,this).setName(O("Custom Memo Footer")).setDesc(O("Set custom memo footer.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.SetCustomMemoFooter).onChange(async i=>{this.plugin.settings.SetCustomMemoFooter=i,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomMemoFooter&&(new ft(r,this).setName(O("Share Memos Image Footer Start")).setDesc(O("Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default")).setTab(n).addText(a=>a.setPlaceholder(xo.ShareFooterStart).setValue(this.plugin.settings.ShareFooterStart).onChange(async i=>{this.plugin.settings.ShareFooterStart=i,this.applySettingsUpdate()})),new ft(r,this).setName(O("Share Memos Image Footer End")).setDesc(O("Set anything you want here, use {UserName} as your username. '✍️ By {UserName}' By default")).setTab(n).addText(a=>a.setPlaceholder(xo.ShareFooterEnd).setValue(this.plugin.settings.ShareFooterEnd).onChange(async i=>{this.plugin.settings.ShareFooterEnd=i,this.applySettingsUpdate()})))}saveDataSettings(n,r){new ft(r,this).setName(O("Default Memo Composition")).setDesc(O('Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default')).setTab(n).addText(i=>i.setPlaceholder(xo.DefaultMemoComposition).setValue(this.plugin.settings.DefaultMemoComposition).setDisabled(!0).onChange(async s=>{this.plugin.settings.DefaultMemoComposition=s,this.applySettingsUpdate()}));let a;new ft(r,this).setName(O("Default Editor Mode")).setDesc(O("Live-Preview Mode OR Source Mode.")).setTab(n).addDropdown(async i=>{a=i,a.addOption("obsidian",O("Live-preview")),a.addOption("memos",O("Source")),a.setValue(this.plugin.settings.EditorType).onChange(async s=>{this.plugin.settings.EditorType=s,this.applySettingsUpdate()})}),new ft(r,this).setName(O("Delete Thino Directly")).setDesc(O("When delete thino directly, it will not be moved to trash. False by default.")).setTab(n).addToggle(i=>{i.setValue(this.plugin.settings.DeleteThinoDirectly).onChange(async s=>{this.plugin.settings.DeleteThinoDirectly=s,this.applySettingsUpdate()})})}initHttpServer(n,r){const a=ut.getState().verifyState,i=I.Platform.isMobile?this.plugin.app.appId.replace(/\//g,"-"):this.plugin.app.appId,s=a&&(a==null?void 0:a.appId)===i;new ft(n,this).setName(O("Enable Local Http Server")).setTab(r).setDisabled(!s).addToggle(c=>c.setValue(this.plugin.settings.EnabledHttpApi).onChange(async d=>{if(!s){vr();return}this.plugin.settings.EnabledHttpApi=d,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.settings.EnabledHttpApi?this.plugin.initServer():this.plugin.stopServer(),this.display()},100)})),this.plugin.settings.EnabledHttpApi&&(new ft(n,this).setName(O("Memos Http Server Port")).setDesc(O("Set memos http server port to listen. '43999' by default")).setTab(r).addText(c=>c.setPlaceholder(xo.HttpApiPort).setValue(this.plugin.settings.HttpApiPort).onChange(async d=>{if(!s){vr();return}this.plugin.settings.HttpApiPort=d,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})),new ft(n,this).setName("Auto Download Image").setDesc("Auto download image when save to thino. 'false' by default").setTab(r).setDisabled(!s).addToggle(c=>{c.setValue(this.plugin.settings.AutoDownloadImage).onChange(async d=>{if(!s){vr();return}this.plugin.settings.AutoDownloadImage=d,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}),new ft(n,this).setName("Thino Http IP Type").setDesc("Set Thino http server ip to listen. 'localhost' by default").setTab(r).addDropdown(c=>{c.addOption("localhost","localhost"),c.addOption("127.0.0.1","127.0.0.1"),c.setValue(this.plugin.settings.HttpApiIpType).onChange(async d=>{var h;if(!a&&(a==null?void 0:a.appId)!==((h=this.plugin.app)==null?void 0:h.appId)){vr();return}this.plugin.settings.HttpApiIpType=d,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}))}fetchDataSettings(n,r){let a;new ft(r,this).setName(O("Use which plugin's default configuration")).setDesc(O("Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.")).setTab(n).addDropdown(async i=>{a=i,a.addOption("Daily",O("Daily")),a.addOption("Periodic","Periodic"),a.setValue(this.plugin.settings.UseDailyOrPeriodic).onChange(async s=>{this.plugin.settings.UseDailyOrPeriodic=s,this.applySettingsUpdate()})})}navigationSettings(n,r){new ft(r,this).setName(O("Allow navigation from view to Thino or Thino to view")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.navigation).onChange(async i=>{this.plugin.settings.navigation=i,this.applySettingsUpdate()}))}setGlobalSettings(n,r,a){new ft(r,this).setHeading().setTab(n).setName(O("Pro Features")),new ft(r,this).setName(O("Default save location")).setDesc(O('Set the default save location for thino. "DAILY" by default')).setTab(n).addDropdown(async i=>{for(const s of this.plugin.settings.EnabledLocationList)i.addOption(s.value,O(s.value));i.setValue(this.plugin.settings.MemoSaveLocation||this.plugin.settings.EnabledLocationList[0].value).onChange(async s=>{if(!a){vr();return}this.plugin.settings.MemoSaveLocation=s,this.applySettingsUpdate()})}),this.initHttpServer(r,n),new ft(r,this).setName(O("Enable opening thino globally")).setDesc(O("Enable opening thino globally. False by default.")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.EnableCaptureKey).onChange(async s=>{if(!a){vr();return}this.plugin.settings.CaptureKey.EnableCaptureKey=s,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.CaptureKey.EnableCaptureKey&&(new ft(r,this).setName(O("Key for opening thino globally")).setDesc(O("Set key for opening thino globally. CTRL + SHIFT + T by default.")).setTab(n).addText(i=>i.setPlaceholder(xo.CaptureKey.OpenThinoGlobally).setValue(this.plugin.settings.CaptureKey.OpenThinoGlobally).onChange(async s=>{if(!a){vr();return}this.plugin.settings.CaptureKey.OpenThinoGlobally=s,this.applySettingsUpdate()})),new ft(r,this).setName(O("Show thino near mouse")).setTab(n).addToggle(i=>i.setValue(this.plugin.settings.CaptureKey.ShowNearMouse).onChange(async s=>{if(!a){vr();return}this.plugin.settings.CaptureKey.ShowNearMouse=s,this.applySettingsUpdate()})))}checkInList(n){return this.plugin.settings.EnabledLocationList.find(r=>r.value===n)!==void 0}customFileNameSettings(n,r,a){var d;const i=document.createDocumentFragment(),s=i.createEl("div",{cls:"memo-save-location-desc"});for(const h of P4){const g=s.createEl("div",{cls:`memo-save-location-desc-item ${h.value}`}),m=g.createEl("span",{cls:"memo-save-location-desc-item-icon"});I.setIcon(m,((d=bf.find(k=>k.title===h.value))==null?void 0:d.icon)||""),g.createEl("span",{cls:"memo-save-location-desc-item-desc",text:`${O(h.value)}`});const w=g.createEl("span",{cls:"memo-save-location-desc-item-toggle"}),b=g.createEl("span",{cls:"memo-save-location-desc-item-setting"});h.value!=="DAILY"&&g.createEl("span",{cls:["memo-save-location-desc-item-pro","user-pro-badge"],text:"PRO"}),new I.ToggleComponent(w).setValue(this.checkInList(h.value)).onChange(async k=>{if(!a){vr();return}k?(await Me.updateTypeMemos(h.value),this.plugin.settings.EnabledLocationList=[...this.plugin.settings.EnabledLocationList,h]):(await Me.removeTypeMemos(h.value),this.plugin.settings.EnabledLocationList=this.plugin.settings.EnabledLocationList.filter(M=>M.value!==h.value)),this.plugin.settings.EnabledLocationList.length===1&&(this.plugin.settings.MemoSaveLocation=h.value),this.applySettingsUpdate(),setTimeout(()=>{this.display()},500)}).setDisabled(this.plugin.settings.EnabledLocationList.length===1&&this.checkInList(h.value)),new I.ExtraButtonComponent(b).setIcon("settings").onClick(()=>{new pQ(this.app,this,this.plugin,h,a).open()})}const c=new ft(r,this).setName(O("Save Location for Memos")).setDesc(i).setTab(n);c.settingEl.toggleClass("memo-save-location-setting",!0),c.nameEl.toggleClass("memo-save-location-title",!0)}}class pQ extends I.Modal{constructor(n,r,a,i,s){super(n);ve(this,"plugin");ve(this,"settingTab");ve(this,"LocationList");ve(this,"target","");ve(this,"insertTarget","");ve(this,"verified");ve(this,"updateValue",I.debounce(n=>{this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target=n.trim()===""?"basic":n.trim():this.target=n.trim()===""&&this.LocationList.value==="MULTI"?"Memos":n.trim()},400,!0));this.verified=s,this.app=n,this.settingTab=r,this.plugin=a,this.LocationList=i,this.target=i.target!=="ProcessEntriesBelow"?a.settings.MemoOtherSaveLocation[i.target]:a.settings[i.target],this.insertTarget=a.settings.InsertAfter}onOpen(){var g;const{contentEl:n}=this;(g=n.parentElement)==null||g.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(O("Save Location for Memos")+` [${O(this.LocationList.value)}]`),(this.LocationList.value==="FILE"||this.LocationList.value==="CANVAS")&&n.createDiv("modal-desc",m=>{m.setText(O('You can set folder name with file name like "folder/file"'))}),this.LocationList.value==="MULTI"&&n.createDiv("modal-desc",m=>{m.setText(O('You can set folder name like "folder1/folder2/folder3" to create sub-folder'))});const r=n.createDiv("modal-setting"),a=this.LocationList.value==="DAILY"?O("Process Memos below"):this.LocationList.value==="MULTI"?O("Set the folder name"):O("Set the filename"),i=O("Insert after heading"),s=new ft(r,this.settingTab).setName(a).addText(m=>m.setPlaceholder(O("Set the filename for current location file")).setValue(this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target.replace(/\.thino\.(canvas|md)/g,""):this.target).onChange(async w=>{const b=this.LocationList.value==="CANVAS"?".thino.canvas":this.LocationList.value==="FILE"?".thino.md":"";this.updateValue(w.replace(/\.thino\.(canvas|md)/g,"")+b)}));this.LocationList.value==="DAILY"&&s.setDesc(O("Only entries below this string/section in your notes will be processed. If it does not exist no notes will be processed for that file.")),this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"&&s.controlEl.createEl("span",{text:`${this.LocationList.value==="FILE"?".thino.md":".thino.canvas"}`}),this.LocationList.value==="DAILY"&&new ft(r,this.settingTab).setName(i).setDesc(O("You should set the same heading below if you want to insert and process memos below the same heading.")).addText(m=>m.setPlaceholder(O("Set the filename for current location file")).setValue(this.insertTarget).onChange(async w=>{this.insertTarget=w}));const c=n.createDiv("button-group"),d=c.createEl("button",{text:O("Cancel")}),h=c.createEl("button",{text:O("Save")});h.onclick=async()=>{if(!this.verified&&this.LocationList.value!=="DAILY"){this.close(),vr();return}this.LocationList.target!=="ProcessEntriesBelow"?this.plugin.settings.MemoOtherSaveLocation[this.LocationList.target]=this.target:this.plugin.settings[this.LocationList.target]=this.target,this.LocationList.target==="ProcessEntriesBelow"&&(this.plugin.settings.InsertAfter=this.insertTarget),this.settingTab.applySettingsUpdate(),setTimeout(()=>{Me.updateTypeMemos(this.LocationList.value)},1e3),this.close()},d.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}function Jv(e){return e.split("-")[0]}function j4(e){return e.split("-")[1]}function Zb(e){return["top","bottom"].includes(Jv(e))?"x":"y"}function B4(e){return e==="y"?"height":"width"}function h2(e){let{reference:t,floating:n,placement:r}=e;const a=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2;let s;switch(Jv(r)){case"top":s={x:a,y:t.y-n.height};break;case"bottom":s={x:a,y:t.y+t.height};break;case"right":s={x:t.x+t.width,y:i};break;case"left":s={x:t.x-n.width,y:i};break;default:s={x:t.x,y:t.y}}const c=Zb(r),d=B4(c);switch(j4(r)){case"start":s[c]=s[c]-(t[d]/2-n[d]/2);break;case"end":s[c]=s[c]+(t[d]/2-n[d]/2);break}return s}const hQ=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n;let c=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=h2({...c,placement:r}),g=r,m={};for(let w=0;w<i.length;w++){const{name:b,fn:T}=i[w],{x:E,y:k,data:M,reset:F}=await T({x:d,y:h,initialPlacement:r,placement:g,strategy:a,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});if(d=E??d,h=k??h,m={...m,[b]:M??{}},F){typeof F=="object"&&(F.placement&&(g=F.placement),F.rects&&(c=F.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):F.rects),{x:d,y:h}=h2({...c,placement:g})),w=-1;continue}}return{x:d,y:h,placement:g,strategy:a,middlewareData:m}};function mQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function gQ(e){return typeof e!="number"?mQ(e):{top:e,right:e,bottom:e,left:e}}function j1(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function B1(e,t){t===void 0&&(t={});const{x:n,y:r,platform:a,rects:i,elements:s,strategy:c}=e,{boundary:d="clippingParents",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:m=!1,padding:w=0}=t,b=gQ(w),E=s[m?g==="floating"?"reference":"floating":g],k=await a.getClippingClientRect({element:await a.isElement(E)?E:E.contextElement||await a.getDocumentElement({element:s.floating}),boundary:d,rootBoundary:h}),M=j1(await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g==="floating"?{...i.floating,x:n,y:r}:i.reference,offsetParent:await a.getOffsetParent({element:s.floating}),strategy:c}));return{top:k.top-M.top+b.top,bottom:M.bottom-k.bottom+b.bottom,left:k.left-M.left+b.left,right:M.right-k.right+b.right}}const vQ={left:"right",right:"left",bottom:"top",top:"bottom"};function gv(e){return e.replace(/left|right|bottom|top/g,t=>vQ[t])}function yQ(e,t){const n=j4(e)==="start",r=Zb(e),a=B4(r);let i=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=gv(i)),{main:i,cross:gv(i)}}const bQ={start:"end",end:"start"};function m2(e){return e.replace(/start|end/g,t=>bQ[t])}function wQ(e){const t=gv(e);return[m2(e),t,m2(t)]}const DQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:s,initialPlacement:c}=t;if((n=i.flip)!=null&&n.skip)return{};const{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",flipAlignment:w=!0,...b}=e,T=Jv(a),k=g||(T===c||!w?[gv(c)]:wQ(c)),M=[c,...k],F=await B1(t,b),B=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&B.push(F[T]),h){const{main:$,cross:W}=yQ(a,s);B.push(F[$],F[W])}if(N=[...N,{placement:a,overflows:B}],!B.every($=>$<=0)){var P,R;const $=((P=(R=i.flip)==null?void 0:R.index)!=null?P:0)+1,W=M[$];if(W)return{data:{index:$,overflows:N},reset:{placement:W}};let z="bottom";switch(m){case"bestFit":{var j;const X=(j=N.slice().sort((oe,ee)=>oe.overflows.filter(de=>de>0).reduce((de,fe)=>de+fe,0)-ee.overflows.filter(de=>de>0).reduce((de,fe)=>de+fe,0))[0])==null?void 0:j.placement;X&&(z=X);break}case"initialPlacement":z=c;break}return{data:{skip:!0},reset:{placement:z}}}return{}}}};function SQ(e){let{placement:t,rects:n,value:r}=e;const a=Jv(t),i=["left","top"].includes(a)?-1:1,s=typeof r=="function"?r({...n,placement:t}):r,{mainAxis:c,crossAxis:d}=typeof s=="number"?{mainAxis:s,crossAxis:0}:{mainAxis:0,crossAxis:0,...s};return Zb(a)==="x"?{x:d,y:c*i}:{x:c*i,y:d}}const EQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:a,rects:i}=t,s=SQ({placement:a,rects:i,value:e});return{x:n+s.x,y:r+s.y,data:s}}}};function Jb(e){return(e==null?void 0:e.toString())==="[object Window]"}function wl(e){if(e==null)return window;if(!Jb(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xv(e){return wl(e).getComputedStyle(e)}function cs(e){return Jb(e)?"":e?(e.nodeName||"").toLowerCase():""}function fs(e){return e instanceof wl(e).HTMLElement}function vv(e){return e instanceof wl(e).Element}function TQ(e){return e instanceof wl(e).Node}function Y4(e){const t=wl(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ey(e){const{overflow:t,overflowX:n,overflowY:r}=Xv(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function CQ(e){return["table","td","th"].includes(cs(e))}function H4(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=Xv(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const g2=Math.min,Vp=Math.max,yv=Math.round;function kf(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,a=1;return t&&fs(e)&&(r=e.offsetWidth>0&&yv(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&yv(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function Dl(e){return((TQ(e)?e.ownerDocument:e.document)||window.document).documentElement}function ty(e){return Jb(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function U4(e){return kf(Dl(e)).left+ty(e).scrollLeft}function xQ(e){const t=kf(e);return yv(t.width)!==e.offsetWidth||yv(t.height)!==e.offsetHeight}function MQ(e,t,n){const r=fs(t),a=Dl(t),i=kf(e,r&&xQ(t));let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&n!=="fixed")if((cs(t)!=="body"||ey(a))&&(s=ty(t)),fs(t)){const d=kf(t,!0);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else a&&(c.x=U4(a));return{x:i.left+s.scrollLeft-c.x,y:i.top+s.scrollTop-c.y,width:i.width,height:i.height}}function ny(e){return cs(e)==="html"?e:e.assignedSlot||e.parentNode||(Y4(e)?e.host:null)||Dl(e)}function v2(e){return!fs(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function kQ(e){let t=ny(e);for(;fs(t)&&!["html","body"].includes(cs(t));){if(H4(t))return t;t=t.parentNode}return null}function Y1(e){const t=wl(e);let n=v2(e);for(;n&&CQ(n)&&getComputedStyle(n).position==="static";)n=v2(n);return n&&(cs(n)==="html"||cs(n)==="body"&&getComputedStyle(n).position==="static"&&!H4(n))?t:n||kQ(e)||t}function y2(e){return{width:e.offsetWidth,height:e.offsetHeight}}function IQ(e){let{rect:t,offsetParent:n,strategy:r}=e;const a=fs(n),i=Dl(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((a||!a&&r!=="fixed")&&((cs(n)!=="body"||ey(i))&&(s=ty(n)),fs(n))){const d=kf(n,!0);c.x=d.x+n.clientLeft,c.y=d.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+c.x,y:t.y-s.scrollTop+c.y}}function NQ(e){const t=wl(e),n=Dl(e),r=t.visualViewport;let a=n.clientWidth,i=n.clientHeight,s=0,c=0;return r&&(a=r.width,i=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(s=r.offsetLeft,c=r.offsetTop)),{width:a,height:i,x:s,y:c}}function FQ(e){var t;const n=Dl(e),r=ty(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=Vp(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Vp(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-r.scrollLeft+U4(e);const d=-r.scrollTop;return Xv(a||n).direction==="rtl"&&(c+=Vp(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:c,y:d}}function V4(e){return["html","body","#document"].includes(cs(e))?e.ownerDocument.body:fs(e)&&ey(e)?e:V4(ny(e))}function z4(e,t){var n;t===void 0&&(t=[]);const r=V4(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=wl(r),s=a?[i].concat(i.visualViewport||[],ey(r)?r:[]):r,c=t.concat(s);return a?c:c.concat(z4(ny(s)))}function AQ(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Y4(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function OQ(e){const t=kf(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function b2(e,t){return t==="viewport"?j1(NQ(e)):vv(t)?OQ(t):j1(FQ(Dl(e)))}function RQ(e){const t=z4(ny(e)),r=["absolute","fixed"].includes(Xv(e).position)&&fs(e)?Y1(e):e;return vv(r)?t.filter(a=>vv(a)&&AQ(a,r)&&cs(a)!=="body"):[]}function LQ(e){let{element:t,boundary:n,rootBoundary:r}=e;const i=[...n==="clippingParents"?RQ(t):[].concat(n),r],s=i[0],c=i.reduce((d,h)=>{const g=b2(t,h);return d.top=Vp(g.top,d.top),d.right=g2(g.right,d.right),d.bottom=g2(g.bottom,d.bottom),d.left=Vp(g.left,d.left),d},b2(t,s));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}const _Q={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:MQ(t,Y1(n),r),floating:{...y2(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>IQ(e),getOffsetParent:e=>{let{element:t}=e;return Y1(t)},isElement:e=>vv(e),getDocumentElement:e=>{let{element:t}=e;return Dl(t)},getClippingClientRect:e=>LQ(e),getDimensions:e=>{let{element:t}=e;return y2(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},PQ=(e,t,n)=>hQ(e,t,{platform:_Q,...n});var jQ=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;a--!==0;){var s=i[a];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const BQ=$n(jQ),z0=zp.Facet.define({combine:e=>{var t,n;return{defaultPlacement:((t=e.find(r=>r.defaultPlacement))==null?void 0:t.defaultPlacement)||"top",padding:((n=e.find(r=>r.padding))==null?void 0:n.padding)||8}}}),$4=e=>e.split("-")[0],YQ=e=>e==="x"?"y":"x",HQ=e=>["top","bottom"].includes($4(e))?"x":"y",Fp=(e,t,n)=>Math.max(e,Math.min(t,n)),UQ=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,r],a)=>[n,t(r,n,a)])),VQ=e=>e===void 0?e:typeof e=="number"?-e:UQ(e,t=>t!==void 0?-t:t),zQ=(e={})=>({name:"shift",fn:async t=>{const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c=({x:k,y:M})=>({x:k,y:M}),editorMenu:d,...h}=e,g={x:n,y:r},m=await B1(t,h),w=HQ($4(a)),b=YQ(w);let T=g[w],E=g[b];if(i){const k=w==="y"?"top":"left",M=w==="y"?"bottom":"right",F=T+m[k],B=T-m[M];if(d){const N=await B1(t,{...h,boundary:d.dom,padding:VQ(h.padding)});if((b==="y"?["top","bottom"]:["left","right"]).every(R=>N[R]<=0)){const R=t.rects.floating.width,j=T+N[k]-R,$=T-N[M]+R,W=Math.abs(m[k]-N[k]),z=Math.abs(m[M]-N[M]);W>=R||z<W?T=Fp(F,T,j):T=Fp($,T,B)}else T=Fp(F,T,B)}else T=Fp(F,T,B)}if(s){const k=b==="y"?"top":"left",M=b==="y"?"bottom":"right",F=E+m[k],B=E-m[M];E=Fp(F,E,B)}return c({...t,[w]:T,[b]:E})}}),$Q="thino-mini-toolbar",WQ=(e=0,t=0)=>({width:0,height:0,top:t,left:e,bottom:t,right:e,x:e,y:t}),qQ=(e,t)=>{if(!e)return null;const n=Math.min(e.left,(t==null?void 0:t.left)??e.left),r=Math.max(e.right,(t==null?void 0:t.right)??e.right),a=Math.max(e.bottom,(t==null?void 0:t.bottom)??e.bottom)-Math.min(e.top,(t==null?void 0:t.top)??e.top),i=Math.min(e.top,(t==null?void 0:t.top)??e.top),s=i+a,c={left:n,right:r,top:i,bottom:s,width:0,height:a,x:i,y:n};return t&&(c.width=Math.abs(r-n)),c},GQ=WQ();class KQ{constructor(t){ve(this,"containerEl");ve(this,"virtualEl");ve(this,"toolbar",null);ve(this,"isThinoView");ve(this,"tooltipInfo");ve(this,"inView",!0);ve(this,"defaultPlacement");ve(this,"editorMenu");ve(this,"cachedRefRect",null);ve(this,"readFromDOM",()=>{if(this.tooltipInfo){const{start:t}=this.tooltipInfo;let{end:n}=this.tooltipInfo;n&&t===n&&(n=void 0);const r=this.view.coordsAtPos(t);let a=n?this.view.coordsAtPos(n):null;if(r&&a&&r.top!==a.top){const s=this.view.contentDOM.getBoundingClientRect();a={left:s.right,right:s.right,top:r.top,bottom:r.bottom}}const i=qQ(r,a);i&&(this.cachedRefRect=i,this.computePosition(i))}});this.view=t,this.containerEl=this.view.dom.parentElement,this.defaultPlacement=this.view.state.facet(z0).defaultPlacement,this.tooltipInfo=t.state.facet(H1),this.virtualEl={rect:GQ,getBoundingClientRect(){return this.rect}},this.maybeMeasure(),this.editorMenu={currMenu:null,evtRef:t.state.field(I.editorInfoField)},this.isThinoView=this.checkThinoView()}get workspace(){return this.view.state.field(I.editorInfoField).app.workspace}checkThinoView(){return this.view.state.field(I.editorInfoField)&&this.view.state.field(I.editorInfoField)instanceof yu}shouldRemoveToolbar(t){const n=t??this.tooltipInfo;return!(n!=null&&n.end||this.editorMenu.currMenu)}onEditorMenuOpen(t){this.editorMenu.currMenu||(this.editorMenu.currMenu=t,this.cachedRefRect?this.computePosition(this.cachedRefRect):this.maybeMeasure(),!I.Platform.isMacOS&&this.tooltipInfo&&(this.createToolbar(),this.maybeMeasure()))}onEditorMenuClose(t){this.editorMenu.currMenu===t&&(this.editorMenu.currMenu=null),!I.Platform.isMacOS&&this.toolbar&&this.shouldRemoveToolbar()&&this.removeToolbar()}createToolbar(t){const n=t??this.tooltipInfo;if(!n)return;this.removeToolbar();const r=n.create(this.containerEl),a=this.view.state.field(I.editorInfoField);if(!a||!(a!=null&&a.editor))return;const i=a.editor.offsetToPos(n.start),s=n.end?a.editor.offsetToPos(n.end):i;this.workspace.trigger($Q,r,{from:i,to:s},a.editor,a),this.toolbar=r}removeToolbar(){this.toolbar&&(this.toolbar.hide(),this.toolbar=null)}update(t){if(!this.isThinoView)return;const n=t.state.facet(H1),r=n!==this.tooltipInfo&&!BQ(n,this.tooltipInfo);r&&(this.tooltipInfo=n,this.shouldRemoveToolbar()?this.removeToolbar():n&&!this.toolbar&&this.createToolbar(n));const a=r||t.geometryChanged,i=t.state.facet(z0);i.defaultPlacement!=this.defaultPlacement&&(i.defaultPlacement=this.defaultPlacement),a&&this.maybeMeasure()}destroy(){this.editorMenu.currMenu=null,this.removeToolbar(),this.toolbar=null,this.view.state.field(I.editorInfoField).app.workspace.offref(this.editorMenu.evtRef)}async computePosition(t){if(!this.toolbar)return;this.virtualEl.rect=t;const{padding:n}=this.view.state.facet(z0),{x:r,y:a}=await PQ(this.virtualEl,this.toolbar.dom,{placement:this.defaultPlacement,middleware:[EQ({mainAxis:5}),DQ({padding:n,boundary:this.view.scrollDOM}),zQ({padding:n,boundary:this.view.scrollDOM,editorMenu:this.editorMenu.currMenu})]});Object.assign(this.toolbar.dom.style,{top:"0",left:"0",transform:`translate(${Math.round(r)}px,${Math.round(a)}px)`})}maybeMeasure(){this.view.inView&&this.toolbar&&this.view.requestMeasure({read:this.readFromDOM}),this.inView!=this.view.inView&&(this.inView=this.view.inView,this.inView||this.removeToolbar())}}const QQ=yi.ViewPlugin.fromClass(KQ,{eventHandlers:{scroll(){this.maybeMeasure()}}}),H1=zp.Facet.define({enables:[QQ],combine:e=>e.filter(t=>t!=null).first()??null}),ZQ=e=>{const t=nZ(e);t&&window.navigator.clipboard.writeText(t==null?void 0:t.getSelection())},JQ=e=>{e.commands.executeCommandById("editor:toggle-bold",e)},XQ=e=>{e.commands.executeCommandById("editor:toggle-strikethrough",e)},eZ=e=>{e.commands.executeCommandById("editor:toggle-highlight",e)},tZ=e=>{e.commands.executeCommandById("editor:toggle-italics",e)},nZ=e=>{const{editor:t}=e.field(I.editorInfoField);return t},w2=(e,t)=>{const n=e.selection.ranges[0];if(!n)return null;const{anchor:r,head:a,empty:i}=n,[s,c]=[r,a].sort();return{start:s,end:i?void 0:c,create:h=>new iZ(h).addSmallButton(m=>m.setClass("clickable-icon").setIcon("copy").onClick(()=>ZQ(e))).addSmallButton(m=>m.setClass("clickable-icon").setIcon("bold").onClick(()=>JQ(t))).addSmallButton(m=>m.setClass("clickable-icon").setIcon("italic").onClick(()=>tZ(t))).addSmallButton(m=>m.setClass("clickable-icon").setIcon("strikethrough").onClick(()=>XQ(t))).addSmallButton(m=>m.setClass("clickable-icon").setIcon("highlighter").onClick(()=>eZ(t)))}},rZ=e=>zp.StateField.define({create:t=>w2(t,e),update:(t,n)=>!n.docChanged&&!n.selection?t:w2(n.state,e),provide:t=>H1.from(t)}),aZ=e=>[rZ(e)];class oZ extends I.BaseComponent{constructor(n){super();ve(this,"button");ve(this,"disabled",!1);ve(this,"dropdownOptions",[]);ve(this,"menu");ve(this,"menuOpened",!1);this.button=new I.ButtonComponent(n)}setDisabled(n){return this.button.setDisabled(n),this.disabled=n,this}setIcon(n){return this.button.setIcon(n),this}setClass(n){return this.button.setClass(n),this}setDropdownText(n){var d;const r=this.button.buttonEl.createDiv("mini-toolbar-text"),a=this.button.buttonEl.createDiv("mini-toolbar-icon-with-text");I.setIcon(a,"chevron-down");const i=(d=n.doc.lineAt(n.selection.ranges[0].from))==null?void 0:d.from,s=i0.syntaxTree(n).resolveInner(i+1),c=s.type.prop(i0.tokenClassNodeProp);return r.setText(this.detectFormat(c,s)||"Text"),this}setDropdownIcon(){const n=this.button.buttonEl.createDiv("mini-toolbar-highlight-icon"),r=this.button.buttonEl.createDiv("mini-toolbar-icon-with-icon");return I.setIcon(n,"highlighter"),I.setIcon(r,"chevron-down"),this}detectFormat(n,r){var a;if(!n)return"Text";if(n.includes("strong"))return"Bold";if(n.includes("em"))return"Italic";if(n.includes("strikethrough"))return"Strike";if(n.contains("hmd-codeblock"))return"CodeBlock";if(n.contains("hmd-inline-code"))return"Code";if(n.contains("formatting-header")){const i=n.match(/header-\d{1,}/);if(i)return"Heading "+i[0].slice(-1)}if(n.contains("formatting-list")||n.contains("hmd-list-indent")){if(r!=null&&r.parent){const i=(a=r.parent)==null?void 0:a.type.prop(i0.lineClassNodeProp);if(i!=null&&i.contains("HyperMD-task-line"))return"To-do list"}if(n.contains("formatting-list-ol"))return"Numbered list";if(n.contains("formatting-list-ul"))return"Bulleted list"}}setTooltip(n){return this.button.setTooltip(n),this}setOptionsList(n){return this.dropdownOptions=n,this}onClick(n){return this.dropdownOptions.length>0?(this.button.onClick(r=>this.showEditMenu(r)),this):(this.button.onClick(n),this)}showEditMenu(n){var s,c;if(this.menuOpened=!this.menuOpened,!this.menuOpened)return;this.menu=new I.Menu,this.menu.onHide(()=>{this.menuOpened=!1});const r=n.currentTarget,a=(s=n.currentTarget)==null?void 0:s.getBoundingClientRect(),i={x:a.left-6,y:a.bottom+6};for(let d=0;d<((c=this.dropdownOptions)==null?void 0:c.length);d++)this.menu.addItem(h=>{h.setIcon("zap").setTitle(this.dropdownOptions[d]).onClick(()=>{})});this.menu.setParentElement(r).showAtPosition(i)}then(n){return n(this),this}}class iZ extends I.Component{constructor(n){super();ve(this,"dom");ve(this,"smallBtnContainer");ve(this,"unloading",!1);this.dom=n==null?void 0:n.createDiv({cls:"cm-mini-toolbar"},r=>r.style.position="absolute"),this.smallBtnContainer=this.dom}addSmallButton(n){return n(new oZ(this.smallBtnContainer)),this}hide(){return this.unload(),this.unloading?this:(this.unloading=!0,this.dom.detach(),this.unloading=!1,this)}}const sZ=yi.Decoration.line({attributes:{"data-ph":O("What do you think now...")},class:"thino-editor-placeholder"}),lZ=zp.StateField.define({create(){return yi.Decoration.none},update(e,t){const n=t.state.field(I.editorInfoField);if(!(n!=null&&n.view)&&!((n==null?void 0:n.view)instanceof yu))return e;const r=new zp.RangeSetBuilder,a=t.state.doc.toString(),i=t.state.doc.lineAt(0);return(a==null?void 0:a.length)==0&&r.add(i.from,i.from,sZ),r.finish()},provide:e=>yi.EditorView.decorations.from(e)});function W4(e){return`userId:${e}`}function uZ(e,t){return`expiryDate:${t}:${e}`}function cZ(e){try{const t=W4(e.appId);return Vn.get([t])[t]??""}catch{return""}}function fZ(e,t){try{const n=W4(t.appId);return Vn.set({[n]:e}),{userId:e,key:n}}catch{}}function dZ(e,t){try{const n=uZ(cZ(t),t.appId);Vn.set({[n]:e})}catch{}}const pZ=Ue.grabImageFromUrl,hZ=require("http"),mZ=require("url");function gZ(e){const t=e.indexOf(";base64,"),n=e.substring(5,t),r=e.substr(t+8),a=atob(r),i=new ArrayBuffer(a.length),s=new Uint8Array(i);for(let d=0;d<a.length;d++)s[d]=a.charCodeAt(d);return new Blob([i],{type:n})}const D2=async e=>{const{type:t}=e;if(t.startsWith("image"))try{return`${await ab.upload(e)}`}catch(n){new I.Notice(n)}};function vZ(e){const t=hZ.createServer(async function(n,r){r.setHeader("Access-Control-Allow-Origin","*"),r.setHeader("Access-Control-Allow-Methods","GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE"),r.setHeader("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Origin, Authorization,Accept,x-client-id, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, hypothesis-client-version"),r.setHeader("Access-Control-Allow-Credentials","true");try{if(n.url){const a=mZ.parse(n.url,!0);if(a.pathname==="/create"&&n.method==="POST"){let i="";n.on("data",s=>{i+=s}),n.on("end",async()=>{const s=JSON.parse(i),{text:c,isList:d,type:h,imageList:g}=s;let m=c;if(!m){r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:null,link:null}));return}new RegExp(/(<([^>]+)>)/g).test(c)&&(m=I.htmlToMarkdown(c));let b=[];const T=[];if(e.AutoDownloadImage){const k=m.match(Of)||[];if(k.length>0){for(const M of k)try{const F=await pZ(M);if(F.size===0)continue;const B=new File([F],"image.png",{type:"image/png"}),N=await D2(B);T.push({oldUrl:M,newUrl:N})}catch{}T.forEach(M=>{m=m.replace(M.oldUrl,M.newUrl)}),g&&g.length>0&&(b=await Promise.all(g.map(async M=>{const F=gZ(M);return new File([F],"image.png",{type:"image/png"})})));for(const M of b){const F=await D2(M);m+=`
${F}`}}}const E=await Me.createThino({content:m,isList:d,type:h});E&&(Me.pushMemo(E),it.clearQuery()),r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:E,link:`obsidian://thino?openId=${E.id}`}))})}else if(a.pathname==="/search"&&n.method==="GET"){const i=a.query,{keyword:s}=i,c=Me.getThinoViaKeyword(s);r.statusCode=200,r.setHeader("Content-Type","application/json");const d=JSON.stringify({status:"success",thinos:c});r.end(d)}else r.statusCode=404,r.end()}}catch(a){r.statusCode=500,r.end({status:"error",message:a.message})}});return{listen(n,r){try{t.listen({port:parseInt(r),host:n})}catch{new I.Notice(O("Thino - Failed to start HTTP server, please check the port is available."))}new I.Notice(`${O("Thino - Started HTTP server on port")} ${r}`)},close(){t.close(),new I.Notice(O("Thino - Terminated HTTP server"))}}}const{clipboard:pn}=I.Platform.isDesktop?require("electron"):"";class yZ{constructor(){ve(this,"eventListeners");this.eventListeners={}}on(t,n){this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(n)}once(t,n){n.$emitOnce=!0,this.on(t,n)}removeListener(t,n){if(this.eventListeners[t]){const r=this.eventListeners[t].findIndex(a=>a===n);r>=0&&this.eventListeners[t].splice(r,1)}}removeAllListeners(t){this.eventListeners[t]&&(this.eventListeners[t].length=0)}emit(t,...n){this.eventListeners[t]&&this.eventListeners[t].forEach(r=>{r.call(this,...n),r.$emitOnce&&this.removeListener(t,r)})}}const pf=new yZ;let Ap=null,S2=pn==null?void 0:pn.readText(),E2=pn==null?void 0:pn.readImage();pn&&(pn.on=(e,t)=>(pf.on(e,t),pn),pn.once=(e,t)=>(pf.once(e,t),pn),pn.off=(e,t)=>(t?pf.removeListener(e,t):pf.removeAllListeners(e),pn),pn.startWatching=()=>(Ap||(Ap=setInterval(()=>{bZ(S2,S2=pn==null?void 0:pn.readText())&&pf.emit("text-changed"),wZ(E2,E2=pn==null?void 0:pn.readImage())&&pf.emit("image-changed")},500)),pn),pn.stopWatching=()=>(Ap&&clearInterval(Ap),Ap=null,pn));function bZ(e,t){return t&&e!==t}function wZ(e,t){return!t.isEmpty()&&e.toDataURL()!==t.toDataURL()}var I2;const $0=(I2=require("electron"))==null?void 0:I2.remote;var N2,F2;const T2=(F2=(N2=require("electron"))==null?void 0:N2.remote)==null?void 0:F2.screen;class DZ{constructor(t,n){ve(this,"isRegisted");ve(this,"leaf");ve(this,"clipboard");ve(this,"isScreenTop",!1);ve(this,"currentSplitWindow");ve(this,"intervalNum");ve(this,"allowsCopy",!1);ve(this,"plugin");ve(this,"actionEl",null);this.app=t,this.plugin=n,this.isRegisted=!1,this.leaf=null,this.clipboard=pn}async onload(){I.Platform.isDesktop&&(this.initGlobalCopyEvents(),await this.registerAllShortcuts(),this.registerEvents())}registerEvents(){this.plugin.registerEvent(this.app.workspace.on("quit",()=>{$0.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally)}))}initGlobalCopyEvents(){this.plugin.addCommand({id:"init-global-copy-events",name:O("Global copy"),callback:()=>{this.allowsCopy=!this.allowsCopy,!this.allowsCopy&&this.clipboard.stopWatching(),this.allowsCopy&&this.clipboard.startWatching(),this.leaf&&this.allowsCopy&&(this.actionEl=this.leaf.view.addAction("clipboard-x","Stop global copying",()=>{var t;this.allowsCopy=!1,this.clipboard.stopWatching(),(t=this.actionEl)==null||t.remove()}))}})}onunload(){this.isRegisted&&($0.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally),this.clipboard.off("text-changed"),this.clipboard.off("image-changed"),this.clipboard.stopWatching(),this.leaf&&this.leaf.detach())}getCurrentLeaf(){var n;return this.leaf?this.app.workspace.getLeavesOfType("thino_view").length>0&&!!this.app.workspace.getLeafById(this.leaf.id)?!0:((n=this.leaf)==null||n.detach(),this.currentSplitWindow.close(),this.currentSplitWindow=null,this.leaf=null,this.isScreenTop=!1,!1):!1}async registerAllShortcuts(){$0.globalShortcut.register(this.plugin.settings.CaptureKey.OpenThinoGlobally,()=>{this.getCurrentLeaf()?this.showThinoView():this.openThinoView()}),this.isRegisted=!0}showThinoView(){var r,a,i,s;const t=T2.getCursorScreenPoint(),n=(s=(i=(a=(r=this.leaf)==null?void 0:r.parent)==null?void 0:a.parent)==null?void 0:i.win)==null?void 0:s.electronWindow;if(n){if(n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),n.isMinimized()&&n.restore(),n.focus(),this.plugin.settings.CaptureKey.ShowNearMouse){const{width:c,height:d}=n.getBounds();n.setBounds({x:t.x,y:t.y,width:c,height:d})}if(this.app.workspace.trigger("focus-on-textarea"),this.isScreenTop){this.isScreenTop=!1,setTimeout(()=>{n.setAlwaysOnTop(!1,"screen")},200);return}this.isScreenTop=!0}}openThinoView(){var i,s,c,d,h;this.leaf=this.app.workspace.openPopoutLeaf({size:{width:400,height:400}});const t=this.leaf;this.leaf.setViewState({type:"thino_view"}),setTimeout(()=>{t.view.containerEl.classList.toggle("mobile-view",!0)},0),this.currentSplitWindow=(s=(i=this.leaf)==null?void 0:i.parent)==null?void 0:s.parent;const n=(h=(d=(c=this.leaf)==null?void 0:c.parent)==null?void 0:d.parent)==null?void 0:h.win.electronWindow;if(!n)return;n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.isScreenTop=!0;const r=this.app,a=g=>{var b,T,E;const m=T2.getCursorScreenPoint(),w=(E=(T=(b=t==null?void 0:t.parent)==null?void 0:b.parent)==null?void 0:T.win)==null?void 0:E.electronWindow;if(w){if(w.isMinimized()&&w.restore(),!this.isScreenTop&&this.plugin.settings.CaptureKey.ShowNearMouse){const{width:k,height:M}=w.getBounds();w.setBounds({x:m.x,y:m.y-200,width:k,height:M})}w.setAlwaysOnTop(!0,"screen"),r.workspace.trigger("focus-on-textarea"),r.workspace.trigger("send-to-thino",g,t)}};this.clipboard.on("text-changed",()=>{const g=this.clipboard.readText();a(g)}).on("image-changed",()=>{const g=this.clipboard.readImage();a(g)})}}class SZ extends I.Modal{constructor(n){super(n);ve(this,"root")}onOpen(){const{contentEl:n,modalEl:r}=this;try{this.root=lQ(n),r.toggleClass("memos-editor-modal",!0),setTimeout(()=>{var a;(a=n.querySelector("textarea"))==null||a.focus()},10)}catch{}}onClose(){this.root.unmount(),this.containerEl&&this.containerEl.empty()}}class C2 extends I.EditorSuggest{constructor(n,r){super(n);ve(this,"root");ve(this,"editor");ve(this,"cursor");ve(this,"plugin");ve(this,"tags");ve(this,"type","customTag");ve(this,"HASHTAG_REGEX",/(^|\s)#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]*$/g);this.plugin=r}checkSettings(){return this.plugin.settings.UseVaultTags}checkInMemosView(n){var i;const r=n.containerEl;if(!r)return!1;const a=(i=r.parentElement)==null?void 0:i.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const a=I.prepareFuzzySearch(n);return r.map(s=>{const c=a(s);return c?{item:s,match:c}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r)||this.checkSettings())return null;this.tags=Me.getState().tags,this.cursor=n,this.editor=r;const a=n.line,i=r.getLine(a),s=i.substr(0,n.ch);if(s.match(this.HASHTAG_REGEX)&&i.substr(n.ch,1)!=="#"){const c=s.lastIndexOf("#"),d=s.substr(c+1);return{start:{line:a,ch:c},end:{line:a,ch:n.ch},query:d}}return null}getSuggestions(n){return this.fuzzySearchItemsOptimized(n.query,this.tags).map(r=>r.item).sort((r,a)=>r.localeCompare(a))||[]}renderSuggestion(n,r){r.setText(n)}selectSuggestion(n){if(this.context){const r=this.context.editor,a=this.context.start,i=this.context.end;r.transaction({changes:[{from:a,to:i,text:"#"+n+" "}]}),setTimeout(function(){return r.focus()})}this.close()}}const Xb=crypto,q4=e=>e instanceof CryptoKey,Fg=new TextEncoder,ew=new TextDecoder;function EZ(...e){const t=e.reduce((a,{length:i})=>a+i,0),n=new Uint8Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}const TZ=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},W0=e=>{let t=e;t instanceof Uint8Array&&(t=ew.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return TZ(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class ry extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class CZ extends ry{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class ay extends ry{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class gr extends ry{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class xZ extends ry{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function es(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Ag(e,t){return e.name===t}function q0(e){return parseInt(e.name.slice(4),10)}function MZ(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function kZ(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function IZ(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!Ag(e.algorithm,"HMAC"))throw es("HMAC");const r=parseInt(t.slice(2),10);if(q0(e.algorithm.hash)!==r)throw es(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Ag(e.algorithm,"RSASSA-PKCS1-v1_5"))throw es("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(q0(e.algorithm.hash)!==r)throw es(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Ag(e.algorithm,"RSA-PSS"))throw es("RSA-PSS");const r=parseInt(t.slice(2),10);if(q0(e.algorithm.hash)!==r)throw es(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw es("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!Ag(e.algorithm,"ECDSA"))throw es("ECDSA");const r=MZ(t);if(e.algorithm.namedCurve!==r)throw es(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}kZ(e,n)}function G4(e,t,...n){var r;if(n.length>2){const a=n.pop();e+=`one of type ${n.join(", ")}, or ${a}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const x2=(e,...t)=>G4("Key must be ",e,...t);function K4(e,t,...n){return G4(`Key for the ${e} algorithm must be `,t,...n)}const Q4=e=>q4(e),vi=["CryptoKey"],NZ=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const a=Object.keys(r);if(!n||n.size===0){n=new Set(a);continue}for(const i of a){if(n.has(i))return!1;n.add(i)}}return!0};function FZ(e){return typeof e=="object"&&e!==null}function M2(e){if(!FZ(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const AZ=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},il=(e,t,n=0)=>{n===0&&(t.unshift(t.length),t.unshift(6));const r=e.indexOf(t[0],n);if(r===-1)return!1;const a=e.subarray(r,r+t.length);return a.length!==t.length?!1:a.every((i,s)=>i===t[s])||il(e,t,r+1)},k2=e=>{switch(!0){case il(e,[42,134,72,206,61,3,1,7]):return"P-256";case il(e,[43,129,4,0,34]):return"P-384";case il(e,[43,129,4,0,35]):return"P-521";case il(e,[43,101,110]):return"X25519";case il(e,[43,101,111]):return"X448";case il(e,[43,101,112]):return"Ed25519";case il(e,[43,101,113]):return"Ed448";default:throw new ay("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},OZ=async(e,t,n,r,a)=>{let i,s;const c=new Uint8Array(atob(n.replace(e,"")).split("").map(h=>h.charCodeAt(0))),d=t==="spki";switch(r){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},s=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"},s=d?["verify"]:["sign"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},s=d?["verify"]:["sign"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},s=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const h=k2(c);i=h.startsWith("P-")?{name:"ECDH",namedCurve:h}:{name:h},s=d?[]:["deriveBits"];break}case"EdDSA":i={name:k2(c)},s=d?["verify"]:["sign"];break;default:throw new ay('Invalid or unsupported "alg" (Algorithm) value')}return Xb.subtle.importKey(t,c,i,(a==null?void 0:a.extractable)??!1,s)},RZ=(e,t,n)=>OZ(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);async function LZ(e,t,n){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return RZ(e,t,n)}const _Z=(e,t)=>{if(!(t instanceof Uint8Array)){if(!Q4(t))throw new TypeError(K4(e,t,...vi,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${vi.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},PZ=(e,t,n)=>{if(!Q4(t))throw new TypeError(K4(e,t,...vi));if(t.type==="secret")throw new TypeError(`${vi.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${vi.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${vi.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${vi.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${vi.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},jZ=(e,t,n)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?_Z(e,t):PZ(e,t,n)};function BZ(e,t,n,r,a){if(a.crit!==void 0&&r.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;n!==void 0?i=new Map([...Object.entries(n),...t.entries()]):i=t;for(const s of r.crit){if(!i.has(s))throw new ay(`Extension Header Parameter "${s}" is not recognized`);if(a[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(i.get(s)&&r[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)}const YZ=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};function HZ(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new ay(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function UZ(e,t,n){if(q4(t))return IZ(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(x2(t,...vi));return Xb.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(x2(t,...vi,"Uint8Array"))}const VZ=async(e,t,n,r)=>{const a=await UZ(e,t,"verify");AZ(e,a);const i=HZ(e,a.algorithm);try{return await Xb.subtle.verify(i,a,n,r)}catch{return!1}};async function zZ(e,t,n){if(!M2(e))throw new gr("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new gr('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new gr("JWS Protected Header incorrect type");if(e.payload===void 0)throw new gr("JWS Payload missing");if(typeof e.signature!="string")throw new gr("JWS Signature missing or incorrect type");if(e.header!==void 0&&!M2(e.header))throw new gr("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const E=W0(e.protected);r=JSON.parse(ew.decode(E))}catch{throw new gr("JWS Protected Header is invalid")}if(!NZ(r,e.header))throw new gr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...r,...e.header},i=BZ(gr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,a);let s=!0;if(i.has("b64")&&(s=r.b64,typeof s!="boolean"))throw new gr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:c}=a;if(typeof c!="string"||!c)throw new gr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const d=n&&YZ("algorithms",n.algorithms);if(d&&!d.has(c))throw new CZ('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof e.payload!="string")throw new gr("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new gr("JWS Payload must be a string or an Uint8Array instance");let h=!1;typeof t=="function"&&(t=await t(r,e),h=!0),jZ(c,t,"verify");const g=EZ(Fg.encode(e.protected??""),Fg.encode("."),typeof e.payload=="string"?Fg.encode(e.payload):e.payload);let m;try{m=W0(e.signature)}catch{throw new gr("Failed to base64url decode the signature")}if(!await VZ(c,t,m,g))throw new xZ;let b;if(s)try{b=W0(e.payload)}catch{throw new gr("Failed to base64url decode the payload")}else typeof e.payload=="string"?b=Fg.encode(e.payload):b=e.payload;const T={payload:b};return e.protected!==void 0&&(T.protectedHeader=r),e.header!==void 0&&(T.unprotectedHeader=e.header),h?{...T,key:t}:T}async function $Z(e,t,n){if(e instanceof Uint8Array&&(e=ew.decode(e)),typeof e!="string")throw new gr("Compact JWS must be a string or Uint8Array");const{0:r,1:a,2:i,length:s}=e.split(".");if(s!==3)throw new gr("Invalid Compact JWS");const c=await zZ({payload:a,protected:r,signature:i},t,n),d={payload:c.payload,protectedHeader:c.protectedHeader};return typeof t=="function"?{...d,key:c.key}:d}const WZ={webId:"globe-2",pinned:"pin",archived:"archive",visibility:"eye",deleted:"trash"};class qZ extends yi.WidgetType{constructor(n,r,a,i,s){super();ve(this,"error",!1);this.view=n,this.plugin=r,this.target=a,this.type=i,this.to=s}eq(n){return this.target===n.target}toDOM(){const n=createSpan();return n.toggleClass("thino-inline-widget",!0),I.setIcon(n,WZ[this.type]||"help-circle"),I.setTooltip&&I.setTooltip(n,this.target),n}}function GZ(e){class t{constructor(a){ve(this,"view");ve(this,"match",new yi.MatchDecorator({regexp:/\[(webId|pinned|archived|visibility|deleted)::([^\]]+)\]/g,decorate:(a,i,s,c,d)=>{this.shouldRender(d,i,s)&&a(i,s,yi.Decoration.replace({widget:new qZ(d,e,c[0],c[1],s)}))}}));ve(this,"decorations",yi.Decoration.none);this.view=a,this.updateDecorations(a)}update(a){this.updateDecorations(a.view,a)}destroy(){this.decorations=yi.Decoration.none}updateDecorations(a,i){!i||this.decorations.size===0?this.decorations=this.match.createDeco(a):this.decorations=this.match.updateDeco(i,this.decorations)}isLivePreview(a){return a.field(I.editorLivePreviewField)}shouldRender(a,i,s){return!a.state.selection.ranges.some(d=>d.from<=i?d.to>=i:d.from<=s)&&this.isLivePreview(a.state)}}const n={decorations:r=>r.decorations.update({filter:(a,i,s)=>{const c=s.spec.widget;return c&&c.error?!1:a===i||!r.view.state.selection.ranges.filter(d=>{const h=d.from,g=d.to;return h<=a?g>=a:h<=i}).length}})};return yi.ViewPlugin.fromClass(t,n)}const KZ=e=>e.ctrlKey!==void 0||e.metaKey!==void 0||e.shiftKey!==void 0||e.altKey!==void 0,Og=()=>{new I.Notice(O("Open Memos Successfully"))},Rg=[{id:"open-thino-in-left-sidebar",shortName:O("Left sidebar"),name:O("Open thino in left sidebar"),icon:"arrow-left",location:"left",cb:Og,modKeys:"shift"},{id:"open-thino-in-right-sidebar",shortName:O("Right sidebar"),name:O("Open thino in right sidebar"),icon:"arrow-right",location:"right",cb:Og,modKeys:["ctrl","meta"]},{id:"open-thino-in-float",shortName:O("Float window"),name:O("Open thino in float window"),icon:"layout",location:"float",cb:Og,modKeys:"alt"},{id:"open-thino-in-center",shortName:O("Center window"),name:O("Open thino in center window"),icon:"tv-2",location:"center",cb:Og,modKeys:void 0}];class QZ extends I.Plugin{constructor(){super(...arguments);ve(this,"settings");ve(this,"settingTab");ve(this,"triggerBySelf",!1);ve(this,"updatedID","");ve(this,"debounceTimer",0);ve(this,"apiHttpServer",null);ve(this,"captureService",null);ve(this,"loaded",!1)}async onload(){await this.loadSettings(),uQ(),this.registerRibbon(),await this.verify(),this.settingTab=new dQ(this.app,this),this.addSettingTab(this.settingTab),this.initEditor(),this.initURIHandler(),this.registerMobileEvent(),this.registerCommands(),this.registerCanvasNodeMemos(),this.registerHoverEvent(),this.registerEditorSuggest(new oQ(this.app,this)),this.registerEditorExtension([lZ]),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this)),this.registerView(Fr,n=>new yu(n,this))}async loadSettings(){this.settings=Object.assign({},xo,await this.loadData()),ut.setSettings(this.settings)}async saveSettings(){await this.saveData(this.settings),ut.setSettings(this.settings)}onunload(){var r;this.app.workspace.detachLeavesOfType(Fr),Me.clearMemos(),Ce.dispatch({type:"CLEAR_MEMOS",payload:null}),Ce.dispatch({type:"CLEAR_FILES",payload:null}),Ce.dispatch({type:"CLEAR_VIEW",payload:null});const n=document.body.find(".dialog-wrapper");n&&((r=n.parentElement)==null||r.detach()),this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null),this.captureService&&this.captureService.onunload(),new I.Notice(O("Close Memos Successfully"))}initEditor(){const n=()=>{const r=this.app.embedRegistry;if(!r)return!1;const a=r.embedByExtension.md,i=createEl("div"),s=a({app:this.app,containerEl:i},null,null);if(s.editable=!0,s.set(""),s.showEditor(),!s.editMode)return!1;const c=Object.getPrototypeOf(Object.getPrototypeOf(s.editMode));return ut.setEditor(c),i.detach(),!0};this.app.workspace.onLayoutReady(()=>{n()||this.app.workspace.onLayoutReady(()=>{setTimeout(()=>{n()},100)})}),this.register(nv(I.MetadataCache.prototype,{getFileCache:r=>function(a){return!(a!=null&&a.path)&&!a?null:r.call(this,a)}}))}initApp(){ut.setApp(this.app)}initURIHandler(){this.registerObsidianProtocolHandler("thino",async n=>{var i,s;if(!n)return;if(n.userid)try{const c=n.userid;fZ(c,this.app),dZ(I.moment().add(30,"days").valueOf(),this.app),rt.setRefresh(!0)}catch{new I.Notice(O("Failed to verify"))}if(n.token)try{const c=n.token;(i=this.app)==null||i.saveLocalStorage("tokenForSync",c),setTimeout(()=>{this.app.setting.open(),this.app.setting.openTabById(this.manifest.id??"obsidian-memos"),this.settingTab.display()},200),new I.Notice(O("Saved sync token successfully"))}catch{new I.Notice(O("Failed to save"))}n.copyToken&&(this.app.setting.open(),this.app.setting.openTabById(this.manifest.id??"obsidian-memos"),await navigator.clipboard.writeText(this.app.appId),new I.Notice(O("Copied app id successfully")));const r=(s=ut.getState())==null?void 0:s.verifyState,a=I.Platform.isMobile?this.app.appId.replace(/\//g,"-"):this.app.appId;if(!(!r||r.appId!==a)){if(n.content){const c=n.type,d=decodeURI(n.content)!==n.content?decodeURI(n.content):n.content,h=n.task,g=await Me.createThino({content:d,type:c,isList:!!h});if(!g)return;Me.pushMemo(g),it.clearQuery()}n.openId&&await Me.openThinoByID(n.openId)}})}initGlobalManifest(){rt.setPluginManifest(this.manifest)}stopServer(){this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null)}initServer(){var a;if(I.Platform.isMobile||!this.settings.EnabledHttpApi)return;const n=(a=ut.getState())==null?void 0:a.verifyState,r=I.Platform.isMobile?this.app.appId.replace(/\//g,"-"):this.app.appId;!n||n.appId!==r||(this.apiHttpServer=vZ(this.settings),this.initServerPort())}initServerPort(){this.apiHttpServer&&this.settings.EnabledHttpApi&&this.apiHttpServer.listen(this.settings.HttpApiIpType,this.settings.HttpApiPort)}async initCaptureService(){var a;if(I.Platform.isMobile||!this.settings.CaptureKey.EnableCaptureKey)return;const n=(a=ut.getState())==null?void 0:a.verifyState,r=I.Platform.isMobile?this.app.appId.replace(/\//g,"-"):this.app.appId;!n||n.appId!==r||(this.captureService=new DZ(this.app,this),await this.captureService.onload())}registerMobileEvent(){I.Platform.isMobile&&(this.registerEvent(this.app.workspace.on("receive-text-menu",(n,r)=>{n.addItem(a=>{a.setIcon("popup-open").setTitle(O("Insert as Memo")).onClick(async()=>{const i=await Me.createMemoDaily(r,!1);Me.pushMemo(i)})})})),this.registerEvent(this.app.workspace.on("receive-files-menu",(n,r)=>{n.addItem(a=>{a.setIcon("popup-open").setTitle(O("Insert file as memo content")).onClick(async()=>{const i=r.map(c=>this.app.fileManager.generateMarkdownLink(c,c.path)),s=await Me.createMemoDaily(i.join(`
`),!1);Me.pushMemo(s)})})})))}registerCommands(){Rg.forEach(n=>{this.addCommand({id:n.id,name:n.name,callback:()=>this.openMemos(n.location,n.cb),hotkeys:[]})}),I.Platform.isDesktop&&this.addCommand({id:"show-thino-editor",name:O("Show thino editor"),checkCallback:n=>{if(Me.initialized&&ut.initialized)return n||new SZ(this.app).open(),!0}}),this.addCommand({id:"toggle-minimal-thino",name:O("Toggle minimal mode"),callback:()=>{const n=document.body.hasClass("minimal-thino");document.body.toggleClass("minimal-thino",!n)}}),this.addCommand({id:"focus-on-thino-editor",name:O("Focus on thino editor"),callback:()=>this.focusOnEditor(),hotkeys:[]}),this.addCommand({id:"reinit-thino-sync",name:O("ReSync web thinos to local"),callback:()=>{WK(this.app)}}),this.addCommand({id:"init-thino-sync",name:O("Sync local thinos to web"),callback:async()=>{var r;if(!((r=this.app)==null?void 0:r.loadLocalStorage("tokenForSync"))){new I.Notice(O("Please input token first"));return}if(!this.settings.startSync){new I.Notice(O("Please enable sync first"));return}try{await Me.initSync()}catch{new I.Notice(O("Init Failed"))}}}),this.addCommand({id:"show-daily-thino",name:O("Show daily thino view"),callback:()=>this.openDailyMemo(),hotkeys:[]}),this.addCommand({id:"focus-on-search-bar",name:O("Focus on search bar"),callback:()=>this.searchIt(),hotkeys:[]}),this.addCommand({id:"show-thino-in-popover",name:O("Show-thino in popover(Hover editor)"),callback:()=>this.showInPopover(),hotkeys:[]})}async onLayoutReady(){this.initApp(),this.initServer(),this.initGlobalManifest(),await this.initMemos(),this.autoOpenMemos(),this.registerThinoWidget(),this.registerToolbarCheck(),await this.initCaptureService(),ut.setPlugin(this);const n=this.app.workspace.editorSuggest.suggests.findIndex(r=>r.type==="customTag");n!==-1?(this.app.workspace.editorSuggest.suggests.splice(n,1),this.app.workspace.editorSuggest.suggests.unshift(new C2(this.app,this))):this.app.workspace.editorSuggest.suggests.unshift(new C2(this.app,this))}async initMemos(){await ut.fechLocalDailyNotes(),await Me.fetchAllMemos(),ut.getState(),Me.getState()}registerCanvasNodeMemos(){if(!I.requireApiVersion("1.2.0"))return;const n=i=>{clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{setTimeout(async()=>{const s=i.canvas.getData(),c=s.nodes.find(d=>d.id===i.id);if(c&&(r(c),i.canvas.setData(s),Me.getMemoById(i.id))){const h=await Me.updateMemo(i.id,c.text,c.thinoType);Me.editMemo(h)}i.canvas.requestSave(!0)},0)},800)},r=i=>{i.createdAt||(i.createdAt=I.moment().format("YYYY-MM-DD HH:mm:ss")),i.updatedAt=I.moment().format("YYYY-MM-DD HH:mm:ss"),i.deletedAt=i.deletedAt?i.deletedAt:"",i.pinned=i.pinned?i.pinned:!1,i.visibility=i.visibility?i.visibility:"PUBLIC",i.rowStatus=i.rowStatus?i.rowStatus:"NORMAL",i.thinoType=i.thinoType?i.thinoType:"JOURNAL",i.hasId=i.hasId?i.hasId:"",i.linkId=i.linkId?i.linkId:"",i.resourceList=[]},a=()=>{var w,b;const i=(w=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:w.view;if(!i||!(i==null?void 0:i.canvas))return!1;const c=((b=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:b.view).canvas.nodes.values(),h=Array.from(c).filter(T=>T.text!==void 0);if(!h||h.length===0)return!1;const g=h[0].child;if(!g)return!1;const m=nv(g.constructor.prototype,{save:T=>function(...E){T.call(this,...E),this.node.isEditing&&n(this.node)}});return this.register(m),!0};this.app.workspace.onLayoutReady(()=>{if(!a()){const i=this.app.workspace.on("layout-change",()=>{a()&&this.app.workspace.offref(i)});this.registerEvent(i)}})}registerHoverEvent(){this.registerHoverLinkSource("thino",{defaultMod:!0,display:"Thino"})}registerRibbon(){this.addRibbonIcon("Memos",O("ribbonIconTitle"),async n=>{if(n.button===2){n.preventDefault();const r=new I.Menu;Rg.forEach(a=>{r.addItem(i=>{i.setTitle(a.shortName).setIcon(a.icon).onClick(async()=>{await this.openMemos(a.location,a.cb)})})}),r.showAtMouseEvent(n);return}for(let r=0;r<Rg.length;r++){const a=Rg[r];if(!a.modKeys){await this.openMemos(a.location,a.cb);break}if(!KZ(n))continue;const i=s=>n[`${s}Key`];if(typeof a.modKeys=="string"&&i(a.modKeys)||Array.isArray(a.modKeys)&&a.modKeys.some(i)){await this.openMemos(a.location,a.cb);break}}})}registerThinoWidget(){this.registerEditorExtension([GZ(this)])}registerToolbarCheck(){var a;if(this.loaded)return;const n=(a=ut.getState())==null?void 0:a.verifyState,r=I.Platform.isMobile?this.app.appId.replace(/\//g,"-"):this.app.appId;!n||n.appId!==r||(this.registerEditorExtension([aZ(this.app)]),this.registerEditorSuggest(new iQ(this.app,this)),this.loaded=!0)}async verify(){async function n(r,a){var d;if(!r)return ut.setVerifyState(null),!1;const c=await LZ(`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr+i4MLzI40gGFHl7gdRH
UL1mH0NcWEs1/IBYDDbc9ALbvUGwDaUcVIKke+b+F4T7qISexyGd5qV0s1vNYeCk
iCTq4w3+CFDurIFYAgQYTcV6K5pL8Bpb79FEclsTnAcKgiuzKBxPZ1djKxbgnmFj
+PE+EcmX+JJK9hG1O8X+YFJoPJWl225eCoysONickiI7Ndwu9YLR8pIUb1VMyJSy
cMR87z466Nc5Hx2QhwyuiiQYL3Ru4WkNF3AVWgqeOlhBDybFFwDaV7OOMTiYtH46
3iKx6azEVS8W/gYfrW+hKp2VziPPw3oxouP/wCes/4qRlXkwyjSwtfLtpE4Rsa4+
swIDAQAB
-----END PUBLIC KEY-----`,"RS256");try{const{payload:h}=await $Z(r,c),g=JSON.parse(new TextDecoder().decode(h));return!g||g.iss!=="pkmer"||g.type!=="thino"||g.appId!==((d=a.app.appId)==null?void 0:d.replace(/\//g,"-"))?!1:(ut.setVerifyState(g),!0)}catch{}}return await n(this.settings.tokenForVerify[this.app.appId],this)}autoOpenMemos(){this.app.workspace.getLeavesOfType(Fr).length>0||this.settings.MobileAndDesktop==="Mobile"&&I.Platform.isDesktop||this.settings.MobileAndDesktop==="Desktop"&&I.Platform.isMobile||this.settings.OpenMemosAutomatically&&this.openMemos()}openDailyMemo(){const n=this.app.workspace.getLeavesOfType(Fr);if(!this.settings.OpenDailyMemosWithMemos){Bp();return}if(n.length>0){Bp();return}this.openMemos(),Bp()}async openMemos(n="center",r){const a=this.app.workspace;if(a.getLeavesOfType(Fr).length>0){const s=a.getLeavesOfType(Fr)[0];a.setActiveLeaf(s),a.revealLeaf(s);return}a.detachLeavesOfType(Fr);let i;switch(n){case"left":i=a.getLeftLeaf(!1);break;case"right":i=a.getRightLeaf(!1);break;case"float":i=a.getLeaf("window");break;default:i=a.getLeaf(!1);break}if(i&&(await i.setViewState({type:Fr}),a.revealLeaf(i)),this.settings.FocusOnEditor){const s=i.view.containerEl.querySelector("textarea");s&&s.focus()}r==null||r()}searchIt(){const n=this.app.workspace,r=n.getLeavesOfType(Fr);if(!(r.length>0)){this.openMemos();return}const a=r[0];n.setActiveLeaf(a),a.view.containerEl.querySelector(".search-bar-inputer .text-input").focus()}async focusOnEditor(){if(!(this.app.workspace.getLeavesOfType(Fr).length>0)){await this.openMemos();return}this.app.workspace.trigger("focus-on-textarea")}changeStatus(){const n=this.app.workspace,r=n.getLeavesOfType(Fr);if(!(r.length>0)){new I.Notice(O("Please Open Memos First"));return}const a=r[0];n.setActiveLeaf(a),a.view.containerEl.querySelector(".list-or-task").click()}async showInPopover(){var i,s,c;const n=this.app.workspace;if(n.detachLeavesOfType(Fr),!this.app.plugins.getPlugin("obsidian-hover-editor")){new I.Notice(O("Please install obsidian-hover-editor plugin first"));return}const a=await((i=this.app.plugins.getPlugin("obsidian-hover-editor"))==null?void 0:i.spawnPopover());a&&(await a.setViewState({type:Fr}),n.revealLeaf(a),a.view.containerEl.classList.add("mobile-view"),(s=this.settings)!=null&&s.FocusOnEditor&&a.view.containerEl.querySelector("textarea")!==void 0&&((c=a.view.containerEl.querySelector("textarea"))==null||c.focus()))}}module.exports=QZ;
