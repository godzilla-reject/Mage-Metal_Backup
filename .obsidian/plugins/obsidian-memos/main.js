"use strict";var G3=Object.defineProperty;var J3=(e,t,n)=>t in e?G3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var me=(e,t,n)=>(J3(e,typeof t!="symbol"?t+"":t,n),n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const E=require("obsidian"),w0=require("@codemirror/language"),Xh=require("@codemirror/state"),xi=require("@codemirror/view");var Jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nI={exports:{}},Nh={},rI={exports:{}},Nt={},jb;function K3(){if(jb)return Nt;jb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function C(W,$,X){this.props=W,this.context=$,this.refs=T,this.updater=X||D}C.prototype.isReactComponent={},C.prototype.setState=function(W,$){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,$,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function A(){}A.prototype=C.prototype;function N(W,$,X){this.props=W,this.context=$,this.refs=T,this.updater=X||D}var L=N.prototype=new A;L.constructor=N,S(L,C.prototype),L.isPureReactComponent=!0;var F=Array.isArray,H=Object.prototype.hasOwnProperty,j={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function V(W,$,X){var ve,De={},be=null,ke=null;if($!=null)for(ve in $.ref!==void 0&&(ke=$.ref),$.key!==void 0&&(be=""+$.key),$)H.call($,ve)&&!_.hasOwnProperty(ve)&&(De[ve]=$[ve]);var Be=arguments.length-2;if(Be===1)De.children=X;else if(1<Be){for(var _e=Array(Be),it=0;it<Be;it++)_e[it]=arguments[it+2];De.children=_e}if(W&&W.defaultProps)for(ve in Be=W.defaultProps,Be)De[ve]===void 0&&(De[ve]=Be[ve]);return{$$typeof:e,type:W,key:be,ref:ke,props:De,_owner:j.current}}function U(W,$){return{$$typeof:e,type:W.type,key:$,ref:W.ref,props:W.props,_owner:W._owner}}function z(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function q(W){var $={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(X){return $[X]})}var ee=/\/+/g;function ce(W,$){return typeof W=="object"&&W!==null&&W.key!=null?q(""+W.key):$.toString(36)}function fe(W,$,X,ve,De){var be=typeof W;(be==="undefined"||be==="boolean")&&(W=null);var ke=!1;if(W===null)ke=!0;else switch(be){case"string":case"number":ke=!0;break;case"object":switch(W.$$typeof){case e:case t:ke=!0}}if(ke)return ke=W,De=De(ke),W=ve===""?"."+ce(ke,0):ve,F(De)?(X="",W!=null&&(X=W.replace(ee,"$&/")+"/"),fe(De,$,X,"",function(it){return it})):De!=null&&(z(De)&&(De=U(De,X+(!De.key||ke&&ke.key===De.key?"":(""+De.key).replace(ee,"$&/")+"/")+W)),$.push(De)),1;if(ke=0,ve=ve===""?".":ve+":",F(W))for(var Be=0;Be<W.length;Be++){be=W[Be];var _e=ve+ce(be,Be);ke+=fe(be,$,X,_e,De)}else if(_e=w(W),typeof _e=="function")for(W=_e.call(W),Be=0;!(be=W.next()).done;)be=be.value,_e=ve+ce(be,Be++),ke+=fe(be,$,X,_e,De);else if(be==="object")throw $=String(W),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ke}function ie(W,$,X){if(W==null)return W;var ve=[],De=0;return fe(W,ve,"","",function(be){return $.call(X,be,De++)}),ve}function he(W){if(W._status===-1){var $=W._result;$=$(),$.then(function(X){(W._status===0||W._status===-1)&&(W._status=1,W._result=X)},function(X){(W._status===0||W._status===-1)&&(W._status=2,W._result=X)}),W._status===-1&&(W._status=0,W._result=$)}if(W._status===1)return W._result.default;throw W._result}var Ie={current:null},se={transition:null},we={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:se,ReactCurrentOwner:j};return Nt.Children={map:ie,forEach:function(W,$,X){ie(W,function(){$.apply(this,arguments)},X)},count:function(W){var $=0;return ie(W,function(){$++}),$},toArray:function(W){return ie(W,function($){return $})||[]},only:function(W){if(!z(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Nt.Component=C,Nt.Fragment=n,Nt.Profiler=a,Nt.PureComponent=N,Nt.StrictMode=r,Nt.Suspense=d,Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,Nt.cloneElement=function(W,$,X){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ve=S({},W.props),De=W.key,be=W.ref,ke=W._owner;if($!=null){if($.ref!==void 0&&(be=$.ref,ke=j.current),$.key!==void 0&&(De=""+$.key),W.type&&W.type.defaultProps)var Be=W.type.defaultProps;for(_e in $)H.call($,_e)&&!_.hasOwnProperty(_e)&&(ve[_e]=$[_e]===void 0&&Be!==void 0?Be[_e]:$[_e])}var _e=arguments.length-2;if(_e===1)ve.children=X;else if(1<_e){Be=Array(_e);for(var it=0;it<_e;it++)Be[it]=arguments[it+2];ve.children=Be}return{$$typeof:e,type:W.type,key:De,ref:be,props:ve,_owner:ke}},Nt.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},Nt.createElement=V,Nt.createFactory=function(W){var $=V.bind(null,W);return $.type=W,$},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(W){return{$$typeof:u,render:W}},Nt.isValidElement=z,Nt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:he}},Nt.memo=function(W,$){return{$$typeof:m,type:W,compare:$===void 0?null:$}},Nt.startTransition=function(W){var $=se.transition;se.transition={};try{W()}finally{se.transition=$}},Nt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Nt.useCallback=function(W,$){return Ie.current.useCallback(W,$)},Nt.useContext=function(W){return Ie.current.useContext(W)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(W){return Ie.current.useDeferredValue(W)},Nt.useEffect=function(W,$){return Ie.current.useEffect(W,$)},Nt.useId=function(){return Ie.current.useId()},Nt.useImperativeHandle=function(W,$,X){return Ie.current.useImperativeHandle(W,$,X)},Nt.useInsertionEffect=function(W,$){return Ie.current.useInsertionEffect(W,$)},Nt.useLayoutEffect=function(W,$){return Ie.current.useLayoutEffect(W,$)},Nt.useMemo=function(W,$){return Ie.current.useMemo(W,$)},Nt.useReducer=function(W,$,X){return Ie.current.useReducer(W,$,X)},Nt.useRef=function(W){return Ie.current.useRef(W)},Nt.useState=function(W){return Ie.current.useState(W)},Nt.useSyncExternalStore=function(W,$,X){return Ie.current.useSyncExternalStore(W,$,X)},Nt.useTransition=function(){return Ie.current.useTransition()},Nt.version="18.2.0",Nt}rI.exports=K3();var O=rI.exports;const J=Xn(O);var Lb;function Q3(){if(Lb)return Nh;Lb=1;var e=O,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,d,m){var p,g={},w=null,D=null;m!==void 0&&(w=""+m),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(D=d.ref);for(p in d)r.call(d,p)&&!o.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:t,type:u,key:w,ref:D,props:g,_owner:a.current}}return Nh.Fragment=n,Nh.jsx=s,Nh.jsxs=s,Nh}nI.exports=Q3();var y=nI.exports;const Sl=e=>{const{children:t,store:n,context:r}=e,[a,o]=O.useState(n.getState());return O.useEffect(()=>{const s=n.subscribe(u=>{o(u)});return()=>{s()}},[]),y.jsx(r.Provider,{value:a,children:t})};function X3(e){const t=Object.keys(e),n={};for(const r of t)typeof e[r]=="function"&&(n[r]=e[r]);return(r={},a)=>{let o=!1;const s={};for(const u of t){const d=r[u],m=n[u](d,a);s[u]=m,o=o||m!==d}return o?s:r}}function e4(e,t){const n=[];let r=e;return{dispatch:u=>{const d=t(r,u),m=r;r=d;for(const p of n)p(r,m)},getState:()=>r,subscribe:u=>{let d=!0;return n.push(u),()=>{if(!d)return;const m=n.indexOf(u);n.splice(m,1),d=!1}}}}function t4(e,t){switch(t.type){case"SET_MARK_MEMO_ID":return t.payload.markMemoId===e.markMemoId?e:{...e,markMemoId:t.payload.markMemoId};case"SET_EDIT_MEMO_ID":return t.payload.editMemoId===e.editMemoId?e:{...e,editMemoId:t.payload.editMemoId};case"SET_GLOBAL_EDITOR_SHOWN":return t.payload.globalEditorShown===e.globalEditorShown?e:{...e,globalEditorShown:t.payload.globalEditorShown};case"SET_COMMENT_MEMO_ID":return t.payload.commentMemoId===e.commentMemoId?e:{...e,commentMemoId:t.payload.commentMemoId};case"SET_MOBILE_VIEW":return t.payload.isMobileView===e.isMobileView?e:{...e,isMobileView:t.payload.isMobileView};case"SET_CHANGED_BY_MEMOS":return t.payload.changedByMemos===e.changedByMemos?e:{...e,changedByMemos:t.payload.changedByMemos};case"SET_REFRESH":return t.payload.refresh===e.refresh?e:{...e,refresh:t.payload.refresh};case"SET_INSTANCE":return{...e,instanceList:e.instanceList.set(t.payload.id,t.payload.instance)};case"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW":return t.payload.showSiderbarInMobileView===e.showSiderbarInMobileView?e:{...e,showSiderbarInMobileView:t.payload.showSiderbarInMobileView};case"SET_MEMO_LIST_VIEW":return t.payload.memoListView===e.memoListView?e:{...e,memoListView:t.payload.memoListView};case"SET_MEMO_PLUGIN_MANIFEST":return{...e,manifest:t.payload.manifest};case"SET_LOADED":return{...e,loaded:t.payload.loaded};case"SET_LOCKED":return{...e,locked:t.payload.locked};case"SET_APP_SETTING":return{...e,...t.payload};default:return e}}const n4={markMemoId:"",editMemoId:"",commentMemoId:"",shouldSplitMemoWord:!0,shouldHideImageUrl:!0,shouldUseMarkdownParser:!0,useTinyUndoHistoryCache:!1,isMobileView:!1,showSiderbarInMobileView:!1,changedByMemos:!1,memoListView:null,manifest:null,refresh:!1,loaded:!1,globalEditorShown:!1,instanceList:new Map,locked:!1};function r4(e,t){switch(t.type){case"RELOAD":return aI;case"SET_LOCATION":return t.payload;case"SET_PATHNAME":return t.payload.pathname===e.pathname?e:{...e,pathname:t.payload.pathname};case"SET_HASH":return t.payload.hash===e.hash?e:{...e,hash:t.payload.hash};case"SET_QUERY":return{...e,query:{...t.payload}};case"SET_TAG_QUERY":return t.payload.tag===e.query.tag?e:{...e,query:{...e.query,tag:t.payload.tag}};case"SET_DURATION_QUERY":return t.payload.duration===e.query.duration?e:{...e,query:{...e.query,duration:{...e.query.duration,...t.payload.duration}}};case"SET_TYPE":return t.payload.type===e.query.type?e:{...e,query:{...e.query,type:t.payload.type}};case"SET_TEXT":return t.payload.text===e.query.text?e:{...e,query:{...e.query,text:t.payload.text}};case"SET_QUERY_FILTER":return t.payload===e.query.filter?e:{...e,query:{...e.query,filter:t.payload}};default:return e}}const aI={pathname:"/",hash:"",query:{tag:"",duration:null,type:"",text:"",filter:""}};var kt={};Object.defineProperty(kt,"__esModule",{value:!0});var Dn=E;const uw="YYYY-MM-DD",dw="gggg-[W]ww",oI="YYYY-MM",iI="YYYY-[Q]Q",sI="YYYY";function mm(e){var n,r;const t=window.app.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n[e])==null?void 0:r.enabled)}function pm(){var e,t,n,r;try{const{internalPlugins:a,plugins:o}=window.app;if(mm("daily")){const{format:m,folder:p,template:g}=((t=(e=o.getPlugin("periodic-notes"))==null?void 0:e.settings)==null?void 0:t.daily)||{};return{format:m||uw,folder:(p==null?void 0:p.trim())||"",template:(g==null?void 0:g.trim())||""}}const{folder:s,format:u,template:d}=((r=(n=a.getPluginById("daily-notes"))==null?void 0:n.instance)==null?void 0:r.options)||{};return{format:u||uw,folder:(s==null?void 0:s.trim())||"",template:(d==null?void 0:d.trim())||""}}catch{}}function gm(){var e,t,n,r,a,o,s;try{const u=window.app.plugins,d=(e=u.getPlugin("calendar"))==null?void 0:e.options,m=(n=(t=u.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.weekly;if(mm("weekly"))return{format:m.format||dw,folder:((r=m.folder)==null?void 0:r.trim())||"",template:((a=m.template)==null?void 0:a.trim())||""};const p=d||{};return{format:p.weeklyNoteFormat||dw,folder:((o=p.weeklyNoteFolder)==null?void 0:o.trim())||"",template:((s=p.weeklyNoteTemplate)==null?void 0:s.trim())||""}}catch{}}function vm(){var t,n,r,a;const e=window.app.plugins;try{const o=mm("monthly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.monthly)||{};return{format:o.format||oI,folder:((r=o.folder)==null?void 0:r.trim())||"",template:((a=o.template)==null?void 0:a.trim())||""}}catch{}}function ym(){var t,n,r,a;const e=window.app.plugins;try{const o=mm("quarterly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.quarterly)||{};return{format:o.format||iI,folder:((r=o.folder)==null?void 0:r.trim())||"",template:((a=o.template)==null?void 0:a.trim())||""}}catch{}}function wm(){var t,n,r,a;const e=window.app.plugins;try{const o=mm("yearly")&&((n=(t=e.getPlugin("periodic-notes"))==null?void 0:t.settings)==null?void 0:n.yearly)||{};return{format:o.format||sI,folder:((r=o.folder)==null?void 0:r.trim())||"",template:((a=o.template)==null?void 0:a.trim())||""}}catch{}}function lI(...e){let t=[];for(let r=0,a=e.length;r<a;r++)t=t.concat(e[r].split("/"));const n=[];for(let r=0,a=t.length;r<a;r++){const o=t[r];!o||o==="."||n.push(o)}return t[0]===""&&n.unshift(""),n.join("/")}function a4(e){let t=e.substring(e.lastIndexOf("/")+1);return t.lastIndexOf(".")!=-1&&(t=t.substring(0,t.lastIndexOf("."))),t}async function o4(e){const t=e.replace(/\\/g,"/").split("/");if(t.pop(),t.length){const n=lI(...t);window.app.vault.getAbstractFileByPath(n)||await window.app.vault.createFolder(n)}}async function bm(e,t){t.endsWith(".md")||(t+=".md");const n=Dn.normalizePath(lI(e,t));return await o4(n),n}async function _d(e){const{metadataCache:t,vault:n}=window.app,r=Dn.normalizePath(e);if(r==="/")return Promise.resolve(["",null]);try{const a=t.getFirstLinkpathDest(r,""),o=await n.cachedRead(a),s=window.app.foldManager.load(a);return[o,s]}catch(a){return console.error(`Failed to read the daily note template '${r}'`,a),new Dn.Notice("Failed to read the daily note template"),["",null]}}function Bo(e,t="day"){const n=e.clone().startOf(t).format();return`${t}-${n}`}function cI(e){return e.replace(/\[[^\]]*\]/g,"")}function i4(e,t){if(t==="week"){const n=cI(e);return/w{1,2}/i.test(n)&&(/M{1,4}/.test(n)||/D{1,4}/.test(n))}return!1}function Hd(e,t){return uI(e.basename,t)}function s4(e,t){return uI(a4(e),t)}function uI(e,t){const r={day:pm,week:gm,month:vm,quarter:ym,year:wm}[t]().format.split("/").pop(),a=window.moment(e,r,!0);if(!a.isValid())return null;if(i4(r,t)&&t==="week"){const o=cI(r);if(/w{1,2}/i.test(o))return window.moment(e,r.replace(/M{1,4}/g,"").replace(/D{1,4}/g,""),!1)}return a}class l4 extends Error{}async function dI(e){const t=window.app,{vault:n}=t,r=window.moment,{template:a,format:o,folder:s}=pm(),[u,d]=await _d(a),m=e.format(o),p=await bm(s,m);try{const g=await n.create(p,u.replace(/{{\s*date\s*}}/gi,m).replace(/{{\s*time\s*}}/gi,r().format("HH:mm")).replace(/{{\s*title\s*}}/gi,m).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(w,D,S,T,C,A)=>{const N=r(),L=e.clone().set({hour:N.get("hour"),minute:N.get("minute"),second:N.get("second")});return S&&L.add(parseInt(T,10),C),A?L.format(A.substring(1).trim()):L.format(o)}).replace(/{{\s*yesterday\s*}}/gi,e.clone().subtract(1,"day").format(o)).replace(/{{\s*tomorrow\s*}}/gi,e.clone().add(1,"d").format(o)));return t.foldManager.save(g,d),g}catch(g){console.error(`Failed to create file: '${p}'`,g),new Dn.Notice("Unable to create new file.")}}function c4(e,t){return t[Bo(e,"day")]??null}function u4(){const{vault:e}=window.app,{folder:t}=pm(),n=e.getAbstractFileByPath(Dn.normalizePath(t));if(!n)throw new l4("Failed to find daily notes folder");const r={};return Dn.Vault.recurseChildren(n,a=>{if(a instanceof Dn.TFile){const o=Hd(a,"day");if(o){const s=Bo(o,"day");r[s]=a}}}),r}class d4 extends Error{}function f4(){const{moment:e}=window;let t=e.localeData()._week.dow;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;)n.push(n.shift()),t--;return n}function h4(e){return f4().indexOf(e.toLowerCase())}async function fI(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=gm(),[o,s]=await _d(n),u=e.format(r),d=await bm(a,u);try{const m=await t.create(d,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,g,w,D,S,T)=>{const C=window.moment(),A=e.clone().set({hour:C.get("hour"),minute:C.get("minute"),second:C.get("second")});return w&&A.add(parseInt(D,10),S),T?A.format(T.substring(1).trim()):A.format(r)}).replace(/{{\s*title\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(p,g,w)=>{const D=h4(g);return e.weekday(D).format(w.trim())}));return window.app.foldManager.save(m,s),m}catch(m){console.error(`Failed to create file: '${d}'`,m),new Dn.Notice("Unable to create new file.")}}function m4(e,t){return t[Bo(e,"week")]??null}function p4(){const e={};if(!mI())return e;const{vault:t}=window.app,{folder:n}=gm(),r=t.getAbstractFileByPath(Dn.normalizePath(n));if(!r)throw new d4("Failed to find weekly notes folder");return Dn.Vault.recurseChildren(r,a=>{if(a instanceof Dn.TFile){const o=Hd(a,"week");if(o){const s=Bo(o,"week");e[s]=a}}}),e}class g4 extends Error{}async function hI(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=vm(),[o,s]=await _d(n),u=e.format(r),d=await bm(a,u);try{const m=await t.create(d,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,g,w,D,S,T)=>{const C=window.moment(),A=e.clone().set({hour:C.get("hour"),minute:C.get("minute"),second:C.get("second")});return w&&A.add(parseInt(D,10),S),T?A.format(T.substring(1).trim()):A.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(m,s),m}catch(m){console.error(`Failed to create file: '${d}'`,m),new Dn.Notice("Unable to create new file.")}}function v4(e,t){return t[Bo(e,"month")]??null}function y4(){const e={};if(!pI())return e;const{vault:t}=window.app,{folder:n}=vm(),r=t.getAbstractFileByPath(Dn.normalizePath(n));if(!r)throw new g4("Failed to find monthly notes folder");return Dn.Vault.recurseChildren(r,a=>{if(a instanceof Dn.TFile){const o=Hd(a,"month");if(o){const s=Bo(o,"month");e[s]=a}}}),e}class w4 extends Error{}async function b4(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=ym(),[o,s]=await _d(n),u=e.format(r),d=await bm(a,u);try{const m=await t.create(d,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,g,w,D,S,T)=>{const C=window.moment(),A=e.clone().set({hour:C.get("hour"),minute:C.get("minute"),second:C.get("second")});return w&&A.add(parseInt(D,10),S),T?A.format(T.substring(1).trim()):A.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(m,s),m}catch(m){console.error(`Failed to create file: '${d}'`,m),new Dn.Notice("Unable to create new file.")}}function D4(e,t){return t[Bo(e,"quarter")]??null}function S4(){const e={};if(!gI())return e;const{vault:t}=window.app,{folder:n}=ym(),r=t.getAbstractFileByPath(Dn.normalizePath(n));if(!r)throw new w4("Failed to find quarterly notes folder");return Dn.Vault.recurseChildren(r,a=>{if(a instanceof Dn.TFile){const o=Hd(a,"quarter");if(o){const s=Bo(o,"quarter");e[s]=a}}}),e}class I4 extends Error{}async function T4(e){const{vault:t}=window.app,{template:n,format:r,folder:a}=wm(),[o,s]=await _d(n),u=e.format(r),d=await bm(a,u);try{const m=await t.create(d,o.replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(p,g,w,D,S,T)=>{const C=window.moment(),A=e.clone().set({hour:C.get("hour"),minute:C.get("minute"),second:C.get("second")});return w&&A.add(parseInt(D,10),S),T?A.format(T.substring(1).trim()):A.format(r)}).replace(/{{\s*date\s*}}/gi,u).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,u));return window.app.foldManager.save(m,s),m}catch(m){console.error(`Failed to create file: '${d}'`,m),new Dn.Notice("Unable to create new file.")}}function E4(e,t){return t[Bo(e,"year")]??null}function C4(){const e={};if(!vI())return e;const{vault:t}=window.app,{folder:n}=wm(),r=t.getAbstractFileByPath(Dn.normalizePath(n));if(!r)throw new I4("Failed to find yearly notes folder");return Dn.Vault.recurseChildren(r,a=>{if(a instanceof Dn.TFile){const o=Hd(a,"year");if(o){const s=Bo(o,"year");e[s]=a}}}),e}function x4(){var r,a;const{app:e}=window,t=e.internalPlugins.plugins["daily-notes"];if(t&&t.enabled)return!0;const n=e.plugins.getPlugin("periodic-notes");return n&&((a=(r=n.settings)==null?void 0:r.daily)==null?void 0:a.enabled)}function mI(){var n,r;const{app:e}=window;if(e.plugins.getPlugin("calendar"))return!0;const t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.weekly)==null?void 0:r.enabled)}function pI(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.monthly)==null?void 0:r.enabled)}function gI(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.quarterly)==null?void 0:r.enabled)}function vI(){var n,r;const{app:e}=window,t=e.plugins.getPlugin("periodic-notes");return t&&((r=(n=t.settings)==null?void 0:n.yearly)==null?void 0:r.enabled)}function M4(e){const t={day:pm,week:gm,month:vm,quarter:ym,year:wm}[e];return t()}function N4(e,t){return{day:dI,month:hI,week:fI}[e](t)}kt.DEFAULT_DAILY_NOTE_FORMAT=uw;kt.DEFAULT_MONTHLY_NOTE_FORMAT=oI;kt.DEFAULT_QUARTERLY_NOTE_FORMAT=iI;kt.DEFAULT_WEEKLY_NOTE_FORMAT=dw;kt.DEFAULT_YEARLY_NOTE_FORMAT=sI;var yI=kt.appHasDailyNotesPluginLoaded=x4;kt.appHasMonthlyNotesPluginLoaded=pI;kt.appHasQuarterlyNotesPluginLoaded=gI;kt.appHasWeeklyNotesPluginLoaded=mI;kt.appHasYearlyNotesPluginLoaded=vI;var wI=kt.createDailyNote=dI;kt.createMonthlyNote=hI;kt.createPeriodicNote=N4;kt.createQuarterlyNote=b4;kt.createWeeklyNote=fI;kt.createYearlyNote=T4;var Oi=kt.getAllDailyNotes=u4;kt.getAllMonthlyNotes=y4;kt.getAllQuarterlyNotes=S4;kt.getAllWeeklyNotes=p4;kt.getAllYearlyNotes=C4;var Pv=kt.getDailyNote=c4,ov=kt.getDailyNoteSettings=pm,Zh=kt.getDateFromFile=Hd;kt.getDateFromPath=s4;kt.getDateUID=Bo;kt.getMonthlyNote=v4;kt.getMonthlyNoteSettings=vm;kt.getPeriodicNoteSettings=M4;kt.getQuarterlyNote=D4;kt.getQuarterlyNoteSettings=ym;kt.getTemplateInfo=_d;kt.getWeeklyNote=m4;kt.getWeeklyNoteSettings=gm;kt.getYearlyNote=E4;kt.getYearlyNoteSettings=wm;const k4={},A4={},O4={},F4={},bI={welcome:"Welcome to Thino",ribbonIconTitle:"Thino",to:"to",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekDaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],year:null,month:null,"Basic Options":"Basic options","User name in Memos":"User name in Thino","Set your user name here. 'Memos üòè' By default":"Set your user name here. 'Thino üòè' By default",'You can set target heading like "# Heading" to control data location':'You can set target heading like "# Heading" to control data location',"Insert after heading":"Insert after heading","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"You should set the same heading below if you want to insert and process thino below the same heading.","Allows admonitions to be created using ":"Allows admonitions to be created using ","Process Memos below":"Process thino below","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.","Save Memo button label":"Save thino button label","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"The text shown on the save Thino button in the UI. 'NOTEIT' by default.","Focus on editor when open memos":"Focus on editor when open thino","Focus on editor when open memos. Focus by default.":"Focus on editor when open thino. Focus by default.","Open daily memos with open memos":"Open daily thino with open thino","Open daily memos with open memos. Open by default.":"Open daily thino with open thino. Open by default.","Open Memos when obsidian opens":"Open Thino when obsidian opens","When enable this, Memos will open when Obsidian opens. False by default.":"When enable this, Thino will open when Obsidian opens. False by default.","Hide done tasks in Memo list":"Hide done tasks in Thino list","Hide all done tasks in Memo list. Show done tasks by default.":"Hide all done tasks in Thino list. Show done tasks by default.","Advanced Options":"Advanced Options","UI language for date":"UI language for date","Translates the date UI language. Only 'en' and 'zh' are available.":"Translates the date UI language. Only 'en' and 'zh' are available.","Default prefix":"Default prefix","Set the default prefix when create memo, 'List' by default.":"Set the default prefix when create thino, 'List' by default.","Default insert date format":"Default insert date format","Set the default date format when insert date by @, 'Tasks' by default.":"Set the default date format when insert date by @, 'Tasks' by default.","Default editor position on mobile":"Default editor position on mobile","Set the default editor position on Mobile, 'Top' by default.":"Set the default editor position on Mobile, 'Top' by default.","Use button to show editor on mobile":"Use button to show editor on mobile","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Set a float button to call editor on mobile. Only when editor located at the bottom works.","Show Time When Copy Results":"Show Time When Copy Results","Show time when you copy results, like 12:00. Copy time by default.":"Show time when you copy results, like 12:00. Copy time by default.","Show Date When Copy Results":"Show Date When Copy Results","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Show date when you copy results, like [[2022-01-01]]. Copy date by default.","Add Blank Line Between Different Date":"Add Blank Line Between Different Date","Add blank line when copy result with date. No blank line by default.":"Add blank line when copy result with date. No blank line by default.","Share Options":"Share Options","Share Memos Image Footer Start":"Share Thino Image Footer Start","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default","Share Memos Image Footer End":"Share Thino Image Footer End","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default","Save Shared Image To Folder For Mobile":"Save Shared Image To Folder For Mobile","Save image to folder for mobile. False by Default":"Save image to folder for mobile. False by Default","Say Thank You":"Say Thank You",Donate:"Donate","If you like this plugin, consider donating to support continued development:":"If you like this plugin, consider donating to support continued development:","File Name of Recycle Bin":"File Name of Recycle Bin","Set the filename for recycle bin. 'delete' By default":"Set the filename for recycle bin. 'delete' By default","File Name of Query File":"File Name of Query File","Set the filename for query file. 'query' By default":"Set the filename for query file. 'query' By default","Use Tags In Vault":"Use Tags In Vault","Use tags in vault rather than only in Memos. False by default.":"Use tags in vault rather than only in Thino. False by default.","Ready to convert image into background":"Ready to convert image into background",List:"List",Task:"Task",Top:"Top",Bottom:"Bottom",TAG:"TAG",DAY:"DAY",QUERY:"Query",EDIT:"EDIT",PIN:"PIN",UNPIN:"UNPIN",DELETE:"DELETE","CONFIRMÔºÅ":"CONFIRMÔºÅ","CREATE FILTER":"CREATE FILTER","Comment it...":"Comment it...",Settings:"Settings","Recycle bin":"Recycle bin","About Me":"About Me","Fetching data...":"Fetching data...","Here is No Memos.":"Here is No Thino.","Frequently Used Tags":"Frequently Used Tags","What do you think now...":"What do you think now...",READ:"READ",MARK:"MARK",SHARE:"SHARE",SOURCE:"SOURCE",RESTORE:"RESTORE",ARCHIVE:"Archive","DELETE AT":"DELETE AT","Noooop!":"Noooop!","All Data is Loaded üéâ":"All Data is Loaded üéâ","Quick filter":"Quick filter",TYPE:"TYPE",LINKED:"LINKED","NO TAGS":"NO TAGS","HAS LINKS":"HAS LINKS","HAS IMAGES":"HAS IMAGES",INCLUDE:"INCLUDE",EXCLUDE:"EXCLUDE",TEXT:"TEXT",IS:"IS",AND:"AND",OR:"OR",LIST:"LIST",ISNOT:"ISNOT",SELECT:"SELECT","ADD FILTER TERMS":"ADD FILTER TERMS",FILTER:"FILTER",Filter:"Filter",TITLE:"TITLE","CREATE QUERY":"CREATE QUERY","EDIT QUERY":"EDIT QUERY",MATCH:"MATCH",TIMES:"TIMES","Share Memo Image":"Share Thino Image","‚ÜóClick the button to save":"‚ÜóClick the button to save","Image is generating...":"Image is generating...","Image is loading...":"Image is loading...","Loading...":"Loading...","üòü Cannot load image, image link maybe broken":"üòü Cannot load image, image link maybe broken","Daily Memos":"Daily Thino","CANCEL EDIT":"CANCEL EDIT","LINK TO THE":"LINK TO THE","Mobile Options":"Mobile Options","Experimental Options":"Experimental Options","Don't support web image yet, please input image path in vault":"Don't support web image yet, please input image path in vault","Background Image in Dark Theme":"Background Image in Dark Theme","Background Image in Light Theme":"Background Image in Light Theme",'Set background image in dark theme. Set something like "Daily/one.png"':'Set background image in dark theme. Set something like "Daily/one.png"','Set background image in light theme. Set something like "Daily/one.png"':'Set background image in light theme. Set something like "Daily/one.png"','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Set default thino composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default',"Default Memo Composition":"[Deprecated] Default Thino Composition","Show Tasks Label":"Show Tasks Label","Show tasks label near the time text. False by default":"Show tasks label near the time text. False by default","Please Open Memos First":"Please Open Thino First",DATE:"DATE",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"BEFORE",AFTER:"AFTER","Allow Comments On Memos":"Allow Comments On Thino","You can comment on memos. False by default":"You can comment on thino. False by default",Import:"Import","TITLE CANNOT BE NULL!":"TITLE CANNOT BE NULL!","FILTER CANNOT BE NULL!":"FILTER CANNOT BE NULL!","Comments In Original DailyNotes/Notes":"Comments In Original DailyNotes/Notes","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"You should install Dataview Plugin ver 0.5.9 or later to use this feature.","Open Memos Successfully":"Open Thino Successfully","Fetch Memos Error":"üò≠ Fetch Error","Copied to clipboard Successfully":"Copied to clipboard Successfully","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Check if you opened Daily Notes Plugin Or Periodic Notes Plugin","Please finish the last filter setting first":"Please finish the last filter setting first","Close Memos Successfully":"Close Thino Successfully","Insert as Memo":"Insert as Thino","Insert file as memo content":"Insert file as thino content","Image load failed":"Image load failed","Content cannot be empty":"Content cannot be empty","Unable to create new file.":"Unable to create new file.","Failed to fetch deleted memos: ":"Failed to fetch deleted thino: ","RESTORE SUCCEED":"RESTORE SUCCEED","DELETE SUCCEED":"DELETE SUCCEED","Save Memo button icon":"Save Thino button icon","The icon shown on the save Memo button in the UI.":"The icon shown on the save Thino button in the UI.","Fetch Memos From Particular Notes":"Fetch Thino From Particular Notes",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'You can set any Dataview Query for thino to fetch it. All thino in those notes will show on list. "#memo" by default',"Allow Memos to Fetch Memo from Notes":"Allow Thino to Fetch Thino from Notes","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"Use Thino to manage all thino in your notes, not only in daily notes. False by default","Always Show Memo Comments":"Always Show Thino Comments","Always show memo comments on memos. False by default":"Always show thino comments on thino. False by default","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.","Please check your daily note plugin OR periodic notes plugin settings":"Please check your daily note plugin OR periodic notes plugin settings","Use which plugin's default configuration":"Use which plugin's default configuration","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino use the plugin's default configuration to fetch thino from daily, 'Daily' by default.",Daily:"Daily","Always Show Leaf Sidebar on PC":"Always Show Leaf Sidebar on PC","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"Show left sidebar on PC even when the leaf width is less than 875px. False by default.","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"You didn't set format for daily notes in both periodic-notes and daily-notes plugins.","fetch more":"fetch more","Search all settings":"Search all settings",General:"General",Theme:"Theme",Share:"Share",Advanced:"Advanced",Thino:"Thino","Random Review":"Random Review","ARCHIVED AT":"ARCHIVED AT","Failed to get memos from daily notes":"Failed to get thino from daily notes","Failed to delete memo":"Failed to delete thino","CTRL + ENTER to save":"CTRL + ENTER to save","Started from":"Started from","Custom Background Image":"Custom Background Image","Set custom background image.":"Set custom background image.","Custom Memo Footer":"Custom Thino Footer","Set custom memo footer.":"Set custom thino footer.","Heatmap Color Scheme":"Heatmap Color Scheme","Set different color scheme for heatmap.":"Set different color scheme for heatmap.","Enable Local Http Server":"Enable Local Http Server","Memos Http Server Port":"Thino Http Server Port","Set memos http server port to listen. '43999' by default":"Set thino http server port to listen. '43999' by default","Default Editor Mode":"Default Editor Mode","Live-Preview Mode OR Source Mode.":"Live-Preview Mode/Source Mode.","Save Location for Memos":"Save Location for Thino",DAILY:"DAILY",MULTI:"MULTI",CANVAS:"CANVAS",ALL:"ALL",FILE:"FILE",TODO:"TODO",DONE:"DONE",JOURNAL:"JOURNAL",OTHER:"OTHER","Failed to create daily note, check if it exists.":"Failed to create daily note, check if it exists.","Failed to create daily note. Please check if you created a folder for daily notes.":"Failed to create daily note. Please check if you created a folder for daily notes.","After you verify your account, please refresh this page.":"After you verify your account, please refresh this page.",Verify:"Verify","Oops! You forget to verify insider account":"Oops! You forget to verify insider account","If you have any questions, please contact us.":"If you have any questions, please contact us.","Delete Thino Directly":"Delete Thino Directly","When delete thino directly, it will not be moved to trash. False by default.":"When delete thino directly, it will not be moved to trash. False by default.","Enable opening thino globally":"Enable opening thino globally","Enable opening thino globally. False by default.":"Enable opening thino globally. False by default.","Key for opening thino globally":"Key for opening thino globally","Set key for opening thino globally. CTRL + SHIFT + T by default.":"Set key for opening thino globally. CTRL + SHIFT + T by default.","Key for showing thino globally":"Key for showing thino globally","Set key for showing thino globally. CTRL + SHIFT + E by default.":"Set key for showing thino globally. CTRL + SHIFT + E by default.","Get activation code":"Get activation code","Input activation code here":"Input activation code here","Copy Thino id":"Copy Thino id","Activate Pro Version":"Activate Pro Version","Please copy Thino id first":"Please copy Thino id first",'You can set folder name with file name like "folder/file"':'You can set folder name with file name like "folder/file"','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'You can set folder name like "folder1/folder2/folder3" to create sub-folder',"Default save location":"Default save location",'Set the default save location for thino. "DAILY" by default':'Set the default save location for thino. "DAILY" by default',"Sync Thino via PKMer":"Sync Thino via PKMer",Unlink:"Unlink",Link:"Link","Connect to PKMer Sync, you can check it in ":"Connect to PKMer Sync, you can check it in ","PKMer Sync":"PKMer Sync","Remove successfully":"Remove successfully",Deactivate:"Deactivate",Remove:"Remove","Confirm?":"Confirm?","Sync Status":"Sync Status","Start or stop sync":"Start or stop sync","Stop sync successfully":"Stop sync successfully","Start sync successfully":"Start sync successfully",Stop:"Stop",Start:"Start","Show thino near mouse":"Show thino near mouse","Query not found":"Query not found","Send to clipboard successfully":"Send to clipboard successfully","Thino - Failed to start HTTP server, please check the port is available.":"Thino - Failed to start HTTP server, please check the port is available.","Thino - Started HTTP server on port":"Thino - Started HTTP server on port","Thino - Terminated HTTP server":"Thino - Terminated HTTP server","File not exist":"File not exist","Thino not found":"Thino not found","File not found for the given thino path, is creating a new file":"File not found for the given thino path, is creating a new file","Saved sync token successfully":"Saved sync token successfully","Failed to find daily notes folder":"Failed to find daily notes folder","Please install obsidian-hover-editor plugin first":"Please install obsidian-hover-editor plugin first","Copied app id successfully":"Copied app id successfully","Please input token first":"Please input token first","Please enable sync first":"Please enable sync first","Init Failed":"Init Failed","Verify successfully":"Verify successfully","Failed to verify":"Failed to verify","Folder not found for the given thino path, is creating a new folder":"Folder not found for the given thino path, is creating a new folder","File not found for the given thino path":"File not found for the given thino path","Failed to read current daily note, check if it exists.":"Failed to read current daily note, check if it exists.","Failed to save":"Failed to save","Failed to login, please login again":"Failed to login, please login again","COPY FAILED":"COPY FAILED","COPY SUCCEED":"COPY SUCCEED","Copy selected text":"Copy selected text","Copy thino":"Copy thino",COPY:"COPY","This is a pro feature, please upgrade to pro version to use it.":"This is a pro feature, please upgrade to pro version to use it.","You can get pro version from: ":"You can get pro version from: ",Save:"Save",Cancel:"Cancel","Thino Daily Target":"Thino Daily Target",Input:"Input","#Tag":"#Tag","to create tag":"to create tag","You have verified your account. Congrats!":"You have verified your account. Congrats!","Pro Features":"Pro Features","Target Thino Count":"Target Thino Count",on:"on","Switch waterfall view":"Switch waterfall view","Switch view":"Switch view","Switch list view":"Switch list view","Set daily target":"Set daily target","Thino Save To: ":"Thino Save To: ","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",words:"words","Return To Home Page":"Return To Home Page","Open thino in center window":"Open thino in center window","Open thino in float window":"Open thino in float window","Open thino in right sidebar":"Open thino in right sidebar","Open thino in left sidebar":"Open thino in left sidebar","Show thino editor":"Show thino editor","Toggle minimal mode":"Toggle minimal mode","Focus on thino editor":"Focus on thino editor","ReSync web thinos to local":"ReSync web thinos to local","Sync local thinos to web":"Sync local thinos to web","Show daily thino dialog":"Show daily thino dialog","Focus on search bar":"Focus on search bar","Show-thino in popover(Hover editor)":"Show-thino in popover(Hover editor)","Center window":"Center window","Float window":"Float window","Right sidebar":"Right sidebar","Left sidebar":"Left sidebar","Save thino type when sync local":"Save thino type when sync local","Set the default save thino type when sync local, FILE by default.":"Set the default save thino type when sync local, FILE by default.","Sync service":"Sync service","Pro verification status":"Pro verification status","Live-preview":"Live-preview",Source:"Source","Global copy":"Global copy","Set the folder name":"Set the folder name","Set the filename":"Set the filename","Set the filename for current location file":"Set the filename for current location file","Switch calendar type":"Switch calendar type",alphabetical:"alphabetical",alphabeticalReverse:"alphabeticalReverse",byCount:"byCount",byCountReverse:"byCountReverse","Type here":"Type here",Today:"Today",Yesterday:"Yesterday","Last 7 days":"Last 7 days","Last 30 days":"Last 30 days","Last 90 days":"Last 90 days","Last 180 days":"Last 180 days","Last 365 days":"Last 365 days",Found:"Found","Copy filtered thinos":"Copy filtered thinos","Bulk delete":"Bulk delete","Bulk archive":"Bulk archive","Bulk tag operation":"Bulk tag operation","Bulk restore":"Bulk restore","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.",Preview:"Preview","Set and save":"Set and save","Show day mark on list mode":"Show day mark on list mode","Show day mark on the top of daily range thino. False by default.":"Show day mark on the top of daily range thino. False by default.","Click to expand or fold, Cmd+Click to show all thinos of the day":"Click to expand or fold, Cmd+Click to show all thinos of the day","You can buy a license from":"You can buy a license from","No thinos in range":"No thinos in range",Month:"Month",Week:"Week",Day:"Day",Agenda:"Agenda",Tomorrow:"Tomorrow",Previous:"Previous",Next:"Next","Search all columns...":"Search all columns...","Basic Info":"Basic Info","Additional Info":"Additional Info","Created At":"Created At",Content:"Content","Thino Type":"Thino Type","Source Type":"Source Type","Row status":"Row status",Path:"Path","Pinned Status":"Pinned Status",Table:"Table",Chat:"Chat",Moments:"Moments",Waterfall:"Waterfall",Calendar:"Calendar","Go to page":"Go to page",Page:"Page",Show:"Show",rows:"rows","Temp Filter":"Temp Filter","Allow navigation from view to Thino or Thino to view":"Allow navigation from view to Thino or Thino to view","Day mark range":"Day mark range","Set the range of day mark. Day by default.":"Set the range of day mark. Day by default.","Thino is locked":"Thino is locked","Please unlock Thino by input password":"Please unlock Thino by input password","Auto Download Image":"Auto Download Image","Auto download image when save to thino. 'false' by default":"Auto download image when save to thino. 'false' by default","Thino Http IP Type":"Thino Http IP Type","Set Thino http server ip to listen. 'localhost' by default":"Set Thino http server ip to listen. 'localhost' by default","Password to lock Thino":"Password to lock Thino",Unlock:"Unlock",Locked:"Locked","Password is incorrect":"Password is incorrect",Lock:"Lock","Need password to unlock Thino":"Need password to unlock Thino","You have not set a password or enable this feature yet":"You have not set a password or enable this feature yet",Password:"Password","Password for Thino":"Password for Thino","Please input your password to change password settings":"Please input your password to change password settings","Please input your password":"Please input your password","Lock thino":"Lock thino",date:"date",time:"time",event:"event","Add tag position":"Add tag position","Set the position of the tag when adding tag automatically":"Set the position of the tag when adding tag automatically","Add tag automatically":"Add tag automatically","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"Add tag to the end or beginning of the thino content when creating a thino and filtering tags","Add tag with new line":"Add tag with new line","Add tag with new line when adding tag automatically":"Add tag with new line when adding tag automatically","Input to select more tags":"Input to select more tags","Tag Bulk Edit":"Tag Bulk Edit","Exist Tags":"Exist Tags","Selected Tags":"Selected Tags","Click to remove exist tag":"Click to remove exist tag","Click to remove selected tag":"Click to remove selected tag","Select tags":"Select tags","Input to select exist tag":"Input to select exist tag",Beginning:"Beginning",End:"End","Set the heading for saving thino":"Set the heading for saving thino","# Heading":"# Heading","Chat view style":"Chat view style","Set the style of chat view":"Set the style of chat view","Background image for moments view":"Background image for moments view","Set the background image for moments view":"Set the background image for moments view","Icon for moments/chat view":"Icon for moments/chat view","Set the icon for moments/chat view":"Set the icon for moments/chat view","Quote for moments view":"Quote for moments view","Set the quote for moments view":"Set the quote for moments view","Theme for Thino":"Theme for Thino","Set the theme for Thino":"Set the theme for Thino","Theme Details":"Theme Details","Task amount":"Task amount","Thino status":"Thino status","Used tags":"Used tags","Used days":"Used days","Most active day":"Most active day","Most active hour":"Most active hour","Thino amount":"Thino amount","No content to generate.":"No content to generate.","Image generated successfully.":"Image generated successfully.","Failed to generate image.":"Failed to generate image.","Share filtered thinos as image":"Share filtered thinos as image","Latest version":"Latest version","Previous version":"Previous version","Thino update info":"Thino update info","Debug info copied to clipboard":"Debug info copied to clipboard","Copy debug info":"Copy debug info","Failed to load changelog":"Failed to load changelog","View online":"View online",ChangeLog:"ChangeLog"},P4={},j4={},L4={welcome:"Bienvenue dans M√©mo !",ribbonIconTitle:"M√©mos",months:["Janvier","F√©vrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","D√©cembre"],monthsShort:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],weekDays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],weekDaysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],to:"√†",year:null,month:null,"Basic Options":"Options basique","User name in Memos":"Username dans M√©mos","Set your user name here. 'Memos üòè' By default":"D√©finissez votre username ici. D√©faut : 'Memo üòè'","Insert after heading":"Ins√©rer apr√®s le titre","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Vous devez d√©finir le m√™me titre en-dessous si vous voulez ins√©rer et traiter des m√©mos sous le m√™me titre.","Allows admonitions to be created using ":"Permet de cr√©er des admonitions en utilisant","Process Memos below":"Ins√©rer M√©mo sous","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Seulement les entr√©e sous cette section/phrase dans vos notes seront consid√©r√©s. S'il n'existe pas, aucune notes ne sera trait√© pour ce fichier.","Save Memo button label":"Titre du bouton de sauvegarde","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"Le texte affich√© sur le bouton de sauvegarde dans l'UI. D√©faut : 'NOTEIT'","Focus on editor when open memos":"Focus sur l'√©diteur lors de l'ouverture du m√©mo.","Focus on editor when open memos. Focus by default.":"Focus sur l'√©diteur lors de l'ouverture du m√©mo. Focus par d√©faut.","Open daily memos with open memos":"Ouvrir les m√©mos quotidiens quand m√©mo est ouvert.","Open daily memos with open memos. Open by default.":"Ouvrir les m√©mos quotidiens quand m√©mo est ouvert.","Open Memos when obsidian opens":"Ouvrir M√©mo quand Obsidian est ouvert.","When enable this, Memos will open when Obsidian opens. False by default.":"Quand activ√©, Memo sera ouvert quand Obsidian √† l'ouverture d'Obsidian. D√©sactiv√© par d√©faut.","Hide done tasks in Memo list":"Masquer les t√¢ches accomplies dans la liste des m√©mos.","Hide all done tasks in Memo list. Show done tasks by default.":"Masquer les t√¢ches accomplies dans les m√©mos. Affiche les t√¢ches accomplies par d√©faut.","Advanced Options":"Options avanc√©es","UI language for date":"Langue de l'UI pour la date","Translates the date UI language. Only 'en' and 'zh' are available.":"Traduit la langue des dates dans l'UI. Seuls 'en', 'fr' et 'zh' sont disponibles. ","Default prefix":"Pr√©fix par d√©faut.","Set the default prefix when create memo, 'List' by default.":"D√©finit le pr√©fix par d√©faut lors de la cr√©ation d'un m√©mo. D√©fault : 'Liste'","Default insert date format":"Format de la date ins√©r√©e par d√©faut.","Default editor position on mobile":"Position par d√©faut de l'√©diteur sur mobile.","Set the default date format when insert date by @, 'Tasks' by default.":"D√©finit le format de la date par d√©faut lors de l'insertion de la date par @. D√©faut : 'T√¢ches'.","Set the default editor position on Mobile, 'Top' by default.":"Position par d√©faut de l'√©diteur sur le mobile. D√©faut : 'Haut'.","Use button to show editor on mobile":"Utilisation du bouton pour afficher l'√©diteur sur le mobile.","Show Time When Copy Results":"Aficher l'heure quand les r√©sultats sont copi√©s","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Place un bouton flottant pour appeler l'√©diteur sur mobile. Fonctionne uniquement quand l'√©diteur est plac√© en bas.","Show time when you copy results, like 12:00. Copy time by default.":"Affiche l'heure quand les r√©sultats sont copi√©s, comme '12:00'. Copie l'heure par d√©faut","Show Date When Copy Results":"Affiche la date quand les r√©sultats sont copi√©s","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Affiche la date quand les r√©sultats sont copi√©s, comme [[2022-01-01]]. Par d√©faut, copie la date.","Add Blank Line Between Different Date":"Ajoute une ligne entre les diff√©rentes dates.","Add blank line when copy result with date. No blank line by default.":"Ajoute une ligne lors de la copie du r√©sultat avec la date. Pas de ligne par d√©faut.","Share Options":"Options de partage","Share Memos Image Footer Start":"D√©but du pied de page ‚Äî Partage de m√©mo de m√©mos","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"D√©finissez ce que vous voulez ici, utilisez {ThinoNum} pour afficher le nombre de thino, {UsedDay} pour les jours. Par d√©faut : '{ThinoNum} Thino {UsedDay} Days.","Share Memos Image Footer End":"Fin du pied de page ‚Äî Partage de m√©mo","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"D√©finissez ce que vous voulez ici. Utilisez {UserName} comme username. Par d√©faut : '‚úçÔ∏è By {UserName}'","Save Shared Image To Folder For Mobile":"Sauvegarde des images partag√©s dans un dossier sur mobile.","Save image to folder for mobile. False by Default":"Sauvegarder les images dans un dossier sur mobile. D√©sactiv√© par d√©faut.","Say Thank You":"Dites Merci",Donate:"Faire un don","If you like this plugin, consider donating to support continued development:":"Si vous aimez ce plugin, envisagez de faire un don pour soutenir le d√©veloppement continu :","File Name of Recycle Bin":"Nom de la corbeille","Set the filename for recycle bin. 'delete' By default":"D√©finition du nom de la poubelle. D√©faut : 'Delete'","Set the filename for query file. 'query' By default":"D√©finit le nom de fichier pour les requ√™te. D√©faut : 'Query'","Use Tags In Vault":"Utiliser des tags dans le Coffre","Use tags in vault rather than only in Memos. False by default.":"Utiliser des tags du coffre plut√¥t que ceux que seulement dans M√©mo. D√©sactiv√© par d√©faut.","Ready to convert image into background":"Pr√™t pour convertir des image en arri√®re-plan.",List:"Liste",Task:"T√¢che",Top:"Haut",Bottom:"Bas",TAG:"TAG",DAY:"JOUR",QUERY:"RECHERCHE",EDIT:"EDITER",PIN:"PIN",UNPIN:"√âPINGLER",DELETE:"DES√âPINGLER","CONFIRMÔºÅ":"CONFIRMER ÔºÅ","CREATE FILTER":"CR√âER FILTRE",Settings:"Param√®tres","Recycle bin":"Corbeille","About Me":"√Ä propos de moi","Fetching data...":"R√©cup√©ration des donn√©es...","Here is No Memos.":"Il n'y a pas de Memos.","Frequently Used Tags":"Tags fr√©quemment utilis√©s","What do you think now...":"Que pensez-vous maintenant...",READ:"LU",MARK:"MARQUER",SHARE:"PARTAGER",SOURCE:"SOURCE",RESTORE:"RESTAURER","DELETE AT":"SUPPRIMER","Noooop!":"Noooop!","All Data is Loaded üéâ":"Toutes les donn√©es sont charg√©es üéâ","Quick filter":"Filtre rapide",TYPE:"TYPE",LINKED:"LIEN","NO TAGS":"PAS DE TAGS","HAS LINKS":"A DES LIENS","HAS IMAGES":"A DES IMAGES",INCLUDE:"INCLUS",EXCLUDE:"EXCLUS",TEXT:"TEXTE",IS:"EST",ISNOT:"N'EST PAS",SELECT:"SELECTION","ADD FILTER TERMS":"AJOUTER DES TERMES FILTR√â",FILTER:"FILTRE",TITLE:"TITRE","CREATE QUERY":"CR√âER UNE RECHERCHE","EDIT QUERY":"√âDITER UNE RECHERCHE",MATCH:"MATCH",TIMES:"HEURE","Share Memo Image":"Partager un m√©mo image","‚ÜóClick the button to save":"‚ÜóClique pour sauvegarder","Image is generating...":"G√©n√©ration de l'image...","Image is loading...":"Image en chargement...","Loading...":"Chargement...","üòü Cannot load image, image link maybe broken":"üòü Impossible de charger l'image, le lien peut √™tre bris√©","Daily Memos":"M√©mo quotidien","CANCEL EDIT":"ANNULER L'√âDITION","LINK TO THE":"LIENS √Ä","Mobile Options":"Options mobile","Don't support web image yet, please input image path in vault":"Ne supporte pas les images webs. Merci d'ins√©rer le chemin de l'image depuis le coffre.","Background Image in Dark Theme":"Image de fond en th√®me sombre","Background Image in Light Theme":"Image de fond en th√®me clair",'Set background image in dark theme. Set something like "Daily/one.png"':"D√©finir l'image de fond en th√®me sombre. D√©finir 'Daily/one.png' par exemple.",'Set background image in light theme. Set something like "Daily/one.png"':"D√©finir l'image de fond en th√®me clair. D√©finir 'Daily/one.png' par exemple.",'Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'D√©finir la composition par d√©faut du m√©mo, vous devez utiliser {TIME} comme "HH:mm" et {CONTENT} comme contenu. "{TIME} {CONTENT}" par d√©faut',"Default Memo Composition":"Composition par d√©faut du m√©mo","Show Tasks Label":"Afficher les √©tiquettes des t√¢ches","Show tasks label near the time text. False by default":"Afficher les √©tiquettes des t√¢ches √† c√¥t√© du texte horaire. D√©sactiv√© par d√©faut.","Please Open Memos First":"Merci d'ouvrir les m√©mos en premier"},R4={},_4={},H4={},B4={},Y4={},z4={},U4={},V4={},Z4={welcome:"Bem-vindo ao Thino!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","S√°b"],to:"para",year:null,month:null,"Basic Options":"Op√ß√µes B√°sicas","User name in Memos":"Nome de Usu√°rio no Thino","Set your user name here. 'Memos üòè' By default":"Defina o nome de usu√°rio. Padr√£o: 'Thino üòè'.","Insert after heading":"Inserir ap√≥s o cabe√ßalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabe√ßalho na configura√ß√£o posterior se pretende inserir e processar memorandos abaixo do cabe√ßalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabe√ßalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabe√ßalho ser√£o processadas nas suas notas. Se n√£o configurar esta funcionalidade, nenhuma nota ser√° processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Bot√£o de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do bot√£o guardar memorandos. Padr√£o: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padr√£o: "Focar".',"Open daily memos with open memos":"Abrir memorandos di√°rios ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos di√°rios ao iniciar o Thino. Padr√£o: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta op√ß√£o est√° activa, o Memos abrir√° quando o Obsidian inicia. Padr√£o: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas conclu√≠das na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas conclu√≠das na lista de memorandos. Padr√£o: "Mostrar tarefas conclu√≠das".',"Advanced Options":"Op√ß√µes Avan√ßadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' est√£o dispon√≠veis.","Default prefix":"Prefixo Padr√£o","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padr√£o quando um memorando √© criado. Padr√£o: 'Lista'.","Default insert date format":"Formato Padr√£o para Inser√ß√£o de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padr√£o ao inserir a data usando '@'. Padr√£o: 'Tarefas'.","Default editor position on mobile":"Posi√ß√£o Padr√£o do Editor de Memorandos na Vers√£o M√≥vel","Set the default editor position on Mobile, 'Top' by default.":"Define a posi√ß√£o padr√£o do editor de memorandos na vers√£o m√≥vel. Padr√£o: 'Topo'.","Use button to show editor on mobile":"Usar Bot√£o para Mostrar o Editor na Vers√£o M√≥vel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um bot√£o flutuante para abrir o editor na vers√£o m√≥vel. Op√ß√£o dispon√≠vel somente quando a posi√ß√£o do editor est√° definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padr√£o: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padr√£o: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padr√£o: "N√£o adicionar linha."',"Share Options":"Op√ß√µes de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - In√≠cio do Rodap√©","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o n√∫mero de thinorandos e use {UsedDay} para dias. 'Padr√£o: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodap√©","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usu√°rio. Padr√£o: '‚úçÔ∏è Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Vers√£o M√≥vel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na vers√£o m√≥vel. Padr√£o: "Falso".',"Say Thank You":"Agrade√ßa",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento cont√≠nuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padr√£o: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padr√£o: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e n√£o somente dos memorandos. Padr√£o: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRMÔºÅ":"CONFIRMARÔºÅ","CREATE FILTER":"CRIAR FILTRO",Settings:"Defini√ß√µes","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"N√£o existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que est√° a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded üéâ":"Todos os Dados foram Carregados üéâ","Quick filter":"Filtro r√°pido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"√â",ISNOT:"N√ÉO √â",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"T√çTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","‚ÜóClick the button to save":"‚ÜóClique no bot√£o para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","üòü Cannot load image, image link maybe broken":"üòü N√£o √© poss√≠vel carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Di√°rios","CANCEL EDIT":"CANCELAR EDI√á√ÉO","LINK TO THE":"LINK PARA O","Mobile Options":"Op√ß√µes M√≥veis","Don't support web image yet, please input image path in vault":"Ainda n√£o existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Op√ß√µes Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composi√ß√£o padr√£o do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conte√∫do. Padr√£o: "{TIME} {CONTENT}".',"Default Memo Composition":"Composi√ß√£o Padr√£o de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas pr√≥ximas do texto de tempo. Padr√£o: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Coment√°rios nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padr√£o: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O T√çTULO N√ÉO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO N√ÉO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Coment√°rios nas Notas/Notas Di√°rias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a vers√£o 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"üò≠ Erro de Fetch","Copied to clipboard Successfully":"Copiado para a √°rea de transfer√™ncia com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Di√°rias ou de Notas Peri√≥dicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configura√ß√£o do √∫ltimo filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conte√∫do de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conte√∫do n√£o pode estar vazio","Unable to create new file.":"N√£o foi poss√≠vel criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"√çcone do Bot√£o para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O √≠cone exibido na UI do bot√£o para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Espec√≠ficas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas ser√£o mostrados na lista. Padr√£o: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e n√£o apenas nas notas di√°rias. Padr√£o: "Falso".',"Always Show Memo Comments":"Mostrar Coment√°rios dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os coment√°rios dos memorandos. Padr√£o: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"N√£o definiu a pasta para as notas di√°rias, quer no plugin the Notas Peri√≥dicas ou de Notas Di√°rias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configura√ß√µes dos plugins de Notas Di√°rias OU de Notas Peri√≥dicas","Use Which Plugin's Default Configuration":"Usar a Configura√ß√£o Padr√£o do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configura√ß√£o padr√£o do plugin seleccionado para obter memorandos diariamente. Padr√£o: 'Notas Di√°rias'.",Daily:"Di√°rio"},W4={welcome:"Bem-vindo ao Memos!",ribbonIconTitle:"Thino",months:["Janeiro","Fevereiro","Mar√ßo","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan.","Fev.","Mar.","Abr.","Maio","Jun.","Jul.","Ago.","Set.","Out.","Nov.","Dez."],weekDays:["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"],weekDaysShort:["Dom","Seg","Ter","Qua","Qui","Sex","S√°b"],to:"para",year:null,month:null,"Basic Options":"Op√ß√µes B√°sicas","User name in Memos":"Nome de Usu√°rio no Thino","Set your user name here. 'Memos üòè' By default":"Defina o nome de usu√°rio. Padr√£o: 'Thino üòè'.","Insert after heading":"Inserir ap√≥s o cabe√ßalho","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Deve definir o mesmo cabe√ßalho na configura√ß√£o posterior se pretende inserir e processar memorandos abaixo do cabe√ßalho aqui definido.","Allows admonitions to be created using ":"Permitir que Admonitions sejam criadas usando ","Process Memos below":"Processar Memorandos abaixo do Cabe√ßalho","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Somente as entradas abaixo deste cabe√ßalho ser√£o processadas nas suas notas. Se n√£o configurar esta funcionalidade, nenhuma nota ser√° processada para o ficheiro respetivo.","Save Memo button label":"Legenda do Bot√£o de Guardar Memorandos","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":'Define o texto apresentado na UI do bot√£o guardar memorandos. Padr√£o: "NOTEIT".',"Focus on editor when open memos":"Focar no Editor ao iniciar o Thino","Focus on Editor when open memos. Focus by default.":'Focar no editor ao iniciar o Thino. Padr√£o: "Focar".',"Open daily memos with open memos":"Abrir memorandos di√°rios ao iniciar o Thino","Open daily memos with open memos. Open by default.":'Abrir memorandos di√°rios ao iniciar o Thino. Padr√£o: "Abrir".',"Open Memos when obsidian opens":"Abrir Thino quando o Obsidian inicia","When enable this, Memos will open when Obsidian opens. False by default.":'Quando esta op√ß√£o est√° activa, o Memos abrir√° quando o Obsidian inicia. Padr√£o: "Falso".',"Hide done tasks in Memo list":"Ocultar tarefas conclu√≠das na lista de memorandos","Hide all done tasks in Memo list. Show done tasks by default.":'Ocultar todas as tarefas conclu√≠das na lista de memorandos. Padr√£o: "Mostrar tarefas conclu√≠das".',"Advanced Options":"Op√ß√µes Avan√ßadas","UI language for date":"Idioma na UI da Data ","Translates the date UI language. Only 'en' and 'zh' are available.":"Define o idioma na UI da Data. De momento, apenas 'en', 'fr', 'pt' e 'zh' est√£o dispon√≠veis.","Default prefix":"Prefixo Padr√£o","Set the default prefix when create memo, 'List' by default.":"Define o prefixo padr√£o quando um memorando √© criado. Padr√£o: 'Lista'.","Default insert date format":"Formato Padr√£o para Inser√ß√£o de Data","Set the default date format when insert date by @, 'Tasks' by default.":"Define o formato de Data padr√£o ao inserir a data usando '@'. Padr√£o: 'Tarefas'.","Default editor position on mobile":"Posi√ß√£o Padr√£o do Editor de Memorandos na Vers√£o M√≥vel","Set the default editor position on Mobile, 'Top' by default.":"Define a posi√ß√£o padr√£o do editor de memorandos na vers√£o m√≥vel. Padr√£o: 'Topo'.","Use button to show editor on mobile":"Usar Bot√£o para Mostrar o Editor na Vers√£o M√≥vel","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"Define um bot√£o flutuante para abrir o editor na vers√£o m√≥vel. Op√ß√£o dispon√≠vel somente quando a posi√ß√£o do editor est√° definida para 'Fundo'.","Show Time When Copy Results":"Mostrar a Hora ao Copiar os Resultados","Show time when you copy results, like 12:00. Copy time by default.":"Mostrar a Hora, no formato '12:00', ao copiar os resultados. Padr√£o: 'Copiar a hora'.","Show Date When Copy Results":"Mostrar a Data ao Copiar os Resultados","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":'Mostrar a Data, no formato [[2022-01-01]], ao copiar os resultados. Padr√£o: "Copiar a hora".',"Add Blank Line Between Different Date":"Adicionar Linha em Branco entre Datas Diferentes.","Add blank line when copy result with date. No blank line by default.":'Adicionar linha em branco ao copiar resultados com Data. Padr√£o: "N√£o adicionar linha."',"Share Options":"Op√ß√µes de Partilha","Share Memos Image Footer Start":"Partilhar a Imagem de um memorando - In√≠cio do Rodap√©","Set anything you want here, use {ThinoNum} to display Number of memos, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"Defina como preferir, use {ThinoNum} para mostrar o n√∫mero de thinorandos e use {UsedDay} para dias. 'Padr√£o: {ThinoNum} Thinorandos {UsedDay} Dias'.","Share Memos Image Footer End":"Partilhar a Imagem de um memorando - Fim do Rodap√©","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"Defina como preferir, use {UserName} como o seu nome de usu√°rio. Padr√£o: '‚úçÔ∏è Por {UserName}'.","Save Shared Image To Folder For Mobile":"Guardar a Imagem Partilhada para Pasta na Vers√£o M√≥vel","Save image to folder for mobile. False by Default":'Guardar a imagem partilhada para pasta na vers√£o m√≥vel. Padr√£o: "Falso".',"Say Thank You":"Agrade√ßa",Donate:"Doar","If you like this plugin, consider donating to support continued development:":"Se gosta deste plugin, considere doar para apoiar o seu desenvolvimento cont√≠nuo:","File Name of Recycle Bin":"Nome da Reciclagem","Set the filename for recycle bin. 'delete' By default":"Define o nome do ficheiro para a Reciclagem. Padr√£o: 'delete'.","File Name of Query File":"Nome do Ficheiro de Query","Set the filename for query file. 'query' By default":"Define o nome do ficheiro de Query. Padr√£o: 'Query'.","Use Tags In Vault":"Usar Tags no Vault","Use tags in vault rather than only in Memos. False by default.":'Usar as Tags do Vault e n√£o somente dos memorandos. Padr√£o: "Falso".',"Ready to convert image into background":"Pronto para converter imagem em fundo",List:"Lista",Task:"Tarefa",Top:"Topo",Bottom:"Fundo",TAG:"TAG",DAY:"DIA",QUERY:"QUERY",EDIT:"EDITAR",PIN:"FIXAR",UNPIN:"DESAFIXAR",DELETE:"ELIMINAR","CONFIRMÔºÅ":"CONFIRMARÔºÅ","CREATE FILTER":"CRIAR FILTRO",Settings:"Defini√ß√µes","Recycle bin":"Reciclagem","About Me":"Acerca de mim","Fetching data...":"A obter dados...","Here is No Memos.":"N√£o existem Thino.","Frequently Used Tags":"Tags Usadas Frequentemente","What do you think now...":"Em que est√° a pensar...",READ:"LER",MARK:"ASSINALAR",SHARE:"PARTILHAR",SOURCE:"ORIGEM",RESTORE:"RESTAURAR","DELETE AT":"ELIMINADO EM","Noooop!":"Noooop!","All Data is Loaded üéâ":"Todos os Dados foram Carregados üéâ","Quick filter":"Filtro r√°pido",TYPE:"TIPO",LINKED:"LINKED","NO TAGS":"SEM TAGS","HAS LINKS":"TEM LINKS","HAS IMAGES":"TEM IMAGENS",INCLUDE:"INCLUIR",EXCLUDE:"EXCLUIR",TEXT:"TEXTO",IS:"√â",ISNOT:"N√ÉO √â",SELECT:"SELECCIONAR","ADD FILTER TERMS":"ADICIONAR TERMOS DE FILTRAGEM",FILTER:"FILTRAR",TITLE:"T√çTULO","CREATE QUERY":"CRIAR QUERY","EDIT QUERY":"EDITAR QUERY",MATCH:"IGUALA",TIMES:"VEZES","Share Memo Image":"Partilhar Imagem de Memo","‚ÜóClick the button to save":"‚ÜóClique no bot√£o para guardar","Image is generating...":"A gerar Imagem..","Image is loading...":"A carregar Imagem...","Loading...":"Carregando...","üòü Cannot load image, image link maybe broken":"üòü N√£o √© poss√≠vel carregar a imagem, o link da imagem pode estar incorrecto","Daily Memos":"Thino Di√°rios","CANCEL EDIT":"CANCELAR EDI√á√ÉO","LINK TO THE":"LINK PARA O","Mobile Options":"Op√ß√µes M√≥veis","Don't support web image yet, please input image path in vault":"Ainda n√£o existe suporte para imagens de web. Por favor, insira o link para uma imagem do vault","Experimental Options":"Op√ß√µes Experimentais","Background Image in Dark Theme":"Imagem de Fundo no Tema Escuro","Background Image in Light Theme":"Imagem de Fundo no Tema Claro",'Set background image in dark theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema escuro. Defina da seguinte forma: "Daily/one.png".','Set background image in light theme. Set something like "Daily/one.png"':'Defina a imagem de fundo para o tema claro. Defina da seguinte forma: "Daily/one.png".','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'Defina a composi√ß√£o padr√£o do memorando, deve usar {TIME} como "HH:mm" e {CONTENT} como conte√∫do. Padr√£o: "{TIME} {CONTENT}".',"Default Memo Composition":"Composi√ß√£o Padr√£o de um Memorando","Show Tasks Label":"Mostrar Etiquetas de Tarefas","Show tasks label near the time text. False by default":'Mostrar etiquetas de tarefas pr√≥ximas do texto de tempo. Padr√£o: "Falso".',"Please Open Memos First":"Por favor, abra o Thino primeiro",DATE:"DATA",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED",BEFORE:"ANTES",AFTER:"DEPOIS","Allow Comments On Memos":"Permitir Coment√°rios nos Memorandos","You can comment on memos. False by default":'Permite que comente os memorandos. Padr√£o: "Falso".',Import:"Importar","TITLE CANNOT BE NULL!":"O T√çTULO N√ÉO PODE SER NULO!","FILTER CANNOT BE NULL!":"O FILTRO N√ÉO PODE SER NULO!","Comments In Original DailyNotes/Notes":"Coment√°rios nas Notas/Notas Di√°rias Originais","You should install Dataview Plug-in ver 0.5.9 or later to use this feature.":"Deve instalar a vers√£o 0.5.9 ou posterior do plugin Dataview para usar esta funcionalidade.","Open Memos Successfully":"Thino Iniciado com Sucesso","Fetch Memos Error":"üò≠ Erro de Fetch","Copied to clipboard Successfully":"Copiado para a √°rea de transfer√™ncia com sucesso","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"Verifique se abriu o plugin de Notas Di√°rias ou de Notas Peri√≥dicas","Please finish the last filter setting first":"Por favor, termine  primeiro a configura√ß√£o do √∫ltimo filtro","Close Memos Successfully":"Thino Fechado com Sucesso","Insert as Memo":"Inserir como um Memorando","Insert file as memo content":"Inserir ficheiro como conte√∫do de um memorando","Image load failed":"Falha no carregamento da imagem","Content cannot be empty":"O Conte√∫do n√£o pode estar vazio","Unable to create new file.":"N√£o foi poss√≠vel criar um novo ficheiro.","Failed to fetch deleted memos: ":"Falha no fetch dos memorandos removidos: ","RESTORE SUCCEED":"RESTAURO BEM SUCEDIDO","Save Memo button icon":"√çcone do Bot√£o para Guardar Memorandos","The icon shown on the save Memo button in the UI.":"O √≠cone exibido na UI do bot√£o para guardar memorandos.","Fetch Memos From Particular Notes":"Obter Memorandos de Notas Espec√≠ficas",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'Pode definir qualquer Query de Dataview para o Memos procurar. Todos os memorandos nessas notas ser√£o mostrados na lista. Padr√£o: "#memo".',"Allow Memos to Fetch Memo from Notes":"Permitir que o Thino Obtenha memorandos das Notas","Use Memos to manage all memos in your notes, not only in daily notes. False by default":'Use o Memos para gerir todos os memorandos nas suas notas e n√£o apenas nas notas di√°rias. Padr√£o: "Falso".',"Always Show Memo Comments":"Mostrar Coment√°rios dos Memorandos","Always show memo comments on memos. False by default":'Mostrar sempre os coment√°rios dos memorandos. Padr√£o: "Falso".',"You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"N√£o definiu a pasta para as notas di√°rias, quer no plugin the Notas Peri√≥dicas ou de Notas Di√°rias.","Please check your daily note plugin OR periodic notes plugin settings":"Por favor, verifique as configura√ß√µes dos plugins de Notas Di√°rias OU de Notas Peri√≥dicas","Use Which Plugin's Default Configuration":"Usar a Configura√ß√£o Padr√£o do Plugin","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"O Memos usa a configura√ß√£o padr√£o do plugin seleccionado para obter memorandos diariamente. Padr√£o: 'Notas Di√°rias'.",Daily:"Di√°rio"},$4={},q4={},G4={},J4={welcome:"Ê¨¢Ëøé‰ΩøÁî® Thino ",ribbonIconTitle:"Thino",months:["‰∏ÄÊúà","‰∫åÊúà","‰∏âÊúà","ÂõõÊúà","‰∫îÊúà","ÂÖ≠Êúà","‰∏ÉÊúà","ÂÖ´Êúà","‰πùÊúà","ÂçÅÊúà","ÂçÅ‰∏ÄÊúà","ÂçÅ‰∫åÊúà"],monthsShort:[null,null,null,null,null,null,null,null,null,null,null,null],weekDays:["Âë®Êó•","Âë®‰∏Ä","Âë®‰∫å","Âë®‰∏â","Âë®Âõõ","Âë®‰∫î","Âë®ÂÖ≠"],weekDaysShort:["Âë®Êó•","Âë®‰∏Ä","Âë®‰∫å","Âë®‰∏â","Âë®Âõõ","Âë®‰∫î","Âë®ÂÖ≠"],to:"Ëá≥",year:"Âπ¥",month:"Êúà","Basic Options":"Âü∫Á°ÄÈÄâÈ°π","User name in Memos":"Âú® Thino ‰∏≠ÊòæÁ§∫ÁöÑÁî®Êà∑Âêç","Set your user name here. 'Memos üòè' By default":"Âú®ËøôÈáåËÆæÁΩÆ‰Ω†ÂñúÊ¨¢ÁöÑÁî®Êà∑Âêç„ÄÇ ÈªòËÆ§‰∏∫ 'Thino üòè'",'You can set target heading like "# Heading" to control data location':'You can set target heading like "# Heading" to control data location',"Insert after heading":"Âú®ÊåáÂÆöÊ†áÈ¢òÂêéÊèíÂÖ• Thino","If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.":"Ëã•ÁïôÁ©∫ÔºåÂàôËÆ∞ÂΩïÁöÑ thino ÂÜÖÂÆπÂú®Êó•ËÆ∞Êú´Â∞æÊèíÂÖ•ÔºåËã•Â°´ÂÜôÊ†áÈ¢òÔºåÂàôËÆ∞ÂΩïÁöÑ thino ÂÜÖÂÆπÁªü‰∏ÄÈÉΩËÆ∞ÂΩïÂú®ËØ•Ê†áÈ¢ò‰∏ã","Process Memos below":"Ëß£ÊûêÊåáÂÆöÊ†áÈ¢òÂêéÁöÑ Thino","If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.":"Ëã•ÁïôÁ©∫ÔºåÂàôÂú®ThinoÁïåÈù¢‰ºöÊòæÁ§∫ÊâÄÊúâthinoËÆ∞ÂΩïÂÜÖÂÆπÔºåËã•Â°´ÂÜôÊ†áÈ¢òÔºåÂàôThinoÁïåÈù¢Âè™ÊòæÁ§∫ËØ•Ê†áÈ¢ò‰∏ãÁöÑÂÜÖÂÆπÔºåÂÜôÂÖ•ÂÖ∂‰ªñ‰ΩçÁΩÆÁöÑÂÜÖÂÆπ‰∏çÊòæÁ§∫","Save Memo button label":"‰øùÂ≠òÊåâÈíÆ‰∏äÁöÑÊñáÊú¨","The text shown on the save Memo button in the UI. 'NOTEIT' by default.":"Âú®‰øùÂ≠òÊåâÈíÆ‰∏äÂ±ïÁ§∫ÁöÑÊñáÊú¨„ÄÇÈªòËÆ§‰∏∫ 'NOTEIT'","Focus on editor when open memos":"Ëá™Âä®ËÅöÁÑ¶Âà∞ Thino ËæìÂÖ•Ê°Ü","Focus on editor when open memos. Focus by default.":"ÂΩìÊâìÂºÄ Thino ÁöÑÊó∂ÂÄôËá™Âä®ËÅöÁÑ¶Âà∞ Thino ËæìÂÖ•Ê°Ü„ÄÇÈªòËÆ§ÂºÄÂêØ","Open daily memos with open memos":"ÊâìÂºÄÊØèÊó• Thino ÁöÑÊó∂ÂÄôÊâìÂºÄ Thino ÁïåÈù¢","Open daily memos with open memos. Open by default.":"ÊâìÂºÄÊØèÊó• Thino ÁöÑÊó∂ÂÄôÊâìÂºÄ Thino ÁïåÈù¢„ÄÇÈªòËÆ§ÂºÄÂêØ","Open Memos when obsidian opens":"ÂΩìÂºÄÂêØ Obsidian ÁöÑÊó∂ÂÄôËá™Âä®ÊâìÂºÄ Thino","When enable this, Memos will open when Obsidian opens. False by default.":"ÂΩìÂºÄÂêØËØ•ÈÄâÈ°π, Thino ‰ºöÂú® Obsidian ÊâìÂºÄÊó∂Ëá™Âä®ÊâìÂºÄ„ÄÇÈªòËÆ§‰∏çÂºÄÂêØ„ÄÇ","Hide done tasks in Memo list":"Âú® Thino ÂàóË°®‰∏≠ÈöêËóèÂ∑≤ÂÆåÊàê Thino","Hide all done tasks in Memo list. Show done tasks by default.":"Âú® Thino ÂàóË°®‰∏≠ÈöêËóèÂ∑≤ÂÆåÊàê Thino„ÄÇÈªòËÆ§‰∏çÂºÄÂêØ","Advanced Options":"ËøõÈò∂ÈÄâÈ°π","UI language for date":"ÈíàÂØπÊó•ÊúüÂ±ïÁ§∫ÁöÑËØ≠Ë®ÄÁïåÈù¢","Translates the date UI language. Only 'en' and 'zh' are available.":"ÂØπÊó•ÊúüÁöÑ‰∏çÂêåÁøªËØë„ÄÇÁõÆÂâçÂè™ËÉΩÈÄâÊã© 'en' Âíå 'zh'ÔºàÊú™Êù•‰ºöÂ∫üÁΩÆÔºâ","Default prefix":"ÈªòËÆ§ÂâçÁºÄ","Set the default prefix when create memo, 'List' by default.":"ËÆæÁΩÆÈªòËÆ§ÁöÑÂâçÁºÄÊ†∑Âºè„ÄÇÈªòËÆ§‰∏∫ÂàóË°®","Default insert date format":"ÊèíÂÖ•Êó•ÊúüÈôÑÂ∏¶ÁöÑÊ†∑Âºè","Set the default date format when insert date by @, 'Tasks' by default.":"ÂΩì‰ΩøÁî® @ Êù•Âø´ÈÄüÊèíÂÖ•Êó•ÊúüÊó∂ÔºåÊèíÂÖ•Êó•ÊúüÈôÑÂ∏¶ÁöÑÊ†∑ÂºèÔºåÈªòËÆ§‰∏∫ 'Tasks' Ê†∑Âºè","Default editor position on mobile":"Âú®ÁßªÂä®Á´Ø‰∏äÁöÑÈªòËÆ§ÁºñËæëÂô®‰ΩçÁΩÆ","Set the default editor position on Mobile, 'Top' by default.":"ËÆæÁΩÆÂú®ÁßªÂä®Á´Ø‰∏äÁöÑÈªòËÆ§ÁºñËæëÂô®‰ΩçÁΩÆÔºåÈªòËÆ§Âú®È°∂ÈÉ®„ÄÇ","Use button to show editor on mobile":"ÂΩìÁºñËæëÂô®‰ΩçÁΩÆÂú®Â∫ïÈÉ®Êó∂ÔºåÁî®ÊåâÈíÆÊù•Âî§Âá∫ÁºñËæëÂô®","Set a float button to call editor on mobile. Only when editor located at the bottom works.":"ËÆæÁΩÆ‰∏Ä‰∏™ÊµÆÂä®ÊåâÈíÆÊù•Âî§Âá∫ÁºñËæëÂô®„ÄÇÂΩìÂú®ÁßªÂä®Á´Ø‰∏äÂêØÁî®ËØ•ÈÄâÈ°πÊâç‰ºöÁîüÊïà","Show Time When Copy Results":"ÂΩìÂ§çÂà∂Ê£ÄÁ¥¢ÁªìÊûúÊó∂ÈôÑÂ∏¶Êó∂Èó¥","Show time when you copy results, like 12:00. Copy time by default.":"Âú®Â§çÂà∂Ê£ÄÁ¥¢ÁªìÊûúÊó∂ÈôÑÂ∏¶ÂÖ∂Êó∂Èó¥Ôºå‰æãÂ¶Ç 12:00 „ÄÇÈªòËÆ§ÂºÄÂêØ","Show Date When Copy Results":"ÂΩìÂ§çÂà∂Ê£ÄÁ¥¢ÁªìÊûúÊó∂ÈôÑÂ∏¶Êó•Êúü","Show date when you copy results, like [[2022-01-01]]. Copy date by default.":"Âú®Â§çÂà∂Ê£ÄÁ¥¢ÁªìÊûúÊó∂ÈôÑÂ∏¶ÂÖ∂Êó•ÊúüÔºå‰æãÂ¶Ç [[2022-01-01]]„ÄÇÈªòËÆ§ÂºÄÂêØ","Add Blank Line Between Different Date":"Âú®Â§çÂà∂Êó•ÊúüÁöÑÊó∂ÂÄôÂä†‰∏äÁ©∫Ë°å","Add blank line when copy result with date. No blank line by default.":"Âú®Â§çÂà∂Êó•ÊúüÁöÑÊó∂ÂÄôÂú®Áõ∏ÈÇªÁöÑÊó•Êúü‰πãÈó¥Âä†‰∏äÁ©∫Ë°å„ÄÇÈªòËÆ§Êó†Á©∫Ë°å","Share Options":"ÂàÜ‰∫´ÈÄâÈ°π","Share Memos Image Footer Start":"ÂàÜ‰∫´ Thino ÂõæÁâáÁöÑÂ∑¶ËæπÈ°µËÑö","Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default":"‰Ω†ÂèØ‰ª•Âú®ËøôÈáåËÆæÁΩÆ‰Ω†ÊÉ≥Ë¶ÅÁöÑ‰ªªÊÑèÊñáÊú¨ÔºåÁî® {ThinoNum} Êù•Â±ïÁ§∫‰Ω†ËÆ∞ÂΩïÁöÑ thino Êï∞ÈáèÔºå{UsedDay} Êù•Â±ïÁ§∫‰ΩøÁî®Êó•Êúü„ÄÇÈªòËÆ§‰∏∫'{ThinoNum} Thino {UsedDay} Days'","Share Memos Image Footer End":"ÂàÜ‰∫´ Thino ÂõæÁâáÁöÑÂè≥ËæπÈ°µËÑö","Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default":"‰Ω†ÂèØ‰ª•Âú®ËøôÈáåËÆæÁΩÆ‰Ω†ÊÉ≥Ë¶ÅÁöÑ‰ªªÊÑèÊñáÊú¨ÔºåÁî® {UserName} Êù•Â±ïÁ§∫‰Ω†ÁöÑÁî®Êà∑Âêç„ÄÇÈªòËÆ§‰∏∫ '‚úçÔ∏è By {UserName}'","Save Shared Image To Folder For Mobile":"ÂΩìÂú®ÁßªÂä®Á´Ø‰∏äÊó∂‰øùÂ≠òÂõæÁâáÂà∞Êñá‰ª∂Â§π","Save image to folder for mobile. False by Default":"ÂΩìÂú®ÁßªÂä®Á´Ø‰∏äÊó∂Ôºå‰øùÂ≠òÁîüÊàêÁöÑÂõæÁâáÂà∞Êñá‰ª∂Â§π","Say Thank You":"ÊÑüË∞¢ÂºÄÂèë",Donate:"ÊçêËµ†","If you like this plugin, consider donating to support continued development:":"Â¶ÇÊûú‰Ω†ÂñúÊ¨¢Ëøô‰∏™Êèí‰ª∂ÔºåËÄå‰∏î‰πüÂ∏åÊúõÁªôÊàë‰π∞È∏°ËÖøÔºåÈÇ£‰πàÂèØ‰ª•ËÄÉËôë Github È°µÈù¢Âè≥ËæπÁöÑ Sponsor~","File Name of Recycle Bin":"ÂõûÊî∂Á´ôÁöÑÊñá‰ª∂Âêç","Set the filename for recycle bin. 'delete' By default":"ÁªôÂõûÊî∂Á´ôËÆæÁΩÆ‰∏Ä‰∏™Êñá‰ª∂Âêç„ÄÇÈªòËÆ§‰∏∫'delete'","File Name of Query File":"Ê£ÄÁ¥¢Êñá‰ª∂ÁöÑÊñá‰ª∂Âêç","Set the filename for query file. 'query' By default":"ËÆæÁΩÆÂ≠òÊîæÊ£ÄÁ¥¢ÂºèÁöÑÊñá‰ª∂ÁöÑÊñá‰ª∂Âêç„ÄÇÈªòËÆ§‰∏∫'query'","Use Tags In Vault":"‰ΩøÁî®Âú®Â∫ìÂÜÖÁöÑÊâÄÊúâÊ†áÁ≠æ","Use tags in vault rather than only in Memos. False by default.":"‰ΩøÁî®Âú®Â∫ìÂÜÖÁöÑËÄå‰∏çÊòØ Thino ÂÜÖÁöÑÊ†áÁ≠æ„ÄÇÈªòËÆ§ÂÖ≥Èó≠","Don't support web image yet, please input image path in vault":"ÊöÇ‰∏çÊîØÊåÅÁΩëÁªúÂõæÁâáÔºåËØ∑‰ΩøÁî®Êú¨Âú∞ÂõæÁâá","Ready to convert image into background":"Ê≠£Âú®Â∞ÜÂõæÁâáËΩ¨Êç¢‰∏∫ËÉåÊôØÂõæ",List:"ÂàóË°®",Task:"‰ªªÂä°",Top:"È°∂ÈÉ®",Bottom:"Â∫ïÈÉ®",TAG:"Ê†áÁ≠æ",DAY:"Â§©",QUERY:"Ê£ÄÁ¥¢Âºè",EDIT:"ÁºñËæë",PIN:"ÁΩÆÈ°∂",UNPIN:"ÂèñÊ∂àÁΩÆÈ°∂",DELETE:"Âà†Èô§","CONFIRMÔºÅ":"Á°ÆÂÆöÂà†Èô§","CREATE FILTER":"ÂàõÂª∫Ê£ÄÁ¥¢Âºè",Filter:"Á≠õÈÄâ",Settings:"ËÆæÁΩÆ","Recycle bin":"ÂõûÊî∂Á´ô","About Me":"ÂÖ≥‰∫é","Fetching data...":"Ëé∑ÂèñÊï∞ÊçÆ‰∏≠...","Here is No Memos.":"Ê≤°ÊúâÊâæÂà∞ Thino","Frequently Used Tags":"Â∏∏Áî®Ê†áÁ≠æ","What do you think now...":"‰Ω†Áé∞Âú®Âú®ÊÉ≥‰ªÄ‰πàÔºü",READ:"ÈòÖËØª",MARK:"ÂºïÁî®",SHARE:"ÂàÜ‰∫´",SOURCE:"Êù•Ê∫ê",RESTORE:"ÊÅ¢Â§ç",ARCHIVE:"ÂΩíÊ°£","DELETE AT":"Âà†Èô§‰∫é","Noooop!":"Âï•ÈÉΩÊ≤°ÊúâÔºÅ","All Data is Loaded üéâ":"ÊâÄÊúâÊï∞ÊçÆÈÉΩÂä†ËΩΩÂ•ΩÂï¶ üéâ","Quick filter":"Âø´ÈÄüÁ≠õÈÄâ",TYPE:"Á±ªÂûã",LINKED:"ÊúâÈìæÊé•","NO TAGS":"Êó†Ê†áÁ≠æ","HAS LINKS":"ÊúâË∂ÖÈìæÊé•","HAS IMAGES":"ÊúâÂõæÁâá",INCLUDE:"ÂåÖÊã¨",EXCLUDE:"ÊéíÈô§",TEXT:"ÊñáÊú¨",IS:"ÊòØ",AND:"Âíå",OR:"Êàñ",LIST:"Áä∂ÊÄÅ",ISNOT:"‰∏çÊòØ",SELECT:"ÈÄâÊã©","ADD FILTER TERMS":"Ê∑ªÂä†Ê£ÄÁ¥¢Êù°‰ª∂",FILTER:"Á≠õÈÄâÂô®",TITLE:"Ê†áÈ¢ò","CREATE QUERY":"ÂàõÂª∫Ê£ÄÁ¥¢Âºè","EDIT QUERY":"ÁºñËæëÊ£ÄÁ¥¢Âºè",MATCH:"ÂåπÈÖç",TIMES:"Ê¨°","Share Memo Image":"ÂàÜ‰∫´ Thino ÂõæÁâá","‚ÜóClick the button to save":"‚ÜóÁÇπÂáªÂè≥‰∏äËßíÁöÑÊåâÈíÆÊù•‰øùÂ≠ò","Image is generating...":"ÂõæÁâáÊ≠£Âú®ÁîüÊàê‰∏≠...","Image is loading...":"ÂõæÁâáÊ≠£Âú®Âä†ËΩΩ‰∏≠...","üòü Cannot load image, image link maybe broken":"üòü Êó†Ê≥ïÂä†ËΩΩÂõæÁâáÔºåÂõæÁâáÈìæÊé•‰πüËÆ∏‰∏çÂ≠òÂú®","Loading...":"Âä™ÂäõÂä†ËΩΩ‰∏≠...","Daily Memos":"ÊØèÊó• Thino","CANCEL EDIT":"ÂèñÊ∂àÁºñËæë","LINK TO THE":"ÈìæÊé•Âà∞","Mobile Options":"ÁßªÂä®Á´ØÈÄâÈ°π","Experimental Options":"ÂÆûÈ™åÊÄßÈÄâÈ°π","Background Image in Dark Theme":"Ê∑±Ëâ≤‰∏ªÈ¢òÁöÑËÉåÊôØÂõæ","Background Image in Light Theme":"ÊµÖËâ≤‰∏ªÈ¢òÁöÑËÉåÊôØÂõæ",'Set background image in dark theme. Set something like "Daily/one.png"':'ËÆæÁΩÆÊ∑±Ëâ≤‰∏ªÈ¢òÁöÑËÉåÊôØÂõæ„ÄÇËØ∑ËÆæÁΩÆÁ±ª‰ºº"Daily/one.png"ÁöÑË∑ØÂæÑ','Set background image in light theme. Set something like "Daily/one.png"':'ËÆæÁΩÆÊµÖËâ≤‰∏ªÈ¢òÁöÑËÉåÊôØÂõæ„ÄÇËØ∑ËÆæÁΩÆÁ±ª‰ºº"Daily/one.png"ÁöÑË∑ØÂæÑ','Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default':'ËÆæÁΩÆÈªòËÆ§ Thino ÁªÑÊàêÔºå‰Ω†ÂøÖÈ°ªË¶Å‰ΩøÁî® {TIME} ‰Ωú‰∏∫ "HH:mm" ËÄå‰∏îË¶ÅËÆæÁΩÆ {CONTENT} ‰Ωú‰∏∫ÂÜÖÂÆπËØÜÂà´„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå Thino Âü∫‰∫é "{TIME} {CONTENT}" ËØÜÂà´',"Default Memo Composition":"„ÄêÂ∑≤ÂºÉÁΩÆ„ÄëÈªòËÆ§ Thino ÁªÑÊàê","Show Tasks Label":"Â±ïÁ§∫‰ªªÂä°Ê†áÁ≠æ","Show tasks label near the time text. False by default":"Âú® Thino ÁöÑÊó∂Èó¥ÊóÅÂ±ïÁ§∫‰ªªÂä°Ê†áÁ≠æ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ã‰∏çÂ±ïÁ§∫","Please Open Memos First":"ËØ∑ÂÖàÊâìÂºÄ Thino","Comment it...":"ËØÑËÆ∫...",DATE:"Êó•Êúü",OBSIDIAN_NLDATES_PLUGIN_NOT_ENABLED:"Obsidian Natrual DATES language Êèí‰ª∂Ê≤°ÂêØÂä®",BEFORE:"Âú®‰πãÂâç",AFTER:"Âú®‰πãÂêé","Allow Comments On Memos":"ÂÖÅËÆ∏Âú® Thino ‰∏äËØÑËÆ∫","You can comment on memos. False by default":"‰Ω†ÂèØ‰ª•Âú® Thino ÁÇπÂáªÂõæÊ†áËøõË°åËØÑËÆ∫‰∫Ü„ÄÇÈªòËÆ§‰∏çÂºÄÂêØ",Import:"ÂØºÂÖ•","TITLE CANNOT BE NULL!":"Ê†áÈ¢ò‰∏çÂèØ‰ª•‰∏∫Á©∫ÔºÅ","FILTER CANNOT BE NULL!":"Á≠õÈÄâÂô®‰∏çÂèØ‰ª•‰∏∫Á©∫ÔºÅ","Comments In Original DailyNotes/Notes":"Âú®ÂéüÊñá‰ª∂‰∏≠ËøõË°åËØÑËÆ∫","You should install Dataview Plugin ver 0.5.9 or later to use this feature.":"‰Ω†ÈúÄË¶ÅÂÆâË£Ö 0.5.9 ÁâàÊú¨‰ª•‰∏äÁöÑ Dataview Êèí‰ª∂Êù•‰ΩøÁî®ËØ•ÂäüËÉΩ","Open Memos Successfully":"ÊàêÂäüÊâìÂºÄ Thino ","Fetch Memos Error":"üò≠ Thino Ëé∑ÂèñÂ§±Ë¥•","Copied to clipboard Successfully":"Â§çÂà∂ÊàêÂäü","Check if you opened Daily Notes Plugin Or Periodic Notes Plugin":"ËØ∑Ê£ÄÊü•‰Ω†ÊúâÊ≤°ÊúâÂºÄÂêØÊó•ËÆ∞Êèí‰ª∂ÊàñËÄÖ Periodic Notes Êèí‰ª∂‰∏îÂêØÁî®‰∫ÜÊó•ËÆ∞Ê®°Âºè","Please finish the last filter setting first":"ÂÖàÂÆåÂñÑ‰∏ä‰∏Ä‰∏™ËøáÊª§Âô®Âêß","Close Memos Successfully":"ÊàêÂäüÂÖ≥Èó≠ Thino ","Insert as Memo":"ÊèíÂÖ•ÂÜÖÂÆπ‰∏∫ Thino","Insert file as memo content":"ÊèíÂÖ•Êñá‰ª∂‰∏∫ Thino","Image load failed":"Êúâ‰∏™ÂõæÁâáÂä†ËΩΩÂ§±Ë¥•‰∫Üüòü","Content cannot be empty":"ÂÜÖÂÆπ‰∏çËÉΩ‰∏∫Á©∫ÂëÄ","Unable to create new file.":"Êó†Ê≥ïÊñ∞Âª∫Êñá‰ª∂","Failed to fetch deleted memos: ":"Êó†Ê≥ïËé∑ÂèñÂ∑≤Âà†Èô§ÁöÑ Thino Ôºö","RESTORE SUCCEED":"ÊàêÂäüÊÅ¢Â§ç Thino","DELETE SUCCEED":"Âà†Èô§ÊàêÂäü","Save Memo button icon":"‰øùÂ≠òÊåâÈíÆ‰∏äÁöÑÂõæÊ†á","The icon shown on the save Memo button in the UI.":"‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰øùÂ≠òÊåâÈíÆ‰∏äÁöÑÂõæÊ†á","Fetch Memos From Particular Notes":"‰ªéÊåáÂÆöÁöÑÊñá‰ª∂‰∏≠Ëé∑Âèñ Thino",'You can set any Dataview Query for memos to fetch it. All memos in those notes will show on list. "#memo" by default':'‰Ω†ÂèØ‰ª•ÁªôÁ¨îËÆ∞ËÆæÁΩÆÊåáÂÆöÊ£ÄÁ¥¢ÂºèÊù•ËÆ© Memos ÂèØ‰ª•Á¥¢ÂºïÂà∞ÂÆÉ„ÄÇÈªòËÆ§‰∏∫ "#memo" ',"Allow Memos to Fetch Memo from Notes":"ÂÖÅËÆ∏ Thino ‰ªéÁ¨îËÆ∞‰∏≠Ëé∑Âèñ Thino","Use Memos to manage all memos in your notes, not only in daily notes. False by default":"‰ΩøÁî® Memos Êù•ÁÆ°ÁêÜ‰Ω†Á¨îËÆ∞‰∏≠ÁöÑ MemosÔºå‰∏çÂçïÂè™ DailyNotes ‰∏≠ÁöÑÂÜÖÂÆπ„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Always Show Memo Comments":"ËØÑËÆ∫Â∞ÜÊÄªÊòØÂèØËßÅ","Always show memo comments on memos. False by default":"ÂΩìÂºÄÂêØÂêéËØÑËÆ∫ÊÄªÊòØ‰ºöÂú® Thino ÁöÑ‰∏ãÊñπÂ±ïÁ§∫„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.":"‰Ω†Âú® Periodic Notes Êèí‰ª∂ÂíåÊó•ËÆ∞Êèí‰ª∂ÈÉΩÊ≤°ËÆæÁΩÆÊó•ËÆ∞ÁöÑÊâÄÂú®Êñá‰ª∂Â§π","Please check your daily note plugin OR periodic notes plugin settings":"ËØ∑Ê£ÄÊü•‰Ω†ÁöÑÊó•ËÆ∞Êèí‰ª∂Âíå/Êàñ Periodic Notes Êèí‰ª∂ÁöÑËÆæÁΩÆ","Use which plugin's default configuration":"‰ΩøÁî®Âì™‰∏™Êèí‰ª∂ÁöÑÈªòËÆ§Êó•ËÆ∞ÈÖçÁΩÆ","Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.":"Thino ÈááÁî®ÊåáÂÆöÊèí‰ª∂ÁöÑÈªòËÆ§ÈÖçÁΩÆÊù•Ëé∑Âèñ Thino„ÄÇÈªòËÆ§‰∏∫Êó•ËÆ∞Êèí‰ª∂„ÄÇ",Daily:"Êó•ËÆ∞Êèí‰ª∂","Always Show Leaf Sidebar on PC":"Âú® PC ‰∏äÊÄªÊòØÂ±ïÁ§∫Â∑¶‰æßÊ†è","Show left sidebar on PC even when the leaf width is less than 875px. False by default.":"Âú® PC ‰∏äÂç≥‰ΩøÈ°µÈù¢ÂÆΩÂ∫¶Â∞è‰∫é 875px Êó∂ÈÉΩÂ±ïÁ§∫Â∑¶‰æßÊ†è„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","You didn't set format for daily notes in both periodic-notes and daily-notes plugins.":"‰Ω†Âú® Periodic Notes Êèí‰ª∂ÂíåÊó•ËÆ∞Êèí‰ª∂ÈÉΩÊ≤°ËÆæÁΩÆÊó•ËÆ∞ÁöÑÊ†ºÂºè","fetch more":"Âä†ËΩΩÊõ¥Â§ö","Search all settings":"ÊêúÁ¥¢ÊâÄÊúâËÆæÁΩÆ","Random Review":"ÈöèÊú∫ÂõûÈ°æ","ARCHIVED AT":"ÂΩíÊ°£‰∫é","Failed to get memos from daily notes":"Êó†Ê≥ï‰ªéÊó•ËÆ∞‰∏≠Ëé∑Âèñ Thino","Failed to delete memo":"Êó†Ê≥ïÂà†Èô§ Thino","CTRL + ENTER to save":"CTRL + ENTER ‰øùÂ≠ò","Started from":"ÂºÄÂßã‰∫é","Custom Background Image":"Ëá™ÂÆö‰πâËÉåÊôØÂõæ","Set custom background image.":"ËÆæÁΩÆËá™ÂÆö‰πâËÉåÊôØÂõæ","Custom Memo Footer":"Ëá™ÂÆö‰πâ Thino È°µËÑö","Set custom memo footer.":"ËÆæÁΩÆËá™ÂÆö‰πâ Thino È°µËÑö","Heatmap Color Scheme":"ÁÉ≠ÂäõÂõæÈ¢úËâ≤","Set different color scheme for heatmap.":"ËÆæÁΩÆÁÉ≠ÂäõÂõæÁöÑÈ¢úËâ≤","Enable Local Http Server":"ÂêØÁî®Êú¨Âú∞ HTTP ÊúçÂä°Âô®","Memos Http Server Port":"Thino HTTP ÊúçÂä°Âô®Á´ØÂè£","Set memos http server port to listen. '43999' by default":"ËÆæÁΩÆ Thino HTTP ÊúçÂä°Âô®Á´ØÂè£„ÄÇÈªòËÆ§‰∏∫ '43999'","Live-Preview Mode OR Source Mode.":"Âü∫‰∫é Thino ÁöÑÊâÄËßÅÂç≥ÊâÄÂæóÊ®°ÂºèÔºàÈªòËÆ§Ôºâ ÊàñËÄÖ Ê∫êÁ†ÅÊ®°ÂºèÔºå‰Ω†ÂèØ‰ª•Ëá™Â∑±ÈÄâÊã©ÈÄÇÂêàËá™Â∑±ÁöÑËæìÂÖ•‰ΩìÈ™å„ÄÇ","Default Editor Mode":"ÈªòËÆ§ÁºñËæëÂô®Ê®°Âºè","Save Location for Memos":"Thino ‰øùÂ≠ò‰ΩçÁΩÆ",DAILY:"Êó•ËÆ∞",MULTI:"Â§öÊñá‰ª∂",CANVAS:"ÁîªÂ∏É",FILE:"ÂçïÊñá‰ª∂",ALL:"ÊâÄÊúâ","Failed to create daily note, check if it exists.":"Êó†Ê≥ïÂàõÂª∫Êó•ËÆ∞ÔºåËØ∑Ê£ÄÊü•ÊòØÂê¶Â≠òÂú®Êñá‰ª∂Â§π","Failed to create daily note. Please check if you created a folder for daily notes.":"Êó†Ê≥ïÂàõÂª∫Êó•ËÆ∞ÔºåËØ∑Ê£ÄÊü•ÊòØÂê¶Â≠òÂú®Êó•ËÆ∞Êñá‰ª∂Â§π","After you verify your account, please refresh this page.":"È™åËØÅÊàêÂäüÂêéÔºåËØ∑Âà∑Êñ∞È°µÈù¢„ÄÇ",Verify:"ÂéªÈ™åËØÅ","Oops! You forget to verify insider account":"ÂÜÖÊµãË¥¶Êà∑È™åËØÅÂ§±Ë¥•","If you have any questions, please contact us.":"Â¶ÇÊûú‰Ω†Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºåËØ∑ËÅîÁ≥ªÊàë‰ª¨„ÄÇ","Delete Thino Directly":"Áõ¥Êé•Âà†Èô§ Thino","When delete thino directly, it will not be moved to trash. False by default.":"ÂΩìÁõ¥Êé•Âà†Èô§ Thino Êó∂Ôºå‰∏ç‰ºöÁßªÂä®Âà∞ÂõûÊî∂Á´ô„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Get activation code":"Ëé∑ÂèñÊøÄÊ¥ªÁ†Å","Input activation code here":"Âú®ËøôÈáåËæìÂÖ•ÊøÄÊ¥ªÁ†Å","Copy Thino id":"Ëé∑Âèñ Thino id","Activate Pro Version":"ÊøÄÊ¥ª‰∏ì‰∏öÁâà","Please copy Thino id first":"ËØ∑ÂÖàËé∑Âèñ Thino id",'You can set folder name with file name like "folder/file"':'‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰æãÂ¶Ç "folder/file" ÁöÑÊñá‰ª∂Â§πÂêç+Êñá‰ª∂ÂêçÁöÑÊê≠ÈÖçÊù•Â≠òÊîæÂú®ÊåáÂÆöÊñá‰ª∂Â§π','You can set folder name like "folder1/folder2/folder3" to create sub-folder':'‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰æãÂ¶Ç "folder1/folder2/folder3" ÁöÑÊñá‰ª∂Â§πÂêçÊù•ÂàõÂª∫Â≠êÊñá‰ª∂Â§π',"Default save location":"ÈªòËÆ§‰øùÂ≠ò‰ΩçÁΩÆ",'Set the default save location for thino. "DAILY" by default':'ËÆæÁΩÆ Thino ÁöÑÈªòËÆ§‰øùÂ≠ò‰ΩçÁΩÆ„ÄÇÈªòËÆ§‰∏∫ "DAILY"',"Enable opening thino globally":"ÂÖ®Â±ÄÂî§ÈÜí Thino","Enable opening thino globally. False by default.":"ÂÖ®Â±ÄÂî§ÈÜí Thino„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Key for opening thino globally":"ÂÖ®Â±ÄÂî§ÈÜí Thino ÁöÑÂø´Êç∑ÈîÆ","Set key for opening thino globally. CTRL + SHIFT + T by default.":"ËÆæÁΩÆÂÖ®Â±ÄÂî§ÈÜí Thino ÁöÑÂø´Êç∑ÈîÆ„ÄÇÈªòËÆ§‰∏∫ CTRL + SHIFT + T","Sync Thino via PKMer":"ÈÄöËøá PKMer ÂêåÊ≠• Thino",Unlink:"ÂèñÊ∂àÈìæÊé•",Link:"ÈìæÊé•","Connect to PKMer Sync, you can check it in ":"ËøûÊé•Âà∞ PKMer ÂêåÊ≠•Ôºå‰Ω†ÂèØ‰ª•Âú®ËØ•ÈìæÊé•‰∏≠Êü•ÁúãÔºö","PKMer Sync":"PKMer ÂêåÊ≠•","Remove successfully":"ÁßªÈô§ÊàêÂäü",Deactivate:"ÂèñÊ∂àÊøÄÊ¥ª",Remove:"ÁßªÈô§","Confirm?":"Á°ÆËÆ§Ôºü","Sync Status":"ÂêåÊ≠•Áä∂ÊÄÅ","Start or stop sync":"ÂºÄÂßãÊàñÂÅúÊ≠¢ÂêåÊ≠•","Stop sync successfully":"ÂÅúÊ≠¢ÂêåÊ≠•ÊàêÂäü","Start sync successfully":"ÂºÄÂßãÂêåÊ≠•ÊàêÂäü",Stop:"ÂÅúÊ≠¢",Start:"ÂºÄÂßã","Show thino near mouse":"Âú®Èº†Ê†áÈôÑËøëÂ±ïÁ§∫ Thino","Query not found":"Ê£ÄÁ¥¢ÂºèÊú™ÊâæÂà∞","Send to clipboard successfully":"ÂèëÈÄÅÂà∞Ââ™Ë¥¥ÊùøÊàêÂäü","Thino - Failed to start HTTP server, please check the port is available.":"Thino - ÂêØÂä® HTTP ÊúçÂä°Âô®Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•Á´ØÂè£ÊòØÂê¶ÂèØÁî®„ÄÇ","Thino - Started HTTP server on port":"Thino - ÂêØÂä® HTTP ÊúçÂä°Âô®ÊàêÂäüÔºåÁ´ØÂè£‰∏∫","Thino - Terminated HTTP server":"Thino - ÁªàÊ≠¢ HTTP ÊúçÂä°Âô®","File not exist":"Êñá‰ª∂‰∏çÂ≠òÂú®","Thino not found":"Thino Êú™ÊâæÂà∞","File not found for the given thino path, is creating a new file":"Êú™ÊâæÂà∞ÊâøËΩΩÊåáÂÆö Thino ÁöÑÊñá‰ª∂ÔºåÊ≠£Âú®ÂàõÂª∫Êñ∞Êñá‰ª∂","Saved sync token successfully":"‰øùÂ≠òÂêåÊ≠•‰ª§ÁâåÊàêÂäü","Failed to find daily notes folder":"Êú™ÊâæÂà∞Êó•ËÆ∞Êñá‰ª∂Â§π","Please install obsidian-hover-editor plugin first":"ËØ∑ÂÖàÂÆâË£Ö obsidian-hover-editor Êèí‰ª∂","Copied app id successfully":"Â§çÂà∂ app id ÊàêÂäü","Please input token first":"ËØ∑ÂÖàËæìÂÖ• token","Please enable sync first":"ËØ∑ÂÖàÂêØÁî®ÂêåÊ≠•","Init Failed":"ÂàùÂßãÂåñÂ§±Ë¥•","Folder not found for the given thino path, is creating a new folder":"Êú™ÊâæÂà∞ÊâøËΩΩÊåáÂÆö Thino ÁöÑÊñá‰ª∂Â§πÔºåÊ≠£Âú®ÂàõÂª∫Êñ∞Êñá‰ª∂Â§π","File not found for the given thino path":"Êú™ÊâæÂà∞ÊâøËΩΩÊåáÂÆö Thino ÁöÑÊñá‰ª∂","Failed to read current daily note, check if it exists.":"Êó†Ê≥ïËØªÂèñÊó•ËÆ∞Êñá‰ª∂ÔºåËØ∑Ê£ÄÊü•ÊòØÂê¶Â≠òÂú®","Verify successfully":"È™åËØÅÊàêÂäü","Failed to verify":"È™åËØÅÂ§±Ë¥•","Failed to save":"‰øùÂ≠òÂ§±Ë¥•","Failed to login, please login again":"ÁôªÂΩïÂ∑≤ËøáÊúüÔºåËØ∑ÈáçÊñ∞ÁôªÂΩï","COPY FAILED":"Â§çÂà∂Â§±Ë¥•","COPY SUCCEED":"Â§çÂà∂ÊàêÂäü","Copy selected text":"Â§çÂà∂ÈÄâ‰∏≠ÊñáÊú¨","Copy thino":"Â§çÂà∂",COPY:"Â§çÂà∂","This is a pro feature, please upgrade to pro version to use it.":"ËøôÊòØ‰∏ì‰∏öÁâàÂäüËÉΩÔºåËØ∑ÂçáÁ∫ßÂà∞‰∏ì‰∏öÁâàÊù•‰ΩøÁî®ÂÆÉ„ÄÇ","You can get pro version from: ":"‰Ω†ÂèØ‰ª•‰ªéËøôÈáåËé∑Âèñ‰∏ì‰∏öÁâàÔºö",Save:"‰øùÂ≠ò",Cancel:"ÂèñÊ∂à","Thino Daily Target":"Thino ÊØèÊó•ÁõÆÊ†á",Input:"ËæìÂÖ•","#Tag":"#Ê†áÁ≠æ","to create tag":"Êù•ÂàõÂª∫Ê†áÁ≠æ","You have verified your account. Congrats!":"‰Ω†Â∑≤ÁªèÈ™åËØÅ‰∫Ü‰Ω†ÁöÑË¥¶Êà∑„ÄÇÊÅ≠ÂñúÔºÅ","Pro Features":"‰∏ì‰∏öÁâàÂäüËÉΩ","Target Thino Count":"ÁõÆÊ†á Thino Êï∞Èáè",on:"Âú®","Switch waterfall view":"ÂàáÊç¢ÁÄëÂ∏ÉÊµÅËßÜÂõæ","Switch view":"ÂàáÊç¢ËßÜÂõæ","Switch list view":"ÂàáÊç¢ÂàóË°®ËßÜÂõæ","Set daily target":"ËÆæÁΩÆÊØèÊó•ÁõÆÊ†á","Thino Save To: ":"Thino ‰øùÂ≠òÂà∞Ôºö","Enter fullscreen mode":"ËøõÂÖ•ÂÖ®Â±èÊ®°Âºè","Exit fullscreen mode":"ÈÄÄÂá∫ÂÖ®Â±èÊ®°Âºè",words:"Â≠ó","Return To Home Page":"ËøîÂõûÈ¶ñÈ°µ","Open thino in center window":"Âú®‰∏≠ÂøÉÁ™óÂè£ÊâìÂºÄ thino","Open thino in float window":"Âú®ÊµÆÂä®Á™óÂè£ÊâìÂºÄ thino","Open thino in right sidebar":"Âú®Âè≥‰æßËæπÊ†èÊâìÂºÄ thino","Open thino in left sidebar":"Âú®Â∑¶‰æßËæπÊ†èÊâìÂºÄ thino","Show thino editor":"ÊòæÁ§∫ thino ÁºñËæëÂô®","Toggle minimal mode":"ÂàáÊç¢ Minimal Ê®°Âºè","Focus on thino editor":"ËÅöÁÑ¶Âà∞ thino ÁºñËæëÂô®","ReSync web thinos to local":"ÈáçÊñ∞ÂêåÊ≠• web ‰∏äÁöÑ thino Âà∞Êú¨Âú∞","Sync local thinos to web":"ÂêåÊ≠•Êú¨Âú∞ÁöÑ thino Âà∞ web","Show daily thino dialog":"ÊòæÁ§∫ÊØèÊó• thino ÊµÆÁ™ó","Focus on search bar":"ËÅöÁÑ¶Âà∞ÊêúÁ¥¢Ê†è","Show-thino in popover(Hover editor)":"Âú®ÂºπÂá∫Ê°Ü‰∏≠ÊòæÁ§∫ thino","Center window":"‰∏≠ÂøÉÁ™óÂè£","Float window":"ÊµÆÂä®Á™óÂè£","Right sidebar":"Âè≥‰æßËæπÊ†è","Left sidebar":"Â∑¶‰æßËæπÊ†è","Save thino type when sync local":"ÂêåÊ≠•Êú¨Âú∞Êó∂‰øùÂ≠òÁöÑ thino Á±ªÂûã","Set the default save thino type when sync local, FILE by default.":"ËÆæÁΩÆÂêåÊ≠•Êú¨Âú∞Êó∂‰øùÂ≠òÁöÑ thino Á±ªÂûãÔºåÈªòËÆ§‰∏∫ÂçïÊñá‰ª∂„ÄÇ","Sync service":"ÂêåÊ≠•ÊúçÂä°","Pro verification status":"‰∏ì‰∏öÁâàÊøÄÊ¥ªÁä∂ÊÄÅ","Live-preview":"ÊâÄËßÅÂç≥ÊâÄÂæó",Source:"Ê∫êÁ†Å",General:"ÈÄöÁî®",Thino:"Thino",Theme:"‰∏ªÈ¢ò",Share:"ÂàÜ‰∫´",Advanced:"ËøõÈò∂","Global copy":"ÂÖ®Â±ÄÂ§çÂà∂","Set the folder name":"ËÆæÁΩÆÊñá‰ª∂Â§πÂêç","Set the filename":"ËÆæÁΩÆÊñá‰ª∂Âêç","Set the filename for current location file":"ËÆæÁΩÆÂΩìÂâç‰ΩçÁΩÆÊñá‰ª∂ÁöÑÊñá‰ª∂Âêç","Switch calendar type":"ÂàáÊç¢Êó•ÂéÜÁ±ªÂûã",alphabetical:"Ê†áÁ≠æÂêçÁß∞ÔºàA-ZÔºâ",alphabeticalReverse:"Ê†áÁ≠æÂêçÁß∞ÔºàZ-AÔºâ",byCount:"Êåâ‰ΩøÁî®Ê¨°Êï∞Ôºà‰ªéÈ´òÂà∞‰ΩéÔºâ",byCountReverse:"Êåâ‰ΩøÁî®Ê¨°Êï∞Ôºà‰ªé‰ΩéÂà∞È´òÔºâ","Type here":"Âú®ËøôÈáåËæìÂÖ•",Today:"‰ªäÂ§©",Yesterday:"Êò®Â§©","Last 7 days":"ÊúÄËøë 7 Â§©","Last 30 days":"ÊúÄËøë 30 Â§©","Last 90 days":"ÊúÄËøë 90 Â§©","Last 180 days":"ÊúÄËøë 180 Â§©","Last 365 days":"ÊúÄËøë 365 Â§©",Found:"Ë¢´ÊâæÂà∞","Copy filtered thinos":"Â§çÂà∂Á≠õÈÄâÁöÑ thino","Bulk delete":"ÊâπÈáèÂà†Èô§","Bulk archive":"ÊâπÈáèÂΩíÊ°£","Bulk tag operation":"Ê†áÁ≠æÁºñËæë","Bulk restore":"ÊâπÈáèÊÅ¢Â§ç","If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again.":"Â¶ÇÊûú‰Ω†Á¶ÅÁî®‰∫ÜÊó•ËÆ∞Êèí‰ª∂ÔºåÂèØËÉΩ‰ºöÂØºËá¥ thino Êó†Ê≥ïË¢´Ê≠£Á°ÆÂà†Èô§„ÄÇËØ∑ÂêØÁî®Êèí‰ª∂ÂêéÂÜçËØï‰∏ÄÊ¨°„ÄÇ",Preview:"È¢ÑËßà","Set and save":"ËÆæÁΩÆÂπ∂‰øùÂ≠ò","Show day mark on list mode":"Âú®ÂàóË°®Ê®°Âºè‰∏≠Â±ïÁ§∫Êó•ÊúüÊ†áËÆ∞","Show day mark on the top of daily range thino. False by default.":"Âú®ÂàóË°®Ê®°Âºè‰∏≠Â±ïÁ§∫Êó•ÊúüÊ†áËÆ∞„ÄÇÈªòËÆ§‰∏∫ÂÖ≥Èó≠","Click to expand or fold, Cmd+Click to show all thinos of the day":"ÁÇπÂáªÂ±ïÂºÄÊàñÊäòÂè†ÔºåCmd+ÁÇπÂáªÂ±ïÁ§∫ÂΩìÂ§©ÊâÄÊúâ thino","You can buy a license from":"‰Ω†ÂèØ‰ª•‰ªéËøôÈáåË¥≠‰π∞ËÆ∏ÂèØËØÅ","No thinos in range":"ËØ•ËåÉÂõ¥ÂÜÖÊ≤°Êúâ thino",Month:"ÊúàËßÜÂõæ",Week:"Âë®ËßÜÂõæ",Day:"Êó•ËßÜÂõæ",Agenda:"Êó•Á®ãËßÜÂõæ",Tomorrow:"ÊòéÂ§©",Previous:"ÂæÄÂâç",Next:"ÂæÄÂêé","Search all columns...":"ÊêúÁ¥¢ÊâÄÊúâÁöÑÂàó...","Basic Info":"Âü∫Á°Ä‰ø°ÊÅØ","Additional Info":"ÈôÑÂä†‰ø°ÊÅØ","Created At":"ÂàõÂª∫‰∫é",Content:"ÂÜÖÂÆπ","Thino Type":"Thino Á±ªÂûã","Source Type":"Êù•Ê∫êÁ±ªÂûã","Row status":"ÂΩíÊ°£Áä∂ÊÄÅ",Path:"Ë∑ØÂæÑ","Pinned Status":"ÁΩÆÈ°∂Áä∂ÊÄÅ",Table:"Ë°®Ê†º",Chat:"ËÅäÂ§©",Moments:"Âä®ÊÄÅ",Waterfall:"ÁÄëÂ∏ÉÊµÅ",Calendar:"Êó•ÂéÜ","Go to page":"Ë∑≥ËΩ¨Âà∞È°µ",Page:"È°µ",Show:"Â±ïÁ§∫",rows:"Ë°å","Temp Filter":"‰∏¥Êó∂Á≠õÈÄâÂô®","Set the heading for saving thino":"ËÆæÁΩÆ‰øùÂ≠ò Thino ÁöÑÊ†áÈ¢ò","# Heading":"# Ê†áÈ¢ò","Allow navigation from view to Thino or Thino to view":"ÂÖÅËÆ∏‰ªéËßÜÂõæÂà∞ Thino ÊàñËÄÖ‰ªé Thino Âà∞ËßÜÂõæÁöÑÂØºËà™","Day mark range":"Êó•ÊúüÊ†áËÆ∞ËåÉÂõ¥","Set the range of day mark. Day by default.":"ËÆæÁΩÆÊó•ÊúüÊ†áËÆ∞ÁöÑËåÉÂõ¥ÔºåÈªòËÆ§‰∏∫Â§©","Thino is locked":"Thino Â∑≤ÈîÅÂÆö","Please unlock Thino by input password":"ËØ∑ËæìÂÖ•ÂØÜÁ†ÅÊù•Ëß£ÈîÅ Thino","Auto Download Image":"Ëá™Âä®‰∏ãËΩΩÂõæÁâá","Auto download image when save to thino. 'false' by default":"ÂΩì‰øùÂ≠òÂà∞ Thino Êó∂Ëá™Âä®‰∏ãËΩΩÂõæÁâá„ÄÇÈªòËÆ§‰∏∫ 'false'","Thino Http IP Type":"Thino HTTP ÊúçÂä°Âô® IP Á±ªÂûã","Set Thino http server ip to listen. 'localhost' by default":"ËÆæÁΩÆ Thino HTTP ÊúçÂä°Âô® IP„ÄÇÈªòËÆ§‰∏∫ 'localhost'","Password to lock Thino":"ÈîÅÂÆö Thino ÁöÑÂØÜÁ†Å",Unlock:"Ëß£ÈîÅ",Locked:"Â∑≤ÈîÅÂÆö","Password is incorrect":"ÂØÜÁ†ÅÈîôËØØ",Lock:"ÈîÅÂÆö","Need password to unlock Thino":"ÈúÄË¶ÅÂØÜÁ†ÅÊù•Ëß£ÈîÅ Thino","You have not set a password or enable this feature yet":"‰Ω†ËøòÊ≤°ÊúâËÆæÁΩÆÂØÜÁ†ÅÊàñËÄÖÂêØÁî®ËØ•ÂäüËÉΩ",Password:"ÂØÜÁ†Å","Password for Thino":"Thino ÁöÑÂØÜÁ†Å","Please input your password to change password settings":"ËØ∑ËæìÂÖ•ÂéüÊù•ÁöÑÂØÜÁ†ÅÊù•‰øÆÊîπÂØÜÁ†ÅËÆæÁΩÆ","Please input your password":"ËØ∑ËæìÂÖ•ÂØÜÁ†Å","Lock thino":"ÈîÅÂÆö Thino",date:"Êó•Êúü",time:"Êó∂Èó¥",event:"‰∫ã‰ª∂","Add tag position":"Ê∑ªÂä†Ê†áÁ≠æ‰ΩçÁΩÆ","Set the position of the tag when adding tag automatically":"ËÆæÁΩÆËá™Âä®Ê∑ªÂä†Ê†áÁ≠æÁöÑ‰ΩçÁΩÆ","Add tag automatically":"Ëá™Âä®Ê∑ªÂä†Ê†áÁ≠æ","Add tag to the end or beginning of the thino content when creating a thino and filtering tags":"Âú®ÂàõÂª∫ Thino ÂíåÁ≠õÈÄâÊ†áÁ≠æÊó∂ÔºåÂ∞ÜÊ†áÁ≠æÊ∑ªÂä†Âà∞ Thino ÂÜÖÂÆπÁöÑÊú´Â∞æÊàñÂºÄÂ§¥","Add tag with new line":"Ê∑ªÂä†Ê†áÁ≠æÊó∂Êç¢Ë°å","Add tag with new line when adding tag automatically":"Ëá™Âä®Ê∑ªÂä†Ê†áÁ≠æÊó∂Êç¢Ë°å","Input to select more tags":"ËæìÂÖ•Êù•ÈÄâÊã©Êõ¥Â§öÊ†áÁ≠æ","Tag Bulk Edit":"Ê†áÁ≠æÊâπÈáèÁºñËæë","Exist Tags":"Â∑≤ÊúâÊ†áÁ≠æ","Selected Tags":"Â∑≤ÈÄâÊ†áÁ≠æ","Click to remove exist tag":"ÁÇπÂáªÁßªÈô§Â∑≤ÊúâÊ†áÁ≠æ","Click to remove selected tag":"ÁÇπÂáªÁßªÈô§Â∑≤ÈÄâÊ†áÁ≠æ","Select tags":"ÈÄâÊã©Ê†áÁ≠æ","Input to select exist tag":"ËæìÂÖ•Êù•ÈÄâÊã©Â∑≤ÊúâÊ†áÁ≠æ",Beginning:"ÂºÄÂ§¥",End:"Êú´Â∞æ","Chat view style":"ËÅäÂ§©ËßÜÂõæÊ†∑Âºè","Set the style of chat view":"ËÆæÁΩÆËÅäÂ§©ËßÜÂõæÁöÑÊ†∑Âºè","Background image for moments view":"Âä®ÊÄÅËßÜÂõæÁöÑËÉåÊôØÂõæ","Set the background image for moments view":"ËÆæÁΩÆÂä®ÊÄÅËßÜÂõæÁöÑËÉåÊôØÂõæ","Icon for moments/chat view":"Âä®ÊÄÅ/ËÅäÂ§©ËßÜÂõæÁöÑÂ§¥ÂÉè","Set the icon for moments/chat view":"ËÆæÁΩÆÂä®ÊÄÅ/ËÅäÂ§©ËßÜÂõæÁöÑÂ§¥ÂÉè","Quote for moments view":"Âä®ÊÄÅËßÜÂõæÁöÑ‰∏™ÊÄßÁ≠æÂêç","Set the quote for moments view":"ËÆæÁΩÆÂä®ÊÄÅËßÜÂõæÁöÑ‰∏™ÊÄßÁ≠æÂêç","Theme for Thino":"Thino ‰∏ªÈ¢ò","Set the theme for Thino":"ËÆæÁΩÆ Thino ÁöÑ‰∏ªÈ¢ò","Theme Details":"‰∏ªÈ¢òËØ¶ÊÉÖ","Task amount":"‰ªªÂä°Êï∞Èáè","Thino status":"Thino Áä∂ÊÄÅ","Used tags":"‰ΩøÁî®ÁöÑÊ†áÁ≠æ","Used days":"‰ΩøÁî®ÁöÑÂ§©Êï∞","Most active day":"ÊúÄÊ¥ªË∑ÉÁöÑ‰∏ÄÂ§©","Most active hour":"ÊúÄÊ¥ªË∑ÉÁöÑ‰∏ÄÂ∞èÊó∂","Thino amount":"Thino Êï∞Èáè","No content to generate.":"Ê≤°ÊúâÂÜÖÂÆπÂèØ‰ª•ÁîüÊàê„ÄÇ","Image generated successfully.":"ÂõæÁâáÁîüÊàêÊàêÂäü„ÄÇ","Failed to generate image.":"ÂõæÁâáÁîüÊàêÂ§±Ë¥•„ÄÇ","Share filtered thinos as image":"ÂàÜ‰∫´Á≠õÈÄâÁöÑ Thino ‰∏∫ÂõæÁâá","Latest version":"ÊúÄÊñ∞ÁâàÊú¨","Previous version":"‰πãÂâçÁâàÊú¨","Thino update info":"Thino Êõ¥Êñ∞‰ø°ÊÅØ","Debug info copied to clipboard":"Ë∞ÉËØï‰ø°ÊÅØÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø","Copy debug info":"Â§çÂà∂Ë∞ÉËØï‰ø°ÊÅØ","Failed to load changelog":"Êó†Ê≥ïÂä†ËΩΩÊõ¥Êñ∞Êó•Âøó","View online":"Âú®Á∫øÊü•Áúã",ChangeLog:"Êõ¥Êñ∞Êó•Âøó"},K4={},Q4={ar:k4,cs:A4,da:O4,de:F4,en:bI,"en-gb":P4,es:j4,fr:L4,hi:R4,id:_4,it:H4,ja:B4,ko:Y4,nl:z4,nn:U4,pl:V4,pt:Z4,"pt-br":W4,ro:$4,ru:q4,tr:G4,"zh-cn":J4,"zh-tw":K4},Rb=Q4[E.moment.locale()];function k(e){const t=Rb&&Rb[e]||bI[e];return t===null?t:t||e}const X4=/```([\s\S]*?)```/g,eN=/\*\*(.+?)\*\*/g,tN=/\*(.+?)\*/g,nN=/\[ \] /g,rN=/\[.{1}\] /g,aN=/^[*-]/g,oN=/(\d+)\. /g,_b=/\[\[([^\]]+)\]\]/g,fw=/\[([^\]]+)\]\((([^\]]+).md)\)/g,iN=(e,t)=>{const n=e.replace(X4,"<pre lang=''>$1</pre>").replace(aN,"<span class='counter-block'>‚Ä¢</span>").replace(oN,"<span class='counter-block'>$1.</span>").replace(nN,"<span class='todo-block' data-type='todo'>‚¨ú</span>").replace(rN,"<span class='todo-block' data-type='done'>‚úÖ</span>").replace(eN,"<strong>$1</strong>").replace(tN,"<em>$1</em>").replace(/&lt;br&gt;/g,"</p><p>").replace(/&amp;/g,"&");let r=n;if(t){if(_b.test(n)){const a=n.match(_b);for(let o=0;o<a.length;o++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(a[o])){const s=sN(a[o]);if(/\|/g.test(s)){const[u,d]=s.split("|"),m=b0(u,d);r=n.replace(a[o],m)}else{const m=b0(s,"");r=r.replace(a[o],m)}}}if(fw.test(n)){const a=n.match(fw);for(let o=0;o<a.length;o++)if(!/(jpeg|jpg|gif|png|svg|bmp|wepg)/g.test(a[o])){const s=cN(a[o]),u=lN(a[o]),d=b0(s,u);r=n.replace(a[o],d)}}}return r},b0=(e,t)=>{const{metadataCache:n}=Ee.getState().dailyNotesState.app;return n.getFirstLinkpathDest(decodeURIComponent(e),"")instanceof E.TFile?t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link">${e}</a>`:t?`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${t}</a>`:`<a data-href="${e}" data-type="link" data-filepath="${e}" class="internal-link is-unresolved">${e}</a>`},sN=e=>{var t;return(t=/\[\[([^\]]+)\]\]/g.exec(e))==null?void 0:t[1]},lN=e=>{var t;return(t=fw.exec(e))==null?void 0:t[1]},cN=e=>{var t;return(t=/\[([^\]]+)\]\((([^\]]+).md)\)/g.exec(e))==null?void 0:t[3]},Hb=e=>{const t=document.createElement("div");return t.className="memo-content-text",t.innerHTML=e,t.innerText},uN=e=>e.replace(/\n/g,"<br>"),dN=e=>{const t=document.createElement("div");return t.textContent=e,t.innerHTML},Bb="mobile-show-sidebar",DI=200,Ba=3600*24*1e3,An=/\s#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,hr=/(<p>|<br>)#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/g,$n=/^#([^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]+)/gu,Rc=/(\s|Ôºö|\(|>|^)((http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-]))/g,fN=/\[([\s\S]*?)\]\(([\s\S]*?)\)/gu,_c=/([^\s<\\*>'(]+\.(jpeg|jpg|gif|png|svg))(\]\])?(\))?/g,Il=/\[@(.+?)\]\((.+?)\)/g,hN=/^(-|\*|\d\.)\s(\[.\]\s)?(\d{1,2}:\d{2}(:\d{2})?)\s(.*)$/g,Md=[{title:"DAILY",icon:"list"},{title:"CANVAS",icon:"layout-dashboard"},{title:"MULTI",icon:"file-text"},{title:"FILE",icon:"edit"}];var hw;(e=>{function t(){return parseInt(E.moment().format("x"))}e.getNowTimeStamp=t;function n(){const j=navigator.userAgent;let _="Unknown";return j.indexOf("Win")!=-1?_="Windows":j.indexOf("Mac")!=-1?_="MacOS":j.indexOf("Linux")!=-1&&(_="Linux"),_}e.getOSVersion=n;function r(j){return typeof j=="string"&&(j=j.replaceAll("-","/")),new Date(j).getTime()}e.getTimeStampByDate=r;function a(j){const _=new Date(r(j));return new Date(_.getFullYear(),_.getMonth(),_.getDate()).getTime()}e.getDateStampByDate=a;function o(j){const _=new Date(r(j)),V=_.getFullYear(),U=_.getMonth()+1,z=_.getDate();return`${V}/${U}/${z}`}e.getDateString=o;function s(j){const _=new Date(r(j)),V=_.getHours(),U=_.getMinutes(),z=V<10?"0"+V:V,q=U<10?"0"+U:U;return`${z}:${q}`}e.getTimeString=s;function u(j){const _=new Date(r(j)),V=_.getFullYear(),U=_.getMonth()+1,z=_.getDate(),q=_.getHours(),ee=_.getMinutes(),ce=_.getSeconds(),fe=U<10?"0"+U:U,ie=z<10?"0"+z:z,he=q<10?"0"+q:q,Ie=ee<10?"0"+ee:ee,se=ce<10?"0"+ce:ce;return`${V}/${fe}/${ie} ${he}:${Ie}:${se}`}e.getDateTimeString=u;function d(j){return Array.from(new Set(j))}e.dedupe=d;function m(j){const _=new Set,V=[];for(const U of j)_.has(U.id)||(_.add(U.id),V.push(U));return V}e.dedupeObjectWithId=m;function p(j,_){let V=null;return()=>{V&&clearTimeout(V),V=setTimeout(j,_)}}e.debounce=p;function g(j,_,V=!1,U){let z=null,q=!1;function ee(...ce){if(z&&clearTimeout(z),V&&!q){const fe=j.apply(this,ce);U&&typeof U=="function"&&U(fe),q=!0}else z=setTimeout(()=>{const fe=j.apply(this,ce);U&&typeof U=="function"&&U(fe),q=!1,z=null},_)}return ee.cancel=function(){z&&clearTimeout(z),z=null,q=!1},ee}e.debouncePlus=g;function w(j,_){let V=!0;return()=>{if(!V)return!1;V=!1,setTimeout(()=>{j(),V=!0},_)}}e.throttle=w;function D(j){const _=[],V=Object.keys(j).sort();for(const U of V){const z=j[U];z&&(typeof z=="object"?_.push(...D(z).split("&")):_.push(`${U}=${z}`))}return _.join("&")}e.transformObjectToParamsString=D;function S(j){const _={},V=j.split("&");for(const U of V){const[z,q]=U.split("=");z&&q&&(_[z]=q)}return _}e.transformParamsStringToObject=S;function T(j){if(!j)return{};const _={},V=Object.keys(j).sort();for(const U of V){const z=j[U];if(typeof z=="object"){const q=T(JSON.parse(JSON.stringify(z)));q&&Object.keys(q).length>0&&(_[U]=q)}else z&&(_[U]=z)}return _}e.filterObjectNullKeys=T;async function C(j){if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(j)}catch(_){console.warn("Copy to clipboard failed.",_)}else console.warn("Copy to clipboard failed, methods not supports.")}e.copyTextToClipboard=C;function A(j){return new Promise(_=>{const V=new Image;V.onload=()=>{const{width:U,height:z}=V;U>0&&z>0?_({width:U,height:z}):_({width:0,height:0})},V.onerror=()=>{_({width:0,height:0})},V.className="hidden",V.src=j,document.body.appendChild(V),V.remove()})}e.getImageSize=A;async function N(j){var z,q,ee,ce;let _;const U=app.plugins.getPlugin("obsidian-memos").settings.UseDailyOrPeriodic==="Daily";try{return!U&&((ce=(ee=(q=(z=window.app.plugins)==null?void 0:z.getPlugin("periodic-notes"))==null?void 0:q.calendarSetManager)==null?void 0:ee.getActiveConfig("day"))!=null&&ce.enabled)?(_=await window.app.plugins.getPlugin("periodic-notes").createPeriodicNote("day",j),_):(_=await wI(j),_)}catch(fe){return console.error(fe),new E.Notice(k("Failed to create daily note. Please check if you created a folder for daily notes.")),null}}e.createDailyNoteCheck=N;function L(j){const _=[];let V=0;for(;V<j;V++)_.push((16*Math.random()|0).toString(16));return _.join("")}e.randomId=L;function F(j){return j.replace(/[\p{P}\p{Z}\p{S}]/gu,"").length}e.countWords=F;async function H(j){try{const _=await E.requestUrl(j),V=new Uint8Array(_.arrayBuffer);return new Blob([V],{type:"image/png"})}catch(_){return console.error("error in grabImageFromUrl",j,_),new Blob}}e.grabImageFromUrl=H})(hw||(hw={}));const Re=hw;function mN(){var o,s,u,d,m,p;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(u=(s=(o=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:o.calendarSetManager)==null?void 0:s.getActiveConfig("day"))==null?void 0:u.folder,a=(p=(m=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:m.daily)==null?void 0:p.format;switch(r===void 0?n=a:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=ov().format||"YYYY-MM-DD";break;case"Periodic":e=n||"YYYY-MM-DD";break;default:e=ov().format||"YYYY-MM-DD";break}return e===void 0&&new E.Notice(k("You didn't set format for daily notes in both periodic-notes and daily-notes plugins.")),e}function SI(){var o,s,u,d,m,p;let e="";const t=app.plugins.getPlugin("obsidian-memos").settings;let n="";const r=(u=(s=(o=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:o.calendarSetManager)==null?void 0:s.getActiveConfig("day"))==null?void 0:u.folder,a=(p=(m=(d=window.app.plugins.getPlugin("periodic-notes"))==null?void 0:d.settings)==null?void 0:m.daily)==null?void 0:p.folder;switch(r===void 0?n=a:n=r,(t==null?void 0:t.UseDailyOrPeriodic)||"Daily"){case"Daily":e=ov().folder||"";break;case"Periodic":e=n||"";break;default:e=ov().folder||"";break}return e===void 0&&new E.Notice(k("You didn't set folder for daily notes in both periodic-notes and daily-notes plugins.")),e}function mw(e,t){var r;e=dN(e),e=uN(e).split("<br>").map(a=>`<p>${a!==""?a:"<br>"}</p>`).join(""),e=iN(e,t),e=e.replace(An,"<span class='tag-span'>#$1</span>").replace(hr,"<p><span class='tag-span'>#$2</span>").replace(Rc,"$1<a class='link' target='_blank' rel='noreferrer' href='$2'>$2</a>").replace(fN,"<a class='link' target='_blank' rel='noreferrer' href='$2'>$1</a>").replace(Il,"<span class='memo-link-text' data-value='$2'>$1</span>").replace(/\^\S{6}/g,"");const n=document.createElement("div");n.innerHTML=e;for(let a=0;a<n.children.length;a++){const o=n.children[a];if(o.tagName==="P"&&o.textContent===""&&((r=o.firstElementChild)==null?void 0:r.tagName)!=="BR"){o.remove(),a--;continue}}return n.innerHTML}const Dm=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return new Blob([r],{type:t})};function pN(e,t){switch(t.type){case"SET_MEMOS":{const n=t.payload.memos.sort((a,o)=>{const s=Re.getTimeStampByDate(a.createdAt),u=Re.getTimeStampByDate(o.createdAt);return s===u?o.id.localeCompare(a.id):Re.getTimeStampByDate(o.createdAt)-Re.getTimeStampByDate(a.createdAt)}),r=Re.dedupeObjectWithId(n);return{...e,memos:[...r]}}case"SET_COMMENT_MEMOS":{const n=Re.dedupeObjectWithId(t.payload.commentMemos.sort((r,a)=>Re.getTimeStampByDate(a.createdAt)-Re.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"SET_TAGS":return{...e,tags:t.payload.tags,tagsNum:t.payload.tagsNum};case"INSERT_MEMO":{const n=Re.dedupeObjectWithId([t.payload.memo,...e.memos].sort((r,a)=>Re.getTimeStampByDate(a.createdAt)-Re.getTimeStampByDate(r.createdAt)));return{...e,memos:n}}case"INSERT_COMMENT_MEMO":{const n=Re.dedupeObjectWithId([t.payload.memo,...e.commentMemos].sort((r,a)=>Re.getTimeStampByDate(a.createdAt)-Re.getTimeStampByDate(r.createdAt)));return{...e,commentMemos:[...n]}}case"DELETE_MEMO_BY_ID":return{...e,memos:[...e.memos].filter(n=>n.id!==t.payload.id)};case"DELETE_MEMO_BY_ID_BATCH":{const n=[...e.memos];return t.payload.ids.forEach(r=>{n.splice(n.findIndex(a=>a.id===r),1)}),{...e,memos:[...n]}}case"CLEAR_MEMOS":return{...II};case"EDIT_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"EDIT_MEMO_PATH":{const n=e.memos.map(r=>r.path===t.payload.path?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"UPDATE_MEMO_BATCH":{const n=e.memos.filter(a=>a.path!==t.payload.path),r=Re.dedupeObjectWithId([...t.payload.memos,...n].sort((a,o)=>Re.getTimeStampByDate(o.createdAt)-Re.getTimeStampByDate(a.createdAt)));return{...e,memos:[...r]}}case"ARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"ARCHIVE_MEMO_BY_ID_BULK":{const n=e.memos.map(r=>t.payload.some(a=>a.id===r.id)?{...r,...t.payload.filter(a=>a.id===r.id)[0]}:r);return{...e,memos:[...n]}}case"UNARCHIVE_MEMO_BY_ID":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,memos:[...n]}}case"PIN_MEMO":{const n=e.memos.map(r=>r.id===t.payload.id?{...r,pinned:t.payload.pinned}:r);return{...e,memos:[...n]}}case"EDIT_COMMENT_MEMO":{const n=e.commentMemos.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,commentMemos:[...n]}}default:return e}}const II={memos:[],commentMemos:[],tags:[],tagsNum:{}};function gN(e,t){switch(t.type){case"SIGN_IN":return{user:t.payload.user};case"SIGN_OUT":return{user:null};default:return e}}const vN={user:null};function yN(e,t){switch(t.type){case"SET_QUERIES":{const n=Re.dedupeObjectWithId(t.payload.queries.sort((r,a)=>Re.getTimeStampByDate(a.createdAt)-Re.getTimeStampByDate(r.createdAt)).sort((r,a)=>Re.getTimeStampByDate(a.pinnedAt??0)-Re.getTimeStampByDate(r.pinnedAt??0)));return{...e,queries:n}}case"INSERT_QUERY":{const n=Re.dedupeObjectWithId([t.payload.query,...e.queries].sort((r,a)=>Re.getTimeStampByDate(a.createdAt)-Re.getTimeStampByDate(r.createdAt)));return{...e,queries:n}}case"DELETE_QUERY_BY_ID":return{...e,queries:[...e.queries].filter(n=>n.id!==t.payload.id)};case"UPDATE_QUERY":{const n=e.queries.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);return{...e,queries:n}}default:return e}}const wN={queries:[]};function bN(e,t){var n,r,a,o;switch(t.type){case"SET_DAILY_NOTES":return{...e,dailyNotes:t.payload.dailyNotes};case"SET_APP":return e.app?{...e}:{...e,app:t.payload.app};case"SET_PLUGIN":return e.plugin?{...e}:{...e,plugin:t.payload.plugin};case"SET_EDITOR":return e.editor?{...e}:{...e,editor:t.payload.editor};case"SET_SETTINGS":return e.settings&&e.settings===t.payload.settings?{...e}:{...e,settings:t.payload.settings};case"SET_VIEW":return e.view&&((r=(n=e.view)==null?void 0:n.leaf)==null?void 0:r.id)===((o=(a=t.payload.view)==null?void 0:a.leaf)==null?void 0:o.id)?{...e}:{...e,view:t.payload.view};case"CLEAR_VIEW":return e.view&&e.view.unload(),{...e,view:null};case"CLEAR_FILES":return{...e,dailyNotes:null};case"SET_VERIFY_STATE":return{...e,verifyState:t.payload.verifyState};default:return e}}const DN={dailyNotes:null,app:null,view:null,settings:null,editor:null,plugin:null,verifyState:null},Ee=e4({globalState:n4,locationState:aI,memoState:II,userState:vN,queryState:wN,dailyNotesState:DN},X3({globalState:t4,locationState:r4,memoState:pN,userState:gN,queryState:yN,dailyNotesState:bN})),wt=O.createContext(Ee.getState());String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});class SN{constructor(){me(this,"initialized",!1)}getState(){return Ee.getState().dailyNotesState}setApp(t){return Ee.dispatch({type:"SET_APP",payload:{app:t}}),t}setPlugin(t){return Ee.dispatch({type:"SET_PLUGIN",payload:{plugin:t}}),t}setSettings(t){return Ee.dispatch({type:"SET_SETTINGS",payload:{settings:t}}),this.initialized||(this.initialized=!0),t}setView(t){return Ee.dispatch({type:"SET_VIEW",payload:{view:t}}),t}setEditor(t){return Ee.dispatch({type:"SET_EDITOR",payload:{editor:t}}),t}async updateDailyNotes(t,n){const r=this.getState().dailyNotes,a=Zh(t,"day");return n?delete r[`day-${a.format("YYYY-MM-DD")}T00:00:00+08:00}`]:r[`day-${a.format("YYYY-MM-DD")}T00:00:00+08:00}`]=t,Ee.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:r}}),r}setVerifyState(t){return Ee.dispatch({type:"SET_VERIFY_STATE",payload:{verifyState:t}}),t}async fechLocalDailyNotes(){try{const t=Oi();return Ee.dispatch({type:"SET_DAILY_NOTES",payload:{dailyNotes:t}}),t}catch(t){console.error(t)}}}const rt=new SN;var Kn;(e=>{function t(o){const s={};for(const u of o)try{const d=localStorage.getItem(u);if(d!==null){const m=JSON.parse(d);s[u]=m}}catch(d){console.error("Get storage failed in ",u,d)}return s}e.get=t;function n(o){for(const s in o)try{const u=JSON.stringify(o[s]);localStorage.setItem(s,u)}catch(u){console.error("Save storage failed in ",s,u)}}e.set=n;function r(o){for(const s of o)try{localStorage.removeItem(s)}catch(u){console.error("Remove storage failed in ",s,u)}}e.remove=r;function a(){var s;const o=document.createElement("iframe");o.style.display="none",document.body.appendChild(o),(s=o.contentWindow)==null||s.localStorage.setItem("t",Date.now().toString()),o.remove()}e.emitStorageChangedEvent=a})(Kn||(Kn={}));class IN{constructor(){me(this,"getState",()=>Ee.getState().globalState);me(this,"setEditMemoId",t=>{Ee.dispatch({type:"SET_EDIT_MEMO_ID",payload:{editMemoId:t}})});me(this,"setRefresh",t=>{Ee.dispatch({type:"SET_REFRESH",payload:{refresh:t}})});me(this,"setCommentMemoId",t=>{Ee.dispatch({type:"SET_COMMENT_MEMO_ID",payload:{commentMemoId:t}})});me(this,"setMarkMemoId",t=>{Ee.dispatch({type:"SET_MARK_MEMO_ID",payload:{markMemoId:t}})});me(this,"setLoaded",t=>{Ee.dispatch({type:"SET_LOADED",payload:{loaded:t}})});me(this,"setGlobalEditorShown",t=>{Ee.dispatch({type:"SET_GLOBAL_EDITOR_SHOWN",payload:{globalEditorShown:t}})});me(this,"setIsMobileView",t=>{Ee.dispatch({type:"SET_MOBILE_VIEW",payload:{isMobileView:t}})});me(this,"setChangedByMemos",t=>{Ee.dispatch({type:"SET_CHANGED_BY_MEMOS",payload:{changedByMemos:t}})});me(this,"setShowSiderbarInMobileView",t=>{Ee.dispatch({type:"SET_SHOW_SIDEBAR_IN_MOBILE_VIEW",payload:{showSiderbarInMobileView:t}})});me(this,"setAppSetting",t=>{Ee.dispatch({type:"SET_APP_SETTING",payload:t}),Kn.set(t)});me(this,"setMemoListView",t=>{Ee.dispatch({type:"SET_MEMO_LIST_VIEW",payload:{memoListView:t}})});me(this,"setInstance",(t,n)=>{Ee.dispatch({type:"SET_INSTANCE",payload:{id:t,instance:n}})});me(this,"setLocked",t=>{Ee.dispatch({type:"SET_LOCKED",payload:{locked:t}})});me(this,"setPluginManifest",t=>{Ee.dispatch({type:"SET_MEMO_PLUGIN_MANIFEST",payload:{manifest:t}})});const t=Kn.get(["shouldSplitMemoWord","shouldHideImageUrl","shouldUseMarkdownParser","useTinyUndoHistoryCache"]),n={shouldSplitMemoWord:t.shouldSplitMemoWord||!0,shouldHideImageUrl:t.shouldHideImageUrl||!0,shouldUseMarkdownParser:t.shouldUseMarkdownParser||!0,useTinyUndoHistoryCache:t.useTinyUndoHistoryCache||!1};this.setAppSetting(n)}}const Qe=new IN;class TN{constructor(){me(this,"updateStateWithLocation",()=>{const{pathname:t,search:n,hash:r}=window.location,a=new URLSearchParams(n),o={pathname:"/",hash:"",query:{tag:"",duration:null,text:"",type:"",filter:""}};o.query.tag=a.get("tag")||"",o.query.type=a.get("type")??"",o.query.text=a.get("text")??"",o.query.filter=a.get("filter")??"";const s=parseInt(a.get("from")??"0"),u=parseInt(a.get("to")??"0");u>s&&u!==0&&(o.query.duration={from:s,to:u}),o.hash=r,o.pathname=this.getValidPathname(t),Ee.dispatch({type:"SET_LOCATION",payload:o})});me(this,"getState",()=>Ee.getState().locationState);me(this,"clearQuery",()=>{Ee.dispatch({type:"SET_QUERY",payload:{tag:"",duration:null,text:"",type:"",filter:""}})});me(this,"setQuery",t=>{Ee.dispatch({type:"SET_QUERY",payload:t})});me(this,"reloadApp",()=>{Ee.dispatch({type:"RELOAD"})});me(this,"setHash",t=>{Ee.dispatch({type:"SET_HASH",payload:{hash:t}})});me(this,"setPathname",t=>{Ee.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});me(this,"pushHistory",t=>{Ee.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});me(this,"replaceHistory",t=>{Ee.dispatch({type:"SET_PATHNAME",payload:{pathname:t}})});me(this,"setMemoTypeQuery",(t="")=>{Ee.dispatch({type:"SET_TYPE",payload:{type:t}})});me(this,"setMemoFilter",t=>{Ee.dispatch({type:"SET_QUERY_FILTER",payload:t})});me(this,"setTextQuery",t=>{Ee.dispatch({type:"SET_TEXT",payload:{text:t}})});me(this,"setTimeQuery",t=>{Ee.dispatch({type:"SET_DURATION_QUERY",payload:{duration:t}})});me(this,"setTagQuery",t=>{Ee.dispatch({type:"SET_TAG_QUERY",payload:{tag:t}})});me(this,"setFromAndToQuery",(t,n)=>{Ee.dispatch({type:"SET_DURATION_QUERY",payload:{duration:{from:t,to:n}}})});me(this,"getValidPathname",t=>["/","/homeboard","/recycle","/setting"].includes(t)?t:"/");this.updateStateWithLocation(),window.onpopstate=()=>{this.updateStateWithLocation()}}}const We=new TN,Cc=e=>`${e.vault.configDir}/query.json`,TI=async(e,t)=>{try{return await e.vault.adapter.read(t),!0}catch(n){return console.error(n),!1}},Bd=async e=>(await TI(e,Cc(e))||await EI(e),JSON.parse(await e.vault.adapter.read(Cc(e))).queries||[]),Sm=async(e,t)=>{await e.vault.adapter.write(Cc(e),JSON.stringify({queries:t},null,2))},EI=async e=>{const t=Qe.getState().manifest,n=e.plugins.getPlugin(t.id||"obsidian-memos").settings,r=e.metadataCache.getFirstLinkpathDest(n.QueryFileName,"");if(!r)await e.vault.adapter.write(Cc(e),JSON.stringify({queries:[]},null,2));else{const o=(await e.vault.read(r)).split(`
`);o.length===0&&await e.vault.adapter.write(Cc(e),JSON.stringify({queries:[]},null,2));const s=[];for(let u=0;u<o.length;u++){const d=u,m="Memos";let p="Êú™ÂëΩÂêç";const g=o[u];let w=E.moment().format("YYYY/MM/DD HH:mm:ss"),D="[]";const S=g.match(/^\d{14,16}/);S&&(w=E.moment(S[0].slice(0,14),"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:ss"));const T=g.match(/\[\{(.+)\}\]/);T&&(D=T[0]);const C=g.match(/\s(.+)\s\[\{/);C&&(p=C[0].slice(1,-3)),s.push({id:d,pinnedAt:"",createdAt:w,updatedAt:w,title:p,querystring:D,userId:m})}await e.vault.adapter.write(Cc(e),JSON.stringify({queries:s},null,2))}},EN=async()=>{const{app:e}=Ee.getState().dailyNotesState;return await TI(e,Cc(e))||await EI(e),await Bd(e)||[]},CN=(e,t)=>({createdAt:E.moment().format("YYYY/MM/DD HH:mm:ss"),id:e,pinnedAt:"",querystring:t,title:k("Temp Filter"),updatedAt:E.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"}),xN=async(e,t)=>{const n=await Bd(Ee.getState().dailyNotesState.app)||[],r={createdAt:E.moment().format("YYYY/MM/DD HH:mm:ss"),id:E.moment().format("YYYYMMDDHHmmss")+n.length,pinnedAt:"",querystring:t,title:e,updatedAt:E.moment().format("YYYY/MM/DD HH:mm:ss"),userId:"Thino"};return n.push(r),await Sm(Ee.getState().dailyNotesState.app,n),r};var iv={exports:{}};iv.exports;(function(e,t){(function(){var n,r="4.17.21",a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",m=500,p="__lodash_placeholder__",g=1,w=2,D=4,S=1,T=2,C=1,A=2,N=4,L=8,F=16,H=32,j=64,_=128,V=256,U=512,z=30,q="...",ee=800,ce=16,fe=1,ie=2,he=3,Ie=1/0,se=9007199254740991,we=17976931348623157e292,W=NaN,$=4294967295,X=$-1,ve=$>>>1,De=[["ary",_],["bind",C],["bindKey",A],["curry",L],["curryRight",F],["flip",U],["partial",H],["partialRight",j],["rearg",V]],be="[object Arguments]",ke="[object Array]",Be="[object AsyncFunction]",_e="[object Boolean]",it="[object Date]",Vt="[object DOMException]",Se="[object Error]",Ue="[object Function]",Je="[object GeneratorFunction]",$e="[object Map]",lt="[object Number]",ft="[object Null]",Dt="[object Object]",Et="[object Promise]",$t="[object Proxy]",rn="[object RegExp]",At="[object Set]",an="[object String]",Sn="[object Symbol]",In="[object Undefined]",vr="[object WeakMap]",Sa="[object WeakSet]",Mr="[object ArrayBuffer]",Nr="[object DataView]",Ss="[object Float32Array]",mo="[object Float64Array]",po="[object Int8Array]",Nl="[object Int16Array]",Pi="[object Int32Array]",ji="[object Uint8Array]",Is="[object Uint8ClampedArray]",Yo="[object Uint16Array]",Li="[object Uint32Array]",Z=/\b__p \+= '';/g,re=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,je=/[&<>"']/g,Ye=RegExp(xe.source),ze=RegExp(je.source),pt=/<%-([\s\S]+?)%>/g,Yt=/<%([\s\S]+?)%>/g,On=/<%=([\s\S]+?)%>/g,yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,na=/^\w*$/,Fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yr=/[\\^$.*+?()[\]{}|]/g,ra=RegExp(yr.source),kl=/^\s+/,Jt=/\s/,Ia=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ta=/\{\n\/\* \[wrapped with (.+)\] \*/,Ea=/,? & /,zo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Uo=/[()=,{}\[\]\/\s]/,yy=/\\(\\)?/g,Ri=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,of=/\w*$/,$m=/^[-+]0x[0-9a-f]+$/i,wy=/^0b[01]+$/i,qm=/^\[object .+?Constructor\]$/,Gm=/^0o[0-7]+$/i,Jm=/^(?:0|[1-9]\d*)$/,Km=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zc=/($^)/,by=/['\n\r\u2028\u2029\\]/g,on="\\ud800-\\udfff",Dy="\\u0300-\\u036f",sf="\\ufe20-\\ufe2f",Qm="\\u20d0-\\u20ff",Al=Dy+sf+Qm,Xm="\\u2700-\\u27bf",lf="a-z\\xdf-\\xf6\\xf8-\\xff",Uc="\\xac\\xb1\\xd7\\xf7",Za="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Sy="\\u2000-\\u206f",Ca=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ep="A-Z\\xc0-\\xd6\\xd8-\\xde",tp="\\ufe0e\\ufe0f",np=Uc+Za+Sy+Ca,Ts="['‚Äô]",Vc="["+on+"]",Es="["+np+"]",_i="["+Al+"]",rp="\\d+",Iy="["+Xm+"]",Zc="["+lf+"]",cf="[^"+on+np+rp+Xm+lf+ep+"]",Ol="\\ud83c[\\udffb-\\udfff]",Fl="(?:"+_i+"|"+Ol+")",ap="[^"+on+"]",Pl="(?:\\ud83c[\\udde6-\\uddff]){2}",_t="[\\ud800-\\udbff][\\udc00-\\udfff]",Hi="["+ep+"]",uf="\\u200d",Wc="(?:"+Zc+"|"+cf+")",op="(?:"+Hi+"|"+cf+")",df="(?:"+Ts+"(?:d|ll|m|re|s|t|ve))?",ff="(?:"+Ts+"(?:D|LL|M|RE|S|T|VE))?",$c=Fl+"?",jl="["+tp+"]?",Vo="(?:"+uf+"(?:"+[ap,Pl,_t].join("|")+")"+jl+$c+")*",Zo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wo="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Cs=jl+$c+Vo,Ll="(?:"+[Iy,Pl,_t].join("|")+")"+Cs,$o="(?:"+[ap+_i+"?",_i,Pl,_t,Vc].join("|")+")",Ty=RegExp(Ts,"g"),ip=RegExp(_i,"g"),Bi=RegExp(Ol+"(?="+Ol+")|"+$o+Cs,"g"),Ey=RegExp([Hi+"?"+Zc+"+"+df+"(?="+[Es,Hi,"$"].join("|")+")",op+"+"+ff+"(?="+[Es,Hi+Wc,"$"].join("|")+")",Hi+"?"+Wc+"+"+df,Hi+"+"+ff,Wo,Zo,rp,Ll].join("|"),"g"),sp=RegExp("["+uf+on+Al+tp+"]"),qc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,lp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cy=-1,zt={};zt[Ss]=zt[mo]=zt[po]=zt[Nl]=zt[Pi]=zt[ji]=zt[Is]=zt[Yo]=zt[Li]=!0,zt[be]=zt[ke]=zt[Mr]=zt[_e]=zt[Nr]=zt[it]=zt[Se]=zt[Ue]=zt[$e]=zt[lt]=zt[Dt]=zt[rn]=zt[At]=zt[an]=zt[vr]=!1;var Ht={};Ht[be]=Ht[ke]=Ht[Mr]=Ht[Nr]=Ht[_e]=Ht[it]=Ht[Ss]=Ht[mo]=Ht[po]=Ht[Nl]=Ht[Pi]=Ht[$e]=Ht[lt]=Ht[Dt]=Ht[rn]=Ht[At]=Ht[an]=Ht[Sn]=Ht[ji]=Ht[Is]=Ht[Yo]=Ht[Li]=!0,Ht[Se]=Ht[Ue]=Ht[vr]=!1;var xs={√Ä:"A",√Å:"A",√Ç:"A",√É:"A",√Ñ:"A",√Ö:"A",√†:"a",√°:"a",√¢:"a",√£:"a",√§:"a",√•:"a",√á:"C",√ß:"c",√ê:"D",√∞:"d",√à:"E",√â:"E",√ä:"E",√ã:"E",√®:"e",√©:"e",√™:"e",√´:"e",√å:"I",√ç:"I",√é:"I",√è:"I",√¨:"i",√≠:"i",√Æ:"i",√Ø:"i",√ë:"N",√±:"n",√í:"O",√ì:"O",√î:"O",√ï:"O",√ñ:"O",√ò:"O",√≤:"o",√≥:"o",√¥:"o",√µ:"o",√∂:"o",√∏:"o",√ô:"U",√ö:"U",√õ:"U",√ú:"U",√π:"u",√∫:"u",√ª:"u",√º:"u",√ù:"Y",√Ω:"y",√ø:"y",√Ü:"Ae",√¶:"ae",√û:"Th",√æ:"th",√ü:"ss",ƒÄ:"A",ƒÇ:"A",ƒÑ:"A",ƒÅ:"a",ƒÉ:"a",ƒÖ:"a",ƒÜ:"C",ƒà:"C",ƒä:"C",ƒå:"C",ƒá:"c",ƒâ:"c",ƒã:"c",ƒç:"c",ƒé:"D",ƒê:"D",ƒè:"d",ƒë:"d",ƒí:"E",ƒî:"E",ƒñ:"E",ƒò:"E",ƒö:"E",ƒì:"e",ƒï:"e",ƒó:"e",ƒô:"e",ƒõ:"e",ƒú:"G",ƒû:"G",ƒ†:"G",ƒ¢:"G",ƒù:"g",ƒü:"g",ƒ°:"g",ƒ£:"g",ƒ§:"H",ƒ¶:"H",ƒ•:"h",ƒß:"h",ƒ®:"I",ƒ™:"I",ƒ¨:"I",ƒÆ:"I",ƒ∞:"I",ƒ©:"i",ƒ´:"i",ƒ≠:"i",ƒØ:"i",ƒ±:"i",ƒ¥:"J",ƒµ:"j",ƒ∂:"K",ƒ∑:"k",ƒ∏:"k",ƒπ:"L",ƒª:"L",ƒΩ:"L",ƒø:"L",≈Å:"L",ƒ∫:"l",ƒº:"l",ƒæ:"l",≈Ä:"l",≈Ç:"l",≈É:"N",≈Ö:"N",≈á:"N",≈ä:"N",≈Ñ:"n",≈Ü:"n",≈à:"n",≈ã:"n",≈å:"O",≈é:"O",≈ê:"O",≈ç:"o",≈è:"o",≈ë:"o",≈î:"R",≈ñ:"R",≈ò:"R",≈ï:"r",≈ó:"r",≈ô:"r",≈ö:"S",≈ú:"S",≈û:"S",≈†:"S",≈õ:"s",≈ù:"s",≈ü:"s",≈°:"s",≈¢:"T",≈§:"T",≈¶:"T",≈£:"t",≈•:"t",≈ß:"t",≈®:"U",≈™:"U",≈¨:"U",≈Æ:"U",≈∞:"U",≈≤:"U",≈©:"u",≈´:"u",≈≠:"u",≈Ø:"u",≈±:"u",≈≥:"u",≈¥:"W",≈µ:"w",≈∂:"Y",≈∑:"y",≈∏:"Y",≈π:"Z",≈ª:"Z",≈Ω:"Z",≈∫:"z",≈º:"z",≈æ:"z",ƒ≤:"IJ",ƒ≥:"ij",≈í:"Oe",≈ì:"oe",≈â:"'n",≈ø:"s"},Gc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},My={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hf=parseFloat,Jc=parseInt,Kc=typeof Jn=="object"&&Jn&&Jn.Object===Object&&Jn,cp=typeof self=="object"&&self&&self.Object===Object&&self,sn=Kc||cp||Function("return this")(),Rl=t&&!t.nodeType&&t,Wa=Rl&&!0&&e&&!e.nodeType&&e,mf=Wa&&Wa.exports===Rl,Ms=mf&&Kc.process,wr=function(){try{var oe=Wa&&Wa.require&&Wa.require("util").types;return oe||Ms&&Ms.binding&&Ms.binding("util")}catch{}}(),pf=wr&&wr.isArrayBuffer,kr=wr&&wr.isDate,Yi=wr&&wr.isMap,Qc=wr&&wr.isRegExp,Ns=wr&&wr.isSet,up=wr&&wr.isTypedArray;function br(oe,Ce,ge){switch(ge.length){case 0:return oe.call(Ce);case 1:return oe.call(Ce,ge[0]);case 2:return oe.call(Ce,ge[0],ge[1]);case 3:return oe.call(Ce,ge[0],ge[1],ge[2])}return oe.apply(Ce,ge)}function gf(oe,Ce,ge,qe){for(var bt=-1,Pt=oe==null?0:oe.length;++bt<Pt;){var Tn=oe[bt];Ce(qe,Tn,ge(Tn),oe)}return qe}function er(oe,Ce){for(var ge=-1,qe=oe==null?0:oe.length;++ge<qe&&Ce(oe[ge],ge,oe)!==!1;);return oe}function Xc(oe,Ce){for(var ge=oe==null?0:oe.length;ge--&&Ce(oe[ge],ge,oe)!==!1;);return oe}function vf(oe,Ce){for(var ge=-1,qe=oe==null?0:oe.length;++ge<qe;)if(!Ce(oe[ge],ge,oe))return!1;return!0}function qo(oe,Ce){for(var ge=-1,qe=oe==null?0:oe.length,bt=0,Pt=[];++ge<qe;){var Tn=oe[ge];Ce(Tn,ge,oe)&&(Pt[bt++]=Tn)}return Pt}function eu(oe,Ce){var ge=oe==null?0:oe.length;return!!ge&&ks(oe,Ce,0)>-1}function yf(oe,Ce,ge){for(var qe=-1,bt=oe==null?0:oe.length;++qe<bt;)if(ge(Ce,oe[qe]))return!0;return!1}function qt(oe,Ce){for(var ge=-1,qe=oe==null?0:oe.length,bt=Array(qe);++ge<qe;)bt[ge]=Ce(oe[ge],ge,oe);return bt}function Go(oe,Ce){for(var ge=-1,qe=Ce.length,bt=oe.length;++ge<qe;)oe[bt+ge]=Ce[ge];return oe}function wf(oe,Ce,ge,qe){var bt=-1,Pt=oe==null?0:oe.length;for(qe&&Pt&&(ge=oe[++bt]);++bt<Pt;)ge=Ce(ge,oe[bt],bt,oe);return ge}function Ny(oe,Ce,ge,qe){var bt=oe==null?0:oe.length;for(qe&&bt&&(ge=oe[--bt]);bt--;)ge=Ce(ge,oe[bt],bt,oe);return ge}function bf(oe,Ce){for(var ge=-1,qe=oe==null?0:oe.length;++ge<qe;)if(Ce(oe[ge],ge,oe))return!0;return!1}var ky=Sf("length");function dp(oe){return oe.split("")}function Ay(oe){return oe.match(zo)||[]}function fp(oe,Ce,ge){var qe;return ge(oe,function(bt,Pt,Tn){if(Ce(bt,Pt,Tn))return qe=Pt,!1}),qe}function tu(oe,Ce,ge,qe){for(var bt=oe.length,Pt=ge+(qe?1:-1);qe?Pt--:++Pt<bt;)if(Ce(oe[Pt],Pt,oe))return Pt;return-1}function ks(oe,Ce,ge){return Ce===Ce?au(oe,Ce,ge):tu(oe,hp,ge)}function Df(oe,Ce,ge,qe){for(var bt=ge-1,Pt=oe.length;++bt<Pt;)if(qe(oe[bt],Ce))return bt;return-1}function hp(oe){return oe!==oe}function mp(oe,Ce){var ge=oe==null?0:oe.length;return ge?If(oe,Ce)/ge:W}function Sf(oe){return function(Ce){return Ce==null?n:Ce[oe]}}function nu(oe){return function(Ce){return oe==null?n:oe[Ce]}}function pp(oe,Ce,ge,qe,bt){return bt(oe,function(Pt,Tn,Zt){ge=qe?(qe=!1,Pt):Ce(ge,Pt,Tn,Zt)}),ge}function Oy(oe,Ce){var ge=oe.length;for(oe.sort(Ce);ge--;)oe[ge]=oe[ge].value;return oe}function If(oe,Ce){for(var ge,qe=-1,bt=oe.length;++qe<bt;){var Pt=Ce(oe[qe]);Pt!==n&&(ge=ge===n?Pt:ge+Pt)}return ge}function Tf(oe,Ce){for(var ge=-1,qe=Array(oe);++ge<oe;)qe[ge]=Ce(ge);return qe}function Fy(oe,Ce){return qt(Ce,function(ge){return[ge,oe[ge]]})}function gp(oe){return oe&&oe.slice(0,ou(oe)+1).replace(kl,"")}function zr(oe){return function(Ce){return oe(Ce)}}function _l(oe,Ce){return qt(Ce,function(ge){return oe[ge]})}function go(oe,Ce){return oe.has(Ce)}function vp(oe,Ce){for(var ge=-1,qe=oe.length;++ge<qe&&ks(Ce,oe[ge],0)>-1;);return ge}function Ef(oe,Ce){for(var ge=oe.length;ge--&&ks(Ce,oe[ge],0)>-1;);return ge}function yp(oe,Ce){for(var ge=oe.length,qe=0;ge--;)oe[ge]===Ce&&++qe;return qe}var wp=nu(xs),bp=nu(Gc);function Dp(oe){return"\\"+My[oe]}function As(oe,Ce){return oe==null?n:oe[Ce]}function Os(oe){return sp.test(oe)}function Py(oe){return qc.test(oe)}function jy(oe){for(var Ce,ge=[];!(Ce=oe.next()).done;)ge.push(Ce.value);return ge}function ru(oe){var Ce=-1,ge=Array(oe.size);return oe.forEach(function(qe,bt){ge[++Ce]=[bt,qe]}),ge}function Cf(oe,Ce){return function(ge){return oe(Ce(ge))}}function aa(oe,Ce){for(var ge=-1,qe=oe.length,bt=0,Pt=[];++ge<qe;){var Tn=oe[ge];(Tn===Ce||Tn===p)&&(oe[ge]=p,Pt[bt++]=ge)}return Pt}function Jo(oe){var Ce=-1,ge=Array(oe.size);return oe.forEach(function(qe){ge[++Ce]=qe}),ge}function Ly(oe){var Ce=-1,ge=Array(oe.size);return oe.forEach(function(qe){ge[++Ce]=[qe,qe]}),ge}function au(oe,Ce,ge){for(var qe=ge-1,bt=oe.length;++qe<bt;)if(oe[qe]===Ce)return qe;return-1}function Ry(oe,Ce,ge){for(var qe=ge+1;qe--;)if(oe[qe]===Ce)return qe;return qe}function zi(oe){return Os(oe)?Ip(oe):ky(oe)}function Ur(oe){return Os(oe)?Tp(oe):dp(oe)}function ou(oe){for(var Ce=oe.length;Ce--&&Jt.test(oe.charAt(Ce)););return Ce}var Sp=nu(xy);function Ip(oe){for(var Ce=Bi.lastIndex=0;Bi.test(oe);)++Ce;return Ce}function Tp(oe){return oe.match(Bi)||[]}function _y(oe){return oe.match(Ey)||[]}var Hy=function oe(Ce){Ce=Ce==null?sn:Fs.defaults(sn.Object(),Ce,Fs.pick(sn,lp));var ge=Ce.Array,qe=Ce.Date,bt=Ce.Error,Pt=Ce.Function,Tn=Ce.Math,Zt=Ce.Object,Hl=Ce.RegExp,By=Ce.String,oa=Ce.TypeError,vo=ge.prototype,xf=Pt.prototype,$a=Zt.prototype,Ps=Ce["__core-js_shared__"],Bl=xf.toString,jt=$a.hasOwnProperty,js=0,iu=function(){var c=/[^.]+$/.exec(Ps&&Ps.keys&&Ps.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Yl=$a.toString,su=Bl.call(Zt),Ep=sn._,Cp=Hl("^"+Bl.call(jt).replace(yr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zl=mf?Ce.Buffer:n,yo=Ce.Symbol,Ul=Ce.Uint8Array,Mf=zl?zl.allocUnsafe:n,xa=Cf(Zt.getPrototypeOf,Zt),lu=Zt.create,cu=$a.propertyIsEnumerable,uu=vo.splice,xp=yo?yo.isConcatSpreadable:n,wo=yo?yo.iterator:n,Ui=yo?yo.toStringTag:n,Vl=function(){try{var c=Eo(Zt,"defineProperty");return c({},"",{}),c}catch{}}(),Mp=Ce.clearTimeout!==sn.clearTimeout&&Ce.clearTimeout,Kt=qe&&qe.now!==sn.Date.now&&qe.now,Nf=Ce.setTimeout!==sn.setTimeout&&Ce.setTimeout,Vi=Tn.ceil,Ko=Tn.floor,du=Zt.getOwnPropertySymbols,kf=zl?zl.isBuffer:n,Ls=Ce.isFinite,fu=vo.join,Rs=Cf(Zt.keys,Zt),En=Tn.max,tr=Tn.min,Yy=qe.now,Np=Ce.parseInt,Zl=Tn.random,hu=vo.reverse,Wl=Eo(Ce,"DataView"),Zi=Eo(Ce,"Map"),$l=Eo(Ce,"Promise"),Qo=Eo(Ce,"Set"),ql=Eo(Ce,"WeakMap"),_s=Eo(Zt,"create"),mu=ql&&new ql,Hs={},Af=fi(Wl),Xo=fi(Zi),kp=fi($l),Bs=fi(Qo),qa=fi(ql),ei=yo?yo.prototype:n,Vr=ei?ei.valueOf:n,pu=ei?ei.toString:n;function B(c){if(xn(c)&&!Tt(c)&&!(c instanceof St)){if(c instanceof nr)return c;if(jt.call(c,"__wrapped__"))return uh(c)}return new nr(c)}var Ys=function(){function c(){}return function(f){if(!bn(f))return{};if(lu)return lu(f);c.prototype=f;var b=new c;return c.prototype=n,b}}();function Ga(){}function nr(c,f){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}B.templateSettings={escape:pt,evaluate:Yt,interpolate:On,variable:"",imports:{_:B}},B.prototype=Ga.prototype,B.prototype.constructor=B,nr.prototype=Ys(Ga.prototype),nr.prototype.constructor=nr;function St(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$,this.__views__=[]}function gu(){var c=new St(this.__wrapped__);return c.__actions__=Ir(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Ir(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Ir(this.__views__),c}function Of(){if(this.__filtered__){var c=new St(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function zs(){var c=this.__wrapped__.value(),f=this.__dir__,b=Tt(c),M=f<0,P=b?c.length:0,Y=eg(0,P,this.__views__),K=Y.start,ne=Y.end,le=ne-K,Me=M?ne:K-1,Ne=this.__iteratees__,Pe=Ne.length,Ve=0,ot=tr(le,this.__takeCount__);if(!b||!M&&P==le&&ot==le)return Vf(c,this.__actions__);var gt=[];e:for(;le--&&Ve<ot;){Me+=f;for(var xt=-1,vt=c[Me];++xt<Pe;){var Mt=Ne[xt],Ft=Mt.iteratee,Ra=Mt.type,Kr=Ft(vt);if(Ra==ie)vt=Kr;else if(!Kr){if(Ra==fe)continue e;break e}}gt[Ve++]=vt}return gt}St.prototype=Ys(Ga.prototype),St.prototype.constructor=St;function Ar(c){var f=-1,b=c==null?0:c.length;for(this.clear();++f<b;){var M=c[f];this.set(M[0],M[1])}}function Qt(){this.__data__=_s?_s(null):{},this.size=0}function Gt(c){var f=this.has(c)&&delete this.__data__[c];return this.size-=f?1:0,f}function ti(c){var f=this.__data__;if(_s){var b=f[c];return b===d?n:b}return jt.call(f,c)?f[c]:n}function rr(c){var f=this.__data__;return _s?f[c]!==n:jt.call(f,c)}function Or(c,f){var b=this.__data__;return this.size+=this.has(c)?0:1,b[c]=_s&&f===n?d:f,this}Ar.prototype.clear=Qt,Ar.prototype.delete=Gt,Ar.prototype.get=ti,Ar.prototype.has=rr,Ar.prototype.set=Or;function Dr(c){var f=-1,b=c==null?0:c.length;for(this.clear();++f<b;){var M=c[f];this.set(M[0],M[1])}}function Us(){this.__data__=[],this.size=0}function Fr(c){var f=this.__data__,b=or(f,c);if(b<0)return!1;var M=f.length-1;return b==M?f.pop():uu.call(f,b,1),--this.size,!0}function vu(c){var f=this.__data__,b=or(f,c);return b<0?n:f[b][1]}function Ap(c){return or(this.__data__,c)>-1}function Op(c,f){var b=this.__data__,M=or(b,c);return M<0?(++this.size,b.push([c,f])):b[M][1]=f,this}Dr.prototype.clear=Us,Dr.prototype.delete=Fr,Dr.prototype.get=vu,Dr.prototype.has=Ap,Dr.prototype.set=Op;function ia(c){var f=-1,b=c==null?0:c.length;for(this.clear();++f<b;){var M=c[f];this.set(M[0],M[1])}}function Fp(){this.size=0,this.__data__={hash:new Ar,map:new(Zi||Dr),string:new Ar}}function bo(c){var f=Vu(this,c).delete(c);return this.size-=f?1:0,f}function yu(c){return Vu(this,c).get(c)}function Ff(c){return Vu(this,c).has(c)}function Pp(c,f){var b=Vu(this,c),M=b.size;return b.set(c,f),this.size+=b.size==M?0:1,this}ia.prototype.clear=Fp,ia.prototype.delete=bo,ia.prototype.get=yu,ia.prototype.has=Ff,ia.prototype.set=Pp;function Wi(c){var f=-1,b=c==null?0:c.length;for(this.__data__=new ia;++f<b;)this.add(c[f])}function ni(c){return this.__data__.set(c,d),this}function Vs(c){return this.__data__.has(c)}Wi.prototype.add=Wi.prototype.push=ni,Wi.prototype.has=Vs;function ar(c){var f=this.__data__=new Dr(c);this.size=f.size}function wu(){this.__data__=new Dr,this.size=0}function bu(c){var f=this.__data__,b=f.delete(c);return this.size=f.size,b}function sa(c){return this.__data__.get(c)}function la(c){return this.__data__.has(c)}function $i(c,f){var b=this.__data__;if(b instanceof Dr){var M=b.__data__;if(!Zi||M.length<a-1)return M.push([c,f]),this.size=++b.size,this;b=this.__data__=new ia(M)}return b.set(c,f),this.size=b.size,this}ar.prototype.clear=wu,ar.prototype.delete=bu,ar.prototype.get=sa,ar.prototype.has=la,ar.prototype.set=$i;function Ja(c,f){var b=Tt(c),M=!b&&wc(c),P=!b&&!M&&sl(c),Y=!b&&!M&&!P&&hd(c),K=b||M||P||Y,ne=K?Tf(c.length,By):[],le=ne.length;for(var Me in c)(f||jt.call(c,Me))&&!(K&&(Me=="length"||P&&(Me=="offset"||Me=="parent")||Y&&(Me=="buffer"||Me=="byteLength"||Me=="byteOffset")||ua(Me,le)))&&ne.push(Me);return ne}function Ka(c){var f=c.length;return f?c[nc(0,f-1)]:n}function qi(c,f){return qr(Ir(c),Do(f,0,c.length))}function jp(c){return qr(Ir(c))}function Gl(c,f,b){(b!==n&&!Mo(c[f],b)||b===n&&!(f in c))&&Qa(c,f,b)}function Gi(c,f,b){var M=c[f];(!(jt.call(c,f)&&Mo(M,b))||b===n&&!(f in c))&&Qa(c,f,b)}function or(c,f){for(var b=c.length;b--;)if(Mo(c[b][0],f))return b;return-1}function Zr(c,f,b,M){return eo(c,function(P,Y,K){f(M,P,b(P),K)}),M}function Xt(c,f){return c&&Fa(f,fr(f),c)}function Ma(c,f){return c&&Fa(f,ma(f),c)}function Qa(c,f,b){f=="__proto__"&&Vl?Vl(c,f,{configurable:!0,enumerable:!0,value:b,writable:!0}):c[f]=b}function Du(c,f){for(var b=-1,M=f.length,P=ge(M),Y=c==null;++b<M;)P[b]=Y?n:u0(c,f[b]);return P}function Do(c,f,b){return c===c&&(b!==n&&(c=c<=b?c:b),f!==n&&(c=c>=f?c:f)),c}function Pr(c,f,b,M,P,Y){var K,ne=f&g,le=f&w,Me=f&D;if(b&&(K=P?b(c,M,P,Y):b(c)),K!==n)return K;if(!bn(c))return c;var Ne=Tt(c);if(Ne){if(K=tg(c),!ne)return Ir(c,K)}else{var Pe=cr(c),Ve=Pe==Ue||Pe==Je;if(sl(c))return Wf(c,ne);if(Pe==Dt||Pe==be||Ve&&!P){if(K=le||Ve?{}:tl(c),!ne)return le?Uy(c,Ma(K,c)):Zp(c,Xt(K,c))}else{if(!Ht[Pe])return P?c:{};K=ur(c,Pe,ne)}}Y||(Y=new ar);var ot=Y.get(c);if(ot)return ot;Y.set(c,K),bb(c)?c.forEach(function(vt){K.add(Pr(vt,f,b,vt,c,Y))}):yb(c)&&c.forEach(function(vt,Mt){K.set(Mt,Pr(vt,f,b,Mt,c,Y))});var gt=Me?le?cc:Uu:le?ma:fr,xt=Ne?n:gt(c);return er(xt||c,function(vt,Mt){xt&&(Mt=vt,vt=c[Mt]),Gi(K,Mt,Pr(vt,f,b,Mt,c,Y))}),K}function Lp(c){var f=fr(c);return function(b){return Jl(b,c,f)}}function Jl(c,f,b){var M=b.length;if(c==null)return!M;for(c=Zt(c);M--;){var P=b[M],Y=f[P],K=c[P];if(K===n&&!(P in c)||!Y(K))return!1}return!0}function Pf(c,f,b){if(typeof c!="function")throw new oa(s);return rl(function(){c.apply(n,b)},f)}function Xa(c,f,b,M){var P=-1,Y=eu,K=!0,ne=c.length,le=[],Me=f.length;if(!ne)return le;b&&(f=qt(f,zr(b))),M?(Y=yf,K=!1):f.length>=a&&(Y=go,K=!1,f=new Wi(f));e:for(;++P<ne;){var Ne=c[P],Pe=b==null?Ne:b(Ne);if(Ne=M||Ne!==0?Ne:0,K&&Pe===Pe){for(var Ve=Me;Ve--;)if(f[Ve]===Pe)continue e;le.push(Ne)}else Y(f,Pe,M)||le.push(Ne)}return le}var eo=Wp(ca),Rp=Wp(ri,!0);function Na(c,f){var b=!0;return eo(c,function(M,P,Y){return b=!!f(M,P,Y),b}),b}function Ji(c,f,b){for(var M=-1,P=c.length;++M<P;){var Y=c[M],K=f(Y);if(K!=null&&(ne===n?K===K&&!La(K):b(K,ne)))var ne=K,le=Y}return le}function Su(c,f,b,M){var P=c.length;for(b=Ct(b),b<0&&(b=-b>P?0:P+b),M=M===n||M>P?P:Ct(M),M<0&&(M+=P),M=b>M?0:Sb(M);b<M;)c[b++]=f;return c}function Ki(c,f){var b=[];return eo(c,function(M,P,Y){f(M,P,Y)&&b.push(M)}),b}function Pn(c,f,b,M,P){var Y=-1,K=c.length;for(b||(b=Wy),P||(P=[]);++Y<K;){var ne=c[Y];f>0&&b(ne)?f>1?Pn(ne,f-1,b,M,P):Go(P,ne):M||(P[P.length]=ne)}return P}var Kl=Kf(),Iu=Kf(!0);function ca(c,f){return c&&Kl(c,f,fr)}function ri(c,f){return c&&Iu(c,f,fr)}function Sr(c,f){return qo(f,function(b){return os(c[b])})}function Wr(c,f){f=So(f,c);for(var b=0,M=f.length;c!=null&&b<M;)c=c[Pa(f[b++])];return b&&b==M?c:n}function Tu(c,f,b){var M=f(c);return Tt(c)?M:Go(M,b(c))}function ir(c){return c==null?c===n?In:ft:Ui&&Ui in Zt(c)?Xp(c):og(c)}function ka(c,f){return c>f}function ai(c,f){return c!=null&&jt.call(c,f)}function jf(c,f){return c!=null&&f in Zt(c)}function _p(c,f,b){return c>=tr(f,b)&&c<En(f,b)}function Aa(c,f,b){for(var M=b?yf:eu,P=c[0].length,Y=c.length,K=Y,ne=ge(Y),le=1/0,Me=[];K--;){var Ne=c[K];K&&f&&(Ne=qt(Ne,zr(f))),le=tr(Ne.length,le),ne[K]=!b&&(f||P>=120&&Ne.length>=120)?new Wi(K&&Ne):n}Ne=c[0];var Pe=-1,Ve=ne[0];e:for(;++Pe<P&&Me.length<le;){var ot=Ne[Pe],gt=f?f(ot):ot;if(ot=b||ot!==0?ot:0,!(Ve?go(Ve,gt):M(Me,gt,b))){for(K=Y;--K;){var xt=ne[K];if(!(xt?go(xt,gt):M(c[K],gt,b)))continue e}Ve&&Ve.push(gt),Me.push(ot)}}return Me}function oi(c,f,b,M){return ca(c,function(P,Y,K){f(M,b(P),Y,K)}),M}function ii(c,f,b){f=So(f,c),c=$u(c,f);var M=c==null?c:c[Pa(Hn(f))];return M==null?n:br(M,c,b)}function Lf(c){return xn(c)&&ir(c)==be}function Eu(c){return xn(c)&&ir(c)==Mr}function Hp(c){return xn(c)&&ir(c)==it}function Zs(c,f,b,M,P){return c===f?!0:c==null||f==null||!xn(c)&&!xn(f)?c!==c&&f!==f:Rf(c,f,b,M,Zs,P)}function Rf(c,f,b,M,P,Y){var K=Tt(c),ne=Tt(f),le=K?ke:cr(c),Me=ne?ke:cr(f);le=le==be?Dt:le,Me=Me==be?Dt:Me;var Ne=le==Dt,Pe=Me==Dt,Ve=le==Me;if(Ve&&sl(c)){if(!sl(f))return!1;K=!0,Ne=!1}if(Ve&&!Ne)return Y||(Y=new ar),K||hd(c)?zu(c,f,b,M,P,Y):Qp(c,f,le,b,M,P,Y);if(!(b&S)){var ot=Ne&&jt.call(c,"__wrapped__"),gt=Pe&&jt.call(f,"__wrapped__");if(ot||gt){var xt=ot?c.value():c,vt=gt?f.value():f;return Y||(Y=new ar),P(xt,vt,b,M,Y)}}return Ve?(Y||(Y=new ar),rh(c,f,b,M,P,Y)):!1}function Cu(c){return xn(c)&&cr(c)==$e}function xu(c,f,b,M){var P=b.length,Y=P,K=!M;if(c==null)return!Y;for(c=Zt(c);P--;){var ne=b[P];if(K&&ne[2]?ne[1]!==c[ne[0]]:!(ne[0]in c))return!1}for(;++P<Y;){ne=b[P];var le=ne[0],Me=c[le],Ne=ne[1];if(K&&ne[2]){if(Me===n&&!(le in c))return!1}else{var Pe=new ar;if(M)var Ve=M(Me,Ne,le,c,f,Pe);if(!(Ve===n?Zs(Ne,Me,S|T,M,Pe):Ve))return!1}}return!0}function _f(c){if(!bn(c)||sh(c))return!1;var f=os(c)?Cp:qm;return f.test(fi(c))}function Bp(c){return xn(c)&&ir(c)==rn}function Hf(c){return xn(c)&&cr(c)==At}function Ql(c){return xn(c)&&Dg(c.length)&&!!zt[ir(c)]}function Xl(c){return typeof c=="function"?c:c==null?pa:typeof c=="object"?Tt(c)?Oa(c[0],c[1]):Ws(c):Fb(c)}function Mu(c){if(!fc(c))return Rs(c);var f=[];for(var b in Zt(c))jt.call(c,b)&&b!="constructor"&&f.push(b);return f}function Yp(c){if(!bn(c))return ag(c);var f=fc(c),b=[];for(var M in c)M=="constructor"&&(f||!jt.call(c,M))||b.push(M);return b}function si(c,f){return c<f}function Bf(c,f){var b=-1,M=ha(c)?ge(c.length):[];return eo(c,function(P,Y,K){M[++b]=f(P,Y,K)}),M}function Ws(c){var f=Zu(c);return f.length==1&&f[0][2]?hc(f[0][0],f[0][1]):function(b){return b===c||xu(b,c,f)}}function Oa(c,f){return ih(c)&&nl(f)?hc(Pa(c),f):function(b){var M=u0(b,c);return M===n&&M===f?d0(b,c):Zs(f,M,S|T)}}function li(c,f,b,M,P){c!==f&&Kl(f,function(Y,K){if(P||(P=new ar),bn(Y))ec(c,f,K,b,li,M,P);else{var ne=M?M($r(c,K),Y,K+"",c,f,P):n;ne===n&&(ne=Y),Gl(c,K,ne)}},ma)}function ec(c,f,b,M,P,Y,K){var ne=$r(c,b),le=$r(f,b),Me=K.get(le);if(Me){Gl(c,b,Me);return}var Ne=Y?Y(ne,le,b+"",c,f,K):n,Pe=Ne===n;if(Pe){var Ve=Tt(le),ot=!Ve&&sl(le),gt=!Ve&&!ot&&hd(le);Ne=le,Ve||ot||gt?Tt(ne)?Ne=ne:Bn(ne)?Ne=Ir(ne):ot?(Pe=!1,Ne=Wf(le,!0)):gt?(Pe=!1,Ne=qf(le,!0)):Ne=[]:Mh(le)||wc(le)?(Ne=ne,wc(ne)?Ne=Ib(ne):(!bn(ne)||os(ne))&&(Ne=tl(le))):Pe=!1}Pe&&(K.set(le,Ne),P(Ne,le,M,Y,K),K.delete(le)),Gl(c,b,Ne)}function ci(c,f){var b=c.length;if(b)return f+=f<0?b:0,ua(f,b)?c[f]:n}function Nu(c,f,b){f.length?f=qt(f,function(Y){return Tt(Y)?function(K){return Wr(K,Y.length===1?Y[0]:Y)}:Y}):f=[pa];var M=-1;f=qt(f,zr(ct()));var P=Bf(c,function(Y,K,ne){var le=qt(f,function(Me){return Me(Y)});return{criteria:le,index:++M,value:Y}});return Oy(P,function(Y,K){return Vp(Y,K,b)})}function $s(c,f){return Yf(c,f,function(b,M){return d0(c,M)})}function Yf(c,f,b){for(var M=-1,P=f.length,Y={};++M<P;){var K=f[M],ne=Wr(c,K);b(ne,K)&&un(Y,So(K,c),ne)}return Y}function zf(c){return function(f){return Wr(f,c)}}function en(c,f,b,M){var P=M?Df:ks,Y=-1,K=f.length,ne=c;for(c===f&&(f=Ir(f)),b&&(ne=qt(c,zr(b)));++Y<K;)for(var le=0,Me=f[Y],Ne=b?b(Me):Me;(le=P(ne,Ne,le,M))>-1;)ne!==c&&uu.call(ne,le,1),uu.call(c,le,1);return c}function tc(c,f){for(var b=c?f.length:0,M=b-1;b--;){var P=f[b];if(b==M||P!==Y){var Y=P;ua(P)?uu.call(c,P,1):Xi(c,P)}}return c}function nc(c,f){return c+Ko(Zl()*(f-c+1))}function Uf(c,f,b,M){for(var P=-1,Y=En(Vi((f-c)/(b||1)),0),K=ge(Y);Y--;)K[M?Y:++P]=c,c+=b;return K}function qs(c,f){var b="";if(!c||f<1||f>se)return b;do f%2&&(b+=c),f=Ko(f/2),f&&(c+=c);while(f);return b}function It(c,f){return qu(Wu(c,f,pa),c+"")}function Qi(c){return Ka(md(c))}function cn(c,f){var b=md(c);return qr(b,Do(f,0,b.length))}function un(c,f,b,M){if(!bn(c))return c;f=So(f,c);for(var P=-1,Y=f.length,K=Y-1,ne=c;ne!=null&&++P<Y;){var le=Pa(f[P]),Me=b;if(le==="__proto__"||le==="constructor"||le==="prototype")return c;if(P!=K){var Ne=ne[le];Me=M?M(Ne,le,ne):n,Me===n&&(Me=bn(Ne)?Ne:ua(f[P+1])?[]:{})}Gi(ne,le,Me),ne=ne[le]}return c}var jn=mu?function(c,f){return mu.set(c,f),c}:pa,ku=Vl?function(c,f){return Vl(c,"toString",{configurable:!0,enumerable:!1,value:h0(f),writable:!0})}:pa;function rc(c){return qr(md(c))}function sr(c,f,b){var M=-1,P=c.length;f<0&&(f=-f>P?0:P+f),b=b>P?P:b,b<0&&(b+=P),P=f>b?0:b-f>>>0,f>>>=0;for(var Y=ge(P);++M<P;)Y[M]=c[M+f];return Y}function zy(c,f){var b;return eo(c,function(M,P,Y){return b=f(M,P,Y),!b}),!!b}function Ln(c,f,b){var M=0,P=c==null?M:c.length;if(typeof f=="number"&&f===f&&P<=ve){for(;M<P;){var Y=M+P>>>1,K=c[Y];K!==null&&!La(K)&&(b?K<=f:K<f)?M=Y+1:P=Y}return P}return ac(c,f,pa,b)}function ac(c,f,b,M){var P=0,Y=c==null?0:c.length;if(Y===0)return 0;f=b(f);for(var K=f!==f,ne=f===null,le=La(f),Me=f===n;P<Y;){var Ne=Ko((P+Y)/2),Pe=b(c[Ne]),Ve=Pe!==n,ot=Pe===null,gt=Pe===Pe,xt=La(Pe);if(K)var vt=M||gt;else Me?vt=gt&&(M||Ve):ne?vt=gt&&Ve&&(M||!ot):le?vt=gt&&Ve&&!ot&&(M||!xt):ot||xt?vt=!1:vt=M?Pe<=f:Pe<f;vt?P=Ne+1:Y=Ne}return tr(Y,X)}function Au(c,f){for(var b=-1,M=c.length,P=0,Y=[];++b<M;){var K=c[b],ne=f?f(K):K;if(!b||!Mo(ne,le)){var le=ne;Y[P++]=K===0?0:K}}return Y}function Ou(c){return typeof c=="number"?c:La(c)?W:+c}function mn(c){if(typeof c=="string")return c;if(Tt(c))return qt(c,mn)+"";if(La(c))return pu?pu.call(c):"";var f=c+"";return f=="0"&&1/c==-Ie?"-0":f}function Rn(c,f,b){var M=-1,P=eu,Y=c.length,K=!0,ne=[],le=ne;if(b)K=!1,P=yf;else if(Y>=a){var Me=f?null:Tr(c);if(Me)return Jo(Me);K=!1,P=go,le=new Wi}else le=f?[]:ne;e:for(;++M<Y;){var Ne=c[M],Pe=f?f(Ne):Ne;if(Ne=b||Ne!==0?Ne:0,K&&Pe===Pe){for(var Ve=le.length;Ve--;)if(le[Ve]===Pe)continue e;f&&le.push(Pe),ne.push(Ne)}else P(le,Pe,b)||(le!==ne&&le.push(Pe),ne.push(Ne))}return ne}function Xi(c,f){return f=So(f,c),c=$u(c,f),c==null||delete c[Pa(Hn(f))]}function Fu(c,f,b,M){return un(c,f,b(Wr(c,f)),M)}function Gs(c,f,b,M){for(var P=c.length,Y=M?P:-1;(M?Y--:++Y<P)&&f(c[Y],Y,c););return b?sr(c,M?0:Y,M?Y+1:P):sr(c,M?Y+1:0,M?P:Y)}function Vf(c,f){var b=c;return b instanceof St&&(b=b.value()),wf(f,function(M,P){return P.func.apply(P.thisArg,Go([M],P.args))},b)}function Pu(c,f,b){var M=c.length;if(M<2)return M?Rn(c[0]):[];for(var P=-1,Y=ge(M);++P<M;)for(var K=c[P],ne=-1;++ne<M;)ne!=P&&(Y[P]=Xa(Y[P]||K,c[ne],f,b));return Rn(Pn(Y,1),f,b)}function Zf(c,f,b){for(var M=-1,P=c.length,Y=f.length,K={};++M<P;){var ne=M<Y?f[M]:n;b(K,c[M],ne)}return K}function ju(c){return Bn(c)?c:[]}function Lu(c){return typeof c=="function"?c:pa}function So(c,f){return Tt(c)?c:ih(c,f)?[c]:ig(Wt(c))}var zp=It;function Io(c,f,b){var M=c.length;return b=b===n?M:b,!f&&b>=M?c:sr(c,f,b)}var Js=Mp||function(c){return sn.clearTimeout(c)};function Wf(c,f){if(f)return c.slice();var b=c.length,M=Mf?Mf(b):new c.constructor(b);return c.copy(M),M}function Ks(c){var f=new c.constructor(c.byteLength);return new Ul(f).set(new Ul(c)),f}function Ru(c,f){var b=f?Ks(c.buffer):c.buffer;return new c.constructor(b,c.byteOffset,c.byteLength)}function Up(c){var f=new c.constructor(c.source,of.exec(c));return f.lastIndex=c.lastIndex,f}function $f(c){return Vr?Zt(Vr.call(c)):{}}function qf(c,f){var b=f?Ks(c.buffer):c.buffer;return new c.constructor(b,c.byteOffset,c.length)}function Gf(c,f){if(c!==f){var b=c!==n,M=c===null,P=c===c,Y=La(c),K=f!==n,ne=f===null,le=f===f,Me=La(f);if(!ne&&!Me&&!Y&&c>f||Y&&K&&le&&!ne&&!Me||M&&K&&le||!b&&le||!P)return 1;if(!M&&!Y&&!Me&&c<f||Me&&b&&P&&!M&&!Y||ne&&b&&P||!K&&P||!le)return-1}return 0}function Vp(c,f,b){for(var M=-1,P=c.criteria,Y=f.criteria,K=P.length,ne=b.length;++M<K;){var le=Gf(P[M],Y[M]);if(le){if(M>=ne)return le;var Me=b[M];return le*(Me=="desc"?-1:1)}}return c.index-f.index}function Jf(c,f,b,M){for(var P=-1,Y=c.length,K=b.length,ne=-1,le=f.length,Me=En(Y-K,0),Ne=ge(le+Me),Pe=!M;++ne<le;)Ne[ne]=f[ne];for(;++P<K;)(Pe||P<Y)&&(Ne[b[P]]=c[P]);for(;Me--;)Ne[ne++]=c[P++];return Ne}function _u(c,f,b,M){for(var P=-1,Y=c.length,K=-1,ne=b.length,le=-1,Me=f.length,Ne=En(Y-ne,0),Pe=ge(Ne+Me),Ve=!M;++P<Ne;)Pe[P]=c[P];for(var ot=P;++le<Me;)Pe[ot+le]=f[le];for(;++K<ne;)(Ve||P<Y)&&(Pe[ot+b[K]]=c[P++]);return Pe}function Ir(c,f){var b=-1,M=c.length;for(f||(f=ge(M));++b<M;)f[b]=c[b];return f}function Fa(c,f,b,M){var P=!b;b||(b={});for(var Y=-1,K=f.length;++Y<K;){var ne=f[Y],le=M?M(b[ne],c[ne],ne,b,c):n;le===n&&(le=c[ne]),P?Qa(b,ne,le):Gi(b,ne,le)}return b}function Zp(c,f){return Fa(c,el(c),f)}function Uy(c,f){return Fa(c,ro(c),f)}function oc(c,f){return function(b,M){var P=Tt(b)?gf:Zr,Y=f?f():{};return P(b,c,ct(M,2),Y)}}function Qs(c){return It(function(f,b){var M=-1,P=b.length,Y=P>1?b[P-1]:n,K=P>2?b[2]:n;for(Y=c.length>3&&typeof Y=="function"?(P--,Y):n,K&&Bt(b[0],b[1],K)&&(Y=P<3?n:Y,P=1),f=Zt(f);++M<P;){var ne=b[M];ne&&c(f,ne,M,Y)}return f})}function Wp(c,f){return function(b,M){if(b==null)return b;if(!ha(b))return c(b,M);for(var P=b.length,Y=f?P:-1,K=Zt(b);(f?Y--:++Y<P)&&M(K[Y],Y,K)!==!1;);return b}}function Kf(c){return function(f,b,M){for(var P=-1,Y=Zt(f),K=M(f),ne=K.length;ne--;){var le=K[c?ne:++P];if(b(Y[le],le,Y)===!1)break}return f}}function $p(c,f,b){var M=f&C,P=ic(c);function Y(){var K=this&&this!==sn&&this instanceof Y?P:c;return K.apply(M?b:this,arguments)}return Y}function Qf(c){return function(f){f=Wt(f);var b=Os(f)?Ur(f):n,M=b?b[0]:f.charAt(0),P=b?Io(b,1).join(""):f.slice(1);return M[c]()+P}}function To(c){return function(f){return wf(Ab(kb(f).replace(Ty,"")),c,"")}}function ic(c){return function(){var f=arguments;switch(f.length){case 0:return new c;case 1:return new c(f[0]);case 2:return new c(f[0],f[1]);case 3:return new c(f[0],f[1],f[2]);case 4:return new c(f[0],f[1],f[2],f[3]);case 5:return new c(f[0],f[1],f[2],f[3],f[4]);case 6:return new c(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new c(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var b=Ys(c.prototype),M=c.apply(b,f);return bn(M)?M:b}}function Vy(c,f,b){var M=ic(c);function P(){for(var Y=arguments.length,K=ge(Y),ne=Y,le=ui(P);ne--;)K[ne]=arguments[ne];var Me=Y<3&&K[0]!==le&&K[Y-1]!==le?[]:aa(K,le);if(Y-=Me.length,Y<b)return Jp(c,f,Xs,P.placeholder,n,K,Me,n,n,b-Y);var Ne=this&&this!==sn&&this instanceof P?M:c;return br(Ne,this,K)}return P}function qp(c){return function(f,b,M){var P=Zt(f);if(!ha(f)){var Y=ct(b,3);f=fr(f),b=function(ne){return Y(P[ne],ne,P)}}var K=c(f,b,M);return K>-1?P[Y?f[K]:K]:n}}function es(c){return no(function(f){var b=f.length,M=b,P=nr.prototype.thru;for(c&&f.reverse();M--;){var Y=f[M];if(typeof Y!="function")throw new oa(s);if(P&&!K&&dc(Y)=="wrapper")var K=new nr([],!0)}for(M=K?M:b;++M<b;){Y=f[M];var ne=dc(Y),le=ne=="wrapper"?uc(Y):n;le&&di(le[0])&&le[1]==(_|L|H|V)&&!le[4].length&&le[9]==1?K=K[dc(le[0])].apply(K,le[3]):K=Y.length==1&&di(Y)?K[ne]():K.thru(Y)}return function(){var Me=arguments,Ne=Me[0];if(K&&Me.length==1&&Tt(Ne))return K.plant(Ne).value();for(var Pe=0,Ve=b?f[Pe].apply(this,Me):Ne;++Pe<b;)Ve=f[Pe].call(this,Ve);return Ve}})}function Xs(c,f,b,M,P,Y,K,ne,le,Me){var Ne=f&_,Pe=f&C,Ve=f&A,ot=f&(L|F),gt=f&U,xt=Ve?n:ic(c);function vt(){for(var Mt=arguments.length,Ft=ge(Mt),Ra=Mt;Ra--;)Ft[Ra]=arguments[Ra];if(ot)var Kr=ui(vt),_a=yp(Ft,Kr);if(M&&(Ft=Jf(Ft,M,P,ot)),Y&&(Ft=_u(Ft,Y,K,ot)),Mt-=_a,ot&&Mt<Me){var Yn=aa(Ft,Kr);return Jp(c,f,Xs,vt.placeholder,b,Ft,Yn,ne,le,Me-Mt)}var No=Pe?b:this,ss=Ve?No[c]:c;return Mt=Ft.length,ne?Ft=qn(Ft,ne):gt&&Mt>1&&Ft.reverse(),Ne&&le<Mt&&(Ft.length=le),this&&this!==sn&&this instanceof vt&&(ss=xt||ic(ss)),ss.apply(No,Ft)}return vt}function Hu(c,f){return function(b,M){return oi(b,c,f(M),{})}}function Bu(c,f){return function(b,M){var P;if(b===n&&M===n)return f;if(b!==n&&(P=b),M!==n){if(P===n)return M;typeof b=="string"||typeof M=="string"?(b=mn(b),M=mn(M)):(b=Ou(b),M=Ou(M)),P=c(b,M)}return P}}function Yu(c){return no(function(f){return f=qt(f,zr(ct())),It(function(b){var M=this;return c(f,function(P){return br(P,M,b)})})})}function sc(c,f){f=f===n?" ":mn(f);var b=f.length;if(b<2)return b?qs(f,c):f;var M=qs(f,Vi(c/zi(f)));return Os(f)?Io(Ur(M),0,c).join(""):M.slice(0,c)}function Gp(c,f,b,M){var P=f&C,Y=ic(c);function K(){for(var ne=-1,le=arguments.length,Me=-1,Ne=M.length,Pe=ge(Ne+le),Ve=this&&this!==sn&&this instanceof K?Y:c;++Me<Ne;)Pe[Me]=M[Me];for(;le--;)Pe[Me++]=arguments[++ne];return br(Ve,P?b:this,Pe)}return K}function Xf(c){return function(f,b,M){return M&&typeof M!="number"&&Bt(f,b,M)&&(b=M=n),f=is(f),b===n?(b=f,f=0):b=is(b),M=M===n?f<b?1:-1:is(M),Uf(f,b,M,c)}}function lc(c){return function(f,b){return typeof f=="string"&&typeof b=="string"||(f=ao(f),b=ao(b)),c(f,b)}}function Jp(c,f,b,M,P,Y,K,ne,le,Me){var Ne=f&L,Pe=Ne?K:n,Ve=Ne?n:K,ot=Ne?Y:n,gt=Ne?n:Y;f|=Ne?H:j,f&=~(Ne?j:H),f&N||(f&=~(C|A));var xt=[c,f,P,ot,Pe,gt,Ve,ne,le,Me],vt=b.apply(n,xt);return di(c)&&Co(vt,xt),vt.placeholder=M,da(vt,c,f)}function lr(c){var f=Tn[c];return function(b,M){if(b=ao(b),M=M==null?0:tr(Ct(M),292),M&&Ls(b)){var P=(Wt(b)+"e").split("e"),Y=f(P[0]+"e"+(+P[1]+M));return P=(Wt(Y)+"e").split("e"),+(P[0]+"e"+(+P[1]-M))}return f(b)}}var Tr=Qo&&1/Jo(new Qo([,-0]))[1]==Ie?function(c){return new Qo(c)}:g0;function eh(c){return function(f){var b=cr(f);return b==$e?ru(f):b==At?Ly(f):Fy(f,c(f))}}function to(c,f,b,M,P,Y,K,ne){var le=f&A;if(!le&&typeof c!="function")throw new oa(s);var Me=M?M.length:0;if(Me||(f&=~(H|j),M=P=n),K=K===n?K:En(Ct(K),0),ne=ne===n?ne:Ct(ne),Me-=P?P.length:0,f&j){var Ne=M,Pe=P;M=P=n}var Ve=le?n:uc(c),ot=[c,f,b,M,P,Ne,Pe,Y,K,ne];if(Ve&&rg(ot,Ve),c=ot[0],f=ot[1],b=ot[2],M=ot[3],P=ot[4],ne=ot[9]=ot[9]===n?le?0:c.length:En(ot[9]-Me,0),!ne&&f&(L|F)&&(f&=~(L|F)),!f||f==C)var gt=$p(c,f,b);else f==L||f==F?gt=Vy(c,f,ne):(f==H||f==(C|H))&&!P.length?gt=Gp(c,f,b,M):gt=Xs.apply(n,ot);var xt=Ve?jn:Co;return da(xt(gt,ot),c,f)}function th(c,f,b,M){return c===n||Mo(c,$a[b])&&!jt.call(M,b)?f:c}function nh(c,f,b,M,P,Y){return bn(c)&&bn(f)&&(Y.set(f,c),li(c,f,n,nh,Y),Y.delete(f)),c}function Kp(c){return Mh(c)?n:c}function zu(c,f,b,M,P,Y){var K=b&S,ne=c.length,le=f.length;if(ne!=le&&!(K&&le>ne))return!1;var Me=Y.get(c),Ne=Y.get(f);if(Me&&Ne)return Me==f&&Ne==c;var Pe=-1,Ve=!0,ot=b&T?new Wi:n;for(Y.set(c,f),Y.set(f,c);++Pe<ne;){var gt=c[Pe],xt=f[Pe];if(M)var vt=K?M(xt,gt,Pe,f,c,Y):M(gt,xt,Pe,c,f,Y);if(vt!==n){if(vt)continue;Ve=!1;break}if(ot){if(!bf(f,function(Mt,Ft){if(!go(ot,Ft)&&(gt===Mt||P(gt,Mt,b,M,Y)))return ot.push(Ft)})){Ve=!1;break}}else if(!(gt===xt||P(gt,xt,b,M,Y))){Ve=!1;break}}return Y.delete(c),Y.delete(f),Ve}function Qp(c,f,b,M,P,Y,K){switch(b){case Nr:if(c.byteLength!=f.byteLength||c.byteOffset!=f.byteOffset)return!1;c=c.buffer,f=f.buffer;case Mr:return!(c.byteLength!=f.byteLength||!Y(new Ul(c),new Ul(f)));case _e:case it:case lt:return Mo(+c,+f);case Se:return c.name==f.name&&c.message==f.message;case rn:case an:return c==f+"";case $e:var ne=ru;case At:var le=M&S;if(ne||(ne=Jo),c.size!=f.size&&!le)return!1;var Me=K.get(c);if(Me)return Me==f;M|=T,K.set(c,f);var Ne=zu(ne(c),ne(f),M,P,Y,K);return K.delete(c),Ne;case Sn:if(Vr)return Vr.call(c)==Vr.call(f)}return!1}function rh(c,f,b,M,P,Y){var K=b&S,ne=Uu(c),le=ne.length,Me=Uu(f),Ne=Me.length;if(le!=Ne&&!K)return!1;for(var Pe=le;Pe--;){var Ve=ne[Pe];if(!(K?Ve in f:jt.call(f,Ve)))return!1}var ot=Y.get(c),gt=Y.get(f);if(ot&&gt)return ot==f&&gt==c;var xt=!0;Y.set(c,f),Y.set(f,c);for(var vt=K;++Pe<le;){Ve=ne[Pe];var Mt=c[Ve],Ft=f[Ve];if(M)var Ra=K?M(Ft,Mt,Ve,f,c,Y):M(Mt,Ft,Ve,c,f,Y);if(!(Ra===n?Mt===Ft||P(Mt,Ft,b,M,Y):Ra)){xt=!1;break}vt||(vt=Ve=="constructor")}if(xt&&!vt){var Kr=c.constructor,_a=f.constructor;Kr!=_a&&"constructor"in c&&"constructor"in f&&!(typeof Kr=="function"&&Kr instanceof Kr&&typeof _a=="function"&&_a instanceof _a)&&(xt=!1)}return Y.delete(c),Y.delete(f),xt}function no(c){return qu(Wu(c,n,mc),c+"")}function Uu(c){return Tu(c,fr,el)}function cc(c){return Tu(c,ma,ro)}var uc=mu?function(c){return mu.get(c)}:g0;function dc(c){for(var f=c.name+"",b=Hs[f],M=jt.call(Hs,f)?b.length:0;M--;){var P=b[M],Y=P.func;if(Y==null||Y==c)return P.name}return f}function ui(c){var f=jt.call(B,"placeholder")?B:c;return f.placeholder}function ct(){var c=B.iteratee||m0;return c=c===m0?Xl:c,arguments.length?c(arguments[0],arguments[1]):c}function Vu(c,f){var b=c.__data__;return Xe(f)?b[typeof f=="string"?"string":"hash"]:b.map}function Zu(c){for(var f=fr(c),b=f.length;b--;){var M=f[b],P=c[M];f[b]=[M,P,nl(P)]}return f}function Eo(c,f){var b=As(c,f);return _f(b)?b:n}function Xp(c){var f=jt.call(c,Ui),b=c[Ui];try{c[Ui]=n;var M=!0}catch{}var P=Yl.call(c);return M&&(f?c[Ui]=b:delete c[Ui]),P}var el=du?function(c){return c==null?[]:(c=Zt(c),qo(du(c),function(f){return cu.call(c,f)}))}:v0,ro=du?function(c){for(var f=[];c;)Go(f,el(c)),c=xa(c);return f}:v0,cr=ir;(Wl&&cr(new Wl(new ArrayBuffer(1)))!=Nr||Zi&&cr(new Zi)!=$e||$l&&cr($l.resolve())!=Et||Qo&&cr(new Qo)!=At||ql&&cr(new ql)!=vr)&&(cr=function(c){var f=ir(c),b=f==Dt?c.constructor:n,M=b?fi(b):"";if(M)switch(M){case Af:return Nr;case Xo:return $e;case kp:return Et;case Bs:return At;case qa:return vr}return f});function eg(c,f,b){for(var M=-1,P=b.length;++M<P;){var Y=b[M],K=Y.size;switch(Y.type){case"drop":c+=K;break;case"dropRight":f-=K;break;case"take":f=tr(f,c+K);break;case"takeRight":c=En(c,f-K);break}}return{start:c,end:f}}function ah(c){var f=c.match(Ta);return f?f[1].split(Ea):[]}function oh(c,f,b){f=So(f,c);for(var M=-1,P=f.length,Y=!1;++M<P;){var K=Pa(f[M]);if(!(Y=c!=null&&b(c,K)))break;c=c[K]}return Y||++M!=P?Y:(P=c==null?0:c.length,!!P&&Dg(P)&&ua(K,P)&&(Tt(c)||wc(c)))}function tg(c){var f=c.length,b=new c.constructor(f);return f&&typeof c[0]=="string"&&jt.call(c,"index")&&(b.index=c.index,b.input=c.input),b}function tl(c){return typeof c.constructor=="function"&&!fc(c)?Ys(xa(c)):{}}function ur(c,f,b){var M=c.constructor;switch(f){case Mr:return Ks(c);case _e:case it:return new M(+c);case Nr:return Ru(c,b);case Ss:case mo:case po:case Nl:case Pi:case ji:case Is:case Yo:case Li:return qf(c,b);case $e:return new M;case lt:case an:return new M(c);case rn:return Up(c);case At:return new M;case Sn:return $f(c)}}function Zy(c,f){var b=f.length;if(!b)return c;var M=b-1;return f[M]=(b>1?"& ":"")+f[M],f=f.join(b>2?", ":" "),c.replace(Ia,`{
/* [wrapped with `+f+`] */
`)}function Wy(c){return Tt(c)||wc(c)||!!(xp&&c&&c[xp])}function ua(c,f){var b=typeof c;return f=f??se,!!f&&(b=="number"||b!="symbol"&&Jm.test(c))&&c>-1&&c%1==0&&c<f}function Bt(c,f,b){if(!bn(b))return!1;var M=typeof f;return(M=="number"?ha(b)&&ua(f,b.length):M=="string"&&f in b)?Mo(b[f],c):!1}function ih(c,f){if(Tt(c))return!1;var b=typeof c;return b=="number"||b=="symbol"||b=="boolean"||c==null||La(c)?!0:na.test(c)||!yn.test(c)||f!=null&&c in Zt(f)}function Xe(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function di(c){var f=dc(c),b=B[f];if(typeof b!="function"||!(f in St.prototype))return!1;if(c===b)return!0;var M=uc(b);return!!M&&c===M[0]}function sh(c){return!!iu&&iu in c}var ng=Ps?os:y0;function fc(c){var f=c&&c.constructor,b=typeof f=="function"&&f.prototype||$a;return c===b}function nl(c){return c===c&&!bn(c)}function hc(c,f){return function(b){return b==null?!1:b[c]===f&&(f!==n||c in Zt(b))}}function lh(c){var f=ae(c,function(M){return b.size===m&&b.clear(),M}),b=f.cache;return f}function rg(c,f){var b=c[1],M=f[1],P=b|M,Y=P<(C|A|_),K=M==_&&b==L||M==_&&b==V&&c[7].length<=f[8]||M==(_|V)&&f[7].length<=f[8]&&b==L;if(!(Y||K))return c;M&C&&(c[2]=f[2],P|=b&C?0:N);var ne=f[3];if(ne){var le=c[3];c[3]=le?Jf(le,ne,f[4]):ne,c[4]=le?aa(c[3],p):f[4]}return ne=f[5],ne&&(le=c[5],c[5]=le?_u(le,ne,f[6]):ne,c[6]=le?aa(c[5],p):f[6]),ne=f[7],ne&&(c[7]=ne),M&_&&(c[8]=c[8]==null?f[8]:tr(c[8],f[8])),c[9]==null&&(c[9]=f[9]),c[0]=f[0],c[1]=P,c}function ag(c){var f=[];if(c!=null)for(var b in Zt(c))f.push(b);return f}function og(c){return Yl.call(c)}function Wu(c,f,b){return f=En(f===n?c.length-1:f,0),function(){for(var M=arguments,P=-1,Y=En(M.length-f,0),K=ge(Y);++P<Y;)K[P]=M[f+P];P=-1;for(var ne=ge(f+1);++P<f;)ne[P]=M[P];return ne[f]=b(K),br(c,this,ne)}}function $u(c,f){return f.length<2?c:Wr(c,sr(f,0,-1))}function qn(c,f){for(var b=c.length,M=tr(f.length,b),P=Ir(c);M--;){var Y=f[M];c[M]=ua(Y,b)?P[Y]:n}return c}function $r(c,f){if(!(f==="constructor"&&typeof c[f]=="function")&&f!="__proto__")return c[f]}var Co=ch(jn),rl=Nf||function(c,f){return sn.setTimeout(c,f)},qu=ch(ku);function da(c,f,b){var M=f+"";return qu(c,Zy(M,sg(ah(M),b)))}function ch(c){var f=0,b=0;return function(){var M=Yy(),P=ce-(M-b);if(b=M,P>0){if(++f>=ee)return arguments[0]}else f=0;return c.apply(n,arguments)}}function qr(c,f){var b=-1,M=c.length,P=M-1;for(f=f===n?M:f;++b<f;){var Y=nc(b,P),K=c[Y];c[Y]=c[b],c[b]=K}return c.length=f,c}var ig=lh(function(c){var f=[];return c.charCodeAt(0)===46&&f.push(""),c.replace(Fn,function(b,M,P,Y){f.push(P?Y.replace(yy,"$1"):M||b)}),f});function Pa(c){if(typeof c=="string"||La(c))return c;var f=c+"";return f=="0"&&1/c==-Ie?"-0":f}function fi(c){if(c!=null){try{return Bl.call(c)}catch{}try{return c+""}catch{}}return""}function sg(c,f){return er(De,function(b){var M="_."+b[0];f&b[1]&&!eu(c,M)&&c.push(M)}),c.sort()}function uh(c){if(c instanceof St)return c.clone();var f=new nr(c.__wrapped__,c.__chain__);return f.__actions__=Ir(c.__actions__),f.__index__=c.__index__,f.__values__=c.__values__,f}function $y(c,f,b){(b?Bt(c,f,b):f===n)?f=1:f=En(Ct(f),0);var M=c==null?0:c.length;if(!M||f<1)return[];for(var P=0,Y=0,K=ge(Vi(M/f));P<M;)K[Y++]=sr(c,P,P+=f);return K}function Gu(c){for(var f=-1,b=c==null?0:c.length,M=0,P=[];++f<b;){var Y=c[f];Y&&(P[M++]=Y)}return P}function dh(){var c=arguments.length;if(!c)return[];for(var f=ge(c-1),b=arguments[0],M=c;M--;)f[M-1]=arguments[M];return Go(Tt(b)?Ir(b):[b],Pn(f,1))}var fa=It(function(c,f){return Bn(c)?Xa(c,Pn(f,1,Bn,!0)):[]}),Ot=It(function(c,f){var b=Hn(f);return Bn(b)&&(b=n),Bn(c)?Xa(c,Pn(f,1,Bn,!0),ct(b,2)):[]}),Un=It(function(c,f){var b=Hn(f);return Bn(b)&&(b=n),Bn(c)?Xa(c,Pn(f,1,Bn,!0),n,b):[]});function Cn(c,f,b){var M=c==null?0:c.length;return M?(f=b||f===n?1:Ct(f),sr(c,f<0?0:f,M)):[]}function Gn(c,f,b){var M=c==null?0:c.length;return M?(f=b||f===n?1:Ct(f),f=M-f,sr(c,0,f<0?0:f)):[]}function Gr(c,f){return c&&c.length?Gs(c,ct(f,3),!0,!0):[]}function al(c,f){return c&&c.length?Gs(c,ct(f,3),!0):[]}function _n(c,f,b,M){var P=c==null?0:c.length;return P?(b&&typeof b!="number"&&Bt(c,f,b)&&(b=0,M=P),Su(c,f,b,M)):[]}function ol(c,f,b){var M=c==null?0:c.length;if(!M)return-1;var P=b==null?0:Ct(b);return P<0&&(P=En(M+P,0)),tu(c,ct(f,3),P)}function hi(c,f,b){var M=c==null?0:c.length;if(!M)return-1;var P=M-1;return b!==n&&(P=Ct(b),P=b<0?En(M+P,0):tr(P,M-1)),tu(c,ct(f,3),P,!0)}function mc(c){var f=c==null?0:c.length;return f?Pn(c,1):[]}function fh(c){var f=c==null?0:c.length;return f?Pn(c,Ie):[]}function pc(c,f){var b=c==null?0:c.length;return b?(f=f===n?1:Ct(f),Pn(c,f)):[]}function jr(c){for(var f=-1,b=c==null?0:c.length,M={};++f<b;){var P=c[f];M[P[0]]=P[1]}return M}function Ju(c){return c&&c.length?c[0]:n}function il(c,f,b){var M=c==null?0:c.length;if(!M)return-1;var P=b==null?0:Ct(b);return P<0&&(P=En(M+P,0)),ks(c,f,P)}function xo(c){var f=c==null?0:c.length;return f?sr(c,0,-1):[]}var Ku=It(function(c){var f=qt(c,ju);return f.length&&f[0]===c[0]?Aa(f):[]}),hh=It(function(c){var f=Hn(c),b=qt(c,ju);return f===Hn(b)?f=n:b.pop(),b.length&&b[0]===c[0]?Aa(b,ct(f,2)):[]}),mi=It(function(c){var f=Hn(c),b=qt(c,ju);return f=typeof f=="function"?f:n,f&&b.pop(),b.length&&b[0]===c[0]?Aa(b,n,f):[]});function Qu(c,f){return c==null?"":fu.call(c,f)}function Hn(c){var f=c==null?0:c.length;return f?c[f-1]:n}function Xu(c,f,b){var M=c==null?0:c.length;if(!M)return-1;var P=M;return b!==n&&(P=Ct(b),P=P<0?En(M+P,0):tr(P,M-1)),f===f?Ry(c,f,P):tu(c,hp,P,!0)}function gc(c,f){return c&&c.length?ci(c,Ct(f)):n}var mh=It(vc);function vc(c,f){return c&&c.length&&f&&f.length?en(c,f):c}function ed(c,f,b){return c&&c.length&&f&&f.length?en(c,f,ct(b,2)):c}function Er(c,f,b){return c&&c.length&&f&&f.length?en(c,f,n,b):c}var pi=no(function(c,f){var b=c==null?0:c.length,M=Du(c,f);return tc(c,qt(f,function(P){return ua(P,b)?+P:P}).sort(Gf)),M});function ja(c,f){var b=[];if(!(c&&c.length))return b;var M=-1,P=[],Y=c.length;for(f=ct(f,3);++M<Y;){var K=c[M];f(K,M,c)&&(b.push(K),P.push(M))}return tc(c,P),b}function dr(c){return c==null?c:hu.call(c)}function lg(c,f,b){var M=c==null?0:c.length;return M?(b&&typeof b!="number"&&Bt(c,f,b)?(f=0,b=M):(f=f==null?0:Ct(f),b=b===n?M:Ct(b)),sr(c,f,b)):[]}function ph(c,f){return Ln(c,f)}function gh(c,f,b){return ac(c,f,ct(b,2))}function qy(c,f){var b=c==null?0:c.length;if(b){var M=Ln(c,f);if(M<b&&Mo(c[M],f))return M}return-1}function gi(c,f){return Ln(c,f,!0)}function cg(c,f,b){return ac(c,f,ct(b,2),!0)}function vh(c,f){var b=c==null?0:c.length;if(b){var M=Ln(c,f,!0)-1;if(Mo(c[M],f))return M}return-1}function ts(c){return c&&c.length?Au(c):[]}function yh(c,f){return c&&c.length?Au(c,ct(f,2)):[]}function ns(c){var f=c==null?0:c.length;return f?sr(c,1,f):[]}function ug(c,f,b){return c&&c.length?(f=b||f===n?1:Ct(f),sr(c,0,f<0?0:f)):[]}function dg(c,f,b){var M=c==null?0:c.length;return M?(f=b||f===n?1:Ct(f),f=M-f,sr(c,f<0?0:f,M)):[]}function wh(c,f){return c&&c.length?Gs(c,ct(f,3),!1,!0):[]}function td(c,f){return c&&c.length?Gs(c,ct(f,3)):[]}var Gy=It(function(c){return Rn(Pn(c,1,Bn,!0))}),Jy=It(function(c){var f=Hn(c);return Bn(f)&&(f=n),Rn(Pn(c,1,Bn,!0),ct(f,2))}),fg=It(function(c){var f=Hn(c);return f=typeof f=="function"?f:n,Rn(Pn(c,1,Bn,!0),n,f)});function hg(c){return c&&c.length?Rn(c):[]}function rs(c,f){return c&&c.length?Rn(c,ct(f,2)):[]}function Ky(c,f){return f=typeof f=="function"?f:n,c&&c.length?Rn(c,n,f):[]}function vi(c){if(!(c&&c.length))return[];var f=0;return c=qo(c,function(b){if(Bn(b))return f=En(b.length,f),!0}),Tf(f,function(b){return qt(c,Sf(b))})}function bh(c,f){if(!(c&&c.length))return[];var b=vi(c);return f==null?b:qt(b,function(M){return br(f,n,M)})}var pn=It(function(c,f){return Bn(c)?Xa(c,f):[]}),Qy=It(function(c){return Pu(qo(c,Bn))}),mg=It(function(c){var f=Hn(c);return Bn(f)&&(f=n),Pu(qo(c,Bn),ct(f,2))}),Xy=It(function(c){var f=Hn(c);return f=typeof f=="function"?f:n,Pu(qo(c,Bn),n,f)}),e0=It(vi);function pg(c,f){return Zf(c||[],f||[],Gi)}function gg(c,f){return Zf(c||[],f||[],un)}var t0=It(function(c){var f=c.length,b=f>1?c[f-1]:n;return b=typeof b=="function"?(c.pop(),b):n,bh(c,b)});function Jr(c){var f=B(c);return f.__chain__=!0,f}function Dh(c,f){return f(c),c}function nd(c,f){return f(c)}var yi=no(function(c){var f=c.length,b=f?c[0]:0,M=this.__wrapped__,P=function(Y){return Du(Y,c)};return f>1||this.__actions__.length||!(M instanceof St)||!ua(b)?this.thru(P):(M=M.slice(b,+b+(f?1:0)),M.__actions__.push({func:nd,args:[P],thisArg:n}),new nr(M,this.__chain__).thru(function(Y){return f&&!Y.length&&Y.push(n),Y}))});function rd(){return Jr(this)}function as(){return new nr(this.value(),this.__chain__)}function ad(){this.__values__===n&&(this.__values__=Db(this.value()));var c=this.__index__>=this.__values__.length,f=c?n:this.__values__[this.__index__++];return{done:c,value:f}}function Sh(){return this}function Ih(c){for(var f,b=this;b instanceof Ga;){var M=uh(b);M.__index__=0,M.__values__=n,f?P.__wrapped__=M:f=M;var P=M;b=b.__wrapped__}return P.__wrapped__=c,f}function n0(){var c=this.__wrapped__;if(c instanceof St){var f=c;return this.__actions__.length&&(f=new St(this)),f=f.reverse(),f.__actions__.push({func:nd,args:[dr],thisArg:n}),new nr(f,this.__chain__)}return this.thru(dr)}function Th(){return Vf(this.__wrapped__,this.__actions__)}var r0=oc(function(c,f,b){jt.call(c,b)?++c[b]:Qa(c,b,1)});function vg(c,f,b){var M=Tt(c)?vf:Na;return b&&Bt(c,f,b)&&(f=n),M(c,ct(f,3))}function yg(c,f){var b=Tt(c)?qo:Ki;return b(c,ct(f,3))}var od=qp(ol),id=qp(hi);function wg(c,f){return Pn(ud(c,f),1)}function Eh(c,f){return Pn(ud(c,f),Ie)}function a0(c,f,b){return b=b===n?1:Ct(b),Pn(ud(c,f),b)}function Ch(c,f){var b=Tt(c)?er:eo;return b(c,ct(f,3))}function sd(c,f){var b=Tt(c)?Xc:Rp;return b(c,ct(f,3))}var ld=oc(function(c,f,b){jt.call(c,b)?c[b].push(f):Qa(c,b,[f])});function xh(c,f,b,M){c=ha(c)?c:md(c),b=b&&!M?Ct(b):0;var P=c.length;return b<0&&(b=En(P+b,0)),Sg(c)?b<=P&&c.indexOf(f,b)>-1:!!P&&ks(c,f,b)>-1}var cd=It(function(c,f,b){var M=-1,P=typeof f=="function",Y=ha(c)?ge(c.length):[];return eo(c,function(K){Y[++M]=P?br(f,K,b):ii(K,f,b)}),Y}),bg=oc(function(c,f,b){Qa(c,b,f)});function ud(c,f){var b=Tt(c)?qt:Bf;return b(c,ct(f,3))}function dd(c,f,b,M){return c==null?[]:(Tt(f)||(f=f==null?[]:[f]),b=M?n:b,Tt(b)||(b=b==null?[]:[b]),Nu(c,f,b))}var o0=oc(function(c,f,b){c[b?0:1].push(f)},function(){return[[],[]]});function yc(c,f,b){var M=Tt(c)?wf:pp,P=arguments.length<3;return M(c,ct(f,4),b,P,eo)}function i0(c,f,b){var M=Tt(c)?Ny:pp,P=arguments.length<3;return M(c,ct(f,4),b,P,Rp)}function fd(c,f){var b=Tt(c)?qo:Ki;return b(c,de(ct(f,3)))}function i(c){var f=Tt(c)?Ka:Qi;return f(c)}function l(c,f,b){(b?Bt(c,f,b):f===n)?f=1:f=Ct(f);var M=Tt(c)?qi:cn;return M(c,f)}function h(c){var f=Tt(c)?jp:rc;return f(c)}function v(c){if(c==null)return 0;if(ha(c))return Sg(c)?zi(c):c.length;var f=cr(c);return f==$e||f==At?c.size:Mu(c).length}function I(c,f,b){var M=Tt(c)?bf:zy;return b&&Bt(c,f,b)&&(f=n),M(c,ct(f,3))}var x=It(function(c,f){if(c==null)return[];var b=f.length;return b>1&&Bt(c,f[0],f[1])?f=[]:b>2&&Bt(f[0],f[1],f[2])&&(f=[f[0]]),Nu(c,Pn(f,1),[])}),R=Kt||function(){return sn.Date.now()};function G(c,f){if(typeof f!="function")throw new oa(s);return c=Ct(c),function(){if(--c<1)return f.apply(this,arguments)}}function te(c,f,b){return f=b?n:f,f=c&&f==null?c.length:f,to(c,_,n,n,n,n,f)}function ye(c,f){var b;if(typeof f!="function")throw new oa(s);return c=Ct(c),function(){return--c>0&&(b=f.apply(this,arguments)),c<=1&&(f=n),b}}var Fe=It(function(c,f,b){var M=C;if(b.length){var P=aa(b,ui(Fe));M|=H}return to(c,M,f,b,P)}),Le=It(function(c,f,b){var M=C|A;if(b.length){var P=aa(b,ui(Le));M|=H}return to(f,M,c,b,P)});function Oe(c,f,b){f=b?n:f;var M=to(c,L,n,n,n,n,n,f);return M.placeholder=Oe.placeholder,M}function Ge(c,f,b){f=b?n:f;var M=to(c,F,n,n,n,n,n,f);return M.placeholder=Ge.placeholder,M}function tt(c,f,b){var M,P,Y,K,ne,le,Me=0,Ne=!1,Pe=!1,Ve=!0;if(typeof c!="function")throw new oa(s);f=ao(f)||0,bn(b)&&(Ne=!!b.leading,Pe="maxWait"in b,Y=Pe?En(ao(b.maxWait)||0,f):Y,Ve="trailing"in b?!!b.trailing:Ve);function ot(Yn){var No=M,ss=P;return M=P=n,Me=Yn,K=c.apply(ss,No),K}function gt(Yn){return Me=Yn,ne=rl(Mt,f),Ne?ot(Yn):K}function xt(Yn){var No=Yn-le,ss=Yn-Me,Pb=f-No;return Pe?tr(Pb,Y-ss):Pb}function vt(Yn){var No=Yn-le,ss=Yn-Me;return le===n||No>=f||No<0||Pe&&ss>=Y}function Mt(){var Yn=R();if(vt(Yn))return Ft(Yn);ne=rl(Mt,xt(Yn))}function Ft(Yn){return ne=n,Ve&&M?ot(Yn):(M=P=n,K)}function Ra(){ne!==n&&Js(ne),Me=0,M=le=P=ne=n}function Kr(){return ne===n?K:Ft(R())}function _a(){var Yn=R(),No=vt(Yn);if(M=arguments,P=this,le=Yn,No){if(ne===n)return gt(le);if(Pe)return Js(ne),ne=rl(Mt,f),ot(le)}return ne===n&&(ne=rl(Mt,f)),K}return _a.cancel=Ra,_a.flush=Kr,_a}var nt=It(function(c,f){return Pf(c,1,f)}),wn=It(function(c,f,b){return Pf(c,ao(f)||0,b)});function ue(c){return to(c,U)}function ae(c,f){if(typeof c!="function"||f!=null&&typeof f!="function")throw new oa(s);var b=function(){var M=arguments,P=f?f.apply(this,M):M[0],Y=b.cache;if(Y.has(P))return Y.get(P);var K=c.apply(this,M);return b.cache=Y.set(P,K)||Y,K};return b.cache=new(ae.Cache||ia),b}ae.Cache=ia;function de(c){if(typeof c!="function")throw new oa(s);return function(){var f=arguments;switch(f.length){case 0:return!c.call(this);case 1:return!c.call(this,f[0]);case 2:return!c.call(this,f[0],f[1]);case 3:return!c.call(this,f[0],f[1],f[2])}return!c.apply(this,f)}}function He(c){return ye(2,c)}var at=zp(function(c,f){f=f.length==1&&Tt(f[0])?qt(f[0],zr(ct())):qt(Pn(f,1),zr(ct()));var b=f.length;return It(function(M){for(var P=-1,Y=tr(M.length,b);++P<Y;)M[P]=f[P].call(this,M[P]);return br(c,this,M)})}),ut=It(function(c,f){var b=aa(f,ui(ut));return to(c,H,n,f,b)}),dt=It(function(c,f){var b=aa(f,ui(dt));return to(c,j,n,f,b)}),yt=no(function(c,f){return to(c,V,n,n,n,f)});function Vn(c,f){if(typeof c!="function")throw new oa(s);return f=f===n?f:Ct(f),It(c,f)}function Lt(c,f){if(typeof c!="function")throw new oa(s);return f=f==null?0:En(Ct(f),0),It(function(b){var M=b[f],P=Io(b,0,f);return M&&Go(P,M),br(c,this,P)})}function wi(c,f,b){var M=!0,P=!0;if(typeof c!="function")throw new oa(s);return bn(b)&&(M="leading"in b?!!b.leading:M,P="trailing"in b?!!b.trailing:P),tt(c,f,{leading:M,maxWait:f,trailing:P})}function s0(c){return te(c,1)}function xx(c,f){return ut(Lu(f),c)}function Mx(){if(!arguments.length)return[];var c=arguments[0];return Tt(c)?c:[c]}function Nx(c){return Pr(c,D)}function kx(c,f){return f=typeof f=="function"?f:n,Pr(c,D,f)}function Ax(c){return Pr(c,g|D)}function Ox(c,f){return f=typeof f=="function"?f:n,Pr(c,g|D,f)}function Fx(c,f){return f==null||Jl(c,f,fr(f))}function Mo(c,f){return c===f||c!==c&&f!==f}var Px=lc(ka),jx=lc(function(c,f){return c>=f}),wc=Lf(function(){return arguments}())?Lf:function(c){return xn(c)&&jt.call(c,"callee")&&!cu.call(c,"callee")},Tt=ge.isArray,Lx=pf?zr(pf):Eu;function ha(c){return c!=null&&Dg(c.length)&&!os(c)}function Bn(c){return xn(c)&&ha(c)}function Rx(c){return c===!0||c===!1||xn(c)&&ir(c)==_e}var sl=kf||y0,_x=kr?zr(kr):Hp;function Hx(c){return xn(c)&&c.nodeType===1&&!Mh(c)}function Bx(c){if(c==null)return!0;if(ha(c)&&(Tt(c)||typeof c=="string"||typeof c.splice=="function"||sl(c)||hd(c)||wc(c)))return!c.length;var f=cr(c);if(f==$e||f==At)return!c.size;if(fc(c))return!Mu(c).length;for(var b in c)if(jt.call(c,b))return!1;return!0}function Yx(c,f){return Zs(c,f)}function zx(c,f,b){b=typeof b=="function"?b:n;var M=b?b(c,f):n;return M===n?Zs(c,f,n,b):!!M}function l0(c){if(!xn(c))return!1;var f=ir(c);return f==Se||f==Vt||typeof c.message=="string"&&typeof c.name=="string"&&!Mh(c)}function Ux(c){return typeof c=="number"&&Ls(c)}function os(c){if(!bn(c))return!1;var f=ir(c);return f==Ue||f==Je||f==Be||f==$t}function vb(c){return typeof c=="number"&&c==Ct(c)}function Dg(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=se}function bn(c){var f=typeof c;return c!=null&&(f=="object"||f=="function")}function xn(c){return c!=null&&typeof c=="object"}var yb=Yi?zr(Yi):Cu;function Vx(c,f){return c===f||xu(c,f,Zu(f))}function Zx(c,f,b){return b=typeof b=="function"?b:n,xu(c,f,Zu(f),b)}function Wx(c){return wb(c)&&c!=+c}function $x(c){if(ng(c))throw new bt(o);return _f(c)}function qx(c){return c===null}function Gx(c){return c==null}function wb(c){return typeof c=="number"||xn(c)&&ir(c)==lt}function Mh(c){if(!xn(c)||ir(c)!=Dt)return!1;var f=xa(c);if(f===null)return!0;var b=jt.call(f,"constructor")&&f.constructor;return typeof b=="function"&&b instanceof b&&Bl.call(b)==su}var c0=Qc?zr(Qc):Bp;function Jx(c){return vb(c)&&c>=-se&&c<=se}var bb=Ns?zr(Ns):Hf;function Sg(c){return typeof c=="string"||!Tt(c)&&xn(c)&&ir(c)==an}function La(c){return typeof c=="symbol"||xn(c)&&ir(c)==Sn}var hd=up?zr(up):Ql;function Kx(c){return c===n}function Qx(c){return xn(c)&&cr(c)==vr}function Xx(c){return xn(c)&&ir(c)==Sa}var eM=lc(si),tM=lc(function(c,f){return c<=f});function Db(c){if(!c)return[];if(ha(c))return Sg(c)?Ur(c):Ir(c);if(wo&&c[wo])return jy(c[wo]());var f=cr(c),b=f==$e?ru:f==At?Jo:md;return b(c)}function is(c){if(!c)return c===0?c:0;if(c=ao(c),c===Ie||c===-Ie){var f=c<0?-1:1;return f*we}return c===c?c:0}function Ct(c){var f=is(c),b=f%1;return f===f?b?f-b:f:0}function Sb(c){return c?Do(Ct(c),0,$):0}function ao(c){if(typeof c=="number")return c;if(La(c))return W;if(bn(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=bn(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=gp(c);var b=wy.test(c);return b||Gm.test(c)?Jc(c.slice(2),b?2:8):$m.test(c)?W:+c}function Ib(c){return Fa(c,ma(c))}function nM(c){return c?Do(Ct(c),-se,se):c===0?c:0}function Wt(c){return c==null?"":mn(c)}var rM=Qs(function(c,f){if(fc(f)||ha(f)){Fa(f,fr(f),c);return}for(var b in f)jt.call(f,b)&&Gi(c,b,f[b])}),Tb=Qs(function(c,f){Fa(f,ma(f),c)}),Ig=Qs(function(c,f,b,M){Fa(f,ma(f),c,M)}),aM=Qs(function(c,f,b,M){Fa(f,fr(f),c,M)}),oM=no(Du);function iM(c,f){var b=Ys(c);return f==null?b:Xt(b,f)}var sM=It(function(c,f){c=Zt(c);var b=-1,M=f.length,P=M>2?f[2]:n;for(P&&Bt(f[0],f[1],P)&&(M=1);++b<M;)for(var Y=f[b],K=ma(Y),ne=-1,le=K.length;++ne<le;){var Me=K[ne],Ne=c[Me];(Ne===n||Mo(Ne,$a[Me])&&!jt.call(c,Me))&&(c[Me]=Y[Me])}return c}),lM=It(function(c){return c.push(n,nh),br(Eb,n,c)});function cM(c,f){return fp(c,ct(f,3),ca)}function uM(c,f){return fp(c,ct(f,3),ri)}function dM(c,f){return c==null?c:Kl(c,ct(f,3),ma)}function fM(c,f){return c==null?c:Iu(c,ct(f,3),ma)}function hM(c,f){return c&&ca(c,ct(f,3))}function mM(c,f){return c&&ri(c,ct(f,3))}function pM(c){return c==null?[]:Sr(c,fr(c))}function gM(c){return c==null?[]:Sr(c,ma(c))}function u0(c,f,b){var M=c==null?n:Wr(c,f);return M===n?b:M}function vM(c,f){return c!=null&&oh(c,f,ai)}function d0(c,f){return c!=null&&oh(c,f,jf)}var yM=Hu(function(c,f,b){f!=null&&typeof f.toString!="function"&&(f=Yl.call(f)),c[f]=b},h0(pa)),wM=Hu(function(c,f,b){f!=null&&typeof f.toString!="function"&&(f=Yl.call(f)),jt.call(c,f)?c[f].push(b):c[f]=[b]},ct),bM=It(ii);function fr(c){return ha(c)?Ja(c):Mu(c)}function ma(c){return ha(c)?Ja(c,!0):Yp(c)}function DM(c,f){var b={};return f=ct(f,3),ca(c,function(M,P,Y){Qa(b,f(M,P,Y),M)}),b}function SM(c,f){var b={};return f=ct(f,3),ca(c,function(M,P,Y){Qa(b,P,f(M,P,Y))}),b}var IM=Qs(function(c,f,b){li(c,f,b)}),Eb=Qs(function(c,f,b,M){li(c,f,b,M)}),TM=no(function(c,f){var b={};if(c==null)return b;var M=!1;f=qt(f,function(Y){return Y=So(Y,c),M||(M=Y.length>1),Y}),Fa(c,cc(c),b),M&&(b=Pr(b,g|w|D,Kp));for(var P=f.length;P--;)Xi(b,f[P]);return b});function EM(c,f){return Cb(c,de(ct(f)))}var CM=no(function(c,f){return c==null?{}:$s(c,f)});function Cb(c,f){if(c==null)return{};var b=qt(cc(c),function(M){return[M]});return f=ct(f),Yf(c,b,function(M,P){return f(M,P[0])})}function xM(c,f,b){f=So(f,c);var M=-1,P=f.length;for(P||(P=1,c=n);++M<P;){var Y=c==null?n:c[Pa(f[M])];Y===n&&(M=P,Y=b),c=os(Y)?Y.call(c):Y}return c}function MM(c,f,b){return c==null?c:un(c,f,b)}function NM(c,f,b,M){return M=typeof M=="function"?M:n,c==null?c:un(c,f,b,M)}var xb=eh(fr),Mb=eh(ma);function kM(c,f,b){var M=Tt(c),P=M||sl(c)||hd(c);if(f=ct(f,4),b==null){var Y=c&&c.constructor;P?b=M?new Y:[]:bn(c)?b=os(Y)?Ys(xa(c)):{}:b={}}return(P?er:ca)(c,function(K,ne,le){return f(b,K,ne,le)}),b}function AM(c,f){return c==null?!0:Xi(c,f)}function OM(c,f,b){return c==null?c:Fu(c,f,Lu(b))}function FM(c,f,b,M){return M=typeof M=="function"?M:n,c==null?c:Fu(c,f,Lu(b),M)}function md(c){return c==null?[]:_l(c,fr(c))}function PM(c){return c==null?[]:_l(c,ma(c))}function jM(c,f,b){return b===n&&(b=f,f=n),b!==n&&(b=ao(b),b=b===b?b:0),f!==n&&(f=ao(f),f=f===f?f:0),Do(ao(c),f,b)}function LM(c,f,b){return f=is(f),b===n?(b=f,f=0):b=is(b),c=ao(c),_p(c,f,b)}function RM(c,f,b){if(b&&typeof b!="boolean"&&Bt(c,f,b)&&(f=b=n),b===n&&(typeof f=="boolean"?(b=f,f=n):typeof c=="boolean"&&(b=c,c=n)),c===n&&f===n?(c=0,f=1):(c=is(c),f===n?(f=c,c=0):f=is(f)),c>f){var M=c;c=f,f=M}if(b||c%1||f%1){var P=Zl();return tr(c+P*(f-c+hf("1e-"+((P+"").length-1))),f)}return nc(c,f)}var _M=To(function(c,f,b){return f=f.toLowerCase(),c+(b?Nb(f):f)});function Nb(c){return f0(Wt(c).toLowerCase())}function kb(c){return c=Wt(c),c&&c.replace(Km,wp).replace(ip,"")}function HM(c,f,b){c=Wt(c),f=mn(f);var M=c.length;b=b===n?M:Do(Ct(b),0,M);var P=b;return b-=f.length,b>=0&&c.slice(b,P)==f}function BM(c){return c=Wt(c),c&&ze.test(c)?c.replace(je,bp):c}function YM(c){return c=Wt(c),c&&ra.test(c)?c.replace(yr,"\\$&"):c}var zM=To(function(c,f,b){return c+(b?"-":"")+f.toLowerCase()}),UM=To(function(c,f,b){return c+(b?" ":"")+f.toLowerCase()}),VM=Qf("toLowerCase");function ZM(c,f,b){c=Wt(c),f=Ct(f);var M=f?zi(c):0;if(!f||M>=f)return c;var P=(f-M)/2;return sc(Ko(P),b)+c+sc(Vi(P),b)}function WM(c,f,b){c=Wt(c),f=Ct(f);var M=f?zi(c):0;return f&&M<f?c+sc(f-M,b):c}function $M(c,f,b){c=Wt(c),f=Ct(f);var M=f?zi(c):0;return f&&M<f?sc(f-M,b)+c:c}function qM(c,f,b){return b||f==null?f=0:f&&(f=+f),Np(Wt(c).replace(kl,""),f||0)}function GM(c,f,b){return(b?Bt(c,f,b):f===n)?f=1:f=Ct(f),qs(Wt(c),f)}function JM(){var c=arguments,f=Wt(c[0]);return c.length<3?f:f.replace(c[1],c[2])}var KM=To(function(c,f,b){return c+(b?"_":"")+f.toLowerCase()});function QM(c,f,b){return b&&typeof b!="number"&&Bt(c,f,b)&&(f=b=n),b=b===n?$:b>>>0,b?(c=Wt(c),c&&(typeof f=="string"||f!=null&&!c0(f))&&(f=mn(f),!f&&Os(c))?Io(Ur(c),0,b):c.split(f,b)):[]}var XM=To(function(c,f,b){return c+(b?" ":"")+f0(f)});function e3(c,f,b){return c=Wt(c),b=b==null?0:Do(Ct(b),0,c.length),f=mn(f),c.slice(b,b+f.length)==f}function t3(c,f,b){var M=B.templateSettings;b&&Bt(c,f,b)&&(f=n),c=Wt(c),f=Ig({},f,M,th);var P=Ig({},f.imports,M.imports,th),Y=fr(P),K=_l(P,Y),ne,le,Me=0,Ne=f.interpolate||zc,Pe="__p += '",Ve=Hl((f.escape||zc).source+"|"+Ne.source+"|"+(Ne===On?Ri:zc).source+"|"+(f.evaluate||zc).source+"|$","g"),ot="//# sourceURL="+(jt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Cy+"]")+`
`;c.replace(Ve,function(vt,Mt,Ft,Ra,Kr,_a){return Ft||(Ft=Ra),Pe+=c.slice(Me,_a).replace(by,Dp),Mt&&(ne=!0,Pe+=`' +
__e(`+Mt+`) +
'`),Kr&&(le=!0,Pe+=`';
`+Kr+`;
__p += '`),Ft&&(Pe+=`' +
((__t = (`+Ft+`)) == null ? '' : __t) +
'`),Me=_a+vt.length,vt}),Pe+=`';
`;var gt=jt.call(f,"variable")&&f.variable;if(!gt)Pe=`with (obj) {
`+Pe+`
}
`;else if(Uo.test(gt))throw new bt(u);Pe=(le?Pe.replace(Z,""):Pe).replace(re,"$1").replace(pe,"$1;"),Pe="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pe+`return __p
}`;var xt=Ob(function(){return Pt(Y,ot+"return "+Pe).apply(n,K)});if(xt.source=Pe,l0(xt))throw xt;return xt}function n3(c){return Wt(c).toLowerCase()}function r3(c){return Wt(c).toUpperCase()}function a3(c,f,b){if(c=Wt(c),c&&(b||f===n))return gp(c);if(!c||!(f=mn(f)))return c;var M=Ur(c),P=Ur(f),Y=vp(M,P),K=Ef(M,P)+1;return Io(M,Y,K).join("")}function o3(c,f,b){if(c=Wt(c),c&&(b||f===n))return c.slice(0,ou(c)+1);if(!c||!(f=mn(f)))return c;var M=Ur(c),P=Ef(M,Ur(f))+1;return Io(M,0,P).join("")}function i3(c,f,b){if(c=Wt(c),c&&(b||f===n))return c.replace(kl,"");if(!c||!(f=mn(f)))return c;var M=Ur(c),P=vp(M,Ur(f));return Io(M,P).join("")}function s3(c,f){var b=z,M=q;if(bn(f)){var P="separator"in f?f.separator:P;b="length"in f?Ct(f.length):b,M="omission"in f?mn(f.omission):M}c=Wt(c);var Y=c.length;if(Os(c)){var K=Ur(c);Y=K.length}if(b>=Y)return c;var ne=b-zi(M);if(ne<1)return M;var le=K?Io(K,0,ne).join(""):c.slice(0,ne);if(P===n)return le+M;if(K&&(ne+=le.length-ne),c0(P)){if(c.slice(ne).search(P)){var Me,Ne=le;for(P.global||(P=Hl(P.source,Wt(of.exec(P))+"g")),P.lastIndex=0;Me=P.exec(Ne);)var Pe=Me.index;le=le.slice(0,Pe===n?ne:Pe)}}else if(c.indexOf(mn(P),ne)!=ne){var Ve=le.lastIndexOf(P);Ve>-1&&(le=le.slice(0,Ve))}return le+M}function l3(c){return c=Wt(c),c&&Ye.test(c)?c.replace(xe,Sp):c}var c3=To(function(c,f,b){return c+(b?" ":"")+f.toUpperCase()}),f0=Qf("toUpperCase");function Ab(c,f,b){return c=Wt(c),f=b?n:f,f===n?Py(c)?_y(c):Ay(c):c.match(f)||[]}var Ob=It(function(c,f){try{return br(c,n,f)}catch(b){return l0(b)?b:new bt(b)}}),u3=no(function(c,f){return er(f,function(b){b=Pa(b),Qa(c,b,Fe(c[b],c))}),c});function d3(c){var f=c==null?0:c.length,b=ct();return c=f?qt(c,function(M){if(typeof M[1]!="function")throw new oa(s);return[b(M[0]),M[1]]}):[],It(function(M){for(var P=-1;++P<f;){var Y=c[P];if(br(Y[0],this,M))return br(Y[1],this,M)}})}function f3(c){return Lp(Pr(c,g))}function h0(c){return function(){return c}}function h3(c,f){return c==null||c!==c?f:c}var m3=es(),p3=es(!0);function pa(c){return c}function m0(c){return Xl(typeof c=="function"?c:Pr(c,g))}function g3(c){return Ws(Pr(c,g))}function v3(c,f){return Oa(c,Pr(f,g))}var y3=It(function(c,f){return function(b){return ii(b,c,f)}}),w3=It(function(c,f){return function(b){return ii(c,b,f)}});function p0(c,f,b){var M=fr(f),P=Sr(f,M);b==null&&!(bn(f)&&(P.length||!M.length))&&(b=f,f=c,c=this,P=Sr(f,fr(f)));var Y=!(bn(b)&&"chain"in b)||!!b.chain,K=os(c);return er(P,function(ne){var le=f[ne];c[ne]=le,K&&(c.prototype[ne]=function(){var Me=this.__chain__;if(Y||Me){var Ne=c(this.__wrapped__),Pe=Ne.__actions__=Ir(this.__actions__);return Pe.push({func:le,args:arguments,thisArg:c}),Ne.__chain__=Me,Ne}return le.apply(c,Go([this.value()],arguments))})}),c}function b3(){return sn._===this&&(sn._=Ep),this}function g0(){}function D3(c){return c=Ct(c),It(function(f){return ci(f,c)})}var S3=Yu(qt),I3=Yu(vf),T3=Yu(bf);function Fb(c){return ih(c)?Sf(Pa(c)):zf(c)}function E3(c){return function(f){return c==null?n:Wr(c,f)}}var C3=Xf(),x3=Xf(!0);function v0(){return[]}function y0(){return!1}function M3(){return{}}function N3(){return""}function k3(){return!0}function A3(c,f){if(c=Ct(c),c<1||c>se)return[];var b=$,M=tr(c,$);f=ct(f),c-=$;for(var P=Tf(M,f);++b<c;)f(b);return P}function O3(c){return Tt(c)?qt(c,Pa):La(c)?[c]:Ir(ig(Wt(c)))}function F3(c){var f=++js;return Wt(c)+f}var P3=Bu(function(c,f){return c+f},0),j3=lr("ceil"),L3=Bu(function(c,f){return c/f},1),R3=lr("floor");function _3(c){return c&&c.length?Ji(c,pa,ka):n}function H3(c,f){return c&&c.length?Ji(c,ct(f,2),ka):n}function B3(c){return mp(c,pa)}function Y3(c,f){return mp(c,ct(f,2))}function z3(c){return c&&c.length?Ji(c,pa,si):n}function U3(c,f){return c&&c.length?Ji(c,ct(f,2),si):n}var V3=Bu(function(c,f){return c*f},1),Z3=lr("round"),W3=Bu(function(c,f){return c-f},0);function $3(c){return c&&c.length?If(c,pa):0}function q3(c,f){return c&&c.length?If(c,ct(f,2)):0}return B.after=G,B.ary=te,B.assign=rM,B.assignIn=Tb,B.assignInWith=Ig,B.assignWith=aM,B.at=oM,B.before=ye,B.bind=Fe,B.bindAll=u3,B.bindKey=Le,B.castArray=Mx,B.chain=Jr,B.chunk=$y,B.compact=Gu,B.concat=dh,B.cond=d3,B.conforms=f3,B.constant=h0,B.countBy=r0,B.create=iM,B.curry=Oe,B.curryRight=Ge,B.debounce=tt,B.defaults=sM,B.defaultsDeep=lM,B.defer=nt,B.delay=wn,B.difference=fa,B.differenceBy=Ot,B.differenceWith=Un,B.drop=Cn,B.dropRight=Gn,B.dropRightWhile=Gr,B.dropWhile=al,B.fill=_n,B.filter=yg,B.flatMap=wg,B.flatMapDeep=Eh,B.flatMapDepth=a0,B.flatten=mc,B.flattenDeep=fh,B.flattenDepth=pc,B.flip=ue,B.flow=m3,B.flowRight=p3,B.fromPairs=jr,B.functions=pM,B.functionsIn=gM,B.groupBy=ld,B.initial=xo,B.intersection=Ku,B.intersectionBy=hh,B.intersectionWith=mi,B.invert=yM,B.invertBy=wM,B.invokeMap=cd,B.iteratee=m0,B.keyBy=bg,B.keys=fr,B.keysIn=ma,B.map=ud,B.mapKeys=DM,B.mapValues=SM,B.matches=g3,B.matchesProperty=v3,B.memoize=ae,B.merge=IM,B.mergeWith=Eb,B.method=y3,B.methodOf=w3,B.mixin=p0,B.negate=de,B.nthArg=D3,B.omit=TM,B.omitBy=EM,B.once=He,B.orderBy=dd,B.over=S3,B.overArgs=at,B.overEvery=I3,B.overSome=T3,B.partial=ut,B.partialRight=dt,B.partition=o0,B.pick=CM,B.pickBy=Cb,B.property=Fb,B.propertyOf=E3,B.pull=mh,B.pullAll=vc,B.pullAllBy=ed,B.pullAllWith=Er,B.pullAt=pi,B.range=C3,B.rangeRight=x3,B.rearg=yt,B.reject=fd,B.remove=ja,B.rest=Vn,B.reverse=dr,B.sampleSize=l,B.set=MM,B.setWith=NM,B.shuffle=h,B.slice=lg,B.sortBy=x,B.sortedUniq=ts,B.sortedUniqBy=yh,B.split=QM,B.spread=Lt,B.tail=ns,B.take=ug,B.takeRight=dg,B.takeRightWhile=wh,B.takeWhile=td,B.tap=Dh,B.throttle=wi,B.thru=nd,B.toArray=Db,B.toPairs=xb,B.toPairsIn=Mb,B.toPath=O3,B.toPlainObject=Ib,B.transform=kM,B.unary=s0,B.union=Gy,B.unionBy=Jy,B.unionWith=fg,B.uniq=hg,B.uniqBy=rs,B.uniqWith=Ky,B.unset=AM,B.unzip=vi,B.unzipWith=bh,B.update=OM,B.updateWith=FM,B.values=md,B.valuesIn=PM,B.without=pn,B.words=Ab,B.wrap=xx,B.xor=Qy,B.xorBy=mg,B.xorWith=Xy,B.zip=e0,B.zipObject=pg,B.zipObjectDeep=gg,B.zipWith=t0,B.entries=xb,B.entriesIn=Mb,B.extend=Tb,B.extendWith=Ig,p0(B,B),B.add=P3,B.attempt=Ob,B.camelCase=_M,B.capitalize=Nb,B.ceil=j3,B.clamp=jM,B.clone=Nx,B.cloneDeep=Ax,B.cloneDeepWith=Ox,B.cloneWith=kx,B.conformsTo=Fx,B.deburr=kb,B.defaultTo=h3,B.divide=L3,B.endsWith=HM,B.eq=Mo,B.escape=BM,B.escapeRegExp=YM,B.every=vg,B.find=od,B.findIndex=ol,B.findKey=cM,B.findLast=id,B.findLastIndex=hi,B.findLastKey=uM,B.floor=R3,B.forEach=Ch,B.forEachRight=sd,B.forIn=dM,B.forInRight=fM,B.forOwn=hM,B.forOwnRight=mM,B.get=u0,B.gt=Px,B.gte=jx,B.has=vM,B.hasIn=d0,B.head=Ju,B.identity=pa,B.includes=xh,B.indexOf=il,B.inRange=LM,B.invoke=bM,B.isArguments=wc,B.isArray=Tt,B.isArrayBuffer=Lx,B.isArrayLike=ha,B.isArrayLikeObject=Bn,B.isBoolean=Rx,B.isBuffer=sl,B.isDate=_x,B.isElement=Hx,B.isEmpty=Bx,B.isEqual=Yx,B.isEqualWith=zx,B.isError=l0,B.isFinite=Ux,B.isFunction=os,B.isInteger=vb,B.isLength=Dg,B.isMap=yb,B.isMatch=Vx,B.isMatchWith=Zx,B.isNaN=Wx,B.isNative=$x,B.isNil=Gx,B.isNull=qx,B.isNumber=wb,B.isObject=bn,B.isObjectLike=xn,B.isPlainObject=Mh,B.isRegExp=c0,B.isSafeInteger=Jx,B.isSet=bb,B.isString=Sg,B.isSymbol=La,B.isTypedArray=hd,B.isUndefined=Kx,B.isWeakMap=Qx,B.isWeakSet=Xx,B.join=Qu,B.kebabCase=zM,B.last=Hn,B.lastIndexOf=Xu,B.lowerCase=UM,B.lowerFirst=VM,B.lt=eM,B.lte=tM,B.max=_3,B.maxBy=H3,B.mean=B3,B.meanBy=Y3,B.min=z3,B.minBy=U3,B.stubArray=v0,B.stubFalse=y0,B.stubObject=M3,B.stubString=N3,B.stubTrue=k3,B.multiply=V3,B.nth=gc,B.noConflict=b3,B.noop=g0,B.now=R,B.pad=ZM,B.padEnd=WM,B.padStart=$M,B.parseInt=qM,B.random=RM,B.reduce=yc,B.reduceRight=i0,B.repeat=GM,B.replace=JM,B.result=xM,B.round=Z3,B.runInContext=oe,B.sample=i,B.size=v,B.snakeCase=KM,B.some=I,B.sortedIndex=ph,B.sortedIndexBy=gh,B.sortedIndexOf=qy,B.sortedLastIndex=gi,B.sortedLastIndexBy=cg,B.sortedLastIndexOf=vh,B.startCase=XM,B.startsWith=e3,B.subtract=W3,B.sum=$3,B.sumBy=q3,B.template=t3,B.times=A3,B.toFinite=is,B.toInteger=Ct,B.toLength=Sb,B.toLower=n3,B.toNumber=ao,B.toSafeInteger=nM,B.toString=Wt,B.toUpper=r3,B.trim=a3,B.trimEnd=o3,B.trimStart=i3,B.truncate=s3,B.unescape=l3,B.uniqueId=F3,B.upperCase=c3,B.upperFirst=f0,B.each=Ch,B.eachRight=sd,B.first=Ju,p0(B,function(){var c={};return ca(B,function(f,b){jt.call(B.prototype,b)||(c[b]=f)}),c}(),{chain:!1}),B.VERSION=r,er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){B[c].placeholder=B}),er(["drop","take"],function(c,f){St.prototype[c]=function(b){b=b===n?1:En(Ct(b),0);var M=this.__filtered__&&!f?new St(this):this.clone();return M.__filtered__?M.__takeCount__=tr(b,M.__takeCount__):M.__views__.push({size:tr(b,$),type:c+(M.__dir__<0?"Right":"")}),M},St.prototype[c+"Right"]=function(b){return this.reverse()[c](b).reverse()}}),er(["filter","map","takeWhile"],function(c,f){var b=f+1,M=b==fe||b==he;St.prototype[c]=function(P){var Y=this.clone();return Y.__iteratees__.push({iteratee:ct(P,3),type:b}),Y.__filtered__=Y.__filtered__||M,Y}}),er(["head","last"],function(c,f){var b="take"+(f?"Right":"");St.prototype[c]=function(){return this[b](1).value()[0]}}),er(["initial","tail"],function(c,f){var b="drop"+(f?"":"Right");St.prototype[c]=function(){return this.__filtered__?new St(this):this[b](1)}}),St.prototype.compact=function(){return this.filter(pa)},St.prototype.find=function(c){return this.filter(c).head()},St.prototype.findLast=function(c){return this.reverse().find(c)},St.prototype.invokeMap=It(function(c,f){return typeof c=="function"?new St(this):this.map(function(b){return ii(b,c,f)})}),St.prototype.reject=function(c){return this.filter(de(ct(c)))},St.prototype.slice=function(c,f){c=Ct(c);var b=this;return b.__filtered__&&(c>0||f<0)?new St(b):(c<0?b=b.takeRight(-c):c&&(b=b.drop(c)),f!==n&&(f=Ct(f),b=f<0?b.dropRight(-f):b.take(f-c)),b)},St.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},St.prototype.toArray=function(){return this.take($)},ca(St.prototype,function(c,f){var b=/^(?:filter|find|map|reject)|While$/.test(f),M=/^(?:head|last)$/.test(f),P=B[M?"take"+(f=="last"?"Right":""):f],Y=M||/^find/.test(f);P&&(B.prototype[f]=function(){var K=this.__wrapped__,ne=M?[1]:arguments,le=K instanceof St,Me=ne[0],Ne=le||Tt(K),Pe=function(Mt){var Ft=P.apply(B,Go([Mt],ne));return M&&Ve?Ft[0]:Ft};Ne&&b&&typeof Me=="function"&&Me.length!=1&&(le=Ne=!1);var Ve=this.__chain__,ot=!!this.__actions__.length,gt=Y&&!Ve,xt=le&&!ot;if(!Y&&Ne){K=xt?K:new St(this);var vt=c.apply(K,ne);return vt.__actions__.push({func:nd,args:[Pe],thisArg:n}),new nr(vt,Ve)}return gt&&xt?c.apply(this,ne):(vt=this.thru(Pe),gt?M?vt.value()[0]:vt.value():vt)})}),er(["pop","push","shift","sort","splice","unshift"],function(c){var f=vo[c],b=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",M=/^(?:pop|shift)$/.test(c);B.prototype[c]=function(){var P=arguments;if(M&&!this.__chain__){var Y=this.value();return f.apply(Tt(Y)?Y:[],P)}return this[b](function(K){return f.apply(Tt(K)?K:[],P)})}}),ca(St.prototype,function(c,f){var b=B[f];if(b){var M=b.name+"";jt.call(Hs,M)||(Hs[M]=[]),Hs[M].push({name:f,func:b})}}),Hs[Xs(n,A).name]=[{name:"wrapper",func:n}],St.prototype.clone=gu,St.prototype.reverse=Of,St.prototype.value=zs,B.prototype.at=yi,B.prototype.chain=rd,B.prototype.commit=as,B.prototype.next=ad,B.prototype.plant=Ih,B.prototype.reverse=n0,B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=Th,B.prototype.first=B.prototype.head,wo&&(B.prototype[wo]=Sh),B},Fs=Hy();Wa?((Wa.exports=Fs)._=Fs,Rl._=Fs):sn._=Fs}).call(Jn)})(iv,iv.exports);var CI=iv.exports;function Tg(e){const t=e.match(/^#+/);return t?t[0].length:0}function MN(e,t){const n=e.split(`
`);let r="",a=[],o=!1,s=1;for(let u=0;u<n.length;u++){const d=n[u];if(d.startsWith("#")&&/^#{1,6}\s/g.test(d)){if(o&&Tg(d)<=Tg(t))break;r=d,r===t?(o=!0,s=u+1):o&&Tg(d)>Tg(t)?a.push(d):(o=!1,a=[])}else o&&a.push(d)}return t?CI.isEmpty(a)?{content:"",startLine:-1}:{content:a.join(`
`),startLine:s}:{content:e,startLine:0}}function NN(e){const t=e.split(/\r?\n/),n=[];for(let r=0;r<t.length;r++)new RegExp(hN).test(t[r])&&n.push({line:t[r],index:r+1});return n}async function kN(e,t){let n=t.vault.getAbstractFileByPath(e);return n||(new E.Notice(k("File not found for the given thino path, is creating a new file")),n=await t.vault.create(e,'{"nodes": [], "edges": []}'),Qe.setChangedByMemos(!0)),n}async function AN(e,t){let n;try{n=await t.vault.read(e)}catch(a){console.error(a),n=await t.vault.cachedRead(e)}const r=n.split(/---\n/);return r.length<3?n:r[2].trim()}function ON(e){const t=e.split(/\r?\n/),n=[];let r="",a=[],o=0;for(let s=0;s<t.length;s++){const u=t[s];u.startsWith("#")?(r&&n.push({header:r,content:a.join(`
`).trim(),pos:{start:o,end:s-1}}),r=u,a=[],o=s):a.push(u)}return r&&n.push({header:r,content:a.join(`
`).trim(),pos:{start:o,end:t.length-1}}),n}function FN(e){const t=e.split(/\r?\n/),n=[];let r=!1,a=[],o="";for(let s=0;s<t.length;s++){const u=t[s];u.startsWith("> [!thino]")?(r&&(n.push({metadata:o,content:a.join(`
`).trim()}),a=[]),r=!0,o=u.replace("> [!thino]","").trim()):r&&u.startsWith(">")?a.push(u.replace(/^> /,"")):r&&!u.startsWith(">")&&(r=!1,n.push({metadata:o,content:a.join(`
`).trim()}),a=[],o="")}return r&&n.push({metadata:o,content:a.join(`
`).trim()}),n}const PN=e=>{let t;switch(e){case" ":t="TASK-TODO";break;case"x":case"X":t="TASK-DONE";break;default:t="TASK-"+e;break}return t};async function jN(e,t){if(!t)return 0;const{vault:n}=Ee.getState().dailyNotesState.app,r=e==null?void 0:e.DefaultMemoComposition,a=(e==null?void 0:e.ProcessEntriesBelow)||"";let o;try{o=await n.read(t)}catch(g){console.error(g),o=await n.cachedRead(t)}let s;r!=""&&/{TIME}/g.test(r)&&/{CONTENT}/g.test(r)?s="(-|\\*) (\\[(.{1})\\]\\s)?"+r.replace(/{TIME}/g,"((\\<time\\>)?\\d{1,2}:\\d{2}(\\:\\d{2})?)?").replace(/ {CONTENT}/g,""):s="(-|\\*) (\\[(.{1})\\]\\s)?((\\<time\\>)?\\d{1,2}\\:\\d{2}(\\:\\d{2})?)?";const u=new RegExp(s,"g"),d=(o.match(u)||[]).length,m=new RegExp(a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g"),p=(o.match(m)||[]).length;return o=null,p?d:0}function LN(e){return e.replace(/^(-|\*|\d\.) (\d{1,2}:\d{2}(:\d{2})?)\s(.*)$/g,"$4")}function RN(e,t){return _N(e,t)}const _N=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?((\\d{1,2})\\:(\\d{2}))?(\\<\\/time\\>)?").replace(/{CONTENT}/g,"(.*)$"):n="^\\s*[\\-\\*]\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?((\\d{1,2})\\:(\\d{2}))?(\\<\\/time\\>)?\\s?(.*)$",(a=new RegExp(n,"").exec(t))==null?void 0:a[8]},HN=(e,t)=>{var a;let n;e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)$"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)$";const r=new RegExp(n,"");return t.includes("42:22"),(a=r.exec(t))==null?void 0:a[6]},BN=(e,t)=>{var a;let n;return e!=""&&/{TIME}/g.test(e)&&/{CONTENT}/g.test(e)?n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?"+e.replace(/{TIME}/g,"(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(\\:\\d{2})?").replace(/{CONTENT}/g,"(.*)$"):n="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\<time\\>)?(\\d{1,2})\\:(\\d{2})(.*)$",(a=new RegExp(n,"").exec(t))==null?void 0:a[7]},YN=e=>{var r;const t="^\\s*(\\-|\\*|(\\d{1,}\\.))\\s(\\[(.{1})\\]\\s?)?(\\d{1,2})\\:(\\d{2})\\:(\\d{2})(.*)$";return(r=new RegExp(t,"").exec(e))==null?void 0:r[7]},zN=e=>{var t;return(t=/^\s*[\-\*]\s(\[(.{1})\])\s(.*)$/.exec(e))==null?void 0:t[2]},xI=()=>yI()?!0:(new E.Notice(k("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),!1);async function MI(e,t){if(!e)return t;const n=Ee.getState().dailyNotesState.app,r=await AN(e,n);if(!r.trim())return t;let a=E.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss");await n.fileManager.processFrontMatter(e,o=>{if(!o)return t;const s=!!o.pinned,u=o.rowStatus&&o.rowStatus==="ARCHIVED",d=!!o.deletedAt;o.createdAt&&(a=E.moment(o.createdAt,"YYYY/MM/DD HH:mm:ss").isValid()?o.createdAt:a);const m=o.deletedAt?o.deletedAt:"",p=o.visibility?o.visibility:"PRIVATE",g=o.thinoType?o.thinoType:"JOURNAL",w=o.webId?o.webId:"";o.id||(o.id=Re.randomId(16));const D=o.id?o.id:"",S=o.hasId?o.hasId:"",T=o.linkId?o.linkId:"",C=e.path,A="Memo",N="MULTI",L=[];return t.push({id:D,content:r,createdAt:a,updatedAt:a,deletedAt:d?E.moment(m,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:s,rowStatus:u?"ARCHIVED":"NORMAL",visibility:p,thinoType:g,hasId:S,linkId:T,path:C,creatorName:A,sourceType:N,resourceList:L,webId:w}),t})}async function pw(e,t){var D,S,T,C,A,N;if(!e)return t;const{vault:n}=Ee.getState().dailyNotesState.app;let r;try{r=await n.read(e)}catch(L){console.error(L),r=await n.cachedRead(e)}if(!r)return;const a=E.moment(e.stat.ctime).format("YYYY/MM/DD HH:mm:ss"),o=E.moment(e.stat.mtime).format("YYYY/MM/DD HH:mm:ss"),s=e.path,u="Thino",d="FILE",m="",p="",g=[],w=await ON(r);for(const L of w){const F=FN(L.content);for(const H of F){const j=H.metadata.match(/\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}:\d{2}/g);if(!j)continue;const _=(S=(D=H.metadata.match(/id::([^\]]*)/g))==null?void 0:D[0])==null?void 0:S.replace("id::","");if(!_)continue;const V=j?j[0]:a,U=j?j[0]:o,z=H.metadata.match(/webId::([^\]]*)/g)?(C=(T=H.metadata.match(/webId::([^\]]*)/g))==null?void 0:T[0])==null?void 0:C.replace("webId::",""):"",q=H.metadata.contains("[pinned::true]"),ee=H.metadata.contains("[archived::true]"),ce=H.metadata.contains("[deleted::"),fe=(A=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(H.metadata))==null?void 0:A[2],ie=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(H.metadata)?"PUBLIC":"PRIVATE",he=(N=new RegExp(/\[(thinoType|THINOTYPE)::([^\]]*)\]/,"g").exec(H.metadata))==null?void 0:N[2];t.push({id:_,content:H.content,createdAt:V,updatedAt:U,deletedAt:ce?E.moment(fe,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",pinned:q,rowStatus:ee?"ARCHIVED":"NORMAL",visibility:ie,thinoType:he||"JOURNAL",hasId:m,linkId:p,path:s,creatorName:u,sourceType:d,resourceList:g,webId:z})}}return t}async function gw(e,t){var g,w,D;if(!e)return[];const n=Ee.getState().dailyNotesState.settings,{vault:r}=Ee.getState().dailyNotesState.app;if(await jN(n,e)===0)return;const o=Zh(e,"day");let s,u;try{u=await r.read(e)}catch(S){console.error(S),u=await r.cachedRead(e)}const{content:d,startLine:m}=MN(u,n.ProcessEntriesBelow),p=NN(d);for(const S of p){const T=HN(n.DefaultMemoComposition,S.line),C=BN(n.DefaultMemoComposition,S.line),A=YN(S.line);let N=LN(S.line);if(o.hours(parseInt(T)),o.minutes(parseInt(C)),A&&o.seconds(parseInt(A)),!A&&o.seconds(0),/^\s*[-*]\s(\[(.)\])\s/g.test(S.line)){const q=zN(S.line);N=RN(n.DefaultMemoComposition,S.line),s=PN(q)}else s="JOURNAL";let L=N.replaceAll(/<br>/g,`
`);const F=new RegExp(/\[(pinned|PINNED)::true\]/,"g").test(N),H=new RegExp(/\[(archived|ARCHIVED)::true\]/,"g").test(N),j=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").test(N),_=(g=new RegExp(/\[(deleted|DELETED)::([^\]]*)\]/,"g").exec(N))==null?void 0:g[2],V=(w=new RegExp(/\[(webId|WEBID)::([^\]]*)\]/,"g").exec(N))==null?void 0:w[2],U=new RegExp(/\[(visibility|VISIBILITY)::("PROTECT"|"PUBLIC")\]/,"g").test(N)?"PUBLIC":"PRIVATE",z=(D=new RegExp(/\s\^([0-9a-zA-Z-]+)$/).exec(N))==null?void 0:D[1];L=L.replace(/\s\[pinned::[^\]]+\]/g,"").replace(/\s\[visibility::[^\]]+\]/g,"").replace(/\s\[archived::[^\]]+\]/g,"").replace(/\s\[deleted::[^\]]+\]/g,"").replace(/\s\[webId::[^\]]+\]/g,"").replace(/\s\^([0-9a-zA-Z-]+)$/g,""),t.push({id:o.format("YYYYMMDDHHmmss")+`${S.index+m-1}`,content:L,createdAt:o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:o.format("YYYY/MM/DD HH:mm:ss"),thinoType:s,hasId:z||"",linkId:"",path:e.path,deletedAt:j?E.moment(_,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",rowStatus:H?"ARCHIVED":"NORMAL",visibility:U,pinned:F,creatorName:"Memo",resourceList:[],sourceType:"DAILY",webId:V})}}async function vw(e,t){const{app:n}=Ee.getState().dailyNotesState;if(!(e instanceof E.TFile))return;let r;try{r=await n.vault.read(e)}catch(s){console.error(s),r=await n.vault.cachedRead(e)}if(!r)return;const a=JSON.parse(r),o=a==null?void 0:a.nodes;for(const s of o){if(s.type==="group"||s.createdAt===void 0||s.text.trim()==="")continue;const u=E.moment(s==null?void 0:s.createdAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),d=E.moment(s==null?void 0:s.updatedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"),m=s!=null&&s.deletedAt?E.moment(s==null?void 0:s.deletedAt,"YYYYMMDDHHmmss").format("YYYY/MM/DD HH:mm:SS"):"",p=!!(s!=null&&s.pinned),g=s!=null&&s.archived?"ARCHIVED":"NORMAL",w=s!=null&&s.visibility?s==null?void 0:s.visibility:"PRIVATE",D=s!=null&&s.thinoType?s==null?void 0:s.thinoType:"JOURNAL",S=s!=null&&s.text?s==null?void 0:s.text:"",T=s!=null&&s.id?s==null?void 0:s.id:"",C=s!=null&&s.hasId?s==null?void 0:s.hasId:"",A=s!=null&&s.linkId?s==null?void 0:s.linkId:"",N=e.path,L="Memo",F="CANVAS",H=[],j=s!=null&&s.webId?s==null?void 0:s.webId:void 0;t.push({id:T,content:S,createdAt:u,updatedAt:d,deletedAt:m,pinned:p,rowStatus:g,visibility:w,thinoType:D,hasId:C,linkId:A,path:N,creatorName:L,sourceType:F,resourceList:H,webId:j})}}async function Yb(e=[]){const t=[],n=[],r=Ee.getState().dailyNotesState.app,{vault:a}=r,{settings:o}=Ee.getState().dailyNotesState,s=r.loadLocalStorage("tokenForSync"),u=async(d,m)=>{for(const p of d)try{await m(p,t)}catch(g){console.error(g),new E.Notice(g)}};if(e.includes("CANVAS")){const d=UN(a);await u(d,vw)}if(e.includes("MULTI")){const d=VN(a,o);await u(d,MI)}if(e.includes("DAILY")){const d=await ZN(a);await u(d,gw)}if(e.includes("FILE")||s){const d=WN(a);await u(d,pw)}return{memos:t,commentMemos:n}}function UN(e){return e.getAllLoadedFiles().filter(t=>t instanceof E.TFile&&t.extension==="canvas"&&t.name.includes(".thino"))}function VN(e,t){return e.getMarkdownFiles().filter(n=>{var r;return n instanceof E.TFile&&((r=n.parent)==null?void 0:r.path.includes(t.MemoOtherSaveLocation.MemoDefaultMultiFilePath.trim()))})}async function ZN(e){const t=SI();t===void 0&&new E.Notice(k("Please check your daily note plugin OR periodic notes plugin settings")+"folder path is empty or undefined"),e.getAbstractFileByPath(E.normalizePath(t))||new E.Notice(k("Failed to find daily notes folder"));const r=Oi();return Object.values(r).filter(a=>a instanceof E.TFile&&a.extension==="md")}function WN(e){return e.getMarkdownFiles().filter(t=>t instanceof E.TFile&&t.name.trim().includes("thino"))}const $N=async(e,t,n)=>{const r=await Bd(Ee.getState().dailyNotesState.app)||[],a=r.find(u=>u.id===e),o={...a,title:t,querystring:n},s=r.findIndex(u=>u.id===e);return r[s]=o,await Sm(Ee.getState().dailyNotesState.app,r),[a]};function qN(e){return(e==null?void 0:e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))||e}function GN(e){const t=[];let n=e;for(;n.contains(`
`);){const r=n.indexOf(`
`);t.push(n.slice(0,r)),n=n.slice(r+1)}return t.push(n),t}async function JN({content:e,isList:t}){const n=Ee.getState().dailyNotesState.settings,r=E.moment(),a=Re.randomId(16),o=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",s=`${o}/${r.format("YYYYMMDD")}-${a}.md`,u={id:a,content:e,deletedAt:"",path:s,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"MULTI"},d=rt.getState().app,{vault:m,fileManager:p}=d,g=m.getAbstractFileByPath(o);(!g||!(g instanceof E.TFolder))&&(new E.Notice(k("Folder not found for the given thino path, is creating a new folder")),await m.createFolder(o)),Qe.setChangedByMemos(!0);const w=await m.create(s,e);return await p.processFrontMatter(w,D=>{D.id=a,D.createdAt=r.format("YYYY/MM/DD HH:mm:ss"),D.updatedAt=r.format("YYYY/MM/DD HH:mm:ss"),D.thinoType=t?"JOURNAL":"TASK-TODO",D.pinned=!1,D.visibility="PUBLIC",D.rowStatus="NORMAL"}),u}async function KN({content:e,isList:t}){const n=Ee.getState().dailyNotesState.settings,r=E.moment(),a=Re.randomId(16),o=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",s={id:a,content:e,deletedAt:"",path:o,createdAt:r.format("YYYY/MM/DD HH:mm:ss"),updatedAt:r.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE"},u=rt.getState().app,{vault:d}=u;let m=d.getAbstractFileByPath(o);(!m||!(m instanceof E.TFile))&&(new E.Notice(k("File not found for the given thino path, is creating a new file")),m=await d.create(o,""));let p="";try{p=await d.read(m)||await d.cachedRead(m)}catch(A){console.error(A),new E.Notice(k("Failed to read current daily note, check if it exists."))}const g=p.indexOf(`# ${r.format("YYYY-MM-DD")}`);let w=p.indexOf(`
#`,g+1);w===-1&&(w=p.length);const D=`> [!thino] ${r.format("YYYY/MM/DD HH:mm:ss")} %% [id::${a}] [thinoType::${t?"JOURNAL":"TASK-TODO"}] %%`,S=e.replace(/\n/g,`
> `),T=`
${D}
> ${S}
`;let C;if(g===-1){const A=`# ${r.format("YYYY-MM-DD")}`;C=`${p.substring(0,w)}
${A}${T}
${p.substring(w)}`}else C=`${p.substring(0,w)}${T}${p.substring(w)}`;return setTimeout(async()=>{Qe.setChangedByMemos(!0),await d.modify(m,C)},200),s}async function zb(e){const t=Ee.getState().dailyNotesState.settings,n=E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),r=e.id,a=(t==null?void 0:t.MemoOtherSaveLocation.MemoDefaultSingleFilePath)||"basic.thino.md",o={id:r,content:e.content,deletedAt:e.deletedAt||"",path:a,createdAt:n.format("YYYY/MM/DD HH:mm:ss"),updatedAt:n.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",hasId:"",linkId:"",pinned:e.pinned,visibility:"PUBLIC",rowStatus:e.rowStatus||"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"FILE",webId:e.id},s=rt.getState().app,{vault:u}=s;let d=u.getAbstractFileByPath(a);(!d||!(d instanceof E.TFile))&&(new E.Notice(k("File not found for the given thino path, is creating a new file")),d=await u.create(a,""));let m="";try{m=await u.read(d)||await u.cachedRead(d)}catch(C){console.error(C),new E.Notice(k("Failed to read current daily note, check if it exists."))}const p=m.indexOf(`# ${n.format("YYYY-MM-DD")}`);let g=m.indexOf(`
#`,p+1);g===-1&&(g=m.length);const w=`> [!thino] ${n.format("YYYY/MM/DD HH:mm:ss")} %% [id::${r}] [thinoType::JOURNAL]${e.rowStatus==="ARCHIVED"?" [archived::true]":""}${e.pinned===!0?" [pinned::true]":""}${e.deletedAt?` [deleted::${e.deletedAt}]`:""}${e.id?` [webId::${e.id}]`:""}  %%`,D=e.content.replace(/\n/g,`
> `),S=`
${w}
> ${D}
`;let T;if(p===-1){const C=`# ${n.format("YYYY-MM-DD")}`;T=`${m.substring(0,g)}
${C}${S}
${m.substring(g)}`}else T=`${m.substring(0,g)}${S}${m.substring(g)}`;return Qe.setChangedByMemos(!0),await u.modify(d,T),o}async function QN({content:e,isList:t}){const n=Ee.getState().dailyNotesState.settings,r=(n==null?void 0:n.MemoOtherSaveLocation.MemoDefaultCanvasPath)||"basic.thino.canvas",a=E.moment(),o=Re.randomId(16),s={id:o,content:e,deletedAt:"",path:r,createdAt:a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:a.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"CANVAS"},u=rt.getState().app,{vault:d}=u,m=await kN(r,u);if(!m||!(m instanceof E.TFile)){new E.Notice(k("File not found for the given thino path, is creating a new file"));return}const p=await d.read(m),g=JSON.parse(p);if(g.nodes.find(C=>C.id===s.id))return;let D;g.nodes.length>0&&(D=[...g.nodes].reduce((C,A)=>{if(!C.createdAt)return A;const N=E.moment(C.createdAt,"YYYY/MM/DD HH:mm:ss"),L=E.moment(A.createdAt,"YYYY/MM/DD HH:mm:ss");return N.isAfter(L)?C:A}));const S=D?{x:D.x,y:D.y+100,width:D.width,height:D.height}:{x:0,y:0,width:200,height:100};g.nodes.push({...S,type:"text",id:o,text:e,deletedAt:"",createdAt:a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:a.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[]}),Qe.setChangedByMemos(!0);const T=JSON.stringify(g,null,2);return await d.modify(m,T),s}async function Ub(e,t,n){var N;const{vault:r}=Ee.getState().dailyNotesState.app||app,a=Ee.getState().dailyNotesState.settings,o=e.replace(/\n/g,"<br>"),s=n||E.moment(),u=s.format("HH"),d=s.format("mm"),m=`${u}:${d}`,p=t?"- ":"- [ ] ",g=a!=null&&a.DefaultMemoComposition?`${p}${(N=a==null?void 0:a.DefaultMemoComposition)==null?void 0:N.replace(/{TIME}/g,m).replace(/{CONTENT}/g,o)}`:`${p}${m} ${o}`,w=Oi(),D=Pv(s,w);let S;if(D?S=D:S=await Re.createDailyNoteCheck(s),!S){new E.Notice(k("Failed to create daily note, check if it exists."));return}D||await rt.fechLocalDailyNotes();let T="";try{T=await r.read(S)||await r.cachedRead(S)}catch(L){console.error(L),new E.Notice(k("Failed to read current daily note, check if it exists."))}const C=await NI(a==null?void 0:a.InsertAfter,g,T);n?await r.modify(S,C.content):setTimeout(async()=>{await r.modify(S,C.content)},200);const A=C.posNum===-1?kI(C.content).length-1:C.posNum+1;return Qe.setChangedByMemos(!0),{id:s.format("YYYYMMDDHHmm")+"00"+A,content:e,deletedAt:"",createdAt:s.format("YYYY/MM/DD HH:mm:ss"),updatedAt:s.format("YYYY/MM/DD HH:mm:ss"),thinoType:t?"JOURNAL":"TASK-TODO",path:S.path,hasId:"",linkId:"",pinned:!1,visibility:"PUBLIC",rowStatus:"NORMAL",creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function XN(e){const{vault:t}=Ee.getState().dailyNotesState.app??app,{DefaultMemoComposition:n,InsertAfter:r}=Ee.getState().dailyNotesState.settings;let a=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PRIVATE"?' [visibility::"PRIVATE"]':"");if(e.id){const L=" [webId::"+e.id+"]";a+=L}const o=E.moment();if(e.deletedAt){const L=" [deleted::"+o.format("YYYYMMDDHHmmss")+"]";a+=L}const s=e.content.replace(/\n/g,"<br>")+a,u=E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),d=u.format("HH"),m=u.format("mm"),p=`${d}:${m}`,g=e.thinoType?"- [ ] ":"- ",w=n?`${g}${n==null?void 0:n.replace(/{TIME}/g,p).replace(/{CONTENT}/g,s)}`:`${g}${p} ${s}`,D=Oi(),S=Pv(u,D);let T;if(S?T=S:T=await Re.createDailyNoteCheck(u),!T){new E.Notice(k("Failed to create daily note, check if it exists."));return}S||await rt.fechLocalDailyNotes();let C="";try{C=await t.read(T)||await t.cachedRead(T)}catch(L){console.error(L),new E.Notice(k("Failed to read current daily note, check if it exists."))}const A=await NI(r,w,C);await t.modify(T,A.content);const N=A.posNum===-1?kI(A.content).length-1:A.posNum+1;return Qe.setChangedByMemos(!0),{id:u.format("YYYYMMDDHHmm")+"00"+N,content:e.content,deletedAt:e.deletedAt??"",createdAt:u.format("YYYY/MM/DD HH:mm:ss"),updatedAt:u.format("YYYY/MM/DD HH:mm:ss"),thinoType:e.thinoType??"JOURNAL",path:T.path,hasId:"",linkId:"",pinned:e.pinned??!1,visibility:"PUBLIC",rowStatus:e.rowStatus??"NORMAL",webId:e.id,creatorName:"Thino",resourceList:[],sourceType:"DAILY"}}async function NI(e,t,n){const r=new RegExp(`s*${await qN(e)}s*`),a=GN(n),o=a.findIndex(m=>r.test(m)),s=(e==null?void 0:e.trim())===""?!0:o===-1;s&&console.error("unable to find insert after line in file.");const u=a.slice(o+1).findIndex(m=>/^#+ |---/.test(m)),d=u!==-1;if(d){let m;for(let p=u+o;p>o;p--)if(!/^[\s\n ]*$/.test(a[p])){m=p;break}return m||(m=o),await Vb(t,n,s?-1:m,d)}else return await Vb(t,n,a.length-1,d)}async function Vb(e,t,n,r){if(n<-1)throw new Error("Invalid position");if(n===-1)return{content:`${t}
${e}`,posNum:-1};const a=t.split(`
`),o=a.slice(0,n+1).join(`
`),s=a.slice(n+1).join(`
`),u=s.trim().length>0;return{content:`${o}${!u&&!r||!o.endsWith(`
`)?`
`:""}${e}${(u||r?`
`:"")+s}`,posNum:n}}const kI=e=>e.split(/\r?\n/);async function ek(e){const t=Ee.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof E.TFile)){new E.Notice(k("File not found for the given thino path"));return}await t.vault.delete(n)}async function tk(e){const t=Ee.getState().dailyNotesState.app,n=t.vault.getAbstractFileByPath(e.path);if(!(n instanceof E.TFile)){new E.Notice(k("File not found for the given thino path"));return}const a=(await t.vault.read(n)).split(`
`),o=a.findIndex(d=>d.includes(e.id));if(o===-1){new E.Notice(k("Thino not found"));return}const s=a.findIndex((d,m)=>m>o&&d.trim()==="");s===-1?a.splice(o,a.length-o):a.splice(o,s-o);const u=a.join(`
`);if(!u){new E.Notice(k("Thino not found"));return}Qe.setChangedByMemos(!0),await t.vault.modify(n,u)}async function nk(e){const t=Ee.getState().dailyNotesState.app,n=t.metadataCache.getFirstLinkpathDest("",e.path);if(!n){new E.Notice(k("File not found for the given thino path"));return}const r=await t.vault.read(n),a=JSON.parse(r),o=a.nodes,s=o.findIndex(p=>p.id===e.id);if(s===-1){new E.Notice(k("Thino not found"));return}o.splice(s,1);const u=a.edges;u.filter(p=>p.fromNode===e.id||p.toNode===e.id).forEach(p=>{const g=u.findIndex(w=>w.id===p.id);g!==-1&&u.splice(g,1)}),Qe.setChangedByMemos(!0);const m=JSON.stringify(a,null,2);await t.vault.modify(n,m)}async function rk(e){xI()||new E.Notice(k("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."),5e3);const{vault:t}=Ee.getState().dailyNotesState.app,n=e.id.toString().slice(0,14),r=E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(E.moment(n,"YYYYMMDDHHmmss"))?E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):E.moment(n,"YYYYMMDDHHmmss"),a=E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(r,"day"),o=e.path,s=t.getAbstractFileByPath(o);if(!s){new E.Notice(k("Please check your daily note plugin OR periodic notes plugin settings"));return}const u=await t.read(s),d=u.split(`
`),m=a?E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14),p=d.findIndex(S=>S.includes(e.content.replace(/\n/g,"<br>").trim())&&S.includes(m)),g=parseInt(e.id.slice(14));let w=p;p===-1&&(w=g-1);const D=d[p]||d[g-1];if(!u){new E.Notice(k("Thino not found"));return}if(D===d[w]){Qe.setChangedByMemos(!0),d.splice(w,1),await t.modify(s,d.join(`
`));return}}async function ak(){const{vault:e,metadataCache:t}=Ee.getState().dailyNotesState.app,n=Ee.getState().dailyNotesState.settings,a=SI()+"/"+n.DeleteFileName+".md",o=[],s=t.getFirstLinkpathDest("",a);if(s instanceof E.TFile){let u=await e.read(s),d=ok(u);if(d.length===0)return o;for(let m=0;m<d.length;m++){const p=d[m];if(/- /.test(p)){const w=ik(p).slice(0,13),D=E.moment(w,"YYYYMMDDHHmmss"),S=lk(d[m]),T=E.moment(S.slice(0,13),"YYYYMMDDHHmmss"),C=sk(d[m]);o.push({id:S,content:C,user_id:1,createdAt:D.format("YYYY/MM/DD HH:mm:SS"),updatedAt:D.format("YYYY/MM/DD HH:mm:SS"),deletedAt:T})}else continue}d=null,u=null}return o}const ok=e=>e.split(/\r?\n/),ik=e=>{var t;return(t=/^- (\d{14})(\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[1]},sk=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[2]},lk=e=>{var t;return(t=/^- (\d+)\s(.+)\s(deletedAt: )(.+)$/.exec(e))==null?void 0:t[4]};async function ck(e){const t=await Bd(Ee.getState().dailyNotesState.app)||[],n=t.findIndex(r=>r.id===e);t.splice(n,1),await Sm(Ee.getState().dailyNotesState.app,t)}const uk=async e=>{const{app:t}=Ee.getState().dailyNotesState,n=await Bd(t)||[],r=n.find(a=>a.id===e);if(r){const a=E.moment().format("YYYY/MM/DD HH:mm:ss");return r.pinnedAt=a,await Sm(t,n),a}else{new E.Notice(k("Query not found"));return}},dk=async e=>{const{app:t}=Ee.getState().dailyNotesState,n=await Bd(t)||[],r=n.find(a=>a.id===e);if(r){r.pinnedAt="",await Sm(t,n);return}else{new E.Notice(k("Query not found"));return}};function fk(e,t){const n=/%%(.*?)%%/,r=e.match(n);if(!r)return e;const a=r[1].trim(),o={};a.split(" ").forEach(u=>{const[d,m]=u.slice(1,-1).split("::");o[d]=m});for(const u of Object.keys(t))if(u!=="id"&&u!=="content"){if(u==="rowStatus"&&t.rowStatus==="ARCHIVED"){o.archived="true";continue}else if(u==="rowStatus"&&t.rowStatus==="NORMAL"){delete o.archived;continue}if(u==="deleted"&&t.deleted){const d=E.moment().format("YYYYMMDDHHmmss");o.deleted=d}else typeof t[u]=="boolean"?t[u]?o[u]="true":delete o[u]:t[u]&&(o[u]=t[u])}const s=Object.entries(o).map(([u,d])=>`[${u}::${d}]`).join(" ");return e.replace(n,`%% ${s} %%`)}async function Po(e,t){if(!e.sourceType||e.sourceType!=="MULTI")return e;const{vault:n,fileManager:r}=Ee.getState().dailyNotesState.app,a=n.getAbstractFileByPath(e.path);if(!a)return e;const o=E.moment();if(await r.processFrontMatter(a,s=>{(t.pinned||t.thinoType||t.rowStatus||t.visibility||t.deleted)&&Qe.setChangedByMemos(!0),t.id&&(s.id=t.id),t.thinoType&&(s.thinoType=t.thinoType),t.rowStatus&&(s.rowStatus=t.rowStatus),t.visibility&&(s.visibility=t.visibility),t.webId&&(s.webId=t.webId),t.pinned!==void 0&&(s.pinned=t.pinned),t.deleted!==void 0&&(s.deletedAt=t.deleted?o.format("YYYY/MM/DD HH:mm:ss"):""),s.createdAt||(s.createdAt=o.format("YYYY/MM/DD HH:mm:ss")),s.updatedAt=o.format("YYYY/MM/DD HH:mm:ss")}),t.content){const s=await n.read(a);let u=s;const d=t.content.replace(/\$/g,"$$$$");u=s.replace(e.content,d),await n.modify(a,u)}return Qe.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||o.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned||e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?o.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function Si(e,t){if(!e.sourceType||e.sourceType!=="FILE")return e;const{vault:n}=Ee.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const a=E.moment();let o="";try{o=await n.read(r)}catch(A){console.error(A),o=await n.cachedRead(r)}const s=o.split(/\r?\n/),u=s.findIndex(A=>A.includes(e.id)||e.webId&&A.includes(e.webId)),d=s[u];if(!d)return e;const m=fk(d,t);if(!d)return e;const p=m+`
`,g=s.findIndex((A,N)=>N>u&&A.trim()==="");let w="";g===-1&&(w=s.slice(u+1).join(`
`)),g!==-1&&(w=s.slice(u+1,g).join(`
`));let D=w;t!=null&&t.content&&(D=t.content.split(/\r?\n/).map(F=>"> "+F).join(`
`));const T=(p+D).split(/\r?\n/);s.splice(u,g?g-u:s.length-u,...T);const C=s.join(`
`);return await n.modify(r,C),Qe.setChangedByMemos(!0),{...e,id:t.id||e.id,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt||a.format("YYYY/MM/DD HH:mm:ss"),updatedAt:e.updatedAt,content:t.content||e.content,rowStatus:t.rowStatus||e.rowStatus,visibility:t.visibility||e.visibility,pinned:t.pinned||e.pinned,webId:t.webId||e.webId,deletedAt:t.deleted?a.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function Ii(e,t){if(!e.sourceType||e.sourceType!=="CANVAS")return e;const{vault:n}=Ee.getState().dailyNotesState.app,r=n.getAbstractFileByPath(e.path);if(!r)return e;const a=await n.read(r),o=JSON.parse(a),s=o.nodes.find(m=>m.id===e.id);if(!s)return e;t.content&&(s.text=t.content),t.thinoType&&(s.thinoType=t.thinoType),t.rowStatus&&(s.rowStatus=t.rowStatus),t.visibility&&(s.visibility=t.visibility),t.pinned!==void 0&&(s.pinned=t.pinned),t.webId&&(s.webId=t.webId);const u=E.moment();t.deleted!==void 0&&(s.deletedAt=t.deleted?u.format("YYYY/MM/DD HH:mm:ss"):""),s.updatedAt=u.format("YYYY/MM/DD HH:mm:ss");const d=JSON.stringify(o,null,2);return await n.modify(r,d),Qe.setChangedByMemos(!0),{...e,thinoType:t.thinoType||e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?u.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}}async function Ti(e,t){xI()||new E.Notice(k("If you are disabling the daily note plugin, it would be possible that the thino will not be deleted or patched properly. Please enable the plugin and try again."));const{vault:n}=Ee.getState().dailyNotesState.app,r=e.id.toString().slice(0,14),a=E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(E.moment(r,"YYYYMMDDHHmmss"))?E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"):E.moment(r,"YYYYMMDDHHmmss"),o=E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").isSame(a,"day"),s=e.path,u=n.getAbstractFileByPath(s)||n.getAbstractFileByPath(e.path);if(!u)return new E.Notice(k("Please check your daily note plugin OR periodic notes plugin settings")),e;const m=(await n.read(u)).split(`
`),p=o?E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm"):(parseInt(e.id.toString().slice(10,12))+24).toString()+":"+e.id.toString().slice(12,14);let g,w,D;try{g=m.findIndex(A=>{const N=A.replace(/^(-|\*|\d\.|-\s\[.?\])\s\d{2}:\d{2}/,"").trim(),L=e.content.replace(/\n/g,"<br>").trim(),F=A.includes(p),H=N.includes(L);return F&&(H||N===L)}),D=!1,w=parseInt(e.id.slice(14))}catch(A){console.error(A)}let S=g!==-1&&g===w?g:w;g===-1&&(S=w,m[w-1]&&(D=!0));let T=m[w]||m[g];if(T=T.replace(/\s\^([0-9a-zA-Z-]+)$/g,""),!T)return new E.Notice(k("Thino not found")),e;if(t.content)if(D){const A=e.thinoType==="TASK-TODO"?"- [ ] ":e.thinoType==="TASK-DONE"?"- [x] ":e.thinoType.startsWith("TASK")?`- [${e.thinoType.slice(5)}] `:"- ",N=(e.pinned?" [pinned::true]":"")+(e.rowStatus==="ARCHIVED"?" [archived::true]":"")+(e.visibility==="PUBLIC"?' [visibility::"PUBLIC"]':"");T=`${A}${p} ${t.content.trim()} ${N}`}else{const A=/^(((-|\*)|(\d\.)|(-\s\[.?\]))\s\d{2}:\d{2})/.exec(T)[1];T=T.replace(/^(((-|\*)|(\d\.)|(-\s\[.?\]))\s\d{2}:\d{2})/,"").replace(e.content.trim().replace(/\n/g,"<br>"),t.content.trim().replace(/\n/g,"<br>")).trim(),T=A+" "+T}if(t.thinoType){const A=t.thinoType==="TASK-TODO"?"- [ ] ":t.thinoType==="TASK-DONE"?"- [x] ":t.thinoType.startsWith("TASK")?`- [${t.thinoType.slice(5)}] `:"- ";T=T.replace(/^((- \[.\] )|((-|\*) ))/,A)}if(t.rowStatus){const A=t.rowStatus==="ARCHIVED"?"[archived::"+(t.rowStatus==="ARCHIVED"?"true":"false")+"]":"";T=T.includes("[archived::")?T.replace(/\[archived::(true|false)\]/,A):T+" "+A}if(t.visibility){const A='[visibility::"'+t.visibility+'"]';T=T.includes("[visibility::")?T.replace(/\[visibility::"(PUBLIC|PROTECTED)"\]/g,A):T+" "+A}if(t.pinned!==void 0){const A=t.pinned?"[pinned::"+(t.pinned?"true":"false")+"]":"";T=T.includes("[pinned::")?T.replace(/\[pinned::(true|false)\]/,t.pinned===!1?"":A):T+" "+A}if(t.webId!==void 0){const A="[webId::"+t.webId+"]";T=T.includes("[webId::")?T.replace(/\[webId::([^\]]+)\]/,t.webId===""?"":A):T+" "+A}const C=E.moment();if(t.deleted!==void 0){const A="[deleted::"+C.format("YYYYMMDDHHmmss")+"]";t.deleted?(T=T.replace(/\[deleted::([^\]]+)\]/,""),T=T+" "+A):t.deleted===!1&&(T=T.replace(/\[deleted::([^\]]+)\]/,""))}if(e.hasId){const A=" ^"+e.hasId;T=T.replace(/\s\^([0-9a-zA-Z-]+)$/g,"")+A}return T!==m[S]?(m.splice(S,1,T),await n.modify(u,m.join(`
`)),Qe.setChangedByMemos(!0),{...e,thinoType:t.thinoType??e.thinoType,createdAt:e.createdAt,updatedAt:e.updatedAt,content:t.content??e.content,rowStatus:t.rowStatus??e.rowStatus,visibility:t.visibility??e.visibility,pinned:t.pinned??e.pinned,webId:t.webId??e.webId,deletedAt:t.deleted?C.format("YYYY/MM/DD HH:mm:ss"):t.deleted===!1?"":e.deletedAt?e.deletedAt:""}):e}const hk=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return Ii(e,{id:e.id,pinned:!0});case"DAILY":return Ti(e,{id:e.id,pinned:!0});case"MULTI":return Po(e,{id:e.id,pinned:!0});case"FILE":return Si(e,{id:e.id,pinned:!0})}},mk=e=>{switch(e==null?void 0:e.sourceType){case"CANVAS":return Ii(e,{id:e.id,pinned:!1});case"DAILY":return Ti(e,{id:e.id,pinned:!1});case"MULTI":return Po(e,{id:e.id,pinned:!1});case"FILE":return Si(e,{id:e.id,pinned:!1})}};var yw;(e=>{async function t(T){return await Yb(T)}e.getMyMemos=t;async function n(T){return await Yb([T])}e.updateSpecificTypeMemo=n;function r(){return ak()}e.getMyDeletedMemos=r;function a(T){const C=Te.getMemoById(T);if(C)switch(C==null?void 0:C.sourceType){case"DAILY":return Ti(C,{id:C.id,deleted:!1});case"CANVAS":return Ii(C,{id:C.id,deleted:!1});case"MULTI":return Po(C,{id:C.id,deleted:!1});case"FILE":return Si(C,{id:C.id,deleted:!1})}}e.restoreMemo=a;function o(T){return tk(T)}e.deleteMemoInSingleFile=o;function s(T){return ek(T)}e.deleteMemoInMultiFiles=s;function u(T){return rk(T)}e.deleteMemoInDailyNote=u;function d(T){return nk(T)}e.deleteMemoInCanvas=d;function m(){return EN()}e.getMyQueries=m;async function p(T,C){return await xN(T,C)}e.createQuery=p;function g(T,C,A){return $N(T,C,A)}e.updateQuery=g;function w(T){return ck(T)}e.deleteQueryById=w;function D(T){return uk(T)}e.pinQuery=D;function S(T){return dk(T)}e.unpinQuery=S})(yw||(yw={}));const va=yw;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});class Hc extends Error{}class pk extends Hc{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class gk extends Hc{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class vk extends Hc{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Yh extends Hc{}class AI extends Hc{constructor(t){super(`Invalid unit ${t}`)}}class io extends Hc{}class ll extends Hc{constructor(){super("Zone is an abstract class")}}const Ze="numeric",Ro="short",Ya="long",sv={year:Ze,month:Ze,day:Ze},OI={year:Ze,month:Ro,day:Ze},yk={year:Ze,month:Ro,day:Ze,weekday:Ro},FI={year:Ze,month:Ya,day:Ze},PI={year:Ze,month:Ya,day:Ze,weekday:Ya},jI={hour:Ze,minute:Ze},LI={hour:Ze,minute:Ze,second:Ze},RI={hour:Ze,minute:Ze,second:Ze,timeZoneName:Ro},_I={hour:Ze,minute:Ze,second:Ze,timeZoneName:Ya},HI={hour:Ze,minute:Ze,hourCycle:"h23"},BI={hour:Ze,minute:Ze,second:Ze,hourCycle:"h23"},YI={hour:Ze,minute:Ze,second:Ze,hourCycle:"h23",timeZoneName:Ro},zI={hour:Ze,minute:Ze,second:Ze,hourCycle:"h23",timeZoneName:Ya},UI={year:Ze,month:Ze,day:Ze,hour:Ze,minute:Ze},VI={year:Ze,month:Ze,day:Ze,hour:Ze,minute:Ze,second:Ze},ZI={year:Ze,month:Ro,day:Ze,hour:Ze,minute:Ze},WI={year:Ze,month:Ro,day:Ze,hour:Ze,minute:Ze,second:Ze},wk={year:Ze,month:Ro,day:Ze,weekday:Ro,hour:Ze,minute:Ze},$I={year:Ze,month:Ya,day:Ze,hour:Ze,minute:Ze,timeZoneName:Ro},qI={year:Ze,month:Ya,day:Ze,hour:Ze,minute:Ze,second:Ze,timeZoneName:Ro},GI={year:Ze,month:Ya,day:Ze,weekday:Ya,hour:Ze,minute:Ze,timeZoneName:Ya},JI={year:Ze,month:Ya,day:Ze,weekday:Ya,hour:Ze,minute:Ze,second:Ze,timeZoneName:Ya};class Im{get type(){throw new ll}get name(){throw new ll}get ianaName(){return this.name}get isUniversal(){throw new ll}offsetName(t,n){throw new ll}formatOffset(t,n){throw new ll}offset(t){throw new ll}equals(t){throw new ll}get isValid(){throw new ll}}let D0=null;class jv extends Im{static get instance(){return D0===null&&(D0=new jv),D0}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return QI(t,n,r)}formatOffset(t,n){return $h(this.offset(t),n)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let qg={};function bk(e){return qg[e]||(qg[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),qg[e]}const Dk={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Sk(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,a,o,s,u,d,m,p]=r;return[s,a,o,u,d,m,p]}function Ik(e,t){const n=e.formatToParts(t),r=[];for(let a=0;a<n.length;a++){const{type:o,value:s}=n[a],u=Dk[o];o==="era"?r[u]=s:Rt(u)||(r[u]=parseInt(s,10))}return r}let Eg={};class hs extends Im{static create(t){return Eg[t]||(Eg[t]=new hs(t)),Eg[t]}static resetCache(){Eg={},qg={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=hs.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:n,locale:r}){return QI(t,n,r,this.name)}formatOffset(t,n){return $h(this.offset(t),n)}offset(t){const n=new Date(t);if(isNaN(n))return NaN;const r=bk(this.name);let[a,o,s,u,d,m,p]=r.formatToParts?Ik(r,n):Sk(r,n);u==="BC"&&(a=-Math.abs(a)+1);const w=o1({year:a,month:o,day:s,hour:d===24?0:d,minute:m,second:p,millisecond:0});let D=+n;const S=D%1e3;return D-=S>=0?S:1e3+S,(w-D)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Zb={};function Tk(e,t={}){const n=JSON.stringify([e,t]);let r=Zb[n];return r||(r=new Intl.ListFormat(e,t),Zb[n]=r),r}let ww={};function bw(e,t={}){const n=JSON.stringify([e,t]);let r=ww[n];return r||(r=new Intl.DateTimeFormat(e,t),ww[n]=r),r}let Dw={};function Ek(e,t={}){const n=JSON.stringify([e,t]);let r=Dw[n];return r||(r=new Intl.NumberFormat(e,t),Dw[n]=r),r}let Sw={};function Ck(e,t={}){const{base:n,...r}=t,a=JSON.stringify([e,r]);let o=Sw[a];return o||(o=new Intl.RelativeTimeFormat(e,t),Sw[a]=o),o}let zh=null;function xk(){return zh||(zh=new Intl.DateTimeFormat().resolvedOptions().locale,zh)}function Mk(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(n===-1)return[e];{let r,a;try{r=bw(e).resolvedOptions(),a=e}catch{const d=e.substring(0,n);r=bw(d).resolvedOptions(),a=d}const{numberingSystem:o,calendar:s}=r;return[a,o,s]}}function Nk(e,t,n){return(n||t)&&(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`)),e}function kk(e){const t=[];for(let n=1;n<=12;n++){const r=st.utc(2016,n,1);t.push(e(r))}return t}function Ak(e){const t=[];for(let n=1;n<=7;n++){const r=st.utc(2016,11,13+n);t.push(e(r))}return t}function Cg(e,t,n,r,a){const o=e.listingMode(n);return o==="error"?null:o==="en"?r(t):a(t)}function Ok(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class Fk{constructor(t,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:a,floor:o,...s}=r;if(!n||Object.keys(s).length>0){const u={useGrouping:!1,...r};r.padTo>0&&(u.minimumIntegerDigits=r.padTo),this.inf=Ek(t,u)}}format(t){if(this.inf){const n=this.floor?Math.floor(t):t;return this.inf.format(n)}else{const n=this.floor?Math.floor(t):a1(t,3);return Wn(n,this.padTo)}}}class Pk{constructor(t,n,r){this.opts=r;let a;if(t.zone.isUniversal){const s=-1*(t.offset/60),u=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;t.offset!==0&&hs.create(u).valid?(a=u,this.dt=t):(a="UTC",r.timeZoneName?this.dt=t:this.dt=t.offset===0?t:st.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,a=t.zone.name);const o={...this.opts};o.timeZone=o.timeZone||a,this.dtf=bw(n,o)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class jk{constructor(t,n,r){this.opts={style:"long",...r},!n&&KI()&&(this.rtf=Ck(t,r))}format(t,n){return this.rtf?this.rtf.format(t,n):Qk(n,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,n){return this.rtf?this.rtf.formatToParts(t,n):[]}}class hn{static fromOpts(t){return hn.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,n,r,a=!1){const o=t||Zn.defaultLocale,s=o||(a?"en-US":xk()),u=n||Zn.defaultNumberingSystem,d=r||Zn.defaultOutputCalendar;return new hn(s,u,d,o)}static resetCache(){zh=null,ww={},Dw={},Sw={}}static fromObject({locale:t,numberingSystem:n,outputCalendar:r}={}){return hn.create(t,n,r)}constructor(t,n,r,a){const[o,s,u]=Mk(t);this.locale=o,this.numberingSystem=n||s||null,this.outputCalendar=r||u||null,this.intl=Nk(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ok(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&n?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:hn.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,n=!1,r=!0){return Cg(this,t,r,tT,()=>{const a=n?{month:t,day:"numeric"}:{month:t},o=n?"format":"standalone";return this.monthsCache[o][t]||(this.monthsCache[o][t]=kk(s=>this.extract(s,a,"month"))),this.monthsCache[o][t]})}weekdays(t,n=!1,r=!0){return Cg(this,t,r,aT,()=>{const a=n?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},o=n?"format":"standalone";return this.weekdaysCache[o][t]||(this.weekdaysCache[o][t]=Ak(s=>this.extract(s,a,"weekday"))),this.weekdaysCache[o][t]})}meridiems(t=!0){return Cg(this,void 0,t,()=>oT,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[st.utc(2016,11,13,9),st.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(t,n=!0){return Cg(this,t,n,iT,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[st.utc(-40,1,1),st.utc(2017,1,1)].map(a=>this.extract(a,r,"era"))),this.eraCache[t]})}extract(t,n,r){const a=this.dtFormatter(t,n),o=a.formatToParts(),s=o.find(u=>u.type.toLowerCase()===r);return s?s.value:null}numberFormatter(t={}){return new Fk(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,n={}){return new Pk(t,this.intl,n)}relFormatter(t={}){return new jk(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Tk(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let S0=null;class Xr extends Im{static get utcInstance(){return S0===null&&(S0=new Xr(0)),S0}static instance(t){return t===0?Xr.utcInstance:new Xr(t)}static parseSpecifier(t){if(t){const n=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Xr(Rv(n[1],n[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${$h(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${$h(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,n){return $h(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Lk extends Im{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function gl(e,t){if(Rt(e)||e===null)return t;if(e instanceof Im)return e;if(Rk(e)){const n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?jv.instance:n==="utc"||n==="gmt"?Xr.utcInstance:Xr.parseSpecifier(n)||hs.create(e)}else return xc(e)?Xr.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new Lk(e)}let Wb=()=>Date.now(),$b="system",qb=null,Gb=null,Jb=null,Kb=60,Qb;class Zn{static get now(){return Wb}static set now(t){Wb=t}static set defaultZone(t){$b=t}static get defaultZone(){return gl($b,jv.instance)}static get defaultLocale(){return qb}static set defaultLocale(t){qb=t}static get defaultNumberingSystem(){return Gb}static set defaultNumberingSystem(t){Gb=t}static get defaultOutputCalendar(){return Jb}static set defaultOutputCalendar(t){Jb=t}static get twoDigitCutoffYear(){return Kb}static set twoDigitCutoffYear(t){Kb=t%100}static get throwOnInvalid(){return Qb}static set throwOnInvalid(t){Qb=t}static resetCaches(){hn.resetCache(),hs.resetCache()}}function Rt(e){return typeof e>"u"}function xc(e){return typeof e=="number"}function Lv(e){return typeof e=="number"&&e%1===0}function Rk(e){return typeof e=="string"}function _k(e){return Object.prototype.toString.call(e)==="[object Date]"}function KI(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Hk(e){return Array.isArray(e)?e:[e]}function Xb(e,t,n){if(e.length!==0)return e.reduce((r,a)=>{const o=[t(a),a];return r&&n(r[0],o[0])===r[0]?r:o},null)[1]}function Bk(e,t){return t.reduce((n,r)=>(n[r]=e[r],n),{})}function Nd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fs(e,t,n){return Lv(e)&&e>=t&&e<=n}function Yk(e,t){return e-t*Math.floor(e/t)}function Wn(e,t=2){const n=e<0;let r;return n?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function pl(e){if(!(Rt(e)||e===null||e===""))return parseInt(e,10)}function bc(e){if(!(Rt(e)||e===null||e===""))return parseFloat(e)}function r1(e){if(!(Rt(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function a1(e,t,n=!1){const r=10**t;return(n?Math.trunc:Math.round)(e*r)/r}function Tm(e){return e%4===0&&(e%100!==0||e%400===0)}function Wh(e){return Tm(e)?366:365}function lv(e,t){const n=Yk(t-1,12)+1,r=e+(t-n)/12;return n===2?Tm(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function o1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function cv(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return t===4||r===3?53:52}function Iw(e){return e>99?e:e>Zn.twoDigitCutoffYear?1900+e:2e3+e}function QI(e,t,n,r=null){const a=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const s={timeZoneName:t,...o},u=new Intl.DateTimeFormat(n,s).formatToParts(a).find(d=>d.type.toLowerCase()==="timezonename");return u?u.value:null}function Rv(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0,a=n<0||Object.is(n,-0)?-r:r;return n*60+a}function XI(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new io(`Invalid unit value ${e}`);return t}function uv(e,t){const n={};for(const r in e)if(Nd(e,r)){const a=e[r];if(a==null)continue;n[t(r)]=XI(a)}return n}function $h(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),a=e>=0?"+":"-";switch(t){case"short":return`${a}${Wn(n,2)}:${Wn(r,2)}`;case"narrow":return`${a}${n}${r>0?`:${r}`:""}`;case"techie":return`${a}${Wn(n,2)}${Wn(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function _v(e){return Bk(e,["hour","minute","second","millisecond"])}const zk=["January","February","March","April","May","June","July","August","September","October","November","December"],eT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Uk=["J","F","M","A","M","J","J","A","S","O","N","D"];function tT(e){switch(e){case"narrow":return[...Uk];case"short":return[...eT];case"long":return[...zk];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const nT=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],rT=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Vk=["M","T","W","T","F","S","S"];function aT(e){switch(e){case"narrow":return[...Vk];case"short":return[...rT];case"long":return[...nT];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const oT=["AM","PM"],Zk=["Before Christ","Anno Domini"],Wk=["BC","AD"],$k=["B","A"];function iT(e){switch(e){case"narrow":return[...$k];case"short":return[...Wk];case"long":return[...Zk];default:return null}}function qk(e){return oT[e.hour<12?0:1]}function Gk(e,t){return aT(t)[e.weekday-1]}function Jk(e,t){return tT(t)[e.month-1]}function Kk(e,t){return iT(t)[e.year<0?0:1]}function Qk(e,t,n="always",r=!1){const a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(n==="auto"&&o){const g=e==="days";switch(t){case 1:return g?"tomorrow":`next ${a[e][0]}`;case-1:return g?"yesterday":`last ${a[e][0]}`;case 0:return g?"today":`this ${a[e][0]}`}}const s=Object.is(t,-0)||t<0,u=Math.abs(t),d=u===1,m=a[e],p=r?d?m[1]:m[2]||m[1]:d?a[e][0]:e;return s?`${u} ${p} ago`:`in ${u} ${p}`}function eD(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const Xk={D:sv,DD:OI,DDD:FI,DDDD:PI,t:jI,tt:LI,ttt:RI,tttt:_I,T:HI,TT:BI,TTT:YI,TTTT:zI,f:UI,ff:ZI,fff:$I,ffff:GI,F:VI,FF:WI,FFF:qI,FFFF:JI};class Yr{static create(t,n={}){return new Yr(t,n)}static parseFormat(t){let n=null,r="",a=!1;const o=[];for(let s=0;s<t.length;s++){const u=t.charAt(s);u==="'"?(r.length>0&&o.push({literal:a,val:r}),n=null,r="",a=!a):a||u===n?r+=u:(r.length>0&&o.push({literal:!1,val:r}),r=u,n=u)}return r.length>0&&o.push({literal:a,val:r}),o}static macroTokenToFormatOpts(t){return Xk[t]}constructor(t,n){this.opts=n,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTime(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).format()}formatDateTimeParts(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).formatToParts()}formatInterval(t,n={}){return this.loc.dtFormatter(t.start,{...this.opts,...n}).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,n={}){return this.loc.dtFormatter(t,{...this.opts,...n}).resolvedOptions()}num(t,n=0){if(this.opts.forceSimple)return Wn(t,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,n){const r=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(D,S)=>this.loc.extract(t,D,S),s=D=>t.isOffsetFixed&&t.offset===0&&D.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,D.format):"",u=()=>r?qk(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(D,S)=>r?Jk(t,D):o(S?{month:D}:{month:D,day:"numeric"},"month"),m=(D,S)=>r?Gk(t,D):o(S?{weekday:D}:{weekday:D,month:"long",day:"numeric"},"weekday"),p=D=>{const S=Yr.macroTokenToFormatOpts(D);return S?this.formatWithSystemDefault(t,S):D},g=D=>r?Kk(t,D):o({era:D},"era"),w=D=>{switch(D){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return a?o({day:"numeric"},"day"):this.num(t.day);case"dd":return a?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return a?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return a?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return a?o({month:"numeric"},"month"):this.num(t.month);case"MM":return a?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return a?o({year:"numeric"},"year"):this.num(t.year);case"yy":return a?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return a?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return a?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return p(D)}};return eD(Yr.parseFormat(n),w)}formatDurationFromString(t,n){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=d=>m=>{const p=r(m);return p?this.num(d.get(p),m.length):m},o=Yr.parseFormat(n),s=o.reduce((d,{literal:m,val:p})=>m?d:d.concat(p),[]),u=t.shiftTo(...s.map(r).filter(d=>d));return eD(o,a(u))}}class jo{constructor(t,n){this.reason=t,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const sT=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Yd(...e){const t=e.reduce((n,r)=>n+r.source,"");return RegExp(`^${t}$`)}function zd(...e){return t=>e.reduce(([n,r,a],o)=>{const[s,u,d]=o(t,a);return[{...n,...s},u||r,d]},[{},null,1]).slice(0,2)}function Ud(e,...t){if(e==null)return[null,null];for(const[n,r]of t){const a=n.exec(e);if(a)return r(a)}return[null,null]}function lT(...e){return(t,n)=>{const r={};let a;for(a=0;a<e.length;a++)r[e[a]]=pl(t[n+a]);return[r,null,n+a]}}const cT=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,e6=`(?:${cT.source}?(?:\\[(${sT.source})\\])?)?`,i1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,uT=RegExp(`${i1.source}${e6}`),s1=RegExp(`(?:T${uT.source})?`),t6=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,n6=/(\d{4})-?W(\d\d)(?:-?(\d))?/,r6=/(\d{4})-?(\d{3})/,a6=lT("weekYear","weekNumber","weekDay"),o6=lT("year","ordinal"),i6=/(\d{4})-(\d\d)-(\d\d)/,dT=RegExp(`${i1.source} ?(?:${cT.source}|(${sT.source}))?`),s6=RegExp(`(?: ${dT.source})?`);function Ed(e,t,n){const r=e[t];return Rt(r)?n:pl(r)}function l6(e,t){return[{year:Ed(e,t),month:Ed(e,t+1,1),day:Ed(e,t+2,1)},null,t+3]}function Vd(e,t){return[{hours:Ed(e,t,0),minutes:Ed(e,t+1,0),seconds:Ed(e,t+2,0),milliseconds:r1(e[t+3])},null,t+4]}function Em(e,t){const n=!e[t]&&!e[t+1],r=Rv(e[t+1],e[t+2]),a=n?null:Xr.instance(r);return[{},a,t+3]}function Cm(e,t){const n=e[t]?hs.create(e[t]):null;return[{},n,t+1]}const c6=RegExp(`^T?${i1.source}$`),u6=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function d6(e){const[t,n,r,a,o,s,u,d,m]=e,p=t[0]==="-",g=d&&d[0]==="-",w=(D,S=!1)=>D!==void 0&&(S||D&&p)?-D:D;return[{years:w(bc(n)),months:w(bc(r)),weeks:w(bc(a)),days:w(bc(o)),hours:w(bc(s)),minutes:w(bc(u)),seconds:w(bc(d),d==="-0"),milliseconds:w(r1(m),g)}]}const f6={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function l1(e,t,n,r,a,o,s){const u={year:t.length===2?Iw(pl(t)):pl(t),month:eT.indexOf(n)+1,day:pl(r),hour:pl(a),minute:pl(o)};return s&&(u.second=pl(s)),e&&(u.weekday=e.length>3?nT.indexOf(e)+1:rT.indexOf(e)+1),u}const h6=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function m6(e){const[,t,n,r,a,o,s,u,d,m,p,g]=e,w=l1(t,a,r,n,o,s,u);let D;return d?D=f6[d]:m?D=0:D=Rv(p,g),[w,new Xr(D)]}function p6(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const g6=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,v6=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,y6=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function tD(e){const[,t,n,r,a,o,s,u]=e;return[l1(t,a,r,n,o,s,u),Xr.utcInstance]}function w6(e){const[,t,n,r,a,o,s,u]=e;return[l1(t,u,n,r,a,o,s),Xr.utcInstance]}const b6=Yd(t6,s1),D6=Yd(n6,s1),S6=Yd(r6,s1),I6=Yd(uT),fT=zd(l6,Vd,Em,Cm),T6=zd(a6,Vd,Em,Cm),E6=zd(o6,Vd,Em,Cm),C6=zd(Vd,Em,Cm);function x6(e){return Ud(e,[b6,fT],[D6,T6],[S6,E6],[I6,C6])}function M6(e){return Ud(p6(e),[h6,m6])}function N6(e){return Ud(e,[g6,tD],[v6,tD],[y6,w6])}function k6(e){return Ud(e,[u6,d6])}const A6=zd(Vd);function O6(e){return Ud(e,[c6,A6])}const F6=Yd(i6,s6),P6=Yd(dT),j6=zd(Vd,Em,Cm);function L6(e){return Ud(e,[F6,fT],[P6,j6])}const R6="Invalid Duration",hT={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},_6={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...hT},oo=146097/400,pd=146097/4800,H6={years:{quarters:4,months:12,weeks:oo/7,days:oo,hours:oo*24,minutes:oo*24*60,seconds:oo*24*60*60,milliseconds:oo*24*60*60*1e3},quarters:{months:3,weeks:oo/28,days:oo/4,hours:oo*24/4,minutes:oo*24*60/4,seconds:oo*24*60*60/4,milliseconds:oo*24*60*60*1e3/4},months:{weeks:pd/7,days:pd,hours:pd*24,minutes:pd*24*60,seconds:pd*24*60*60,milliseconds:pd*24*60*60*1e3},...hT},Dc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],B6=Dc.slice(0).reverse();function cl(e,t,n=!1){const r={values:n?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new et(r)}function Y6(e){return e<0?Math.floor(e):Math.ceil(e)}function mT(e,t,n,r,a){const o=e[a][n],s=t[n]/o,u=Math.sign(s)===Math.sign(r[a]),d=!u&&r[a]!==0&&Math.abs(s)<=1?Y6(s):Math.trunc(s);r[a]+=d,t[n]-=d*o}function z6(e,t){B6.reduce((n,r)=>Rt(t[r])?n:(n&&mT(e,t,n,t,r),r),null)}function U6(e){const t={};for(const[n,r]of Object.entries(e))r!==0&&(t[n]=r);return t}class et{constructor(t){const n=t.conversionAccuracy==="longterm"||!1;let r=n?H6:_6;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||hn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,n){return et.fromObject({milliseconds:t},n)}static fromObject(t,n={}){if(t==null||typeof t!="object")throw new io(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new et({values:uv(t,et.normalizeUnit),loc:hn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(t){if(xc(t))return et.fromMillis(t);if(et.isDuration(t))return t;if(typeof t=="object")return et.fromObject(t);throw new io(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,n){const[r]=k6(t);return r?et.fromObject(r,n):et.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,n){const[r]=O6(t);return r?et.fromObject(r,n):et.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,n=null){if(!t)throw new io("need to specify a reason the Duration is invalid");const r=t instanceof jo?t:new jo(t,n);if(Zn.throwOnInvalid)throw new vk(r);return new et({invalid:r})}static normalizeUnit(t){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!n)throw new AI(t);return n}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Yr.create(this.loc,r).formatDurationFromString(this,t):R6}toHuman(t={}){const n=Dc.map(r=>{const a=this.values[r];return Rt(a)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(a)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=a1(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let a=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(a+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||r.milliseconds!==0)&&(a+=".SSS"));let o=r.toFormat(a);return t.includePrefix&&(o="T"+o),o}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const n=et.fromDurationLike(t),r={};for(const a of Dc)(Nd(n.values,a)||Nd(this.values,a))&&(r[a]=n.get(a)+this.get(a));return cl(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const n=et.fromDurationLike(t);return this.plus(n.negate())}mapUnits(t){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=XI(t(this.values[r],r));return cl(this,{values:n},!0)}get(t){return this[et.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const n={...this.values,...uv(t,et.normalizeUnit)};return cl(this,{values:n})}reconfigure({locale:t,numberingSystem:n,conversionAccuracy:r,matrix:a}={}){const s={loc:this.loc.clone({locale:t,numberingSystem:n}),matrix:a,conversionAccuracy:r};return cl(this,s)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return z6(this.matrix,t),cl(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=U6(this.normalize().shiftToAll().toObject());return cl(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(s=>et.normalizeUnit(s));const n={},r={},a=this.toObject();let o;for(const s of Dc)if(t.indexOf(s)>=0){o=s;let u=0;for(const m in r)u+=this.matrix[m][s]*r[m],r[m]=0;xc(a[s])&&(u+=a[s]);const d=Math.trunc(u);n[s]=d,r[s]=(u*1e3-d*1e3)/1e3;for(const m in a)Dc.indexOf(m)>Dc.indexOf(s)&&mT(this.matrix,a,m,n,s)}else xc(a[s])&&(r[s]=a[s]);for(const s in r)r[s]!==0&&(n[o]+=s===o?r[s]:r[s]/this.matrix[o][s]);return cl(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=this.values[n]===0?0:-this.values[n];return cl(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function n(r,a){return r===void 0||r===0?a===void 0||a===0:r===a}for(const r of Dc)if(!n(this.values[r],t.values[r]))return!1;return!0}}const gd="Invalid Interval";function V6(e,t){return!e||!e.isValid?Nn.invalid("missing or invalid start"):!t||!t.isValid?Nn.invalid("missing or invalid end"):t<e?Nn.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class Nn{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,n=null){if(!t)throw new io("need to specify a reason the Interval is invalid");const r=t instanceof jo?t:new jo(t,n);if(Zn.throwOnInvalid)throw new gk(r);return new Nn({invalid:r})}static fromDateTimes(t,n){const r=Oh(t),a=Oh(n),o=V6(r,a);return o??new Nn({start:r,end:a})}static after(t,n){const r=et.fromDurationLike(n),a=Oh(t);return Nn.fromDateTimes(a,a.plus(r))}static before(t,n){const r=et.fromDurationLike(n),a=Oh(t);return Nn.fromDateTimes(a.minus(r),a)}static fromISO(t,n){const[r,a]=(t||"").split("/",2);if(r&&a){let o,s;try{o=st.fromISO(r,n),s=o.isValid}catch{s=!1}let u,d;try{u=st.fromISO(a,n),d=u.isValid}catch{d=!1}if(s&&d)return Nn.fromDateTimes(o,u);if(s){const m=et.fromISO(a,n);if(m.isValid)return Nn.after(o,m)}else if(d){const m=et.fromISO(r,n);if(m.isValid)return Nn.before(u,m)}}return Nn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(t),r=this.end.startOf(t);return Math.floor(r.diff(n,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:n}={}){return this.isValid?Nn.fromDateTimes(t||this.s,n||this.e):this}splitAt(...t){if(!this.isValid)return[];const n=t.map(Oh).filter(s=>this.contains(s)).sort(),r=[];let{s:a}=this,o=0;for(;a<this.e;){const s=n[o]||this.e,u=+s>+this.e?this.e:s;r.push(Nn.fromDateTimes(a,u)),a=u,o+=1}return r}splitBy(t){const n=et.fromDurationLike(t);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,a=1,o;const s=[];for(;r<this.e;){const u=this.start.plus(n.mapUnits(d=>d*a));o=+u>+this.e?this.e:u,s.push(Nn.fromDateTimes(r,o)),r=o,a+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const n=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return n>=r?null:Nn.fromDateTimes(n,r)}union(t){if(!this.isValid)return this;const n=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return Nn.fromDateTimes(n,r)}static merge(t){const[n,r]=t.sort((a,o)=>a.s-o.s).reduce(([a,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[a,o.union(s)]:[a.concat([o]),s]:[a,s],[[],null]);return r&&n.push(r),n}static xor(t){let n=null,r=0;const a=[],o=t.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),s=Array.prototype.concat(...o),u=s.sort((d,m)=>d.time-m.time);for(const d of u)r+=d.type==="s"?1:-1,r===1?n=d.time:(n&&+n!=+d.time&&a.push(Nn.fromDateTimes(n,d.time)),n=null);return Nn.merge(a)}difference(...t){return Nn.xor([this].concat(t)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} ‚Äì ${this.e.toISO()})`:gd}toLocaleString(t=sv,n={}){return this.isValid?Yr.create(this.s.loc.clone(n),t).formatInterval(this):gd}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:gd}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:gd}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:gd}toFormat(t,{separator:n=" ‚Äì "}={}){return this.isValid?`${this.s.toFormat(t)}${n}${this.e.toFormat(t)}`:gd}toDuration(t,n){return this.isValid?this.e.diff(this.s,t,n):et.invalid(this.invalidReason)}mapEndpoints(t){return Nn.fromDateTimes(t(this.s),t(this.e))}}class xg{static hasDST(t=Zn.defaultZone){const n=st.now().setZone(t).set({month:12});return!t.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(t){return hs.isValidZone(t)}static normalizeZone(t){return gl(t,Zn.defaultZone)}static months(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null,outputCalendar:o="gregory"}={}){return(a||hn.create(n,r,o)).months(t)}static monthsFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null,outputCalendar:o="gregory"}={}){return(a||hn.create(n,r,o)).months(t,!0)}static weekdays(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null}={}){return(a||hn.create(n,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:n=null,numberingSystem:r=null,locObj:a=null}={}){return(a||hn.create(n,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return hn.create(t).meridiems()}static eras(t="short",{locale:n=null}={}){return hn.create(n,null,"gregory").eras(t)}static features(){return{relative:KI()}}}function nD(e,t){const n=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(et.fromMillis(r).as("days"))}function Z6(e,t,n){const r=[["years",(d,m)=>m.year-d.year],["quarters",(d,m)=>m.quarter-d.quarter+(m.year-d.year)*4],["months",(d,m)=>m.month-d.month+(m.year-d.year)*12],["weeks",(d,m)=>{const p=nD(d,m);return(p-p%7)/7}],["days",nD]],a={},o=e;let s,u;for(const[d,m]of r)n.indexOf(d)>=0&&(s=d,a[d]=m(e,t),u=o.plus(a),u>t?(a[d]--,e=o.plus(a)):e=u);return[e,a,u,s]}function W6(e,t,n,r){let[a,o,s,u]=Z6(e,t,n);const d=t-a,m=n.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);m.length===0&&(s<t&&(s=a.plus({[u]:1})),s!==a&&(o[u]=(o[u]||0)+d/(s-a)));const p=et.fromObject(o,r);return m.length>0?et.fromMillis(d,r).shiftTo(...m).plus(p):p}const c1={arab:"[Ÿ†-Ÿ©]",arabext:"[€∞-€π]",bali:"[·≠ê-·≠ô]",beng:"[‡ß¶-‡ßØ]",deva:"[‡•¶-‡•Ø]",fullwide:"[Ôºê-Ôºô]",gujr:"[‡´¶-‡´Ø]",hanidec:"[„Äá|‰∏Ä|‰∫å|‰∏â|Âõõ|‰∫î|ÂÖ≠|‰∏É|ÂÖ´|‰πù]",khmr:"[·ü†-·ü©]",knda:"[‡≥¶-‡≥Ø]",laoo:"[‡ªê-‡ªô]",limb:"[·•Ü-·•è]",mlym:"[‡µ¶-‡µØ]",mong:"[·†ê-·†ô]",mymr:"[·ÅÄ-·Åâ]",orya:"[‡≠¶-‡≠Ø]",tamldec:"[‡Ø¶-‡ØØ]",telu:"[‡±¶-‡±Ø]",thai:"[‡πê-‡πô]",tibt:"[‡º†-‡º©]",latn:"\\d"},rD={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},$6=c1.hanidec.replace(/[\[|\]]/g,"").split("");function q6(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(e[n].search(c1.hanidec)!==-1)t+=$6.indexOf(e[n]);else for(const a in rD){const[o,s]=rD[a];r>=o&&r<=s&&(t+=r-o)}}return parseInt(t,10)}else return t}function ko({numberingSystem:e},t=""){return new RegExp(`${c1[e||"latn"]}${t}`)}const G6="missing Intl.DateTimeFormat.formatToParts support";function Ut(e,t=n=>n){return{regex:e,deser:([n])=>t(q6(n))}}const J6="¬†",pT=`[ ${J6}]`,gT=new RegExp(pT,"g");function K6(e){return e.replace(/\./g,"\\.?").replace(gT,pT)}function aD(e){return e.replace(/\./g,"").replace(gT," ").toLowerCase()}function Ao(e,t){return e===null?null:{regex:RegExp(e.map(K6).join("|")),deser:([n])=>e.findIndex(r=>aD(n)===aD(r))+t}}function oD(e,t){return{regex:e,deser:([,n,r])=>Rv(n,r),groups:t}}function I0(e){return{regex:e,deser:([t])=>t}}function Q6(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function X6(e,t){const n=ko(t),r=ko(t,"{2}"),a=ko(t,"{3}"),o=ko(t,"{4}"),s=ko(t,"{6}"),u=ko(t,"{1,2}"),d=ko(t,"{1,3}"),m=ko(t,"{1,6}"),p=ko(t,"{1,9}"),g=ko(t,"{2,4}"),w=ko(t,"{4,6}"),D=C=>({regex:RegExp(Q6(C.val)),deser:([A])=>A,literal:!0}),T=(C=>{if(e.literal)return D(C);switch(C.val){case"G":return Ao(t.eras("short",!1),0);case"GG":return Ao(t.eras("long",!1),0);case"y":return Ut(m);case"yy":return Ut(g,Iw);case"yyyy":return Ut(o);case"yyyyy":return Ut(w);case"yyyyyy":return Ut(s);case"M":return Ut(u);case"MM":return Ut(r);case"MMM":return Ao(t.months("short",!0,!1),1);case"MMMM":return Ao(t.months("long",!0,!1),1);case"L":return Ut(u);case"LL":return Ut(r);case"LLL":return Ao(t.months("short",!1,!1),1);case"LLLL":return Ao(t.months("long",!1,!1),1);case"d":return Ut(u);case"dd":return Ut(r);case"o":return Ut(d);case"ooo":return Ut(a);case"HH":return Ut(r);case"H":return Ut(u);case"hh":return Ut(r);case"h":return Ut(u);case"mm":return Ut(r);case"m":return Ut(u);case"q":return Ut(u);case"qq":return Ut(r);case"s":return Ut(u);case"ss":return Ut(r);case"S":return Ut(d);case"SSS":return Ut(a);case"u":return I0(p);case"uu":return I0(u);case"uuu":return Ut(n);case"a":return Ao(t.meridiems(),0);case"kkkk":return Ut(o);case"kk":return Ut(g,Iw);case"W":return Ut(u);case"WW":return Ut(r);case"E":case"c":return Ut(n);case"EEE":return Ao(t.weekdays("short",!1,!1),1);case"EEEE":return Ao(t.weekdays("long",!1,!1),1);case"ccc":return Ao(t.weekdays("short",!0,!1),1);case"cccc":return Ao(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return oD(new RegExp(`([+-]${u.source})(?::(${r.source}))?`),2);case"ZZZ":return oD(new RegExp(`([+-]${u.source})(${r.source})?`),2);case"z":return I0(/[a-z_+-/]{1,256}?/i);default:return D(C)}})(e)||{invalidReason:G6};return T.token=e,T}const eA={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tA(e,t){const{type:n,value:r}=e;if(n==="literal")return{literal:!0,val:r};const a=t[n];let o=eA[n];if(typeof o=="object"&&(o=o[a]),o)return{literal:!1,val:o}}function nA(e){return[`^${e.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,e]}function rA(e,t,n){const r=e.match(t);if(r){const a={};let o=1;for(const s in n)if(Nd(n,s)){const u=n[s],d=u.groups?u.groups+1:1;!u.literal&&u.token&&(a[u.token.val[0]]=u.deser(r.slice(o,o+d))),o+=d}return[r,a]}else return[r,{}]}function aA(e){const t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return Rt(e.z)||(n=hs.create(e.z)),Rt(e.Z)||(n||(n=new Xr(e.Z)),r=e.Z),Rt(e.q)||(e.M=(e.q-1)*3+1),Rt(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Rt(e.u)||(e.S=r1(e.u)),[Object.keys(e).reduce((o,s)=>{const u=t(s);return u&&(o[u]=e[s]),o},{}),n,r]}let T0=null;function oA(){return T0||(T0=st.fromMillis(1555555555555)),T0}function iA(e,t){if(e.literal)return e;const n=Yr.macroTokenToFormatOpts(e.val),r=wT(n,t);return r==null||r.includes(void 0)?e:r}function vT(e,t){return Array.prototype.concat(...e.map(n=>iA(n,t)))}function yT(e,t,n){const r=vT(Yr.parseFormat(n),e),a=r.map(s=>X6(s,e)),o=a.find(s=>s.invalidReason);if(o)return{input:t,tokens:r,invalidReason:o.invalidReason};{const[s,u]=nA(a),d=RegExp(s,"i"),[m,p]=rA(t,d,u),[g,w,D]=p?aA(p):[null,null,void 0];if(Nd(p,"a")&&Nd(p,"H"))throw new Yh("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:d,rawMatches:m,matches:p,result:g,zone:w,specificOffset:D}}}function sA(e,t,n){const{result:r,zone:a,specificOffset:o,invalidReason:s}=yT(e,t,n);return[r,a,o,s]}function wT(e,t){return e?Yr.create(t,e).formatDateTimeParts(oA()).map(a=>tA(a,e)):null}const bT=[0,31,59,90,120,151,181,212,243,273,304,334],DT=[0,31,60,91,121,152,182,213,244,274,305,335];function so(e,t){return new jo("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function ST(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const a=r.getUTCDay();return a===0?7:a}function IT(e,t,n){return n+(Tm(e)?DT:bT)[t-1]}function TT(e,t){const n=Tm(e)?DT:bT,r=n.findIndex(o=>o<t),a=t-n[r];return{month:r+1,day:a}}function Tw(e){const{year:t,month:n,day:r}=e,a=IT(t,n,r),o=ST(t,n,r);let s=Math.floor((a-o+10)/7),u;return s<1?(u=t-1,s=cv(u)):s>cv(t)?(u=t+1,s=1):u=t,{weekYear:u,weekNumber:s,weekday:o,..._v(e)}}function iD(e){const{weekYear:t,weekNumber:n,weekday:r}=e,a=ST(t,1,4),o=Wh(t);let s=n*7+r-a-3,u;s<1?(u=t-1,s+=Wh(u)):s>o?(u=t+1,s-=Wh(t)):u=t;const{month:d,day:m}=TT(u,s);return{year:u,month:d,day:m,..._v(e)}}function E0(e){const{year:t,month:n,day:r}=e,a=IT(t,n,r);return{year:t,ordinal:a,..._v(e)}}function sD(e){const{year:t,ordinal:n}=e,{month:r,day:a}=TT(t,n);return{year:t,month:r,day:a,..._v(e)}}function lA(e){const t=Lv(e.weekYear),n=fs(e.weekNumber,1,cv(e.weekYear)),r=fs(e.weekday,1,7);return t?n?r?!1:so("weekday",e.weekday):so("week",e.week):so("weekYear",e.weekYear)}function cA(e){const t=Lv(e.year),n=fs(e.ordinal,1,Wh(e.year));return t?n?!1:so("ordinal",e.ordinal):so("year",e.year)}function ET(e){const t=Lv(e.year),n=fs(e.month,1,12),r=fs(e.day,1,lv(e.year,e.month));return t?n?r?!1:so("day",e.day):so("month",e.month):so("year",e.year)}function CT(e){const{hour:t,minute:n,second:r,millisecond:a}=e,o=fs(t,0,23)||t===24&&n===0&&r===0&&a===0,s=fs(n,0,59),u=fs(r,0,59),d=fs(a,0,999);return o?s?u?d?!1:so("millisecond",a):so("second",r):so("minute",n):so("hour",t)}const C0="Invalid DateTime",lD=864e13;function Mg(e){return new jo("unsupported zone",`the zone "${e.name}" is not supported`)}function x0(e){return e.weekData===null&&(e.weekData=Tw(e.c)),e.weekData}function kh(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new st({...n,...t,old:n})}function xT(e,t,n){let r=e-t*60*1e3;const a=n.offset(r);if(t===a)return[r,t];r-=(a-t)*60*1e3;const o=n.offset(r);return a===o?[r,a]:[e-Math.min(a,o)*60*1e3,Math.max(a,o)]}function cD(e,t){e+=t*60*1e3;const n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Gg(e,t,n){return xT(o1(e),t,n)}function uD(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),a=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:r,month:a,day:Math.min(e.c.day,lv(r,a))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},s=et.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),u=o1(o);let[d,m]=xT(u,n,e.zone);return s!==0&&(d+=s,m=e.zone.offset(d)),{ts:d,o:m}}function Ah(e,t,n,r,a,o){const{setZone:s,zone:u}=n;if(e&&Object.keys(e).length!==0){const d=t||u,m=st.fromObject(e,{...n,zone:d,specificOffset:o});return s?m:m.setZone(u)}else return st.invalid(new jo("unparsable",`the input "${a}" can't be parsed as ${r}`))}function Ng(e,t,n=!0){return e.isValid?Yr.create(hn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function M0(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=Wn(e.c.year,n?6:4),t?(r+="-",r+=Wn(e.c.month),r+="-",r+=Wn(e.c.day)):(r+=Wn(e.c.month),r+=Wn(e.c.day)),r}function dD(e,t,n,r,a,o){let s=Wn(e.c.hour);return t?(s+=":",s+=Wn(e.c.minute),(e.c.second!==0||!n)&&(s+=":")):s+=Wn(e.c.minute),(e.c.second!==0||!n)&&(s+=Wn(e.c.second),(e.c.millisecond!==0||!r)&&(s+=".",s+=Wn(e.c.millisecond,3))),a&&(e.isOffsetFixed&&e.offset===0&&!o?s+="Z":e.o<0?(s+="-",s+=Wn(Math.trunc(-e.o/60)),s+=":",s+=Wn(Math.trunc(-e.o%60))):(s+="+",s+=Wn(Math.trunc(e.o/60)),s+=":",s+=Wn(Math.trunc(e.o%60)))),o&&(s+="["+e.zone.ianaName+"]"),s}const MT={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},uA={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},dA={ordinal:1,hour:0,minute:0,second:0,millisecond:0},NT=["year","month","day","hour","minute","second","millisecond"],fA=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],hA=["year","ordinal","hour","minute","second","millisecond"];function fD(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new AI(e);return t}function hD(e,t){const n=gl(t.zone,Zn.defaultZone),r=hn.fromObject(t),a=Zn.now();let o,s;if(Rt(e.year))o=a;else{for(const m of NT)Rt(e[m])&&(e[m]=MT[m]);const u=ET(e)||CT(e);if(u)return st.invalid(u);const d=n.offset(a);[o,s]=Gg(e,d,n)}return new st({ts:o,zone:n,loc:r,o:s})}function mD(e,t,n){const r=Rt(n.round)?!0:n.round,a=(s,u)=>(s=a1(s,r||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(s,u)),o=s=>n.calendary?t.hasSame(e,s)?0:t.startOf(s).diff(e.startOf(s),s).get(s):t.diff(e,s).get(s);if(n.unit)return a(o(n.unit),n.unit);for(const s of n.units){const u=o(s);if(Math.abs(u)>=1)return a(u,s)}return a(e>t?-0:0,n.units[n.units.length-1])}function pD(e){let t={},n;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],n=Array.from(e).slice(0,e.length-1)):n=Array.from(e),[t,n]}class st{constructor(t){const n=t.zone||Zn.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new jo("invalid input"):null)||(n.isValid?null:Mg(n));this.ts=Rt(t.ts)?Zn.now():t.ts;let a=null,o=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(n))[a,o]=[t.old.c,t.old.o];else{const u=n.offset(this.ts);a=cD(this.ts,u),r=Number.isNaN(a.year)?new jo("invalid input"):null,a=r?null:a,o=r?null:u}this._zone=n,this.loc=t.loc||hn.create(),this.invalid=r,this.weekData=null,this.c=a,this.o=o,this.isLuxonDateTime=!0}static now(){return new st({})}static local(){const[t,n]=pD(arguments),[r,a,o,s,u,d,m]=n;return hD({year:r,month:a,day:o,hour:s,minute:u,second:d,millisecond:m},t)}static utc(){const[t,n]=pD(arguments),[r,a,o,s,u,d,m]=n;return t.zone=Xr.utcInstance,hD({year:r,month:a,day:o,hour:s,minute:u,second:d,millisecond:m},t)}static fromJSDate(t,n={}){const r=_k(t)?t.valueOf():NaN;if(Number.isNaN(r))return st.invalid("invalid input");const a=gl(n.zone,Zn.defaultZone);return a.isValid?new st({ts:r,zone:a,loc:hn.fromObject(n)}):st.invalid(Mg(a))}static fromMillis(t,n={}){if(xc(t))return t<-lD||t>lD?st.invalid("Timestamp out of range"):new st({ts:t,zone:gl(n.zone,Zn.defaultZone),loc:hn.fromObject(n)});throw new io(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,n={}){if(xc(t))return new st({ts:t*1e3,zone:gl(n.zone,Zn.defaultZone),loc:hn.fromObject(n)});throw new io("fromSeconds requires a numerical input")}static fromObject(t,n={}){t=t||{};const r=gl(n.zone,Zn.defaultZone);if(!r.isValid)return st.invalid(Mg(r));const a=Zn.now(),o=Rt(n.specificOffset)?r.offset(a):n.specificOffset,s=uv(t,fD),u=!Rt(s.ordinal),d=!Rt(s.year),m=!Rt(s.month)||!Rt(s.day),p=d||m,g=s.weekYear||s.weekNumber,w=hn.fromObject(n);if((p||u)&&g)throw new Yh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&u)throw new Yh("Can't mix ordinal dates with month/day");const D=g||s.weekday&&!p;let S,T,C=cD(a,o);D?(S=fA,T=uA,C=Tw(C)):u?(S=hA,T=dA,C=E0(C)):(S=NT,T=MT);let A=!1;for(const V of S){const U=s[V];Rt(U)?A?s[V]=T[V]:s[V]=C[V]:A=!0}const N=D?lA(s):u?cA(s):ET(s),L=N||CT(s);if(L)return st.invalid(L);const F=D?iD(s):u?sD(s):s,[H,j]=Gg(F,o,r),_=new st({ts:H,zone:r,o:j,loc:w});return s.weekday&&p&&t.weekday!==_.weekday?st.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${_.toISO()}`):_}static fromISO(t,n={}){const[r,a]=x6(t);return Ah(r,a,n,"ISO 8601",t)}static fromRFC2822(t,n={}){const[r,a]=M6(t);return Ah(r,a,n,"RFC 2822",t)}static fromHTTP(t,n={}){const[r,a]=N6(t);return Ah(r,a,n,"HTTP",n)}static fromFormat(t,n,r={}){if(Rt(t)||Rt(n))throw new io("fromFormat requires an input string and a format");const{locale:a=null,numberingSystem:o=null}=r,s=hn.fromOpts({locale:a,numberingSystem:o,defaultToEN:!0}),[u,d,m,p]=sA(s,t,n);return p?st.invalid(p):Ah(u,d,r,`format ${n}`,t,m)}static fromString(t,n,r={}){return st.fromFormat(t,n,r)}static fromSQL(t,n={}){const[r,a]=L6(t);return Ah(r,a,n,"SQL",t)}static invalid(t,n=null){if(!t)throw new io("need to specify a reason the DateTime is invalid");const r=t instanceof jo?t:new jo(t,n);if(Zn.throwOnInvalid)throw new pk(r);return new st({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,n={}){const r=wT(t,hn.fromObject(n));return r?r.map(a=>a?a.val:null).join(""):null}static expandFormat(t,n={}){return vT(Yr.parseFormat(t),hn.fromObject(n)).map(a=>a.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?x0(this).weekYear:NaN}get weekNumber(){return this.isValid?x0(this).weekNumber:NaN}get weekday(){return this.isValid?x0(this).weekday:NaN}get ordinal(){return this.isValid?E0(this.c).ordinal:NaN}get monthShort(){return this.isValid?xg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?xg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?xg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?xg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Tm(this.year)}get daysInMonth(){return lv(this.year,this.month)}get daysInYear(){return this.isValid?Wh(this.year):NaN}get weeksInWeekYear(){return this.isValid?cv(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:n,numberingSystem:r,calendar:a}=Yr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:a}}toUTC(t=0,n={}){return this.setZone(Xr.instance(t),n)}toLocal(){return this.setZone(Zn.defaultZone)}setZone(t,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(t=gl(t,Zn.defaultZone),t.equals(this.zone))return this;if(t.isValid){let a=this.ts;if(n||r){const o=t.offset(this.ts),s=this.toObject();[a]=Gg(s,o,t)}return kh(this,{ts:a,zone:t})}else return st.invalid(Mg(t))}reconfigure({locale:t,numberingSystem:n,outputCalendar:r}={}){const a=this.loc.clone({locale:t,numberingSystem:n,outputCalendar:r});return kh(this,{loc:a})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const n=uv(t,fD),r=!Rt(n.weekYear)||!Rt(n.weekNumber)||!Rt(n.weekday),a=!Rt(n.ordinal),o=!Rt(n.year),s=!Rt(n.month)||!Rt(n.day),u=o||s,d=n.weekYear||n.weekNumber;if((u||a)&&d)throw new Yh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&a)throw new Yh("Can't mix ordinal dates with month/day");let m;r?m=iD({...Tw(this.c),...n}):Rt(n.ordinal)?(m={...this.toObject(),...n},Rt(n.day)&&(m.day=Math.min(lv(m.year,m.month),m.day))):m=sD({...E0(this.c),...n});const[p,g]=Gg(m,this.o,this.zone);return kh(this,{ts:p,o:g})}plus(t){if(!this.isValid)return this;const n=et.fromDurationLike(t);return kh(this,uD(this,n))}minus(t){if(!this.isValid)return this;const n=et.fromDurationLike(t).negate();return kh(this,uD(this,n))}startOf(t){if(!this.isValid)return this;const n={},r=et.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,n={}){return this.isValid?Yr.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,t):C0}toLocaleString(t=sv,n={}){return this.isValid?Yr.create(this.loc.clone(n),t).formatDateTime(this):C0}toLocaleParts(t={}){return this.isValid?Yr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:a=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const s=t==="extended";let u=M0(this,s);return u+="T",u+=dD(this,s,n,r,a,o),u}toISODate({format:t="extended"}={}){return this.isValid?M0(this,t==="extended"):null}toISOWeekDate(){return Ng(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:a=!1,extendedZone:o=!1,format:s="extended"}={}){return this.isValid?(a?"T":"")+dD(this,s==="extended",n,t,r,o):null}toRFC2822(){return Ng(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ng(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?M0(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let a="HH:mm:ss.SSS";return(n||t)&&(r&&(a+=" "),n?a+="z":t&&(a+="ZZ")),Ng(this,a,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():C0}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const n={...this.c};return t.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,n="milliseconds",r={}){if(!this.isValid||!t.isValid)return et.invalid("created by diffing an invalid DateTime");const a={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=Hk(n).map(et.normalizeUnit),s=t.valueOf()>this.valueOf(),u=s?this:t,d=s?t:this,m=W6(u,d,o,a);return s?m.negate():m}diffNow(t="milliseconds",n={}){return this.diff(st.now(),t,n)}until(t){return this.isValid?Nn.fromDateTimes(this,t):this}hasSame(t,n){if(!this.isValid)return!1;const r=t.valueOf(),a=this.setZone(t.zone,{keepLocalTime:!0});return a.startOf(n)<=r&&r<=a.endOf(n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const n=t.base||st.fromObject({},{zone:this.zone}),r=t.padding?this<n?-t.padding:t.padding:0;let a=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(a=t.unit,o=void 0),mD(n,this.plus(r),{...t,numeric:"always",units:a,unit:o})}toRelativeCalendar(t={}){return this.isValid?mD(t.base||st.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(st.isDateTime))throw new io("min requires all arguments be DateTimes");return Xb(t,n=>n.valueOf(),Math.min)}static max(...t){if(!t.every(st.isDateTime))throw new io("max requires all arguments be DateTimes");return Xb(t,n=>n.valueOf(),Math.max)}static fromFormatExplain(t,n,r={}){const{locale:a=null,numberingSystem:o=null}=r,s=hn.fromOpts({locale:a,numberingSystem:o,defaultToEN:!0});return yT(s,t,n)}static fromStringExplain(t,n,r={}){return st.fromFormatExplain(t,n,r)}static get DATE_SHORT(){return sv}static get DATE_MED(){return OI}static get DATE_MED_WITH_WEEKDAY(){return yk}static get DATE_FULL(){return FI}static get DATE_HUGE(){return PI}static get TIME_SIMPLE(){return jI}static get TIME_WITH_SECONDS(){return LI}static get TIME_WITH_SHORT_OFFSET(){return RI}static get TIME_WITH_LONG_OFFSET(){return _I}static get TIME_24_SIMPLE(){return HI}static get TIME_24_WITH_SECONDS(){return BI}static get TIME_24_WITH_SHORT_OFFSET(){return YI}static get TIME_24_WITH_LONG_OFFSET(){return zI}static get DATETIME_SHORT(){return UI}static get DATETIME_SHORT_WITH_SECONDS(){return VI}static get DATETIME_MED(){return ZI}static get DATETIME_MED_WITH_SECONDS(){return WI}static get DATETIME_MED_WITH_WEEKDAY(){return wk}static get DATETIME_FULL(){return $I}static get DATETIME_FULL_WITH_SECONDS(){return qI}static get DATETIME_HUGE(){return GI}static get DATETIME_HUGE_WITH_SECONDS(){return JI}}function Oh(e){if(st.isDateTime(e))return e;if(e&&e.valueOf&&xc(e.valueOf()))return st.fromJSDate(e);if(e&&typeof e=="object")return st.fromObject(e);throw new io(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const u1={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},mA={allowHtml:!0};({...u1,...mA});class d1{constructor(t){this.value=t,this.successful=!0}map(t){return new d1(t(this.value))}flatMap(t){return t(this.value)}mapErr(t){return this}bimap(t,n){return this.map(t)}orElse(t){return this.value}cast(){return this}orElseThrow(t){return this.value}}class f1{constructor(t){this.error=t,this.successful=!1}map(t){return this}flatMap(t){return this}mapErr(t){return new f1(t(this.error))}bimap(t,n){return this.mapErr(n)}orElse(t){return t}cast(){return this}orElseThrow(t){throw t?new Error(t(this.error)):new Error(""+this.error)}}var dv;(function(e){function t(o){return new d1(o)}e.success=t;function n(o){return new f1(o)}e.failure=n;function r(o,s,u){return o.successful?s.successful?u(o.value,s.value):n(s.error):n(o.error)}e.flatMap2=r;function a(o,s,u){return r(o,s,(d,m)=>t(u(d,m)))}e.map2=a})(dv||(dv={}));var pA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Jn<"u"?Jn:typeof self<"u"?self:{},Q={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:pA,function(){return function(n){var r={};function a(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=r,a.d=function(o,s,u){a.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:u})},a.r=function(o){Object.defineProperty(o,"__esModule",{value:!0})},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=0)}([function(n,r,a){function o(Z){if(!(this instanceof o))return new o(Z);this._=Z}var s=o.prototype;function u(Z,re){for(var pe=0;pe<Z;pe++)re(pe)}function d(Z,re,pe){return function(xe,je){u(je.length,function(Ye){xe(je[Ye],Ye,je)})}(function(xe,je,Ye){re=Z(re,xe,je,Ye)},pe),re}function m(Z,re){return d(function(pe,xe,je,Ye){return pe.concat([Z(xe,je,Ye)])},[],re)}function p(Z,re){var pe={v:0,buf:re};return u(Z,function(){var xe;pe={v:pe.v<<1|(xe=pe.buf,xe[0]>>7),buf:function(je){var Ye=d(function(ze,pt,Yt,On){return ze.concat(Yt===On.length-1?Buffer.from([pt,0]).readUInt16BE(0):On.readUInt16BE(Yt))},[],je);return Buffer.from(m(function(ze){return(ze<<1&65535)>>8},Ye))}(pe.buf)}}),pe}function g(){return typeof Buffer<"u"}function w(){if(!g())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function D(Z){w();var re=d(function(Ye,ze){return Ye+ze},0,Z);if(re%8!=0)throw new Error("The bits ["+Z.join(", ")+"] add up to "+re+" which is not an even number of bytes; the total should be divisible by 8");var pe,xe=re/8,je=(pe=function(Ye){return Ye>48},d(function(Ye,ze){return Ye||(pe(ze)?ze:Ye)},null,Z));if(je)throw new Error(je+" bit range requested exceeds 48 bit (6 byte) Number max.");return new o(function(Ye,ze){var pt=xe+ze;return pt>Ye.length?V(ze,xe.toString()+" bytes"):_(pt,d(function(Yt,On){var yn=p(On,Yt.buf);return{coll:Yt.coll.concat(yn.v),buf:yn.buf}},{coll:[],buf:Ye.slice(ze,pt)},Z).coll)})}function S(Z,re){return new o(function(pe,xe){return w(),xe+re>pe.length?V(xe,re+" bytes for "+Z):_(xe+re,pe.slice(xe,xe+re))})}function T(Z,re){if(typeof(pe=re)!="number"||Math.floor(pe)!==pe||re<0||re>6)throw new Error(Z+" requires integer length in range [0, 6].");var pe}function C(Z){return T("uintBE",Z),S("uintBE("+Z+")",Z).map(function(re){return re.readUIntBE(0,Z)})}function A(Z){return T("uintLE",Z),S("uintLE("+Z+")",Z).map(function(re){return re.readUIntLE(0,Z)})}function N(Z){return T("intBE",Z),S("intBE("+Z+")",Z).map(function(re){return re.readIntBE(0,Z)})}function L(Z){return T("intLE",Z),S("intLE("+Z+")",Z).map(function(re){return re.readIntLE(0,Z)})}function F(Z){return Z instanceof o}function H(Z){return{}.toString.call(Z)==="[object Array]"}function j(Z){return g()&&Buffer.isBuffer(Z)}function _(Z,re){return{status:!0,index:Z,value:re,furthest:-1,expected:[]}}function V(Z,re){return H(re)||(re=[re]),{status:!1,index:-1,value:null,furthest:Z,expected:re}}function U(Z,re){if(!re||Z.furthest>re.furthest)return Z;var pe=Z.furthest===re.furthest?function(xe,je){if(function(){if(o._supportsSet!==void 0)return o._supportsSet;var yr=typeof Set<"u";return o._supportsSet=yr,yr}()&&Array.from){for(var Ye=new Set(xe),ze=0;ze<je.length;ze++)Ye.add(je[ze]);var pt=Array.from(Ye);return pt.sort(),pt}for(var Yt={},On=0;On<xe.length;On++)Yt[xe[On]]=!0;for(var yn=0;yn<je.length;yn++)Yt[je[yn]]=!0;var na=[];for(var Fn in Yt)({}).hasOwnProperty.call(Yt,Fn)&&na.push(Fn);return na.sort(),na}(Z.expected,re.expected):re.expected;return{status:Z.status,index:Z.index,value:Z.value,furthest:re.furthest,expected:pe}}var z={};function q(Z,re){if(j(Z))return{offset:re,line:-1,column:-1};Z in z||(z[Z]={});for(var pe=z[Z],xe=0,je=0,Ye=0,ze=re;ze>=0;){if(ze in pe){xe=pe[ze].line,Ye===0&&(Ye=pe[ze].lineStart);break}(Z.charAt(ze)===`
`||Z.charAt(ze)==="\r"&&Z.charAt(ze+1)!==`
`)&&(je++,Ye===0&&(Ye=ze+1)),ze--}var pt=xe+je,Yt=re-Ye;return pe[re]={line:pt,lineStart:Ye},{offset:re,line:pt+1,column:Yt+1}}function ee(Z){if(!F(Z))throw new Error("not a parser: "+Z)}function ce(Z,re){return typeof Z=="string"?Z.charAt(re):Z[re]}function fe(Z){if(typeof Z!="number")throw new Error("not a number: "+Z)}function ie(Z){if(typeof Z!="function")throw new Error("not a function: "+Z)}function he(Z){if(typeof Z!="string")throw new Error("not a string: "+Z)}var Ie=2,se=3,we=8,W=5*we,$=4*we,X="  ";function ve(Z,re){return new Array(re+1).join(Z)}function De(Z,re,pe){var xe=re-Z.length;return xe<=0?Z:ve(pe,xe)+Z}function be(Z,re,pe,xe){return{from:Z-re>0?Z-re:0,to:Z+pe>xe?xe:Z+pe}}function ke(Z,re){var pe,xe,je,Ye,ze,pt=re.index,Yt=pt.offset,On=1;if(Yt===Z.length)return"Got the end of the input";if(j(Z)){var yn=Yt-Yt%we,na=Yt-yn,Fn=be(yn,W,$+we,Z.length),yr=m(function(Jt){return m(function(Ia){return De(Ia.toString(16),2,"0")},Jt)},function(Jt,Ia){var Ta=Jt.length,Ea=[],zo=0;if(Ta<=Ia)return[Jt.slice()];for(var Uo=0;Uo<Ta;Uo++)Ea[zo]||Ea.push([]),Ea[zo].push(Jt[Uo]),(Uo+1)%Ia==0&&zo++;return Ea}(Z.slice(Fn.from,Fn.to).toJSON().data,we));Ye=function(Jt){return Jt.from===0&&Jt.to===1?{from:Jt.from,to:Jt.to}:{from:Jt.from/we,to:Math.floor(Jt.to/we)}}(Fn),xe=yn/we,pe=3*na,na>=4&&(pe+=1),On=2,je=m(function(Jt){return Jt.length<=4?Jt.join(" "):Jt.slice(0,4).join(" ")+"  "+Jt.slice(4).join(" ")},yr),(ze=(8*(Ye.to>0?Ye.to-1:Ye.to)).toString(16).length)<2&&(ze=2)}else{var ra=Z.split(/\r\n|[\n\r\u2028\u2029]/);pe=pt.column-1,xe=pt.line-1,Ye=be(xe,Ie,se,ra.length),je=ra.slice(Ye.from,Ye.to),ze=Ye.to.toString().length}var kl=xe-Ye.from;return j(Z)&&(ze=(8*(Ye.to>0?Ye.to-1:Ye.to)).toString(16).length)<2&&(ze=2),d(function(Jt,Ia,Ta){var Ea,zo=Ta===kl,Uo=zo?"> ":X;return Ea=j(Z)?De((8*(Ye.from+Ta)).toString(16),ze,"0"):De((Ye.from+Ta+1).toString(),ze," "),[].concat(Jt,[Uo+Ea+" | "+Ia],zo?[X+ve(" ",ze)+" | "+De("",pe," ")+ve("^",On)]:[])},[],je).join(`
`)}function Be(Z,re){return[`
`,"-- PARSING FAILED "+ve("-",50),`

`,ke(Z,re),`

`,(pe=re.expected,pe.length===1?`Expected:

`+pe[0]:`Expected one of the following: 

`+pe.join(", ")),`
`].join("");var pe}function _e(Z){return Z.flags!==void 0?Z.flags:[Z.global?"g":"",Z.ignoreCase?"i":"",Z.multiline?"m":"",Z.unicode?"u":"",Z.sticky?"y":""].join("")}function it(){for(var Z=[].slice.call(arguments),re=Z.length,pe=0;pe<re;pe+=1)ee(Z[pe]);return o(function(xe,je){for(var Ye,ze=new Array(re),pt=0;pt<re;pt+=1){if(!(Ye=U(Z[pt]._(xe,je),Ye)).status)return Ye;ze[pt]=Ye.value,je=Ye.index}return U(_(je,ze),Ye)})}function Vt(){var Z=[].slice.call(arguments);if(Z.length===0)throw new Error("seqMap needs at least one argument");var re=Z.pop();return ie(re),it.apply(null,Z).map(function(pe){return re.apply(null,pe)})}function Se(){var Z=[].slice.call(arguments),re=Z.length;if(re===0)return Dt("zero alternates");for(var pe=0;pe<re;pe+=1)ee(Z[pe]);return o(function(xe,je){for(var Ye,ze=0;ze<Z.length;ze+=1)if((Ye=U(Z[ze]._(xe,je),Ye)).status)return Ye;return Ye})}function Ue(Z,re){return Je(Z,re).or(ft([]))}function Je(Z,re){return ee(Z),ee(re),Vt(Z,re.then(Z).many(),function(pe,xe){return[pe].concat(xe)})}function $e(Z){he(Z);var re="'"+Z+"'";return o(function(pe,xe){var je=xe+Z.length,Ye=pe.slice(xe,je);return Ye===Z?_(je,Ye):V(xe,re)})}function lt(Z,re){(function(je){if(!(je instanceof RegExp))throw new Error("not a regexp: "+je);for(var Ye=_e(je),ze=0;ze<Ye.length;ze++){var pt=Ye.charAt(ze);if(pt!=="i"&&pt!=="m"&&pt!=="u"&&pt!=="s")throw new Error('unsupported regexp flag "'+pt+'": '+je)}})(Z),arguments.length>=2?fe(re):re=0;var pe=function(je){return RegExp("^(?:"+je.source+")",_e(je))}(Z),xe=""+Z;return o(function(je,Ye){var ze=pe.exec(je.slice(Ye));if(ze){if(0<=re&&re<=ze.length){var pt=ze[0],Yt=ze[re];return _(Ye+pt.length,Yt)}return V(Ye,"valid match group (0 to "+ze.length+") in "+xe)}return V(Ye,xe)})}function ft(Z){return o(function(re,pe){return _(pe,Z)})}function Dt(Z){return o(function(re,pe){return V(pe,Z)})}function Et(Z){if(F(Z))return o(function(re,pe){var xe=Z._(re,pe);return xe.index=pe,xe.value="",xe});if(typeof Z=="string")return Et($e(Z));if(Z instanceof RegExp)return Et(lt(Z));throw new Error("not a string, regexp, or parser: "+Z)}function $t(Z){return ee(Z),o(function(re,pe){var xe=Z._(re,pe),je=re.slice(pe,xe.index);return xe.status?V(pe,'not "'+je+'"'):_(pe,null)})}function rn(Z){return ie(Z),o(function(re,pe){var xe=ce(re,pe);return pe<re.length&&Z(xe)?_(pe+1,xe):V(pe,"a character/byte matching "+Z)})}function At(Z,re){arguments.length<2&&(re=Z,Z=void 0);var pe=o(function(xe,je){return pe._=re()._,pe._(xe,je)});return Z?pe.desc(Z):pe}function an(){return Dt("fantasy-land/empty")}s.parse=function(Z){if(typeof Z!="string"&&!j(Z))throw new Error(".parse must be called with a string or Buffer as its argument");var re,pe=this.skip(Sa)._(Z,0);return re=pe.status?{status:!0,value:pe.value}:{status:!1,index:q(Z,pe.furthest),expected:pe.expected},delete z[Z],re},s.tryParse=function(Z){var re=this.parse(Z);if(re.status)return re.value;var pe=Be(Z,re),xe=new Error(pe);throw xe.type="ParsimmonError",xe.result=re,xe},s.assert=function(Z,re){return this.chain(function(pe){return Z(pe)?ft(pe):Dt(re)})},s.or=function(Z){return Se(this,Z)},s.trim=function(Z){return this.wrap(Z,Z)},s.wrap=function(Z,re){return Vt(Z,this,re,function(pe,xe){return xe})},s.thru=function(Z){return Z(this)},s.then=function(Z){return ee(Z),it(this,Z).map(function(re){return re[1]})},s.many=function(){var Z=this;return o(function(re,pe){for(var xe=[],je=void 0;;){if(!(je=U(Z._(re,pe),je)).status)return U(_(pe,xe),je);if(pe===je.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");pe=je.index,xe.push(je.value)}})},s.tieWith=function(Z){return he(Z),this.map(function(re){if(function(je){if(!H(je))throw new Error("not an array: "+je)}(re),re.length){he(re[0]);for(var pe=re[0],xe=1;xe<re.length;xe++)he(re[xe]),pe+=Z+re[xe];return pe}return""})},s.tie=function(){return this.tieWith("")},s.times=function(Z,re){var pe=this;return arguments.length<2&&(re=Z),fe(Z),fe(re),o(function(xe,je){for(var Ye=[],ze=void 0,pt=void 0,Yt=0;Yt<Z;Yt+=1){if(pt=U(ze=pe._(xe,je),pt),!ze.status)return pt;je=ze.index,Ye.push(ze.value)}for(;Yt<re&&(pt=U(ze=pe._(xe,je),pt),ze.status);Yt+=1)je=ze.index,Ye.push(ze.value);return U(_(je,Ye),pt)})},s.result=function(Z){return this.map(function(){return Z})},s.atMost=function(Z){return this.times(0,Z)},s.atLeast=function(Z){return Vt(this.times(Z),this.many(),function(re,pe){return re.concat(pe)})},s.map=function(Z){ie(Z);var re=this;return o(function(pe,xe){var je=re._(pe,xe);return je.status?U(_(je.index,Z(je.value)),je):je})},s.contramap=function(Z){ie(Z);var re=this;return o(function(pe,xe){var je=re.parse(Z(pe.slice(xe)));return je.status?_(xe+pe.length,je.value):je})},s.promap=function(Z,re){return ie(Z),ie(re),this.contramap(Z).map(re)},s.skip=function(Z){return it(this,Z).map(function(re){return re[0]})},s.mark=function(){return Vt(Sn,this,Sn,function(Z,re,pe){return{start:Z,value:re,end:pe}})},s.node=function(Z){return Vt(Sn,this,Sn,function(re,pe,xe){return{name:Z,value:pe,start:re,end:xe}})},s.sepBy=function(Z){return Ue(this,Z)},s.sepBy1=function(Z){return Je(this,Z)},s.lookahead=function(Z){return this.skip(Et(Z))},s.notFollowedBy=function(Z){return this.skip($t(Z))},s.desc=function(Z){H(Z)||(Z=[Z]);var re=this;return o(function(pe,xe){var je=re._(pe,xe);return je.status||(je.expected=Z),je})},s.fallback=function(Z){return this.or(ft(Z))},s.ap=function(Z){return Vt(Z,this,function(re,pe){return re(pe)})},s.chain=function(Z){var re=this;return o(function(pe,xe){var je=re._(pe,xe);return je.status?U(Z(je.value)._(pe,je.index),je):je})},s.concat=s.or,s.empty=an,s.of=ft,s["fantasy-land/ap"]=s.ap,s["fantasy-land/chain"]=s.chain,s["fantasy-land/concat"]=s.concat,s["fantasy-land/empty"]=s.empty,s["fantasy-land/of"]=s.of,s["fantasy-land/map"]=s.map;var Sn=o(function(Z,re){return _(re,q(Z,re))}),In=o(function(Z,re){return re>=Z.length?V(re,"any character/byte"):_(re+1,ce(Z,re))}),vr=o(function(Z,re){return _(Z.length,Z.slice(re))}),Sa=o(function(Z,re){return re<Z.length?V(re,"EOF"):_(re,null)}),Mr=lt(/[0-9]/).desc("a digit"),Nr=lt(/[0-9]*/).desc("optional digits"),Ss=lt(/[a-z]/i).desc("a letter"),mo=lt(/[a-z]*/i).desc("optional letters"),po=lt(/\s*/).desc("optional whitespace"),Nl=lt(/\s+/).desc("whitespace"),Pi=$e("\r"),ji=$e(`
`),Is=$e(`\r
`),Yo=Se(Is,ji,Pi).desc("newline"),Li=Se(Yo,Sa);o.all=vr,o.alt=Se,o.any=In,o.cr=Pi,o.createLanguage=function(Z){var re={};for(var pe in Z)({}).hasOwnProperty.call(Z,pe)&&function(xe){re[xe]=At(function(){return Z[xe](re)})}(pe);return re},o.crlf=Is,o.custom=function(Z){return o(Z(_,V))},o.digit=Mr,o.digits=Nr,o.empty=an,o.end=Li,o.eof=Sa,o.fail=Dt,o.formatError=Be,o.index=Sn,o.isParser=F,o.lazy=At,o.letter=Ss,o.letters=mo,o.lf=ji,o.lookahead=Et,o.makeFailure=V,o.makeSuccess=_,o.newline=Yo,o.noneOf=function(Z){return rn(function(re){return Z.indexOf(re)<0}).desc("none of '"+Z+"'")},o.notFollowedBy=$t,o.of=ft,o.oneOf=function(Z){for(var re=Z.split(""),pe=0;pe<re.length;pe++)re[pe]="'"+re[pe]+"'";return rn(function(xe){return Z.indexOf(xe)>=0}).desc(re)},o.optWhitespace=po,o.Parser=o,o.range=function(Z,re){return rn(function(pe){return Z<=pe&&pe<=re}).desc(Z+"-"+re)},o.regex=lt,o.regexp=lt,o.sepBy=Ue,o.sepBy1=Je,o.seq=it,o.seqMap=Vt,o.seqObj=function(){for(var Z,re={},pe=0,xe=(Z=arguments,Array.prototype.slice.call(Z)),je=xe.length,Ye=0;Ye<je;Ye+=1){var ze=xe[Ye];if(!F(ze)){if(H(ze)&&ze.length===2&&typeof ze[0]=="string"&&F(ze[1])){var pt=ze[0];if(Object.prototype.hasOwnProperty.call(re,pt))throw new Error("seqObj: duplicate key "+pt);re[pt]=!0,pe++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(pe===0)throw new Error("seqObj expects at least one named parser, found zero");return o(function(Yt,On){for(var yn,na={},Fn=0;Fn<je;Fn+=1){var yr,ra;if(H(xe[Fn])?(yr=xe[Fn][0],ra=xe[Fn][1]):(yr=null,ra=xe[Fn]),!(yn=U(ra._(Yt,On),yn)).status)return yn;yr&&(na[yr]=yn.value),On=yn.index}return U(_(On,na),yn)})},o.string=$e,o.succeed=ft,o.takeWhile=function(Z){return ie(Z),o(function(re,pe){for(var xe=pe;xe<re.length&&Z(ce(re,xe));)xe++;return _(xe,re.slice(pe,xe))})},o.test=rn,o.whitespace=Nl,o["fantasy-land/empty"]=an,o["fantasy-land/of"]=ft,o.Binary={bitSeq:D,bitSeqObj:function(Z){w();var re={},pe=0,xe=m(function(Ye){if(H(Ye)){var ze=Ye;if(ze.length!==2)throw new Error("["+ze.join(", ")+"] should be length 2, got length "+ze.length);if(he(ze[0]),fe(ze[1]),Object.prototype.hasOwnProperty.call(re,ze[0]))throw new Error("duplicate key in bitSeqObj: "+ze[0]);return re[ze[0]]=!0,pe++,ze}return fe(Ye),[null,Ye]},Z);if(pe<1)throw new Error("bitSeqObj expects at least one named pair, got ["+Z.join(", ")+"]");var je=m(function(Ye){return Ye[0]},xe);return D(m(function(Ye){return Ye[1]},xe)).map(function(Ye){return d(function(ze,pt){return pt[0]!==null&&(ze[pt[0]]=pt[1]),ze},{},m(function(ze,pt){return[ze,Ye[pt]]},je))})},byte:function(Z){if(w(),fe(Z),Z>255)throw new Error("Value specified to byte constructor ("+Z+"=0x"+Z.toString(16)+") is larger in value than a single byte.");var re=(Z>15?"0x":"0x0")+Z.toString(16);return o(function(pe,xe){var je=ce(pe,xe);return je===Z?_(xe+1,je):V(xe,re)})},buffer:function(Z){return S("buffer",Z).map(function(re){return Buffer.from(re)})},encodedString:function(Z,re){return S("string",re).map(function(pe){return pe.toString(Z)})},uintBE:C,uint8BE:C(1),uint16BE:C(2),uint32BE:C(4),uintLE:A,uint8LE:A(1),uint16LE:A(2),uint32LE:A(4),intBE:N,int8BE:N(1),int16BE:N(2),int32BE:N(4),intLE:L,int8LE:L(1),int16LE:L(2),int32LE:L(4),floatBE:S("floatBE",4).map(function(Z){return Z.readFloatBE(0)}),floatLE:S("floatLE",4).map(function(Z){return Z.readFloatLE(0)}),doubleBE:S("doubleBE",8).map(function(Z){return Z.readDoubleBE(0)}),doubleLE:S("doubleLE",8).map(function(Z){return Z.readDoubleLE(0)})},n.exports=o}])})})(Q);var h1=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function kT(e){return e==null?e:e.shiftToAll().normalize()}function gD(e){return e.includes("/")&&(e=e.substring(e.lastIndexOf("/")+1)),e.endsWith(".md")&&(e=e.substring(0,e.length-3)),e}Q.exports.alt(Q.exports.regex(new RegExp(h1(),"")),Q.exports.regex(/[0-9\p{Letter}_-]+/u).map(e=>e.toLocaleLowerCase()),Q.exports.whitespace.map(e=>"-"),Q.exports.any.map(e=>"")).many().map(e=>e.join(""));const gA=Q.exports.alt(Q.exports.regex(new RegExp(h1(),"")),Q.exports.regex(/[0-9\p{Letter}_-]+/u),Q.exports.whitespace.map(e=>" "),Q.exports.any.map(e=>" ")).many().map(e=>e.join("").split(/\s+/).join(" ").trim());function vA(e){return gA.tryParse(e)}function yA(e){return e=kT(e),e=et.fromObject(Object.fromEntries(Object.entries(e.toObject()).filter(([,t])=>t>0))),e.toHuman()}var em;(function(e){function t(F,H=u1,j=!1){let _=n(F);if(!_)return H.renderNullAs;switch(_.type){case"null":return H.renderNullAs;case"string":return _.value;case"number":case"boolean":return""+_.value;case"html":return _.value.outerHTML;case"widget":return _.value.markdown();case"link":return _.value.markdown();case"function":return"<function>";case"array":let V="";return j&&(V+="["),V+=_.value.map(U=>t(U,H,!0)).join(", "),j&&(V+="]"),V;case"object":return"{ "+Object.entries(_.value).map(U=>U[0]+": "+t(U[1],H,!0)).join(", ")+" }";case"date":return _.value.second==0&&_.value.hour==0&&_.value.minute==0?_.value.toFormat(H.defaultDateFormat):_.value.toFormat(H.defaultDateTimeFormat);case"duration":return yA(_.value)}}e.toString=t;function n(F){return w(F)?{type:"null",value:F}:m(F)?{type:"number",value:F}:d(F)?{type:"string",value:F}:S(F)?{type:"boolean",value:F}:g(F)?{type:"duration",value:F}:p(F)?{type:"date",value:F}:C(F)?{type:"widget",value:F}:D(F)?{type:"array",value:F}:T(F)?{type:"link",value:F}:L(F)?{type:"function",value:F}:A(F)?{type:"html",value:F}:N(F)?{type:"object",value:F}:void 0}e.wrapValue=n;function r(F,H){if(N(F)){let j={};for(let[_,V]of Object.entries(F))j[_]=r(V,H);return j}else if(D(F)){let j=[];for(let _ of F)j.push(r(_,H));return j}else return H(F)}e.mapLeaves=r;function a(F,H,j){var _,V;if(F===void 0&&(F=null),H===void 0&&(H=null),F===null&&H===null)return 0;if(F===null)return-1;if(H===null)return 1;let U=n(F),z=n(H);if(U===void 0&&z===void 0)return 0;if(U===void 0)return-1;if(z===void 0)return 1;if(U.type!=z.type)return U.type.localeCompare(z.type);if(U.value===z.value)return 0;switch(U.type){case"string":return U.value.localeCompare(z.value);case"number":return U.value<z.value?-1:U.value==z.value?0:1;case"null":return 0;case"boolean":return U.value==z.value?0:U.value?1:-1;case"link":let q=U.value,ee=z.value,ce=j??(ve=>ve),fe=ce(q.path).localeCompare(ce(ee.path));if(fe!=0)return fe;let ie=q.type.localeCompare(ee.type);return ie!=0?ie:q.subpath&&!ee.subpath?1:!q.subpath&&ee.subpath?-1:!q.subpath&&!ee.subpath?0:((_=q.subpath)!==null&&_!==void 0?_:"").localeCompare((V=ee.subpath)!==null&&V!==void 0?V:"");case"date":return U.value<z.value?-1:U.value.equals(z.value)?0:1;case"duration":return U.value<z.value?-1:U.value.equals(z.value)?0:1;case"array":let he=U.value,Ie=z.value;for(let ve=0;ve<Math.min(he.length,Ie.length);ve++){let De=a(he[ve],Ie[ve]);if(De!=0)return De}return he.length-Ie.length;case"object":let se=U.value,we=z.value,W=Array.from(Object.keys(se)),$=Array.from(Object.keys(we));W.sort(),$.sort();let X=a(W,$);if(X!=0)return X;for(let ve of W){let De=a(se[ve],we[ve]);if(De!=0)return De}return 0;case"widget":case"html":case"function":return 0}}e.compareValue=a;function o(F){var H;return(H=n(F))===null||H===void 0?void 0:H.type}e.typeOf=o;function s(F){let H=n(F);if(!H)return!1;switch(H.type){case"number":return H.value!=0;case"string":return H.value.length>0;case"boolean":return H.value;case"link":return!!H.value.path;case"date":return H.value.toMillis()!=0;case"duration":return H.value.as("seconds")!=0;case"object":return Object.keys(H.value).length>0;case"array":return H.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}e.isTruthy=s;function u(F){if(F==null)return F;if(e.isArray(F))return[].concat(F.map(H=>u(H)));if(e.isObject(F)){let H={};for(let[j,_]of Object.entries(F))H[j]=u(_);return H}else return F}e.deepCopy=u;function d(F){return typeof F=="string"}e.isString=d;function m(F){return typeof F=="number"}e.isNumber=m;function p(F){return F instanceof st}e.isDate=p;function g(F){return F instanceof et}e.isDuration=g;function w(F){return F==null}e.isNull=w;function D(F){return Array.isArray(F)}e.isArray=D;function S(F){return typeof F=="boolean"}e.isBoolean=S;function T(F){return F instanceof _r}e.isLink=T;function C(F){return F instanceof m1}e.isWidget=C;function A(F){return typeof HTMLElement<"u"?F instanceof HTMLElement:!1}e.isHtml=A;function N(F){return typeof F=="object"&&!A(F)&&!C(F)&&!D(F)&&!g(F)&&!p(F)&&!T(F)&&F!==void 0&&!w(F)}e.isObject=N;function L(F){return typeof F=="function"}e.isFunction=L})(em||(em={}));var vD;(function(e){function t(a){return em.isObject(a)&&Object.keys(a).length==2&&"key"in a&&"rows"in a}e.isElementGroup=t;function n(a){for(let o of a)if(!t(o))return!1;return!0}e.isGrouping=n;function r(a){if(n(a)){let o=0;for(let s of a)o+=r(s.rows);return o}else return a.length}e.count=r})(vD||(vD={}));class _r{constructor(t){Object.assign(this,t)}static file(t,n=!1,r){return new _r({path:t,embed:n,display:r,subpath:void 0,type:"file"})}static infer(t,n=!1,r){if(t.includes("#^")){let a=t.split("#^");return _r.block(a[0],a[1],n,r)}else if(t.includes("#")){let a=t.split("#");return _r.header(a[0],a[1],n,r)}else return _r.file(t,n,r)}static header(t,n,r,a){return new _r({path:t,embed:r,display:a,subpath:vA(n),type:"header"})}static block(t,n,r,a){return new _r({path:t,embed:r,display:a,subpath:n,type:"block"})}static fromObject(t){return new _r(t)}equals(t){return t==null||t==null?!1:this.path==t.path&&this.type==t.type&&this.subpath==t.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(t){return new _r(Object.assign({},this,{path:t}))}withDisplay(t){return new _r(Object.assign({},this,{display:t}))}withHeader(t){return _r.header(this.path,t,this.embed,this.display)}toFile(){return _r.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let t=new _r(this);return t.embed=!0,t}}fromEmbed(){if(this.embed){let t=new _r(this);return t.embed=!1,t}else return this}markdown(){let t=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?t+="|"+this.display:(t+="|"+gD(this.path),(this.type=="header"||this.type=="block")&&(t+=" > "+this.subpath)),t+="]]",t}obsidianLink(){var t,n;const r=this.path.replace("|","\\|");return this.type=="header"?r+"#"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):this.type=="block"?r+"#^"+((n=this.subpath)===null||n===void 0?void 0:n.replace("|","\\|")):r}fileName(){return gD(this.path).replace(".md","")}}class m1{constructor(t){this.$widget=t}}class wA extends m1{constructor(t,n){super("dataview:list-pair"),this.key=t,this.value=n}markdown(){return`${em.toString(this.key)}: ${em.toString(this.value)}`}}class bA extends m1{constructor(t,n){super("dataview:external-link"),this.url=t,this.display=n}markdown(){var t;return`[${(t=this.display)!==null&&t!==void 0?t:this.url}](${this.url})`}}var yD;(function(e){function t(s,u){return new wA(s,u)}e.listPair=t;function n(s,u){return new bA(s,u)}e.externalLink=n;function r(s){return s.$widget==="dataview:list-pair"}e.isListPair=r;function a(s){return s.$widget==="dataview:external-link"}e.isExternalLink=a;function o(s){return r(s)||a(s)}e.isBuiltin=o})(yD||(yD={}));var Mn;(function(e){function t(w){return{type:"variable",name:w}}e.variable=t;function n(w){return{type:"literal",value:w}}e.literal=n;function r(w,D,S){return{type:"binaryop",left:w,op:D,right:S}}e.binaryOp=r;function a(w,D){return{type:"index",object:w,index:D}}e.index=a;function o(w){let D=w.split("."),S=e.variable(D[0]);for(let T=1;T<D.length;T++)S=e.index(S,e.literal(D[T]));return S}e.indexVariable=o;function s(w,D){return{type:"lambda",arguments:w,value:D}}e.lambda=s;function u(w,D){return{type:"function",func:w,arguments:D}}e.func=u;function d(w){return{type:"list",values:w}}e.list=d;function m(w){return{type:"object",values:w}}e.object=m;function p(w){return{type:"negated",child:w}}e.negate=p;function g(w){return w=="<="||w=="<"||w==">"||w==">="||w=="!="||w=="="}e.isCompareOp=g,e.NULL=e.literal(null)})(Mn||(Mn={}));var Ei;(function(e){function t(p){return{type:"tag",tag:p}}e.tag=t;function n(p){return{type:"csv",path:p}}e.csv=n;function r(p){return{type:"folder",folder:p}}e.folder=r;function a(p,g){return{type:"link",file:p,direction:g?"incoming":"outgoing"}}e.link=a;function o(p,g,w){return{type:"binaryop",left:p,op:g,right:w}}e.binaryOp=o;function s(p,g){return{type:"binaryop",left:p,op:"&",right:g}}e.and=s;function u(p,g){return{type:"binaryop",left:p,op:"|",right:g}}e.or=u;function d(p){return{type:"negate",child:p}}e.negate=d;function m(){return{type:"empty"}}e.empty=m})(Ei||(Ei={}));const wD=new RegExp(h1(),""),Ew={year:et.fromObject({years:1}),years:et.fromObject({years:1}),yr:et.fromObject({years:1}),yrs:et.fromObject({years:1}),month:et.fromObject({months:1}),months:et.fromObject({months:1}),mo:et.fromObject({months:1}),mos:et.fromObject({months:1}),week:et.fromObject({weeks:1}),weeks:et.fromObject({weeks:1}),wk:et.fromObject({weeks:1}),wks:et.fromObject({weeks:1}),w:et.fromObject({weeks:1}),day:et.fromObject({days:1}),days:et.fromObject({days:1}),d:et.fromObject({days:1}),hour:et.fromObject({hours:1}),hours:et.fromObject({hours:1}),hr:et.fromObject({hours:1}),hrs:et.fromObject({hours:1}),h:et.fromObject({hours:1}),minute:et.fromObject({minutes:1}),minutes:et.fromObject({minutes:1}),min:et.fromObject({minutes:1}),mins:et.fromObject({minutes:1}),m:et.fromObject({minutes:1}),second:et.fromObject({seconds:1}),seconds:et.fromObject({seconds:1}),sec:et.fromObject({seconds:1}),secs:et.fromObject({seconds:1}),s:et.fromObject({seconds:1})},Cw={now:()=>st.local(),today:()=>st.local().startOf("day"),yesterday:()=>st.local().startOf("day").minus(et.fromObject({days:1})),tomorrow:()=>st.local().startOf("day").plus(et.fromObject({days:1})),sow:()=>st.local().startOf("week"),"start-of-week":()=>st.local().startOf("week"),eow:()=>st.local().endOf("week"),"end-of-week":()=>st.local().endOf("week"),soy:()=>st.local().startOf("year"),"start-of-year":()=>st.local().startOf("year"),eoy:()=>st.local().endOf("year"),"end-of-year":()=>st.local().endOf("year"),som:()=>st.local().startOf("month"),"start-of-month":()=>st.local().startOf("month"),eom:()=>st.local().endOf("month"),"end-of-month":()=>st.local().endOf("month")},xw=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function DA(e){let t=-1;for(;(t=e.indexOf("|",t+1))>=0;)if(!(t>0&&e[t-1]=="\\"))return[e.substring(0,t).replace(/\\\|/g,"|"),e.substring(t+1)];return[e.replace(/\\\|/g,"|"),void 0]}function SA(e){let[t,n]=DA(e);return _r.infer(t,!1,n)}function Fh(e,t,n){return Q.exports.seqMap(e,Q.exports.seq(Q.exports.optWhitespace,t,Q.exports.optWhitespace,e).many(),(r,a)=>{if(a.length==0)return r;let o=n(r,a[0][1],a[0][3]);for(let s=1;s<a.length;s++)o=n(o,a[s][1],a[s][3]);return o})}function IA(e,...t){return Q.exports.custom((n,r)=>(a,o)=>{let s=e._(a,o);if(!s.status)return s;for(let u of t){let d=u(s.value)._(a,s.index);if(!d.status)return s;s=d}return s})}const Fo=Q.exports.createLanguage({number:e=>Q.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(t=>Number.parseFloat(t)).desc("number"),string:e=>Q.exports.string('"').then(Q.exports.alt(e.escapeCharacter,Q.exports.noneOf('"\\')).atLeast(0).map(t=>t.join(""))).skip(Q.exports.string('"')).desc("string"),escapeCharacter:e=>Q.exports.string("\\").then(Q.exports.any).map(t=>t==='"'?'"':t==="\\"?"\\":"\\"+t),bool:e=>Q.exports.regexp(/true|false|True|False/).map(t=>t.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:e=>Q.exports.seqMap(Q.exports.string("#"),Q.exports.alt(Q.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(t,n)=>t+n.join("")).desc("tag ('#hello/stuff')"),identifier:e=>Q.exports.seqMap(Q.exports.alt(Q.exports.regexp(new RegExp("\\p{Letter}","u")),Q.exports.regexp(wD).desc("text")),Q.exports.alt(Q.exports.regexp(/[0-9\p{Letter}_-]/u),Q.exports.regexp(wD).desc("text")).many(),(t,n)=>t+n.join("")).desc("variable identifier"),link:e=>Q.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(t=>SA(t)).desc("file link"),embedLink:e=>Q.exports.seqMap(Q.exports.string("!").atMost(1),e.link,(t,n)=>(t.length>0&&(n.embed=!0),n)).desc("file link"),binaryPlusMinus:e=>Q.exports.regexp(/\+|-/).map(t=>t).desc("'+' or '-'"),binaryMulDiv:e=>Q.exports.regexp(/\*|\/|%/).map(t=>t).desc("'*' or '/' or '%'"),binaryCompareOp:e=>Q.exports.regexp(/>=|<=|!=|>|<|=/).map(t=>t).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:e=>Q.exports.regexp(/and|or|&|\|/i).map(t=>t.toLowerCase()=="and"?"&":t.toLowerCase()=="or"?"|":t).desc("'and' or 'or'"),rootDate:e=>Q.exports.seqMap(Q.exports.regexp(/\d{4}/),Q.exports.string("-"),Q.exports.regexp(/\d{2}/),(t,n,r)=>st.fromObject({year:Number.parseInt(t),month:Number.parseInt(r)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:e=>Q.exports.alt(...Object.keys(Cw).sort((t,n)=>n.length-t.length).map(Q.exports.string)),date:e=>IA(e.rootDate,t=>Q.exports.seqMap(Q.exports.string("-"),Q.exports.regexp(/\d{2}/),(n,r)=>t.set({day:Number.parseInt(r)})),t=>Q.exports.seqMap(Q.exports.string("T"),Q.exports.regexp(/\d{2}/),(n,r)=>t.set({hour:Number.parseInt(r)})),t=>Q.exports.seqMap(Q.exports.string(":"),Q.exports.regexp(/\d{2}/),(n,r)=>t.set({minute:Number.parseInt(r)})),t=>Q.exports.seqMap(Q.exports.string(":"),Q.exports.regexp(/\d{2}/),(n,r)=>t.set({second:Number.parseInt(r)})),t=>Q.exports.alt(Q.exports.seqMap(Q.exports.string("."),Q.exports.regexp(/\d{3}/),(n,r)=>t.set({millisecond:Number.parseInt(r)})),Q.exports.succeed(t)),t=>Q.exports.alt(Q.exports.seqMap(Q.exports.string("+").or(Q.exports.string("-")),Q.exports.regexp(/\d{1,2}(:\d{2})?/),(n,r)=>t.setZone("UTC"+n+r,{keepLocalTime:!0})),Q.exports.seqMap(Q.exports.string("Z"),()=>t.setZone("utc",{keepLocalTime:!0})),Q.exports.seqMap(Q.exports.string("["),Q.exports.regexp(/[0-9A-Za-z+-\/]+/u),Q.exports.string("]"),(n,r,a)=>t.setZone(r,{keepLocalTime:!0})))).assert(t=>t.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:e=>Q.exports.alt(e.dateShorthand.map(t=>Cw[t]()),e.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:e=>Q.exports.alt(...Object.keys(Ew).sort((t,n)=>n.length-t.length).map(Q.exports.string)),duration:e=>Q.exports.seqMap(e.number,Q.exports.optWhitespace,e.durationType,(t,n,r)=>Ew[r].mapUnits(a=>a*t)).sepBy1(Q.exports.string(",").trim(Q.exports.optWhitespace).or(Q.exports.optWhitespace)).map(t=>t.reduce((n,r)=>n.plus(r))).desc("duration like 4hr2min"),rawNull:e=>Q.exports.string("null"),tagSource:e=>e.tag.map(t=>Ei.tag(t)),csvSource:e=>Q.exports.seqMap(Q.exports.string("csv(").skip(Q.exports.optWhitespace),e.string,Q.exports.string(")"),(t,n,r)=>Ei.csv(n)),linkIncomingSource:e=>e.link.map(t=>Ei.link(t.path,!0)),linkOutgoingSource:e=>Q.exports.seqMap(Q.exports.string("outgoing(").skip(Q.exports.optWhitespace),e.link,Q.exports.string(")"),(t,n,r)=>Ei.link(n.path,!1)),folderSource:e=>e.string.map(t=>Ei.folder(t)),parensSource:e=>Q.exports.seqMap(Q.exports.string("("),Q.exports.optWhitespace,e.source,Q.exports.optWhitespace,Q.exports.string(")"),(t,n,r,a,o)=>r),negateSource:e=>Q.exports.seqMap(Q.exports.alt(Q.exports.string("-"),Q.exports.string("!")),e.atomSource,(t,n)=>Ei.negate(n)),atomSource:e=>Q.exports.alt(e.parensSource,e.negateSource,e.linkOutgoingSource,e.linkIncomingSource,e.folderSource,e.tagSource,e.csvSource),binaryOpSource:e=>Fh(e.atomSource,e.binaryBooleanOp.map(t=>t),Ei.binaryOp),source:e=>e.binaryOpSource,variableField:e=>e.identifier.chain(t=>xw.includes(t.toUpperCase())?Q.exports.fail("Variable fields cannot be a keyword ("+xw.join(" or ")+")"):Q.exports.succeed(Mn.variable(t))).desc("variable"),numberField:e=>e.number.map(t=>Mn.literal(t)).desc("number"),stringField:e=>e.string.map(t=>Mn.literal(t)).desc("string"),boolField:e=>e.bool.map(t=>Mn.literal(t)).desc("boolean"),dateField:e=>Q.exports.seqMap(Q.exports.string("date("),Q.exports.optWhitespace,e.datePlus,Q.exports.optWhitespace,Q.exports.string(")"),(t,n,r,a,o)=>Mn.literal(r)).desc("date"),durationField:e=>Q.exports.seqMap(Q.exports.string("dur("),Q.exports.optWhitespace,e.duration,Q.exports.optWhitespace,Q.exports.string(")"),(t,n,r,a,o)=>Mn.literal(r)).desc("duration"),nullField:e=>e.rawNull.map(t=>Mn.NULL),linkField:e=>e.link.map(t=>Mn.literal(t)),listField:e=>e.field.sepBy(Q.exports.string(",").trim(Q.exports.optWhitespace)).wrap(Q.exports.string("[").skip(Q.exports.optWhitespace),Q.exports.optWhitespace.then(Q.exports.string("]"))).map(t=>Mn.list(t)).desc("list ('[1, 2, 3]')"),objectField:e=>Q.exports.seqMap(e.identifier.or(e.string),Q.exports.string(":").trim(Q.exports.optWhitespace),e.field,(t,n,r)=>({name:t,value:r})).sepBy(Q.exports.string(",").trim(Q.exports.optWhitespace)).wrap(Q.exports.string("{").skip(Q.exports.optWhitespace),Q.exports.optWhitespace.then(Q.exports.string("}"))).map(t=>{let n={};for(let r of t)n[r.name]=r.value;return Mn.object(n)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:e=>Q.exports.alt(e.date,e.duration.map(t=>kT(t)),e.string,e.tag,e.embedLink,e.bool,e.number,e.rawNull),inlineFieldList:e=>e.atomInlineField.sepBy(Q.exports.string(",").trim(Q.exports.optWhitespace).lookahead(e.atomInlineField)),inlineField:e=>Q.exports.alt(Q.exports.seqMap(e.atomInlineField,Q.exports.string(",").trim(Q.exports.optWhitespace),e.inlineFieldList,(t,n,r)=>[t].concat(r)),e.atomInlineField),atomField:e=>Q.exports.alt(e.embedLink.map(t=>Mn.literal(t)),e.negatedField,e.linkField,e.listField,e.objectField,e.lambdaField,e.parensField,e.boolField,e.numberField,e.stringField,e.dateField,e.durationField,e.nullField,e.variableField),indexField:e=>Q.exports.seqMap(e.atomField,Q.exports.alt(e.dotPostfix,e.indexPostfix,e.functionPostfix).many(),(t,n)=>{let r=t;for(let a of n)switch(a.type){case"dot":r=Mn.index(r,Mn.literal(a.field));break;case"index":r=Mn.index(r,a.field);break;case"function":r=Mn.func(r,a.fields);break}return r}),negatedField:e=>Q.exports.seqMap(Q.exports.string("!"),e.indexField,(t,n)=>Mn.negate(n)).desc("negated field"),parensField:e=>Q.exports.seqMap(Q.exports.string("("),Q.exports.optWhitespace,e.field,Q.exports.optWhitespace,Q.exports.string(")"),(t,n,r,a,o)=>r),lambdaField:e=>Q.exports.seqMap(e.identifier.sepBy(Q.exports.string(",").trim(Q.exports.optWhitespace)).wrap(Q.exports.string("(").trim(Q.exports.optWhitespace),Q.exports.string(")").trim(Q.exports.optWhitespace)),Q.exports.string("=>").trim(Q.exports.optWhitespace),e.field,(t,n,r)=>({type:"lambda",arguments:t,value:r})),dotPostfix:e=>Q.exports.seqMap(Q.exports.string("."),e.identifier,(t,n)=>({type:"dot",field:n})),indexPostfix:e=>Q.exports.seqMap(Q.exports.string("["),Q.exports.optWhitespace,e.field,Q.exports.optWhitespace,Q.exports.string("]"),(t,n,r,a,o)=>({type:"index",field:r})),functionPostfix:e=>Q.exports.seqMap(Q.exports.string("("),Q.exports.optWhitespace,e.field.sepBy(Q.exports.string(",").trim(Q.exports.optWhitespace)),Q.exports.optWhitespace,Q.exports.string(")"),(t,n,r,a,o)=>({type:"function",fields:r})),binaryMulDivField:e=>Fh(e.indexField,e.binaryMulDiv,Mn.binaryOp),binaryPlusMinusField:e=>Fh(e.binaryMulDivField,e.binaryPlusMinus,Mn.binaryOp),binaryCompareField:e=>Fh(e.binaryPlusMinusField,e.binaryCompareOp,Mn.binaryOp),binaryBooleanField:e=>Fh(e.binaryCompareField,e.binaryBooleanOp,Mn.binaryOp),binaryOpField:e=>e.binaryBooleanField,field:e=>e.binaryOpField});function TA(e){try{return dv.success(Fo.field.tryParse(e))}catch(t){return dv.failure(""+t)}}var fv;(function(e){function t(r,a){return{name:r,field:a}}e.named=t;function n(r,a){return{field:r,direction:a}}e.sortBy=n})(fv||(fv={}));function EA(e){return Q.exports.custom((t,n)=>(r,a)=>{let o=e._(r,a);return o.status?Object.assign({},o,{value:[o.value,r.substring(a,o.index)]}):o})}function CA(e){return e.split(/[\r\n]+/).map(t=>t.trim()).join("")}const xA=Q.exports.createLanguage({queryType:e=>Q.exports.alt(Q.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(t=>t.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:e=>Q.exports.seqMap(Fo.field.skip(Q.exports.whitespace),Q.exports.regexp(/AS/i).skip(Q.exports.whitespace),Fo.identifier.or(Fo.string),(t,n,r)=>fv.named(r,t)),namedField:e=>Q.exports.alt(e.explicitNamedField,EA(Fo.field).map(([t,n])=>fv.named(CA(n),t))),sortField:e=>Q.exports.seqMap(Fo.field.skip(Q.exports.optWhitespace),Q.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(t,n)=>{let r=n.length==0?"ascending":n[0].toLowerCase();return r=="desc"&&(r="descending"),r=="asc"&&(r="ascending"),{field:t,direction:r}}),headerClause:e=>e.queryType.skip(Q.exports.whitespace).chain(t=>{switch(t){case"table":return Q.exports.seqMap(Q.exports.regexp(/WITHOUT\s+ID/i).skip(Q.exports.optWhitespace).atMost(1),Q.exports.sepBy(e.namedField,Q.exports.string(",").trim(Q.exports.optWhitespace)),(n,r)=>({type:"table",fields:r,showId:n.length==0}));case"list":return Q.exports.seqMap(Q.exports.regexp(/WITHOUT\s+ID/i).skip(Q.exports.optWhitespace).atMost(1),Fo.field.atMost(1),(n,r)=>({type:"list",format:r.length==1?r[0]:void 0,showId:n.length==0}));case"task":return Q.exports.succeed({type:"task"});case"calendar":return Q.exports.seqMap(e.namedField,n=>({type:"calendar",showId:!0,field:n}));default:return Q.exports.fail(`Unrecognized query type '${t}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:e=>Q.exports.seqMap(Q.exports.regexp(/FROM/i),Q.exports.whitespace,Fo.source,(t,n,r)=>r),whereClause:e=>Q.exports.seqMap(Q.exports.regexp(/WHERE/i),Q.exports.whitespace,Fo.field,(t,n,r)=>({type:"where",clause:r})).desc("WHERE <expression>"),sortByClause:e=>Q.exports.seqMap(Q.exports.regexp(/SORT/i),Q.exports.whitespace,e.sortField.sepBy1(Q.exports.string(",").trim(Q.exports.optWhitespace)),(t,n,r)=>({type:"sort",fields:r})).desc("SORT field [ASC/DESC]"),limitClause:e=>Q.exports.seqMap(Q.exports.regexp(/LIMIT/i),Q.exports.whitespace,Fo.field,(t,n,r)=>({type:"limit",amount:r})).desc("LIMIT <value>"),flattenClause:e=>Q.exports.seqMap(Q.exports.regexp(/FLATTEN/i).skip(Q.exports.whitespace),e.namedField,(t,n)=>({type:"flatten",field:n})).desc("FLATTEN <value> [AS <name>]"),groupByClause:e=>Q.exports.seqMap(Q.exports.regexp(/GROUP BY/i).skip(Q.exports.whitespace),e.namedField,(t,n)=>({type:"group",field:n})).desc("GROUP BY <value> [AS <name>]"),clause:e=>Q.exports.alt(e.fromClause,e.whereClause,e.sortByClause,e.limitClause,e.groupByClause,e.flattenClause),query:e=>Q.exports.seqMap(e.headerClause.trim(Q.exports.optWhitespace),e.fromClause.trim(Q.exports.optWhitespace).atMost(1),e.clause.trim(Q.exports.optWhitespace).many(),(t,n,r)=>({header:t,source:n.length==0?Ei.folder(""):n[0],operations:r,settings:u1}))}),MA=e=>{var t;return e?(t=e.plugins.plugins.dataview)===null||t===void 0?void 0:t.api:window.DataviewAPI},NA=e=>e.plugins.enabledPlugins.has("dataview");bs.DATE_SHORTHANDS=Cw;bs.DURATION_TYPES=Ew;bs.EXPRESSION=Fo;bs.KEYWORDS=xw;bs.QUERY_LANGUAGE=xA;var kA=bs.getAPI=MA;bs.isPluginEnabled=NA;bs.parseField=TA;async function AA(e,t,n,r,a){var C,A;const{vault:o,metadataCache:s}=Ee.getState().dailyNotesState.app===void 0?app:Ee.getState().dailyNotesState.app,u=Ee.getState().dailyNotesState.settings,d=e.replace(/\n/g,"<br>");if(n===void 0)return;const m=s.getFirstLinkpathDest("",n),p=E.moment(),g=p.format("YYYYMMDDHHmmss"),w=r.slice(14),D="    ",S=g+" "+d.trim(),T=D+"- "+g+" "+d.trim();if(m){let N;if(u!=null&&u.CommentOnMemos&&(u!=null&&u.CommentsInOriginalNotes)){const j=kA();if(j!==void 0)try{N=(A=(C=j.page(m.path))==null?void 0:C.file.lists.values)==null?void 0:A.filter(_=>_.line===parseInt(w))}catch(_){console.error(_)}}const L=await o.read(m);let F=0;N[0].children.values.length>0?F=N[0].children.values[N[0].children.values.length-1].line:F=N[0].line;const H=await OA(T,L,F);if(await o.modify(m,H.content),t)return{id:g+(F+1),content:S,deletedAt:"",createdAt:p.format("YYYY/MM/DD HH:mm:ss"),updatedAt:p.format("YYYY/MM/DD HH:mm:ss"),thinoType:"JOURNAL",path:m.path,hasId:"",linkId:a}}}async function OA(e,t,n){if(n===-1)return{content:`${t}
${e}`,posNum:-1};const r=t.split(`
`),a=r.slice(0,n+1).join(`
`),o=r.slice(n+1).join(`
`);return/^\s*$/g.test(r[n+1])?{content:`${a}
${e}
${o}`,posNum:n}:{content:`${a}
${e}
${o}`,posNum:n}}const p1=async e=>{const t=rt.getState().app,n=t.metadataCache.getFirstLinkpathDest("",e);if(!n){new E.Notice(k("File not found for the given thino path"));return}await t.workspace.getLeaf("split").openFile(n)},g1=async(e,t)=>{const{app:n}=rt.getState(),r=parseInt(e.slice(14)),a=n.metadataCache.getFirstLinkpathDest("",t);if(!E.Platform.isMobile)await n.workspace.getLeaf("split").openFile(a,{eState:{line:r}});else{let o=n.workspace.activeLeaf;o===null&&(o=n.workspace.getLeaf(!1)),await o.openFile(a,{eState:{line:r}})}},v1=async(e,t)=>{var d;const n=rt.getState().app,r=n.metadataCache.getFirstLinkpathDest("",t);if(!r){new E.Notice(k("File not found for the given thino path"));return}let a="";try{a=await n.vault.read(r)}catch(m){console.error(m),a=await n.vault.cachedRead(r)}const s=a.split(/\r?\n/).findIndex(m=>m.contains(e)),u=n.workspace.getLeaf("split");await u.openFile(r,{eState:{line:s}});try{(d=u.view.editor)==null||d.setCursor({line:s,ch:1})}catch(m){console.error(m)}},y1=async(e,t)=>{var u;const n=rt.getState().app,r=(d,m)=>{var g;const p=(g=Array.from(d.nodes.values()))==null?void 0:g.find(w=>w.id===m);return p?(d.selectOnly(p),d.zoomToSelection(),!0):!1},a=n.workspace.getLeavesOfType("canvas");for(const d of a){const m=d.view;if(((u=m==null?void 0:m.file)==null?void 0:u.path)===t&&r(m.canvas,e))return}const o=n.metadataCache.getFirstLinkpathDest("",t);if(!o){new E.Notice(k("File not found for the given thino path"));return}const s=n.workspace.getLeaf("split");await s.openFile(o),setTimeout(()=>{var d;r((d=s.view)==null?void 0:d.canvas,e)},10)},FA="https://api.thino.pkmer.cn/test",Zd=FA,PA="unknown",jA=/!\[(?<content>[^\]]+)\]\((?<link>[^)]+)\)/g;function LA(e){return e.substring(e.lastIndexOf(".")+1)}function RA(e){return{id:e.id,createdAt:Date.now().toString(),filename:e.id,type:`${LA(e.id)}`,size:e.size.toString()}}function _A(e){const t=e==null?void 0:e.matchAll(jA);return t?Array.from(t).map(n=>{var r;return RA({url:(r=n.groups)==null?void 0:r.link,id:PA,size:0,mtime:""})}).filter(n=>n.type!="html"):[]}function xm(e){var t;return{id:e.id,createdAt:E.moment(e.ctime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),updatedAt:E.moment(e.mtime.toString(),"x").format("YYYY/MM/DD HH:mm:ss"),deletedAt:(t=e.ttime)!=null&&t.toString()?E.moment(e.ttime.toString(),"x").format("YYYY-MM-DD HH:mm:ss"):"",rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,resourceList:_A(e.content),creatorName:"thino",sourceType:(e==null?void 0:e.thinoType)||"FILE",visibility:"PUBLIC",localId:e.originalId,deleted:!!e.dtime}}async function HA(e){const n={url:`${Zd}/thino/getThinos${e?`?since=${e}&includeDeleted=true`:""}`,method:"GET",headers:{Authorization:`Bearer ${Wd()}`}};return E.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to fetch memos: ${r.status}`);try{return r.json.payload.map(o=>xm(o))}catch(a){console.error(`Error processing memo response: ${a}`)}}).catch(r=>(console.error(r),[]))}function Wd(){const e=Ee.getState().dailyNotesState.app||app;return(e==null?void 0:e.loadLocalStorage("tokenForSync"))||""}async function AT(e){const t=`${Zd}/thino/createThino`,n={content:e.content,thinoType:(e==null?void 0:e.thinoType)||"FILE",pinned:!1,rowStatus:"NORMAL",encrypted:!1},r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Wd()}`}};return E.requestUrl(r).then(a=>{a.status>=400&&console.error(`Failed to create memo: ${a.status}`);try{const o=a.json;return xm(o.payload)}catch(o){console.error(`Error processing memo creation response: ${o}`)}}).catch(a=>(console.error(a),null))}function BA(e){return{id:e.id,ctime:E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").valueOf(),mtime:E.moment(e.updatedAt,"YYYY/MM/DD HH:mm:ss").valueOf(),ttime:e.deletedAt?E.moment(e.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():void 0,rowStatus:e.rowStatus,content:e.content,pinned:e.pinned,encrypted:!1,thinoType:e.sourceType==="DAILY"?"DAILY":"FILE",tags:[]}}async function YA(e){const t=`${Zd}/thino/createThinosByData`,n=e.map(a=>BA(a)),r={url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),headers:{Authorization:`Bearer ${Wd()}`}};return E.requestUrl(r).then(a=>{a.status>=400&&console.error(`Failed to create thinos: ${a.status}`);try{return a.json.payload.map(u=>xm(u))}catch(o){console.error(`Error processing thinos creation response: ${o}`)}}).catch(a=>(console.error(a),[]))}async function N0(e){const n={url:`${Zd}/thino/updateThinoById/${e.id}`,method:"POST",contentType:"application/json",body:JSON.stringify(e),headers:{Authorization:`Bearer ${Wd()}`}};return E.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to update memo: ${r.status}`);try{const a=r.json;return xm(a.payload)}catch(a){console.error(`Error processing memo update response: ${a}`)}}).catch(r=>(console.error(r),null))}async function OT(e){const n={url:`${Zd}/thino/recoverThinoFromTrash/${e}`,method:"POST",headers:{Authorization:`Bearer ${Wd()}`}};return E.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to recover memo: ${r.status}`);try{const a=r.json;return xm(a.payload)}catch(a){console.error(`Error processing memo recovery response: ${a}`)}}).catch(r=>(console.error(r),null))}async function zA(e){const n={url:`${Zd}/thino/deleteThinoById/${e}`,method:"DELETE",headers:{Authorization:`Bearer ${Wd()}`}};return E.requestUrl(n).then(r=>{r.status>=400&&console.error(`Failed to delete memo: ${r.status}`)}).catch(r=>(console.error(r),null))}class UA{constructor(){me(this,"initialized",!1)}getState(){return Ee.getState().memoState}async fetchAllMemos(){const t=rt.getState().settings,n=await va.getMyMemos(t.EnabledLocationList.map(o=>o.value)),r=[...n.memos],a=[...n.commentMemos];return Ee.dispatch({type:"SET_MEMOS",payload:{memos:r}}),Ee.dispatch({type:"SET_COMMENT_MEMOS",payload:{commentMemos:a}}),this.initialized||(this.initialized=!0,Qe.setLoaded(!0)),r}async updateTypeMemos(t){const n=await va.updateSpecificTypeMemo(t),r=this.getState().memos.filter(a=>a.sourceType!==t);Ee.dispatch({type:"SET_MEMOS",payload:{memos:[...r,...n.memos]}})}async removeTypeMemos(t){const n=this.getState().memos.filter(r=>r.sourceType!==t);Ee.dispatch({type:"SET_MEMOS",payload:{memos:[...n]}})}async fetchDeletedMemos(){const t=await va.getMyDeletedMemos();return t.sort((n,r)=>Re.getTimeStampByDate(r.deletedAt)-Re.getTimeStampByDate(n.deletedAt)),t}pushMemo(t){Ee.dispatch({type:"INSERT_MEMO",payload:{memo:{...t}}})}pushCommentMemo(t){Ee.dispatch({type:"INSERT_COMMENT_MEMO",payload:{memo:{...t}}})}getMemoById(t){for(const n of this.getState().memos)if(n.id===t)return n;return null}getCommentMemoById(t){for(const n of this.getState().commentMemos)if(n.id===t)return n;return null}getMemoByWebId(t){for(const n of this.getState().memos)if(n.webId===t||n.id===t)return n;return null}async updateMemoById(t,n,r){const a=this.getMemoByWebId(t);if(!a)return;let o=null;const s=r?{}:{content:n.content,rowStatus:n.rowStatus,pinned:n.pinned,deleted:!!n.deletedAt,thinoType:n.thinoType??""};switch(a.sourceType){case"DAILY":o=await Ti(a,{id:a.id,webId:n.id,...s});break;case"CANVAS":o=await Ii(a,{id:a.id,webId:n.id,...s});break;case"MULTI":o=await Po(a,{id:a.id,webId:n.id,...s});break;case"FILE":o=await Si(a,{id:a.id,webId:n.id,...s});break}if(!o)return a;Ee.dispatch({type:"EDIT_MEMO",payload:o})}async archiveThinoBulk(t){const n=[];for(const r of t){let a;switch(r.sourceType){case"DAILY":a=await Ti(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(a);break;case"CANVAS":a=await Ii(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(a);break;case"MULTI":a=await Po(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(a);break;case"FILE":a=await Si(r,{id:r.id,rowStatus:"ARCHIVED"}),n.push(a);break}}return n.length>0?(Ee.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async archiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await Ti(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"CANVAS":n=await Ii(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"MULTI":n=await Po(t,{id:t.id,rowStatus:"ARCHIVED"});break;case"FILE":n=await Si(t,{id:t.id,rowStatus:"ARCHIVED"});break}return n?(Ee.dispatch({type:"ARCHIVE_MEMO_BY_ID",payload:n}),n):t}async unarchiveThinoBulk(t){const n=[];for(const r of t){let a;switch(r.sourceType){case"DAILY":a=await Ti(r,{id:r.id,rowStatus:"NORMAL"}),n.push(a);break;case"CANVAS":a=await Ii(r,{id:r.id,rowStatus:"NORMAL"}),n.push(a);break;case"MULTI":a=await Po(r,{id:r.id,rowStatus:"NORMAL"}),n.push(a);break;case"FILE":a=await Si(r,{id:r.id,rowStatus:"NORMAL"}),n.push(a);break}}return n.length>0?(Ee.dispatch({type:"ARCHIVE_MEMO_BY_ID_BULK",payload:n}),n):t}async unarchiveMemo(t){let n=null;switch(t.sourceType){case"DAILY":n=await Ti(t,{id:t.id,rowStatus:"NORMAL"});break;case"CANVAS":n=await Ii(t,{id:t.id,rowStatus:"NORMAL"});break;case"MULTI":n=await Po(t,{id:t.id,rowStatus:"NORMAL"});break;case"FILE":n=await Si(t,{id:t.id,rowStatus:"NORMAL"});break}return Ee.dispatch({type:"UNARCHIVE_MEMO_BY_ID",payload:n}),n}async hideMemoById(t){const n=this.getMemoById(t);if(!n)return n;let r=null;switch(n.sourceType){case"DAILY":r=await Ti(n,{id:n.id,deleted:!0});break;case"CANVAS":r=await Ii(n,{id:n.id,deleted:!0});break;case"MULTI":r=await Po(n,{id:n.id,deleted:!0});break;case"FILE":r=await Si(n,{id:n.id,deleted:!0});break}if(!r)return n;if(r)return r}async restoreMemoById(t){return await va.restoreMemo(t)}async deleteMemoById(t,n){const r=this.getMemoById(t);try{switch(r.sourceType){case"DAILY":await va.deleteMemoInDailyNote(r);break;case"CANVAS":await va.deleteMemoInCanvas(r);break;case"MULTI":await va.deleteMemoInMultiFiles(r);break;case"FILE":await va.deleteMemoInSingleFile(r);break}Ee.dispatch({type:"DELETE_MEMO_BY_ID",payload:{id:t}})}catch(u){console.error(u),new E.Notice(k("Failed to delete memo"))}if(n&&n==="local")return;const a=rt.getState().settings,o=rt.getState().app;!(o!=null&&o.loadLocalStorage("tokenForSync"))||!a.startSync||r.webId&&await zA(r.webId)}async removeMemosInFile(t,n){var a,o;const r=[];try{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n)await gw(t,r);else if(t.path.contains("thino.canvas"))await vw(t,r);else if((a=t==null?void 0:t.parent)!=null&&a.path.contains(n)||!(t!=null&&t.parent)&&!((o=t==null?void 0:t.parent)!=null&&o.path)){const u=this.getState().memos.filter(d=>d.path.trim()===t.path.trim());u.length>0&&r.push(...u)}else t.path.endsWith(".md")&&t.path.contains(".thino")&&await pw(t,r);const s=r.map(u=>u.id);Ee.dispatch({type:"DELETE_MEMO_BY_ID_BATCH",payload:{ids:s}})}catch(s){console.error(s)}}async updateMemosInFile(t,n){const r=[],a=async()=>{if(t.path.endsWith(".md")&&!t.path.contains(".thino")&&!n){await gw(t,r);return}else if(t.path.contains("thino.canvas")){await vw(t,r);return}else if(t!=null&&t.parent.path.contains(n)){await MI(t,r);return}else if(t.path.endsWith(".md")&&t.path.contains(".thino")){await pw(t,r);return}};try{await a(),Ee.dispatch({type:"UPDATE_MEMO_BATCH",payload:{memos:r,path:t.path}})}catch(o){console.error(o)}}async updateMemoProperty(t){const n=Re.randomId(16),r=await Po(t,{id:n});Ee.dispatch({type:"EDIT_MEMO_PATH",payload:r})}editMemo(t){const n=t.webId;Ee.dispatch({type:"EDIT_MEMO",payload:t});const r=rt.getState().settings,a=rt.getState().app;if(!(!(a!=null&&a.loadLocalStorage("tokenForSync"))||!r.startSync))try{t&&n&&N0({id:n,content:t.content,rowStatus:t.rowStatus,pinned:t.pinned,ttime:t.deletedAt?E.moment(t.deletedAt,"YYYY/MM/DD HH:mm:ss").valueOf():0,thinoType:t.sourceType==="DAILY"?"DAILY":"FILE"})}catch(s){console.error(s)}}editMemoBulk(t){for(const n of t)this.editMemo(n);this.updateTagsState()}editCommentMemo(t){Ee.dispatch({type:"EDIT_COMMENT_MEMO",payload:t})}getThinoViaKeyword(t){const{memos:n}=this.getState();return n.filter(a=>a.content.toLowerCase().includes(t==null?void 0:t.toLowerCase()))}updateTagsState(){const{memos:t}=this.getState(),n=new Set,r={};for(const a of t){const o=a.content.replace(/<[^>]*>/g,"").replace(/\`\`\`[a-z]*\n[\s\S]*?\n\`\`\`/g,"").replace(/\`([^\`].*?)\`/g,"");if(a.deletedAt!==""&&a.deletedAt)continue;[...Array.from(o.match(An)||[]),...Array.from(o.match($n)||[]),...Array.from(o.match(hr)||[])].forEach(u=>{const d=u.replace(An,"$1").replace($n,"$1").replace(hr,"$2").trim();/^\d+$/.test(d)||(n.add(d),r[d]=(r[d]||0)+1)})}Ee.dispatch({type:"SET_TAGS",payload:{tags:Array.from(n),tagsNum:r}})}clearMemos(){Ee.dispatch({type:"SET_MEMOS",payload:{memos:[]}})}async getLinkedMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes(t))}async getCommentMemos(t){const{memos:n}=this.getState();return n.filter(r=>r.content.includes("comment: "+t))}async createMemoMultiFile({content:t,isList:n}){return await JN({content:t,isList:n})}async createMemoSingleFile({content:t,isList:n}){return await KN({content:t,isList:n})}async createOrPatchThinoFromWeb(t){const n=this.getState().memos;if(t.localId&&(n!=null&&n.some(o=>o.id===t.localId)))return await this.updateMemoById(t.localId,t,!0),null;if(n!=null&&n.some(o=>o.id===t.id)||n!=null&&n.some(o=>o.webId===t.id))return await this.updateMemoById(t.id,t,!1),null;let r=t.sourceType;const a=rt.getState().settings;switch(a&&(a!=null&&a.saveThinoType)&&(r=a.saveThinoType!=="FILE"?a.saveThinoType:t.sourceType),r){case"FILE":case"MULTI":case"CANVAS":return await zb(t);case"DAILY":return await XN(t);default:return await zb(t)}}async initSync(){const n=this.getState().memos.filter(a=>!a.webId),r=await YA(n);for(const a of r)await this.createOrPatchThinoFromWeb(a)}async createMemoCanvas({text:t,isList:n}){return await QN({content:t,isList:n})}async createMemoDaily(t,n){return await Ub(t,n)}async pinMemoById(t){const n=this.getMemoById(t),r=await hk(n);Ee.dispatch({type:"PIN_MEMO",payload:r});try{const a=rt.getState().settings,o=rt.getState().app;if((o==null?void 0:o.loadLocalStorage("tokenForSync"))&&a.startSync){const u=await N0({id:r.webId,pinned:!0});this.editMemo(u)}}catch(a){console.error(a)}}async unpinMemoById(t){const n=this.getMemoById(t),r=await mk(n);Ee.dispatch({type:"PIN_MEMO",payload:r});try{const a=rt.getState().settings,o=rt.getState().app;if((o==null?void 0:o.loadLocalStorage("tokenForSync"))&&a.startSync){const u=await N0({id:r.webId,pinned:!1});this.editMemo(u)}}catch(a){console.error(a)}}async createCommentMemo(t,n,r,a,o){return await AA(t,n,r,a,o)}async importMemos(t,n,r){return await Ub(t,n,r)}async createThino({content:t,isList:n,type:r}){let a=null;switch(r.toLowerCase()){case"canvas":a=await Te.createMemoCanvas({text:t,isList:n});break;case"multi":a=await Te.createMemoMultiFile({content:t,isList:n});break;case"daily":a=await Te.createMemoDaily(t,n);break;case"file":a=await Te.createMemoSingleFile({content:t,isList:n});break;default:a=await Te.createMemoDaily(t,n);break}const o=rt.getState().settings,s=rt.getState().app,u=s==null?void 0:s.loadLocalStorage("tokenForSync");if(a&&u&&o.startSync){const d=await AT({content:t,thinoType:r==="DAILY"?"DAILY":"FILE"});await this.updateMemoById(a.id,d,!0)}return a}async openThinoByID(t){const n=this.getMemoById(t);if(n)switch(n.sourceType){case"DAILY":await g1(n.id,n.path);break;case"CANVAS":await y1(n.id,n.path);break;case"MULTI":await p1(n.path);break;case"FILE":await v1(n.id,n.path);break}}async updateMemo(t,n,r){const a=this.getMemoById(t);if(a){let o=null;switch(a.sourceType){case"DAILY":o=await Ti(a,{id:a.id,content:n,thinoType:r||""});break;case"CANVAS":o=await Ii(a,{id:a.id,content:n,thinoType:r||""});break;case"MULTI":o=await Po(a,{id:a.id,content:n,thinoType:r||""});break;case"FILE":o=await Si(a,{id:a.id,content:n,thinoType:r||""})}if(o)return o}return a}}const Te=new UA;class VA{getState(){return Ee.getState().queryState}async getMyAllQueries(){const t=We.getState().query.filter,n=this.getQueryById(t),r=await va.getMyQueries();return Ee.dispatch({type:"SET_QUERIES",payload:{queries:[...r,...n?[n]:[]]}}),r}getQueryById(t){return this.getState().queries.find(n=>n.id===t)}pushQuery(t){Ee.dispatch({type:"INSERT_QUERY",payload:{query:{...t}}})}editQuery(t){Ee.dispatch({type:"UPDATE_QUERY",payload:t})}async deleteQuery(t){await va.deleteQueryById(t),Ee.dispatch({type:"DELETE_QUERY_BY_ID",payload:{id:t}})}async createQuery(t,n){return await va.createQuery(t,n)}createTempQuery(t,n){return CN(t,n)}async updateQuery(t,n,r){return await va.updateQuery(t,n,r)}async pinQuery(t){await va.pinQuery(t)}async unpinQuery(t){await va.unpinQuery(t)}}const tn=new VA;class ZA{async upload(t){const{vault:n,fileManager:r}=Ee.getState().dailyNotesState.app,a=await t.arrayBuffer(),o=WA(t.type),s=Oi(),u=E.moment(),d=Pv(u,s);let m;if(d)d instanceof E.TFile&&(m=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${E.moment().format("YYYYMMDDHHmmss")}`,o,d),a));else{const p=await wI(u);m=await n.createBinary(await n.getAvailablePathForAttachments(`Pasted Image ${E.moment().format("YYYYMMDDHHmmss")}`,o,p),a)}return r.generateMarkdownLink(m,m.path,"","")}async parseHtml(t){const n=await t.text(),r=document.createElement("html");r.innerHTML=n;const a=Array.from(r.getElementsByClassName("memo"));for(const o of a){const s=o.getElementsByClassName("content")[0],u=E.htmlToMarkdown(s.innerHTML),d=await Te.importMemos(u,!0,E.moment(o.getElementsByClassName("time")[0].innerHTML));Te.pushMemo(d)}}}const WA=e=>{var t;return(t=/^image\/(.+)$/.exec(e))==null?void 0:t[1]},w1=new ZA;var ms={},FT={exports:{}},ga={},k0={exports:{}},A0={},bD;function $A(){return bD||(bD=1,function(e){function t(se,we){var W=se.length;se.push(we);e:for(;0<W;){var $=W-1>>>1,X=se[$];if(0<a(X,we))se[$]=we,se[W]=X,W=$;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var we=se[0],W=se.pop();if(W!==we){se[0]=W;e:for(var $=0,X=se.length,ve=X>>>1;$<ve;){var De=2*($+1)-1,be=se[De],ke=De+1,Be=se[ke];if(0>a(be,W))ke<X&&0>a(Be,be)?(se[$]=Be,se[ke]=W,$=ke):(se[$]=be,se[De]=W,$=De);else if(ke<X&&0>a(Be,W))se[$]=Be,se[ke]=W,$=ke;else break e}}return we}function a(se,we){var W=se.sortIndex-we.sortIndex;return W!==0?W:se.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],m=[],p=1,g=null,w=3,D=!1,S=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(se){for(var we=n(m);we!==null;){if(we.callback===null)r(m);else if(we.startTime<=se)r(m),we.sortIndex=we.expirationTime,t(d,we);else break;we=n(m)}}function F(se){if(T=!1,L(se),!S)if(n(d)!==null)S=!0,he(H);else{var we=n(m);we!==null&&Ie(F,we.startTime-se)}}function H(se,we){S=!1,T&&(T=!1,A(V),V=-1),D=!0;var W=w;try{for(L(we),g=n(d);g!==null&&(!(g.expirationTime>we)||se&&!q());){var $=g.callback;if(typeof $=="function"){g.callback=null,w=g.priorityLevel;var X=$(g.expirationTime<=we);we=e.unstable_now(),typeof X=="function"?g.callback=X:g===n(d)&&r(d),L(we)}else r(d);g=n(d)}if(g!==null)var ve=!0;else{var De=n(m);De!==null&&Ie(F,De.startTime-we),ve=!1}return ve}finally{g=null,w=W,D=!1}}var j=!1,_=null,V=-1,U=5,z=-1;function q(){return!(e.unstable_now()-z<U)}function ee(){if(_!==null){var se=e.unstable_now();z=se;var we=!0;try{we=_(!0,se)}finally{we?ce():(j=!1,_=null)}}else j=!1}var ce;if(typeof N=="function")ce=function(){N(ee)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ie=fe.port2;fe.port1.onmessage=ee,ce=function(){ie.postMessage(null)}}else ce=function(){C(ee,0)};function he(se){_=se,j||(j=!0,ce())}function Ie(se,we){V=C(function(){se(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){S||D||(S=!0,he(H))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(se){switch(w){case 1:case 2:case 3:var we=3;break;default:we=w}var W=w;w=we;try{return se()}finally{w=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,we){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var W=w;w=se;try{return we()}finally{w=W}},e.unstable_scheduleCallback=function(se,we,W){var $=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,se){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=W+X,se={id:p++,callback:we,priorityLevel:se,startTime:W,expirationTime:X,sortIndex:-1},W>$?(se.sortIndex=W,t(m,se),n(d)===null&&se===n(m)&&(T?(A(V),V=-1):T=!0,Ie(F,W-$))):(se.sortIndex=X,t(d,se),S||D||(S=!0,he(H))),se},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(se){var we=w;return function(){var W=w;w=we;try{return se.apply(this,arguments)}finally{w=W}}}}(A0)),A0}var DD;function qA(){return DD||(DD=1,k0.exports=$A()),k0.exports}var SD;function GA(){if(SD)return ga;SD=1;var e=O,t=qA();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function o(i,l){s(i,l),s(i+"Capture",l)}function s(i,l){for(a[i]=l,i=0;i<l.length;i++)r.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function w(i){return d.call(g,i)?!0:d.call(p,i)?!1:m.test(i)?g[i]=!0:(p[i]=!0,!1)}function D(i,l,h,v){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,l,h,v){if(l===null||typeof l>"u"||D(i,l,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(i,l,h,v,I,x,R){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=I,this.mustUseProperty=h,this.propertyName=i,this.type=l,this.sanitizeURL=x,this.removeEmptyString=R}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];C[l]=new T(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(A,N);C[l]=new T(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(A,N);C[l]=new T(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(A,N);C[l]=new T(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function L(i,l,h,v){var I=C.hasOwnProperty(l)?C[l]:null;(I!==null?I.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,h,I,v)&&(h=null),v||I===null?w(l)&&(h===null?i.removeAttribute(l):i.setAttribute(l,""+h)):I.mustUseProperty?i[I.propertyName]=h===null?I.type===3?!1:"":h:(l=I.attributeName,v=I.attributeNamespace,h===null?i.removeAttribute(l):(I=I.type,h=I===3||I===4&&h===!0?"":""+h,v?i.setAttributeNS(v,l,h):i.setAttribute(l,h))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),q=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),se=Symbol.iterator;function we(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var W=Object.assign,$;function X(i){if($===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);$=l&&l[1]||""}return`
`+$+i}var ve=!1;function De(i,l){if(!i||ve)return"";ve=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ye){var v=ye}Reflect.construct(i,[],l)}else{try{l.call()}catch(ye){v=ye}i.call(l.prototype)}else{try{throw Error()}catch(ye){v=ye}i()}}catch(ye){if(ye&&v&&typeof ye.stack=="string"){for(var I=ye.stack.split(`
`),x=v.stack.split(`
`),R=I.length-1,G=x.length-1;1<=R&&0<=G&&I[R]!==x[G];)G--;for(;1<=R&&0<=G;R--,G--)if(I[R]!==x[G]){if(R!==1||G!==1)do if(R--,G--,0>G||I[R]!==x[G]){var te=`
`+I[R].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=R&&0<=G);break}}}finally{ve=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?X(i):""}function be(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=De(i.type,!1),i;case 11:return i=De(i.type.render,!1),i;case 1:return i=De(i.type,!0),i;default:return""}}function ke(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case j:return"Portal";case U:return"Profiler";case V:return"StrictMode";case ce:return"Suspense";case fe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case q:return(i.displayName||"Context")+".Consumer";case z:return(i._context.displayName||"Context")+".Provider";case ee:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return l=i.displayName||null,l!==null?l:ke(i.type)||"Memo";case he:l=i._payload,i=i._init;try{return ke(i(l))}catch{}}return null}function Be(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(l);case 8:return l===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function _e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function it(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Vt(i){var l=it(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),v=""+i[l];if(!i.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var I=h.get,x=h.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return I.call(this)},set:function(R){v=""+R,x.call(this,R)}}),Object.defineProperty(i,l,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(R){v=""+R},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Se(i){i._valueTracker||(i._valueTracker=Vt(i))}function Ue(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return i&&(v=it(i)?i.checked?"true":"false":i.value),i=v,i!==h?(l.setValue(i),!0):!1}function Je(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function $e(i,l){var h=l.checked;return W({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??i._wrapperState.initialChecked})}function lt(i,l){var h=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;h=_e(l.value!=null?l.value:h),i._wrapperState={initialChecked:v,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ft(i,l){l=l.checked,l!=null&&L(i,"checked",l,!1)}function Dt(i,l){ft(i,l);var h=_e(l.value),v=l.type;if(h!=null)v==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(v==="submit"||v==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?$t(i,l.type,h):l.hasOwnProperty("defaultValue")&&$t(i,l.type,_e(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Et(i,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,h||l===i.value||(i.value=l),i.defaultValue=l}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function $t(i,l,h){(l!=="number"||Je(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var rn=Array.isArray;function At(i,l,h,v){if(i=i.options,l){l={};for(var I=0;I<h.length;I++)l["$"+h[I]]=!0;for(h=0;h<i.length;h++)I=l.hasOwnProperty("$"+i[h].value),i[h].selected!==I&&(i[h].selected=I),I&&v&&(i[h].defaultSelected=!0)}else{for(h=""+_e(h),l=null,I=0;I<i.length;I++){if(i[I].value===h){i[I].selected=!0,v&&(i[I].defaultSelected=!0);return}l!==null||i[I].disabled||(l=i[I])}l!==null&&(l.selected=!0)}}function an(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Sn(i,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(rn(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}i._wrapperState={initialValue:_e(h)}}function In(i,l){var h=_e(l.value),v=_e(l.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),l.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),v!=null&&(i.defaultValue=""+v)}function vr(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Sa(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mr(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Sa(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Nr,Ss=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,v,I){MSApp.execUnsafeLocalFunction(function(){return i(l,h,v,I)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Nr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function mo(i,l){if(l){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=l;return}}i.textContent=l}var po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nl=["Webkit","ms","Moz","O"];Object.keys(po).forEach(function(i){Nl.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),po[l]=po[i]})});function Pi(i,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||po.hasOwnProperty(i)&&po[i]?(""+l).trim():l+"px"}function ji(i,l){i=i.style;for(var h in l)if(l.hasOwnProperty(h)){var v=h.indexOf("--")===0,I=Pi(h,l[h],v);h==="float"&&(h="cssFloat"),v?i.setProperty(h,I):i[h]=I}}var Is=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yo(i,l){if(l){if(Is[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Li(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z=null;function re(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pe=null,xe=null,je=null;function Ye(i){if(i=nr(i)){if(typeof pe!="function")throw Error(n(280));var l=i.stateNode;l&&(l=gu(l),pe(i.stateNode,i.type,l))}}function ze(i){xe?je?je.push(i):je=[i]:xe=i}function pt(){if(xe){var i=xe,l=je;if(je=xe=null,Ye(i),l)for(i=0;i<l.length;i++)Ye(l[i])}}function Yt(i,l){return i(l)}function On(){}var yn=!1;function na(i,l,h){if(yn)return i(l,h);yn=!0;try{return Yt(i,l,h)}finally{yn=!1,(xe!==null||je!==null)&&(On(),pt())}}function Fn(i,l){var h=i.stateNode;if(h===null)return null;var v=gu(h);if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var yr=!1;if(u)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){yr=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{yr=!1}function kl(i,l,h,v,I,x,R,G,te){var ye=Array.prototype.slice.call(arguments,3);try{l.apply(h,ye)}catch(Fe){this.onError(Fe)}}var Jt=!1,Ia=null,Ta=!1,Ea=null,zo={onError:function(i){Jt=!0,Ia=i}};function Uo(i,l,h,v,I,x,R,G,te){Jt=!1,Ia=null,kl.apply(zo,arguments)}function yy(i,l,h,v,I,x,R,G,te){if(Uo.apply(this,arguments),Jt){if(Jt){var ye=Ia;Jt=!1,Ia=null}else throw Error(n(198));Ta||(Ta=!0,Ea=ye)}}function Ri(i){var l=i,h=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,l.flags&4098&&(h=l.return),i=l.return;while(i)}return l.tag===3?h:null}function of(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function $m(i){if(Ri(i)!==i)throw Error(n(188))}function wy(i){var l=i.alternate;if(!l){if(l=Ri(i),l===null)throw Error(n(188));return l!==i?null:i}for(var h=i,v=l;;){var I=h.return;if(I===null)break;var x=I.alternate;if(x===null){if(v=I.return,v!==null){h=v;continue}break}if(I.child===x.child){for(x=I.child;x;){if(x===h)return $m(I),i;if(x===v)return $m(I),l;x=x.sibling}throw Error(n(188))}if(h.return!==v.return)h=I,v=x;else{for(var R=!1,G=I.child;G;){if(G===h){R=!0,h=I,v=x;break}if(G===v){R=!0,v=I,h=x;break}G=G.sibling}if(!R){for(G=x.child;G;){if(G===h){R=!0,h=x,v=I;break}if(G===v){R=!0,v=x,h=I;break}G=G.sibling}if(!R)throw Error(n(189))}}if(h.alternate!==v)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?i:l}function qm(i){return i=wy(i),i!==null?Gm(i):null}function Gm(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Gm(i);if(l!==null)return l;i=i.sibling}return null}var Jm=t.unstable_scheduleCallback,Km=t.unstable_cancelCallback,zc=t.unstable_shouldYield,by=t.unstable_requestPaint,on=t.unstable_now,Dy=t.unstable_getCurrentPriorityLevel,sf=t.unstable_ImmediatePriority,Qm=t.unstable_UserBlockingPriority,Al=t.unstable_NormalPriority,Xm=t.unstable_LowPriority,lf=t.unstable_IdlePriority,Uc=null,Za=null;function Sy(i){if(Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(Uc,i,void 0,(i.current.flags&128)===128)}catch{}}var Ca=Math.clz32?Math.clz32:np,ep=Math.log,tp=Math.LN2;function np(i){return i>>>=0,i===0?32:31-(ep(i)/tp|0)|0}var Ts=64,Vc=4194304;function Es(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function _i(i,l){var h=i.pendingLanes;if(h===0)return 0;var v=0,I=i.suspendedLanes,x=i.pingedLanes,R=h&268435455;if(R!==0){var G=R&~I;G!==0?v=Es(G):(x&=R,x!==0&&(v=Es(x)))}else R=h&~I,R!==0?v=Es(R):x!==0&&(v=Es(x));if(v===0)return 0;if(l!==0&&l!==v&&!(l&I)&&(I=v&-v,x=l&-l,I>=x||I===16&&(x&4194240)!==0))return l;if(v&4&&(v|=h&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=v;0<l;)h=31-Ca(l),I=1<<h,v|=i[h],l&=~I;return v}function rp(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iy(i,l){for(var h=i.suspendedLanes,v=i.pingedLanes,I=i.expirationTimes,x=i.pendingLanes;0<x;){var R=31-Ca(x),G=1<<R,te=I[R];te===-1?(!(G&h)||G&v)&&(I[R]=rp(G,l)):te<=l&&(i.expiredLanes|=G),x&=~G}}function Zc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function cf(){var i=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),i}function Ol(i){for(var l=[],h=0;31>h;h++)l.push(i);return l}function Fl(i,l,h){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Ca(l),i[l]=h}function ap(i,l){var h=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var v=i.eventTimes;for(i=i.expirationTimes;0<h;){var I=31-Ca(h),x=1<<I;l[I]=0,v[I]=-1,i[I]=-1,h&=~x}}function Pl(i,l){var h=i.entangledLanes|=l;for(i=i.entanglements;h;){var v=31-Ca(h),I=1<<v;I&l|i[v]&l&&(i[v]|=l),h&=~I}}var _t=0;function Hi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var uf,Wc,op,df,ff,$c=!1,jl=[],Vo=null,Zo=null,Wo=null,Cs=new Map,Ll=new Map,$o=[],Ty="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ip(i,l){switch(i){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Wo=null;break;case"pointerover":case"pointerout":Cs.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(l.pointerId)}}function Bi(i,l,h,v,I,x){return i===null||i.nativeEvent!==x?(i={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:x,targetContainers:[I]},l!==null&&(l=nr(l),l!==null&&Wc(l)),i):(i.eventSystemFlags|=v,l=i.targetContainers,I!==null&&l.indexOf(I)===-1&&l.push(I),i)}function Ey(i,l,h,v,I){switch(l){case"focusin":return Vo=Bi(Vo,i,l,h,v,I),!0;case"dragenter":return Zo=Bi(Zo,i,l,h,v,I),!0;case"mouseover":return Wo=Bi(Wo,i,l,h,v,I),!0;case"pointerover":var x=I.pointerId;return Cs.set(x,Bi(Cs.get(x)||null,i,l,h,v,I)),!0;case"gotpointercapture":return x=I.pointerId,Ll.set(x,Bi(Ll.get(x)||null,i,l,h,v,I)),!0}return!1}function sp(i){var l=Ga(i.target);if(l!==null){var h=Ri(l);if(h!==null){if(l=h.tag,l===13){if(l=of(h),l!==null){i.blockedOn=l,ff(i.priority,function(){op(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var h=Kc(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var v=new h.constructor(h.type,h);Z=v,h.target.dispatchEvent(v),Z=null}else return l=nr(h),l!==null&&Wc(l),i.blockedOn=h,!1;l.shift()}return!0}function lp(i,l,h){qc(i)&&h.delete(l)}function Cy(){$c=!1,Vo!==null&&qc(Vo)&&(Vo=null),Zo!==null&&qc(Zo)&&(Zo=null),Wo!==null&&qc(Wo)&&(Wo=null),Cs.forEach(lp),Ll.forEach(lp)}function zt(i,l){i.blockedOn===l&&(i.blockedOn=null,$c||($c=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Cy)))}function Ht(i){function l(I){return zt(I,i)}if(0<jl.length){zt(jl[0],i);for(var h=1;h<jl.length;h++){var v=jl[h];v.blockedOn===i&&(v.blockedOn=null)}}for(Vo!==null&&zt(Vo,i),Zo!==null&&zt(Zo,i),Wo!==null&&zt(Wo,i),Cs.forEach(l),Ll.forEach(l),h=0;h<$o.length;h++)v=$o[h],v.blockedOn===i&&(v.blockedOn=null);for(;0<$o.length&&(h=$o[0],h.blockedOn===null);)sp(h),h.blockedOn===null&&$o.shift()}var xs=F.ReactCurrentBatchConfig,Gc=!0;function xy(i,l,h,v){var I=_t,x=xs.transition;xs.transition=null;try{_t=1,hf(i,l,h,v)}finally{_t=I,xs.transition=x}}function My(i,l,h,v){var I=_t,x=xs.transition;xs.transition=null;try{_t=4,hf(i,l,h,v)}finally{_t=I,xs.transition=x}}function hf(i,l,h,v){if(Gc){var I=Kc(i,l,h,v);if(I===null)kf(i,l,v,Jc,h),ip(i,v);else if(Ey(I,i,l,h,v))v.stopPropagation();else if(ip(i,v),l&4&&-1<Ty.indexOf(i)){for(;I!==null;){var x=nr(I);if(x!==null&&uf(x),x=Kc(i,l,h,v),x===null&&kf(i,l,v,Jc,h),x===I)break;I=x}I!==null&&v.stopPropagation()}else kf(i,l,v,null,h)}}var Jc=null;function Kc(i,l,h,v){if(Jc=null,i=re(v),i=Ga(i),i!==null)if(l=Ri(i),l===null)i=null;else if(h=l.tag,h===13){if(i=of(l),i!==null)return i;i=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Jc=i,null}function cp(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dy()){case sf:return 1;case Qm:return 4;case Al:case Xm:return 16;case lf:return 536870912;default:return 16}default:return 16}}var sn=null,Rl=null,Wa=null;function mf(){if(Wa)return Wa;var i,l=Rl,h=l.length,v,I="value"in sn?sn.value:sn.textContent,x=I.length;for(i=0;i<h&&l[i]===I[i];i++);var R=h-i;for(v=1;v<=R&&l[h-v]===I[x-v];v++);return Wa=I.slice(i,1<v?1-v:void 0)}function Ms(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function wr(){return!0}function pf(){return!1}function kr(i){function l(h,v,I,x,R){this._reactName=h,this._targetInst=I,this.type=v,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var G in i)i.hasOwnProperty(G)&&(h=i[G],this[G]=h?h(x):x[G]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?wr:pf,this.isPropagationStopped=pf,this}return W(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),l}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qc=kr(Yi),Ns=W({},Yi,{view:0,detail:0}),up=kr(Ns),br,gf,er,Xc=W({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Df,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==er&&(er&&i.type==="mousemove"?(br=i.screenX-er.screenX,gf=i.screenY-er.screenY):gf=br=0,er=i),br)},movementY:function(i){return"movementY"in i?i.movementY:gf}}),vf=kr(Xc),qo=W({},Xc,{dataTransfer:0}),eu=kr(qo),yf=W({},Ns,{relatedTarget:0}),qt=kr(yf),Go=W({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),wf=kr(Go),Ny=W({},Yi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),bf=kr(Ny),ky=W({},Yi,{data:0}),dp=kr(ky),Ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ks(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=tu[i])?!!l[i]:!1}function Df(){return ks}var hp=W({},Ns,{key:function(i){if(i.key){var l=Ay[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Ms(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fp[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Df,charCode:function(i){return i.type==="keypress"?Ms(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ms(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mp=kr(hp),Sf=W({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=kr(Sf),pp=W({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Df}),Oy=kr(pp),If=W({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=kr(If),Fy=W({},Xc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=kr(Fy),zr=[9,13,27,32],_l=u&&"CompositionEvent"in window,go=null;u&&"documentMode"in document&&(go=document.documentMode);var vp=u&&"TextEvent"in window&&!go,Ef=u&&(!_l||go&&8<go&&11>=go),yp=" ",wp=!1;function bp(i,l){switch(i){case"keyup":return zr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var As=!1;function Os(i,l){switch(i){case"compositionend":return Dp(l);case"keypress":return l.which!==32?null:(wp=!0,yp);case"textInput":return i=l.data,i===yp&&wp?null:i;default:return null}}function Py(i,l){if(As)return i==="compositionend"||!_l&&bp(i,l)?(i=mf(),Wa=Rl=sn=null,As=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ef&&l.locale!=="ko"?null:l.data;default:return null}}var jy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!jy[i.type]:l==="textarea"}function Cf(i,l,h,v){ze(v),l=fu(l,"onChange"),0<l.length&&(h=new Qc("onChange","change",null,h,v),i.push({event:h,listeners:l}))}var aa=null,Jo=null;function Ly(i){Mp(i,0)}function au(i){var l=St(i);if(Ue(l))return i}function Ry(i,l){if(i==="change")return l}var zi=!1;if(u){var Ur;if(u){var ou="oninput"in document;if(!ou){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),ou=typeof Sp.oninput=="function"}Ur=ou}else Ur=!1;zi=Ur&&(!document.documentMode||9<document.documentMode)}function Ip(){aa&&(aa.detachEvent("onpropertychange",Tp),Jo=aa=null)}function Tp(i){if(i.propertyName==="value"&&au(Jo)){var l=[];Cf(l,Jo,i,re(i)),na(Ly,l)}}function _y(i,l,h){i==="focusin"?(Ip(),aa=l,Jo=h,aa.attachEvent("onpropertychange",Tp)):i==="focusout"&&Ip()}function Hy(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return au(Jo)}function Fs(i,l){if(i==="click")return au(l)}function oe(i,l){if(i==="input"||i==="change")return au(l)}function Ce(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var ge=typeof Object.is=="function"?Object.is:Ce;function qe(i,l){if(ge(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var h=Object.keys(i),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var I=h[v];if(!d.call(l,I)||!ge(i[I],l[I]))return!1}return!0}function bt(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pt(i,l){var h=bt(i);i=0;for(var v;h;){if(h.nodeType===3){if(v=i+h.textContent.length,i<=l&&v>=l)return{node:h,offset:l-i};i=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=bt(h)}}function Tn(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Tn(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Zt(){for(var i=window,l=Je();l instanceof i.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)i=l.contentWindow;else break;l=Je(i.document)}return l}function Hl(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function By(i){var l=Zt(),h=i.focusedElem,v=i.selectionRange;if(l!==h&&h&&h.ownerDocument&&Tn(h.ownerDocument.documentElement,h)){if(v!==null&&Hl(h)){if(l=v.start,i=v.end,i===void 0&&(i=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(i,h.value.length);else if(i=(l=h.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var I=h.textContent.length,x=Math.min(v.start,I);v=v.end===void 0?x:Math.min(v.end,I),!i.extend&&x>v&&(I=v,v=x,x=I),I=Pt(h,x);var R=Pt(h,v);I&&R&&(i.rangeCount!==1||i.anchorNode!==I.node||i.anchorOffset!==I.offset||i.focusNode!==R.node||i.focusOffset!==R.offset)&&(l=l.createRange(),l.setStart(I.node,I.offset),i.removeAllRanges(),x>v?(i.addRange(l),i.extend(R.node,R.offset)):(l.setEnd(R.node,R.offset),i.addRange(l)))}}for(l=[],i=h;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)i=l[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var oa=u&&"documentMode"in document&&11>=document.documentMode,vo=null,xf=null,$a=null,Ps=!1;function Bl(i,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ps||vo==null||vo!==Je(v)||(v=vo,"selectionStart"in v&&Hl(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),$a&&qe($a,v)||($a=v,v=fu(xf,"onSelect"),0<v.length&&(l=new Qc("onSelect","select",null,l,h),i.push({event:l,listeners:v}),l.target=vo)))}function jt(i,l){var h={};return h[i.toLowerCase()]=l.toLowerCase(),h["Webkit"+i]="webkit"+l,h["Moz"+i]="moz"+l,h}var js={animationend:jt("Animation","AnimationEnd"),animationiteration:jt("Animation","AnimationIteration"),animationstart:jt("Animation","AnimationStart"),transitionend:jt("Transition","TransitionEnd")},iu={},Yl={};u&&(Yl=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function su(i){if(iu[i])return iu[i];if(!js[i])return i;var l=js[i],h;for(h in l)if(l.hasOwnProperty(h)&&h in Yl)return iu[i]=l[h];return i}var Ep=su("animationend"),Cp=su("animationiteration"),zl=su("animationstart"),yo=su("transitionend"),Ul=new Map,Mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(i,l){Ul.set(i,l),o(l,[i])}for(var lu=0;lu<Mf.length;lu++){var cu=Mf[lu],uu=cu.toLowerCase(),xp=cu[0].toUpperCase()+cu.slice(1);xa(uu,"on"+xp)}xa(Ep,"onAnimationEnd"),xa(Cp,"onAnimationIteration"),xa(zl,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(yo,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ui=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Vl(i,l,h){var v=i.type||"unknown-event";i.currentTarget=h,yy(v,l,void 0,i),i.currentTarget=null}function Mp(i,l){l=(l&4)!==0;for(var h=0;h<i.length;h++){var v=i[h],I=v.event;v=v.listeners;e:{var x=void 0;if(l)for(var R=v.length-1;0<=R;R--){var G=v[R],te=G.instance,ye=G.currentTarget;if(G=G.listener,te!==x&&I.isPropagationStopped())break e;Vl(I,G,ye),x=te}else for(R=0;R<v.length;R++){if(G=v[R],te=G.instance,ye=G.currentTarget,G=G.listener,te!==x&&I.isPropagationStopped())break e;Vl(I,G,ye),x=te}}}if(Ta)throw i=Ea,Ta=!1,Ea=null,i}function Kt(i,l){var h=l[pu];h===void 0&&(h=l[pu]=new Set);var v=i+"__bubble";h.has(v)||(du(l,i,2,!1),h.add(v))}function Nf(i,l,h){var v=0;l&&(v|=4),du(h,i,v,l)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Ko(i){if(!i[Vi]){i[Vi]=!0,r.forEach(function(h){h!=="selectionchange"&&(Ui.has(h)||Nf(h,!1,i),Nf(h,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Vi]||(l[Vi]=!0,Nf("selectionchange",!1,l))}}function du(i,l,h,v){switch(cp(l)){case 1:var I=xy;break;case 4:I=My;break;default:I=hf}h=I.bind(null,l,h,i),I=void 0,!yr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(I=!0),v?I!==void 0?i.addEventListener(l,h,{capture:!0,passive:I}):i.addEventListener(l,h,!0):I!==void 0?i.addEventListener(l,h,{passive:I}):i.addEventListener(l,h,!1)}function kf(i,l,h,v,I){var x=v;if(!(l&1)&&!(l&2)&&v!==null)e:for(;;){if(v===null)return;var R=v.tag;if(R===3||R===4){var G=v.stateNode.containerInfo;if(G===I||G.nodeType===8&&G.parentNode===I)break;if(R===4)for(R=v.return;R!==null;){var te=R.tag;if((te===3||te===4)&&(te=R.stateNode.containerInfo,te===I||te.nodeType===8&&te.parentNode===I))return;R=R.return}for(;G!==null;){if(R=Ga(G),R===null)return;if(te=R.tag,te===5||te===6){v=x=R;continue e}G=G.parentNode}}v=v.return}na(function(){var ye=x,Fe=re(h),Le=[];e:{var Oe=Ul.get(i);if(Oe!==void 0){var Ge=Qc,tt=i;switch(i){case"keypress":if(Ms(h)===0)break e;case"keydown":case"keyup":Ge=mp;break;case"focusin":tt="focus",Ge=qt;break;case"focusout":tt="blur",Ge=qt;break;case"beforeblur":case"afterblur":Ge=qt;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=Oy;break;case Ep:case Cp:case zl:Ge=wf;break;case yo:Ge=Tf;break;case"scroll":Ge=up;break;case"wheel":Ge=gp;break;case"copy":case"cut":case"paste":Ge=bf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=nu}var nt=(l&4)!==0,wn=!nt&&i==="scroll",ue=nt?Oe!==null?Oe+"Capture":null:Oe;nt=[];for(var ae=ye,de;ae!==null;){de=ae;var He=de.stateNode;if(de.tag===5&&He!==null&&(de=He,ue!==null&&(He=Fn(ae,ue),He!=null&&nt.push(Ls(ae,He,de)))),wn)break;ae=ae.return}0<nt.length&&(Oe=new Ge(Oe,tt,null,h,Fe),Le.push({event:Oe,listeners:nt}))}}if(!(l&7)){e:{if(Oe=i==="mouseover"||i==="pointerover",Ge=i==="mouseout"||i==="pointerout",Oe&&h!==Z&&(tt=h.relatedTarget||h.fromElement)&&(Ga(tt)||tt[Vr]))break e;if((Ge||Oe)&&(Oe=Fe.window===Fe?Fe:(Oe=Fe.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Ge?(tt=h.relatedTarget||h.toElement,Ge=ye,tt=tt?Ga(tt):null,tt!==null&&(wn=Ri(tt),tt!==wn||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(Ge=null,tt=ye),Ge!==tt)){if(nt=vf,He="onMouseLeave",ue="onMouseEnter",ae="mouse",(i==="pointerout"||i==="pointerover")&&(nt=nu,He="onPointerLeave",ue="onPointerEnter",ae="pointer"),wn=Ge==null?Oe:St(Ge),de=tt==null?Oe:St(tt),Oe=new nt(He,ae+"leave",Ge,h,Fe),Oe.target=wn,Oe.relatedTarget=de,He=null,Ga(Fe)===ye&&(nt=new nt(ue,ae+"enter",tt,h,Fe),nt.target=de,nt.relatedTarget=wn,He=nt),wn=He,Ge&&tt)t:{for(nt=Ge,ue=tt,ae=0,de=nt;de;de=Rs(de))ae++;for(de=0,He=ue;He;He=Rs(He))de++;for(;0<ae-de;)nt=Rs(nt),ae--;for(;0<de-ae;)ue=Rs(ue),de--;for(;ae--;){if(nt===ue||ue!==null&&nt===ue.alternate)break t;nt=Rs(nt),ue=Rs(ue)}nt=null}else nt=null;Ge!==null&&En(Le,Oe,Ge,nt,!1),tt!==null&&wn!==null&&En(Le,wn,tt,nt,!0)}}e:{if(Oe=ye?St(ye):window,Ge=Oe.nodeName&&Oe.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Oe.type==="file")var at=Ry;else if(ru(Oe))if(zi)at=oe;else{at=Hy;var ut=_y}else(Ge=Oe.nodeName)&&Ge.toLowerCase()==="input"&&(Oe.type==="checkbox"||Oe.type==="radio")&&(at=Fs);if(at&&(at=at(i,ye))){Cf(Le,at,h,Fe);break e}ut&&ut(i,Oe,ye),i==="focusout"&&(ut=Oe._wrapperState)&&ut.controlled&&Oe.type==="number"&&$t(Oe,"number",Oe.value)}switch(ut=ye?St(ye):window,i){case"focusin":(ru(ut)||ut.contentEditable==="true")&&(vo=ut,xf=ye,$a=null);break;case"focusout":$a=xf=vo=null;break;case"mousedown":Ps=!0;break;case"contextmenu":case"mouseup":case"dragend":Ps=!1,Bl(Le,h,Fe);break;case"selectionchange":if(oa)break;case"keydown":case"keyup":Bl(Le,h,Fe)}var dt;if(_l)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else As?bp(i,h)&&(yt="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(yt="onCompositionStart");yt&&(Ef&&h.locale!=="ko"&&(As||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&As&&(dt=mf()):(sn=Fe,Rl="value"in sn?sn.value:sn.textContent,As=!0)),ut=fu(ye,yt),0<ut.length&&(yt=new dp(yt,i,null,h,Fe),Le.push({event:yt,listeners:ut}),dt?yt.data=dt:(dt=Dp(h),dt!==null&&(yt.data=dt)))),(dt=vp?Os(i,h):Py(i,h))&&(ye=fu(ye,"onBeforeInput"),0<ye.length&&(Fe=new dp("onBeforeInput","beforeinput",null,h,Fe),Le.push({event:Fe,listeners:ye}),Fe.data=dt))}Mp(Le,l)})}function Ls(i,l,h){return{instance:i,listener:l,currentTarget:h}}function fu(i,l){for(var h=l+"Capture",v=[];i!==null;){var I=i,x=I.stateNode;I.tag===5&&x!==null&&(I=x,x=Fn(i,h),x!=null&&v.unshift(Ls(i,x,I)),x=Fn(i,l),x!=null&&v.push(Ls(i,x,I))),i=i.return}return v}function Rs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function En(i,l,h,v,I){for(var x=l._reactName,R=[];h!==null&&h!==v;){var G=h,te=G.alternate,ye=G.stateNode;if(te!==null&&te===v)break;G.tag===5&&ye!==null&&(G=ye,I?(te=Fn(h,x),te!=null&&R.unshift(Ls(h,te,G))):I||(te=Fn(h,x),te!=null&&R.push(Ls(h,te,G)))),h=h.return}R.length!==0&&i.push({event:l,listeners:R})}var tr=/\r\n?/g,Yy=/\u0000|\uFFFD/g;function Np(i){return(typeof i=="string"?i:""+i).replace(tr,`
`).replace(Yy,"")}function Zl(i,l,h){if(l=Np(l),Np(i)!==l&&h)throw Error(n(425))}function hu(){}var Wl=null,Zi=null;function $l(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Qo=typeof setTimeout=="function"?setTimeout:void 0,ql=typeof clearTimeout=="function"?clearTimeout:void 0,_s=typeof Promise=="function"?Promise:void 0,mu=typeof queueMicrotask=="function"?queueMicrotask:typeof _s<"u"?function(i){return _s.resolve(null).then(i).catch(Hs)}:Qo;function Hs(i){setTimeout(function(){throw i})}function Af(i,l){var h=l,v=0;do{var I=h.nextSibling;if(i.removeChild(h),I&&I.nodeType===8)if(h=I.data,h==="/$"){if(v===0){i.removeChild(I),Ht(l);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=I}while(h);Ht(l)}function Xo(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function kp(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return i;l--}else h==="/$"&&l++}i=i.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),qa="__reactFiber$"+Bs,ei="__reactProps$"+Bs,Vr="__reactContainer$"+Bs,pu="__reactEvents$"+Bs,B="__reactListeners$"+Bs,Ys="__reactHandles$"+Bs;function Ga(i){var l=i[qa];if(l)return l;for(var h=i.parentNode;h;){if(l=h[Vr]||h[qa]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(i=kp(i);i!==null;){if(h=i[qa])return h;i=kp(i)}return l}i=h,h=i.parentNode}return null}function nr(i){return i=i[qa]||i[Vr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function St(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function gu(i){return i[ei]||null}var Of=[],zs=-1;function Ar(i){return{current:i}}function Qt(i){0>zs||(i.current=Of[zs],Of[zs]=null,zs--)}function Gt(i,l){zs++,Of[zs]=i.current,i.current=l}var ti={},rr=Ar(ti),Or=Ar(!1),Dr=ti;function Us(i,l){var h=i.type.contextTypes;if(!h)return ti;var v=i.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var I={},x;for(x in h)I[x]=l[x];return v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=I),I}function Fr(i){return i=i.childContextTypes,i!=null}function vu(){Qt(Or),Qt(rr)}function Ap(i,l,h){if(rr.current!==ti)throw Error(n(168));Gt(rr,l),Gt(Or,h)}function Op(i,l,h){var v=i.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var I in v)if(!(I in l))throw Error(n(108,Be(i)||"Unknown",I));return W({},h,v)}function ia(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ti,Dr=rr.current,Gt(rr,i),Gt(Or,Or.current),!0}function Fp(i,l,h){var v=i.stateNode;if(!v)throw Error(n(169));h?(i=Op(i,l,Dr),v.__reactInternalMemoizedMergedChildContext=i,Qt(Or),Qt(rr),Gt(rr,i)):Qt(Or),Gt(Or,h)}var bo=null,yu=!1,Ff=!1;function Pp(i){bo===null?bo=[i]:bo.push(i)}function Wi(i){yu=!0,Pp(i)}function ni(){if(!Ff&&bo!==null){Ff=!0;var i=0,l=_t;try{var h=bo;for(_t=1;i<h.length;i++){var v=h[i];do v=v(!0);while(v!==null)}bo=null,yu=!1}catch(I){throw bo!==null&&(bo=bo.slice(i+1)),Jm(sf,ni),I}finally{_t=l,Ff=!1}}return null}var Vs=[],ar=0,wu=null,bu=0,sa=[],la=0,$i=null,Ja=1,Ka="";function qi(i,l){Vs[ar++]=bu,Vs[ar++]=wu,wu=i,bu=l}function jp(i,l,h){sa[la++]=Ja,sa[la++]=Ka,sa[la++]=$i,$i=i;var v=Ja;i=Ka;var I=32-Ca(v)-1;v&=~(1<<I),h+=1;var x=32-Ca(l)+I;if(30<x){var R=I-I%5;x=(v&(1<<R)-1).toString(32),v>>=R,I-=R,Ja=1<<32-Ca(l)+I|h<<I|v,Ka=x+i}else Ja=1<<x|h<<I|v,Ka=i}function Gl(i){i.return!==null&&(qi(i,1),jp(i,1,0))}function Gi(i){for(;i===wu;)wu=Vs[--ar],Vs[ar]=null,bu=Vs[--ar],Vs[ar]=null;for(;i===$i;)$i=sa[--la],sa[la]=null,Ka=sa[--la],sa[la]=null,Ja=sa[--la],sa[la]=null}var or=null,Zr=null,Xt=!1,Ma=null;function Qa(i,l){var h=Jr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=i,l=i.deletions,l===null?(i.deletions=[h],i.flags|=16):l.push(h)}function Du(i,l){switch(i.tag){case 5:var h=i.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,or=i,Zr=Xo(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,or=i,Zr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=$i!==null?{id:Ja,overflow:Ka}:null,i.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Jr(18,null,null,0),h.stateNode=l,h.return=i,i.child=h,or=i,Zr=null,!0):!1;default:return!1}}function Do(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Pr(i){if(Xt){var l=Zr;if(l){var h=l;if(!Du(i,l)){if(Do(i))throw Error(n(418));l=Xo(h.nextSibling);var v=or;l&&Du(i,l)?Qa(v,h):(i.flags=i.flags&-4097|2,Xt=!1,or=i)}}else{if(Do(i))throw Error(n(418));i.flags=i.flags&-4097|2,Xt=!1,or=i}}}function Lp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;or=i}function Jl(i){if(i!==or)return!1;if(!Xt)return Lp(i),Xt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!$l(i.type,i.memoizedProps)),l&&(l=Zr)){if(Do(i))throw Pf(),Error(n(418));for(;l;)Qa(i,l),l=Xo(l.nextSibling)}if(Lp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(l===0){Zr=Xo(i.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}i=i.nextSibling}Zr=null}}else Zr=or?Xo(i.stateNode.nextSibling):null;return!0}function Pf(){for(var i=Zr;i;)i=Xo(i.nextSibling)}function Xa(){Zr=or=null,Xt=!1}function eo(i){Ma===null?Ma=[i]:Ma.push(i)}var Rp=F.ReactCurrentBatchConfig;function Na(i,l){if(i&&i.defaultProps){l=W({},l),i=i.defaultProps;for(var h in i)l[h]===void 0&&(l[h]=i[h]);return l}return l}var Ji=Ar(null),Su=null,Ki=null,Pn=null;function Kl(){Pn=Ki=Su=null}function Iu(i){var l=Ji.current;Qt(Ji),i._currentValue=l}function ca(i,l,h){for(;i!==null;){var v=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),i===h)break;i=i.return}}function ri(i,l){Su=i,Pn=Ki=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&l&&(lr=!0),i.firstContext=null)}function Sr(i){var l=i._currentValue;if(Pn!==i)if(i={context:i,memoizedValue:l,next:null},Ki===null){if(Su===null)throw Error(n(308));Ki=i,Su.dependencies={lanes:0,firstContext:i}}else Ki=Ki.next=i;return l}var Wr=null;function Tu(i){Wr===null?Wr=[i]:Wr.push(i)}function ir(i,l,h,v){var I=l.interleaved;return I===null?(h.next=h,Tu(l)):(h.next=I.next,I.next=h),l.interleaved=h,ka(i,v)}function ka(i,l){i.lanes|=l;var h=i.alternate;for(h!==null&&(h.lanes|=l),h=i,i=i.return;i!==null;)i.childLanes|=l,h=i.alternate,h!==null&&(h.childLanes|=l),h=i,i=i.return;return h.tag===3?h.stateNode:null}var ai=!1;function jf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Aa(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function oi(i,l,h){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,Ot&2){var I=v.pending;return I===null?l.next=l:(l.next=I.next,I.next=l),v.pending=l,ka(i,h)}return I=v.interleaved,I===null?(l.next=l,Tu(v)):(l.next=I.next,I.next=l),v.interleaved=l,ka(i,h)}function ii(i,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var v=l.lanes;v&=i.pendingLanes,h|=v,l.lanes=h,Pl(i,h)}}function Lf(i,l){var h=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var I=null,x=null;if(h=h.firstBaseUpdate,h!==null){do{var R={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};x===null?I=x=R:x=x.next=R,h=h.next}while(h!==null);x===null?I=x=l:x=x.next=l}else I=x=l;h={baseState:v.baseState,firstBaseUpdate:I,lastBaseUpdate:x,shared:v.shared,effects:v.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=l:i.next=l,h.lastBaseUpdate=l}function Eu(i,l,h,v){var I=i.updateQueue;ai=!1;var x=I.firstBaseUpdate,R=I.lastBaseUpdate,G=I.shared.pending;if(G!==null){I.shared.pending=null;var te=G,ye=te.next;te.next=null,R===null?x=ye:R.next=ye,R=te;var Fe=i.alternate;Fe!==null&&(Fe=Fe.updateQueue,G=Fe.lastBaseUpdate,G!==R&&(G===null?Fe.firstBaseUpdate=ye:G.next=ye,Fe.lastBaseUpdate=te))}if(x!==null){var Le=I.baseState;R=0,Fe=ye=te=null,G=x;do{var Oe=G.lane,Ge=G.eventTime;if((v&Oe)===Oe){Fe!==null&&(Fe=Fe.next={eventTime:Ge,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var tt=i,nt=G;switch(Oe=l,Ge=h,nt.tag){case 1:if(tt=nt.payload,typeof tt=="function"){Le=tt.call(Ge,Le,Oe);break e}Le=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=nt.payload,Oe=typeof tt=="function"?tt.call(Ge,Le,Oe):tt,Oe==null)break e;Le=W({},Le,Oe);break e;case 2:ai=!0}}G.callback!==null&&G.lane!==0&&(i.flags|=64,Oe=I.effects,Oe===null?I.effects=[G]:Oe.push(G))}else Ge={eventTime:Ge,lane:Oe,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Fe===null?(ye=Fe=Ge,te=Le):Fe=Fe.next=Ge,R|=Oe;if(G=G.next,G===null){if(G=I.shared.pending,G===null)break;Oe=G,G=Oe.next,Oe.next=null,I.lastBaseUpdate=Oe,I.shared.pending=null}}while(!0);if(Fe===null&&(te=Le),I.baseState=te,I.firstBaseUpdate=ye,I.lastBaseUpdate=Fe,l=I.shared.interleaved,l!==null){I=l;do R|=I.lane,I=I.next;while(I!==l)}else x===null&&(I.shared.lanes=0);hi|=R,i.lanes=R,i.memoizedState=Le}}function Hp(i,l,h){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var v=i[l],I=v.callback;if(I!==null){if(v.callback=null,v=h,typeof I!="function")throw Error(n(191,I));I.call(v)}}}var Zs=new e.Component().refs;function Rf(i,l,h,v){l=i.memoizedState,h=h(v,l),h=h==null?l:W({},l,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var Cu={isMounted:function(i){return(i=i._reactInternals)?Ri(i)===i:!1},enqueueSetState:function(i,l,h){i=i._reactInternals;var v=Er(),I=pi(i),x=Aa(v,I);x.payload=l,h!=null&&(x.callback=h),l=oi(i,x,I),l!==null&&(ja(l,i,I,v),ii(l,i,I))},enqueueReplaceState:function(i,l,h){i=i._reactInternals;var v=Er(),I=pi(i),x=Aa(v,I);x.tag=1,x.payload=l,h!=null&&(x.callback=h),l=oi(i,x,I),l!==null&&(ja(l,i,I,v),ii(l,i,I))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var h=Er(),v=pi(i),I=Aa(h,v);I.tag=2,l!=null&&(I.callback=l),l=oi(i,I,v),l!==null&&(ja(l,i,v,h),ii(l,i,v))}};function xu(i,l,h,v,I,x,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,x,R):l.prototype&&l.prototype.isPureReactComponent?!qe(h,v)||!qe(I,x):!0}function _f(i,l,h){var v=!1,I=ti,x=l.contextType;return typeof x=="object"&&x!==null?x=Sr(x):(I=Fr(l)?Dr:rr.current,v=l.contextTypes,x=(v=v!=null)?Us(i,I):ti),l=new l(h,x),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Cu,i.stateNode=l,l._reactInternals=i,v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=I,i.__reactInternalMemoizedMaskedChildContext=x),l}function Bp(i,l,h,v){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==i&&Cu.enqueueReplaceState(l,l.state,null)}function Hf(i,l,h,v){var I=i.stateNode;I.props=h,I.state=i.memoizedState,I.refs=Zs,jf(i);var x=l.contextType;typeof x=="object"&&x!==null?I.context=Sr(x):(x=Fr(l)?Dr:rr.current,I.context=Us(i,x)),I.state=i.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Rf(i,l,x,h),I.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(l=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),l!==I.state&&Cu.enqueueReplaceState(I,I.state,null),Eu(i,h,I,v),I.state=i.memoizedState),typeof I.componentDidMount=="function"&&(i.flags|=4194308)}function Ql(i,l,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var v=h.stateNode}if(!v)throw Error(n(147,i));var I=v,x=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(R){var G=I.refs;G===Zs&&(G=I.refs={}),R===null?delete G[x]:G[x]=R},l._stringRef=x,l)}if(typeof i!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,i))}return i}function Xl(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Mu(i){var l=i._init;return l(i._payload)}function Yp(i){function l(ue,ae){if(i){var de=ue.deletions;de===null?(ue.deletions=[ae],ue.flags|=16):de.push(ae)}}function h(ue,ae){if(!i)return null;for(;ae!==null;)l(ue,ae),ae=ae.sibling;return null}function v(ue,ae){for(ue=new Map;ae!==null;)ae.key!==null?ue.set(ae.key,ae):ue.set(ae.index,ae),ae=ae.sibling;return ue}function I(ue,ae){return ue=yi(ue,ae),ue.index=0,ue.sibling=null,ue}function x(ue,ae,de){return ue.index=de,i?(de=ue.alternate,de!==null?(de=de.index,de<ae?(ue.flags|=2,ae):de):(ue.flags|=2,ae)):(ue.flags|=1048576,ae)}function R(ue){return i&&ue.alternate===null&&(ue.flags|=2),ue}function G(ue,ae,de,He){return ae===null||ae.tag!==6?(ae=Sh(de,ue.mode,He),ae.return=ue,ae):(ae=I(ae,de),ae.return=ue,ae)}function te(ue,ae,de,He){var at=de.type;return at===_?Fe(ue,ae,de.props.children,He,de.key):ae!==null&&(ae.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===he&&Mu(at)===ae.type)?(He=I(ae,de.props),He.ref=Ql(ue,ae,de),He.return=ue,He):(He=rd(de.type,de.key,de.props,null,ue.mode,He),He.ref=Ql(ue,ae,de),He.return=ue,He)}function ye(ue,ae,de,He){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==de.containerInfo||ae.stateNode.implementation!==de.implementation?(ae=Ih(de,ue.mode,He),ae.return=ue,ae):(ae=I(ae,de.children||[]),ae.return=ue,ae)}function Fe(ue,ae,de,He,at){return ae===null||ae.tag!==7?(ae=as(de,ue.mode,He,at),ae.return=ue,ae):(ae=I(ae,de),ae.return=ue,ae)}function Le(ue,ae,de){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=Sh(""+ae,ue.mode,de),ae.return=ue,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case H:return de=rd(ae.type,ae.key,ae.props,null,ue.mode,de),de.ref=Ql(ue,null,ae),de.return=ue,de;case j:return ae=Ih(ae,ue.mode,de),ae.return=ue,ae;case he:var He=ae._init;return Le(ue,He(ae._payload),de)}if(rn(ae)||we(ae))return ae=as(ae,ue.mode,de,null),ae.return=ue,ae;Xl(ue,ae)}return null}function Oe(ue,ae,de,He){var at=ae!==null?ae.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return at!==null?null:G(ue,ae,""+de,He);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case H:return de.key===at?te(ue,ae,de,He):null;case j:return de.key===at?ye(ue,ae,de,He):null;case he:return at=de._init,Oe(ue,ae,at(de._payload),He)}if(rn(de)||we(de))return at!==null?null:Fe(ue,ae,de,He,null);Xl(ue,de)}return null}function Ge(ue,ae,de,He,at){if(typeof He=="string"&&He!==""||typeof He=="number")return ue=ue.get(de)||null,G(ae,ue,""+He,at);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case H:return ue=ue.get(He.key===null?de:He.key)||null,te(ae,ue,He,at);case j:return ue=ue.get(He.key===null?de:He.key)||null,ye(ae,ue,He,at);case he:var ut=He._init;return Ge(ue,ae,de,ut(He._payload),at)}if(rn(He)||we(He))return ue=ue.get(de)||null,Fe(ae,ue,He,at,null);Xl(ae,He)}return null}function tt(ue,ae,de,He){for(var at=null,ut=null,dt=ae,yt=ae=0,Vn=null;dt!==null&&yt<de.length;yt++){dt.index>yt?(Vn=dt,dt=null):Vn=dt.sibling;var Lt=Oe(ue,dt,de[yt],He);if(Lt===null){dt===null&&(dt=Vn);break}i&&dt&&Lt.alternate===null&&l(ue,dt),ae=x(Lt,ae,yt),ut===null?at=Lt:ut.sibling=Lt,ut=Lt,dt=Vn}if(yt===de.length)return h(ue,dt),Xt&&qi(ue,yt),at;if(dt===null){for(;yt<de.length;yt++)dt=Le(ue,de[yt],He),dt!==null&&(ae=x(dt,ae,yt),ut===null?at=dt:ut.sibling=dt,ut=dt);return Xt&&qi(ue,yt),at}for(dt=v(ue,dt);yt<de.length;yt++)Vn=Ge(dt,ue,yt,de[yt],He),Vn!==null&&(i&&Vn.alternate!==null&&dt.delete(Vn.key===null?yt:Vn.key),ae=x(Vn,ae,yt),ut===null?at=Vn:ut.sibling=Vn,ut=Vn);return i&&dt.forEach(function(wi){return l(ue,wi)}),Xt&&qi(ue,yt),at}function nt(ue,ae,de,He){var at=we(de);if(typeof at!="function")throw Error(n(150));if(de=at.call(de),de==null)throw Error(n(151));for(var ut=at=null,dt=ae,yt=ae=0,Vn=null,Lt=de.next();dt!==null&&!Lt.done;yt++,Lt=de.next()){dt.index>yt?(Vn=dt,dt=null):Vn=dt.sibling;var wi=Oe(ue,dt,Lt.value,He);if(wi===null){dt===null&&(dt=Vn);break}i&&dt&&wi.alternate===null&&l(ue,dt),ae=x(wi,ae,yt),ut===null?at=wi:ut.sibling=wi,ut=wi,dt=Vn}if(Lt.done)return h(ue,dt),Xt&&qi(ue,yt),at;if(dt===null){for(;!Lt.done;yt++,Lt=de.next())Lt=Le(ue,Lt.value,He),Lt!==null&&(ae=x(Lt,ae,yt),ut===null?at=Lt:ut.sibling=Lt,ut=Lt);return Xt&&qi(ue,yt),at}for(dt=v(ue,dt);!Lt.done;yt++,Lt=de.next())Lt=Ge(dt,ue,yt,Lt.value,He),Lt!==null&&(i&&Lt.alternate!==null&&dt.delete(Lt.key===null?yt:Lt.key),ae=x(Lt,ae,yt),ut===null?at=Lt:ut.sibling=Lt,ut=Lt);return i&&dt.forEach(function(s0){return l(ue,s0)}),Xt&&qi(ue,yt),at}function wn(ue,ae,de,He){if(typeof de=="object"&&de!==null&&de.type===_&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case H:e:{for(var at=de.key,ut=ae;ut!==null;){if(ut.key===at){if(at=de.type,at===_){if(ut.tag===7){h(ue,ut.sibling),ae=I(ut,de.props.children),ae.return=ue,ue=ae;break e}}else if(ut.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===he&&Mu(at)===ut.type){h(ue,ut.sibling),ae=I(ut,de.props),ae.ref=Ql(ue,ut,de),ae.return=ue,ue=ae;break e}h(ue,ut);break}else l(ue,ut);ut=ut.sibling}de.type===_?(ae=as(de.props.children,ue.mode,He,de.key),ae.return=ue,ue=ae):(He=rd(de.type,de.key,de.props,null,ue.mode,He),He.ref=Ql(ue,ae,de),He.return=ue,ue=He)}return R(ue);case j:e:{for(ut=de.key;ae!==null;){if(ae.key===ut)if(ae.tag===4&&ae.stateNode.containerInfo===de.containerInfo&&ae.stateNode.implementation===de.implementation){h(ue,ae.sibling),ae=I(ae,de.children||[]),ae.return=ue,ue=ae;break e}else{h(ue,ae);break}else l(ue,ae);ae=ae.sibling}ae=Ih(de,ue.mode,He),ae.return=ue,ue=ae}return R(ue);case he:return ut=de._init,wn(ue,ae,ut(de._payload),He)}if(rn(de))return tt(ue,ae,de,He);if(we(de))return nt(ue,ae,de,He);Xl(ue,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ae!==null&&ae.tag===6?(h(ue,ae.sibling),ae=I(ae,de),ae.return=ue,ue=ae):(h(ue,ae),ae=Sh(de,ue.mode,He),ae.return=ue,ue=ae),R(ue)):h(ue,ae)}return wn}var si=Yp(!0),Bf=Yp(!1),Ws={},Oa=Ar(Ws),li=Ar(Ws),ec=Ar(Ws);function ci(i){if(i===Ws)throw Error(n(174));return i}function Nu(i,l){switch(Gt(ec,l),Gt(li,i),Gt(Oa,Ws),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Mr(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Mr(l,i)}Qt(Oa),Gt(Oa,l)}function $s(){Qt(Oa),Qt(li),Qt(ec)}function Yf(i){ci(ec.current);var l=ci(Oa.current),h=Mr(l,i.type);l!==h&&(Gt(li,i),Gt(Oa,h))}function zf(i){li.current===i&&(Qt(Oa),Qt(li))}var en=Ar(0);function tc(i){for(var l=i;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var nc=[];function Uf(){for(var i=0;i<nc.length;i++)nc[i]._workInProgressVersionPrimary=null;nc.length=0}var qs=F.ReactCurrentDispatcher,It=F.ReactCurrentBatchConfig,Qi=0,cn=null,un=null,jn=null,ku=!1,rc=!1,sr=0,zy=0;function Ln(){throw Error(n(321))}function ac(i,l){if(l===null)return!1;for(var h=0;h<l.length&&h<i.length;h++)if(!ge(i[h],l[h]))return!1;return!0}function Au(i,l,h,v,I,x){if(Qi=x,cn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,qs.current=i===null||i.memoizedState===null?ic:Vy,i=h(v,I),rc){x=0;do{if(rc=!1,sr=0,25<=x)throw Error(n(301));x+=1,jn=un=null,l.updateQueue=null,qs.current=qp,i=h(v,I)}while(rc)}if(qs.current=To,l=un!==null&&un.next!==null,Qi=0,jn=un=cn=null,ku=!1,l)throw Error(n(300));return i}function Ou(){var i=sr!==0;return sr=0,i}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?cn.memoizedState=jn=i:jn=jn.next=i,jn}function Rn(){if(un===null){var i=cn.alternate;i=i!==null?i.memoizedState:null}else i=un.next;var l=jn===null?cn.memoizedState:jn.next;if(l!==null)jn=l,un=i;else{if(i===null)throw Error(n(310));un=i,i={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},jn===null?cn.memoizedState=jn=i:jn=jn.next=i}return jn}function Xi(i,l){return typeof l=="function"?l(i):l}function Fu(i){var l=Rn(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=i;var v=un,I=v.baseQueue,x=h.pending;if(x!==null){if(I!==null){var R=I.next;I.next=x.next,x.next=R}v.baseQueue=I=x,h.pending=null}if(I!==null){x=I.next,v=v.baseState;var G=R=null,te=null,ye=x;do{var Fe=ye.lane;if((Qi&Fe)===Fe)te!==null&&(te=te.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),v=ye.hasEagerState?ye.eagerState:i(v,ye.action);else{var Le={lane:Fe,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};te===null?(G=te=Le,R=v):te=te.next=Le,cn.lanes|=Fe,hi|=Fe}ye=ye.next}while(ye!==null&&ye!==x);te===null?R=v:te.next=G,ge(v,l.memoizedState)||(lr=!0),l.memoizedState=v,l.baseState=R,l.baseQueue=te,h.lastRenderedState=v}if(i=h.interleaved,i!==null){I=i;do x=I.lane,cn.lanes|=x,hi|=x,I=I.next;while(I!==i)}else I===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function Gs(i){var l=Rn(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=i;var v=h.dispatch,I=h.pending,x=l.memoizedState;if(I!==null){h.pending=null;var R=I=I.next;do x=i(x,R.action),R=R.next;while(R!==I);ge(x,l.memoizedState)||(lr=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),h.lastRenderedState=x}return[x,v]}function Vf(){}function Pu(i,l){var h=cn,v=Rn(),I=l(),x=!ge(v.memoizedState,I);if(x&&(v.memoizedState=I,lr=!0),v=v.queue,$f(Lu.bind(null,h,v,i),[i]),v.getSnapshot!==l||x||jn!==null&&jn.memoizedState.tag&1){if(h.flags|=2048,Js(9,ju.bind(null,h,v,I,l),void 0,null),Un===null)throw Error(n(349));Qi&30||Zf(h,l,I)}return I}function Zf(i,l,h){i.flags|=16384,i={getSnapshot:l,value:h},l=cn.updateQueue,l===null?(l={lastEffect:null,stores:null},cn.updateQueue=l,l.stores=[i]):(h=l.stores,h===null?l.stores=[i]:h.push(i))}function ju(i,l,h,v){l.value=h,l.getSnapshot=v,So(l)&&zp(i)}function Lu(i,l,h){return h(function(){So(l)&&zp(i)})}function So(i){var l=i.getSnapshot;i=i.value;try{var h=l();return!ge(i,h)}catch{return!0}}function zp(i){var l=ka(i,1);l!==null&&ja(l,i,1,-1)}function Io(i){var l=mn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:i},l.queue=i,i=i.dispatch=Wp.bind(null,cn,i),[l.memoizedState,i]}function Js(i,l,h,v){return i={tag:i,create:l,destroy:h,deps:v,next:null},l=cn.updateQueue,l===null?(l={lastEffect:null,stores:null},cn.updateQueue=l,l.lastEffect=i.next=i):(h=l.lastEffect,h===null?l.lastEffect=i.next=i:(v=h.next,h.next=i,i.next=v,l.lastEffect=i)),i}function Wf(){return Rn().memoizedState}function Ks(i,l,h,v){var I=mn();cn.flags|=i,I.memoizedState=Js(1|l,h,void 0,v===void 0?null:v)}function Ru(i,l,h,v){var I=Rn();v=v===void 0?null:v;var x=void 0;if(un!==null){var R=un.memoizedState;if(x=R.destroy,v!==null&&ac(v,R.deps)){I.memoizedState=Js(l,h,x,v);return}}cn.flags|=i,I.memoizedState=Js(1|l,h,x,v)}function Up(i,l){return Ks(8390656,8,i,l)}function $f(i,l){return Ru(2048,8,i,l)}function qf(i,l){return Ru(4,2,i,l)}function Gf(i,l){return Ru(4,4,i,l)}function Vp(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Jf(i,l,h){return h=h!=null?h.concat([i]):null,Ru(4,4,Vp.bind(null,l,i),h)}function _u(){}function Ir(i,l){var h=Rn();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&ac(l,v[1])?v[0]:(h.memoizedState=[i,l],i)}function Fa(i,l){var h=Rn();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&ac(l,v[1])?v[0]:(i=i(),h.memoizedState=[i,l],i)}function Zp(i,l,h){return Qi&21?(ge(h,l)||(h=cf(),cn.lanes|=h,hi|=h,i.baseState=!0),l):(i.baseState&&(i.baseState=!1,lr=!0),i.memoizedState=h)}function Uy(i,l){var h=_t;_t=h!==0&&4>h?h:4,i(!0);var v=It.transition;It.transition={};try{i(!1),l()}finally{_t=h,It.transition=v}}function oc(){return Rn().memoizedState}function Qs(i,l,h){var v=pi(i);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},Kf(i))$p(l,h);else if(h=ir(i,l,h,v),h!==null){var I=Er();ja(h,i,v,I),Qf(h,l,v)}}function Wp(i,l,h){var v=pi(i),I={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(Kf(i))$p(l,I);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var R=l.lastRenderedState,G=x(R,h);if(I.hasEagerState=!0,I.eagerState=G,ge(G,R)){var te=l.interleaved;te===null?(I.next=I,Tu(l)):(I.next=te.next,te.next=I),l.interleaved=I;return}}catch{}h=ir(i,l,I,v),h!==null&&(I=Er(),ja(h,i,v,I),Qf(h,l,v))}}function Kf(i){var l=i.alternate;return i===cn||l!==null&&l===cn}function $p(i,l){rc=ku=!0;var h=i.pending;h===null?l.next=l:(l.next=h.next,h.next=l),i.pending=l}function Qf(i,l,h){if(h&4194240){var v=l.lanes;v&=i.pendingLanes,h|=v,l.lanes=h,Pl(i,h)}}var To={readContext:Sr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},ic={readContext:Sr,useCallback:function(i,l){return mn().memoizedState=[i,l===void 0?null:l],i},useContext:Sr,useEffect:Up,useImperativeHandle:function(i,l,h){return h=h!=null?h.concat([i]):null,Ks(4194308,4,Vp.bind(null,l,i),h)},useLayoutEffect:function(i,l){return Ks(4194308,4,i,l)},useInsertionEffect:function(i,l){return Ks(4,2,i,l)},useMemo:function(i,l){var h=mn();return l=l===void 0?null:l,i=i(),h.memoizedState=[i,l],i},useReducer:function(i,l,h){var v=mn();return l=h!==void 0?h(l):l,v.memoizedState=v.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},v.queue=i,i=i.dispatch=Qs.bind(null,cn,i),[v.memoizedState,i]},useRef:function(i){var l=mn();return i={current:i},l.memoizedState=i},useState:Io,useDebugValue:_u,useDeferredValue:function(i){return mn().memoizedState=i},useTransition:function(){var i=Io(!1),l=i[0];return i=Uy.bind(null,i[1]),mn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,h){var v=cn,I=mn();if(Xt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Un===null)throw Error(n(349));Qi&30||Zf(v,l,h)}I.memoizedState=h;var x={value:h,getSnapshot:l};return I.queue=x,Up(Lu.bind(null,v,x,i),[i]),v.flags|=2048,Js(9,ju.bind(null,v,x,h,l),void 0,null),h},useId:function(){var i=mn(),l=Un.identifierPrefix;if(Xt){var h=Ka,v=Ja;h=(v&~(1<<32-Ca(v)-1)).toString(32)+h,l=":"+l+"R"+h,h=sr++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=zy++,l=":"+l+"r"+h.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},Vy={readContext:Sr,useCallback:Ir,useContext:Sr,useEffect:$f,useImperativeHandle:Jf,useInsertionEffect:qf,useLayoutEffect:Gf,useMemo:Fa,useReducer:Fu,useRef:Wf,useState:function(){return Fu(Xi)},useDebugValue:_u,useDeferredValue:function(i){var l=Rn();return Zp(l,un.memoizedState,i)},useTransition:function(){var i=Fu(Xi)[0],l=Rn().memoizedState;return[i,l]},useMutableSource:Vf,useSyncExternalStore:Pu,useId:oc,unstable_isNewReconciler:!1},qp={readContext:Sr,useCallback:Ir,useContext:Sr,useEffect:$f,useImperativeHandle:Jf,useInsertionEffect:qf,useLayoutEffect:Gf,useMemo:Fa,useReducer:Gs,useRef:Wf,useState:function(){return Gs(Xi)},useDebugValue:_u,useDeferredValue:function(i){var l=Rn();return un===null?l.memoizedState=i:Zp(l,un.memoizedState,i)},useTransition:function(){var i=Gs(Xi)[0],l=Rn().memoizedState;return[i,l]},useMutableSource:Vf,useSyncExternalStore:Pu,useId:oc,unstable_isNewReconciler:!1};function es(i,l){try{var h="",v=l;do h+=be(v),v=v.return;while(v);var I=h}catch(x){I=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:l,stack:I,digest:null}}function Xs(i,l,h){return{value:i,source:null,stack:h??null,digest:l??null}}function Hu(i,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var Bu=typeof WeakMap=="function"?WeakMap:Map;function Yu(i,l,h){h=Aa(-1,h),h.tag=3,h.payload={element:null};var v=l.value;return h.callback=function(){Ku||(Ku=!0,hh=v),Hu(i,l)},h}function sc(i,l,h){h=Aa(-1,h),h.tag=3;var v=i.type.getDerivedStateFromError;if(typeof v=="function"){var I=l.value;h.payload=function(){return v(I)},h.callback=function(){Hu(i,l)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(h.callback=function(){Hu(i,l),typeof v!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var R=l.stack;this.componentDidCatch(l.value,{componentStack:R!==null?R:""})}),h}function Gp(i,l,h){var v=i.pingCache;if(v===null){v=i.pingCache=new Bu;var I=new Set;v.set(l,I)}else I=v.get(l),I===void 0&&(I=new Set,v.set(l,I));I.has(h)||(I.add(h),i=Qy.bind(null,i,l,h),l.then(i,i))}function Xf(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function lc(i,l,h,v,I){return i.mode&1?(i.flags|=65536,i.lanes=I,i):(i===l?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Aa(-1,1),l.tag=2,oi(h,l,1))),h.lanes|=1),i)}var Jp=F.ReactCurrentOwner,lr=!1;function Tr(i,l,h,v){l.child=i===null?Bf(l,null,h,v):si(l,i.child,h,v)}function eh(i,l,h,v,I){h=h.render;var x=l.ref;return ri(l,I),v=Au(i,l,h,v,x,I),h=Ou(),i!==null&&!lr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~I,ro(i,l,I)):(Xt&&h&&Gl(l),l.flags|=1,Tr(i,l,v,I),l.child)}function to(i,l,h,v,I){if(i===null){var x=h.type;return typeof x=="function"&&!Dh(x)&&x.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=x,th(i,l,x,v,I)):(i=rd(h.type,null,v,l,l.mode,I),i.ref=l.ref,i.return=l,l.child=i)}if(x=i.child,!(i.lanes&I)){var R=x.memoizedProps;if(h=h.compare,h=h!==null?h:qe,h(R,v)&&i.ref===l.ref)return ro(i,l,I)}return l.flags|=1,i=yi(x,v),i.ref=l.ref,i.return=l,l.child=i}function th(i,l,h,v,I){if(i!==null){var x=i.memoizedProps;if(qe(x,v)&&i.ref===l.ref)if(lr=!1,l.pendingProps=v=x,(i.lanes&I)!==0)i.flags&131072&&(lr=!0);else return l.lanes=i.lanes,ro(i,l,I)}return zu(i,l,h,v,I)}function nh(i,l,h){var v=l.pendingProps,I=v.children,x=i!==null?i.memoizedState:null;if(v.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(al,Gr),Gr|=h;else{if(!(h&1073741824))return i=x!==null?x.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Gt(al,Gr),Gr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=x!==null?x.baseLanes:h,Gt(al,Gr),Gr|=v}else x!==null?(v=x.baseLanes|h,l.memoizedState=null):v=h,Gt(al,Gr),Gr|=v;return Tr(i,l,I,h),l.child}function Kp(i,l){var h=l.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function zu(i,l,h,v,I){var x=Fr(h)?Dr:rr.current;return x=Us(l,x),ri(l,I),h=Au(i,l,h,v,x,I),v=Ou(),i!==null&&!lr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~I,ro(i,l,I)):(Xt&&v&&Gl(l),l.flags|=1,Tr(i,l,h,I),l.child)}function Qp(i,l,h,v,I){if(Fr(h)){var x=!0;ia(l)}else x=!1;if(ri(l,I),l.stateNode===null)el(i,l),_f(l,h,v),Hf(l,h,v,I),v=!0;else if(i===null){var R=l.stateNode,G=l.memoizedProps;R.props=G;var te=R.context,ye=h.contextType;typeof ye=="object"&&ye!==null?ye=Sr(ye):(ye=Fr(h)?Dr:rr.current,ye=Us(l,ye));var Fe=h.getDerivedStateFromProps,Le=typeof Fe=="function"||typeof R.getSnapshotBeforeUpdate=="function";Le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==v||te!==ye)&&Bp(l,R,v,ye),ai=!1;var Oe=l.memoizedState;R.state=Oe,Eu(l,v,R,I),te=l.memoizedState,G!==v||Oe!==te||Or.current||ai?(typeof Fe=="function"&&(Rf(l,h,Fe,v),te=l.memoizedState),(G=ai||xu(l,h,G,v,Oe,te,ye))?(Le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(l.flags|=4194308)):(typeof R.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=te),R.props=v,R.state=te,R.context=ye,v=G):(typeof R.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{R=l.stateNode,_p(i,l),G=l.memoizedProps,ye=l.type===l.elementType?G:Na(l.type,G),R.props=ye,Le=l.pendingProps,Oe=R.context,te=h.contextType,typeof te=="object"&&te!==null?te=Sr(te):(te=Fr(h)?Dr:rr.current,te=Us(l,te));var Ge=h.getDerivedStateFromProps;(Fe=typeof Ge=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==Le||Oe!==te)&&Bp(l,R,v,te),ai=!1,Oe=l.memoizedState,R.state=Oe,Eu(l,v,R,I);var tt=l.memoizedState;G!==Le||Oe!==tt||Or.current||ai?(typeof Ge=="function"&&(Rf(l,h,Ge,v),tt=l.memoizedState),(ye=ai||xu(l,h,ye,v,Oe,tt,te)||!1)?(Fe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(v,tt,te),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(v,tt,te)),typeof R.componentDidUpdate=="function"&&(l.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof R.componentDidUpdate!="function"||G===i.memoizedProps&&Oe===i.memoizedState||(l.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===i.memoizedProps&&Oe===i.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=tt),R.props=v,R.state=tt,R.context=te,v=ye):(typeof R.componentDidUpdate!="function"||G===i.memoizedProps&&Oe===i.memoizedState||(l.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===i.memoizedProps&&Oe===i.memoizedState||(l.flags|=1024),v=!1)}return rh(i,l,h,v,x,I)}function rh(i,l,h,v,I,x){Kp(i,l);var R=(l.flags&128)!==0;if(!v&&!R)return I&&Fp(l,h,!1),ro(i,l,x);v=l.stateNode,Jp.current=l;var G=R&&typeof h.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,i!==null&&R?(l.child=si(l,i.child,null,x),l.child=si(l,null,G,x)):Tr(i,l,G,x),l.memoizedState=v.state,I&&Fp(l,h,!0),l.child}function no(i){var l=i.stateNode;l.pendingContext?Ap(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Ap(i,l.context,!1),Nu(i,l.containerInfo)}function Uu(i,l,h,v,I){return Xa(),eo(I),l.flags|=256,Tr(i,l,h,v),l.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function uc(i){return{baseLanes:i,cachePool:null,transitions:null}}function dc(i,l,h){var v=l.pendingProps,I=en.current,x=!1,R=(l.flags&128)!==0,G;if((G=R)||(G=i!==null&&i.memoizedState===null?!1:(I&2)!==0),G?(x=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(I|=1),Gt(en,I&1),i===null)return Pr(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(l.mode&1?i.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(R=v.children,i=v.fallback,x?(v=l.mode,x=l.child,R={mode:"hidden",children:R},!(v&1)&&x!==null?(x.childLanes=0,x.pendingProps=R):x=ad(R,v,0,null),i=as(i,v,h,null),x.return=l,i.return=l,x.sibling=i,l.child=x,l.child.memoizedState=uc(h),l.memoizedState=cc,i):ui(l,R));if(I=i.memoizedState,I!==null&&(G=I.dehydrated,G!==null))return Vu(i,l,R,v,G,I,h);if(x){x=v.fallback,R=l.mode,I=i.child,G=I.sibling;var te={mode:"hidden",children:v.children};return!(R&1)&&l.child!==I?(v=l.child,v.childLanes=0,v.pendingProps=te,l.deletions=null):(v=yi(I,te),v.subtreeFlags=I.subtreeFlags&14680064),G!==null?x=yi(G,x):(x=as(x,R,h,null),x.flags|=2),x.return=l,v.return=l,v.sibling=x,l.child=v,v=x,x=l.child,R=i.child.memoizedState,R=R===null?uc(h):{baseLanes:R.baseLanes|h,cachePool:null,transitions:R.transitions},x.memoizedState=R,x.childLanes=i.childLanes&~h,l.memoizedState=cc,v}return x=i.child,i=x.sibling,v=yi(x,{mode:"visible",children:v.children}),!(l.mode&1)&&(v.lanes=h),v.return=l,v.sibling=null,i!==null&&(h=l.deletions,h===null?(l.deletions=[i],l.flags|=16):h.push(i)),l.child=v,l.memoizedState=null,v}function ui(i,l){return l=ad({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function ct(i,l,h,v){return v!==null&&eo(v),si(l,i.child,null,h),i=ui(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Vu(i,l,h,v,I,x,R){if(h)return l.flags&256?(l.flags&=-257,v=Xs(Error(n(422))),ct(i,l,R,v)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(x=v.fallback,I=l.mode,v=ad({mode:"visible",children:v.children},I,0,null),x=as(x,I,R,null),x.flags|=2,v.return=l,x.return=l,v.sibling=x,l.child=v,l.mode&1&&si(l,i.child,null,R),l.child.memoizedState=uc(R),l.memoizedState=cc,x);if(!(l.mode&1))return ct(i,l,R,null);if(I.data==="$!"){if(v=I.nextSibling&&I.nextSibling.dataset,v)var G=v.dgst;return v=G,x=Error(n(419)),v=Xs(x,v,void 0),ct(i,l,R,v)}if(G=(R&i.childLanes)!==0,lr||G){if(v=Un,v!==null){switch(R&-R){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=I&(v.suspendedLanes|R)?0:I,I!==0&&I!==x.retryLane&&(x.retryLane=I,ka(i,I),ja(v,i,I,-1))}return wh(),v=Xs(Error(n(421))),ct(i,l,R,v)}return I.data==="$?"?(l.flags|=128,l.child=i.child,l=Xy.bind(null,i),I._reactRetry=l,null):(i=x.treeContext,Zr=Xo(I.nextSibling),or=l,Xt=!0,Ma=null,i!==null&&(sa[la++]=Ja,sa[la++]=Ka,sa[la++]=$i,Ja=i.id,Ka=i.overflow,$i=l),l=ui(l,v.children),l.flags|=4096,l)}function Zu(i,l,h){i.lanes|=l;var v=i.alternate;v!==null&&(v.lanes|=l),ca(i.return,l,h)}function Eo(i,l,h,v,I){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:I}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=v,x.tail=h,x.tailMode=I)}function Xp(i,l,h){var v=l.pendingProps,I=v.revealOrder,x=v.tail;if(Tr(i,l,v.children,h),v=en.current,v&2)v=v&1|2,l.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zu(i,h,l);else if(i.tag===19)Zu(i,h,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}if(Gt(en,v),!(l.mode&1))l.memoizedState=null;else switch(I){case"forwards":for(h=l.child,I=null;h!==null;)i=h.alternate,i!==null&&tc(i)===null&&(I=h),h=h.sibling;h=I,h===null?(I=l.child,l.child=null):(I=h.sibling,h.sibling=null),Eo(l,!1,I,h,x);break;case"backwards":for(h=null,I=l.child,l.child=null;I!==null;){if(i=I.alternate,i!==null&&tc(i)===null){l.child=I;break}i=I.sibling,I.sibling=h,h=I,I=i}Eo(l,!0,h,null,x);break;case"together":Eo(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function el(i,l){!(l.mode&1)&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function ro(i,l,h){if(i!==null&&(l.dependencies=i.dependencies),hi|=l.lanes,!(h&l.childLanes))return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,h=yi(i,i.pendingProps),l.child=h,h.return=l;i.sibling!==null;)i=i.sibling,h=h.sibling=yi(i,i.pendingProps),h.return=l;h.sibling=null}return l.child}function cr(i,l,h){switch(l.tag){case 3:no(l),Xa();break;case 5:Yf(l);break;case 1:Fr(l.type)&&ia(l);break;case 4:Nu(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,I=l.memoizedProps.value;Gt(Ji,v._currentValue),v._currentValue=I;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(Gt(en,en.current&1),l.flags|=128,null):h&l.child.childLanes?dc(i,l,h):(Gt(en,en.current&1),i=ro(i,l,h),i!==null?i.sibling:null);Gt(en,en.current&1);break;case 19:if(v=(h&l.childLanes)!==0,i.flags&128){if(v)return Xp(i,l,h);l.flags|=128}if(I=l.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Gt(en,en.current),v)break;return null;case 22:case 23:return l.lanes=0,nh(i,l,h)}return ro(i,l,h)}var eg,ah,oh,tg;eg=function(i,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},ah=function(){},oh=function(i,l,h,v){var I=i.memoizedProps;if(I!==v){i=l.stateNode,ci(Oa.current);var x=null;switch(h){case"input":I=$e(i,I),v=$e(i,v),x=[];break;case"select":I=W({},I,{value:void 0}),v=W({},v,{value:void 0}),x=[];break;case"textarea":I=an(i,I),v=an(i,v),x=[];break;default:typeof I.onClick!="function"&&typeof v.onClick=="function"&&(i.onclick=hu)}Yo(h,v);var R;h=null;for(ye in I)if(!v.hasOwnProperty(ye)&&I.hasOwnProperty(ye)&&I[ye]!=null)if(ye==="style"){var G=I[ye];for(R in G)G.hasOwnProperty(R)&&(h||(h={}),h[R]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(a.hasOwnProperty(ye)?x||(x=[]):(x=x||[]).push(ye,null));for(ye in v){var te=v[ye];if(G=I!=null?I[ye]:void 0,v.hasOwnProperty(ye)&&te!==G&&(te!=null||G!=null))if(ye==="style")if(G){for(R in G)!G.hasOwnProperty(R)||te&&te.hasOwnProperty(R)||(h||(h={}),h[R]="");for(R in te)te.hasOwnProperty(R)&&G[R]!==te[R]&&(h||(h={}),h[R]=te[R])}else h||(x||(x=[]),x.push(ye,h)),h=te;else ye==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,G=G?G.__html:void 0,te!=null&&G!==te&&(x=x||[]).push(ye,te)):ye==="children"?typeof te!="string"&&typeof te!="number"||(x=x||[]).push(ye,""+te):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(a.hasOwnProperty(ye)?(te!=null&&ye==="onScroll"&&Kt("scroll",i),x||G===te||(x=[])):(x=x||[]).push(ye,te))}h&&(x=x||[]).push("style",h);var ye=x;(l.updateQueue=ye)&&(l.flags|=4)}},tg=function(i,l,h,v){h!==v&&(l.flags|=4)};function tl(i,l){if(!Xt)switch(i.tailMode){case"hidden":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function ur(i){var l=i.alternate!==null&&i.alternate.child===i.child,h=0,v=0;if(l)for(var I=i.child;I!==null;)h|=I.lanes|I.childLanes,v|=I.subtreeFlags&14680064,v|=I.flags&14680064,I.return=i,I=I.sibling;else for(I=i.child;I!==null;)h|=I.lanes|I.childLanes,v|=I.subtreeFlags,v|=I.flags,I.return=i,I=I.sibling;return i.subtreeFlags|=v,i.childLanes=h,l}function Zy(i,l,h){var v=l.pendingProps;switch(Gi(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(l),null;case 1:return Fr(l.type)&&vu(),ur(l),null;case 3:return v=l.stateNode,$s(),Qt(Or),Qt(rr),Uf(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(i===null||i.child===null)&&(Jl(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Ma!==null&&(gh(Ma),Ma=null))),ah(i,l),ur(l),null;case 5:zf(l);var I=ci(ec.current);if(h=l.type,i!==null&&l.stateNode!=null)oh(i,l,h,v,I),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(n(166));return ur(l),null}if(i=ci(Oa.current),Jl(l)){v=l.stateNode,h=l.type;var x=l.memoizedProps;switch(v[qa]=l,v[ei]=x,i=(l.mode&1)!==0,h){case"dialog":Kt("cancel",v),Kt("close",v);break;case"iframe":case"object":case"embed":Kt("load",v);break;case"video":case"audio":for(I=0;I<wo.length;I++)Kt(wo[I],v);break;case"source":Kt("error",v);break;case"img":case"image":case"link":Kt("error",v),Kt("load",v);break;case"details":Kt("toggle",v);break;case"input":lt(v,x),Kt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!x.multiple},Kt("invalid",v);break;case"textarea":Sn(v,x),Kt("invalid",v)}Yo(h,x),I=null;for(var R in x)if(x.hasOwnProperty(R)){var G=x[R];R==="children"?typeof G=="string"?v.textContent!==G&&(x.suppressHydrationWarning!==!0&&Zl(v.textContent,G,i),I=["children",G]):typeof G=="number"&&v.textContent!==""+G&&(x.suppressHydrationWarning!==!0&&Zl(v.textContent,G,i),I=["children",""+G]):a.hasOwnProperty(R)&&G!=null&&R==="onScroll"&&Kt("scroll",v)}switch(h){case"input":Se(v),Et(v,x,!0);break;case"textarea":Se(v),vr(v);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(v.onclick=hu)}v=I,l.updateQueue=v,v!==null&&(l.flags|=4)}else{R=I.nodeType===9?I:I.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Sa(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=R.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof v.is=="string"?i=R.createElement(h,{is:v.is}):(i=R.createElement(h),h==="select"&&(R=i,v.multiple?R.multiple=!0:v.size&&(R.size=v.size))):i=R.createElementNS(i,h),i[qa]=l,i[ei]=v,eg(i,l,!1,!1),l.stateNode=i;e:{switch(R=Li(h,v),h){case"dialog":Kt("cancel",i),Kt("close",i),I=v;break;case"iframe":case"object":case"embed":Kt("load",i),I=v;break;case"video":case"audio":for(I=0;I<wo.length;I++)Kt(wo[I],i);I=v;break;case"source":Kt("error",i),I=v;break;case"img":case"image":case"link":Kt("error",i),Kt("load",i),I=v;break;case"details":Kt("toggle",i),I=v;break;case"input":lt(i,v),I=$e(i,v),Kt("invalid",i);break;case"option":I=v;break;case"select":i._wrapperState={wasMultiple:!!v.multiple},I=W({},v,{value:void 0}),Kt("invalid",i);break;case"textarea":Sn(i,v),I=an(i,v),Kt("invalid",i);break;default:I=v}Yo(h,I),G=I;for(x in G)if(G.hasOwnProperty(x)){var te=G[x];x==="style"?ji(i,te):x==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&Ss(i,te)):x==="children"?typeof te=="string"?(h!=="textarea"||te!=="")&&mo(i,te):typeof te=="number"&&mo(i,""+te):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(a.hasOwnProperty(x)?te!=null&&x==="onScroll"&&Kt("scroll",i):te!=null&&L(i,x,te,R))}switch(h){case"input":Se(i),Et(i,v,!1);break;case"textarea":Se(i),vr(i);break;case"option":v.value!=null&&i.setAttribute("value",""+_e(v.value));break;case"select":i.multiple=!!v.multiple,x=v.value,x!=null?At(i,!!v.multiple,x,!1):v.defaultValue!=null&&At(i,!!v.multiple,v.defaultValue,!0);break;default:typeof I.onClick=="function"&&(i.onclick=hu)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return ur(l),null;case 6:if(i&&l.stateNode!=null)tg(i,l,i.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(h=ci(ec.current),ci(Oa.current),Jl(l)){if(v=l.stateNode,h=l.memoizedProps,v[qa]=l,(x=v.nodeValue!==h)&&(i=or,i!==null))switch(i.tag){case 3:Zl(v.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Zl(v.nodeValue,h,(i.mode&1)!==0)}x&&(l.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[qa]=l,l.stateNode=v}return ur(l),null;case 13:if(Qt(en),v=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Xt&&Zr!==null&&l.mode&1&&!(l.flags&128))Pf(),Xa(),l.flags|=98560,x=!1;else if(x=Jl(l),v!==null&&v.dehydrated!==null){if(i===null){if(!x)throw Error(n(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[qa]=l}else Xa(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;ur(l),x=!1}else Ma!==null&&(gh(Ma),Ma=null),x=!0;if(!x)return l.flags&65536?l:null}return l.flags&128?(l.lanes=h,l):(v=v!==null,v!==(i!==null&&i.memoizedState!==null)&&v&&(l.child.flags|=8192,l.mode&1&&(i===null||en.current&1?_n===0&&(_n=3):wh())),l.updateQueue!==null&&(l.flags|=4),ur(l),null);case 4:return $s(),ah(i,l),i===null&&Ko(l.stateNode.containerInfo),ur(l),null;case 10:return Iu(l.type._context),ur(l),null;case 17:return Fr(l.type)&&vu(),ur(l),null;case 19:if(Qt(en),x=l.memoizedState,x===null)return ur(l),null;if(v=(l.flags&128)!==0,R=x.rendering,R===null)if(v)tl(x,!1);else{if(_n!==0||i!==null&&i.flags&128)for(i=l.child;i!==null;){if(R=tc(i),R!==null){for(l.flags|=128,tl(x,!1),v=R.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=h,h=l.child;h!==null;)x=h,i=v,x.flags&=14680066,R=x.alternate,R===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=R.childLanes,x.lanes=R.lanes,x.child=R.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=R.memoizedProps,x.memoizedState=R.memoizedState,x.updateQueue=R.updateQueue,x.type=R.type,i=R.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return Gt(en,en.current&1|2),l.child}i=i.sibling}x.tail!==null&&on()>il&&(l.flags|=128,v=!0,tl(x,!1),l.lanes=4194304)}else{if(!v)if(i=tc(R),i!==null){if(l.flags|=128,v=!0,h=i.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),tl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!R.alternate&&!Xt)return ur(l),null}else 2*on()-x.renderingStartTime>il&&h!==1073741824&&(l.flags|=128,v=!0,tl(x,!1),l.lanes=4194304);x.isBackwards?(R.sibling=l.child,l.child=R):(h=x.last,h!==null?h.sibling=R:l.child=R,x.last=R)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=on(),l.sibling=null,h=en.current,Gt(en,v?h&1|2:h&1),l):(ur(l),null);case 22:case 23:return yh(),v=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==v&&(l.flags|=8192),v&&l.mode&1?Gr&1073741824&&(ur(l),l.subtreeFlags&6&&(l.flags|=8192)):ur(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function Wy(i,l){switch(Gi(l),l.tag){case 1:return Fr(l.type)&&vu(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return $s(),Qt(Or),Qt(rr),Uf(),i=l.flags,i&65536&&!(i&128)?(l.flags=i&-65537|128,l):null;case 5:return zf(l),null;case 13:if(Qt(en),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Xa()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Qt(en),null;case 4:return $s(),null;case 10:return Iu(l.type._context),null;case 22:case 23:return yh(),null;case 24:return null;default:return null}}var ua=!1,Bt=!1,ih=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function di(i,l){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){pn(i,l,v)}else h.current=null}function sh(i,l,h){try{h()}catch(v){pn(i,l,v)}}var ng=!1;function fc(i,l){if(Wl=Gc,i=Zt(),Hl(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var I=v.anchorOffset,x=v.focusNode;v=v.focusOffset;try{h.nodeType,x.nodeType}catch{h=null;break e}var R=0,G=-1,te=-1,ye=0,Fe=0,Le=i,Oe=null;t:for(;;){for(var Ge;Le!==h||I!==0&&Le.nodeType!==3||(G=R+I),Le!==x||v!==0&&Le.nodeType!==3||(te=R+v),Le.nodeType===3&&(R+=Le.nodeValue.length),(Ge=Le.firstChild)!==null;)Oe=Le,Le=Ge;for(;;){if(Le===i)break t;if(Oe===h&&++ye===I&&(G=R),Oe===x&&++Fe===v&&(te=R),(Ge=Le.nextSibling)!==null)break;Le=Oe,Oe=Le.parentNode}Le=Ge}h=G===-1||te===-1?null:{start:G,end:te}}else h=null}h=h||{start:0,end:0}}else h=null;for(Zi={focusedElem:i,selectionRange:h},Gc=!1,Xe=l;Xe!==null;)if(l=Xe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Xe=i;else for(;Xe!==null;){l=Xe;try{var tt=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var nt=tt.memoizedProps,wn=tt.memoizedState,ue=l.stateNode,ae=ue.getSnapshotBeforeUpdate(l.elementType===l.type?nt:Na(l.type,nt),wn);ue.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var de=l.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(He){pn(l,l.return,He)}if(i=l.sibling,i!==null){i.return=l.return,Xe=i;break}Xe=l.return}return tt=ng,ng=!1,tt}function nl(i,l,h){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var I=v=v.next;do{if((I.tag&i)===i){var x=I.destroy;I.destroy=void 0,x!==void 0&&sh(l,h,x)}I=I.next}while(I!==v)}}function hc(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&i)===i){var v=h.create;h.destroy=v()}h=h.next}while(h!==l)}}function lh(i){var l=i.ref;if(l!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof l=="function"?l(i):l.current=i}}function rg(i){var l=i.alternate;l!==null&&(i.alternate=null,rg(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[qa],delete l[ei],delete l[pu],delete l[B],delete l[Ys])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function ag(i){return i.tag===5||i.tag===3||i.tag===4}function og(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ag(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wu(i,l,h){var v=i.tag;if(v===5||v===6)i=i.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(i,l):h.insertBefore(i,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(i,h)):(l=h,l.appendChild(i)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=hu));else if(v!==4&&(i=i.child,i!==null))for(Wu(i,l,h),i=i.sibling;i!==null;)Wu(i,l,h),i=i.sibling}function $u(i,l,h){var v=i.tag;if(v===5||v===6)i=i.stateNode,l?h.insertBefore(i,l):h.appendChild(i);else if(v!==4&&(i=i.child,i!==null))for($u(i,l,h),i=i.sibling;i!==null;)$u(i,l,h),i=i.sibling}var qn=null,$r=!1;function Co(i,l,h){for(h=h.child;h!==null;)rl(i,l,h),h=h.sibling}function rl(i,l,h){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(Uc,h)}catch{}switch(h.tag){case 5:Bt||di(h,l);case 6:var v=qn,I=$r;qn=null,Co(i,l,h),qn=v,$r=I,qn!==null&&($r?(i=qn,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):qn.removeChild(h.stateNode));break;case 18:qn!==null&&($r?(i=qn,h=h.stateNode,i.nodeType===8?Af(i.parentNode,h):i.nodeType===1&&Af(i,h),Ht(i)):Af(qn,h.stateNode));break;case 4:v=qn,I=$r,qn=h.stateNode.containerInfo,$r=!0,Co(i,l,h),qn=v,$r=I;break;case 0:case 11:case 14:case 15:if(!Bt&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){I=v=v.next;do{var x=I,R=x.destroy;x=x.tag,R!==void 0&&(x&2||x&4)&&sh(h,l,R),I=I.next}while(I!==v)}Co(i,l,h);break;case 1:if(!Bt&&(di(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(G){pn(h,l,G)}Co(i,l,h);break;case 21:Co(i,l,h);break;case 22:h.mode&1?(Bt=(v=Bt)||h.memoizedState!==null,Co(i,l,h),Bt=v):Co(i,l,h);break;default:Co(i,l,h)}}function qu(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new ih),l.forEach(function(v){var I=e0.bind(null,i,v);h.has(v)||(h.add(v),v.then(I,I))})}}function da(i,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var I=h[v];try{var x=i,R=l,G=R;e:for(;G!==null;){switch(G.tag){case 5:qn=G.stateNode,$r=!1;break e;case 3:qn=G.stateNode.containerInfo,$r=!0;break e;case 4:qn=G.stateNode.containerInfo,$r=!0;break e}G=G.return}if(qn===null)throw Error(n(160));rl(x,R,I),qn=null,$r=!1;var te=I.alternate;te!==null&&(te.return=null),I.return=null}catch(ye){pn(I,l,ye)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)ch(l,i),l=l.sibling}function ch(i,l){var h=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(da(l,i),qr(i),v&4){try{nl(3,i,i.return),hc(3,i)}catch(nt){pn(i,i.return,nt)}try{nl(5,i,i.return)}catch(nt){pn(i,i.return,nt)}}break;case 1:da(l,i),qr(i),v&512&&h!==null&&di(h,h.return);break;case 5:if(da(l,i),qr(i),v&512&&h!==null&&di(h,h.return),i.flags&32){var I=i.stateNode;try{mo(I,"")}catch(nt){pn(i,i.return,nt)}}if(v&4&&(I=i.stateNode,I!=null)){var x=i.memoizedProps,R=h!==null?h.memoizedProps:x,G=i.type,te=i.updateQueue;if(i.updateQueue=null,te!==null)try{G==="input"&&x.type==="radio"&&x.name!=null&&ft(I,x),Li(G,R);var ye=Li(G,x);for(R=0;R<te.length;R+=2){var Fe=te[R],Le=te[R+1];Fe==="style"?ji(I,Le):Fe==="dangerouslySetInnerHTML"?Ss(I,Le):Fe==="children"?mo(I,Le):L(I,Fe,Le,ye)}switch(G){case"input":Dt(I,x);break;case"textarea":In(I,x);break;case"select":var Oe=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!x.multiple;var Ge=x.value;Ge!=null?At(I,!!x.multiple,Ge,!1):Oe!==!!x.multiple&&(x.defaultValue!=null?At(I,!!x.multiple,x.defaultValue,!0):At(I,!!x.multiple,x.multiple?[]:"",!1))}I[ei]=x}catch(nt){pn(i,i.return,nt)}}break;case 6:if(da(l,i),qr(i),v&4){if(i.stateNode===null)throw Error(n(162));I=i.stateNode,x=i.memoizedProps;try{I.nodeValue=x}catch(nt){pn(i,i.return,nt)}}break;case 3:if(da(l,i),qr(i),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Ht(l.containerInfo)}catch(nt){pn(i,i.return,nt)}break;case 4:da(l,i),qr(i);break;case 13:da(l,i),qr(i),I=i.child,I.flags&8192&&(x=I.memoizedState!==null,I.stateNode.isHidden=x,!x||I.alternate!==null&&I.alternate.memoizedState!==null||(Ju=on())),v&4&&qu(i);break;case 22:if(Fe=h!==null&&h.memoizedState!==null,i.mode&1?(Bt=(ye=Bt)||Fe,da(l,i),Bt=ye):da(l,i),qr(i),v&8192){if(ye=i.memoizedState!==null,(i.stateNode.isHidden=ye)&&!Fe&&i.mode&1)for(Xe=i,Fe=i.child;Fe!==null;){for(Le=Xe=Fe;Xe!==null;){switch(Oe=Xe,Ge=Oe.child,Oe.tag){case 0:case 11:case 14:case 15:nl(4,Oe,Oe.return);break;case 1:di(Oe,Oe.return);var tt=Oe.stateNode;if(typeof tt.componentWillUnmount=="function"){v=Oe,h=Oe.return;try{l=v,tt.props=l.memoizedProps,tt.state=l.memoizedState,tt.componentWillUnmount()}catch(nt){pn(v,h,nt)}}break;case 5:di(Oe,Oe.return);break;case 22:if(Oe.memoizedState!==null){sg(Le);continue}}Ge!==null?(Ge.return=Oe,Xe=Ge):sg(Le)}Fe=Fe.sibling}e:for(Fe=null,Le=i;;){if(Le.tag===5){if(Fe===null){Fe=Le;try{I=Le.stateNode,ye?(x=I.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(G=Le.stateNode,te=Le.memoizedProps.style,R=te!=null&&te.hasOwnProperty("display")?te.display:null,G.style.display=Pi("display",R))}catch(nt){pn(i,i.return,nt)}}}else if(Le.tag===6){if(Fe===null)try{Le.stateNode.nodeValue=ye?"":Le.memoizedProps}catch(nt){pn(i,i.return,nt)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===i)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===i)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===i)break e;Fe===Le&&(Fe=null),Le=Le.return}Fe===Le&&(Fe=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:da(l,i),qr(i),v&4&&qu(i);break;case 21:break;default:da(l,i),qr(i)}}function qr(i){var l=i.flags;if(l&2){try{e:{for(var h=i.return;h!==null;){if(ag(h)){var v=h;break e}h=h.return}throw Error(n(160))}switch(v.tag){case 5:var I=v.stateNode;v.flags&32&&(mo(I,""),v.flags&=-33);var x=og(i);$u(i,x,I);break;case 3:case 4:var R=v.stateNode.containerInfo,G=og(i);Wu(i,G,R);break;default:throw Error(n(161))}}catch(te){pn(i,i.return,te)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function ig(i,l,h){Xe=i,Pa(i)}function Pa(i,l,h){for(var v=(i.mode&1)!==0;Xe!==null;){var I=Xe,x=I.child;if(I.tag===22&&v){var R=I.memoizedState!==null||ua;if(!R){var G=I.alternate,te=G!==null&&G.memoizedState!==null||Bt;G=ua;var ye=Bt;if(ua=R,(Bt=te)&&!ye)for(Xe=I;Xe!==null;)R=Xe,te=R.child,R.tag===22&&R.memoizedState!==null?uh(I):te!==null?(te.return=R,Xe=te):uh(I);for(;x!==null;)Xe=x,Pa(x),x=x.sibling;Xe=I,ua=G,Bt=ye}fi(i)}else I.subtreeFlags&8772&&x!==null?(x.return=I,Xe=x):fi(i)}}function fi(i){for(;Xe!==null;){var l=Xe;if(l.flags&8772){var h=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Bt||hc(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Bt)if(h===null)v.componentDidMount();else{var I=l.elementType===l.type?h.memoizedProps:Na(l.type,h.memoizedProps);v.componentDidUpdate(I,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&Hp(l,x,v);break;case 3:var R=l.updateQueue;if(R!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}Hp(l,R,h)}break;case 5:var G=l.stateNode;if(h===null&&l.flags&4){h=G;var te=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&h.focus();break;case"img":te.src&&(h.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ye=l.alternate;if(ye!==null){var Fe=ye.memoizedState;if(Fe!==null){var Le=Fe.dehydrated;Le!==null&&Ht(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bt||l.flags&512&&lh(l)}catch(Oe){pn(l,l.return,Oe)}}if(l===i){Xe=null;break}if(h=l.sibling,h!==null){h.return=l.return,Xe=h;break}Xe=l.return}}function sg(i){for(;Xe!==null;){var l=Xe;if(l===i){Xe=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Xe=h;break}Xe=l.return}}function uh(i){for(;Xe!==null;){var l=Xe;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{hc(4,l)}catch(te){pn(l,h,te)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var I=l.return;try{v.componentDidMount()}catch(te){pn(l,I,te)}}var x=l.return;try{lh(l)}catch(te){pn(l,x,te)}break;case 5:var R=l.return;try{lh(l)}catch(te){pn(l,R,te)}}}catch(te){pn(l,l.return,te)}if(l===i){Xe=null;break}var G=l.sibling;if(G!==null){G.return=l.return,Xe=G;break}Xe=l.return}}var $y=Math.ceil,Gu=F.ReactCurrentDispatcher,dh=F.ReactCurrentOwner,fa=F.ReactCurrentBatchConfig,Ot=0,Un=null,Cn=null,Gn=0,Gr=0,al=Ar(0),_n=0,ol=null,hi=0,mc=0,fh=0,pc=null,jr=null,Ju=0,il=1/0,xo=null,Ku=!1,hh=null,mi=null,Qu=!1,Hn=null,Xu=0,gc=0,mh=null,vc=-1,ed=0;function Er(){return Ot&6?on():vc!==-1?vc:vc=on()}function pi(i){return i.mode&1?Ot&2&&Gn!==0?Gn&-Gn:Rp.transition!==null?(ed===0&&(ed=cf()),ed):(i=_t,i!==0||(i=window.event,i=i===void 0?16:cp(i.type)),i):1}function ja(i,l,h,v){if(50<gc)throw gc=0,mh=null,Error(n(185));Fl(i,h,v),(!(Ot&2)||i!==Un)&&(i===Un&&(!(Ot&2)&&(mc|=h),_n===4&&gi(i,Gn)),dr(i,v),h===1&&Ot===0&&!(l.mode&1)&&(il=on()+500,yu&&ni()))}function dr(i,l){var h=i.callbackNode;Iy(i,l);var v=_i(i,i===Un?Gn:0);if(v===0)h!==null&&Km(h),i.callbackNode=null,i.callbackPriority=0;else if(l=v&-v,i.callbackPriority!==l){if(h!=null&&Km(h),l===1)i.tag===0?Wi(cg.bind(null,i)):Pp(cg.bind(null,i)),mu(function(){!(Ot&6)&&ni()}),h=null;else{switch(Hi(v)){case 1:h=sf;break;case 4:h=Qm;break;case 16:h=Al;break;case 536870912:h=lf;break;default:h=Al}h=gg(h,lg.bind(null,i))}i.callbackPriority=l,i.callbackNode=h}}function lg(i,l){if(vc=-1,ed=0,Ot&6)throw Error(n(327));var h=i.callbackNode;if(vi()&&i.callbackNode!==h)return null;var v=_i(i,i===Un?Gn:0);if(v===0)return null;if(v&30||v&i.expiredLanes||l)l=td(i,v);else{l=v;var I=Ot;Ot|=2;var x=dg();(Un!==i||Gn!==l)&&(xo=null,il=on()+500,ns(i,l));do try{Jy();break}catch(G){ug(i,G)}while(!0);Kl(),Gu.current=x,Ot=I,Cn!==null?l=0:(Un=null,Gn=0,l=_n)}if(l!==0){if(l===2&&(I=Zc(i),I!==0&&(v=I,l=ph(i,I))),l===1)throw h=ol,ns(i,0),gi(i,v),dr(i,on()),h;if(l===6)gi(i,v);else{if(I=i.current.alternate,!(v&30)&&!qy(I)&&(l=td(i,v),l===2&&(x=Zc(i),x!==0&&(v=x,l=ph(i,x))),l===1))throw h=ol,ns(i,0),gi(i,v),dr(i,on()),h;switch(i.finishedWork=I,i.finishedLanes=v,l){case 0:case 1:throw Error(n(345));case 2:rs(i,jr,xo);break;case 3:if(gi(i,v),(v&130023424)===v&&(l=Ju+500-on(),10<l)){if(_i(i,0)!==0)break;if(I=i.suspendedLanes,(I&v)!==v){Er(),i.pingedLanes|=i.suspendedLanes&I;break}i.timeoutHandle=Qo(rs.bind(null,i,jr,xo),l);break}rs(i,jr,xo);break;case 4:if(gi(i,v),(v&4194240)===v)break;for(l=i.eventTimes,I=-1;0<v;){var R=31-Ca(v);x=1<<R,R=l[R],R>I&&(I=R),v&=~x}if(v=I,v=on()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*$y(v/1960))-v,10<v){i.timeoutHandle=Qo(rs.bind(null,i,jr,xo),v);break}rs(i,jr,xo);break;case 5:rs(i,jr,xo);break;default:throw Error(n(329))}}}return dr(i,on()),i.callbackNode===h?lg.bind(null,i):null}function ph(i,l){var h=pc;return i.current.memoizedState.isDehydrated&&(ns(i,l).flags|=256),i=td(i,l),i!==2&&(l=jr,jr=h,l!==null&&gh(l)),i}function gh(i){jr===null?jr=i:jr.push.apply(jr,i)}function qy(i){for(var l=i;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var I=h[v],x=I.getSnapshot;I=I.value;try{if(!ge(x(),I))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function gi(i,l){for(l&=~fh,l&=~mc,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var h=31-Ca(l),v=1<<h;i[h]=-1,l&=~v}}function cg(i){if(Ot&6)throw Error(n(327));vi();var l=_i(i,0);if(!(l&1))return dr(i,on()),null;var h=td(i,l);if(i.tag!==0&&h===2){var v=Zc(i);v!==0&&(l=v,h=ph(i,v))}if(h===1)throw h=ol,ns(i,0),gi(i,l),dr(i,on()),h;if(h===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,rs(i,jr,xo),dr(i,on()),null}function vh(i,l){var h=Ot;Ot|=1;try{return i(l)}finally{Ot=h,Ot===0&&(il=on()+500,yu&&ni())}}function ts(i){Hn!==null&&Hn.tag===0&&!(Ot&6)&&vi();var l=Ot;Ot|=1;var h=fa.transition,v=_t;try{if(fa.transition=null,_t=1,i)return i()}finally{_t=v,fa.transition=h,Ot=l,!(Ot&6)&&ni()}}function yh(){Gr=al.current,Qt(al)}function ns(i,l){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,ql(h)),Cn!==null)for(h=Cn.return;h!==null;){var v=h;switch(Gi(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&vu();break;case 3:$s(),Qt(Or),Qt(rr),Uf();break;case 5:zf(v);break;case 4:$s();break;case 13:Qt(en);break;case 19:Qt(en);break;case 10:Iu(v.type._context);break;case 22:case 23:yh()}h=h.return}if(Un=i,Cn=i=yi(i.current,null),Gn=Gr=l,_n=0,ol=null,fh=mc=hi=0,jr=pc=null,Wr!==null){for(l=0;l<Wr.length;l++)if(h=Wr[l],v=h.interleaved,v!==null){h.interleaved=null;var I=v.next,x=h.pending;if(x!==null){var R=x.next;x.next=I,v.next=R}h.pending=v}Wr=null}return i}function ug(i,l){do{var h=Cn;try{if(Kl(),qs.current=To,ku){for(var v=cn.memoizedState;v!==null;){var I=v.queue;I!==null&&(I.pending=null),v=v.next}ku=!1}if(Qi=0,jn=un=cn=null,rc=!1,sr=0,dh.current=null,h===null||h.return===null){_n=1,ol=l,Cn=null;break}e:{var x=i,R=h.return,G=h,te=l;if(l=Gn,G.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var ye=te,Fe=G,Le=Fe.tag;if(!(Fe.mode&1)&&(Le===0||Le===11||Le===15)){var Oe=Fe.alternate;Oe?(Fe.updateQueue=Oe.updateQueue,Fe.memoizedState=Oe.memoizedState,Fe.lanes=Oe.lanes):(Fe.updateQueue=null,Fe.memoizedState=null)}var Ge=Xf(R);if(Ge!==null){Ge.flags&=-257,lc(Ge,R,G,x,l),Ge.mode&1&&Gp(x,ye,l),l=Ge,te=ye;var tt=l.updateQueue;if(tt===null){var nt=new Set;nt.add(te),l.updateQueue=nt}else tt.add(te);break e}else{if(!(l&1)){Gp(x,ye,l),wh();break e}te=Error(n(426))}}else if(Xt&&G.mode&1){var wn=Xf(R);if(wn!==null){!(wn.flags&65536)&&(wn.flags|=256),lc(wn,R,G,x,l),eo(es(te,G));break e}}x=te=es(te,G),_n!==4&&(_n=2),pc===null?pc=[x]:pc.push(x),x=R;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l;var ue=Yu(x,te,l);Lf(x,ue);break e;case 1:G=te;var ae=x.type,de=x.stateNode;if(!(x.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(mi===null||!mi.has(de)))){x.flags|=65536,l&=-l,x.lanes|=l;var He=sc(x,G,l);Lf(x,He);break e}}x=x.return}while(x!==null)}hg(h)}catch(at){l=at,Cn===h&&h!==null&&(Cn=h=h.return);continue}break}while(!0)}function dg(){var i=Gu.current;return Gu.current=To,i===null?To:i}function wh(){(_n===0||_n===3||_n===2)&&(_n=4),Un===null||!(hi&268435455)&&!(mc&268435455)||gi(Un,Gn)}function td(i,l){var h=Ot;Ot|=2;var v=dg();(Un!==i||Gn!==l)&&(xo=null,ns(i,l));do try{Gy();break}catch(I){ug(i,I)}while(!0);if(Kl(),Ot=h,Gu.current=v,Cn!==null)throw Error(n(261));return Un=null,Gn=0,_n}function Gy(){for(;Cn!==null;)fg(Cn)}function Jy(){for(;Cn!==null&&!zc();)fg(Cn)}function fg(i){var l=pg(i.alternate,i,Gr);i.memoizedProps=i.pendingProps,l===null?hg(i):Cn=l,dh.current=null}function hg(i){var l=i;do{var h=l.alternate;if(i=l.return,l.flags&32768){if(h=Wy(h,l),h!==null){h.flags&=32767,Cn=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{_n=6,Cn=null;return}}else if(h=Zy(h,l,Gr),h!==null){Cn=h;return}if(l=l.sibling,l!==null){Cn=l;return}Cn=l=i}while(l!==null);_n===0&&(_n=5)}function rs(i,l,h){var v=_t,I=fa.transition;try{fa.transition=null,_t=1,Ky(i,l,h,v)}finally{fa.transition=I,_t=v}return null}function Ky(i,l,h,v){do vi();while(Hn!==null);if(Ot&6)throw Error(n(327));h=i.finishedWork;var I=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var x=h.lanes|h.childLanes;if(ap(i,x),i===Un&&(Cn=Un=null,Gn=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||Qu||(Qu=!0,gg(Al,function(){return vi(),null})),x=(h.flags&15990)!==0,h.subtreeFlags&15990||x){x=fa.transition,fa.transition=null;var R=_t;_t=1;var G=Ot;Ot|=4,dh.current=null,fc(i,h),ch(h,i),By(Zi),Gc=!!Wl,Zi=Wl=null,i.current=h,ig(h),by(),Ot=G,_t=R,fa.transition=x}else i.current=h;if(Qu&&(Qu=!1,Hn=i,Xu=I),x=i.pendingLanes,x===0&&(mi=null),Sy(h.stateNode),dr(i,on()),l!==null)for(v=i.onRecoverableError,h=0;h<l.length;h++)I=l[h],v(I.value,{componentStack:I.stack,digest:I.digest});if(Ku)throw Ku=!1,i=hh,hh=null,i;return Xu&1&&i.tag!==0&&vi(),x=i.pendingLanes,x&1?i===mh?gc++:(gc=0,mh=i):gc=0,ni(),null}function vi(){if(Hn!==null){var i=Hi(Xu),l=fa.transition,h=_t;try{if(fa.transition=null,_t=16>i?16:i,Hn===null)var v=!1;else{if(i=Hn,Hn=null,Xu=0,Ot&6)throw Error(n(331));var I=Ot;for(Ot|=4,Xe=i.current;Xe!==null;){var x=Xe,R=x.child;if(Xe.flags&16){var G=x.deletions;if(G!==null){for(var te=0;te<G.length;te++){var ye=G[te];for(Xe=ye;Xe!==null;){var Fe=Xe;switch(Fe.tag){case 0:case 11:case 15:nl(8,Fe,x)}var Le=Fe.child;if(Le!==null)Le.return=Fe,Xe=Le;else for(;Xe!==null;){Fe=Xe;var Oe=Fe.sibling,Ge=Fe.return;if(rg(Fe),Fe===ye){Xe=null;break}if(Oe!==null){Oe.return=Ge,Xe=Oe;break}Xe=Ge}}}var tt=x.alternate;if(tt!==null){var nt=tt.child;if(nt!==null){tt.child=null;do{var wn=nt.sibling;nt.sibling=null,nt=wn}while(nt!==null)}}Xe=x}}if(x.subtreeFlags&2064&&R!==null)R.return=x,Xe=R;else e:for(;Xe!==null;){if(x=Xe,x.flags&2048)switch(x.tag){case 0:case 11:case 15:nl(9,x,x.return)}var ue=x.sibling;if(ue!==null){ue.return=x.return,Xe=ue;break e}Xe=x.return}}var ae=i.current;for(Xe=ae;Xe!==null;){R=Xe;var de=R.child;if(R.subtreeFlags&2064&&de!==null)de.return=R,Xe=de;else e:for(R=ae;Xe!==null;){if(G=Xe,G.flags&2048)try{switch(G.tag){case 0:case 11:case 15:hc(9,G)}}catch(at){pn(G,G.return,at)}if(G===R){Xe=null;break e}var He=G.sibling;if(He!==null){He.return=G.return,Xe=He;break e}Xe=G.return}}if(Ot=I,ni(),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(Uc,i)}catch{}v=!0}return v}finally{_t=h,fa.transition=l}}return!1}function bh(i,l,h){l=es(h,l),l=Yu(i,l,1),i=oi(i,l,1),l=Er(),i!==null&&(Fl(i,1,l),dr(i,l))}function pn(i,l,h){if(i.tag===3)bh(i,i,h);else for(;l!==null;){if(l.tag===3){bh(l,i,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(mi===null||!mi.has(v))){i=es(h,i),i=sc(l,i,1),l=oi(l,i,1),i=Er(),l!==null&&(Fl(l,1,i),dr(l,i));break}}l=l.return}}function Qy(i,l,h){var v=i.pingCache;v!==null&&v.delete(l),l=Er(),i.pingedLanes|=i.suspendedLanes&h,Un===i&&(Gn&h)===h&&(_n===4||_n===3&&(Gn&130023424)===Gn&&500>on()-Ju?ns(i,0):fh|=h),dr(i,l)}function mg(i,l){l===0&&(i.mode&1?(l=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):l=1);var h=Er();i=ka(i,l),i!==null&&(Fl(i,l,h),dr(i,h))}function Xy(i){var l=i.memoizedState,h=0;l!==null&&(h=l.retryLane),mg(i,h)}function e0(i,l){var h=0;switch(i.tag){case 13:var v=i.stateNode,I=i.memoizedState;I!==null&&(h=I.retryLane);break;case 19:v=i.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(l),mg(i,h)}var pg;pg=function(i,l,h){if(i!==null)if(i.memoizedProps!==l.pendingProps||Or.current)lr=!0;else{if(!(i.lanes&h)&&!(l.flags&128))return lr=!1,cr(i,l,h);lr=!!(i.flags&131072)}else lr=!1,Xt&&l.flags&1048576&&jp(l,bu,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;el(i,l),i=l.pendingProps;var I=Us(l,rr.current);ri(l,h),I=Au(null,l,v,i,I,h);var x=Ou();return l.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Fr(v)?(x=!0,ia(l)):x=!1,l.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,jf(l),I.updater=Cu,l.stateNode=I,I._reactInternals=l,Hf(l,v,i,h),l=rh(null,l,v,!0,x,h)):(l.tag=0,Xt&&x&&Gl(l),Tr(null,l,I,h),l=l.child),l;case 16:v=l.elementType;e:{switch(el(i,l),i=l.pendingProps,I=v._init,v=I(v._payload),l.type=v,I=l.tag=nd(v),i=Na(v,i),I){case 0:l=zu(null,l,v,i,h);break e;case 1:l=Qp(null,l,v,i,h);break e;case 11:l=eh(null,l,v,i,h);break e;case 14:l=to(null,l,v,Na(v.type,i),h);break e}throw Error(n(306,v,""))}return l;case 0:return v=l.type,I=l.pendingProps,I=l.elementType===v?I:Na(v,I),zu(i,l,v,I,h);case 1:return v=l.type,I=l.pendingProps,I=l.elementType===v?I:Na(v,I),Qp(i,l,v,I,h);case 3:e:{if(no(l),i===null)throw Error(n(387));v=l.pendingProps,x=l.memoizedState,I=x.element,_p(i,l),Eu(l,v,null,h);var R=l.memoizedState;if(v=R.element,x.isDehydrated)if(x={element:v,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){I=es(Error(n(423)),l),l=Uu(i,l,v,h,I);break e}else if(v!==I){I=es(Error(n(424)),l),l=Uu(i,l,v,h,I);break e}else for(Zr=Xo(l.stateNode.containerInfo.firstChild),or=l,Xt=!0,Ma=null,h=Bf(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Xa(),v===I){l=ro(i,l,h);break e}Tr(i,l,v,h)}l=l.child}return l;case 5:return Yf(l),i===null&&Pr(l),v=l.type,I=l.pendingProps,x=i!==null?i.memoizedProps:null,R=I.children,$l(v,I)?R=null:x!==null&&$l(v,x)&&(l.flags|=32),Kp(i,l),Tr(i,l,R,h),l.child;case 6:return i===null&&Pr(l),null;case 13:return dc(i,l,h);case 4:return Nu(l,l.stateNode.containerInfo),v=l.pendingProps,i===null?l.child=si(l,null,v,h):Tr(i,l,v,h),l.child;case 11:return v=l.type,I=l.pendingProps,I=l.elementType===v?I:Na(v,I),eh(i,l,v,I,h);case 7:return Tr(i,l,l.pendingProps,h),l.child;case 8:return Tr(i,l,l.pendingProps.children,h),l.child;case 12:return Tr(i,l,l.pendingProps.children,h),l.child;case 10:e:{if(v=l.type._context,I=l.pendingProps,x=l.memoizedProps,R=I.value,Gt(Ji,v._currentValue),v._currentValue=R,x!==null)if(ge(x.value,R)){if(x.children===I.children&&!Or.current){l=ro(i,l,h);break e}}else for(x=l.child,x!==null&&(x.return=l);x!==null;){var G=x.dependencies;if(G!==null){R=x.child;for(var te=G.firstContext;te!==null;){if(te.context===v){if(x.tag===1){te=Aa(-1,h&-h),te.tag=2;var ye=x.updateQueue;if(ye!==null){ye=ye.shared;var Fe=ye.pending;Fe===null?te.next=te:(te.next=Fe.next,Fe.next=te),ye.pending=te}}x.lanes|=h,te=x.alternate,te!==null&&(te.lanes|=h),ca(x.return,h,l),G.lanes|=h;break}te=te.next}}else if(x.tag===10)R=x.type===l.type?null:x.child;else if(x.tag===18){if(R=x.return,R===null)throw Error(n(341));R.lanes|=h,G=R.alternate,G!==null&&(G.lanes|=h),ca(R,h,l),R=x.sibling}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===l){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}Tr(i,l,I.children,h),l=l.child}return l;case 9:return I=l.type,v=l.pendingProps.children,ri(l,h),I=Sr(I),v=v(I),l.flags|=1,Tr(i,l,v,h),l.child;case 14:return v=l.type,I=Na(v,l.pendingProps),I=Na(v.type,I),to(i,l,v,I,h);case 15:return th(i,l,l.type,l.pendingProps,h);case 17:return v=l.type,I=l.pendingProps,I=l.elementType===v?I:Na(v,I),el(i,l),l.tag=1,Fr(v)?(i=!0,ia(l)):i=!1,ri(l,h),_f(l,v,I),Hf(l,v,I,h),rh(null,l,v,!0,i,h);case 19:return Xp(i,l,h);case 22:return nh(i,l,h)}throw Error(n(156,l.tag))};function gg(i,l){return Jm(i,l)}function t0(i,l,h,v){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(i,l,h,v){return new t0(i,l,h,v)}function Dh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function nd(i){if(typeof i=="function")return Dh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ee)return 11;if(i===ie)return 14}return 2}function yi(i,l){var h=i.alternate;return h===null?(h=Jr(i.tag,l,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=l,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,l=i.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function rd(i,l,h,v,I,x){var R=2;if(v=i,typeof i=="function")Dh(i)&&(R=1);else if(typeof i=="string")R=5;else e:switch(i){case _:return as(h.children,I,x,l);case V:R=8,I|=8;break;case U:return i=Jr(12,h,l,I|2),i.elementType=U,i.lanes=x,i;case ce:return i=Jr(13,h,l,I),i.elementType=ce,i.lanes=x,i;case fe:return i=Jr(19,h,l,I),i.elementType=fe,i.lanes=x,i;case Ie:return ad(h,I,x,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:R=10;break e;case q:R=9;break e;case ee:R=11;break e;case ie:R=14;break e;case he:R=16,v=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=Jr(R,h,l,I),l.elementType=i,l.type=v,l.lanes=x,l}function as(i,l,h,v){return i=Jr(7,i,v,l),i.lanes=h,i}function ad(i,l,h,v){return i=Jr(22,i,v,l),i.elementType=Ie,i.lanes=h,i.stateNode={isHidden:!1},i}function Sh(i,l,h){return i=Jr(6,i,null,l),i.lanes=h,i}function Ih(i,l,h){return l=Jr(4,i.children!==null?i.children:[],i.key,l),l.lanes=h,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function n0(i,l,h,v,I){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=v,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function Th(i,l,h,v,I,x,R,G,te){return i=new n0(i,l,h,G,te),l===1?(l=1,x===!0&&(l|=8)):l=0,x=Jr(3,null,null,l),i.current=x,x.stateNode=i,x.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(x),i}function r0(i,l,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:v==null?null:""+v,children:i,containerInfo:l,implementation:h}}function vg(i){if(!i)return ti;i=i._reactInternals;e:{if(Ri(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Fr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var h=i.type;if(Fr(h))return Op(i,h,l)}return l}function yg(i,l,h,v,I,x,R,G,te){return i=Th(h,v,!0,i,I,x,R,G,te),i.context=vg(null),h=i.current,v=Er(),I=pi(h),x=Aa(v,I),x.callback=l??null,oi(h,x,I),i.current.lanes=I,Fl(i,I,v),dr(i,v),i}function od(i,l,h,v){var I=l.current,x=Er(),R=pi(I);return h=vg(h),l.context===null?l.context=h:l.pendingContext=h,l=Aa(x,R),l.payload={element:i},v=v===void 0?null:v,v!==null&&(l.callback=v),i=oi(I,l,R),i!==null&&(ja(i,I,R,x),ii(i,I,R)),R}function id(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function wg(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<l?h:l}}function Eh(i,l){wg(i,l),(i=i.alternate)&&wg(i,l)}function a0(){return null}var Ch=typeof reportError=="function"?reportError:function(i){console.error(i)};function sd(i){this._internalRoot=i}ld.prototype.render=sd.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));od(i,l,null,null)},ld.prototype.unmount=sd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ts(function(){od(null,i,null,null)}),l[Vr]=null}};function ld(i){this._internalRoot=i}ld.prototype.unstable_scheduleHydration=function(i){if(i){var l=df();i={blockedOn:null,target:i,priority:l};for(var h=0;h<$o.length&&l!==0&&l<$o[h].priority;h++);$o.splice(h,0,i),h===0&&sp(i)}};function xh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function cd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function bg(){}function ud(i,l,h,v,I){if(I){if(typeof v=="function"){var x=v;v=function(){var ye=id(R);x.call(ye)}}var R=yg(l,v,i,0,null,!1,!1,"",bg);return i._reactRootContainer=R,i[Vr]=R.current,Ko(i.nodeType===8?i.parentNode:i),ts(),R}for(;I=i.lastChild;)i.removeChild(I);if(typeof v=="function"){var G=v;v=function(){var ye=id(te);G.call(ye)}}var te=Th(i,0,!1,null,null,!1,!1,"",bg);return i._reactRootContainer=te,i[Vr]=te.current,Ko(i.nodeType===8?i.parentNode:i),ts(function(){od(l,te,h,v)}),te}function dd(i,l,h,v,I){var x=h._reactRootContainer;if(x){var R=x;if(typeof I=="function"){var G=I;I=function(){var te=id(R);G.call(te)}}od(l,R,i,I)}else R=ud(h,l,i,I,v);return id(R)}uf=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var h=Es(l.pendingLanes);h!==0&&(Pl(l,h|1),dr(l,on()),!(Ot&6)&&(il=on()+500,ni()))}break;case 13:ts(function(){var v=ka(i,1);if(v!==null){var I=Er();ja(v,i,1,I)}}),Eh(i,1)}},Wc=function(i){if(i.tag===13){var l=ka(i,134217728);if(l!==null){var h=Er();ja(l,i,134217728,h)}Eh(i,134217728)}},op=function(i){if(i.tag===13){var l=pi(i),h=ka(i,l);if(h!==null){var v=Er();ja(h,i,l,v)}Eh(i,l)}},df=function(){return _t},ff=function(i,l){var h=_t;try{return _t=i,l()}finally{_t=h}},pe=function(i,l,h){switch(l){case"input":if(Dt(i,h),l=h.name,h.type==="radio"&&l!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==i&&v.form===i.form){var I=gu(v);if(!I)throw Error(n(90));Ue(v),Dt(v,I)}}}break;case"textarea":In(i,h);break;case"select":l=h.value,l!=null&&At(i,!!h.multiple,l,!1)}},Yt=vh,On=ts;var o0={usingClientEntryPoint:!1,Events:[nr,St,gu,ze,pt,vh]},yc={findFiberByHostInstance:Ga,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},i0={bundleType:yc.bundleType,version:yc.version,rendererPackageName:yc.rendererPackageName,rendererConfig:yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=qm(i),i===null?null:i.stateNode},findFiberByHostInstance:yc.findFiberByHostInstance||a0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Uc=fd.inject(i0),Za=fd}catch{}}return ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o0,ga.createPortal=function(i,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xh(l))throw Error(n(200));return r0(i,l,null,h)},ga.createRoot=function(i,l){if(!xh(i))throw Error(n(299));var h=!1,v="",I=Ch;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=Th(i,1,!1,null,null,h,!1,v,I),i[Vr]=l.current,Ko(i.nodeType===8?i.parentNode:i),new sd(l)},ga.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=qm(l),i=i===null?null:i.stateNode,i},ga.flushSync=function(i){return ts(i)},ga.hydrate=function(i,l,h){if(!cd(l))throw Error(n(200));return dd(null,i,l,!0,h)},ga.hydrateRoot=function(i,l,h){if(!xh(i))throw Error(n(405));var v=h!=null&&h.hydratedSources||null,I=!1,x="",R=Ch;if(h!=null&&(h.unstable_strictMode===!0&&(I=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onRecoverableError!==void 0&&(R=h.onRecoverableError)),l=yg(l,null,i,1,h??null,I,!1,x,R),i[Vr]=l.current,Ko(i),v)for(i=0;i<v.length;i++)h=v[i],I=h._getVersion,I=I(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,I]:l.mutableSourceEagerHydrationData.push(h,I);return new ld(l)},ga.render=function(i,l,h){if(!cd(l))throw Error(n(200));return dd(null,i,l,!1,h)},ga.unmountComponentAtNode=function(i){if(!cd(i))throw Error(n(40));return i._reactRootContainer?(ts(function(){dd(null,null,i,!1,function(){i._reactRootContainer=null,i[Vr]=null})}),!0):!1},ga.unstable_batchedUpdates=vh,ga.unstable_renderSubtreeIntoContainer=function(i,l,h,v){if(!cd(h))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return dd(i,l,h,!1,v)},ga.version="18.2.0-next-9e3b772b8-20220608",ga}function PT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PT)}catch(e){console.error(e)}}PT();FT.exports=GA();var b1=FT.exports;const D1=Xn(b1);var Hv,jT=b1;Hv=ms.createRoot=jT.createRoot;ms.hydrateRoot=jT.hydrateRoot;const JA=e=>{const{children:t,className:n,clickSpaceDestroy:r,destroy:a}=e,o=()=>{r&&a()},s=u=>{(u.key==="Escape"||(u.ctrlKey||u.metaKey)&&u.key.toLowerCase()==="w")&&a()};return y.jsx("div",{className:`dialog-wrapper ${n}`,onClick:o,onKeyDown:u=>s(u),children:y.jsx("div",{className:"dialog-container",onClick:u=>u.stopPropagation(),children:t})})};function Mm(e,t,n){const r=document.createElement("div");document.body.append(r),setTimeout(()=>{var d;(d=r.firstElementChild)==null||d.classList.add("showup")},0);const a={destroy:()=>{var d,m;(d=r.firstElementChild)==null||d.classList.remove("showup"),(m=r.firstElementChild)==null||m.classList.add("showoff"),setTimeout(()=>{r.detach(),u.unmount()},DI)}},o={...n,destroy:a.destroy};let s=y.jsx(JA,{destroy:a.destroy,clickSpaceDestroy:!0,...e,children:y.jsx(t,{...o})});s=y.jsx(Sl,{store:Ee,context:wt,children:s});const u=ms.createRoot(r);return u.render(s),a}const KA=e=>{const{shownStatus:t,setShownStatus:n}=e,{dailyNotesState:{app:r,settings:a},globalState:{manifest:o}}=O.useContext(wt),s=O.useRef(null);O.useEffect(()=>{if(t){const w=D=>{var S;(S=s.current)!=null&&S.contains(D.target)||D.stopPropagation(),n(!1)};window.addEventListener("click",w,{capture:!0,once:!0})}},[t]);const u=O.useCallback(async w=>{const{type:D}=w;if(D.startsWith("text"))try{return`${await w1.parseHtml(w)}`}catch(S){new E.Notice(S)}},[]),d=O.useCallback(()=>{const w=document.createElement("input");document.body.appendChild(w),w.type="file",w.multiple=!1,w.accept="text/html",w.onchange=async()=>{if(!w.files||w.files.length===0)return;const D=w.files[0];await u(D),document.body.removeChild(w)},w.click()},[]),m=()=>{r.setting.open(),r.setting.openTabById(o.id||"obsidian-memos")},p=()=>{if(a!=null&&a.needVerify){Qe.setLocked(!0);return}else new E.Notice(k("You have not set a password or enable this feature yet")),r.setting.open(),r.setting.openTabById(o.id||"obsidian-memos")},g=()=>{new gb(r,o.version).open()};return y.jsxs("div",{className:`menu-btns-popup ${t?"":"hidden"}`,ref:s,children:[y.jsxs("div",{className:"btn action-btn",onClick:m,children:[y.jsx("span",{ref:w=>{w&&E.setIcon(w,"user")},className:"icon"}),k("Settings")]}),(a==null?void 0:a.needVerify)&&y.jsxs("div",{className:"btn action-btn",onClick:p,children:[y.jsx("span",{ref:w=>{w&&E.setIcon(w,"lock")},className:"icon"}),k("Lock")]}),y.jsxs("div",{className:"btn action-btn",onClick:d,children:[y.jsx("span",{ref:w=>{w&&E.setIcon(w,"import")},className:"icon"}),k("Import")]}),y.jsxs("div",{className:"btn action-btn",onClick:g,children:[y.jsx("span",{ref:w=>{w&&E.setIcon(w,"file-text")},className:"icon"}),k("ChangeLog")]})]})};function LT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=LT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mr(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=LT(e))&&(r&&(r+=" "),r+=t);return r}const QA=e=>{const t={};return e.forEach(n=>{const r=Re.getDateString(n.createdAt);t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]},XA=e=>{const t={};return e.forEach(n=>{const r=Re.getTimeString(n.createdAt).split(":")[0];t[r]?t[r]++:t[r]=1}),Object.keys(t).sort((n,r)=>t[r]-t[n])[0]},RT=({statusType:e})=>{const{memoState:{memos:t,tags:n},locationState:{pathname:r},dailyNotesState:{settings:a,app:o}}=O.useContext(wt),[s,u]=O.useState(0),[d,m]=O.useState(0),[p,g]=O.useState(0),[w,D]=O.useState(null),[S,T]=O.useState(!1),C=J.useRef(null),[A,N]=O.useState(0),[L,F]=O.useState(0),[H,j]=O.useState(0),[_,V]=O.useState(""),[U,z]=O.useState("");return O.useEffect(()=>{const q=t.filter(ee=>!ee.deletedAt&&ee.rowStatus!=="ARCHIVED");j(q.filter(ee=>ee.thinoType.startsWith("TASK")).length),V(QA(t)),z(XA(t))},[t]),O.useLayoutEffect(()=>{if(!o)return;const{tags:q,memos:ee,days:ce}=e8(o);g(q),u(ee),m(ce)},[o]),O.useEffect(()=>{let q=0;const ee=s-A,ce=1e3,fe=ie=>{q||(q=ie);const he=ie-q;if(he<ce){const Ie=he/ce;N(A+ee*Ie),requestAnimationFrame(fe)}else N(s)};requestAnimationFrame(fe)},[s]),O.useEffect(()=>{let q=0;const ee=d-L,ce=1e3,fe=ie=>{q||(q=ie);const he=ie-q;if(he<ce){const Ie=he/ce;F(L+ee*Ie),requestAnimationFrame(fe)}else F(d)};requestAnimationFrame(fe)},[d]),O.useEffect(()=>{!a||!o||(T(s>9999||p>999||d>999),t8({tags:p,memos:s,days:d},o))},[s,p,d]),O.useEffect(()=>{Te.initialized&&t&&r==="/"&&(g(n.length),u(t.filter(q=>!(q.deletedAt!==""&&q.deletedAt)).length),D(t.length>0?t[t.length-1]:null))},[n,t,r]),O.useEffect(()=>{if(!Te.initialized)return;if(!w){m(0);return}if(!C.current||!(w!=null&&w.createdAt))return;E.requireApiVersion("1.4.4")&&E.setTooltip(C.current,k("Started from")+" "+Re.getDateTimeString((w==null?void 0:w.createdAt)??""));const q=Math.ceil((Date.now()-Re.getTimeStampByDate(w==null?void 0:w.createdAt))/1e3/3600/24);m(t?q:0)},[w]),y.jsx("div",{className:mr("status-text-container",S?"text-overflow":"",e),children:e==="banner"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"status-text memos-text",children:[y.jsx("span",{className:"amount-text",children:Math.round(A)}),y.jsx("span",{className:"type-text",children:"THINO"})]}),y.jsxs("div",{className:"status-text tags-text",children:[y.jsx("span",{className:"amount-text",children:p}),y.jsx("span",{className:"type-text",children:k("TAG")})]}),y.jsxs("div",{ref:C,className:"status-text duration-text",onClick:()=>{Qe.setShowSiderbarInMobileView(!1),We.setPathname("/daily")},children:[y.jsx("span",{className:"amount-text",children:Math.round(L)??0}),y.jsx("span",{className:"type-text",children:k("DAY")})]})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"status-sidebar-header title-text",children:y.jsx("span",{className:"normal-text",children:k("Thino status")})}),y.jsxs("div",{className:"status-sidebar-wrapper",children:[y.jsxs("div",{className:"status-text memos-text",children:[y.jsx("span",{className:"type-text",children:k("Thino amount")}),y.jsx("span",{className:"amount-text",children:Math.round(A)})]}),y.jsxs("div",{className:"status-text memos-text",children:[y.jsx("span",{className:"type-text",children:k("Task amount")}),y.jsx("span",{className:"amount-text",children:Math.round(H)??0})]}),y.jsxs("div",{className:"status-text tags-text",children:[y.jsx("span",{className:"type-text",children:k("Used tags")}),y.jsx("span",{className:"amount-text",children:p})]}),y.jsxs("div",{ref:C,className:"status-text duration-text",onClick:()=>{Qe.setShowSiderbarInMobileView(!1),We.setPathname("/daily")},children:[y.jsx("span",{className:"type-text",children:k("Used days")}),y.jsx("span",{className:"amount-text",children:Math.round(L)??0})]}),y.jsxs("div",{className:"status-text most-active-day-text",onClick:()=>{const q=E.moment(_,"YYYY/MM/DD").startOf("day").valueOf(),ee=E.moment(_,"YYYY/MM/DD").endOf("day").valueOf();We.setFromAndToQuery(q,ee)},children:[y.jsx("span",{className:"type-text",children:k("Most active day")}),y.jsx("span",{className:"amount-text",children:_})]}),y.jsxs("div",{className:"status-text most-active-hour-text",children:[y.jsx("span",{className:"type-text",children:k("Most active hour")}),y.jsx("span",{className:"amount-text",children:U})]})]})]})})};function _T(e){return`userBannerCache:${e}`}function e8(e){try{const t=_T(e==null?void 0:e.appId),n=Kn.get([t])[t];return n?JSON.parse(n):{tags:0,memos:0,days:0}}catch(t){return console.error(t),{tags:0,memos:0,days:0}}}function t8({tags:e,memos:t,days:n},r){try{const a={tags:e,memos:t,days:n},o=_T(r==null?void 0:r.appId);Kn.set({[o]:JSON.stringify(a)})}catch(a){console.error(a)}}const n8=[{text:k("AND"),value:"AND"},{text:k("OR"),value:"OR"}],hl={TAG:{value:"TAG",text:k("TAG"),operators:[{text:k("INCLUDE"),value:"CONTAIN"},{text:k("EXCLUDE"),value:"NOT_CONTAIN"}]},TYPE:{value:"TYPE",text:k("TYPE"),operators:[{value:"IS",text:k("IS")},{value:"IS_NOT",text:k("ISNOT")}],values:[{value:"CONNECTED",text:k("LINKED")},{value:"NOT_TAGGED",text:k("NO TAGS")},{value:"LINKED",text:k("HAS LINKS")},{value:"IMAGED",text:k("HAS IMAGES")}]},TEXT:{value:"TEXT",text:k("TEXT"),operators:[{value:"CONTAIN",text:k("INCLUDE")},{value:"NOT_CONTAIN",text:k("EXCLUDE")}]},DATE:{value:"DATE",text:k("DATE"),operators:[{value:"NOT_CONTAIN",text:k("BEFORE")},{value:"CONTAIN",text:k("AFTER")}]},LIST:{value:"LIST",text:k("LIST"),operators:[{value:"IS",text:k("IS")},{value:"IS_NOT",text:k("ISNOT")}],values:[{value:"TODO",text:k("TODO")},{value:"DONE",text:k("DONE")},{value:"LIST",text:k("JOURNAL")},{value:"OTHER",text:k("OTHER")}]},SOURCE:{value:"SOURCE",text:k("SOURCE"),operators:[{value:"IS",text:k("IS")},{value:"IS_NOT",text:k("ISNOT")}],values:[{value:"DAILY",text:k("DAILY")},{value:"MULTI",text:k("MULTI")},{value:"FILE",text:k("FILE")},{value:"CANVAS",text:k("CANVAS")}]}},Mw=hl.TYPE.values,r8=e=>{for(const t of Mw)if(t.value===e)return t.text;return""},ID=()=>({type:"TAG",value:{operator:"CONTAIN",value:""},relation:"AND"}),$d=(e,t)=>{let n=!0;for(const r of t){const{relation:a}=r,o=a8(e,r);a==="OR"?n=n||o:n=n&&o}return n},a8=(e,t)=>{const{type:n,value:{operator:r,value:a}}=t;if(a==="")return!0;let o=!0;if(n==="TAG"){let s=!0;const u=new Set;for(const d of Array.from(e.content.match(An)||[])){const p=d.replace(An,"$1").trim().split("/");let g="";for(const w of p)g+=w,u.add(g),g+="/"}for(const d of Array.from(e.content.match($n)||[])){const p=d.replace($n,"$1").trim().split("/");let g="";for(const w of p)g+=w,u.add(g),g+="/"}u.has(a)||(s=!1),r==="NOT_CONTAIN"&&(s=!s),o=s}else if(n==="TYPE"){let s=!1;(a==="NOT_TAGGED"&&e.content.match(An)===null&&e.content.match(hr)===null||a==="LINKED"&&e.content.match(Rc)!==null||a==="IMAGED"&&e.content.match(_c)!==null||a==="CONNECTED"&&e.content.match(Il)!==null)&&(s=!0),r==="IS_NOT"&&(s=!s),o=s}else if(n==="TEXT"){let s=e.content.toLowerCase().includes(a.toLowerCase());r==="NOT_CONTAIN"&&(s=!s),o=s}else if(n==="LIST"){let u=(e.thinoType==="JOURNAL"?"LIST":e.thinoType==="TASK-TODO"?"TODO":e.thinoType==="TASK-DONE"?"DONE":"OTHER").contains(a);r==="IS_NOT"&&(u=!u),o=u}else if(n==="SOURCE"){let s=e.sourceType===a;r==="IS_NOT"&&(s=!s),o=s}else if(n==="DATE"){const s=E.moment(a,"YYYY-MM-DD").isValid();let u,d;if(s)u=E.moment(a,"YYYY-MM-DD"),d=u.isBefore(E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss"),"day");else{const p=(app.plugins.enabledPlugins.has("nldates-obsidian")&&app.plugins.getPlugin("nldates-obsidian")).parseDate(a);p.date!==null&&(d=p.moment.isBefore(E.moment(e.createdAt),"day"))}r==="NOT_CONTAIN"&&(d=!d),o=d}return o=e.linkId===""?o:!1,o};function _o(e){const[t,n]=O.useState(()=>!!e),r=O.useCallback(a=>{n(typeof a=="boolean"?a:o=>!o)},[]);return[t,r]}const Bv=()=>{const{dailyNotesState:{app:e,view:t},locationState:{query:{type:n}}}=O.useContext(wt),r=J.useRef(null),a=J.useRef(null),[o,s]=_o(!1);O.useEffect(()=>{!r||!t||!e||(t.registerEvent(e.workspace.on("blur-on-memos",()=>{var g;(g=r.current)==null||g.blur()})),t.registerEvent(e.workspace.on("focus-on-searchBar",()=>{var g;(g=r.current)==null||g.focus()})))},[r,e,t]),O.useEffect(()=>{a&&E.setIcon(a.current,"search")},[a]);const u=g=>{const{type:w}=We.getState().query;g===w&&(g=""),We.setMemoTypeQuery(g)},d=g=>{const w=g.currentTarget.value;if(!w.contains(" -time: ")){We.setTextQuery(w);return}const D=w.split(" -time: ")[1],S=D.length>10?D.match(/\d{4}-\d{2}-\d{2}/g):null;if(S==null){We.setTextQuery(w.split(" -time: ")[0]);return}if(S.length===1){const T=E.moment(S[0]);We.setTimeQuery({from:T.startOf("day").valueOf(),to:T.endOf("day").valueOf()})}else if(S.length===2){const T=E.moment(S[0]),C=E.moment(S[1]);We.setTimeQuery({from:T.startOf("day").valueOf(),to:C.endOf("day").valueOf()})}We.setTextQuery(w.split(" -time: ")[0])},m=()=>{s(!0)},p=()=>{s(!1)};return y.jsxs("div",{className:"search-bar-container",children:[y.jsxs("div",{className:"search-bar-inputer",children:[y.jsx("span",{ref:a,className:"btn icon-img"}),y.jsx("input",{ref:r,className:"text-input",type:"text",onMouseOver:m,onMouseOut:p,placeholder:o?k("Type here"):"",onChange:d})]}),y.jsx("div",{className:"quickly-action-wrapper",children:y.jsxs("div",{className:"quickly-action-container",children:[y.jsx("span",{className:"title-text",children:k("Quick filter")}),y.jsxs("div",{className:"section-container types-container",children:[y.jsxs("span",{className:"section-text",children:[k("TYPE"),":"]}),y.jsx("div",{className:"values-container",children:Mw.map((g,w)=>y.jsxs("div",{children:[y.jsx("span",{className:`type-item ${n===g.value?"selected":""}`,onClick:()=>{u(g.value)},children:g.text}),w+1<Mw.length?y.jsx("span",{className:"split-text",children:"/"}):null]},g.value))})]})]})})]})},o8=e=>{const{children:t,when:n}=e;return n?y.jsx(y.Fragment,{children:t}):null},lo=o8;function fn(){const e=document.createDocumentFragment();e.createEl("div",{cls:"thino-info"}).createEl("div",{text:k("This is a pro feature, please upgrade to pro version to use it.")});const r=e.createEl("div",{cls:"thino-link"}).createEl("div",{text:k("You can get pro version from: ")}),a=localStorage.getItem("language");let o="https://pkmer.cn/products/UserProfile/";a&&a==="zh"?o="https://pkmer.cn/products/thino/":o="https://thino.pkmer.net/en/",r.createEl("a",{text:"PKMer",attr:{href:o}}),new E.Notice(e,5e3)}const{exec:i8,execSync:rX}=E.Platform.isDesktop&&require("child_process"),{createHash:s8}=E.Platform.isDesktop&&require("crypto"),l8={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},c8=E.Platform.isDesktop&&{darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:`${l8[u8()]}\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid`,linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"};function u8(){return process.platform!=="win32"?"":process.arch==="ia32"&&Object.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432")?"mixed":"native"}function d8(e){return s8("sha256").update(e).digest("hex")}function f8(e){switch(process.platform){case"darwin":return e.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return e.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return e.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error(`Unsupported platform: ${process.platform}`)}}function zn(e=!1){return new Promise((t,n)=>{i8(c8[process.platform],{},(r,a)=>{if(r)return n(new Error(`Error while obtaining machine id: ${r.stack}`));const o=f8(a.toString());return t(e?o:d8(o))})})}const TD={list:"align-left",waterfall:"layout-grid",calendar:"calendar",minimal:"list",table:"table",chat:"message-square",moments:"chrome"},h8=e=>{const{dailyNotesState:{app:t,view:n,verifyState:r,settings:a},globalState:{manifest:o,isMobileView:s}}=O.useContext(wt),u=O.useRef(null),d=O.useRef(null),[m,p]=O.useState((window.app||t).loadLocalStorage("thinoListView")||"list"),[g,w]=O.useState(null);O.useEffect(()=>{if(!o||!t)return;const S=t==null?void 0:t.plugins.getPlugin(o.id);w(S),p(S==null?void 0:S.settings.MemoListView),Qe.setMemoListView(S==null?void 0:S.settings.MemoListView)},[o,t]),O.useEffect(()=>{if(!t||!n||!g||!g.settings)return;const S=()=>{var C;if(n.leaf.height===0)return;const T=(C=g==null?void 0:g.settings)==null?void 0:C.MemoListView;T==="chat"||T==="moments"||(n.leaf.width>950?(p(T||"list"),Qe.setMemoListView(T||"list")):n.leaf.width<=950&&(Qe.setMemoListView("list"),p("list")))};S(),d.current||(d.current=t.workspace.on("resize",S),n.registerEvent(d.current))},[t,n,g]),O.useEffect(()=>{u&&(E.setIcon(u.current,TD[m]),Qe.setMemoListView(m),E.requireApiVersion("1.4.4")&&E.setTooltip(u.current,k("Switch view")))},[m]);const D=async S=>{var F;const T=!E.Platform.isDesktop&&await((F=window.Capacitor)==null?void 0:F.Plugins.Device.getId()),C=E.Platform.isDesktop?await zn():T.identifier||T.uuid;if(!r||(r==null?void 0:r.appId)!==C){fn();return}const A=async H=>{Qe.setMemoListView(H),g&&(g.settings.MemoListView=H,await g.saveSettings()),p(H)},N=[{view:"list",title:k("List")},{view:"chat",title:k("Chat")},{view:"moments",title:k("Moments")}];s||N.push({view:"waterfall",title:k("Waterfall")},{view:"calendar",title:k("Calendar")},{view:"table",title:k("Table")});const L=new E.Menu;N.forEach(({view:H,title:j})=>{L.addItem(_=>{_.setChecked(m===H).setIcon(TD[H]).setTitle(j).onClick(()=>{m!==H&&A(H)})})}),L.showAtMouseEvent(S.nativeEvent)};return y.jsx("div",{className:`memos-view-switcher-wrapper ${e.className?e.className:""} pro`,ref:u,onClick:D})},m8=()=>{const e=O.useRef(null);return O.useEffect(()=>{e&&(E.setIcon(e.current,"calendar-check"),E.setTooltip&&E.setTooltip(e.current,k("Daily Memos")))},[e]),y.jsx("div",{className:"memos-review-entry-wrapper",ref:e,onClick:()=>{We.setPathname("/daily")}})},O0=()=>({type:"initialText",value:"",timestamp:Date.now(),selectionStart:0,selectionEnd:0}),ED={initialValue:"",interval:300};class p8{constructor(t,n=ED){this.listeners=[],this.runUndo=()=>{const r=this.actions[this.currentIndex].selectionStart;this.currentIndex>0&&this.currentIndex--,this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.runRedo=()=>{this.currentIndex<this.actions.length-1&&this.currentIndex++;const r=this.actions[this.currentIndex].selectionEnd;this.element.value=this.actions[this.currentIndex].value,this.element.setSelectionRange(r,r),this.dispatchChange()},this.getActions=()=>this.actions,this.setState=(r,a)=>{this.actions=[...r],this.currentIndex=a<this.actions.length?a:this.actions.length-1,this.dispatchChange()},this.resetState=()=>{this.actions=[O0()],this.currentIndex=0,this.dispatchChange()},this.destroy=()=>{this.rmEventListeners()},this.subscribe=r=>{this.listeners.push(r)},this.handleElementKeydown=r=>{const a=r;a.key==="z"&&!a.shiftKey&&(a.metaKey||a.ctrlKey)?(r.preventDefault(),this.runUndo()):(a.key==="z"&&a.shiftKey&&(a.metaKey||a.ctrlKey)||a.key==="y"&&(a.metaKey||a.ctrlKey))&&(r.preventDefault(),this.runRedo())},this.handleElementInput=r=>{const a=r,o=this.actions[this.currentIndex];this.pushNewAction({type:a.inputType,value:this.element.value,timestamp:Date.now(),selectionStart:this.element.selectionEnd-(this.element.value.length-o.value.length),selectionEnd:this.element.selectionEnd})},this.addEventListeners=()=>{this.element.addEventListener("keydown",this.handleElementKeydown),this.element.addEventListener("input",this.handleElementInput)},this.rmEventListeners=()=>{this.element.removeEventListener("keydown",this.handleElementKeydown),this.element.removeEventListener("input",this.handleElementInput)},this.pushNewAction=r=>{const a=this.actions[this.currentIndex];a&&a.type===r.type&&r.timestamp-a.timestamp<this.config.interval?this.actions[this.currentIndex]=Object.assign(Object.assign({},a),{value:r.value,selectionEnd:r.selectionEnd,timestamp:r.timestamp}):(this.config.maxSize&&this.currentIndex>=this.config.maxSize?(this.actions.shift(),this.actions[0]=O0()):this.currentIndex++,this.actions[this.currentIndex]=r,this.actions=this.actions.slice(0,this.currentIndex+1)),this.dispatchChange()},this.dispatchChange=()=>{for(const r of this.listeners)r([...this.actions],this.currentIndex)},this.element=t,this.config=Object.assign(Object.assign({},ED),n),this.config.initialActions&&this.config.initialActions.length>0?(this.actions=this.config.initialActions,this.config.initialIndex!==void 0&&this.config.initialIndex<this.actions.length?this.currentIndex=this.config.initialIndex:this.currentIndex=this.actions.length-1):(this.actions=[O0()],this.currentIndex=0,this.config.initialValue!==""&&(this.actions.push({type:"insertText",value:this.config.initialValue,timestamp:Date.now(),selectionStart:0,selectionEnd:this.config.initialValue.length}),this.currentIndex++)),this.element.value=this.actions[this.currentIndex].value,this.addEventListeners()}}function g8(){const[,e]=O.useState(!1);return O.useCallback(()=>{e(n=>!n)},[])}var HT={exports:{}};(function(e){(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",r=n&&window.mozInnerScreenX!=null;function a(o,s,u){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var d=u&&u.debug||!1;if(d){var m=document.querySelector("#input-textarea-caret-position-mirror-div");m&&m.parentNode.removeChild(m)}var p=document.createElement("div");p.id="input-textarea-caret-position-mirror-div",document.body.appendChild(p);var g=p.style,w=window.getComputedStyle?getComputedStyle(o):o.currentStyle;g.whiteSpace="pre-wrap",o.nodeName!=="INPUT"&&(g.wordWrap="break-word"),g.position="absolute",d||(g.visibility="hidden"),t.forEach(function(T){g[T]=w[T]}),r?o.scrollHeight>parseInt(w.height)&&(g.overflowY="scroll"):g.overflow="hidden",p.textContent=o.value.substring(0,s),o.nodeName==="INPUT"&&(p.textContent=p.textContent.replace(/\s/g,"¬†"));var D=document.createElement("span");D.textContent=o.value.substring(s)||".",p.appendChild(D);var S={top:D.offsetTop+parseInt(w.borderTopWidth),left:D.offsetLeft+parseInt(w.borderLeftWidth)};return d?D.style.backgroundColor="#aaa":document.body.removeChild(p),S}e.exports=a})()})(HT);var v8=HT.exports;const y8=Xn(v8);var BT=Jn.CustomEvent;function w8(){try{var e=new BT("cat",{detail:{foo:"bar"}});return e.type==="cat"&&e.detail.foo==="bar"}catch{}return!1}var b8=w8()?BT:typeof document<"u"&&typeof document.createEvent=="function"?function(t,n){var r=document.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r}:function(t,n){var r=document.createEventObject();return r.type=t,n?(r.bubbles=!!n.bubbles,r.cancelable=!!n.cancelable,r.detail=n.detail):(r.bubbles=!1,r.cancelable=!1,r.detail=void 0),r};const D8=Xn(b8);function S8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){S8(e,a,n[a])})}return e}function Nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yv(e,t,n){return t&&CD(e.prototype,t),n&&CD(e,n),e}function Cd(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cd=function(n){return typeof n}:Cd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cd(e)}function Jg(e){return typeof Symbol=="function"&&Cd(Symbol.iterator)==="symbol"?Jg=function(n){return Cd(n)}:Jg=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":Cd(n)},Jg(e)}function T8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zv(e,t){return t&&(Jg(t)==="object"||typeof t=="function")?t:T8(e)}function kd(e){return kd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},kd(e)}function Nw(e,t){return Nw=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Nw(e,t)}function Uv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nw(e,t)}function E8(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function C8(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function x8(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function M8(e){return E8(e)||C8(e)||x8()}var Ha={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},N8=function e(){var t=this;Nm(this,e),this.startListen=function(n){n&&n.addEventListener("keydown",t.f)},this.stopListen=function(n){n&&n.removeEventListener("keydown",t.f)},this.add=function(n,r){var a=n;return typeof a!="object"&&(a=[a]),t.listeners[t.index]={keyCode:a,fn:r},t.index++},this.remove=function(n){delete t.listeners[n]},this.removeAll=function(){t.listeners={},t.index=1},this.index=1,this.listeners={},this.f=function(n){if(n){var r=n.keyCode||n.which;Object.values(t.listeners).forEach(function(a){var o=a.keyCode,s=a.fn;o.includes(r)&&(n.stopPropagation(),n.preventDefault(),s(n))})}}},Ec=new N8,k8=function(e){Uv(t,e);function t(){var n,r;Nm(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=zv(this,(n=kd(t)).call.apply(n,[this].concat(o))),r.selectItem=function(){var u=r.props,d=u.item,m=u.onSelectHandler;m(d)},r}return Yv(t,[{key:"shouldComponentUpdate",value:function(r){return this.props.item!==r.item||this.props.selected!==r.selected||this.props.style!==r.style||this.props.className!==r.className}},{key:"render",value:function(){var r=this,a=this.props,o=a.component,s=a.style,u=a.onClickHandler,d=a.item,m=a.selected,p=a.className,g=a.innerRef;return J.createElement("li",{className:"rta__item  ".concat(m===!0?"rta__item--selected":""," ").concat(p||""),style:s},J.createElement("div",{className:"rta__entity ".concat(m===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:u,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){r.clicked=!0,r.selectItem()},onTouchEnd:function(D){D.preventDefault(),r.clicked&&u(D)},onTouchMove:function(){r.clicked=!1},onTouchCancel:function(){r.clicked=!1},ref:g},J.createElement(o,{selected:m,entity:d})))}}]),t}(J.Component),A8=function(e){Uv(t,e);function t(){var n,r;Nm(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=zv(this,(n=kd(t)).call.apply(n,[this].concat(o))),r.state={selectedItem:null},r.cachedIdOfItems=new Map,r.onPressEnter=function(u){typeof u<"u"&&u.preventDefault();var d=r.props.values;r.modifyText(d[r.getPositionInList()])},r.getPositionInList=function(){var u=r.props.values,d=r.state.selectedItem;return d?u.findIndex(function(m){return r.getId(m)===r.getId(d)}):0},r.getId=function(u){if(r.cachedIdOfItems.has(u))return r.cachedIdOfItems.get(u);var d=r.props.getTextToReplace(u),m=function(){if(d){if(d.key)return d.key;if(typeof u=="string"||!u.key)return d.text}if(!u.key)throw new Error("Item ".concat(JSON.stringify(u),' has to have defined "key" property'));return u.key},p=m();return r.cachedIdOfItems.set(u,p),p},r.listeners=[],r.itemsRef={},r.modifyText=function(u){if(u){var d=r.props.onSelect;d(u)}},r.selectItem=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=r.props.onItemHighlighted;r.state.selectedItem!==u&&r.setState({selectedItem:u},function(){m(u),d&&r.props.dropdownScroll(r.itemsRef[r.getId(u)])})},r.scroll=function(u){u.preventDefault();var d=r.props.values,m=u.keyCode||u.which,p=r.getPositionInList(),g;switch(m){case Ha.DOWN:g=p+1;break;case Ha.UP:g=p-1;break;default:g=p;break}g=(g%d.length+d.length)%d.length,r.selectItem(d[g],[Ha.DOWN,Ha.UP].includes(m))},r.isSelected=function(u){var d=r.state.selectedItem;return d?r.getId(d)===r.getId(u):!1},r}return Yv(t,[{key:"componentDidMount",value:function(){this.listeners.push(Ec.add([Ha.DOWN,Ha.UP],this.scroll),Ec.add([Ha.ENTER,Ha.TAB],this.onPressEnter));var r=this.props.values;r&&r[0]&&this.selectItem(r[0])}},{key:"componentDidUpdate",value:function(r){var a=this,o=r.values,s=this.props.values,u=o.map(function(m){return a.getId(m)}).join(""),d=s.map(function(m){return a.getId(m)}).join("");u!==d&&s&&s[0]&&this.selectItem(s[0])}},{key:"componentWillUnmount",value:function(){for(var r;this.listeners.length;)r=this.listeners.pop(),Ec.remove(r)}},{key:"render",value:function(){var r=this,a=this.props,o=a.values,s=a.component,u=a.style,d=a.itemClassName,m=a.className,p=a.itemStyle;return J.createElement("ul",{className:"rta__list ".concat(m||""),style:u},o.map(function(g){return J.createElement(k8,{key:r.getId(g),innerRef:function(D){r.itemsRef[r.getId(g)]=D},selected:r.isSelected(g),item:g,className:d,style:p,onClickHandler:r.onPressEnter,onSelectHandler:r.selectItem,component:s})}))}}]),t}(J.Component);function O8(e,t){var n=parseInt(getComputedStyle(t).getPropertyValue("height"),10),r=parseInt(getComputedStyle(e).getPropertyValue("height"),10)-n,a=t.offsetTop,o=e.scrollTop;a<o+r&&o<a||(e.scrollTop=a)}var xD="next",ul={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},MD=function(t){return console.error("RTA: dataProvider fails: ".concat(t,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},F8=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],kg=function(t){return M8(t).map(function(n){return F8.includes(n)?"\\".concat(n):n}).join("")},P8=function(e){Uv(t,e);function t(){return Nm(this,t),zv(this,kd(t).apply(this,arguments))}return Yv(t,[{key:"componentDidMount",value:function(){var r=this.props.boundariesElement;if(typeof r=="string"){var a=document.querySelector(r);if(!a)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=a}else if(r instanceof HTMLElement)this.containerElem=r;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var r,a,o=this.props.top||0,s=this.props.left||0,u=[],d=[],m=0,p=0,g=this.containerElem.getBoundingClientRect(),w=this.ref.getBoundingClientRect(),D=this.props.textareaRef.getBoundingClientRect(),S=window.getComputedStyle(this.ref),T=parseInt(S.getPropertyValue("margin-top"),10),C=parseInt(S.getPropertyValue("margin-bottom"),10),A=parseInt(S.getPropertyValue("margin-left"),10),N=parseInt(S.getPropertyValue("margin-right"),10),L=T+C+D.top+o+w.height,F=A+N+D.left+s+w.width;F>g.right&&D.left+s>w.width?(p=s-w.width,u.push(ul.X.LEFT),d.push(ul.X.RIGHT)):(p=s,u.push(ul.X.RIGHT),d.push(ul.X.LEFT)),L>g.bottom&&D.top+o>w.height?(m=o-w.height,u.push(ul.Y.TOP),d.push(ul.Y.BOTTOM)):(m=o,u.push(ul.Y.BOTTOM),d.push(ul.Y.TOP)),this.props.renderToBody&&(m+=D.top,p+=D.left),this.ref.style.top="".concat(m,"px"),this.ref.style.left="".concat(p,"px"),(r=this.ref.classList).remove.apply(r,d),(a=this.ref.classList).add.apply(a,u)}},{key:"render",value:function(){var r=this,a=this.props,o=a.style,s=a.className,u=a.innerRef,d=a.children,m=a.renderToBody,p=document.body,g=J.createElement("div",{ref:function(D){r.ref=D,u(D)},className:"rta__autocomplete ".concat(s||""),style:o},d);return m&&p!==null?D1.createPortal(g,p):g}}]),t}(J.Component),YT=function(e){Uv(t,e);function t(n){var r;Nm(this,t),r=zv(this,kd(t).call(this,n)),r.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},r.escListenerInit=function(){r.escListener||(r.escListener=Ec.add(Ha.ESC,r._closeAutocomplete))},r.escListenerDestroy=function(){r.escListener&&(Ec.remove(r.escListener),r.escListener=null)},r.getSelectionPosition=function(){return r.textareaRef?{selectionStart:r.textareaRef.selectionStart,selectionEnd:r.textareaRef.selectionEnd}:null},r.getSelectedText=function(){if(!r.textareaRef)return null;var d=r.textareaRef,m=d.selectionStart,p=d.selectionEnd;return m===p?null:r.state.value.substr(m,p-m)},r.setCaretPosition=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;r.textareaRef&&(r.textareaRef.focus(),r.textareaRef.setSelectionRange(d,d))},r.getCaretPosition=function(){if(!r.textareaRef)return 0;var d=r.textareaRef.selectionEnd;return d},r._handleCaretChange=function(d){var m=function(){var w=r.getCaretPosition()-1;r.lastTrigger=r.lastTrigger?w:0};if(d.type==="keydown"){var p=d.keyCode||d.which;switch(p){case Ha.UP:case Ha.DOWN:r._isAutocompleteOpen()||m();break;case Ha.LEFT:case Ha.RIGHT:m();break}return}m()},r._onSelect=function(d){var m=r.state,p=m.selectionEnd,g=m.currentTrigger,w=m.value,D=r.props.onItemSelected;if(g){var S=r._getTextToReplace(g);if(!S){r._closeAutocomplete();return}var T=S(d);if(!T){r._closeAutocomplete();return}D&&D({currentTrigger:g,item:d});var C=function(z,q,ee){switch(z){case"start":return ee;case"next":case"end":return ee+q.length;default:if(!Number.isInteger(z))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return z}},A=w.slice(0,p),N=kg(g),L=A.length-A.lastIndexOf(g),F=A.search(new RegExp("(?!".concat(N,")$")))-L,H=T.caretPosition==="next"?"".concat(T.text," "):T.text,j=C(T.caretPosition,H,F),_=A.substring(0,F)+H,V=w.replace(A,_);r.setState({value:V,dataLoading:!1},function(){var U=r.tokenRegExpEnding.exec(H),z=U?U[0].length:1;r.lastTrigger=j&&j-z,r.textareaRef.value=V,r.textareaRef.selectionEnd=j,r._changeHandler();var q=r.textareaRef.scrollTop;r.setCaretPosition(j),window.chrome&&(r.textareaRef.scrollTop=q)})}},r._getTextToReplace=function(d){var m=r.props.trigger[d];if(!d||!m)return null;var p=m.output;return function(g){if(typeof g=="object"&&(!p||typeof p!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(p){var w=p(g,d);if(w===void 0||typeof w=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(w),'". Check the implementation for trigger "').concat(d,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(w===null)return null;if(typeof w=="string")return{text:w,caretPosition:xD};if(!w.text&&typeof w.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));if(!w.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(d,`"
`));return w}if(typeof g!="string")throw new Error(`Output item should be string
`);return{text:"".concat(d).concat(g).concat(d),caretPosition:xD}}},r._getCurrentTriggerSettings=function(){var d=r.state.currentTrigger;return d?r.props.trigger[d]:null},r._getValuesFromProvider=function(){var d=r.state,m=d.currentTrigger,p=d.actualToken,g=r._getCurrentTriggerSettings();if(!(!m||!g)){var w=g.dataProvider,D=g.component;if(typeof w!="function")throw new Error("Trigger provider has to be a function!");r.setState({dataLoading:!0});var S=w(p);S instanceof Promise||(S=Promise.resolve(S)),S.then(function(T){if(!Array.isArray(T))throw new Error("Trigger provider has to provide an array!");if(typeof D!="function")throw new Error("Component should be defined!");if(m===r.state.currentTrigger){if(!T.length){r._closeAutocomplete();return}r.setState({dataLoading:!1,data:T,component:D})}}).catch(function(T){return MD(T.message)})}},r._getSuggestions=function(){var d=r.state,m=d.currentTrigger,p=d.data;return!m||!p||p&&!p.length?null:p},r._createRegExp=function(){var d=r.props.trigger;r.tokenRegExp=new RegExp("(".concat(Object.keys(d).sort(function(m,p){return m<p?1:m>p?-1:0}).map(function(m){return kg(m)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),r.tokenRegExpEnding=new RegExp("(".concat(Object.keys(d).sort(function(m,p){return m<p?1:m>p?-1:0}).map(function(m){return kg(m)}).join("|"),")$"))},r._closeAutocomplete=function(){var d=r.state.currentTrigger;r.escListenerDestroy(),r.setState({data:null,dataLoading:!1,currentTrigger:null},function(){d&&r._onItemHighlightedHandler(null)})},r._cleanUpProps=function(){var d=I8({},r.props),m=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var p in d)m.includes(p)&&delete d[p];return d},r._changeHandler=function(d){var m=r.props,p=m.trigger,g=m.onChange,w=m.minChar,D=m.onCaretPositionChange,S=m.movePopupAsYouType,T=r.state,C=T.top,A=T.left,N=d;N||(N=new D8("change",{bubbles:!0}),r.textareaRef.dispatchEvent(N));var L=N.target||r.textareaRef,F=L.selectionEnd,H=L.value;if(r.lastValueBubbledEvent=H,g&&N&&(N.persist&&N.persist(),g(new Proxy(N,{get:function(W,$,X){return $==="target"?L:Reflect.get(W,$,X)}}))),D){var j=r.getCaretPosition();D(j)}r.setState({value:H});var _=function(){var W=y8(L,F),$=W.top,X=W.left;r.setState({top:$-r.textareaRef.scrollTop||0,left:X})},V=function(W){r.lastTrigger=F-W,r._closeAutocomplete(),_()};if(F<=r.lastTrigger){var U=H.slice(0,F),z=r.tokenRegExp.exec(U);V(z?z[0].length:0)}var q=H.slice(r.lastTrigger,F),ee=r.tokenRegExp.exec(q),ce=ee&&ee[0],fe=ee&&ee[1]||null,ie=fe?fe.length-1:0,he=r.tokenRegExpEnding.exec(q);if(he?V(he[0].length):r._isAutocompleteOpen()||r._closeAutocomplete(),(!ce||ce.length<=w+ie)&&(r.state.currentTrigger&&!p[r.state.currentTrigger].allowWhitespace||!r.state.currentTrigger)){r._closeAutocomplete();return}if(fe&&p[fe].afterWhitespace&&!/\s/.test(H[F-ce.length-1])&&H[F-ce.length-1]!==void 0){r._closeAutocomplete();return}if(r.state.currentTrigger&&p[r.state.currentTrigger].allowWhitespace){if(ee=new RegExp("".concat(kg(r.state.currentTrigger),".*$")).exec(H.slice(0,F)),ce=ee&&ee[0],!ce){r._closeAutocomplete();return}fe=Object.keys(p).find(function(we){return we.slice(0,ie+1)===ce.slice(0,ie+1)})||null}var Ie=ce.slice(1);if(fe){(S||C===null&&A===null||r.state.currentTrigger!==fe)&&_(),r.escListenerInit();var se=r._getTextToReplace(fe);r.setState({selectionEnd:F,currentTrigger:fe,textToReplace:se,actualToken:Ie},function(){try{r._getValuesFromProvider()}catch(we){MD(we.message)}})}},r._selectHandler=function(d){var m=r.props,p=m.onCaretPositionChange,g=m.onSelect;if(p){var w=r.getCaretPosition();p(w)}g&&(d.persist(),g(d))},r._shouldStayOpen=function(d){var m=d.relatedTarget;return m===null&&(m=document.activeElement),!!(r.dropdownRef&&m instanceof Node&&r.dropdownRef.contains(m))},r._onClick=function(d){var m=r.props.onClick;m&&(d.persist(),m(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onBlur=function(d){var m=r.props.onBlur;m&&(d.persist(),m(d)),!r._shouldStayOpen(d)&&r._closeAutocomplete()},r._onScrollHandler=function(){r._closeAutocomplete()},r._onItemHighlightedHandler=function(d){var m=r.props.onItemHighlighted,p=r.state.currentTrigger;if(m)if(typeof m=="function")m({currentTrigger:p,item:d});else throw new Error("`onItemHighlighted` has to be a function")},r._dropdownScroll=function(d){var m=r.props.scrollToItem;if(m){if(m===!0){O8(r.dropdownRef,d);return}if(typeof m!="function"||m.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");m(r.dropdownRef,d)}},r._isAutocompleteOpen=function(){var d=r.state,m=d.dataLoading,p=d.currentTrigger,g=r._getSuggestions();return!!((m||g)&&p)},r._textareaRef=function(d){r.props.innerRef&&r.props.innerRef(d),r.textareaRef=d},r.lastTrigger=0,r.escListener=null;var a=r.props,o=a.loadingComponent,s=a.trigger,u=a.value;if(u&&(r.state.value=u),r._createRegExp(),!o)throw new Error("RTA: loadingComponent is not defined");if(!s)throw new Error("RTA: trigger is not defined");return r}return Yv(t,[{key:"componentDidMount",value:function(){Ec.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(r){var a=r.trigger,o=r.value,s=this.props,u=s.trigger,d=s.value;Object.keys(u).join("")!==Object.keys(a).join("")&&this._createRegExp(),o!==d&&this.lastValueBubbledEvent!==d&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),Ec.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var r=this,a=this.props,o=a.loadingComponent,s=a.style,u=a.className,d=a.listStyle,m=a.itemStyle,p=a.boundariesElement,g=a.movePopupAsYouType,w=a.listClassName,D=a.itemClassName,S=a.dropdownClassName,T=a.dropdownStyle,C=a.containerStyle,A=a.containerClassName,N=a.loaderStyle,L=a.loaderClassName,F=a.textAreaComponent,H=a.renderToBody,j=this.state,_=j.left,V=j.top,U=j.dataLoading,z=j.component,q=j.value,ee=j.textToReplace,ce=this._isAutocompleteOpen(),fe=this._getSuggestions(),ie={},he;return F.component?(he=F.component,ie[F.ref]=this._textareaRef):(he=F,ie.ref=this._textareaRef),J.createElement("div",{className:"rta ".concat(U===!0?"rta--loading":""," ").concat(A||""),style:C},J.createElement(he,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(u||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:q,style:s},ie)),ce&&J.createElement(P8,{innerRef:function(se){r.dropdownRef=se},top:V,left:_,style:T,className:S,movePopupAsYouType:g,boundariesElement:p,textareaRef:this.textareaRef,renderToBody:H},fe&&z&&ee&&J.createElement(A8,{values:fe,component:z,style:d,className:w,itemClassName:D,itemStyle:m,getTextToReplace:ee,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),U&&J.createElement("div",{className:"rta__loader ".concat(fe!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(L||""),style:N},J.createElement(o,{data:fe}))))}}],[{key:"getDerivedStateFromProps",value:function(r){var a=r.value;return a==null?null:{value:a}}}]),t}(J.Component);YT.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1};const j8=()=>{const{app:e}=rt.getState(),t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())},L8=e=>{let t=[];const n=rt.getState().settings;if(n&&(n!=null&&n.UseVaultTags))t=j8();else{const{tags:o}=Te.getState();t=o}const r=e.toLowerCase(),a=[];return t.forEach(o=>{o&&o.toLowerCase().contains(r)&&a.push({name:o,char:o})}),a},R8=e=>{const{app:t}=rt.getState(),n=t.vault.getAllLoadedFiles(),r=[];let a;return n.forEach(o=>{e==="["?a="":e.contains("[")&&(a=e.slice(1));const s=a.toLowerCase();o instanceof E.TFile&&["md","png","jpg","canvas","jpeg","gif"].contains(o.extension)&&o.path.toLowerCase().contains(s)&&r.push({name:o.basename,char:o.name,file:o})}),r};var F0=O,_8=function(e){return typeof e=="function"},H8=function(e){var t=F0.useState(e),n=t[0],r=t[1],a=F0.useRef(n),o=F0.useCallback(function(s){a.current=_8(s)?s(a.current):s,r(a.current)},[]);return[n,o,a]},B8=H8;const Br=Xn(B8);function hv(e,t){const n=Object.keys(t).map(r=>Y8(e,r,t[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function Y8(e,t,n){const r=e[t],a=e.hasOwnProperty(t);let o=n(r);return r&&Object.setPrototypeOf(o,r),Object.setPrototypeOf(s,o),e[t]=s,u;function s(...d){return o===r&&e[t]===s&&u(),o.apply(this,d)}function u(){e[t]===s&&(a?e[t]=r:delete e[t]),o!==r&&(o=r,Object.setPrototypeOf(s,r||Function))}}function z8(e){return e.containerEl.matches(".memos-list-view")}const U8=e=>{const{dailyNotesState:{app:t,plugin:n,editor:r,view:a,dailyNotes:o}}=O.useContext(wt),[s,u]=O.useState(null),[d,m]=O.useState(!1),[p,g]=O.useState(""),[w,D]=O.useState(null),S=O.useRef(E.debounce((_,V)=>{Z8(_,V)},100));O.useEffect(()=>{if(!w){for(const _ in o)if(o[_]instanceof E.TFile){D(o[_]);break}}},[o]),O.useEffect(()=>{if(!(!e||!r)&&!d)return N(e),()=>{m(!1),s==null||s.destroy()}},[r,e]),O.useEffect(()=>{if(!s||!t)return;const _=V8(t);g(_),(s==null?void 0:s.editor).replaceSelection(_)},[s,t]),O.useEffect(()=>{!s||!t||S.current(p,t)},[p,t]);const T=()=>{s&&s.toggleSource()},C=E.debounce((_,V)=>A(_,V),500,!0),A=(_,V)=>{_&&g(V)},N=_=>{if(r&&a){a.register(hv(r.constructor.prototype,{onUpdate:U=>function(...z){if(U.call(this,z),this.owner.getViewType()==="thino_view"||this.owner instanceof yl){const q=this.get();C(this.owner,q)}},getMode:()=>function(){return"source"}})),a.register(hv(E.Workspace.prototype,{getActiveViewOfType:U=>function(z){const q=U.call(this,z);if(!q&&(z==null?void 0:z.VIEW_TYPE)==="markdown"){const ee=this.activeLeaf;if(ee.view instanceof yl)return ee.view}return q},setActiveLeaf:U=>function(z,q){if(z8(z)&&(U.call(this,z,q),z.activeTime=17e11),U.call(this,z,q),z.view instanceof yl){const ee=Qe.getState().instanceList.get(z.id);if(!ee)return;self.app.workspace.activeEditor=ee.owner,z.view.editor=ee.editor}},getActiveFile:U=>function(){var q;const z=U.call(this);return((q=this.activeLeaf)==null?void 0:q.view)instanceof yl&&w||z}}));const V=new r.constructor(a.app,_,a);V.owner.editor=V.editor,V.set&&V.set("",!0),V.owner.onMarkdownScroll=()=>{},t.workspace.trigger("thino-editor-created",_,V.editor),m(!0),u(V),Qe.setInstance(`${a.leaf.id}`,V)}};return{instance:s,value:p,set:_=>{try{s&&((s==null?void 0:s.editor).replaceSelection(_),g(_))}catch(V){console.error(V)}},get:()=>s?s.get():"",append:(_,V)=>{if(!s||V&&V!==s.owner.leaf.id)return;const z=(s.get()||"")+_;(s==null?void 0:s.editor).replaceSelection(_),g(z)},clear:()=>{s&&(s.clear(),g(""))},toggleSource:T}};function zT(e){return`thinoEditorContentCache:${e}`}function V8(e){try{const t=zT(e==null?void 0:e.appId);return Kn.get([t])[t]||""}catch(t){return console.error(t),""}}function Z8(e,t){try{const n=zT(t==null?void 0:t.appId);Kn.set({[n]:e})}catch(n){console.error(n)}}const ND=({entity:{name:e,char:t,file:n}})=>y.jsx("div",{children:`${t}`}),W8=({data:e})=>y.jsx("div",{children:"Loading"});let bi;const $8=O.forwardRef((e,t)=>{var De;const{globalState:{useTinyUndoHistoryCache:n,globalEditorShown:r,memoListView:a},dailyNotesState:{settings:o,app:s}}=O.useContext(wt),{SaveMemoButtonLabel:u,SaveMemoButtonIcon:d}=o,{className:m,inputerType:p,initialContent:g,placeholder:w,showConfirmBtn:D,showCancelBtn:S,onConfirmBtnClick:T,onCancelBtnClick:C,onContentChange:A}=e,N=O.useRef(null),L=O.useRef(null),F=O.useRef(null),H=g8(),{instance:j,value:_,set:V,get:U,append:z,clear:q,toggleSource:ee}=U8(L.current),[,ce,fe]=Br(0),[ie,he]=Br(!1);O.useEffect(()=>{var be,ke;if(o&&o.FocusOnEditor)switch(p){case"minimal":case"memos":(be=N.current)==null||be.focus();break;case"obsidian":j&&((ke=j.editor)==null||ke.focus())}},[o,j]),O.useEffect(()=>{if(!s)return;const be=s.workspace.getLeavesOfType(Hr);let ke,Be;be.length>0?(Be=be[0].view.containerEl,ke=Be.offsetHeight):(Be=document,ke=window.outerHeight),ce(ke)},[s]),O.useEffect(()=>{!N.current||p==="obsidian"||g&&(N.current.value=g,H())},[]),O.useEffect(()=>{var be;if(p!=="obsidian")if(n){if(!N.current)return;const{tinyUndoActionsCache:ke,tinyUndoIndexCache:Be}=Kn.get(["tinyUndoActionsCache","tinyUndoIndexCache"]);return F.current=new p8(N.current,{interval:5e3,initialActions:ke,initialIndex:Be}),F.current.subscribe((_e,it)=>{Kn.set({tinyUndoActionsCache:_e,tinyUndoIndexCache:it})}),()=>{var _e;(_e=F.current)==null||_e.destroy()}}else(be=F.current)==null||be.destroy(),F.current=null,Kn.remove(["tinyUndoActionsCache","tinyUndoIndexCache"])},[n]),O.useEffect(()=>{N.current&&(N.current.style.height="auto",N.current.style.height=(N.current.scrollHeight??0)+"px")},[(De=N.current)==null?void 0:De.value]),O.useImperativeHandle(t,()=>({element:N.current,blur:()=>{var be,ke;switch(p){case"minimal":case"memos":(be=N.current)==null||be.blur();break;case"obsidian":j&&((ke=j.editor)==null||ke.blur())}},focus:be=>{var ke,Be,_e,it,Vt;switch(p){case"minimal":case"memos":o!=null&&o.FocusOnEditor&&((ke=N.current)==null||ke.focus());break;case"obsidian":if(o!=null&&o.FocusOnEditor&&j){if(be&&be!==((it=(_e=(Be=j==null?void 0:j.owner)==null?void 0:Be.view)==null?void 0:_e.leaf)==null?void 0:it.id))return;(Vt=j.editor)==null||Vt.focus()}}},insertText:(be,ke)=>{switch(p){case"minimal":case"memos":{if(!N.current)return;const Be=N.current.value;N.current.value=Be.slice(0,N.current.selectionStart)+be+Be.slice(N.current.selectionStart),A(N.current.value),H()}break;case"obsidian":j&&z(be,ke);break}},setContent:be=>{switch(p){case"minimal":case"memos":N.current&&(N.current.value=be,A(N.current.value),H());break;case"obsidian":j&&V(be);break}},getContent:()=>{switch(p){case"minimal":case"memos":return N.current?N.current.value:"";case"obsidian":return U()}},toggleSource:()=>{switch(p){case"minimal":case"memos":break;case"obsidian":ee();break}},clear:()=>{switch(p){case"minimal":case"memos":N.current&&(N.current.value="",A(N.current.value),H());break;case"obsidian":q();break}}}),[j,p]);const Ie=be=>{if(!N.current)return;const{fileManager:ke}=Ee.getState().dailyNotesState.app;if(be.currentTrigger==="#"){const Be=N.current.value;let _e;bi!=null?_e=bi.length:_e=0;let it=N.current.selectionStart;for(let Vt=0;Vt<Be.length;Vt++)/\s/g.test(Be[it])||it++;N.current.value=Be.slice(0,N.current.selectionStart-_e)+be.item.char+Be.slice(it),A(N.current.value),H()}else if(be.currentTrigger==="[["){const Be=ke.generateMarkdownLink(be.item.file,be.item.file.path,"",""),_e=N.current.value;let it;bi!=null?Be.contains("[[")||be.item.file.extension!=="md"?it=bi.length+1:it=bi.length+2:it=2;let Vt=N.current.selectionStart;for(let Se=0;Se<_e.length;Se++)/\s/g.test(_e[Vt])||Vt++;N.current.value=_e.slice(0,N.current.selectionStart-it)+Be+_e.slice(Vt),A(N.current.value),H()}},se=O.useCallback(()=>{var be;A(((be=N.current)==null?void 0:be.value)||""),H()},[]),we=()=>{var be;switch(p){case"minimal":case"memos":if(!N.current)return;N.current.value=$(),T(N.current.value),N.current.value="",H(),(be=F.current)==null||be.resetState();break;case"obsidian":T(U()),q(),H();break}},W=O.useCallback(()=>{switch(p){case"minimal":case"memos":N.current&&(N.current.value="",A(N.current.value),H());break;case"obsidian":q();break}C()},[p,j,N]),$=()=>Kn.get(["thinoEditorContentCache"]).thinoEditorContentCache||"",X=()=>{if(N.current)return N.current.value=$(),N.current.value},ve=be=>{switch(be){case"memos":return y.jsx(YT,{className:`common-editor-inputer scroll ${ie?" editing":""}`,loadingComponent:W8,placeholder:w,movePopupAsYouType:!0,value:X(),innerRef:ke=>{N.current=ke},onFocus:()=>{he(!0)},onBlur:()=>{he(!1)},onInput:se,style:{maxHeight:`${fe.current>400?fe.current-400:100}px`},dropdownStyle:{minWidth:180,maxHeight:250,overflowY:"auto"},minChar:0,onItemSelected:Ie,scrollToItem:!0,trigger:{"#":{dataProvider:ke=>(bi=ke,L8(ke).map(({name:Be,char:_e})=>({name:Be,char:_e}))),component:ND,afterWhitespace:!0,output:ke=>ke.char},"[[":{dataProvider:ke=>(bi=ke,R8(ke).slice(0,10).map(({name:Be,char:_e,file:it})=>({name:Be,char:_e,file:it}))),component:ND,afterWhitespace:!0,output:ke=>ke.char}}});case"minimal":return y.jsx("textarea",{style:{minHeight:48},className:"common-editor-inputer scroll",rows:1,placeholder:w,ref:N,onInput:se});case"obsidian":return y.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:L});default:return y.jsx("div",{className:"common-editor-inputer common-editor-mod-cm6",ref:L})}};return y.jsxs("div",{className:"common-editor-wrapper "+m,children:[ve(p),y.jsxs("div",{className:"common-tools-wrapper",children:[y.jsx("div",{className:"common-tools-container",children:y.jsx(lo,{when:e.tools!==void 0,children:e.tools})}),y.jsxs("div",{className:"btns-container",children:[y.jsx(lo,{when:S,children:y.jsx("button",{className:"action-btn cancel-btn",onClick:()=>{o&&o.DefaultEditorLocation==="Top"&&!r&&W()},onPointerDown:()=>{(o&&o.DefaultEditorLocation==="Bottom"||r)&&W()},children:We.getState().pathname==="/"&&a==="chat"&&((o==null?void 0:o.chatViewStyle)==="fluent"||(o==null?void 0:o.chatViewStyle)==="inline")?"":k("CANCEL EDIT")})}),y.jsx(lo,{when:D,children:y.jsxs("button",{title:"Ctrl/Cmd + Enter to save thino",className:"action-btn confirm-btn",onClick:()=>{o&&o.DefaultEditorLocation==="Top"&&!r&&we()},onPointerDown:()=>{(o&&o.DefaultEditorLocation==="Bottom"||r)&&we()},children:[a==="chat"&&((o==null?void 0:o.chatViewStyle)==="fluent"||(o==null?void 0:o.chatViewStyle)==="inline")?"":u,y.jsx("span",{className:"icon-text",children:a==="chat"&&((o==null?void 0:o.chatViewStyle)==="fluent"||(o==null?void 0:o.chatViewStyle)==="inline")?null:d})]})})]})]})]})}),q8=typeof window<"u"?O.useLayoutEffect:O.useEffect;function G8(e,t,n,r){const a=O.useRef(t);q8(()=>{a.current=t},[t]),O.useEffect(()=>{const o=(n==null?void 0:n.current)||window;if(!(o&&o.addEventListener))return;const s=u=>{a.current(u)};return o.addEventListener(e,s,r),()=>{o.removeEventListener(e,s,r)}},[e,n,r])}function km(e,t,n="mousedown"){G8(n,r=>{const a=r.target;if(!a||!a.isConnected||a.closest(".suggestion-container")||a.closest(".menu"))return;(Array.isArray(e)?e.every(s=>s.current&&!s.current.contains(a)):e.current&&!e.current.contains(a))&&t(r)})}const UT=e=>{const{year:t,handleYearChange:n}=e,[r,a]=O.useState([]),[o,s]=O.useState(t),u=O.useRef(null),d=O.useRef(null),[m,p]=J.useState(!1),g=J.useRef(null);km(g,()=>{p(!1)}),O.useEffect(()=>{u.current&&E.setIcon(u.current,"chevron-left"),d.current&&E.setIcon(d.current,"chevron-right")},[u,d,m]),O.useEffect(()=>{D(o)},[t]);const D=S=>{const T=parseInt(S),C=T-T%10,A=[];for(let N=0;N<10;N++)A.push(`${C+N}`);a(A)};return y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"btn year-btn",onClick:()=>{p(!m)},children:[y.jsx("span",{children:t}),y.jsx("span",{children:k("year")})]}),m&&y.jsxs("div",{ref:g,className:"year-picker-wrapper",children:[y.jsxs("div",{className:"year-picker-header",children:[y.jsxs("div",{className:"year-picker-header-title",children:[o," "+(k("year")||"")]}),y.jsxs("div",{className:"year-picker-header-btns",children:[y.jsx("span",{className:"btn",ref:u,onClick:()=>{const S=parseInt(o)-10;s(S.toString()),D(S.toString())}}),y.jsx("span",{className:"btn",ref:d,onClick:()=>{const S=parseInt(o)+10;s(S.toString()),D(S.toString())}})]})]}),y.jsx("div",{className:"year-picker-body",children:y.jsx("div",{className:"year-picker-body-list",children:r.map(S=>y.jsx("div",{className:`year-picker-body-item ${S===o?"selected":""}`,onClick:()=>{s(S),n(S),p(!1)},children:S},S))})})]})]})},VT=e=>{const{month:t,handleMonthChange:n}=e,[r,a]=O.useState([]),[o,s]=O.useState((parseInt(t)+1).toString()),[u,d]=J.useState(!1),m=J.useRef(null);km(m,()=>{d(!1)}),O.useEffect(()=>{g()},[t]);const g=()=>{const w=[];for(let D=1;D<=12;D++)w.push(`${D}`);a(w)};return y.jsxs(y.Fragment,{children:[y.jsxs("span",{className:"btn month-btn",onClick:()=>{d(!u)},children:[y.jsxs("span",{children:[k("monthsShort")[parseInt(t)]||parseInt(t)+1," "]}),y.jsx("span",{children:k("month")||""})]}),u&&y.jsxs("div",{ref:m,className:"month-picker-wrapper",children:[y.jsxs("div",{className:"month-picker-header",children:[y.jsxs("div",{className:"month-picker-header-title",children:[o," "+(k("month")||"")]}),y.jsx("div",{className:"month-picker-header-btns"})]}),y.jsx("div",{className:"month-picker-body",children:y.jsx("div",{className:"month-picker-body-list",children:r.map(w=>y.jsx("div",{className:`month-picker-body-item ${w===o?"selected":""}`,onClick:()=>{s(w),n(w),d(!1)},children:w},w))})})]})]})},Am=e=>{const{className:t,datestamp:n,handleDateStampChange:r}=e,[a,o]=O.useState(Ph(n)),[s,u]=O.useState(n);O.useEffect(()=>{o(Ph(n))},[n]);const d=new Date(a),m=d.getDay(),p=[];for(let S=0;S<m;S++)p.push({date:0,datestamp:d.getTime()-Ba*(7-S)});const g=J8(a);for(let S=1;S<=g;S++)p.push({date:S,datestamp:d.getTime()+Ba*(S-1)});const w=(S,T)=>{r(T,S.nativeEvent),u(T)},D=S=>{const T=d.getFullYear(),C=d.getMonth()+1;let A=0;C===1&&S===-1?A=new Date(`${T-1}/12/1`).getTime():C===12&&S===1?A=new Date(`${T+1}/1/1`).getTime():A=new Date(`${T}/${C+S}/1`).getTime(),o(Ph(A))};return y.jsxs("div",{className:`date-picker-wrapper ${t}`,children:[y.jsxs("div",{className:"date-picker-header",children:[y.jsx("span",{ref:S=>{S&&E.setIcon(S,"chevron-left")},className:"btn btn-text",onClick:()=>D(-1)}),y.jsxs("span",{className:"normal-text",children:[y.jsx(UT,{year:d.getFullYear().toString(),handleYearChange:S=>{o(Ph(new Date(`${S}/${d.getMonth()+1}/1`).getTime()))}}),y.jsx(VT,{month:d.getMonth().toString(),handleMonthChange:S=>{o(Ph(new Date(`${d.getFullYear()}/${parseInt(S)}/1`).getTime()))}})]}),y.jsx("span",{ref:S=>{S&&E.setIcon(S,"chevron-right")},className:"btn btn-text",onClick:()=>D(1)})]}),y.jsxs("div",{className:"date-picker-day-container",children:[y.jsx("div",{className:"date-picker-day-header",children:k("weekDaysShort").map(S=>y.jsx("span",{className:"day-item",children:S},S))}),y.jsx("div",{className:"date-picker-day-content",children:p.map(S=>S.date===0?y.jsx("span",{className:"day-item null",children:""},S.datestamp):y.jsx("span",{className:`day-item ${S.datestamp===n?"current":""} ${S.datestamp===s?"selected":""}`,onClick:T=>w(T,S.datestamp),children:y.jsx("span",{className:"day-item-text",children:S.date})},S.datestamp))})]})]})};function J8(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/Ba}function Ph(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}var kD=function(t){return t.reduce(function(n,r){var a=r[0],o=r[1];return n[a]=o,n},{})},AD=typeof window<"u"&&window.document&&window.document.createElement?O.useLayoutEffect:O.useEffect,wa="top",uo="bottom",fo="right",ba="left",S1="auto",Om=[wa,uo,fo,ba],Ad="start",tm="end",K8="clippingParents",ZT="viewport",jh="popper",Q8="reference",OD=Om.reduce(function(e,t){return e.concat([t+"-"+Ad,t+"-"+tm])},[]),I1=[].concat(Om,[S1]).reduce(function(e,t){return e.concat([t,t+"-"+Ad,t+"-"+tm])},[]),X8="beforeRead",e9="read",t9="afterRead",n9="beforeMain",r9="main",a9="afterMain",o9="beforeWrite",i9="write",s9="afterWrite",l9=[X8,e9,t9,n9,r9,a9,o9,i9,s9];function ki(e){return e?(e.nodeName||"").toLowerCase():null}function za(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function kc(e){var t=za(e).Element;return e instanceof t||e instanceof Element}function co(e){var t=za(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function T1(e){if(typeof ShadowRoot>"u")return!1;var t=za(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function c9(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},a=t.attributes[n]||{},o=t.elements[n];!co(o)||!ki(o)||(Object.assign(o.style,r),Object.keys(a).forEach(function(s){var u=a[s];u===!1?o.removeAttribute(s):o.setAttribute(s,u===!0?"":u)}))})}function u9(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=s.reduce(function(d,m){return d[m]="",d},{});!co(a)||!ki(a)||(Object.assign(a.style,u),Object.keys(o).forEach(function(d){a.removeAttribute(d)}))})}}const d9={name:"applyStyles",enabled:!0,phase:"write",fn:c9,effect:u9,requires:["computeStyles"]};function Ni(e){return e.split("-")[0]}var Mc=Math.max,mv=Math.min,Od=Math.round;function kw(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function WT(){return!/^((?!chrome|android).)*safari/i.test(kw())}function Fd(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,o=1;t&&co(e)&&(a=e.offsetWidth>0&&Od(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Od(r.height)/e.offsetHeight||1);var s=kc(e)?za(e):window,u=s.visualViewport,d=!WT()&&n,m=(r.left+(d&&u?u.offsetLeft:0))/a,p=(r.top+(d&&u?u.offsetTop:0))/o,g=r.width/a,w=r.height/o;return{width:g,height:w,top:p,right:m+g,bottom:p+w,left:m,x:m,y:p}}function E1(e){var t=Fd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function $T(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&T1(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ps(e){return za(e).getComputedStyle(e)}function f9(e){return["table","td","th"].indexOf(ki(e))>=0}function Tl(e){return((kc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Vv(e){return ki(e)==="html"?e:e.assignedSlot||e.parentNode||(T1(e)?e.host:null)||Tl(e)}function FD(e){return!co(e)||ps(e).position==="fixed"?null:e.offsetParent}function h9(e){var t=/firefox/i.test(kw()),n=/Trident/i.test(kw());if(n&&co(e)){var r=ps(e);if(r.position==="fixed")return null}var a=Vv(e);for(T1(a)&&(a=a.host);co(a)&&["html","body"].indexOf(ki(a))<0;){var o=ps(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function Fm(e){for(var t=za(e),n=FD(e);n&&f9(n)&&ps(n).position==="static";)n=FD(n);return n&&(ki(n)==="html"||ki(n)==="body"&&ps(n).position==="static")?t:n||h9(e)||t}function C1(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function qh(e,t,n){return Mc(e,mv(t,n))}function m9(e,t,n){var r=qh(e,t,n);return r>n?n:r}function qT(){return{top:0,right:0,bottom:0,left:0}}function GT(e){return Object.assign({},qT(),e)}function JT(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var p9=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,GT(typeof t!="number"?t:JT(t,Om))};function g9(e){var t,n=e.state,r=e.name,a=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,u=Ni(n.placement),d=C1(u),m=[ba,fo].indexOf(u)>=0,p=m?"height":"width";if(!(!o||!s)){var g=p9(a.padding,n),w=E1(o),D=d==="y"?wa:ba,S=d==="y"?uo:fo,T=n.rects.reference[p]+n.rects.reference[d]-s[d]-n.rects.popper[p],C=s[d]-n.rects.reference[d],A=Fm(o),N=A?d==="y"?A.clientHeight||0:A.clientWidth||0:0,L=T/2-C/2,F=g[D],H=N-w[p]-g[S],j=N/2-w[p]/2+L,_=qh(F,j,H),V=d;n.modifiersData[r]=(t={},t[V]=_,t.centerOffset=_-j,t)}}function v9(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||$T(t.elements.popper,a)&&(t.elements.arrow=a))}const KT={name:"arrow",enabled:!0,phase:"main",fn:g9,effect:v9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pd(e){return e.split("-")[1]}var y9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function w9(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:Od(n*a)/a||0,y:Od(r*a)/a||0}}function PD(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.variation,s=e.offsets,u=e.position,d=e.gpuAcceleration,m=e.adaptive,p=e.roundOffsets,g=e.isFixed,w=s.x,D=w===void 0?0:w,S=s.y,T=S===void 0?0:S,C=typeof p=="function"?p({x:D,y:T}):{x:D,y:T};D=C.x,T=C.y;var A=s.hasOwnProperty("x"),N=s.hasOwnProperty("y"),L=ba,F=wa,H=window;if(m){var j=Fm(n),_="clientHeight",V="clientWidth";if(j===za(n)&&(j=Tl(n),ps(j).position!=="static"&&u==="absolute"&&(_="scrollHeight",V="scrollWidth")),a===wa||(a===ba||a===fo)&&o===tm){F=uo;var U=g&&j===H&&H.visualViewport?H.visualViewport.height:j[_];T-=U-r.height,T*=d?1:-1}if(a===ba||(a===wa||a===uo)&&o===tm){L=fo;var z=g&&j===H&&H.visualViewport?H.visualViewport.width:j[V];D-=z-r.width,D*=d?1:-1}}var q=Object.assign({position:u},m&&y9),ee=p===!0?w9({x:D,y:T},za(n)):{x:D,y:T};if(D=ee.x,T=ee.y,d){var ce;return Object.assign({},q,(ce={},ce[F]=N?"0":"",ce[L]=A?"0":"",ce.transform=(H.devicePixelRatio||1)<=1?"translate("+D+"px, "+T+"px)":"translate3d("+D+"px, "+T+"px, 0)",ce))}return Object.assign({},q,(t={},t[F]=N?T+"px":"",t[L]=A?D+"px":"",t.transform="",t))}function b9(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,u=n.roundOffsets,d=u===void 0?!0:u,m={placement:Ni(t.placement),variation:Pd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,PD(Object.assign({},m,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,PD(Object.assign({},m,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const QT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:b9,data:{}};var Ag={passive:!0};function D9(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=a===void 0?!0:a,s=r.resize,u=s===void 0?!0:s,d=za(t.elements.popper),m=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&m.forEach(function(p){p.addEventListener("scroll",n.update,Ag)}),u&&d.addEventListener("resize",n.update,Ag),function(){o&&m.forEach(function(p){p.removeEventListener("scroll",n.update,Ag)}),u&&d.removeEventListener("resize",n.update,Ag)}}const XT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:D9,data:{}};var S9={left:"right",right:"left",bottom:"top",top:"bottom"};function Kg(e){return e.replace(/left|right|bottom|top/g,function(t){return S9[t]})}var I9={start:"end",end:"start"};function jD(e){return e.replace(/start|end/g,function(t){return I9[t]})}function x1(e){var t=za(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function M1(e){return Fd(Tl(e)).left+x1(e).scrollLeft}function T9(e,t){var n=za(e),r=Tl(e),a=n.visualViewport,o=r.clientWidth,s=r.clientHeight,u=0,d=0;if(a){o=a.width,s=a.height;var m=WT();(m||!m&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}return{width:o,height:s,x:u+M1(e),y:d}}function E9(e){var t,n=Tl(e),r=x1(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=Mc(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Mc(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),u=-r.scrollLeft+M1(e),d=-r.scrollTop;return ps(a||n).direction==="rtl"&&(u+=Mc(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:u,y:d}}function N1(e){var t=ps(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function eE(e){return["html","body","#document"].indexOf(ki(e))>=0?e.ownerDocument.body:co(e)&&N1(e)?e:eE(Vv(e))}function Gh(e,t){var n;t===void 0&&(t=[]);var r=eE(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),o=za(r),s=a?[o].concat(o.visualViewport||[],N1(r)?r:[]):r,u=t.concat(s);return a?u:u.concat(Gh(Vv(s)))}function Aw(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function C9(e,t){var n=Fd(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function LD(e,t,n){return t===ZT?Aw(T9(e,n)):kc(t)?C9(t,n):Aw(E9(Tl(e)))}function x9(e){var t=Gh(Vv(e)),n=["absolute","fixed"].indexOf(ps(e).position)>=0,r=n&&co(e)?Fm(e):e;return kc(r)?t.filter(function(a){return kc(a)&&$T(a,r)&&ki(a)!=="body"}):[]}function M9(e,t,n,r){var a=t==="clippingParents"?x9(e):[].concat(t),o=[].concat(a,[n]),s=o[0],u=o.reduce(function(d,m){var p=LD(e,m,r);return d.top=Mc(p.top,d.top),d.right=mv(p.right,d.right),d.bottom=mv(p.bottom,d.bottom),d.left=Mc(p.left,d.left),d},LD(e,s,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function tE(e){var t=e.reference,n=e.element,r=e.placement,a=r?Ni(r):null,o=r?Pd(r):null,s=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,d;switch(a){case wa:d={x:s,y:t.y-n.height};break;case uo:d={x:s,y:t.y+t.height};break;case fo:d={x:t.x+t.width,y:u};break;case ba:d={x:t.x-n.width,y:u};break;default:d={x:t.x,y:t.y}}var m=a?C1(a):null;if(m!=null){var p=m==="y"?"height":"width";switch(o){case Ad:d[m]=d[m]-(t[p]/2-n[p]/2);break;case tm:d[m]=d[m]+(t[p]/2-n[p]/2);break}}return d}function nm(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,u=n.boundary,d=u===void 0?K8:u,m=n.rootBoundary,p=m===void 0?ZT:m,g=n.elementContext,w=g===void 0?jh:g,D=n.altBoundary,S=D===void 0?!1:D,T=n.padding,C=T===void 0?0:T,A=GT(typeof C!="number"?C:JT(C,Om)),N=w===jh?Q8:jh,L=e.rects.popper,F=e.elements[S?N:w],H=M9(kc(F)?F:F.contextElement||Tl(e.elements.popper),d,p,s),j=Fd(e.elements.reference),_=tE({reference:j,element:L,strategy:"absolute",placement:a}),V=Aw(Object.assign({},L,_)),U=w===jh?V:j,z={top:H.top-U.top+A.top,bottom:U.bottom-H.bottom+A.bottom,left:H.left-U.left+A.left,right:U.right-H.right+A.right},q=e.modifiersData.offset;if(w===jh&&q){var ee=q[a];Object.keys(z).forEach(function(ce){var fe=[fo,uo].indexOf(ce)>=0?1:-1,ie=[wa,uo].indexOf(ce)>=0?"y":"x";z[ce]+=ee[ie]*fe})}return z}function N9(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,s=n.padding,u=n.flipVariations,d=n.allowedAutoPlacements,m=d===void 0?I1:d,p=Pd(r),g=p?u?OD:OD.filter(function(S){return Pd(S)===p}):Om,w=g.filter(function(S){return m.indexOf(S)>=0});w.length===0&&(w=g);var D=w.reduce(function(S,T){return S[T]=nm(e,{placement:T,boundary:a,rootBoundary:o,padding:s})[Ni(T)],S},{});return Object.keys(D).sort(function(S,T){return D[S]-D[T]})}function k9(e){if(Ni(e)===S1)return[];var t=Kg(e);return[jD(e),t,jD(t)]}function A9(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=a===void 0?!0:a,s=n.altAxis,u=s===void 0?!0:s,d=n.fallbackPlacements,m=n.padding,p=n.boundary,g=n.rootBoundary,w=n.altBoundary,D=n.flipVariations,S=D===void 0?!0:D,T=n.allowedAutoPlacements,C=t.options.placement,A=Ni(C),N=A===C,L=d||(N||!S?[Kg(C)]:k9(C)),F=[C].concat(L).reduce(function(De,be){return De.concat(Ni(be)===S1?N9(t,{placement:be,boundary:p,rootBoundary:g,padding:m,flipVariations:S,allowedAutoPlacements:T}):be)},[]),H=t.rects.reference,j=t.rects.popper,_=new Map,V=!0,U=F[0],z=0;z<F.length;z++){var q=F[z],ee=Ni(q),ce=Pd(q)===Ad,fe=[wa,uo].indexOf(ee)>=0,ie=fe?"width":"height",he=nm(t,{placement:q,boundary:p,rootBoundary:g,altBoundary:w,padding:m}),Ie=fe?ce?fo:ba:ce?uo:wa;H[ie]>j[ie]&&(Ie=Kg(Ie));var se=Kg(Ie),we=[];if(o&&we.push(he[ee]<=0),u&&we.push(he[Ie]<=0,he[se]<=0),we.every(function(De){return De})){U=q,V=!1;break}_.set(q,we)}if(V)for(var W=S?3:1,$=function(be){var ke=F.find(function(Be){var _e=_.get(Be);if(_e)return _e.slice(0,be).every(function(it){return it})});if(ke)return U=ke,"break"},X=W;X>0;X--){var ve=$(X);if(ve==="break")break}t.placement!==U&&(t.modifiersData[r]._skip=!0,t.placement=U,t.reset=!0)}}const nE={name:"flip",enabled:!0,phase:"main",fn:A9,requiresIfExists:["offset"],data:{_skip:!1}};function RD(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function _D(e){return[wa,fo,uo,ba].some(function(t){return e[t]>=0})}function O9(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,s=nm(t,{elementContext:"reference"}),u=nm(t,{altBoundary:!0}),d=RD(s,r),m=RD(u,a,o),p=_D(d),g=_D(m);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:m,isReferenceHidden:p,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":g})}const rE={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:O9};function F9(e,t,n){var r=Ni(e),a=[ba,wa].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],u=o[1];return s=s||0,u=(u||0)*a,[ba,fo].indexOf(r)>=0?{x:u,y:s}:{x:s,y:u}}function P9(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=a===void 0?[0,0]:a,s=I1.reduce(function(p,g){return p[g]=F9(g,t.rects,o),p},{}),u=s[t.placement],d=u.x,m=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=m),t.modifiersData[r]=s}const aE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:P9};function j9(e){var t=e.state,n=e.name;t.modifiersData[n]=tE({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const oE={name:"popperOffsets",enabled:!0,phase:"read",fn:j9,data:{}};function L9(e){return e==="x"?"y":"x"}function R9(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=a===void 0?!0:a,s=n.altAxis,u=s===void 0?!1:s,d=n.boundary,m=n.rootBoundary,p=n.altBoundary,g=n.padding,w=n.tether,D=w===void 0?!0:w,S=n.tetherOffset,T=S===void 0?0:S,C=nm(t,{boundary:d,rootBoundary:m,padding:g,altBoundary:p}),A=Ni(t.placement),N=Pd(t.placement),L=!N,F=C1(A),H=L9(F),j=t.modifiersData.popperOffsets,_=t.rects.reference,V=t.rects.popper,U=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,z=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ee={x:0,y:0};if(j){if(o){var ce,fe=F==="y"?wa:ba,ie=F==="y"?uo:fo,he=F==="y"?"height":"width",Ie=j[F],se=Ie+C[fe],we=Ie-C[ie],W=D?-V[he]/2:0,$=N===Ad?_[he]:V[he],X=N===Ad?-V[he]:-_[he],ve=t.elements.arrow,De=D&&ve?E1(ve):{width:0,height:0},be=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:qT(),ke=be[fe],Be=be[ie],_e=qh(0,_[he],De[he]),it=L?_[he]/2-W-_e-ke-z.mainAxis:$-_e-ke-z.mainAxis,Vt=L?-_[he]/2+W+_e+Be+z.mainAxis:X+_e+Be+z.mainAxis,Se=t.elements.arrow&&Fm(t.elements.arrow),Ue=Se?F==="y"?Se.clientTop||0:Se.clientLeft||0:0,Je=(ce=q==null?void 0:q[F])!=null?ce:0,$e=Ie+it-Je-Ue,lt=Ie+Vt-Je,ft=qh(D?mv(se,$e):se,Ie,D?Mc(we,lt):we);j[F]=ft,ee[F]=ft-Ie}if(u){var Dt,Et=F==="x"?wa:ba,$t=F==="x"?uo:fo,rn=j[H],At=H==="y"?"height":"width",an=rn+C[Et],Sn=rn-C[$t],In=[wa,ba].indexOf(A)!==-1,vr=(Dt=q==null?void 0:q[H])!=null?Dt:0,Sa=In?an:rn-_[At]-V[At]-vr+z.altAxis,Mr=In?rn+_[At]+V[At]-vr-z.altAxis:Sn,Nr=D&&In?m9(Sa,rn,Mr):qh(D?Sa:an,rn,D?Mr:Sn);j[H]=Nr,ee[H]=Nr-rn}t.modifiersData[r]=ee}}const iE={name:"preventOverflow",enabled:!0,phase:"main",fn:R9,requiresIfExists:["offset"]};function _9(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function H9(e){return e===za(e)||!co(e)?x1(e):_9(e)}function B9(e){var t=e.getBoundingClientRect(),n=Od(t.width)/e.offsetWidth||1,r=Od(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Y9(e,t,n){n===void 0&&(n=!1);var r=co(t),a=co(t)&&B9(t),o=Tl(t),s=Fd(e,a,n),u={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((ki(t)!=="body"||N1(o))&&(u=H9(t)),co(t)?(d=Fd(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=M1(o))),{x:s.left+u.scrollLeft-d.x,y:s.top+u.scrollTop-d.y,width:s.width,height:s.height}}function z9(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function a(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(u){if(!n.has(u)){var d=t.get(u);d&&a(d)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||a(o)}),r}function U9(e){var t=z9(e);return l9.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function V9(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Z9(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var HD={placement:"bottom",modifiers:[],strategy:"absolute"};function BD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function sE(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,o=a===void 0?HD:a;return function(u,d,m){m===void 0&&(m=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},HD,o),modifiersData:{},elements:{reference:u,popper:d},attributes:{},styles:{}},g=[],w=!1,D={state:p,setOptions:function(A){var N=typeof A=="function"?A(p.options):A;T(),p.options=Object.assign({},o,p.options,N),p.scrollParents={reference:kc(u)?Gh(u):u.contextElement?Gh(u.contextElement):[],popper:Gh(d)};var L=U9(Z9([].concat(r,p.options.modifiers)));return p.orderedModifiers=L.filter(function(F){return F.enabled}),S(),D.update()},forceUpdate:function(){if(!w){var A=p.elements,N=A.reference,L=A.popper;if(BD(N,L)){p.rects={reference:Y9(N,Fm(L),p.options.strategy==="fixed"),popper:E1(L)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(z){return p.modifiersData[z.name]=Object.assign({},z.data)});for(var F=0;F<p.orderedModifiers.length;F++){if(p.reset===!0){p.reset=!1,F=-1;continue}var H=p.orderedModifiers[F],j=H.fn,_=H.options,V=_===void 0?{}:_,U=H.name;typeof j=="function"&&(p=j({state:p,options:V,name:U,instance:D})||p)}}}},update:V9(function(){return new Promise(function(C){D.forceUpdate(),C(p)})}),destroy:function(){T(),w=!0}};if(!BD(u,d))return D;D.setOptions(m).then(function(C){!w&&m.onFirstUpdate&&m.onFirstUpdate(C)});function S(){p.orderedModifiers.forEach(function(C){var A=C.name,N=C.options,L=N===void 0?{}:N,F=C.effect;if(typeof F=="function"){var H=F({state:p,name:A,instance:D,options:L}),j=function(){};g.push(H||j)}})}function T(){g.forEach(function(C){return C()}),g=[]}return D}}var W9=[XT,oE,QT,d9,aE,nE,iE,KT,rE],lE=sE({defaultModifiers:W9}),$9=typeof Element<"u",q9=typeof Map=="function",G9=typeof Set=="function",J9=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Qg(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Qg(e[r],t[r]))return!1;return!0}var o;if(q9&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Qg(r.value[1],t.get(r.value[0])))return!1;return!0}if(G9&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(J9&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;if($9&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((a[r]==="_owner"||a[r]==="__v"||a[r]==="__o")&&e.$$typeof)&&!Qg(e[a[r]],t[a[r]]))return!1;return!0}return e!==e&&t!==t}var K9=function(t,n){try{return Qg(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Q9=Xn(K9);var X9=[],Zv=function(t,n,r){r===void 0&&(r={});var a=O.useRef(null),o={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||X9},s=O.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=s[0],d=s[1],m=O.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(D){var S=D.state,T=Object.keys(S.elements);b1.flushSync(function(){d({styles:kD(T.map(function(C){return[C,S.styles[C]||{}]})),attributes:kD(T.map(function(C){return[C,S.attributes[C]]}))})})},requires:["computeStyles"]}},[]),p=O.useMemo(function(){var w={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[m,{name:"applyStyles",enabled:!1}])};return Q9(a.current,w)?a.current||w:(a.current=w,w)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,m]),g=O.useRef();return AD(function(){g.current&&g.current.setOptions(p)},[p]),AD(function(){if(!(t==null||n==null)){var w=r.createPopper||lE,D=w(t,n,p);return g.current=D,function(){D.destroy(),g.current=null}}},[t,n,r.createPopper]),{state:g.current?g.current.state:null,styles:u.styles,attributes:u.attributes,update:g.current?g.current.update:null,forceUpdate:g.current?g.current.forceUpdate:null}},e5=function(){},t5=e5;const n5=Xn(t5),r5=(e,t)=>({placement:e,modifiers:[{name:"flip",options:{allowedAutoPlacements:t,rootBoundary:"document"}},{name:"preventOverflow",options:{rootBoundary:"document"}}]}),a5=e=>{const n=O.useRef(null),[r,a]=O.useState(null),[o,s]=O.useState(0);let u,d;const m=()=>{if(E.Platform.isMobile){u="right-end",d=["bottom"];return}const g=window.innerWidth-o>280*1.2,w=window.innerWidth-o<280,D=window.innerWidth>280*1.5;if(e.DefaultEditorLocation!=="Bottom"){g?(u="right-end",d=["left-end"]):w&&D?(u="left-end",d=["right-end"]):(u="bottom",d=["bottom"]);return}g?(u="top-end",d=["top-start"]):w&&o>280?(u="top-start",d=["top-end"]):(u="top",d=["top"])};O.useEffect(()=>{e&&m()},[o,e==null?void 0:e.DefaultEditorLocation]);const p=Zv(n.current,r,r5(u,d));return{setPosX:s,popperRef:n,setPopperElement:a,popper:p}},o5=()=>{const e=new Set,t=We.getState().query.filter,n=We.getState().query.tag,r=tn.getQueryById(t||"");if(r&&r.querystring){const a=JSON.parse(r.querystring);if(Array.isArray(a))for(const o of a)o.type==="TAG"&&o.value&&o.value.operator==="CONTAIN"&&e.add(o.value.value)}return n&&e.add(n),Array.from(e)},i5=e=>{const{offsetLeft:t,offsetTop:n,offsetHeight:r,offsetWidth:a,selectionEnd:o}=e,s=document.createElement("div"),u=window.getComputedStyle(e);for(const T of u)s.style.setProperty(T,u.getPropertyValue(T));s.style.position="fixed",s.style.visibility="hidden",s.style.whiteSpace="pre-wrap";const m=e.tagName==="INPUT"?e.value.replace(/ /g,"."):e.value;s.textContent=m.substring(0,o||0),e.tagName==="TEXTAREA"&&(s.style.height="auto");const p=document.createElement("span");p.textContent=m.substring(o||0)||".",s.appendChild(p),document.body.appendChild(s);const{offsetLeft:g,offsetTop:w,offsetHeight:D,offsetWidth:S}=p;return document.body.removeChild(s),{x:t+g,y:n+w,h:r+D,w:a+S}},xd=({className:e,editorType:t,destroy:n})=>{const{globalState:r,dailyNotesState:{app:a,settings:o,view:s,verifyState:u}}=O.useContext(wt),[d,m]=_o(!0),p=O.useRef(d),[g,w]=Br(!0),D=O.useRef(null),S=O.useRef(null),T=O.useRef(r),[C,A]=Br(!1),[N,L]=Br(!1),{setPosX:F,popperRef:H,setPopperElement:j,popper:_}=a5(o),[V]=Br(parseInt(E.moment().format("x"))),U=O.useRef(null),[z,q]=Br((o==null?void 0:o.EnabledLocationList.length)===1?o==null?void 0:o.EnabledLocationList[0].value:(o==null?void 0:o.MemoSaveLocation)||"DAILY"),ee=O.useRef(o.MemoSaveLocation||"DAILY");O.useEffect(()=>{p.current=d},[d]),O.useEffect(()=>{!S.current||!a||!s||(s.registerEvent(a.workspace.on("focus-on-textarea",Se=>{var Ue;(Ue=S.current)==null||Ue.focus(Se==null?void 0:Se.id)})),s.registerEvent(a.workspace.on("blur-on-memos",()=>{var Se;(Se=S.current)==null||Se.blur()})),s.registerEvent(a.workspace.on("send-to-thino",async(Se,Ue)=>{var Je,$e;if(typeof Se=="string")(Je=S.current)==null||Je.insertText(Se+`
`,Ue.id);else{const lt=Se.toPNG(),ft=new Blob([lt],{type:"image/png"}),Dt=new File([ft],"image.png",{type:"image/png",lastModified:Date.now()});if(!Dt)return;const Et=await se(Dt);Et&&(($e=S.current)==null||$e.insertText(Et+`
`,Ue.id))}})))},[S,s,a]),O.useEffect(()=>{o&&m(o.DefaultPrefix==="List")},[o==null?void 0:o.DefaultPrefix]),O.useEffect(()=>{if(o){if(o.EnabledLocationList.length===1){q(o.EnabledLocationList[0].value);return}q(o.MemoSaveLocation||"DAILY")}},[o==null?void 0:o.MemoSaveLocation,o==null?void 0:o.EnabledLocationList]),O.useEffect(()=>{var Je;if(!o||!U.current)return;const Se=(Je=Md.find($e=>$e.title===z))==null?void 0:Je.icon;E.setIcon(U.current,Se),E.requireApiVersion("1.4.4")&&E.setTooltip(U.current,k("Thino Save To: ")+z),ee.current=z;const Ue=r.manifest;if(Ue){const $e=a==null?void 0:a.plugins.getPlugin(Ue.id);if($e){if($e.settings.MemoSaveLocation===z)return;$e.settings.MemoSaveLocation=z,$e.saveSettings()}}},[z,g]),O.useEffect(()=>{S.current&&o.MemoSaveLocation&&q(o.MemoSaveLocation)},[U,o]),O.useEffect(()=>{if(!S.current||!o||E.Platform.isDesktop||r.globalEditorShown)return;const Se=E.Platform.isMobile===!0,Ue=o.UseButtonToShowEditor&&o.DefaultEditorLocation==="Bottom";if(E.Platform.isDesktop){w(!0);return}if(w(Se&&!Ue),t&&t==="inline")return;const Je=document.body.find(".memolist-wrapper");Je&&(Je.onscroll=()=>{if(r.globalEditorShown)return;const $e=S.current.getContent();Se&&Ue&&!$e&&w(!1)})},[r.globalEditorShown,S,o==null?void 0:o.UseButtonToShowEditor,o==null?void 0:o.DefaultEditorLocation]);const ce=()=>{L(!1)};O.useEffect(()=>{var Se,Ue,Je,$e,lt,ft,Dt,Et;if(r.markMemoId){const $t=`${k("MARK")}: [@THINO](${r.markMemoId})`;(Se=S.current)==null||Se.insertText($t),(Ue=S.current)==null||Ue.focus(),Qe.setMarkMemoId("");return}if((Je=r.editMemoId)!=null&&Je.trim()&&r.editMemoId!==T.current.editMemoId){const $t=Te.getMemoById(r.editMemoId);if($t)switch(o.EditorType){case"memos":($e=S.current)==null||$e.setContent($t.content.replace(/ \^\S{6}$/,"")||""),(lt=S.current)==null||lt.focus();break;case"obsidian":(ft=S.current)==null||ft.clear(),(Dt=S.current)==null||Dt.setContent($t.content.replace(/ \^\S{6}$/,"")||""),(Et=S.current)==null||Et.focus();break}}T.current=r},[r.markMemoId,r.editMemoId]),O.useEffect(()=>{var Se,Ue,Je;!S.current||C||o.EditorType==="memos"&&((Se=S.current)==null||Se.element.addEventListener("paste",fe),(Ue=S.current)==null||Ue.element.addEventListener("drop",ie),(Je=S.current)==null||Je.element.addEventListener("click",he),A(!0))},[S.current]);const fe=async Se=>{var Ue;if(Se.clipboardData&&Se.clipboardData.files.length>0){Se.preventDefault();const Je=Se.clipboardData.files;for(const $e of Je){const lt=await se($e);lt&&((Ue=S.current)==null||Ue.insertText(lt))}}},ie=async Se=>{var Ue;if(Se.dataTransfer&&Se.dataTransfer.files.length>0){Se.preventDefault();const Je=Se.dataTransfer.files;for(const $e of Je){const lt=await se($e);lt&&((Ue=S.current)==null||Ue.insertText(lt))}}},he=()=>{var Se;$(((Se=S.current)==null?void 0:Se.element.value)||"")},Ie=async(Se,Ue)=>{var lt,ft,Dt;const Je=Se.ctrlKey||Se.metaKey,$e=Se.altKey;if(Se.key==="Escape"&&r.globalEditorShown&&(Qe.setGlobalEditorShown(!1),Se.preventDefault()),Je&&Se.key==="Enter"){Se.preventDefault(),Se.stopPropagation(),Ue?(await we((ft=S.current)==null?void 0:ft.getContent()),(Dt=S.current)==null||Dt.clear()):await we((lt=S.current)==null?void 0:lt.element.value);return}if($e)for(let Et=0;Et<o.EnabledLocationList.length;Et++)Se.key===(Et+1).toString()&&q(o.EnabledLocationList[Et].value);setTimeout(()=>{var Et;Ue||$(((Et=S.current)==null?void 0:Et.element.value)||"")})},se=O.useCallback(async Se=>{const{type:Ue}=Se;if(Ue.startsWith("image"))try{return`${await w1.upload(Se)}`}catch(Je){new E.Notice(Je)}},[]),we=async Se=>{if(!Se||Se.trim()===""){new E.Notice(k("Content cannot be empty"));return}const Ue=rt.getState().settings,Je=Ue==null?void 0:Ue.addTagAutomatically,$e=Ue==null?void 0:Ue.addTagWithNewline,lt=Ue==null?void 0:Ue.addTagPosition,Dt=(o5()||[]).filter(At=>!Se.includes(`#${At}`)),Et=async(At,an)=>{an=an.replaceAll("&nbsp;"," "),Og("");try{if(!At){let In;switch(ee.current){case"CANVAS":In=await Te.createMemoCanvas({text:an,isList:p.current});break;case"MULTI":In=await Te.createMemoMultiFile({content:an,isList:p.current});break;case"DAILY":In=await Te.createMemoDaily(an,p.current);break;case"FILE":In=await Te.createMemoSingleFile({content:an,isList:p.current});break}if(!In)return;Te.pushMemo(In),(!Je||Dt.length===0)&&We.clearQuery();const vr=a||rt.getState().app,Sa=vr==null?void 0:vr.loadLocalStorage("tokenForSync");In&&Sa&&o.startSync&&setTimeout(async()=>{const Mr=await AT({content:an,thinoType:ee.current==="DAILY"?"DAILY":"FILE"});await Te.updateMemoById(In.id,Mr,!0)},200);return}const Sn=Te.getMemoById(At);if(Sn&&Sn.content!==an){const In=await Te.updateMemo(Sn.id,an,p.current?"JOURNAL":"TASK-TODO");In.updatedAt=Re.getDateTimeString(Date.now()),Te.editMemo(In)}Qe.setEditMemoId("")}catch(Sn){new E.Notice(Sn.message)}},{editMemoId:$t}=Qe.getState(),rn=Dt&&Dt.length>0&&Je?lt==="Beginning"?`${Dt.map(At=>`#${At}`).join(" ")} ${$e?`
`:""}${Se}`:`${Se} ${$e?`
`:""}${Dt.map(At=>`#${At}`).join(" ")}`:Se;await Et($t,rn),n&&n(),Og("")},W=O.useCallback(()=>{var Se;Qe.setEditMemoId(""),(Se=S.current)==null||Se.setContent(""),Og("")},[]),$=O.useCallback(Se=>{if(Og(Se??""),!S.current)return;const Ue=S.current.getContent(),Je=S.current.element.selectionStart,$e=Ue.slice(0,Je),lt=Ue.slice(Je);($e.endsWith("@")||$e.endsWith("üìÜ"))&&lt.startsWith(" ")||($e.endsWith("@")||$e.endsWith("üìÜ"))&&lt===""?(Be(),L(!0)):L(!1),setTimeout(()=>{var ft;(ft=S.current)==null||ft.focus()})},[o.EditorType]),X=Se=>{if(!S.current||!o)return;Se&&(ce(),m(!1));const Ue=S.current.getContent(),Je=S.current.element.selectionStart,$e=Ue.slice(0,Je),lt=Ue.slice(Je),ft=E.moment(Se);if($e.endsWith("@"))switch(o.InsertDateFormat){case"Dataview":S.current.element.value=Ue.slice(0,S.current.element.selectionStart-1)+"[due::"+ft.format("YYYY-MM-DD")+"]"+lt,S.current.element.setSelectionRange(Je+17,Je+17),S.current.focus(),$(S.current.element.value);break;case"Tasks":S.current.element.value=Ue.slice(0,S.current.element.selectionStart-1)+"üìÜ"+ft.format("YYYY-MM-DD")+lt,S.current.element.setSelectionRange(Je+11,Je+11),S.current.focus(),$(S.current.element.value)}else{S.current.element.value=$e+ft.format("YYYY-MM-DD")+lt,S.current.element.setSelectionRange(Je+10,Je+10),S.current.focus(),$(S.current.element.value);return}},ve=()=>{S.current&&m()},De=async()=>{var Je;const Se=!E.Platform.isDesktop&&await((Je=window.Capacitor)==null?void 0:Je.Plugins.Device.getId()),Ue=E.Platform.isDesktop?await zn():Se.identifier||Se.uuid;return!u||(u==null?void 0:u.appId)!==Ue?(fn(),!1):!0},be=async Se=>{if(!await De())return;const Ue=new E.Menu;o.EnabledLocationList.forEach(ft=>{Ue.addItem(Dt=>{var Et;Dt.setTitle(ft.value).setIcon(((Et=Md.find($t=>$t.title===ft.value))==null?void 0:Et.icon)??"file").setChecked(z===ft.value).onClick(()=>{q(ft.value)})})});let Je=Se.target,$e=null;for(;!Je.hasClass("location-wrapper")&&($e=Je.parentElement,$e);)Je=$e;const lt=Je.getBoundingClientRect();setTimeout(()=>{Ue.showAtPosition({x:lt.x,y:lt.bottom,width:lt.width,left:!1,overlap:!0})},200)},ke=O.useCallback(()=>{var Se,Ue;if(!(!S.current&&o.EditorType==="memos"))switch(o.EditorType){case"obsidian":(Se=S.current)==null||Se.focus(),(Ue=a==null?void 0:a.commands)==null||Ue.executeCommandById("editor:insert-tag");break;case"memos":{const Je=S.current.getContent(),$e=S.current.element.selectionStart,lt=Je.slice(0,$e),ft=Je.slice($e);let Dt=lt+"# "+ft,Et=lt.length+1;lt.endsWith("#")&&ft.startsWith(" ")&&(Dt=lt.slice(0,lt.length-1)+ft.slice(1),Et=lt.length-1),S.current.element.value=Dt,S.current.element.setSelectionRange(Et,Et),S.current.focus();const $t=new Event("input",{bubbles:!0,cancelable:!0});S.current.element.dispatchEvent($t),$(S.current.element.value)}}},[a]),Be=O.useCallback(()=>{if(!S.current||!H.current||!o||!a)return;const Je=a.workspace.getLeavesOfType(Hr)[0].view.containerEl,$e=280,lt=Je.clientWidth,{x:ft,y:Dt}=i5(S.current.element);let Et,$t;E.Platform.isMobile?(window.innerWidth-ft>$e?Et=(ft+$e+16>lt,ft+18):window.innerWidth-ft<$e?Et=(ft+$e+16>lt,ft+34):Et=S.current.element.clientWidth/2,o.DefaultEditorLocation==="Bottom"&&window.innerWidth>875?$t=Dt+4:o.DefaultEditorLocation==="Bottom"&&window.innerWidth<=875?$t=Dt+19:o.DefaultEditorLocation==="Top"&&window.innerWidth<=875&&($t=Dt+36)):(Et=(ft+$e+16>lt,ft+18),$t=Dt+34),F(ft),H.current.style.left=`${Et}px`,H.current.style.top=`${$t}px`},[o,a]),_e=O.useCallback(()=>{const Se=document.createElement("input");document.body.appendChild(Se),Se.type="file",Se.multiple=!1,Se.accept="image/png, image/gif, image/jpeg",Se.onchange=async()=>{var $e;if(!Se.files||Se.files.length===0)return;const Ue=Se.files[0],Je=await se(Ue);Je&&(($e=S.current)==null||$e.insertText(Je)),document.body.removeChild(Se)},Se.click()},[]),it=!!r.editMemoId,Vt=O.useMemo(()=>({className:"memo-editor",inputerType:o.EditorType||"obsidian",initialContent:s5(),placeholder:k("What do you think now..."),showConfirmBtn:!0,showCancelBtn:it,showTools:!0,onConfirmBtnClick:we,onCancelBtnClick:W,onContentChange:$}),[it,o.EditorType]);return y.jsxs(y.Fragment,{children:[!r.globalEditorShown&&t==="block"&&y.jsx("div",{ref:Se=>{D.current=Se,Se&&E.setIcon&&E.setIcon(Se,"plus-circle")},className:`memo-show-editor-button ${g?"hidden":""}`,onClick:()=>{var Se;(Se=D.current.firstElementChild)==null||Se.toggleClass("rotate-hidden",!0),setTimeout(()=>{w(!0),D.current.firstElementChild.toggleClass("rotate-hidden",!1)},500),setTimeout(()=>{var Ue;(Ue=S.current)==null||Ue.focus()},600)}}),y.jsxs("div",{className:`memo-editor-wrapper ${e||""} ${it?"edit-ing":""} ${r.globalEditorShown?"fullscreen-editor":""} ${g?"":"hidden"}`,onKeyDownCapture:Se=>Ie(Se,!0),children:[y.jsx("span",{className:`tip-text ${it?"":"hidden"}`,children:"Modifying..."}),y.jsx($8,{ref:S,...Vt,tools:y.jsxs(y.Fragment,{children:[y.jsx("span",{ref:Se=>{Se&&E.setIcon(Se,"hash")},className:"btn action-btn add-tag",onClick:()=>{o&&o.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&ke()},onPointerDown:()=>{(o&&o.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&ke()}}),y.jsx("span",{ref:Se=>{Se&&E.setIcon(Se,"paperclip")},className:"btn action-btn file-upload",onClick:()=>{o&&o.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&_e()},onPointerDown:()=>{(o&&o.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&_e()}}),y.jsx("span",{ref:Se=>{Se&&E.setIcon(Se,d?"layout-list":"check-square")},className:mr("btn action-btn list-or-task",d?"list":"task"),onClick:()=>{o&&o.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&ve()},onPointerDown:()=>{(o&&o.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&ve()}}),y.jsx("div",{ref:Se=>{Se&&(E.setIcon&&E.setIcon(Se,r.globalEditorShown?"shrink":"expand"),E.setTooltip&&E.setTooltip(Se,r.globalEditorShown?k("Exit fullscreen mode"):k("Enter fullscreen mode")))},className:"action-btn show-editor pro",onPointerDown:async()=>{await De()&&(w(!0),Qe.setGlobalEditorShown(!r.globalEditorShown))}}),y.jsx("div",{className:"action-btn split-line pro"}),y.jsx("div",{className:"action-btn location-wrapper pro",onClick:async Se=>{o&&o.DefaultEditorLocation==="Top"&&!r.globalEditorShown&&await be(Se)},onPointerDown:async Se=>{(o&&o.DefaultEditorLocation==="Bottom"||r.globalEditorShown)&&await be(Se)},children:y.jsx("div",{ref:U,className:"action-btn file-location-btn"})})]})}),y.jsx("div",{ref:H,className:"date-picker",children:N&&y.jsx("div",{tabIndex:-1,style:_.styles.popper,..._.attributes.popper,ref:j,role:"dialog",children:y.jsx(Am,{className:`editor-date-picker ${N?"":"hidden"}`,datestamp:V,handleDateStampChange:X})})})]})]})};function s5(){return Kn.get(["thinoEditorContentCache"]).thinoEditorContentCache??""}function Og(e){Kn.set({thinoEditorContentCache:e})}const l5=e=>{const t=[];return e.map(n=>{t.length==0?t.push({date:E.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]}):t.some(a=>{if(a.date==E.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"))return a.have.push(n),!0})||t.push({date:E.moment(n.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),have:[n]})}),t},c5=e=>Te.getState().commentMemos.filter(t=>t.linkId===e.hasId).sort((t,n)=>Re.getTimeStampByDate(t.createdAt)-Re.getTimeStampByDate(n.createdAt)).map(t=>({...t,createdAtStr:Re.getDateTimeString(t.createdAt),dateStr:Re.getDateString(t.createdAt)})),u5=e=>{const t=rt.getState().settings,n=mN(),r=t!=null&&t.ShowDate?"    ":"",a="YYYY/MM/DD HH:mm:ss",o=/comment:(.*)$/g,s=/^\d{14}/g,u=(g,w,D)=>{const S=E.moment(g.createdAt,a).format("HH:mm");return D?D.replace(/{TIME}/g,S).replace(/{CONTENT}/g,w):`${S} ${w}`},d=g=>{const w=g.match(/TASK-(.*)?/g);return w?w[1]:""},m=g=>g==="TASK-TODO"?"- [ ] ":g==="TASK-DONE"?"- [x] ":g.match(/TASK-(.*)?/g)?`- [${d(g)}] `:"- ",p=g=>g.reduce((w,D)=>{const S=D.sourceType!=="MULTI"?`${D.content}`:`[[${D.path}]]`,T=t!=null&&t.ShowTime?u(D,S,t==null?void 0:t.DefaultMemoComposition):S,C=`${m(D.thinoType)}${T}`;let A="";return t.CommentOnMemos&&D.hasId!==void 0&&D.hasId!==""&&(A=c5(D).reduce((L,F)=>{const H=m(F.thinoType),j=F.content.replace(o,"").replace(s,""),_=t!=null&&t.ShowDate?`${H}[[${E.moment(F.createdAt).format(n)}]] ${E.moment(F.createdAt).format("HH:mm")} ${j}`:`${H}${j}`;return L+r+"    "+_+`
`},"")),w+r+C.replace(/ \^\S{6}/g,"")+`
`+A},"");return e.reduce((g,w)=>{const D=t!=null&&t.ShowDate?`- [[${E.moment(w.date,"YYYY-MM-DD").format(n)}]]
`:"",S=p(w.have),T=t!=null&&t.ShowDate&&(t!=null&&t.AddBlankLineWhenDate)&&!(t!=null&&t.CommentOnMemos)?`
`:"";return g+D+S+T},"").replace(/<br>/g,`
    `)},d5=[{label:k("Today"),value:E.moment().format("YYYY-MM-DD")},{label:k("Yesterday"),value:E.moment().subtract(1,"days").format("YYYY-MM-DD")},{label:k("Last 7 days"),value:E.moment().subtract(7,"days").format("YYYY-MM-DD")},{label:k("Last 30 days"),value:E.moment().subtract(30,"days").format("YYYY-MM-DD")},{label:k("Last 90 days"),value:E.moment().subtract(90,"days").format("YYYY-MM-DD")},{label:k("Last 180 days"),value:E.moment().subtract(180,"days").format("YYYY-MM-DD")},{label:k("Last 365 days"),value:E.moment().subtract(365,"days").format("YYYY-MM-DD")}],cE=e=>{const{handleValueChange:t,setShownStatus:n}=e;return y.jsxs(y.Fragment,{children:[e.type==="icon"&&y.jsx("div",{className:"quick-date-btn-group",children:d5.map((r,a)=>y.jsx("div",{className:"btn action-btn quick-date-btn",onClick:()=>{t(r.value),n&&n(!1)},children:r.label},a))}),y.jsx(Am,{className:"calendar-date-picker",datestamp:(e==null?void 0:e.defaultValue)||E.moment().startOf("day").valueOf(),handleDateStampChange:(r,a)=>{t(e.type==="icon"?E.moment(r).format("YYYY-MM-DD"):r.toString()),n&&n(!1)}})]})},pv=e=>{const{handleValueChange:t}=e,[n,r]=J.useState(!1),a=J.useRef(null),o=J.useRef(null),s=Zv(o.current,a.current,{placement:"bottom-start"});return km(a,()=>{r(!1)}),y.jsxs(y.Fragment,{children:[y.jsx("span",{ref:d=>{o.current=d,d&&e.type==="icon"&&E.setIcon(d,"calendar")},className:`btn calendar-btn ${e.type==="icon"?"icon-btn":"text-btn"}`,onClick:()=>{!E.Platform.isMobile&&r(!n),!E.Platform.isMobile&&(s!=null&&s.update)&&(s==null||s.update()),E.Platform.isMobile&&new uE(rt.getState().app,e.type,t).open()},children:e.type==="text"&&e.defaultValue?e.defaultText?e.defaultText:E.moment(e.defaultValue,"x").subtract(e.startOrEnd==="end"?1:0,"days").format("YYYY/MM/DD"):""}),y.jsx("div",{className:`menu-btns-popup ${n?"":"hidden"}`,ref:a,style:s.styles.popper,children:y.jsx(cE,{type:e.defaultText?"icon":e.type,handleValueChange:t,setShownStatus:r})})]})};class uE extends E.Modal{constructor(n,r,a){super(n);me(this,"root");me(this,"type");me(this,"handleValueChange");this.type=r,this.handleValueChange=a}onOpen(){const{contentEl:n}=this;this.root=Hv(n),this.root.render(y.jsx(cE,{type:this.type,handleValueChange:this.handleValueChange.bind(this),setShownStatus:r=>{!r&&this.close()}}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const f5=(e,t)=>(e%t+t)%t;class h5{constructor(t,n,r){me(this,"owner");me(this,"values");me(this,"suggestions");me(this,"selectedItem");me(this,"containerEl");this.owner=t,this.containerEl=n,n.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),n.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),r.register([],"ArrowUp",a=>{if(!a.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),r.register([],"ArrowDown",a=>{if(!a.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),r.register([],"Enter",a=>{if(!a.isComposing)return this.useSelectedItem(a),!1})}onSuggestionClick(t,n){t.preventDefault();const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,n){const r=this.suggestions.indexOf(n);this.setSelectedItem(r,!1)}setSuggestions(t){this.containerEl.empty();const n=[];t.forEach(r=>{const a=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(r,a),n.push(a)}),this.values=t,this.suggestions=n,this.setSelectedItem(0,!1)}useSelectedItem(t){const n=this.values[this.selectedItem];n&&this.owner.selectSuggestion(n,t)}setSelectedItem(t,n){const r=f5(t,this.suggestions.length),a=this.suggestions[this.selectedItem],o=this.suggestions[r];a==null||a.removeClass("is-selected"),o==null||o.addClass("is-selected"),this.selectedItem=r,n&&o.scrollIntoView(!1)}}class dE{constructor(t,n){me(this,"inputEl");me(this,"popper");me(this,"scope");me(this,"suggestEl");me(this,"suggest");me(this,"cb");this.inputEl=t,this.scope=new E.Scope,this.cb=n,this.suggestEl=createDiv("suggestion-container");const r=this.suggestEl.createDiv("suggestion");this.suggest=new h5(this,r,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("click",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",a=>{a.preventDefault()})}clearInput(){this.inputEl.value="",this.inputEl.trigger("blur"),this.inputEl.trigger("focus"),this.inputEl.trigger("input"),this.onInputChanged()}onInputChanged(){const t=this.inputEl.value,n=this.getSuggestions(t);if(!n){this.close();return}n.length>0?(this.suggest.setSuggestions(n),this.open(app.dom.appContainerEl,this.inputEl)):this.close()}open(t,n){app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=lE(n,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:r,instance:a})=>{const o=`${r.rects.reference.width}px`;r.styles.popper.width!==o&&(r.styles.popper.width=o,a.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper&&this.popper.destroy(),this.suggestEl.detach()}destroy(){this.inputEl.removeEventListener("input",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.removeEventListener("blur",this.close.bind(this)),this.close()}updateCb(t){this.cb=t}}const m5=e=>{const t=e.metadataCache.getTags();return[...Object.keys(t)].map(n=>n.split("#").pop())};let fE=class extends dE{fuzzySearchItemsOptimized(t,n){const r=E.prepareFuzzySearch(t);return n.map(a=>{const o=r(a);return o?{item:a,match:o,score:o.score}:null}).sort((a,o)=>(o==null?void 0:o.score)-(a==null?void 0:a.score)).filter(Boolean)}getSuggestions(t){const{settings:n,app:r}=rt.getState(),a=t.toLocaleLowerCase(),o=n.UseVaultTags?m5(r):Te.getState().tags;return this.fuzzySearchItemsOptimized(a,o).map(s=>s.item)}renderSuggestion(t,n){n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:t})}selectSuggestion(t){this.inputEl.value=t,this.inputEl.dispatchEvent(new Event("change")),this.cb&&this.cb(t),this.close()}};const p5=e=>{const t=new Set;return e.forEach(n=>{const r=new RegExp(An).exec(n.content),a=new RegExp($n).exec(n.content);if(r)for(let o=1;o<r.length;o++)t.add(r[o]);if(a)for(let o=1;o<a.length;o++)t.add(a[o])}),Array.from(t)},g5=({app:e,thinos:t,closeDialog:n})=>{const[r,a]=J.useState([]),[o,s]=J.useState([]),[u,d]=J.useState([]),m=J.useRef(null),p=J.useRef(null),g=J.useRef(null),w=J.useRef("End"),D=J.useRef(!1),S=J.useRef(null);O.useEffect(()=>{t&&t.length&&a(p5(t))},[t]),O.useEffect(()=>{!g.current||!p.current||(new E.Setting(p.current).setName(k("Add tag position")).addDropdown(N=>{N.addOption("End",k("End")),N.addOption("Beginning",k("Beginning")),N.setValue("End").onChange(async L=>{w.current=L})}),new E.Setting(g.current).setName(k("Add tag with new line")).addToggle(N=>{N.setValue(!1).onChange(async L=>{D.current=L})}))},[]);const T=N=>{if(!N)return;const L=new Set(o);L.add(N),s(Array.from(L)),m.current.clearInput()};O.useEffect(()=>{if(S.current){if(m.current){m.current.updateCb(T);return}m.current=new fE(S.current,T)}},[S.current,o]);const C=()=>{n(),A({remove:u,add:o,targetThinos:t})},A=async({remove:N,add:L,targetThinos:F})=>{const H=D.current||!1,j=[];for(const _ of F){let V=_.content;for(const U of N)V=V.replace(new RegExp(`#${U}`,"g"),"");if(V=V.trim(),L.length>0&&(V=w.current==="Beginning"?`${L.map(U=>`#${U}`).join(" ")} ${H?`
`:""}${V}`:`${V} ${H?`
`:""}${L.map(U=>`#${U}`).join(" ")}`),_&&_.content!==V){const U=await Te.updateMemo(_.id,V==null?void 0:V.trim());j.push(U)}}j.length>0&&Te.editMemoBulk(j),j.length>0&&We.clearQuery()};return y.jsxs("div",{className:"thino-tag-operation",children:[y.jsx("div",{className:"tag-operation-title",children:k("Tag Bulk Edit")}),y.jsxs("div",{className:"tag-operation-content",children:[y.jsxs("div",{className:"tag-operation-content-title exist-tags",children:[y.jsx("div",{className:"name",children:k("Exist Tags")}),y.jsx("div",{className:"desc",children:k("Click to remove exist tag")})]}),y.jsx("div",{className:"tag-operation-content-tags exist-tags",children:r.map(N=>y.jsx("div",{className:mr("tag-operation-content-tag",u.includes(N)&&"tag-operation-content-tag-removed"),onClick:()=>{u.includes(N)||d([...u,N]),u.includes(N)&&d(u.filter(L=>L!==N)),o.includes(N)&&s(o.filter(L=>L!==N))},children:N},N))}),y.jsxs("div",{className:"tag-operation-content-title selected-tags",children:[y.jsx("div",{className:"name",children:k("Selected Tags")}),y.jsx("div",{className:"desc",children:k("Click to remove selected tag")})]}),y.jsx("div",{className:"tag-operation-content-tags selected-tags",children:o.map(N=>y.jsx("div",{className:"tag-operation-content-tag",onClick:()=>{s(o.filter(L=>L!==N))},children:N},N))}),y.jsx("div",{className:"tag-operation-content-inputer",children:y.jsx("input",{placeholder:k("Input to select exist tag"),ref:S})}),y.jsxs("div",{className:"tag-operation-settings",children:[y.jsx("div",{ref:p}),y.jsx("div",{ref:g})]}),y.jsxs("div",{className:"tag-operation-content-btn-group",children:[y.jsx("button",{className:"cancel-btn",onClick:n,children:k("Cancel")}),y.jsx("button",{className:"save-btn",onClick:C,children:k("Save")})]})]})]})},Ow=new Map,Jh=async(e,t=!0)=>{const{vault:n,metadataCache:r}=rt.getState().app;if(t&&Ow.has(e))return Promise.resolve(Ow.get(e));if(e.contains("data:image"))return e;let a;const o=await n.adapter.exists(e);let s="";try{if(!o&&!/(http|https)/g.test(e)&&!e.includes("data:image")){const u=r.getFirstLinkpathDest(e,"");if(!u){new E.Notice(k("File not exist"));return}s=u.path}else s=e}catch(u){console.error(u)}if(s){if(/(http|https)/g.test(s))try{const u=await E.requestUrl(e),d=new Uint8Array(u.arrayBuffer);a=new Blob([d],{type:"image/png"})}catch{}else if(s){const u=await n.adapter.readBinary(s),d=new Uint8Array(u);a=new Blob([d],{type:"image/png"})}return a?await v5(a,e):""}},v5=(e,t)=>new Promise(n=>{const r=new FileReader;r.onloadend=()=>{const a=r.result;Ow.set(t,a),n(a)},r.readAsDataURL(e)}),Fg=async e=>{if(!e.style.backgroundImage.includes("url(")&&!e.style.backgroundImage.includes("http"))return;const t=e.style.backgroundImage.includes("url(")?e.style.backgroundImage.slice(5,-2):e.style.backgroundImage;return await Jh(t)},y5=async e=>{const t=document.createElement(e.tagName);t.innerHTML=e.innerHTML;const n=async(r,a)=>{if(!r||!a)return;const o=window.getComputedStyle(r);if(r.tagName==="IMG")try{let s="";const u=r.getAttribute("src");u!=null&&u.startsWith("http")&&!u.startsWith("http://localhost")?s=await Jh(r==null?void 0:r.getAttribute("src")):s=await Jh(r.getAttribute("path")||E.normalizePath(r==null?void 0:r.parentElement.getAttribute("src"))),a.src=s}catch(s){console.error(s)}else if(r.hasClass("property-image")||r.hasClass("moments-view-background"))try{const s=r.style.backgroundImage.includes("url(")?r.style.backgroundImage.slice(5,-2):r.style.backgroundImage,u=await Jh(s);a.style.backgroundImage=`url(${u})`}catch(s){console.error(s)}for(const s of o)a.style.setProperty(s,o.getPropertyValue(s),o.getPropertyPriority(s));for(let s=0;s<a.childElementCount;s++)await n(r.children[s],a.children[s])};return await n(e,t),t},w5=async e=>{const t=e.ownerDocument.styleSheets,n=[];for(const a of t)for(const o of a.cssRules)o.constructor.name==="CSSFontFaceRule"&&n.push(o.style);return document.createElement("style")},hE=e=>{const{width:t,height:n}=window.getComputedStyle(e);return{width:parseInt(t.replace("px","")),height:parseInt(n.replace("px",""))}},b5=e=>{const t=new XMLSerializer().serializeToString(e);return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`},D5=(e,t,n)=>{const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg");a.setAttribute("width",`${e}`),a.setAttribute("height",`${t}`),a.setAttribute("viewBox",`0 0 ${e} ${t}`);const o=document.createElementNS(r,"foreignObject");return o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),o.appendChild(n),a.appendChild(o),a},S5=async(e,t)=>{const{width:n,height:r}=hE(e),a=await y5(e);t!=null&&t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor);const o=D5(n,r,a);return o.prepend(await w5(e)),b5(o)},I5=async(e,t)=>{const n=await S5(e,t),r=new Image;r.src=n;const a=(t==null?void 0:t.pixelRatio)||1,{width:o,height:s}=hE(e),u=document.createElement("canvas"),d=u.getContext("2d");return d?(u.width=o*a,u.height=s*a,u.style.width=`${o}`,u.style.height=`${s}`,(t!=null&&t.backgroundColor||document.body.className.contains("theme-dark"))&&(d.fillStyle=t.backgroundColor||"#1f1f1f",d.fillRect(0,0,u.width,u.height)),new Promise(m=>{r.onload=()=>{d.drawImage(r,0,0,u.width,u.height),m(u)}})):Promise.reject("Canvas error")},Pm=async(e,t)=>(await I5(e,t)).toDataURL(),YD=async e=>{e.startsWith("http")&&(e=await Jh(e));const t=e.split("base64,")[1],n=Dm(t,"image/png");await mE(n),new E.Notice(k("Send to clipboard successfully"))},T5=async(e,t)=>{const n=await e.vault.adapter.exists(t);let r="";if(n)r=t;else{const u=e.metadataCache.getFirstLinkpathDest(t,"");if(!u){new E.Notice(k("File not exist"));return}r=u.path}const a=await e.vault.adapter.readBinary(r),o=new Uint8Array(a),s=new Blob([o],{type:"image/png"});await mE(s)},mE=async e=>{const t=new ClipboardItem({"image/png":e});await window.navigator.clipboard.write([t])},zD=1.1,UD=300,VD=20,E5=({destroy:e,imgUrl:t,filepath:n,otherIMGEls:r,currentIndex:a})=>{const o=O.useRef(null),[s,u]=O.useState(-1),d=Ee.getState().dailyNotesState.app,[m,p]=O.useState(a),[g,w]=O.useState(t),D={close:O.useRef(null),previous:O.useRef(null),next:O.useRef(null),decrease:O.useRef(null),increase:O.useRef(null),zoom:O.useRef(null),copy:O.useRef(null)};O.useEffect(()=>{!n&&!t||(E.setIcon(D.close.current,"x"),D.previous.current&&E.setIcon(D.previous.current,"arrow-left"),D.next.current&&E.setIcon(D.next.current,"arrow-right"),E.setIcon(D.decrease.current,"zoom-out"),E.setIcon(D.increase.current,"zoom-in"),E.setIcon(D.zoom.current,"circle"),E.setIcon(D.copy.current,"clipboard"))},[D]),O.useEffect(()=>{Re.getImageSize(g).then(({width:j})=>{u(j!==0?40:0)})},[g]);const S=()=>{let j=m-1;j<0&&(j=r.length-1),p(j),w(r[j].src)},T=()=>{let j=m+1;j>=r.length&&(j=0),p(j),w(r[j].src)},C=()=>{e()},A=()=>{s>30&&u(s-10)},N=()=>{u(s+10)},L=j=>{j.target!==o.current&&j.target===o.current.parentElement&&C()},F=j=>{if(j.ctrlKey){j.preventDefault();const _=o.current,V=j.nativeEvent.offsetX,U=j.nativeEvent.offsetY,z=V/_.clientWidth,q=U/_.clientHeight;let ee;j.deltaY>0?ee=s/zD:ee=s*zD,ee>UD?ee=UD:ee<VD&&(ee=VD);const ce=s;u(ee);const fe=j.currentTarget;fe.scrollLeft+=(ee-ce)*z,fe.scrollTop+=(ee-ce)*q}else j.deltaX!==0&&(j.currentTarget.scrollLeft+=j.deltaX)},H=async()=>{if(g&&!n)await YD(t);else if(n){const _=r[m].parentElement.getAttribute("src");if(!_){await YD(g);return}await T5(d,_)}};return y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:D.close,className:"btn close-btn",onClick:C}),y.jsxs("div",{className:"img-container internal-embed image-embed is-loaded",onClick:L,onWheel:F,children:[y.jsx("img",{className:s<=0?"hidden":"",ref:o,height:s+"%",src:g}),y.jsx("span",{className:"loading-text "+(s===-1?"":"hidden"),children:k("Image is loading...")}),y.jsx("span",{className:"loading-text "+(s===0?"":"hidden"),children:k("üòü Cannot load image, image link maybe broken")})]}),y.jsxs("div",{className:"action-btns-container",children:[r&&(r==null?void 0:r.length)>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:D.previous,className:"btn",onClick:S}),y.jsx("button",{ref:D.next,className:"btn",onClick:T})]}),y.jsx("button",{ref:D.decrease,className:"btn",onClick:A}),y.jsx("button",{ref:D.increase,className:"btn",onClick:N}),y.jsx("button",{ref:D.zoom,className:"btn",onClick:()=>u(80)}),y.jsx("button",{ref:D.copy,className:"btn",onClick:H})]})]})};function jm({imgUrl:e,filepath:t,otherIMGEls:n,currentIndex:r}){Mm({className:"preview-image-dialog"},E5,{...{imgUrl:e,otherIMGEls:n,currentIndex:r},filepath:t})}const vd=async()=>{var r;const{verifyState:e}=rt.getState(),t=!E.Platform.isDesktop&&await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId()),n=E.Platform.isDesktop?await zn():t.identifier||t.uuid;return e&&(e==null?void 0:e.appId)===n},C5=async(e,t)=>{if(!(t!=="chat"&&t!=="moments")){if(t==="moments"){const n=e.querySelectorAll(".thino-moment-icon"),r=e.find(".moments-view-user-icon"),a=e.find(".moments-view-background");for(const o of n){const s=await Fg(o);o.style.backgroundImage=`url(${s})`}if(r){const o=await Fg(r);r.style.backgroundImage=`url(${o})`}if(a){const o=await Fg(a);a.style.backgroundImage=`url(${o})`}}else if(t==="chat"){const n=e.querySelectorAll(".icon-img");for(const r of n){const a=await Fg(r);r.style.backgroundImage=`url(${a})`}}}};class yd extends E.Modal{constructor(t,n,r){super(t),this.title=n,this.cb=r}onOpen(){super.onOpen(),this.containerEl.toggleClass("thino-bulk-action-dialog",!0),this.titleEl.setText(this.title+k("Confirm?")),this.contentEl.createEl("button",{text:k("Confirm?").replace(/\?|Ôºü/,"")}).onclick=()=>{this.cb("confirm"),this.close()},this.contentEl.createEl("button",{text:k("Cancel")}).onclick=()=>{this.cb("cancel"),this.close()}}onClose(){super.onClose()}}class x5 extends E.Modal{constructor(n,r){super(n);me(this,"root");this.thinos=r}onOpen(){super.onOpen(),this.containerEl.toggleClass(["thino-bulk-action-dialog","tag-actions"],!0),this.root=ms.createRoot(this.contentEl),this.root.render(y.jsx(Sl,{store:Ee,context:wt,children:y.jsx(g5,{app:this.app,closeDialog:this.close.bind(this),thinos:this.thinos})}))}onClose(){var n;super.onClose(),(n=this.root)==null||n.unmount()}}const Lm=({thinosCount:e,thinos:t})=>{const{globalState:{memoListView:n},locationState:{query:r,pathname:a},dailyNotesState:{settings:o,app:s}}=O.useContext(wt),{tag:u,duration:d,type:m,text:p,filter:g}=r,w=tn.getQueryById(g),D=!!(u||d&&d.from<d.to||m||p||w),S=O.useRef(null);O.useEffect(()=>{S&&E.setIcon(S.current,"more-horizontal")},[S]);const T=async()=>{if(!((t==null?void 0:t.length)>0))return;const V=l5(t),U=u5(V);await Re.copyTextToClipboard(U),new E.Notice(k("Copied to clipboard Successfully"))},C=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await vd()){fn();return}const V=[...t],U=o.DeleteThinoDirectly;try{for(const z of V)if(U)await Te.deleteMemoById(z.id);else{const q=await Te.hideMemoById(z.id);q&&Te.editMemo(q)}We.clearQuery()}catch(z){console.error("error",z),new E.Notice(z.message)}},A=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await vd()){fn();return}const V=[...t];try{for(const U of V)await Te.deleteMemoById(U.id);We.clearQuery(),new E.Notice(k("DELETE SUCCEED"))}catch(U){console.error("error",U),new E.Notice(U.message)}},N=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await vd()){fn();return}const V=[...t];try{const U=await Te.unarchiveThinoBulk(V);for(const z of U)z&&Te.editMemo(z);new E.Notice(k("RESTORE SUCCEED")),We.clearQuery()}catch(U){console.error("error",U),new E.Notice(U.message)}},L=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await vd()){fn();return}const V=[...t],U=rt.getState().settings.startSync;try{for(const z of V){const q=await Te.restoreMemoById(z.id),ee=rt.getState().app,ce=ee==null?void 0:ee.loadLocalStorage("tokenForSync");q&&q.webId&&ce&&U&&await OT(q.webId),q&&Te.editMemo(q)}We.clearQuery(),new E.Notice(k("RESTORE SUCCEED"))}catch(z){new E.Notice(z.message)}},F=async()=>{if(!((t==null?void 0:t.length)>0))return;if(!await vd()){fn();return}const V=[...t];try{const U=await Te.archiveThinoBulk(V);for(const z of U)z&&Te.editMemo(z);We.clearQuery()}catch(U){console.error("error",U),new E.Notice(U.message)}},H=async()=>{if((t==null?void 0:t.length)>0){if(!await vd()){fn();return}new x5(s,t).open()}},j=async V=>{setTimeout(async()=>{if(new E.Notice(k("Image is generating...")),!V){new E.Notice(k("No content to generate."));return}await C5(V,n);let U;document.body.hasClass("theme-dark")?U="#232323":U="#eaeaea",Pm(V,{backgroundColor:U,pixelRatio:window.devicePixelRatio*2}).then(z=>{if(o!=null&&o.AutoSaveWhenOnMobile&&E.Platform.isMobile){const q=z.split("base64,")[1];Dm(q,"image/png").arrayBuffer().then(async ce=>{let fe;const ie="png",he=Oi();for(const Ie in he)if(he[Ie]instanceof E.TFile){fe=he[Ie];break}fe!==void 0&&await s.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${E.moment().format("YYYYMMDDHHmmss")}`,ie,fe),ce)})}jm({imgUrl:z}),new E.Notice(k("Image generated successfully.")),V.hasClass("share-image")?V.toggleClass("share-image",!1):V.closest(".share-image").toggleClass("share-image",!1)}).catch(z=>{console.error(z)})},0)},_=V=>{const U=new E.Menu;switch(U.addItem(z=>{z.setTitle(k("Copy filtered thinos")).setIcon("copy").onClick(async()=>{await T()})}),U.addItem(z=>{z.setTitle(k("Share filtered thinos as image")).setIcon("image").onClick(async()=>{const q=document.querySelector(".memolist-container");q.toggleClass("share-image",!0);try{if(n==="calendar"){if(q.find(".rbc-agenda-table")){const ee=q.find(".rbc-agenda-table");await j(ee)}}else if(n==="table"){if(q.find(".thino-table")){const ee=q.find(".thino-table");await j(ee)}}else await j(q)}catch(ee){console.error(ee),new E.Notice(k("Failed to generate image.")),q.toggleClass("share-image",!1)}})}),U.addSeparator(),a){case"/":U.addItem(z=>{z.setTitle(k("Bulk tag operation")).setIcon("hash").onClick(async()=>{await H()})}).addItem(z=>{z.setTitle(k("Bulk archive")).setIcon("archive").onClick(async()=>{new yd(s,k("ARCHIVE"),async q=>{q==="confirm"&&await F()}).open()})}).addItem(z=>{z.setTitle(k("Bulk delete")).setIcon("trash").onClick(async()=>{new yd(s,k("DELETE"),async q=>{q==="confirm"&&await C()}).open()})});break;case"/archive":U.addItem(z=>{z.setTitle(k("Bulk restore")).setIcon("archive").onClick(async()=>{new yd(s,k("RESTORE"),async q=>{q==="confirm"&&await N()}).open()})}).addItem(z=>{z.setTitle(k("Bulk delete")).setIcon("trash").onClick(async()=>{new yd(s,k("DELETE"),async q=>{q==="confirm"&&await C()}).open()})});break;case"/recycle":U.addItem(z=>{z.setTitle(k("Bulk restore")).setIcon("archive-restore").onClick(async()=>{new yd(s,k("RESTORE"),async q=>{q==="confirm"&&await L()}).open()})}).addItem(z=>{z.setTitle(k("Bulk delete")).setIcon("trash").onClick(async()=>{new yd(s,k("DELETE"),async q=>{q==="confirm"&&await A()}).open()})});break}U.showAtMouseEvent(V.nativeEvent)};return y.jsxs("div",{className:`filter-query-container ${D?"":"hidden"}`,children:[y.jsxs("div",{className:"filter-query",children:[y.jsx("span",{className:"tip-text",children:k("FILTER")}),y.jsxs("div",{className:"filter-item-container "+(w?"":"hidden"),onClick:()=>{We.setMemoFilter("")},children:[y.jsx("span",{className:"icon-text",children:"üîñ"})," ",w==null?void 0:w.title]}),y.jsxs("div",{className:"filter-item-container "+(u?"":"hidden"),onClick:()=>{We.setTagQuery("")},children:[y.jsx("span",{className:"icon-text",children:"üè∑Ô∏è"})," ",u]}),y.jsxs("div",{className:"filter-item-container "+(m?"":"hidden"),onClick:()=>{We.setMemoTypeQuery("")},children:[y.jsx("span",{className:"icon-text",children:"üì¶"})," ",r8(m)]}),d&&d.from<d.to&&y.jsxs("div",{className:"filter-item-container",children:[y.jsxs("div",{className:"day-picker-component-group",children:[y.jsx("span",{className:"icon-text",children:"üóìÔ∏è"})," ",y.jsx(pv,{type:"text",startOrEnd:"start",defaultValue:E.moment(d.from,"x").valueOf(),handleValueChange:V=>{const U=E.moment(d.to,"x"),z=E.moment(V,"x"),q=z.isAfter(U)||z.isSame(U);We.setFromAndToQuery(q?U.startOf("day").valueOf():E.moment(V,"x").startOf("day").valueOf(),d.to)}}),y.jsx("span",{children:k("to")}),y.jsx(pv,{type:"text",startOrEnd:"end",defaultValue:E.moment(d.to,"x").add(1,"days").valueOf(),handleValueChange:V=>{const U=E.moment(d.from,"x"),z=E.moment(V,"x"),q=z.isBefore(U)||z.isSame(U),ee=E.moment(V,"x").endOf("day").valueOf();We.setFromAndToQuery(d.from,q?U.endOf("day").valueOf():ee)}})]}),y.jsx("div",{ref:V=>V&&E.setIcon(V,"x"),className:"btn close-btn",onClick:()=>{We.setFromAndToQuery(0,0)}})]}),y.jsxs("div",{className:"filter-item-container "+(p?"":"hidden"),onClick:()=>{We.setTextQuery("")},children:[y.jsx("span",{className:"icon-text",children:"üîç"})," ",p]})]}),y.jsxs("div",{className:"thino-filter-items",children:[e&&y.jsx("div",{className:"thinos-count",children:`${e?`${e} Thinos `:""}`}),y.jsx("div",{ref:S,className:"btn memo-action-menu",onClick:_})]})]})},M5=e=>{const{dailyNotesState:{app:t,view:n}}=O.useContext(wt),{memo:r,handleMemoContentClick:a,handleMemoDoubleClick:o}=e,s=J.useRef(null),[u,d]=J.useState("");return O.useEffect(()=>{if(!s.current||s.current.hasChildNodes()&&r.content===u||!n||!t)return;d(r.content),s.current.hasChildNodes()&&s.current.empty(),(async()=>{var g,w;await E.MarkdownRenderer.render(t,r.content+`
`,s.current,r.path,n),(g=s.current)==null||g.toggleClass(["markdown-rendered"],!0);const p=(w=s.current)==null?void 0:w.querySelectorAll(".internal-link");p==null||p.forEach(D=>{const S=D,T=S.getAttribute("data-href");if(!T)return;t.metadataCache.getFirstLinkpathDest(T,r.path)||D.classList.add("is-unresolved"),S.addEventListener("mouseover",A=>{A.stopPropagation(),t.workspace.trigger("hover-link",{event:A,source:"thino",hoverParent:n.containerEl,targetEl:S,linktext:T,sourcePath:S.href})})})})()},[r.content,n,t]),y.jsx("div",{ref:s,className:"memo-content-text",onClick:m=>a(m,r),onDoubleClick:o,onContextMenu:m=>{m.preventDefault()}})},pE=O.memo(M5),N5=e=>{const[t,n]=O.useState({...e.memo,createdAtStr:Re.getDateTimeString(e.memo.createdAt)}),[r,a]=O.useState([]),[o,s]=O.useState([]);O.useEffect(()=>{(async()=>{try{const g=[],w=[...t.content.matchAll(Il)];for(const S of w)if(S&&S.length===3){const T=S[2],C=Te.getMemoById(T);C&&g.push({...C,createdAtStr:Re.getDateTimeString(C.createdAt),dateStr:Re.getDateString(C.createdAt)})}a([...g]);const D=await Te.getLinkedMemos(t.id);s(D.sort((S,T)=>Re.getTimeStampByDate(T.createdAt)-Re.getTimeStampByDate(S.createdAt)).map(S=>({...S,createdAtStr:Re.getDateTimeString(S.createdAt),dateStr:Re.getDateString(S.createdAt)})))}catch(g){console.error(g)}})()},[t.id]);const u=O.useCallback(async p=>{var w;const g=p.target;if(g.className==="memo-link-text"){const D=(w=g.dataset)==null?void 0:w.value,S=Te.getMemoById(D??"");if(S){const T={...S,createdAtStr:Re.getDateTimeString(S.createdAt)};a([]),s([]),n(T)}else new E.Notice(k("Thino not found")),g.classList.remove("memo-link-text")}},[]),d=O.useCallback(p=>{a([]),s([]),n({...p,createdAtStr:Re.getDateTimeString(p.createdAt)})},[t.id]),m=O.useCallback(()=>{e.destroy(),Qe.setEditMemoId(t.id)},[t.id]);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"memo-card-container",children:[y.jsxs("div",{className:"header-container",children:[y.jsx("span",{className:"time-text",children:t.createdAtStr}),y.jsxs("div",{className:"btns-container",children:[y.jsx("button",{ref:p=>{p&&E.setIcon(p,"edit")},className:"btn edit-btn",onClick:m}),y.jsx("button",{ref:p=>{p&&E.setIcon(p,"x")},className:"btn close-btn",onClick:e.destroy})]})]}),y.jsx("div",{className:"memo-container",children:y.jsx("div",{className:"memo-content-text",children:y.jsx(pE,{memo:t,handleMemoContentClick:u,handleMemoDoubleClick:()=>{}})})}),y.jsx("div",{className:"layer-container"})]}),r.length>0?y.jsxs("div",{className:"linked-memos-wrapper",children:[y.jsxs("span",{className:"normal-text",children:[k("LINKED")," ",r.length," THINO"," "]}),r.map(p=>{const g=Hb(mw(p.content)).replaceAll(`
`," ");return y.jsxs("div",{className:"linked-memo-container",onClick:()=>d(p),children:[y.jsxs("span",{className:"time-text",children:[p.dateStr," "]}),g]},p.id)})]}):null,o.length>0?y.jsxs("div",{className:"linked-memos-wrapper",children:[y.jsxs("span",{className:"normal-text",children:[o.length," THINO ",k("LINK TO THE")," THINO"]}),o.map(p=>{const g=Hb(mw(p.content)).replaceAll(`
`," ");return y.jsxs("div",{className:"linked-memo-container",onClick:()=>d(p),children:[y.jsxs("span",{className:"time-text",children:[p.dateStr," "]}),g]},p.id)})]}):null]})};function qd(e){Mm({className:"memo-card-dialog"},N5,{memo:e})}const k5='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="1146.31828" height="801.00361" viewBox="0 0 1146.31828 801.00361" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M1050.69918,514.5082a456.24913,456.24913,0,0,1-37.38013-261.87c3.6001-23.1,9.44006-46.85,24.43018-64.79,14.38989-17.23,39.34985-27.37,60.0299-19.29-13.56994-29.61-47.76-46.5-80.59-47.33-34.09-.86-66.92,12.5-97.25,28.1-30.33,15.6-59.65,33.81006-92.21,43.99-53.5,16.72-111.91,10.34-165.5-6.09-53.58-16.44-103.62-42.47-154.62-65.71-51.01-23.24-104.17-44.03-160.01-48.91-55.84-4.87-115.25,7.89-157.24,45.01s-61.87,101.28-38.27,152.11c14.25,30.7,42.22,54.32,52.04,86.7,12.32,40.65-7.08,83.96-30.41,119.45-23.34,35.49-51.8,69.58-60.47,111.16-8.01,38.38,2.72,78.02,24.05,111.38a197.34468,197.34468,0,0,0,35.74,41.61c43.09,37.91,98.77,58.15,154.17,73.13,200.27,54.17,416.13,49.29,613.75-13.88,34.99-11.18,69.95-24.43,99.32-46.48,19.16-14.38,35.83-33.02,46.39-54.35a114.10574,114.10574,0,0,0,11.13-36.18005C1104.43917,610.17819,1072.9692,562.05819,1050.69918,514.5082Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><g opacity="0.17"><path d="M890.75032,246.45145c9.64171-4.20394-9.91163-6.65119-32.09585-7.45582s-49.02061-.76011-63.19756-3.04875c-13.71114-2.21343-12.7009-6.14907-13.85427-9.71489s-6.42446-7.222-27.81928-8.0147c-26.6607-.98774-70.62581,2.81434-90.75171.53173-18.78121-2.13011-7.61723-8.81182-35.00344-9.06755-15.63837-.146-35.7849,2.05682-53.18577,2.58844-16.33647.49909-28.42216-.53441-36.90357-1.924s-14.38875-3.15126-23.93413-4.37864c-25.06068-3.2224-74.09133-2.13925-117.853,1.99071s-81.27344,10.89816-102.42889,17.60175-27.00029,13.30376-22.07239,18.90071c3.14674,3.574,11.19915,6.91585,30.73235,8.352,36.53555,2.68621,101.58387-1.9375,139.33713.50645,21.0415,1.36213,30.3764,4.73924,48.83812,6.58716,19.83407,1.98528,48.86935,2.09051,77.39656,2.04341,59.39721-.09807,120.3137-.70829,182.42994-1.82747,25.94486-.46745,53.13-1.0752,80.73761-3.30289s55.76623-6.52591,61.59076-10.5553" transform="translate(-26.84086 -49.49819)" fill="#fff"/></g><path d="M1099.25911,172.04818c-.46-1.18-.96-2.35-1.48-3.49.84.33,1.68006.69,2.51,1.08Z" transform="translate(-26.84086 -49.49819)" fill="#6c63ff"/><path d="M648.74482,314.5843c-7.66935-12.68445-16.75721-26.22767-30.98955-30.36953-16.482-4.7965-33.41319,4.73193-47.77473,14.13453a1392.15692,1392.15692,0,0,0-123.89338,91.28311l.04331.49239q46.22556-3.18781,92.451-6.37555c22.26532-1.53546,45.29557-3.2827,64.97195-13.8156,7.46652-3.99683,14.74475-9.33579,23.20555-9.70782,10.51175-.46217,19.67733,6.87923,26.8802,14.54931,42.60732,45.371,54.937,114.7541,102.73817,154.61592A1516.99458,1516.99458,0,0,0,648.74482,314.5843Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M910.64576,699.4127c-4.71168-5.94958-6.63691-7.343-11.28457-13.34761Q842.5968,612.64872,792.65327,534.27272q-33.92353-53.23005-64.48275-108.50439-14.54863-26.27808-28.29961-52.96872-10.67043-20.6952-20.8646-41.63793c-1.94357-3.98781-3.83209-7.99393-5.71122-12.00922-4.42788-9.44232-8.7734-18.93047-13.43942-28.24449-5.31687-10.61571-11.78905-21.74485-21.55259-28.877a29.4049,29.4049,0,0,0-15.31855-5.89457c-7.948-.51337-15.28185,2.76854-22.17569,6.35294-50.43858,26.301-97.65921,59.27589-140.36959,96.79771A730.77781,730.77781,0,0,0,346.39748,485.87843c-1.008,1.43927-3.39163.06418-2.37419-1.38422q6.00935-8.49818,12.25681-16.81288A734.81742,734.81742,0,0,1,543.87972,292.6956q18.24825-11.82579,37.18269-22.54245c6.36206-3.60275,12.75188-7.15967,19.25136-10.49653,6.37147-3.27274,13.13684-6.21547,20.41563-6.32547,24.77011-.385,37.5954,27.667,46.40506,46.54248q4.15283,8.9106,8.40636,17.76626,16.07481,33.62106,33.38729,66.628,10.68453,20.379,21.83683,40.51955,34.7071,62.71816,73.77854,122.897c34.5059,53.1429,68.73651,100.08874,108.04586,149.78473C913.67124,698.84433,911.73706,700.80615,910.64576,699.4127Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M457.9912,345.4352c-1.43911-1.60428-2.86926-3.20856-4.31777-4.81284-11.42244-12.63259-23.6788-25.11847-39.3644-32.36067a57.11021,57.11021,0,0,0-23.92678-5.54622c-8.56213.02753-16.93178,2.27348-24.84307,5.41792-3.74034,1.49428-7.39831,3.19021-11.00078,4.99614-4.11634,2.07182-8.15927,4.28118-12.1834,6.50883q-11.33112,6.27044-22.36816,13.0909-21.9606,13.5722-42.54565,29.21623-10.67111,8.11311-20.90175,16.75788-9.51557,8.03052-18.64618,16.492c-1.30168,1.20091-3.24526-.74255-1.94358-1.94347,1.60428-1.49428,3.22692-2.97938,4.84955-4.44612q6.87549-6.21547,13.9712-12.19258,12.93921-10.91827,26.54851-20.99312,21.16295-15.67614,43.78289-29.2254,11.3036-6.76547,22.91829-12.9626c2.33793-1.24674,4.70317-2.466,7.09571-3.6211a113.11435,113.11435,0,0,1,16.86778-6.86631,60.00626,60.00626,0,0,1,25.476-2.50266,66.32725,66.32725,0,0,1,23.50512,8.1314c15.40091,8.60812,27.34573,21.919,38.97005,34.90916C461.10844,344.80265,459.17382,346.75529,457.9912,345.4352Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M773.55166,476.34216l36.90462-13.498,18.32327-6.70182c5.96758-2.18267,11.92082-4.66747,18.08989-6.23037a28.53868,28.53868,0,0,1,16.37355.20862,37.73731,37.73731,0,0,1,12.771,7.91667,103.63871,103.63871,0,0,1,10.47488,11.18642c3.98932,4.79426,7.9197,9.63878,11.86772,14.46706q24.44135,29.89093,48.56306,60.04134,24.12118,30.14991,47.91981,60.556,23.85681,30.48042,47.38548,61.21573,2.8823,3.76519,5.75967,7.53415c1.0598,1.38809,3.44948.01962,2.37471-1.38807q-23.70225-31.04441-47.73491-61.83464-24.09177-30.86383-48.51646-61.46586-24.42423-30.60142-49.17854-60.93744-6.167-7.5576-12.35444-15.09858c-3.47954-4.24072-6.91984-8.52718-10.73629-12.47426-7.00538-7.24516-15.75772-13.64794-26.23437-13.82167-6.15972-.10214-12.121,1.85248-17.844,3.92288-6.16967,2.232-12.32455,4.50571-18.48632,6.7594L782.11123,470.2921l-9.29068,3.39811c-1.64874.603-.9365,3.26189.73111,2.65195Z" transform="translate(-26.84086 -49.49819)" fill="#e4e4e4"/><path d="M409.45248,324.15733c-18.75411-9.63866-42.77137-7.75087-60.00507,4.29119A855.84532,855.84532,0,0,1,446.818,351.17434C433.53537,343.3904,423.14521,331.19475,409.45248,324.15733Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M349.26282,328.41534,345.6524,331.35c1.22123-1.02713,2.4908-1.99013,3.795-2.90144C349.3858,328.43789,349.32442,328.426,349.26282,328.41534Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M874.62436,476.477c-3.63279-4.42206-7.56046-9.05222-12.99421-10.84836l-5.07308.20009a575.43629,575.43629,0,0,0,153.26729,175.22056Q942.22437,558.76317,874.62436,476.477Z" transform="translate(-26.84086 -49.49819)" fill="#f2f2f2"/><path d="M1086.66915,698.4482c-10.56006,21.33-27.23,39.97-46.39,54.35-29.37,22.05-64.33,35.3-99.32,46.48-197.62,63.17-413.48,68.05-613.75,13.88-55.4-14.98-111.08-35.22-154.17-73.13a197.34468,197.34468,0,0,1-35.74-41.61c57.35-31.52,126.86-43.4,193.19-41.95,95.09,2.08,187.96,27.46,282.16,40.59a1102.669,1102.669,0,0,0,334.04-4.6c38.31994-6.43,77.98-14.84,115.49-4.66A95.14954,95.14954,0,0,1,1086.66915,698.4482Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><circle cx="179.31828" cy="51" r="51" fill="#ccc"/><path d="M362.30892,97.84042C348.81185,83.6816,333.13643,70.765,314.57961,63.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557A64.90832,64.90832,0,0,1,232.6863,78.8348a74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46711,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,361.647,100.3475,1.5139,1.5139,0,0,0,362.30892,97.84042Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><path d="M208.57961,131.93948a76.71521,76.71521,0,0,0-15.98633-4.01734c-.04388-.006-.08545.00287-.12909-.00067a2.35576,2.35576,0,0,0-.26965-.05292,61.5388,61.5388,0,0,0-22.84131,1.379,63.10735,63.10735,0,0,0-10.63519,3.7049,93.00467,93.00467,0,0,0-9.97943,5.65557,64.90832,64.90832,0,0,1-22.05231,8.22681,74.1877,74.1877,0,0,1-11.84406,1.16248c-3.44714.06915-6.698.1889-9.964,1.43426a23.91573,23.91573,0,0,0-14.56494,15.77051,1.55078,1.55078,0,0,0,.68933,1.694c.88349.63275,1.74476,1.35065,2.673,1.91437a8.33922,8.33922,0,0,0,2.611.71209q2.21366.46712,4.43292.90693,8.17584,1.61992,16.41962,2.86792,16.681,2.5252,33.54217,3.55755a373.48132,373.48132,0,0,0,67.51026-2.029A374.77144,374.77144,0,0,0,255.647,168.3475a1.5139,1.5139,0,0,0,.66193-2.50708C242.81185,151.6816,227.13643,138.765,208.57961,131.93948Z" transform="translate(-26.84086 -49.49819)" fill="#f0f0f0"/><polygon points="1047.411 588.142 1074.576 567.518 1087.816 580.759 1043.563 611.042 1047.411 588.142" fill="#2f2e41"/><path d="M1048.91635,694.42781H955.99269l3.25907-10.55987,0,0c20.1993-7.31227,8.85333-23.02957,28.06751-32.63666,46.9968-23.4984,65.19118-93.62006,58.30932-121.33935l30.798-1.30221S1118.95877,649.37476,1048.91635,694.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M1128.24653,644.78888a15.61893,15.61893,0,0,1-20.18272.37759l-.0604-.04961-.00207-.07767a14.96483,14.96483,0,0,0-.6-3.81936,10.69077,10.69077,0,0,1-.38818,2.64366l-.07784.28991-.20873-.21549c-.18027-.18589-.35474-.37472-.51859-.561a15.75088,15.75088,0,0,1-2.399-3.63269,45.91623,45.91623,0,0,0-12.74-15.87972,22.29237,22.29237,0,0,1-2.6727-2.57172,22.03415,22.03415,0,0,1,27.66955-33.56911l.13767.0806-.07148.1425a11.47756,11.47756,0,0,1-2.04788,2.954,14.96829,14.96829,0,0,0,3.15395-2.27865l.10006-.09436.11337.07818a22.12793,22.12793,0,0,1,4.0294,3.5867l.12844.14726a9.83643,9.83643,0,0,0,7.28375,3.36123,15.614,15.614,0,0,1,15.11947,18.29291l-.01769.10315-.10034.0304a13.39866,13.39866,0,0,1-5.45694.68088,15.22208,15.22208,0,0,0,4.86061,1.2174l.21654.01718-.06874.20619a15.6035,15.6035,0,0,1-4.50339,6.79l-.05928.05187-.06294.05509a15.3329,15.3329,0,0,0-5.297,10.64272A15.73345,15.73345,0,0,1,1128.24653,644.78888Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M1131.089,639.76934a15.57418,15.57418,0,0,1-.1756,1.67894,15.78521,15.78521,0,0,0,2.53772-7.82047c.02071-.42637.06546-.8511.12549-1.27393A14.8141,14.8141,0,0,0,1131.089,639.76934Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1136.00331,620.789a15.19815,15.19815,0,0,0,3.88418,1.09822,15.63,15.63,0,0,0,1.42322-1.73647A13.24363,13.24363,0,0,1,1136.00331,620.789Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1141.72736,615.66082a15.70907,15.70907,0,0,1-.11112,4.05194,15.52908,15.52908,0,0,0,1.75758-3.62455l.06874-.2062-.21655-.01718A15.09472,15.09472,0,0,1,1141.72736,615.66082Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1140.28241,600.83967a15.65079,15.65079,0,0,0-11.46149-5.29958,9.83649,9.83649,0,0,1-7.28378-3.36124l-.12843-.14726a22.12785,22.12785,0,0,0-4.02939-3.58669l-.11338-.07817-.10005.09434a14.9676,14.9676,0,0,1-3.154,2.27865,11.47832,11.47832,0,0,0,2.04794-2.954l.07146-.1425-.13766-.08059a22.01777,22.01777,0,0,0-32.62113,14.2542,22.02182,22.02182,0,0,1,30.259-8.11268l.13765.08059-.07145.1425a11.47814,11.47814,0,0,1-2.04794,2.954,14.96754,14.96754,0,0,0,3.154-2.27865l.10006-.09434.11338.07817a22.12857,22.12857,0,0,1,4.02939,3.5867l.12843.14725a9.83643,9.83643,0,0,0,7.28377,3.36124,15.61675,15.61675,0,0,1,15.10347,12.83488,18.92714,18.92714,0,0,0,2.26005-.55l.10034-.03039.01776-.10314A15.554,15.554,0,0,0,1140.28241,600.83967Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M1173.15913,536.54065a50.29141,50.29141,0,0,1-42.007,49.59965l-.2484.04053-.19219-.16016a48.18565,48.18565,0,0,0-10.51008-6.67159,34.42316,34.42316,0,0,1,5.5662,6.56047l.53537.80469-.96485.04641c-.8328.04053-1.66038.0608-2.45919.0608a50.71554,50.71554,0,0,1-13.88445-1.92513c-20.51748-5.83748-42.55022-6.83567-65.48571-2.96711a71.77856,71.77856,0,0,1-11.90147.993A70.94787,70.94787,0,0,1,1009.287,444.63723l.48765-.16146.19251.47589a36.95659,36.95659,0,0,1,2.787,11.23306,48.19635,48.19635,0,0,0,1.19789-12.47116l-.01536-.44255.43013-.10786a71.24939,71.24939,0,0,1,17.24051-2.1147l.62918.00262a31.67228,31.67228,0,0,0,23.616-10.46237,50.27568,50.27568,0,0,1,76.38016,2.34611l.2118.26213-.1399.30723c-2.93769,6.47484-6.13818,11.19189-9.95836,14.64143a49.01343,49.01343,0,0,0,13.27978-9.16282l.502-.487.35234.60466A50.24214,50.24214,0,0,1,1143.32,464.4278l-.00065.25363c-.00065.08956-.00065.17977-.00065.26932,0,13.61317,5.26419,26.51577,14.46689,35.43934A50.66021,50.66021,0,0,1,1173.15913,536.54065Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M1111.68868,417.71713a35.519,35.519,0,0,1-6.33509,7.77159,48.88929,48.88929,0,0,0,9.89823-6.1865Q1113.50228,418.44038,1111.68868,417.71713Z" transform="translate(-26.84086 -49.49819)"/><path d="M1140.79293,477.73323a50.48191,50.48191,0,0,1,7.22981,8.80775,51.39288,51.39288,0,0,1-4.70405-21.59022c0-.08957,0-.17978.00065-.26932l.00064-.25364a50.24245,50.24245,0,0,0-6.83956-25.32735l-.35235-.60468-.50207.487a49.12616,49.12616,0,0,1-9.17043,6.983A48.97185,48.97185,0,0,0,1140.79293,477.73323Z" transform="translate(-26.84086 -49.49819)"/><path d="M1126.32733,441.77093l-.00065.25364c-.00064.08954-.00064.17975-.00064.26931,0,.49355.00894.98585.02272,1.47739a52.3648,52.3648,0,0,0,5.95587-10.26709l.13985-.30725-.21176-.26212a50.68811,50.68811,0,0,0-9.096-8.79733A50.35621,50.35621,0,0,1,1126.32733,441.77093Z" transform="translate(-26.84086 -49.49819)"/><path d="M1157.78559,500.3901a45.45934,45.45934,0,0,1-6.40838-7.79666,50.2297,50.2297,0,0,1-37.21772,70.89l-.24841.04054-.19217-.16016a48.188,48.188,0,0,0-10.5101-6.67159,34.42262,34.42262,0,0,1,5.56617,6.56046l.5354.80471-.96482.0464c-.83286.04054-1.66041.0608-2.4592.0608a50.71549,50.71549,0,0,1-13.88448-1.92514c-20.51749-5.83747-42.55022-6.83566-65.4857-2.9671a71.7793,71.7793,0,0,1-11.90145.993,70.62389,70.62389,0,0,1-47.12-17.969,71.01118,71.01118,0,0,0,64.1127,40.6259,71.77947,71.77947,0,0,0,11.90145-.99294c22.93547-3.86857,44.96821-2.87037,65.4857,2.96709a50.71543,50.71543,0,0,0,13.88448,1.92514c.79878,0,1.62634-.02026,2.45919-.0608l.96483-.0464-.5354-.80471a34.42263,34.42263,0,0,0-5.56618-6.56045,48.18774,48.18774,0,0,1,10.51011,6.67159l.19217.16016.24841-.04055a50.25392,50.25392,0,0,0,26.63344-85.75019Z" transform="translate(-26.84086 -49.49819)"/></g><polygon points="134.035 560.973 97.223 533.025 79.28 550.968 139.25 592.007 134.035 560.973" fill="#2f2e41"/><path d="M195.21,687.42781h125.9266L316.72,673.11747l0,0c-27.37332-9.9093-11.99769-31.20879-38.036-44.228-63.68827-31.84414-88.3446-126.87035-79.01856-164.43447l-41.73625-1.76471S100.29113,626.37364,195.21,687.42781Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M80.55365,605.25219a20.7786,20.7786,0,0,0-7.17833-14.42261c-.0283-.02489-.05681-.05-.08529-.07465l-.08034-.0703a21.14539,21.14539,0,0,1-6.10283-9.20148l-.09315-.27942.29345-.02329a20.6283,20.6283,0,0,0,6.58691-1.64977,18.15726,18.15726,0,0,1-7.395-.9227l-.136-.0412-.024-.13979a21.15953,21.15953,0,0,1,20.48932-24.78985,13.32987,13.32987,0,0,0,9.87066-4.555l.17406-.19956a29.9868,29.9868,0,0,1,5.46049-4.86055l.15364-.106.13559.12786a20.2845,20.2845,0,0,0,4.27411,3.088,15.554,15.554,0,0,1-2.77519-4.00312l-.09688-.19312.18657-.10923A29.85984,29.85984,0,0,1,141.70818,588.318a30.209,30.209,0,0,1-3.62195,3.48511,62.224,62.224,0,0,0-17.26483,21.51959,21.34447,21.34447,0,0,1-3.251,4.92289c-.222.25244-.45848.50834-.70277.76026l-.28286.292-.10549-.39287a14.48742,14.48742,0,0,1-.526-3.58259,20.27961,20.27961,0,0,0-.813,5.17585l-.00281.10525-.08185.06724a21.15037,21.15037,0,0,1-34.50192-15.41853Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M83.85266,613.35673a21.10374,21.10374,0,0,0,.238,2.27524,21.39156,21.39156,0,0,1-3.439-10.598c-.02806-.57781-.08871-1.15339-.17006-1.72639A20.07562,20.07562,0,0,1,83.85266,613.35673Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M77.193,587.63524a20.59681,20.59681,0,0,1-5.2637,1.48826,21.18029,21.18029,0,0,1-1.92868-2.3532A17.94731,17.94731,0,0,0,77.193,587.63524Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M69.436,580.68579a21.28893,21.28893,0,0,0,.1506,5.491,21.04389,21.04389,0,0,1-2.3818-4.91186l-.09316-.27943.29346-.02329A20.4517,20.4517,0,0,0,69.436,580.68579Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M71.39415,560.60073a21.20931,21.20931,0,0,1,15.53218-7.18179,13.33,13.33,0,0,0,9.87069-4.555l.174-.19955a29.98717,29.98717,0,0,1,5.46048-4.86056l.15364-.10593.13559.12785a20.28377,20.28377,0,0,0,4.27415,3.08794,15.55474,15.55474,0,0,1-2.77529-4.00312l-.09683-.19312.18655-.10921A29.83764,29.83764,0,0,1,148.51627,561.925a29.84315,29.84315,0,0,0-41.00585-10.994l-.18655.10921.09683.19311a15.5548,15.5548,0,0,0,2.77529,4.00313,20.28412,20.28412,0,0,1-4.27415-3.08794l-.13559-.12786-.15364.10594a29.98711,29.98711,0,0,0-5.46048,4.86055l-.174.19956a13.33,13.33,0,0,1-9.87069,4.555A21.16316,21.16316,0,0,0,69.65975,579.135a25.64845,25.64845,0,0,1-3.06273-.74529l-.136-.04118-.02407-.13978A21.07824,21.07824,0,0,1,71.39415,560.60073Z" transform="translate(-26.84086 -49.49819)" opacity="0.15"/><path d="M47.67454,424.47529c12.47114-12.09289,19.605-29.578,19.605-48.026,0-.12136,0-.24361-.00089-.365l-.00088-.34372a68.08611,68.08611,0,0,1,9.26876-34.32266l.47748-.81942.68034.66a66.42122,66.42122,0,0,0,17.99625,12.41711c-5.177-4.67469-9.51414-11.06706-13.4952-19.8415l-.18957-.41636.287-.35523a68.13168,68.13168,0,0,1,103.50749-3.17935,42.9211,42.9211,0,0,0,32.00348,14.1782l.85264-.00355a96.55467,96.55467,0,0,1,23.36369,2.86576l.58289.14617-.02081.59973a65.31307,65.31307,0,0,0,1.62334,16.90044,50.08227,50.08227,0,0,1,3.77686-15.22262l.26089-.64491.66085.21881a96.14585,96.14585,0,0,1-30.24771,187.39848A97.27192,97.27192,0,0,1,202.538,534.974c-31.0813-5.24253-60.93923-3.88982-88.74374,4.02092a68.72787,68.72787,0,0,1-18.81567,2.60886c-1.08252,0-2.204-.02747-3.33261-.08239l-1.30753-.0629L91.064,540.368a46.64968,46.64968,0,0,1,7.5431-8.8905,65.29981,65.29981,0,0,0-14.24286,9.0411l-.26045.217-.33662-.05492A68.10219,68.10219,0,0,1,47.67454,424.47529Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><g opacity="0.15"><path d="M110.14328,312.44a48.13438,48.13438,0,0,0,8.58508,10.53176,66.25283,66.25283,0,0,1-13.4137-8.38371Q107.68556,313.42016,110.14328,312.44Z" transform="translate(-26.84086 -49.49819)"/><path d="M70.70231,393.77157a68.411,68.411,0,0,0-9.79756,11.93592,69.64577,69.64577,0,0,0,6.37475-29.25825c0-.12137,0-.24362-.00088-.365l-.00087-.34372a68.08661,68.08661,0,0,1,9.26871-34.32266l.4775-.81944.68039.66a66.5738,66.5738,0,0,0,12.42741,9.46305C88.97194,367.31049,82.046,382.77189,70.70231,393.77157Z" transform="translate(-26.84086 -49.49819)"/><path d="M90.30555,345.03683l.00087.34372c.00088.12134.00088.24359.00088.365,0,.66884-.01212,1.336-.0308,2.0021A70.9624,70.9624,0,0,1,82.20534,333.834l-.18953-.41637.287-.35522a68.69044,68.69044,0,0,1,12.32659-11.92181A68.24086,68.24086,0,0,0,90.30555,345.03683Z" transform="translate(-26.84086 -49.49819)"/><path d="M47.67451,424.4753a61.60525,61.60525,0,0,0,8.6844-10.56575,68.06938,68.06938,0,0,0,50.436,96.06741l.33664.05494.26042-.217a65.30253,65.30253,0,0,1,14.24289-9.04108,46.64767,46.64767,0,0,0-7.54306,8.89047l-.72556,1.09052,1.3075.06287c1.12865.05494,2.25012.08239,3.33261.08239a68.72762,68.72762,0,0,0,18.81572-2.60886c27.80451-7.91072,57.66244-9.26344,88.74372-4.0209a97.27262,97.27262,0,0,0,16.12839,1.3456,95.7069,95.7069,0,0,0,63.8553-24.35094,96.23165,96.23165,0,0,1-86.88309,55.05467A97.27245,97.27245,0,0,1,202.538,534.974c-31.08129-5.24254-60.93922-3.88982-88.74373,4.0209a68.72763,68.72763,0,0,1-18.81572,2.60887c-1.08249,0-2.204-.02746-3.33261-.0824l-1.30749-.06287L91.064,540.368a46.64834,46.64834,0,0,1,7.54306-8.89047,65.30253,65.30253,0,0,0-14.24289,9.04108l-.26042.217-.33663-.05494A68.10219,68.10219,0,0,1,47.67451,424.4753Z" transform="translate(-26.84086 -49.49819)"/></g><circle cx="460.31828" cy="185" r="5" fill="#fff"/><circle cx="834.31828" cy="305" r="3" fill="#fff"/><circle cx="892.31828" cy="170" r="3" fill="#fff"/><circle cx="355.31828" cy="80" r="3" fill="#fff"/><circle cx="325.31828" cy="201" r="3" fill="#fff"/><circle cx="179.31828" cy="170" r="3" fill="#fff"/><circle cx="696.31828" cy="195" r="3" fill="#fff"/><circle cx="1003.31828" cy="98" r="3" fill="#fff"/><path d="M328.95929,413.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C339.30268,425.75443,332.75886,420.59829,328.95929,413.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M910.95929,612.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C921.30268,624.75443,914.75886,619.59829,910.95929,612.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M591.95929,449.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.795,4.95494l-.13433.50325C602.30268,461.75443,595.75886,456.59829,591.95929,449.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M287.95929,565.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C298.30268,577.75443,291.75886,572.59829,287.95929,565.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><path d="M249.95929,651.56327c-3.79958-7.035-4.33-16.25537.33531-22.74859a36.83843,36.83843,0,0,0,14.67507,20.5993c2.77181,1.88719,6.05124,3.69758,6.99947,6.914a8.23488,8.23488,0,0,1-.85864,6.04445,24.4571,24.4571,0,0,1-3.79505,4.95494l-.13433.50325C260.30268,663.75443,253.75886,658.59829,249.95929,651.56327Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/><rect x="843.31828" y="68" width="11" height="589" fill="#3f3d56"/><rect x="813.31828" y="20" width="72" height="72" rx="35.99996" fill="#ff6582"/><path d="M418.64263,424.1385c0,11.47771,12.51572,21.67823,23.99344,21.67823s17.571-10.20052,17.571-21.67823a20.78224,20.78224,0,0,0-41.56448,0Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="398.471 484.489 437.067 483.005 439.294 442.925 394.76 442.925 398.471 484.489" fill="#ffb8b8"/><path d="M400.81364,561.4928a6.18231,6.18231,0,0,0-.36494-9.4728l7.00739-20.82235-11.03775,2.917-4.96213,19.32605a6.21581,6.21581,0,0,0,9.35743,8.05215Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><circle cx="415.75835" cy="381.62478" r="14.69804" fill="#ffb8b8"/><path d="M442.96047,429.64379l-10.73253-.28426a1.504,1.504,0,0,1-1.28014-.78738l-3.58787-6.65514a1.49783,1.49783,0,0,1,.39563-1.89138L441.79818,409.047a1.49679,1.49679,0,0,1,1.25618-.28037l11.34184,2.58422a1.499,1.499,0,0,1,1.1066,1.04314l4.4413,15.29492a1.49935,1.49935,0,0,1-1.51389,1.916l-5.5602-.27779a1.50724,1.50724,0,0,1-1.34747-1.0276l-.23052-.69867a.17342.17342,0,0,0-.338.05439,1.49974,1.49974,0,0,1-1.57346,1.4977l-1.84088-.09194a1.4954,1.4954,0,0,1-1.396-1.205l-.79385-3.99256a.1732.1732,0,0,0-.34188.01359l-.51866,4.442a1.492,1.492,0,0,1-1.48734,1.32546Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M432.2515,449.58079l19.00323.25331,6.18481,7.85346,9.95684,2.3481,2.5878,14.95427c1.29375,7.47624-.07979,12.21089-3.88076,18.77751l0,0-.45522,12.91771.503.91426a2.09364,2.09364,0,0,1-.63119,2.72267h0a4.27726,4.27726,0,0,1,.11752,2.81491l-.24528.81046s-.70783,5.66261-40.83239-.29293a3.95632,3.95632,0,0,1-3.34345-3.3986h0a2.95406,2.95406,0,0,1-.547-3.4038l.08175-.16348-.412-.48529a3.177,3.177,0,0,1-.1608-3.90659h0l-5.76652-41.25217,11.91192-3.71Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M419.16862,464.99288l-4.75684-3.94828s-4.22952,1.25013-7.18334,9.58077-13.08957,71.52656-13.08957,71.52656l11.87557-5.93778,16.8392-46.43085Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M524.81946,532.274a6.18228,6.18228,0,0,1-7.09116-6.29147l-20.54147-7.79242,9.257-6.682,18.08733,8.42424a6.21581,6.21581,0,0,1,.28831,12.34162Z" transform="translate(-26.84086 -49.49819)" fill="#ffb6b6"/><path d="M461.88061,464.63253l3.22471-5.27425s4.40655-.18456,9.89528,6.74353c2.81373,3.55161,21.04874,34.01719,21.04874,34.01719l16.86311,14.05546-13.80628,4.93081-16.27169-6.90314-18.244-30.078Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><polygon points="435.555 666.81 444.739 666.81 449.108 631.385 435.553 631.386 435.555 666.81" fill="#ffb6b6"/><polygon points="355.157 661.099 364.044 663.415 377.208 630.238 364.091 626.819 355.157 661.099" fill="#ffb6b6"/><path d="M460.11787,711.77763l14.51826-.86655v6.22026l13.80293,9.53279a3.88541,3.88541,0,0,1-2.20782,7.08274H468.9467l-2.97925-6.15279-1.16325,6.15279h-6.517Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M380.13111,705.42858l14.2674,2.8235-1.569,6.01913,10.95211,12.70615a3.88541,3.88541,0,0,1-3.923,6.29683L383.133,728.91441l-1.331-6.70531-2.67759,5.66043-6.30624-1.64381Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M383.1248,688.31931l26.92081-55.33021,2.11353-65.49091C406.33233,556.677,423.491,532.805,423.491,532.805v-9.24491l41.91852,7.90812v0a201.21489,201.21489,0,0,1,12.26151,73.06026L475.982,694.04734h.52987a3.31527,3.31527,0,1,1,0,6.63053H459.9355a3.31527,3.31527,0,1,1,0-6.63053h.4274L448.4631,580.16351l-13.83654,56.19881L401.189,688.1066a3.3069,3.3069,0,0,1-.26524,6.60379H384.34739a3.31182,3.31182,0,0,1-1.22259-6.39108Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M382.75841,426.29647c6.19395-6.05935,10.09279-14.02773,15.22255-21.01108,5.1296-6.98327,12.35472-13.3824,21.01083-13.77026a13.03786,13.03786,0,0,1,8.16579,2.129,8.30541,8.30541,0,0,1,3.60455,7.36741c.9138-2.56674,4.99718-3.1453,6.588-.93331,1.59062,2.21191-.25722,5.89893-2.98115,5.94838l-.2671-1.05666a18.24877,18.24877,0,0,1-11.80141,7.83613,2.9783,2.9783,0,0,1-3.35526-3.85425C409.59087,410.80666,412.56052,428.25234,407,436s-21.45259,6.99551-30.82907,8.7353c-9.05466,1.68-17.85857-3.34756-25.69931-8.178A38.2715,38.2715,0,0,0,382.75841,426.29647Z" transform="translate(-26.84086 -49.49819)" fill="#2f2e41"/><path d="M732.68989,636.90373,704.47275,624.455V613.75265l10.0561-.05651a7.46918,7.46918,0,0,0,7.044-5.10714l7.06437-21.19305a7.46924,7.46924,0,0,0-7.086-9.83122H704.47275v-9.959H725.913a7.46925,7.46925,0,0,0,7.27937-5.79584l4.865-21.16286a7.46923,7.46923,0,0,0-7.27937-9.14265H704.47275v-2.48975a4.97949,4.97949,0,0,0-9.959,0v2.48975H518.1566v-2.48975a4.9795,4.9795,0,0,0-9.959,0v2.48975H487.2868a7.46923,7.46923,0,0,0-7.27937,9.14265l4.865,21.16286a7.46925,7.46925,0,0,0,7.27937,5.79584H508.1976v9.959H496.51328a7.46923,7.46923,0,0,0-7.10927,9.76l7.21041,22.37711a7.46925,7.46925,0,0,0,7.15123,5.17837l4.432-.0249V624.455l-22.82269,12.44874a7.46922,7.46922,0,0,0-7.46924,7.46922v0a7.46925,7.46925,0,0,0,7.46924,7.46925H508.1976v54.77446a4.9795,4.9795,0,0,0,9.959,0V651.84222H694.51376v54.77446a4.97949,4.97949,0,0,0,9.959,0V651.84222h28.21714a7.46925,7.46925,0,0,0,7.46925-7.46925v0A7.46922,7.46922,0,0,0,732.68989,636.90373Zm-214.53329-69.298H694.51376v9.959H518.1566Zm0,56.84925v-9.65563l176.35716-.99076V624.455Z" transform="translate(-26.84086 -49.49819)" fill="#3f3d56"/></svg>',A5='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="855.93958" height="630.06608" viewBox="0 0 855.93958 630.06608" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M935.43234,472.55767c-3.73,43.08-22.51,84.71-49.3,119.14q-1.68,2.16-3.4,4.28-3.87,4.77-7.94,9.36-4.98,5.655-10.25,11.05005-4.29,4.43994-8.78,8.68994-3.465,3.315-7.01,6.5c-28.43,25.69-61.09,46.89-94.74,65.43005-65.67,36.17-137.65,63.56995-212.52,67.56-74.86,3.98-153.01-17.46-207.91-68.52-73.99-68.81-94.63995-183.58-64.6-280.05,19.98-64.18,60.76-122.24,116.26-160.16,55.02-37.59,124.43-54.51,190.12-43.44995,52.44-31.87006,121.09-32.48,178.1-8.89,30.42,12.59,57.72,31.31,81.67,53.93a339.34337,339.34337,0,0,1,30.72,33.23q1.455,1.785,2.88,3.6,5.97,7.545,11.55,15.4,8.01,11.265,15.21,23.03c1.32,2.16,2.63,4.33,3.91,6.52.86,1.47,1.73,2.95,2.58,4.44a.29776.29776,0,0,1,.04.1c13.31,23.41,24.19,48.39,29.86005,74.5,1,4.62,1.84,9.26,2.49,13.94v.01q.855,5.955,1.29,11.97A176.97711,176.97711,0,0,1,935.43234,472.55767Z" transform="translate(-172.03021 -134.96696)" fill="#3f3d56"/><path d="M740.07386,537.68412,591.61233,414.00627,735.84027,542.638a3.44161,3.44161,0,1,0,4.23359-4.95386Z" transform="translate(-172.03021 -134.96696)" fill="#f0f0f0" opacity="0.3"/><circle cx="227.58212" cy="250.78071" r="89" fill="#f2f2f2"/><path d="M478.61233,379.74767a80.99369,80.99369,0,0,1-81,81,81.57161,81.57161,0,0,1-27.8-4.9,81.05489,81.05489,0,1,1,108.8-76.1Z" transform="translate(-172.03021 -134.96696)" fill="#fff"/><circle cx="211.58212" cy="217.78071" r="25" fill="#e4e4e4"/><path d="M475.45236,357.27764a25.00115,25.00115,0,0,1-27.6-41.08A81.05279,81.05279,0,0,1,475.45236,357.27764Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="252.58212" cy="271.78071" r="9" fill="#e4e4e4"/><path d="M387.61233,457.74767a9.04581,9.04581,0,0,1-.31,2.34,79.52774,79.52774,0,0,1-17.49-4.24,9.00157,9.00157,0,0,1,17.8,1.9Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><path d="M334.61233,375.74767a18.002,18.002,0,0,1-16.8,17.96,81.54773,81.54773,0,0,1,1.76-35.71A18.00026,18.00026,0,0,1,334.61233,375.74767Z" transform="translate(-172.03021 -134.96696)" fill="#f2f2f2"/><circle cx="606.45653" cy="208.48305" r="3.70234" fill="#6c63ff"/><circle cx="572.30231" cy="119.94851" r="2.16307" fill="#f0f0f0"/><circle cx="225.30231" cy="543.94851" r="2.16307" fill="#f0f0f0"/><circle cx="584.58144" cy="331.59402" r="2.16307" fill="#f0f0f0"/><circle cx="305.45653" cy="350.48305" r="3.70234" fill="#6c63ff"/><circle cx="171.45653" cy="416.48305" r="17.48305" fill="#6c63ff"/><circle cx="267.30231" cy="435.94851" r="2.16307" fill="#f0f0f0"/><circle cx="487.30231" cy="97.94851" r="2.16307" fill="#f0f0f0"/><circle cx="358.30231" cy="558.94851" r="2.16307" fill="#f0f0f0"/><circle cx="326.30231" cy="117.94851" r="2.16307" fill="#f0f0f0"/><circle cx="382.30231" cy="222.94851" r="2.16307" fill="#f0f0f0"/><circle cx="296.58144" cy="480.59402" r="2.16307" fill="#f0f0f0"/><circle cx="549.58144" cy="494.59402" r="2.16307" fill="#f0f0f0"/><circle cx="437.58144" cy="368.59402" r="2.16307" fill="#f0f0f0"/><circle cx="494.58144" cy="222.59402" r="2.16307" fill="#f0f0f0"/><circle cx="598.21204" cy="292.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="150.65473" r="4.28889" fill="#ff6584"/><circle cx="424.21204" cy="445.65473" r="4.28889" fill="#ff6584"/><path d="M863.45236,605.33764a7.694,7.694,0,0,0-7.39,5.58,7.3896,7.3896,0,0,0-.3,2.12v12.04q4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.68118,667.89806q-19.36816,0-42.45654-1.46386c-79.61377-5.05567-182.7378-22.63282-290.376-49.49219-107.6377-26.85938-206.93018-59.79395-279.58545-92.73438-35.39258-16.04687-62.55615-31.23632-80.73535-45.14746-19.24707-14.72705-27.666-27.564-25.02393-38.15283,5.148-20.62891,50.731-25.14209,88.064-25.29541l.01269,3c-51.26806.21045-81.51367,8.38672-85.16552,23.022-4.65186,18.64014,33.28662,47.74073,104.08691,79.84131,72.49561,32.86817,171.60547,65.73926,279.07324,92.55664,107.46729,26.81641,210.40137,44.36328,289.83985,49.40821,77.57861,4.92773,124.74316-2.9375,129.39453-21.57813,3.86181-15.47656-21.59815-38.27539-71.68946-64.19824l1.37891-2.66406c36.397,18.83593,78.64551,45.85156,73.22168,67.58886-2.64258,10.58887-16.10547,17.96485-40.01514,21.92285C927.0762,666.7672,910.33548,667.89806,890.68118,667.89806Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="714.58212" cy="208.78071" r="100.5" fill="#fff"/><path d="M886.61233,241.74767a102,102,0,1,0,102,102A101.635,101.635,0,0,0,886.61233,241.74767Zm0,201a99,99,0,1,1,99-99A98.61767,98.61767,0,0,1,886.61233,442.74767Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M798.417,367.81847a2.00078,2.00078,0,0,1-1.957-1.59765,97.66924,97.66924,0,0,1,22.34082-83.13526,2,2,0,0,1,2.98633,2.66114A93.59682,93.59682,0,0,0,800.378,365.41515a2.00228,2.00228,0,0,1-1.96094,2.40332Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><circle cx="714.51924" cy="238.27373" r="63.87702" fill="#6c63ff"/><path d="M866.24805,397.35666c-4.14062-.115-9.29385-.25869-13.26384-3.15874a10.18618,10.18618,0,0,1-4.00806-7.60607,6.85213,6.85213,0,0,1,2.33007-5.62763c2.07352-1.75216,5.10139-2.16313,8.36441-1.2042l-3.38076-24.7061,2.48174-.34,3.97444,29.04518-2.07245-.951c-2.4027-1.10205-5.70088-1.66285-7.7504.06911a4.40263,4.40263,0,0,0-1.44375,3.62659,7.69887,7.69887,0,0,0,2.98246,5.67107c3.08949,2.25668,7.19708,2.54779,11.85585,2.678Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><rect x="658.49493" y="222.21767" width="13.49133" height="2.50498" fill="#2f2e41"/><rect x="701.07961" y="222.21765" width="13.49133" height="2.50498" fill="#2f2e41"/><path d="M889.23233,452.90765h-57.9a8.14716,8.14716,0,0,0-8.13995,8.14v128.33a47.66955,47.66955,0,0,0,25.56,42.19995q3.555-3.18,7.01-6.5,4.485-4.24494,8.78-8.68994,5.265-5.40006,10.25-11.05005,4.08006-4.59,7.94-9.36,1.725-2.115,3.4-4.28c26.79-34.43,45.57-76.06,49.3-119.14A64.04854,64.04854,0,0,0,889.23233,452.90765Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M891.34231,479.68767a14.61136,14.61136,0,0,0-10.43-4.17,14.465,14.465,0,0,0-9.16,3.36005,13.12263,13.12263,0,0,0-1.17,1.07l-47.38995,48.6-34.37,35.25a6.80061,6.80061,0,0,0-1.28,1.8,7.29573,7.29573,0,0,0-.77,3.32,7.16751,7.16751,0,0,0,2.18006,5.07l1.35,1.32,9.8,9.55.01-.01a7.29073,7.29073,0,0,0,4.66,1.63,7.167,7.167,0,0,0,5.07-2.18l1.59-1.62,11.38-11.67.38-.39,68.41-70.16a14.69128,14.69128,0,0,0-.26-20.77Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><path d="M890.86152,343.44c2.1124-4.46658-.05349-9.23761-3.76378-12.09072-4.67557-3.59539-10.7221-3.00085-16.04008-1.29905-5.82238,1.8632-11.51366,5.21608-17.80383,5.02337a11.13058,11.13058,0,0,1-10.24407-7.27764c-3.3687-8.639.43561-18.29488,6.29971-24.84681a34.26766,34.26766,0,0,1,26.544-11.586,34.64989,34.64989,0,0,1,28.068,16.9026,1.54079,1.54079,0,0,0,2.05229.53813,36.88225,36.88225,0,0,1,28.39377-.71432,36.28984,36.28984,0,0,1,22.58042,34.49188c-.05,1.93122,2.95005,1.9301,3,0a39.89155,39.89155,0,0,0-10.59928-27.81249,38.71871,38.71871,0,0,0-27.56681-12.16772,39.33641,39.33641,0,0,0-17.32226,3.61223l2.05229.53813a37.69886,37.69886,0,0,0-25.0988-17.728,36.48542,36.48542,0,0,0-29.42384,7.32772c-7.70165,6.02707-13.53849,15.38016-13.17519,25.41071.15721,4.34047,1.44713,8.796,4.4606,12.03051,3.85981,4.14287,9.62229,4.85944,14.94631,3.798,7.07554-1.41071,13.53533-6.06449,20.91133-5.92113a10.21164,10.21164,0,0,1,7.6417,3.4453c1.62455,1.83335,2.6042,4.47042,1.49716,6.81122-.82094,1.73585,1.76463,3.26026,2.59041,1.51416Z" transform="translate(-172.03021 -134.96696)" fill="#2f2e41"/><path d="M412.09426,704.32287c-35.59912.001-68.69433-1.22071-98.32226-3.68555-38.72656-3.22266-69.41455-8.40332-91.21045-15.39648-23.07666-7.40528-35.31934-16.667-36.38818-27.52832-2.083-21.15821,39.334-40.72461,74.44531-53.41309l1.01953,2.82227c-48.2168,17.42382-73.957,35.28613-72.47949,50.29785,1.88183,19.11914,47.39209,33.78125,124.86181,40.22754,79.3252,6.60058,183.71729,4.26172,293.94727-6.58985,110.23-10.84863,213.07568-28.90625,289.59131-50.8457,74.72607-21.42578,116.50488-44.67969,114.623-63.79883-1.5625-15.874-33.20264-28.793-89.0918-36.3789l.40332-2.97266c40.60986,5.51172,89.47949,16.76172,91.67383,39.05762,1.06933,10.86132-9.1333,22.332-30.32276,34.09375-20.01465,11.10937-49.10351,22.17285-86.45849,32.88281-76.68506,21.98828-179.71973,40.08105-290.12451,50.94824C539.00247,700.86,472.01663,704.32287,412.09426,704.32287Z" transform="translate(-172.03021 -134.96696)" fill="#6c63ff"/><circle cx="838.45653" cy="434.48305" r="17.48305" fill="#6c63ff"/><circle cx="331.45653" cy="17.48305" r="17.48305" fill="#e6e6e6"/><circle cx="19.45653" cy="433.48305" r="17.48305" fill="#e6e6e6"/><circle cx="127.45653" cy="108.48305" r="10.70234" fill="#ff6584"/><circle cx="77.45653" cy="514.48305" r="10.70234" fill="#ff6584"/><circle cx="807.45653" cy="339.48305" r="10.70234" fill="#ff6584"/><circle cx="645.45653" cy="598.48305" r="17.48305" fill="#e6e6e6"/></svg>',O5=(e,t)=>{const n=window.atob(e),r=new ArrayBuffer(n.length),a=new Uint8Array(r);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return new Blob([r],{type:t})},F5=async e=>{const{vault:t}=rt.getState().app,n=await t.adapter.readBinary(e),r=new Uint8Array(n),a=new Blob([r],{type:"image/png"});return new Promise(o=>{const s=new FileReader;s.onloadend=()=>{const u=s.result;o(u)},s.readAsDataURL(a)})},P5=async()=>{const{app:e,settings:t}=rt.getState();let n,r;const a=document.body.hasClass("theme-light"),o=a?t==null?void 0:t.DefaultLightBackgroundImage:t==null?void 0:t.DefaultDarkBackgroundImage;await e.vault.adapter.exists(t==null?void 0:t.DefaultLightBackgroundImage)&&/\.(png|svg|jpg|jpeg)/g.test(t==null?void 0:t.DefaultLightBackgroundImage)?(r=o,n=await F5(r)):n="data:image/svg+xml;base64,"+btoa(a?k5:A5);const u=document.querySelector(".dialog-wrapper .memo-background .property-image");u.style.backgroundImage="url('"+n+"')",document.body.className.contains("theme-dark")&&(u.style.backgroundColor="#1f1f1f")},j5=e=>{const{memo:t,destroy:n}=e,{memos:r}=Ee.getState().memoState,{view:a,app:o,settings:s}=Ee.getState().dailyNotesState,u={...t,createdAtStr:Re.getDateTimeString(t.createdAt)},[d,m]=O.useState(!1),[p,g]=O.useState(u.content),[w,D]=O.useState(!1),S=O.useRef(null),T=O.useRef(null),[C,A]=O.useState(""),N=O.useRef(null),L=O.useRef(null);let F,H;r.length&&(F=r.length>0?r[r.length-1]:null,F?H=r?Math.ceil((Date.now()-Re.getTimeStampByDate(F==null?void 0:F.createdAt))/1e3/3600/24)+1:0:H=0);const j=s==null?void 0:s.ShareFooterEnd.replace("{UserName}",s==null?void 0:s.UserName),_=s==null?void 0:s.ShareFooterStart.replace("{ThinoNum}",r.length.toString()).replace("{UsedDay}",H.toString());O.useEffect(()=>{!S.current||!T.current||(E.setIcon(S.current,"copy"),E.setIcon(T.current,"x"))},[S,T]),O.useEffect(()=>{E.setIcon(S.current,w?"loader":"copy"),S.current.disabled=w,S.current.toggleClass("copying",w)},[w]),O.useEffect(()=>{if(!L.current||!a||d)return;g(t.content),L.current.hasChildNodes()&&L.current.empty();async function q(){var ee;(ee=L.current)==null||ee.toggleClass(["markdown-rendered"],!0),await E.MarkdownRenderer.render(o,t.content+`
`,L.current,t.path,a)}q(),setTimeout(()=>{if(P5(),!N.current)return;let ee;document.body.hasClass("theme-dark")?ee="#727171":ee="#eaeaea",Pm(N.current,{backgroundColor:ee,pixelRatio:window.devicePixelRatio*2}).then(ce=>{A(ce),m(!0)}).catch(()=>{})},DI)},[N,L,u]);const V=()=>{n()},U=O.useCallback(q=>{D(q)},[w]),z=async()=>{U(!0);const{vault:q}=Ee.getState().dailyNotesState.app,ee=N.current.querySelector(".memo-shortcut-img");if(!ee)return;const ce=ee==null?void 0:ee.getAttribute("src").split("base64,")[1],fe=O5(ce,"image/png");let ie;if(s!=null&&s.AutoSaveWhenOnMobile&&E.Platform.isMobile&&fe.arrayBuffer().then(async Ie=>{const se="png",we=Oi();for(const W in we)if(we[W]instanceof E.TFile){ie=we[W];break}ie!==void 0&&await q.createBinary(await q.getAvailablePathForAttachments(`Pasted Image ${E.moment().format("YYYYMMDDHHmmss")}`,se,ie),Ie)}),!fe){new E.Notice("Copy to clipboard failed");return}const he=new ClipboardItem({"image/png":fe});window.navigator.clipboard.write([he]).then(()=>{setTimeout(()=>{U(!1)},500)}),new E.Notice("Copy to clipboard successfully")};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"dialog-header-container",children:[y.jsxs("p",{className:"title-text",children:[y.jsx("span",{className:"icon-text",children:"ü•∞"}),k("Share Memo Image")]}),y.jsxs("div",{className:"btn-group",children:[y.jsx("button",{ref:S,className:"btn copy-btn",onClick:z}),y.jsx("button",{ref:T,className:"btn close-btn",onClick:V})]})]}),y.jsxs("div",{className:"dialog-content-container",children:[y.jsx("div",{className:`tip-words-container ${C?"finish":"loading"}`,children:y.jsx("p",{className:"tip-text",children:k(C?"‚ÜóClick the button to save":"Image is generating...")})}),y.jsxs("div",{className:"memo-container",ref:N,children:[y.jsx(lo,{when:C!=="",children:y.jsx("img",{className:"memo-shortcut-img",onClick:z,src:C})}),y.jsxs("div",{className:"memo-background",children:[y.jsx("div",{className:"property-image",style:{backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),y.jsx("span",{className:"background-container"}),y.jsx("div",{ref:L,className:"memo-content-text"}),y.jsxs("div",{className:"watermark-container",children:[y.jsxs("span",{className:"normal-text footer-start",children:[y.jsx("div",{className:"property-social-icons"}),y.jsx("span",{className:"name-text",children:_})]}),y.jsx("span",{className:"normal-text footer-end",children:y.jsx("span",{className:"name-text",children:j})})]})]})]})]})]})};function L5(e){Mm({className:"share-memo-image-dialog"},j5,{memo:e})}const R5=O.forwardRef((e,t)=>{const{memo:n,handlePinMemoClick:r,handleFixMemoClick:a,handleSourceMemoClick:o,handleShowMemoStoryDialog:s,handleCopyMemoClick:u,handleEditMemoClick:d,handleGenMemoImageBtnClick:m,handleMarkMemoClick:p,handleArchiveMemo:g,handleDeleteMemoClick:w}=e,D=O.useRef(null),S=Ee.getState().dailyNotesState.settings,[T,C]=_o(!1),A=O.useRef(null),N={pinRef:O.useRef(null),fixRef:O.useRef(null),typeRef:O.useRef(null),moreRef:O.useRef(null)},L={copy:O.useRef(null),read:O.useRef(null),mark:O.useRef(null),share:O.useRef(null),edit:O.useRef(null),source:O.useRef(null),archive:O.useRef(null),delete:O.useRef(null)};return O.useEffect(()=>{A.current&&(E.setIcon(L.copy.current,"copy"),E.setIcon(L.read.current,"book-open"),E.setIcon(L.mark.current,"bookmark"),E.setIcon(L.share.current,"share-2"),E.setIcon(L.edit.current,"pencil"),E.setIcon(L.source.current,"home"),E.setIcon(L.archive.current,"archive"),E.setIcon(L.delete.current,"trash"))},[A]),O.useEffect(()=>{if(!N.typeRef)return;const F=Md.find(H=>H.title===n.sourceType);E.setIcon(N.typeRef.current,F.icon),E.requireApiVersion("1.4.4")&&E.setTooltip(N.typeRef.current,n.path),N.fixRef&&(E.setIcon(N.fixRef.current,"shield-alert"),E.requireApiVersion("1.4.4")&&E.setTooltip(N.fixRef.current,"Update Thino property"))},[N.typeRef]),O.useEffect(()=>{N.pinRef&&(n.pinned?(E.setIcon(N.pinRef.current,"pin-off"),E.requireApiVersion("1.4.4")&&E.setTooltip(N.pinRef.current,k("UNPIN"))):(E.setIcon(N.pinRef.current,"pin"),E.requireApiVersion("1.4.4")&&E.setTooltip(N.pinRef.current,k("PIN"))))},[N.pinRef,n.pinned]),O.useImperativeHandle(t,()=>({toggleConfirm:F=>C(F),confirmStatus:T})),y.jsx("div",{ref:A,className:"memo-top-right-wrapper",children:y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:N.fixRef,className:`btn ${n.sourceType!=="MULTI"||n.id!==""?"hidden":""} fix-memo-btn`,onClick:()=>a(n)}),y.jsx("span",{ref:N.typeRef,className:`btn ${n.sourceType==="DAILY"?"hidden":""} source-type-btn`,onClick:()=>o(n)}),y.jsx("span",{ref:N.pinRef,className:`btn ${e.memo.pinned?"pinned-btn":"unpinned-btn"} pro`,onClick:r}),y.jsx("span",{ref:F=>{N.moreRef.current=F,F&&E.setIcon(F,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{ref:D,className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-btn-group more-action-menu-item",children:[y.jsx("span",{ref:L.copy,className:"more-action-item-icon",onClick:u}),y.jsx("span",{ref:L.edit,className:"more-action-item-icon",onClick:d}),y.jsx("span",{ref:L.share,className:"more-action-item-icon",onClick:m})]}),y.jsx("hr",{className:"menu-hr"}),y.jsxs("div",{className:"more-action-menu-item",onClick:s,children:[y.jsx("span",{ref:L.read,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",children:k("READ")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:L.mark,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:p,children:k("MARK")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:L.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:()=>o(n),children:k("SOURCE")})]}),y.jsx("hr",{className:"menu-hr"}),y.jsxs("div",{className:"more-action-menu-item archive-menu-item",children:[y.jsx("span",{ref:L.archive,className:"more-action-item-icon"}),y.jsx("span",{className:"btn delete-btn",onClick:()=>g(n),children:k("ARCHIVE").toUpperCase()})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:L.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${T?"final-confirm":""}`,onClick:async F=>{F.stopPropagation(),F.preventDefault(),await w(F)},children:T?k("CONFIRMÔºÅ"):S.DeleteThinoDirectly?k("DELETE"):k("Recycle bin").toUpperCase()})]}),y.jsx("hr",{className:"menu-hr"}),y.jsx("div",{className:"text-count-item more-action-menu-item",children:y.jsx("span",{className:"btn text-count-btn",children:Re.countWords(n.content)+` ${k("words")}`})})]})})]})})}),_5=e=>{const{memo:t,handleMemoTypeToggle:n,handleShowMemoStoryDialog:r,settings:a}=e;return y.jsxs("div",{className:"memo-top-left-wrapper",children:[e.children,y.jsx("span",{title:t.createdAt,className:"time-text",onClick:r,children:t.createdAt}),y.jsx("div",{className:`btn memo-type-img ${a!=null&&a.ShowTaskLabel?"":"hidden"}`,onClick:n,children:t.thinoType!=="JOURNAL"&&y.jsx("input",{className:"task-list-item-checkbox",type:"checkbox",checked:t.thinoType!=="TASK-TODO","data-task":t.thinoType==="TASK-TODO"?"":t.thinoType==="TASK-DONE"?"x":t.thinoType.slice(5)})})]})},H5=async(e,t,n)=>{const r=n.getAttribute("href"),a=n.className;if(a.contains("tag"))B5(n.innerText.slice(1));else if(a.contains("internal-link")){const o=n.getAttribute("data-href"),s=Te.getMemoById(o??"");s?qd(s):await e.workspace.openLinkText(o,o,!E.Platform.isMobile&&t.navigation!==!0)}else r&&window.open(r,"_blank")},B5=e=>{const t=We.getState().query.tag;We.setTagQuery(t===e?"":e)},Y5=(e,t)=>{const n=t==null?void 0:t.getAttribute("src"),r=t==null?void 0:t.parentElement.getAttribute("src"),a=[...(e==null?void 0:e.querySelectorAll("img"))||[]],o=a.indexOf(t);jm({imgUrl:n,filepath:n.startsWith("app")?r:void 0,otherIMGEls:a,currentIndex:o})},z5=e=>{var r;const t=(r=e.dataset)==null?void 0:r.value,n=Te.getMemoById(t??"");n?qd(n):(new E.Notice("Thino Not Found"),e.classList.remove("memo-link-text"))},U5=async(e,t,n)=>{var o;const r=((o=n.parentElement.dataset)==null?void 0:o.task)==="x"?"DONE":"TODO",a=[...(t==null?void 0:t.querySelectorAll("li.task-list-item"))||[]];for(const s of a)if(s===n||s===n.closest("li.task-list-item")){const u=a.indexOf(s),d=e.content.split(/\n/),m=[];for(let S=0;S<d.length;S++)(d[S].trim().startsWith("- [ ]")||d[S].trim().startsWith("- [x]"))&&m.push(S);const p=m[u],w=d[p].replace(/- \[ \] |- \[x\] /g,r==="TODO"?"- [x] ":"- [ ] ");d[p]=w;const D=d.join(`
`).trim();if(e&&e.content!==D){const S=await Te.updateMemo(e.id,D);Te.editMemo(S)}}},V5=e=>{const{globalState:{editMemoId:t},dailyNotesState:{app:n,view:r,settings:a,verifyState:o},locationState:{pathname:s}}=O.useContext(wt),{memo:u,type:d="inline"}=e,m=O.useRef(null),p=O.useRef(null),[g,w]=O.useState(!1);O.useEffect(()=>{g&&setTimeout(()=>{Qe.setEditMemoId(u.id)},100)},[g]),O.useEffect(()=>{(s==="/review"||s==="/daily")&&t!==u.id&&g&&w(!1)},[t]);const D=()=>{qd(u)},S=()=>{if(a!=null&&a.UseButtonToShowEditor&&(a==null?void 0:a.DefaultEditorLocation)==="Bottom"){const ie=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");ie&&ie.trigger("click")}Qe.setMarkMemoId(u.id)},T=async()=>{var Ie;const ie=!E.Platform.isDesktop&&await((Ie=window.Capacitor)==null?void 0:Ie.Plugins.Device.getId()),he=E.Platform.isDesktop?await zn():ie.identifier||ie.uuid;if(!o||(o==null?void 0:o.appId)!==he){fn();return}u.pinned?await Te.unpinMemoById(u.id):await Te.pinMemoById(u.id)},C=()=>{if(a!=null&&a.UseButtonToShowEditor&&(a==null?void 0:a.DefaultEditorLocation)==="Bottom"&&E.Platform.isMobile){const ie=document.querySelector("div[data-type='thino_view'] .view-content .memo-show-editor-button:not(.hidden)");ie&&ie.trigger("click")}(s==="/review"||s==="/daily")&&w(!0),s!=="/review"&&s!=="/daily"&&Qe.setEditMemoId(u.id)},A=async ie=>{ie.sourceType==="MULTI"&&ie.id.trim()===""&&await Te.updateMemoProperty(ie)},N=async ie=>{await Te.openThinoByID(ie.id)},L=async ie=>{try{const he=await Te.archiveMemo(ie);he&&Te.editMemo(he)}catch(he){console.error(he),new E.Notice(he.message)}},F=async(ie,he)=>{if(!he&&p.current&&!p.current.confirmStatus){p.current&&p.current.toggleConfirm();return}try{if(a.DeleteThinoDirectly)await Te.deleteMemoById(u.id);else{const Ie=await Te.hideMemoById(u.id);Ie&&Te.editMemo(Ie)}}catch(Ie){new E.Notice(Ie.message)}Qe.getState().editMemoId===u.id&&Qe.setEditMemoId("")},H=()=>{if(p.current&&!p.current.confirmStatus){p.current&&p.current.toggleConfirm(!1);return}},j=()=>{L5(u)},_=async()=>{const ie=await Te.updateMemo(u.id,u.content,u.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");ie&&Te.editMemo(ie)},V=async ie=>{ie.stopPropagation(),navigator.clipboard.writeText(u.content).then(()=>{new E.Notice(k("COPY SUCCEED"))}).catch(()=>{new E.Notice(k("COPY FAILED"))})},U=ie=>{ie&&C()},z=async(ie,he)=>{ie.preventDefault();const Ie=ie.target;if(ie.ctrlKey||ie.metaKey){await N(he);return}if(Ie.tagName==="A"){await H5(n,r,Ie);return}if(Ie.tagName==="IMG"){Y5(m.current,Ie);return}if(Ie.tagName==="A"&&Ie.getAttribute("href")){const se=Ie.getAttribute("href");window.open(se,"_blank");return}if(Ie.className==="memo-link-text"){z5(Ie);return}if(Ie.tagName==="INPUT"&&Ie.hasClass("task-list-item-checkbox")){await U5(he,m.current,Ie);return}},q=ie=>{const he=new E.Menu;he.dom.toggleClass("memo-context-menu",!0);const Ie=window.getSelection();(Ie==null?void 0:Ie.toString().length)>0&&he.addItem(se=>{se.setIcon("copy").setTitle(k("Copy selected text")).onClick(()=>{navigator.clipboard.writeText(Ie.toString()).then(()=>{new E.Notice(k("COPY SUCCEED"))}).catch(()=>{new E.Notice(k("COPY FAILED"))})})}).addSeparator(),he.addItem(se=>{se.setIcon("copy").setTitle(k("Copy thino")).onClick(async we=>{await V(we),he.close()})}).addItem(se=>{se.setIcon("book-open").setTitle(k("READ")).onClick(D)}).addItem(se=>{se.setIcon(u.pinned?"pin-off":"pin").setTitle(u.pinned?k("UNPIN"):k("PIN")).onClick(T)}).addItem(se=>{se.setIcon("bookmark").setTitle(k("MARK")).onClick(S)}).addItem(se=>{se.setIcon("share-2").setTitle(k("SHARE")).onClick(j)}).addItem(se=>{se.setIcon("pencil").setTitle(k("EDIT")).onClick(C)}).addItem(se=>{se.setIcon("home").setTitle(k("SOURCE")).onClick(()=>N(u))}).addSeparator().addItem(se=>{se.setIcon("archive").setTitle(k("ARCHIVE")).onClick(()=>L(u))}).addItem(se=>{se.setIcon("trash").setTitle(k("DELETE")).onClick(async we=>{await F(we,!0)})}),he.showAtMouseEvent(ie.nativeEvent)},ee=O.useMemo(()=>({memo:u,handlePinMemoClick:T,handleFixMemoClick:A,handleSourceMemoClick:N,handleArchiveMemo:L,handleDeleteMemoClick:F,handleGenMemoImageBtnClick:j,handleMarkMemoClick:S,handleEditMemoClick:C,handleCopyMemoClick:V,handleShowMemoStoryDialog:D}),[u]),ce=O.useMemo(()=>({memo:u,handleMemoTypeToggle:_,handleShowMemoStoryDialog:D,settings:a}),[u,a]),fe=O.useMemo(()=>y.jsxs("div",{ref:m,className:`memo-wrapper ${u.pinned?"pinned":""}`,"data-source-type":u.sourceType,"data-thino-type":u.thinoType,"data-thino-id":u.id,onMouseLeave:H,onContextMenu:q,children:[g&&y.jsx(xd,{editorType:"inline"}),!g&&y.jsxs(y.Fragment,{children:[d==="inline"&&y.jsxs("div",{className:"memo-top-wrapper",draggable:!0,onDragStart:ie=>{ie.target.classList.add("dragging"),ie.dataTransfer.setDragImage(m.current,0,0),ie.dataTransfer.setData("text/plain",u.content)},onDragEnd:ie=>{ie.target.classList.remove("dragging")},children:[y.jsx(_5,{...ce}),y.jsx(R5,{ref:p,...ee})]}),y.jsx(pE,{memo:u,handleMemoContentClick:z,handleMemoDoubleClick:U})]})]}),[u,g]);return y.jsx(y.Fragment,{children:fe})},Ua=O.memo(V5);function Z5(e,t){if(e==null)return{};var n=W5(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W5(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function gv(){return gv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(this,arguments)}function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(n),!0).forEach(function(r){$5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $5(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const q5={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},P0=2;class vv extends J.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||P0,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||P0});let r=1/0,a=n.default||P0;for(let o in n){const s=parseInt(o);s>0&&t<=s&&s<r&&(r=s,a=n[o])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const t=this.state.columnCount,n=new Array(t),r=J.Children.toArray(this.props.children);for(let a=0;a<r.length;a++){const o=a%t;n[o]||(n[o]=[]),n[o].push(r[a])}return n}renderColumns(){const{column:t,columnAttrs:n={},columnClassName:r}=this.props,a=this.itemsInColumns(),o=`${100/a.length}%`;let s=r;s&&typeof s!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof s>"u"&&(s="my-masonry-grid_column"));const u=Lh(Lh(Lh({},t),n),{},{style:Lh(Lh({},n.style),{},{width:o}),className:s});return a.map((d,m)=>J.createElement("div",gv({},u,{key:m}),d))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:n,breakpointCols:r,columnClassName:a,columnAttrs:o,column:s,className:u}=t,d=Z5(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let m=u;return typeof u!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof u>"u"&&(m="my-masonry-grid")),J.createElement("div",gv({},d,{className:m}),this.renderColumns())}}vv.defaultProps=q5;const WD=e=>{const{thinos:t,dayMark:n,dayMarkRange:r="day"}=e,[a,o]=J.useState(!0),s=J.useRef(null);O.useEffect(()=>{s&&E.setTooltip&&E.setTooltip(s.current,k("Click to expand or fold, Cmd+Click to show all thinos of the day"))},[s]);const u=m=>{if(E.Keymap.isModifier(m.nativeEvent,"Mod")){const p={day:"YYYY-MM-DD",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]Q",year:"YYYY"},g=E.moment(n,p[r]);We.setFromAndToQuery(g.startOf(r).valueOf(),g.endOf(r).valueOf());return}o(!a)},d=O.useMemo(()=>y.jsx(y.Fragment,{children:e.type==="list"?y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:s,className:`day-mark ${a?"":"folded"} PINNED`,onClick:u,children:y.jsxs("span",{className:"day-mark-text",children:[a?"‚ñº ":"‚ñ∂ ",n==="PINNED"?n+" üìå":n]})},n),a&&t.map((m,p)=>y.jsx(Ua,{memo:m},`${m.id}-${E.moment(m.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${p}`))]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{ref:s,className:`day-mark ${a?"":"folded"}`,onClick:u,children:y.jsxs("span",{className:"day-mark-text",children:[a?"‚ñº ":"‚ñ∂ ",n==="PINNED"?n+" üìå":n]})},n),y.jsx(vv,{breakpointCols:e.type==="waterfall"?3:1,className:`${e.type}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:a&&t.map((m,p)=>y.jsx(Ua,{memo:m},`${m.id}-${E.moment(m.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${p}`))})]})}),[t,a]);return y.jsx(y.Fragment,{children:d})};function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function G5(e,t){if(gs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gE(e){var t=G5(e,"string");return gs(t)=="symbol"?t:String(t)}function Ic(e,t,n){return t=gE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(n),!0).forEach(function(r){Ic(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wv(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Ai(e,t){if(e==null)return{};var n=Wv(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gE(r.key),r)}}function gr(e,t,n){return t&&qD(e.prototype,t),n&&qD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yv(e){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(e)}function vE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vE=function(){return!!e})()}function yE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J5(e,t){if(t&&(gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yE(e)}function ea(e,t,n){return t=yv(t),J5(e,vE()?Reflect.construct(t,n||[],yv(e).constructor):t.apply(e,n))}function wv(e,t){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},wv(e,t)}function ta(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wv(e,t)}function wE(e){if(Array.isArray(e))return e}function K5(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,o,s,u=[],d=!0,m=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(m)throw a}}return u}}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k1(e,t){if(e){if(typeof e=="string")return Fw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(e,t)}}function bE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ds(e,t){return wE(e)||K5(e,t)||k1(e,t)||bE()}function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kn.apply(this,arguments)}var Q5=function(e,t,n,r,a,o,s,u){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[n,r,a,o,s,u],p=0;d=new Error(t.replace(/%s/g,function(){return m[p++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},X5=Q5;const rm=Xn(X5);var eO=function(){};function tO(e,t){var n={};return Object.keys(e).forEach(function(r){n[Xg(r)]=eO}),n}function GD(e,t){return e[t]!==void 0}function Xg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function nO(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function rO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wv(e,t)}function DE(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function SE(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function IE(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}DE.__suppressDeprecationWarning=!0;SE.__suppressDeprecationWarning=!0;IE.__suppressDeprecationWarning=!0;function aO(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=DE,t.componentWillReceiveProps=SE),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=IE;var u=t.componentDidUpdate;t.componentDidUpdate=function(m,p,g){var w=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:g;u.call(this,m,p,w)}}return e}var oO="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function TE(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",a=nO(e),o=Object.keys(t),s=o.map(Xg);a||!n.length||rm(!1);var u=function(m){rO(p,m);function p(){for(var w,D=arguments.length,S=new Array(D),T=0;T<D;T++)S[T]=arguments[T];w=m.call.apply(m,[this].concat(S))||this,w.handlers=Object.create(null),o.forEach(function(A){var N=t[A],L=function(H){if(w.props[N]){var j;w._notifying=!0;for(var _=arguments.length,V=new Array(_>1?_-1:0),U=1;U<_;U++)V[U-1]=arguments[U];(j=w.props)[N].apply(j,[H].concat(V)),w._notifying=!1}w.unmounted||w.setState(function(z){var q,ee=z.values;return{values:kn(Object.create(null),ee,(q={},q[A]=H,q))}})};w.handlers[N]=L}),n.length&&(w.attachRef=function(A){w.inner=A});var C=Object.create(null);return o.forEach(function(A){C[A]=w.props[Xg(A)]}),w.state={values:C,prevProps:{}},w}var g=p.prototype;return g.shouldComponentUpdate=function(){return!this._notifying},p.getDerivedStateFromProps=function(D,S){var T=S.values,C=S.prevProps,A={values:kn(Object.create(null),T),prevProps:{}};return o.forEach(function(N){A.prevProps[N]=D[N],!GD(D,N)&&GD(C,N)&&(A.values[N]=D[Xg(N)])}),A},g.componentWillUnmount=function(){this.unmounted=!0},g.render=function(){var D=this,S=this.props,T=S.innerRef,C=Wv(S,["innerRef"]);s.forEach(function(N){delete C[N]});var A={};return o.forEach(function(N){var L=D.props[N];A[N]=L!==void 0?L:D.state.values[N]}),J.createElement(e,kn({},C,A,this.handlers,{ref:T||this.attachRef}))},p}(J.Component);aO(u),u.displayName="Uncontrolled("+r+")",u.propTypes=kn({innerRef:function(){}},tO(t)),n.forEach(function(m){u.prototype[m]=function(){var g;return(g=this.inner)[m].apply(g,arguments)}});var d=u;return J.forwardRef&&(d=J.forwardRef(function(m,p){return J.createElement(u,kn({},m,{innerRef:p,__source:{fileName:oO,lineNumber:128},__self:this}))}),d.propTypes=u.propTypes),d.ControlledComponent=e,d.deferControlTo=function(m,p,g){return p===void 0&&(p={}),TE(m,kn({},t,p),g)},d}function EE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=EE(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Qn(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=EE(e))&&(r&&(r+=" "),r+=t);return r}var CE={exports:{}},j0,JD;function iO(){if(JD)return j0;JD=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return j0=e,j0}var L0,KD;function sO(){if(KD)return L0;KD=1;var e=iO();function t(){}function n(){}return n.resetWarningCache=t,L0=function(){function r(s,u,d,m,p,g){if(g!==e){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},L0}CE.exports=sO()();var lO=CE.exports;const Ae=Xn(lO);var bv="milliseconds",am="seconds",om="minutes",im="hours",Ac="day",jd="week",sm="month",Oc="year",Fc="decade",Pc="century",xE={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},cO={month:1,year:12,decade:10*12,century:100*12};function uO(e){return[31,dO(e),31,30,31,30,31,31,30,31,30,31]}function dO(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ho(e,t,n){switch(e=new Date(e),n){case bv:case am:case om:case im:case Ac:case jd:return fO(e,t*xE[n]);case sm:case Oc:case Fc:case Pc:return hO(e,t*cO[n])}throw new TypeError('Invalid units: "'+n+'"')}function fO(e,t){var n=new Date(+e+t);return mO(e,n)}function hO(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),o=n*12+r+t,s=Math.trunc(o/12),u=o%12,d=Math.min(a,uO(s)[u]),m=new Date(e);return m.setFullYear(s),m.setDate(1),m.setMonth(u),m.setDate(d),m}function mO(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),a=r-n;return new Date(+t+a*xE.minutes)}function lm(e,t,n){return Ho(e,-t,n)}function xr(e,t,n){switch(e=new Date(e),t){case Pc:case Fc:case Oc:e=Sv(e,0);case sm:e=OE(e,1);case jd:case Ac:e=dm(e,0);case im:e=Ld(e,0);case om:e=um(e,0);case am:e=cm(e,0)}return t===Fc&&(e=lm(e,jc(e)%10,"year")),t===Pc&&(e=lm(e,jc(e)%100,"year")),t===jd&&(e=FE(e,0,n)),e}function Dv(e,t,n){switch(e=new Date(e),e=xr(e,t,n),t){case Pc:case Fc:case Oc:case sm:case jd:e=Ho(e,1,t),e=lm(e,1,Ac),e.setHours(23,59,59,999);break;case Ac:e.setHours(23,59,59,999);break;case im:case om:case am:e=Ho(e,1,t),e=lm(e,1,bv)}return e}var Rm=Jd(function(e,t){return e===t}),A1=Jd(function(e,t){return e!==t}),$v=Jd(function(e,t){return e>t}),_m=Jd(function(e,t){return e>=t}),O1=Jd(function(e,t){return e<t}),Gd=Jd(function(e,t){return e<=t});function ME(){return new Date(Math.min.apply(Math,arguments))}function NE(){return new Date(Math.max.apply(Math,arguments))}function kE(e,t,n,r){return r=r||"day",(!t||_m(e,t,r))&&(!n||Gd(e,n,r))}var cm=El("Milliseconds"),um=El("Seconds"),Ld=El("Minutes"),dm=El("Hours"),AE=El("Day"),OE=El("Date"),Sv=El("Month"),jc=El("FullYear");function pO(e,t){return t===void 0?jc(xr(e,Fc)):Ho(e,t+10,Oc)}function gO(e,t){return t===void 0?jc(xr(e,Pc)):Ho(e,t+100,Oc)}function FE(e,t,n){var r=(AE(e)+7-(n||0))%7;return t===void 0?r:Ho(e,t-r,Ac)}function vO(e,t,n,r){var a,o,s;switch(n){case bv:case am:case om:case im:case Ac:case jd:a=t.getTime()-e.getTime();break;case sm:case Oc:case Fc:case Pc:a=(jc(t)-jc(e))*12+Sv(t)-Sv(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case bv:o=1;break;case am:o=1e3;break;case om:o=1e3*60;break;case im:o=1e3*60*60;break;case Ac:o=1e3*60*60*24;break;case jd:o=1e3*60*60*24*7;break;case sm:o=1;break;case Oc:o=12;break;case Fc:o=120;break;case Pc:o=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return s=a/o,r?s:Math.round(s)}function El(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&(e==="Hours"||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function Jd(e){return function(t,n,r){return e(+xr(t,r),+xr(n,r))}}const QD=Object.freeze(Object.defineProperty({__proto__:null,add:Ho,century:gO,date:OE,day:AE,decade:pO,diff:vO,endOf:Dv,eq:Rm,gt:$v,gte:_m,hours:dm,inRange:kE,lt:O1,lte:Gd,max:NE,milliseconds:cm,min:ME,minutes:Ld,month:Sv,neq:A1,seconds:um,startOf:xr,subtract:lm,weekday:FE,year:jc},Symbol.toStringTag,{value:"Module"}));function yO(e){if(Array.isArray(e))return Fw(e)}function PE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ev(e){return yO(e)||PE(e)||k1(e)||wO()}function bO(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(a);++r<a;)o[r]=e[r+t];return o}var jE=bO;function DO(e,t){return e===t||e!==e&&t!==t}var Hm=DO,SO=typeof Jn=="object"&&Jn&&Jn.Object===Object&&Jn,LE=SO,IO=LE,TO=typeof self=="object"&&self&&self.Object===Object&&self,EO=IO||TO||Function("return this")(),Fi=EO,CO=Fi,xO=CO.Symbol,Kd=xO,XD=Kd,RE=Object.prototype,MO=RE.hasOwnProperty,NO=RE.toString,Rh=XD?XD.toStringTag:void 0;function kO(e){var t=MO.call(e,Rh),n=e[Rh];try{e[Rh]=void 0;var r=!0}catch{}var a=NO.call(e);return r&&(t?e[Rh]=n:delete e[Rh]),a}var AO=kO,OO=Object.prototype,FO=OO.toString;function PO(e){return FO.call(e)}var jO=PO,eS=Kd,LO=AO,RO=jO,_O="[object Null]",HO="[object Undefined]",tS=eS?eS.toStringTag:void 0;function BO(e){return e==null?e===void 0?HO:_O:tS&&tS in Object(e)?LO(e):RO(e)}var Qd=BO;function YO(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ds=YO,zO=Qd,UO=Ds,VO="[object AsyncFunction]",ZO="[object Function]",WO="[object GeneratorFunction]",$O="[object Proxy]";function qO(e){if(!UO(e))return!1;var t=zO(e);return t==ZO||t==WO||t==VO||t==$O}var F1=qO,GO=9007199254740991;function JO(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=GO}var P1=JO,KO=F1,QO=P1;function XO(e){return e!=null&&QO(e.length)&&!KO(e)}var Bm=XO,eF=9007199254740991,tF=/^(?:0|[1-9]\d*)$/;function nF(e,t){var n=typeof e;return t=t??eF,!!t&&(n=="number"||n!="symbol"&&tF.test(e))&&e>-1&&e%1==0&&e<t}var j1=nF,rF=Hm,aF=Bm,oF=j1,iF=Ds;function sF(e,t,n){if(!iF(n))return!1;var r=typeof t;return(r=="number"?aF(n)&&oF(t,n.length):r=="string"&&t in n)?rF(n[t],e):!1}var qv=sF,lF=/\s/;function cF(e){for(var t=e.length;t--&&lF.test(e.charAt(t)););return t}var uF=cF,dF=uF,fF=/^\s+/;function hF(e){return e&&e.slice(0,dF(e)+1).replace(fF,"")}var mF=hF;function pF(e){return e!=null&&typeof e=="object"}var Cl=pF,gF=Qd,vF=Cl,yF="[object Symbol]";function wF(e){return typeof e=="symbol"||vF(e)&&gF(e)==yF}var Ym=wF,bF=mF,nS=Ds,DF=Ym,rS=NaN,SF=/^[-+]0x[0-9a-f]+$/i,IF=/^0b[01]+$/i,TF=/^0o[0-7]+$/i,EF=parseInt;function CF(e){if(typeof e=="number")return e;if(DF(e))return rS;if(nS(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=nS(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bF(e);var n=IF.test(e);return n||TF.test(e)?EF(e.slice(2),n?2:8):SF.test(e)?rS:+e}var xF=CF,MF=xF,aS=1/0,NF=17976931348623157e292;function kF(e){if(!e)return e===0?e:0;if(e=MF(e),e===aS||e===-aS){var t=e<0?-1:1;return t*NF}return e===e?e:0}var _E=kF,AF=_E;function OF(e){var t=AF(e),n=t%1;return t===t?n?t-n:t:0}var HE=OF,FF=jE,PF=qv,jF=HE,LF=Math.ceil,RF=Math.max;function _F(e,t,n){(n?PF(e,t,n):t===void 0)?t=1:t=RF(jF(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var a=0,o=0,s=Array(LF(r/t));a<r;)s[o++]=FF(e,a,a+=t);return s}var HF=_F;const BF=Xn(HF);function zm(e){return e&&e.ownerDocument||document}function YF(e){var t=zm(e);return t&&t.defaultView||window}function zF(e,t){return YF(e).getComputedStyle(e,t)}var UF=/([A-Z])/g;function VF(e){return e.replace(UF,"-$1").toLowerCase()}var ZF=/^ms-/;function Pg(e){return VF(e).replace(ZF,"-ms-")}var WF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function $F(e){return!!(e&&WF.test(e))}function Sd(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Pg(t))||zF(e).getPropertyValue(Pg(t));Object.keys(t).forEach(function(a){var o=t[a];!o&&o!==0?e.style.removeProperty(Pg(a)):$F(a)?r+=a+"("+o+") ":n+=Pg(a)+": "+o+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function fm(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function qF(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function L1(e){return"window"in e&&e.window===e?e:qF(e)&&e.defaultView||!1}function BE(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,a){var o=L1(r);if(a===void 0)return o?o[e]:r[t];o?o.scrollTo(o[e],a):r[t]=a}return n}const YE=BE("pageXOffset"),zE=BE("pageYOffset");function Nc(e){var t=zm(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!fm(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+zE(r)-(r.clientTop||0),left:n.left+YE(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var GF=function(t){return!!t&&"offsetParent"in t};function JF(e){for(var t=zm(e),n=e&&e.offsetParent;GF(n)&&n.nodeName!=="HTML"&&Sd(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var KF=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function UE(e,t){var n={top:0,left:0},r;if(Sd(e,"position")==="fixed")r=e.getBoundingClientRect();else{var a=t||JF(e);r=Nc(e),KF(a)!=="html"&&(n=Nc(a));var o=String(Sd(a,"borderTopWidth")||0);n.top+=parseInt(o,10)-zE(a)||0;var s=String(Sd(a,"borderLeftWidth")||0);n.left+=parseInt(s,10)-YE(a)||0}var u=String(Sd(e,"marginTop")||0),d=String(Sd(e,"marginLeft")||0);return kn({},r,{top:r.top-n.top-(parseInt(u,10)||0),left:r.left-n.left-(parseInt(d,10)||0)})}const R1=!!(typeof window<"u"&&window.document&&window.document.createElement);var oS=new Date().getTime();function QF(e){var t=new Date().getTime(),n=Math.max(0,16-(t-oS)),r=setTimeout(e,n);return oS=t,r}var XF=["","webkit","moz","o","ms"],Pw="clearTimeout",jw=QF,iS=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};R1&&XF.some(function(e){var t=iS(e,"request");return t in window&&(Pw=iS(e,"cancel"),jw=function(r){return window[t](r)}),!!jw});var sS=function(t){typeof window[Pw]=="function"&&window[Pw](t)},VE=jw,R0;function e7(e,t){if(!R0){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;R0=function(o,s){return r.call(o,s)}}return R0(e,t)}var t7=Function.prototype.bind.call(Function.prototype.call,[].slice);function n7(e,t){return t7(e.querySelectorAll(t))}var Lw=!1,Rw=!1;try{var _0={get passive(){return Lw=!0},get once(){return Rw=Lw=!0}};R1&&(window.addEventListener("test",_0,_0),window.removeEventListener("test",_0,!0))}catch{}function r7(e,t,n,r){if(r&&typeof r!="boolean"&&!Rw){var a=r.once,o=r.capture,s=n;!Rw&&a&&(s=n.__once||function u(d){this.removeEventListener(t,u,o),n.call(this,d)},n.__once=s),e.addEventListener(t,s,Lw?r:o)}e.addEventListener(t,n,r)}function a7(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e},[e]),t}function lS(e){const t=a7(e);return O.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function cS(){return O.useState(null)}function o7(){const e=O.useRef(!0),t=O.useRef(()=>e.current);return O.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function i7(e){const t=o7();return[e[0],O.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var s7=sE({defaultModifiers:[rE,oE,QT,XT,aE,nE,iE,KT]}),uS=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},l7={name:"applyStyles",enabled:!1},c7={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,a=r.reference,o=r.popper;if("removeAttribute"in a){var s=(a.getAttribute("aria-describedby")||"").split(",").filter(function(u){return u.trim()!==o.id});s.length?a.setAttribute("aria-describedby",s.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,a=r.elements,o=a.popper,s=a.reference,u=(n=o.getAttribute("role"))==null?void 0:n.toLowerCase();if(o.id&&u==="tooltip"&&"setAttribute"in s){var d=s.getAttribute("aria-describedby");if(d&&d.split(",").indexOf(o.id)!==-1)return;s.setAttribute("aria-describedby",d?d+","+o.id:o.id)}}},u7=[];function d7(e,t,n){var r=n===void 0?{}:n,a=r.enabled,o=a===void 0?!0:a,s=r.placement,u=s===void 0?"bottom":s,d=r.strategy,m=d===void 0?"absolute":d,p=r.modifiers,g=p===void 0?u7:p,w=Wv(r,["enabled","placement","strategy","modifiers"]),D=O.useRef(),S=O.useCallback(function(){var F;(F=D.current)==null||F.update()},[]),T=O.useCallback(function(){var F;(F=D.current)==null||F.forceUpdate()},[]),C=i7(O.useState({placement:u,update:S,forceUpdate:T,attributes:{},styles:{popper:uS(m),arrow:{}}})),A=C[0],N=C[1],L=O.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(H){var j=H.state,_={},V={};Object.keys(j.elements).forEach(function(U){_[U]=j.styles[U],V[U]=j.attributes[U]}),N({state:j,styles:_,attributes:V,update:S,forceUpdate:T,placement:j.placement})}}},[S,T,N]);return O.useEffect(function(){!D.current||!o||D.current.setOptions({placement:u,strategy:m,modifiers:[].concat(g,[L,l7])})},[m,u,L,o]),O.useEffect(function(){if(!(!o||e==null||t==null))return D.current=s7(e,t,kn({},w,{placement:u,strategy:m,modifiers:[].concat(g,[c7,L])})),function(){D.current!=null&&(D.current.destroy(),D.current=void 0,N(function(F){return kn({},F,{attributes:{},styles:{popper:uS(m)}})}))}},[o,e,t]),A}function f7(e,t,n,r){var a=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}function Uh(e,t,n,r){return r7(e,t,n,r),function(){f7(e,t,n,r)}}function h7(e){return e&&"setState"in e?D1.findDOMNode(e):e??null}const m7=function(e){return zm(h7(e))};var p7=27,dS=function(){};function g7(e){return e.button===0}function v7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var fS=function(t){return t&&("current"in t?t.current:t)};function y7(e,t,n){var r=n===void 0?{}:n,a=r.disabled,o=r.clickTrigger,s=o===void 0?"click":o,u=O.useRef(!1),d=t||dS,m=O.useCallback(function(w){var D,S=fS(e);n5(!!S,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),u.current=!S||v7(w)||!g7(w)||!!fm(S,(D=w.composedPath==null?void 0:w.composedPath()[0])!=null?D:w.target)},[e]),p=lS(function(w){u.current||d(w)}),g=lS(function(w){w.keyCode===p7&&d(w)});O.useEffect(function(){if(!(a||e==null)){var w=window.event,D=m7(fS(e)),S=Uh(D,s,m,!0),T=Uh(D,s,function(N){if(N===w){w=void 0;return}p(N)}),C=Uh(D,"keyup",function(N){if(N===w){w=void 0;return}g(N)}),A=[];return"ontouchstart"in D.documentElement&&(A=[].slice.call(D.body.children).map(function(N){return Uh(N,"mousemove",dS)})),function(){S(),T(),C(),A.forEach(function(N){return N()})}}},[e,a,s,m,p,g])}function w7(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function b7(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function D7(e){var t,n,r,a,o=e.enabled,s=e.enableEvents,u=e.placement,d=e.flip,m=e.offset,p=e.fixed,g=e.containerPadding,w=e.arrowElement,D=e.popperConfig,S=D===void 0?{}:D,T=w7(S.modifiers);return kn({},S,{placement:u,enabled:o,strategy:p?"fixed":S.strategy,modifiers:b7(kn({},T,{eventListeners:{enabled:s},preventOverflow:kn({},T.preventOverflow,{options:g?kn({padding:g},(t=T.preventOverflow)==null?void 0:t.options):(n=T.preventOverflow)==null?void 0:n.options}),offset:{options:kn({offset:m},(r=T.offset)==null?void 0:r.options)},arrow:kn({},T.arrow,{enabled:!!w,options:kn({},(a=T.arrow)==null?void 0:a.options,{element:w})}),flip:kn({enabled:!!d},T.flip)}))})}function S7(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function I7(e,t){e.classList?e.classList.add(t):S7(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function hS(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function T7(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=hS(e.className,t):e.setAttribute("class",hS(e.className&&e.className.baseVal||"",t))}var jg;function ZE(e){if((!jg&&jg!==0||e)&&R1){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),jg=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return jg}var H0=function(t){var n;return typeof document>"u"?null:t==null?zm().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function mS(e,t){var n=O.useState(function(){return H0(e)}),r=n[0],a=n[1];if(!r){var o=H0(e);o&&a(o)}return O.useEffect(function(){t&&r&&t(r)},[t,r]),O.useEffect(function(){var s=H0(e);s!==r&&a(s)},[e,r]),r}const pS=e=>!e||typeof e=="function"?e:t=>{e.current=t};function E7(e,t){const n=pS(e),r=pS(t);return a=>{n&&n(a),r&&r(a)}}function C7(e,t){return O.useMemo(()=>E7(e,t),[e,t])}var _1=J.forwardRef(function(e,t){var n=e.flip,r=e.offset,a=e.placement,o=e.containerPadding,s=o===void 0?5:o,u=e.popperConfig,d=u===void 0?{}:u,m=e.transition,p=cS(),g=p[0],w=p[1],D=cS(),S=D[0],T=D[1],C=C7(w,t),A=mS(e.container),N=mS(e.target),L=O.useState(!e.show),F=L[0],H=L[1],j=d7(N,g,D7({placement:a,enableEvents:!!e.show,containerPadding:s||5,flip:n,offset:r,arrowElement:S,popperConfig:d})),_=j.styles,V=j.attributes,U=Wv(j,["styles","attributes"]);e.show?F&&H(!1):!e.transition&&!F&&H(!0);var z=function(){H(!0),e.onExited&&e.onExited.apply(e,arguments)},q=e.show||m&&!F;if(y7(g,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!q)return null;var ee=e.children(kn({},U,{show:!!e.show,props:kn({},V.popper,{style:_.popper,ref:C}),arrowProps:kn({},V.arrow,{style:_.arrow,ref:T})}));if(m){var ce=e.onExit,fe=e.onExiting,ie=e.onEnter,he=e.onEntering,Ie=e.onEntered;ee=J.createElement(m,{in:e.show,appear:!0,onExit:ce,onExiting:fe,onExited:z,onEnter:ie,onEntering:he,onEntered:Ie},ee)}return A?D1.createPortal(ee,A):null});_1.displayName="Overlay";_1.propTypes={show:Ae.bool,placement:Ae.oneOf(I1),target:Ae.any,container:Ae.any,flip:Ae.bool,children:Ae.func.isRequired,containerPadding:Ae.number,popperConfig:Ae.object,rootClose:Ae.bool,rootCloseEvent:Ae.oneOf(["click","mousedown"]),rootCloseDisabled:Ae.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(t.rootClose){var o;return(o=Ae.func).isRequired.apply(o,[t].concat(r))}return Ae.func.apply(Ae,[t].concat(r))},transition:Ae.elementType,onEnter:Ae.func,onEntering:Ae.func,onEntered:Ae.func,onExit:Ae.func,onExiting:Ae.func,onExited:Ae.func};const x7=_1;function M7(){this.__data__=[],this.size=0}var N7=M7,k7=Hm;function A7(e,t){for(var n=e.length;n--;)if(k7(e[n][0],t))return n;return-1}var Gv=A7,O7=Gv,F7=Array.prototype,P7=F7.splice;function j7(e){var t=this.__data__,n=O7(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():P7.call(t,n,1),--this.size,!0}var L7=j7,R7=Gv;function _7(e){var t=this.__data__,n=R7(t,e);return n<0?void 0:t[n][1]}var H7=_7,B7=Gv;function Y7(e){return B7(this.__data__,e)>-1}var z7=Y7,U7=Gv;function V7(e,t){var n=this.__data__,r=U7(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Z7=V7,W7=N7,$7=L7,q7=H7,G7=z7,J7=Z7;function Xd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xd.prototype.clear=W7;Xd.prototype.delete=$7;Xd.prototype.get=q7;Xd.prototype.has=G7;Xd.prototype.set=J7;var Jv=Xd,K7=Jv;function Q7(){this.__data__=new K7,this.size=0}var X7=Q7;function eP(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var tP=eP;function nP(e){return this.__data__.get(e)}var rP=nP;function aP(e){return this.__data__.has(e)}var oP=aP,iP=Fi,sP=iP["__core-js_shared__"],lP=sP,B0=lP,gS=function(){var e=/[^.]+$/.exec(B0&&B0.keys&&B0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cP(e){return!!gS&&gS in e}var uP=cP,dP=Function.prototype,fP=dP.toString;function hP(e){if(e!=null){try{return fP.call(e)}catch{}try{return e+""}catch{}}return""}var WE=hP,mP=F1,pP=uP,gP=Ds,vP=WE,yP=/[\\^$.*+?()[\]{}|]/g,wP=/^\[object .+?Constructor\]$/,bP=Function.prototype,DP=Object.prototype,SP=bP.toString,IP=DP.hasOwnProperty,TP=RegExp("^"+SP.call(IP).replace(yP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EP(e){if(!gP(e)||pP(e))return!1;var t=mP(e)?TP:wP;return t.test(vP(e))}var CP=EP;function xP(e,t){return e==null?void 0:e[t]}var MP=xP,NP=CP,kP=MP;function AP(e,t){var n=kP(e,t);return NP(n)?n:void 0}var Bc=AP,OP=Bc,FP=Fi,PP=OP(FP,"Map"),H1=PP,jP=Bc,LP=jP(Object,"create"),Kv=LP,vS=Kv;function RP(){this.__data__=vS?vS(null):{},this.size=0}var _P=RP;function HP(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var BP=HP,YP=Kv,zP="__lodash_hash_undefined__",UP=Object.prototype,VP=UP.hasOwnProperty;function ZP(e){var t=this.__data__;if(YP){var n=t[e];return n===zP?void 0:n}return VP.call(t,e)?t[e]:void 0}var WP=ZP,$P=Kv,qP=Object.prototype,GP=qP.hasOwnProperty;function JP(e){var t=this.__data__;return $P?t[e]!==void 0:GP.call(t,e)}var KP=JP,QP=Kv,XP="__lodash_hash_undefined__";function ej(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=QP&&t===void 0?XP:t,this}var tj=ej,nj=_P,rj=BP,aj=WP,oj=KP,ij=tj;function ef(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ef.prototype.clear=nj;ef.prototype.delete=rj;ef.prototype.get=aj;ef.prototype.has=oj;ef.prototype.set=ij;var sj=ef,yS=sj,lj=Jv,cj=H1;function uj(){this.size=0,this.__data__={hash:new yS,map:new(cj||lj),string:new yS}}var dj=uj;function fj(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var hj=fj,mj=hj;function pj(e,t){var n=e.__data__;return mj(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Qv=pj,gj=Qv;function vj(e){var t=gj(this,e).delete(e);return this.size-=t?1:0,t}var yj=vj,wj=Qv;function bj(e){return wj(this,e).get(e)}var Dj=bj,Sj=Qv;function Ij(e){return Sj(this,e).has(e)}var Tj=Ij,Ej=Qv;function Cj(e,t){var n=Ej(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var xj=Cj,Mj=dj,Nj=yj,kj=Dj,Aj=Tj,Oj=xj;function tf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tf.prototype.clear=Mj;tf.prototype.delete=Nj;tf.prototype.get=kj;tf.prototype.has=Aj;tf.prototype.set=Oj;var B1=tf,Fj=Jv,Pj=H1,jj=B1,Lj=200;function Rj(e,t){var n=this.__data__;if(n instanceof Fj){var r=n.__data__;if(!Pj||r.length<Lj-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jj(r)}return n.set(e,t),this.size=n.size,this}var _j=Rj,Hj=Jv,Bj=X7,Yj=tP,zj=rP,Uj=oP,Vj=_j;function nf(e){var t=this.__data__=new Hj(e);this.size=t.size}nf.prototype.clear=Bj;nf.prototype.delete=Yj;nf.prototype.get=zj;nf.prototype.has=Uj;nf.prototype.set=Vj;var Y1=nf,Zj="__lodash_hash_undefined__";function Wj(e){return this.__data__.set(e,Zj),this}var $j=Wj;function qj(e){return this.__data__.has(e)}var Gj=qj,Jj=B1,Kj=$j,Qj=Gj;function Iv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Jj;++t<n;)this.add(e[t])}Iv.prototype.add=Iv.prototype.push=Kj;Iv.prototype.has=Qj;var Xj=Iv;function eL(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var tL=eL;function nL(e,t){return e.has(t)}var rL=nL,aL=Xj,oL=tL,iL=rL,sL=1,lL=2;function cL(e,t,n,r,a,o){var s=n&sL,u=e.length,d=t.length;if(u!=d&&!(s&&d>u))return!1;var m=o.get(e),p=o.get(t);if(m&&p)return m==t&&p==e;var g=-1,w=!0,D=n&lL?new aL:void 0;for(o.set(e,t),o.set(t,e);++g<u;){var S=e[g],T=t[g];if(r)var C=s?r(T,S,g,t,e,o):r(S,T,g,e,t,o);if(C!==void 0){if(C)continue;w=!1;break}if(D){if(!oL(t,function(A,N){if(!iL(D,N)&&(S===A||a(S,A,n,r,o)))return D.push(N)})){w=!1;break}}else if(!(S===T||a(S,T,n,r,o))){w=!1;break}}return o.delete(e),o.delete(t),w}var $E=cL,uL=Fi,dL=uL.Uint8Array,qE=dL;function fL(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var hL=fL;function mL(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var pL=mL,wS=Kd,bS=qE,gL=Hm,vL=$E,yL=hL,wL=pL,bL=1,DL=2,SL="[object Boolean]",IL="[object Date]",TL="[object Error]",EL="[object Map]",CL="[object Number]",xL="[object RegExp]",ML="[object Set]",NL="[object String]",kL="[object Symbol]",AL="[object ArrayBuffer]",OL="[object DataView]",DS=wS?wS.prototype:void 0,Y0=DS?DS.valueOf:void 0;function FL(e,t,n,r,a,o,s){switch(n){case OL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case AL:return!(e.byteLength!=t.byteLength||!o(new bS(e),new bS(t)));case SL:case IL:case CL:return gL(+e,+t);case TL:return e.name==t.name&&e.message==t.message;case xL:case NL:return e==t+"";case EL:var u=yL;case ML:var d=r&bL;if(u||(u=wL),e.size!=t.size&&!d)return!1;var m=s.get(e);if(m)return m==t;r|=DL,s.set(e,t);var p=vL(u(e),u(t),r,a,o,s);return s.delete(e),p;case kL:if(Y0)return Y0.call(e)==Y0.call(t)}return!1}var PL=FL;function jL(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var z1=jL,LL=Array.isArray,ho=LL,RL=z1,_L=ho;function HL(e,t,n){var r=t(e);return _L(e)?r:RL(r,n(e))}var GE=HL;function BL(e,t){for(var n=-1,r=e==null?0:e.length,a=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[a++]=s)}return o}var YL=BL;function zL(){return[]}var JE=zL,UL=YL,VL=JE,ZL=Object.prototype,WL=ZL.propertyIsEnumerable,SS=Object.getOwnPropertySymbols,$L=SS?function(e){return e==null?[]:(e=Object(e),UL(SS(e),function(t){return WL.call(e,t)}))}:VL,U1=$L;function qL(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var GL=qL,JL=Qd,KL=Cl,QL="[object Arguments]";function XL(e){return KL(e)&&JL(e)==QL}var eR=XL,IS=eR,tR=Cl,KE=Object.prototype,nR=KE.hasOwnProperty,rR=KE.propertyIsEnumerable,aR=IS(function(){return arguments}())?IS:function(e){return tR(e)&&nR.call(e,"callee")&&!rR.call(e,"callee")},V1=aR,Tv={exports:{}};function oR(){return!1}var iR=oR;Tv.exports;(function(e,t){var n=Fi,r=iR,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===a,u=s?n.Buffer:void 0,d=u?u.isBuffer:void 0,m=d||r;e.exports=m})(Tv,Tv.exports);var Xv=Tv.exports,sR=Qd,lR=P1,cR=Cl,uR="[object Arguments]",dR="[object Array]",fR="[object Boolean]",hR="[object Date]",mR="[object Error]",pR="[object Function]",gR="[object Map]",vR="[object Number]",yR="[object Object]",wR="[object RegExp]",bR="[object Set]",DR="[object String]",SR="[object WeakMap]",IR="[object ArrayBuffer]",TR="[object DataView]",ER="[object Float32Array]",CR="[object Float64Array]",xR="[object Int8Array]",MR="[object Int16Array]",NR="[object Int32Array]",kR="[object Uint8Array]",AR="[object Uint8ClampedArray]",OR="[object Uint16Array]",FR="[object Uint32Array]",dn={};dn[ER]=dn[CR]=dn[xR]=dn[MR]=dn[NR]=dn[kR]=dn[AR]=dn[OR]=dn[FR]=!0;dn[uR]=dn[dR]=dn[IR]=dn[fR]=dn[TR]=dn[hR]=dn[mR]=dn[pR]=dn[gR]=dn[vR]=dn[yR]=dn[wR]=dn[bR]=dn[DR]=dn[SR]=!1;function PR(e){return cR(e)&&lR(e.length)&&!!dn[sR(e)]}var jR=PR;function LR(e){return function(t){return e(t)}}var ey=LR,Ev={exports:{}};Ev.exports;(function(e,t){var n=LE,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,s=o&&n.process,u=function(){try{var d=a&&a.require&&a.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();e.exports=u})(Ev,Ev.exports);var Z1=Ev.exports,RR=jR,_R=ey,TS=Z1,ES=TS&&TS.isTypedArray,HR=ES?_R(ES):RR,W1=HR,BR=GL,YR=V1,zR=ho,UR=Xv,VR=j1,ZR=W1,WR=Object.prototype,$R=WR.hasOwnProperty;function qR(e,t){var n=zR(e),r=!n&&YR(e),a=!n&&!r&&UR(e),o=!n&&!r&&!a&&ZR(e),s=n||r||a||o,u=s?BR(e.length,String):[],d=u.length;for(var m in e)(t||$R.call(e,m))&&!(s&&(m=="length"||a&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||VR(m,d)))&&u.push(m);return u}var QE=qR,GR=Object.prototype;function JR(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||GR;return e===n}var $1=JR;function KR(e,t){return function(n){return e(t(n))}}var XE=KR,QR=XE,XR=QR(Object.keys,Object),e_=XR,t_=$1,n_=e_,r_=Object.prototype,a_=r_.hasOwnProperty;function o_(e){if(!t_(e))return n_(e);var t=[];for(var n in Object(e))a_.call(e,n)&&n!="constructor"&&t.push(n);return t}var i_=o_,s_=QE,l_=i_,c_=Bm;function u_(e){return c_(e)?s_(e):l_(e)}var Um=u_,d_=GE,f_=U1,h_=Um;function m_(e){return d_(e,h_,f_)}var eC=m_,CS=eC,p_=1,g_=Object.prototype,v_=g_.hasOwnProperty;function y_(e,t,n,r,a,o){var s=n&p_,u=CS(e),d=u.length,m=CS(t),p=m.length;if(d!=p&&!s)return!1;for(var g=d;g--;){var w=u[g];if(!(s?w in t:v_.call(t,w)))return!1}var D=o.get(e),S=o.get(t);if(D&&S)return D==t&&S==e;var T=!0;o.set(e,t),o.set(t,e);for(var C=s;++g<d;){w=u[g];var A=e[w],N=t[w];if(r)var L=s?r(N,A,w,t,e,o):r(A,N,w,e,t,o);if(!(L===void 0?A===N||a(A,N,n,r,o):L)){T=!1;break}C||(C=w=="constructor")}if(T&&!C){var F=e.constructor,H=t.constructor;F!=H&&"constructor"in e&&"constructor"in t&&!(typeof F=="function"&&F instanceof F&&typeof H=="function"&&H instanceof H)&&(T=!1)}return o.delete(e),o.delete(t),T}var w_=y_,b_=Bc,D_=Fi,S_=b_(D_,"DataView"),I_=S_,T_=Bc,E_=Fi,C_=T_(E_,"Promise"),x_=C_,M_=Bc,N_=Fi,k_=M_(N_,"Set"),A_=k_,O_=Bc,F_=Fi,P_=O_(F_,"WeakMap"),j_=P_,_w=I_,Hw=H1,Bw=x_,Yw=A_,zw=j_,tC=Qd,rf=WE,xS="[object Map]",L_="[object Object]",MS="[object Promise]",NS="[object Set]",kS="[object WeakMap]",AS="[object DataView]",R_=rf(_w),__=rf(Hw),H_=rf(Bw),B_=rf(Yw),Y_=rf(zw),Sc=tC;(_w&&Sc(new _w(new ArrayBuffer(1)))!=AS||Hw&&Sc(new Hw)!=xS||Bw&&Sc(Bw.resolve())!=MS||Yw&&Sc(new Yw)!=NS||zw&&Sc(new zw)!=kS)&&(Sc=function(e){var t=tC(e),n=t==L_?e.constructor:void 0,r=n?rf(n):"";if(r)switch(r){case R_:return AS;case __:return xS;case H_:return MS;case B_:return NS;case Y_:return kS}return t});var ty=Sc,z0=Y1,z_=$E,U_=PL,V_=w_,OS=ty,FS=ho,PS=Xv,Z_=W1,W_=1,jS="[object Arguments]",LS="[object Array]",Lg="[object Object]",$_=Object.prototype,RS=$_.hasOwnProperty;function q_(e,t,n,r,a,o){var s=FS(e),u=FS(t),d=s?LS:OS(e),m=u?LS:OS(t);d=d==jS?Lg:d,m=m==jS?Lg:m;var p=d==Lg,g=m==Lg,w=d==m;if(w&&PS(e)){if(!PS(t))return!1;s=!0,p=!1}if(w&&!p)return o||(o=new z0),s||Z_(e)?z_(e,t,n,r,a,o):U_(e,t,d,n,r,a,o);if(!(n&W_)){var D=p&&RS.call(e,"__wrapped__"),S=g&&RS.call(t,"__wrapped__");if(D||S){var T=D?e.value():e,C=S?t.value():t;return o||(o=new z0),a(T,C,n,r,o)}}return w?(o||(o=new z0),V_(e,t,n,r,a,o)):!1}var G_=q_,J_=G_,_S=Cl;function nC(e,t,n,r,a){return e===t?!0:e==null||t==null||!_S(e)&&!_S(t)?e!==e&&t!==t:J_(e,t,n,r,nC,a)}var q1=nC,K_=q1;function Q_(e,t){return K_(e,t)}var X_=Q_;const eH=Xn(X_);function U0(e,t){var n=L1(e);return n?n.innerHeight:t?e.clientHeight:Nc(e).height}function rC(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(e7(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function tH(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}var nH=tH,rH=Y1,aH=q1,oH=1,iH=2;function sH(e,t,n,r){var a=n.length,o=a,s=!r;if(e==null)return!o;for(e=Object(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){u=n[a];var d=u[0],m=e[d],p=u[1];if(s&&u[2]){if(m===void 0&&!(d in e))return!1}else{var g=new rH;if(r)var w=r(m,p,d,e,t,g);if(!(w===void 0?aH(p,m,oH|iH,r,g):w))return!1}}return!0}var lH=sH,cH=Ds;function uH(e){return e===e&&!cH(e)}var aC=uH,dH=aC,fH=Um;function hH(e){for(var t=fH(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,dH(a)]}return t}var mH=hH;function pH(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var oC=pH,gH=lH,vH=mH,yH=oC;function wH(e){var t=vH(e);return t.length==1&&t[0][2]?yH(t[0][0],t[0][1]):function(n){return n===e||gH(n,e,t)}}var bH=wH,DH=ho,SH=Ym,IH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TH=/^\w*$/;function EH(e,t){if(DH(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||SH(e)?!0:TH.test(e)||!IH.test(e)||t!=null&&e in Object(t)}var G1=EH,iC=B1,CH="Expected a function";function J1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(CH);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=e.apply(this,r);return n.cache=o.set(a,s)||o,s};return n.cache=new(J1.Cache||iC),n}J1.Cache=iC;var xH=J1,MH=xH,NH=500;function kH(e){var t=MH(e,function(r){return n.size===NH&&n.clear(),r}),n=t.cache;return t}var AH=kH,OH=AH,FH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PH=/\\(\\)?/g,jH=OH(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(FH,function(n,r,a,o){t.push(a?o.replace(PH,"$1"):r||n)}),t}),LH=jH;function RH(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var K1=RH,HS=Kd,_H=K1,HH=ho,BH=Ym,YH=1/0,BS=HS?HS.prototype:void 0,YS=BS?BS.toString:void 0;function sC(e){if(typeof e=="string")return e;if(HH(e))return _H(e,sC)+"";if(BH(e))return YS?YS.call(e):"";var t=e+"";return t=="0"&&1/e==-YH?"-0":t}var zH=sC,UH=zH;function VH(e){return e==null?"":UH(e)}var ZH=VH,WH=ho,$H=G1,qH=LH,GH=ZH;function JH(e,t){return WH(e)?e:$H(e,t)?[e]:qH(GH(e))}var ny=JH,KH=Ym,QH=1/0;function XH(e){if(typeof e=="string"||KH(e))return e;var t=e+"";return t=="0"&&1/e==-QH?"-0":t}var Vm=XH,eB=ny,tB=Vm;function nB(e,t){t=eB(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[tB(t[n++])];return n&&n==r?e:void 0}var ry=nB,rB=ry;function aB(e,t,n){var r=e==null?void 0:rB(e,t);return r===void 0?n:r}var oB=aB;function iB(e,t){return e!=null&&t in Object(e)}var sB=iB,lB=ny,cB=V1,uB=ho,dB=j1,fB=P1,hB=Vm;function mB(e,t,n){t=lB(t,e);for(var r=-1,a=t.length,o=!1;++r<a;){var s=hB(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=a?o:(a=e==null?0:e.length,!!a&&fB(a)&&dB(s,a)&&(uB(e)||cB(e)))}var pB=mB,gB=sB,vB=pB;function yB(e,t){return e!=null&&vB(e,t,gB)}var wB=yB,bB=q1,DB=oB,SB=wB,IB=G1,TB=aC,EB=oC,CB=Vm,xB=1,MB=2;function NB(e,t){return IB(e)&&TB(t)?EB(CB(e),t):function(n){var r=DB(n,e);return r===void 0&&r===t?SB(n,e):bB(t,r,xB|MB)}}var kB=NB;function AB(e){return e}var ay=AB;function OB(e){return function(t){return t==null?void 0:t[e]}}var FB=OB,PB=ry;function jB(e){return function(t){return PB(t,e)}}var LB=jB,RB=FB,_B=LB,HB=G1,BB=Vm;function YB(e){return HB(e)?RB(BB(e)):_B(e)}var zB=YB,UB=bH,VB=kB,ZB=ay,WB=ho,$B=zB;function qB(e){return typeof e=="function"?e:e==null?ZB:typeof e=="object"?WB(e)?VB(e[0],e[1]):UB(e):$B(e)}var oy=qB,GB=nH,JB=oy,KB=HE,QB=Math.max;function XB(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:KB(n);return a<0&&(a=QB(r+a,0)),GB(e,JB(t),a)}var eY=XB;const tY=Xn(eY);var nY=Math.ceil,rY=Math.max;function aY(e,t,n,r){for(var a=-1,o=rY(nY((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++a]=e,e+=n;return s}var oY=aY,iY=oY,sY=qv,V0=_E;function lY(e){return function(t,n,r){return r&&typeof r!="number"&&sY(t,n,r)&&(n=r=void 0),t=V0(t),n===void 0?(n=t,t=0):n=V0(n),r=r===void 0?t<n?1:-1:V0(r),iY(t,n,r,e)}}var cY=lY,uY=cY,dY=uY(),fY=dY;const hY=Xn(fY);var zS=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function mY(e,t){return!!(e===t||zS(e)&&zS(t))}function pY(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!mY(e[n],t[n]))return!1;return!0}function lC(e,t){t===void 0&&(t=pY);var n=null;function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var s=e.apply(this,a);return n={lastResult:s,lastArgs:a,lastThis:this},s}return r.clear=function(){n=null},r}var US=Kd,gY=V1,vY=ho,VS=US?US.isConcatSpreadable:void 0;function yY(e){return vY(e)||gY(e)||!!(VS&&e&&e[VS])}var wY=yY,bY=z1,DY=wY;function cC(e,t,n,r,a){var o=-1,s=e.length;for(n||(n=DY),a||(a=[]);++o<s;){var u=e[o];t>0&&n(u)?t>1?cC(u,t-1,n,r,a):bY(a,u):r||(a[a.length]=u)}return a}var uC=cC;function SY(e){return function(t,n,r){for(var a=-1,o=Object(t),s=r(t),u=s.length;u--;){var d=s[e?u:++a];if(n(o[d],d,o)===!1)break}return t}}var IY=SY,TY=IY,EY=TY(),CY=EY,xY=CY,MY=Um;function NY(e,t){return e&&xY(e,t,MY)}var Q1=NY,kY=Bm;function AY(e,t){return function(n,r){if(n==null)return n;if(!kY(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&r(s[o],o,s)!==!1;);return n}}var OY=AY,FY=Q1,PY=OY,jY=PY(FY),LY=jY,RY=LY,_Y=Bm;function HY(e,t){var n=-1,r=_Y(e)?Array(e.length):[];return RY(e,function(a,o,s){r[++n]=t(a,o,s)}),r}var BY=HY;function YY(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var zY=YY,ZS=Ym;function UY(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,o=ZS(e),s=t!==void 0,u=t===null,d=t===t,m=ZS(t);if(!u&&!m&&!o&&e>t||o&&s&&d&&!u&&!m||r&&s&&d||!n&&d||!a)return 1;if(!r&&!o&&!m&&e<t||m&&n&&a&&!r&&!o||u&&n&&a||!s&&a||!d)return-1}return 0}var VY=UY,ZY=VY;function WY(e,t,n){for(var r=-1,a=e.criteria,o=t.criteria,s=a.length,u=n.length;++r<s;){var d=ZY(a[r],o[r]);if(d){if(r>=u)return d;var m=n[r];return d*(m=="desc"?-1:1)}}return e.index-t.index}var $Y=WY,Z0=K1,qY=ry,GY=oy,JY=BY,KY=zY,QY=ey,XY=$Y,ez=ay,tz=ho;function nz(e,t,n){t.length?t=Z0(t,function(o){return tz(o)?function(s){return qY(s,o.length===1?o[0]:o)}:o}):t=[ez];var r=-1;t=Z0(t,QY(GY));var a=JY(e,function(o,s,u){var d=Z0(t,function(m){return m(o)});return{criteria:d,index:++r,value:o}});return KY(a,function(o,s){return XY(o,s,n)})}var rz=nz;function az(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var oz=az,iz=oz,WS=Math.max;function sz(e,t,n){return t=WS(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=WS(r.length-t,0),s=Array(o);++a<o;)s[a]=r[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=r[a];return u[t]=n(s),iz(e,this,u)}}var dC=sz;function lz(e){return function(){return e}}var cz=lz,uz=Bc,dz=function(){try{var e=uz(Object,"defineProperty");return e({},"",{}),e}catch{}}(),fC=dz,fz=cz,$S=fC,hz=ay,mz=$S?function(e,t){return $S(e,"toString",{configurable:!0,enumerable:!1,value:fz(t),writable:!0})}:hz,pz=mz,gz=800,vz=16,yz=Date.now;function wz(e){var t=0,n=0;return function(){var r=yz(),a=vz-(r-n);if(n=r,a>0){if(++t>=gz)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var bz=wz,Dz=pz,Sz=bz,Iz=Sz(Dz),hC=Iz,Tz=ay,Ez=dC,Cz=hC;function xz(e,t){return Cz(Ez(e,t,Tz),e+"")}var mC=xz,Mz=uC,Nz=rz,kz=mC,qS=qv,Az=kz(function(e,t){if(e==null)return[];var n=t.length;return n>1&&qS(e,t[0],t[1])?t=[]:n>2&&qS(t[0],t[1],t[2])&&(t=[t[0]]),Nz(e,Mz(t,1),[])}),Oz=Az;const Fz=Xn(Oz);function Uw(e,t){var n=L1(e);return n?n.innerWidth:t?e.clientWidth:Nc(e).width}function pC(e){return wE(e)||PE(e)||k1(e)||bE()}function Pz(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var gC=Pz,GS=fC;function jz(e,t,n){t=="__proto__"&&GS?GS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var X1=jz,Lz=X1,Rz=Hm,_z=Object.prototype,Hz=_z.hasOwnProperty;function Bz(e,t,n){var r=e[t];(!(Hz.call(e,t)&&Rz(r,n))||n===void 0&&!(t in e))&&Lz(e,t,n)}var vC=Bz,Yz=vC,zz=X1;function Uz(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],d=r?r(n[u],e[u],u,n,e):void 0;d===void 0&&(d=e[u]),a?zz(n,u,d):Yz(n,u,d)}return n}var Zm=Uz,Vz=Zm,Zz=Um;function Wz(e,t){return e&&Vz(t,Zz(t),e)}var $z=Wz;function qz(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Gz=qz,Jz=Ds,Kz=$1,Qz=Gz,Xz=Object.prototype,eU=Xz.hasOwnProperty;function tU(e){if(!Jz(e))return Qz(e);var t=Kz(e),n=[];for(var r in e)r=="constructor"&&(t||!eU.call(e,r))||n.push(r);return n}var nU=tU,rU=QE,aU=nU,oU=Bm;function iU(e){return oU(e)?rU(e,!0):aU(e)}var iy=iU,sU=Zm,lU=iy;function cU(e,t){return e&&sU(t,lU(t),e)}var uU=cU,Cv={exports:{}};Cv.exports;(function(e,t){var n=Fi,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===r,s=o?n.Buffer:void 0,u=s?s.allocUnsafe:void 0;function d(m,p){if(p)return m.slice();var g=m.length,w=u?u(g):new m.constructor(g);return m.copy(w),w}e.exports=d})(Cv,Cv.exports);var dU=Cv.exports;function fU(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var hU=fU,mU=Zm,pU=U1;function gU(e,t){return mU(e,pU(e),t)}var vU=gU,yU=XE,wU=yU(Object.getPrototypeOf,Object),sy=wU,bU=z1,DU=sy,SU=U1,IU=JE,TU=Object.getOwnPropertySymbols,EU=TU?function(e){for(var t=[];e;)bU(t,SU(e)),e=DU(e);return t}:IU,yC=EU,CU=Zm,xU=yC;function MU(e,t){return CU(e,xU(e),t)}var NU=MU,kU=GE,AU=yC,OU=iy;function FU(e){return kU(e,OU,AU)}var wC=FU,PU=Object.prototype,jU=PU.hasOwnProperty;function LU(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&jU.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var RU=LU,JS=qE;function _U(e){var t=new e.constructor(e.byteLength);return new JS(t).set(new JS(e)),t}var eb=_U,HU=eb;function BU(e,t){var n=t?HU(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var YU=BU,zU=/\w*$/;function UU(e){var t=new e.constructor(e.source,zU.exec(e));return t.lastIndex=e.lastIndex,t}var VU=UU,KS=Kd,QS=KS?KS.prototype:void 0,XS=QS?QS.valueOf:void 0;function ZU(e){return XS?Object(XS.call(e)):{}}var WU=ZU,$U=eb;function qU(e,t){var n=t?$U(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var GU=qU,JU=eb,KU=YU,QU=VU,XU=WU,eV=GU,tV="[object Boolean]",nV="[object Date]",rV="[object Map]",aV="[object Number]",oV="[object RegExp]",iV="[object Set]",sV="[object String]",lV="[object Symbol]",cV="[object ArrayBuffer]",uV="[object DataView]",dV="[object Float32Array]",fV="[object Float64Array]",hV="[object Int8Array]",mV="[object Int16Array]",pV="[object Int32Array]",gV="[object Uint8Array]",vV="[object Uint8ClampedArray]",yV="[object Uint16Array]",wV="[object Uint32Array]";function bV(e,t,n){var r=e.constructor;switch(t){case cV:return JU(e);case tV:case nV:return new r(+e);case uV:return KU(e,n);case dV:case fV:case hV:case mV:case pV:case gV:case vV:case yV:case wV:return eV(e,n);case rV:return new r;case aV:case sV:return new r(e);case oV:return QU(e);case iV:return new r;case lV:return XU(e)}}var DV=bV,SV=Ds,e2=Object.create,IV=function(){function e(){}return function(t){if(!SV(t))return{};if(e2)return e2(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),bC=IV,TV=bC,EV=sy,CV=$1;function xV(e){return typeof e.constructor=="function"&&!CV(e)?TV(EV(e)):{}}var MV=xV,NV=ty,kV=Cl,AV="[object Map]";function OV(e){return kV(e)&&NV(e)==AV}var FV=OV,PV=FV,jV=ey,t2=Z1,n2=t2&&t2.isMap,LV=n2?jV(n2):PV,RV=LV,_V=ty,HV=Cl,BV="[object Set]";function YV(e){return HV(e)&&_V(e)==BV}var zV=YV,UV=zV,VV=ey,r2=Z1,a2=r2&&r2.isSet,ZV=a2?VV(a2):UV,WV=ZV,$V=Y1,qV=gC,GV=vC,JV=$z,KV=uU,QV=dU,XV=hU,eZ=vU,tZ=NU,nZ=eC,rZ=wC,aZ=ty,oZ=RU,iZ=DV,sZ=MV,lZ=ho,cZ=Xv,uZ=RV,dZ=Ds,fZ=WV,hZ=Um,mZ=iy,pZ=1,gZ=2,vZ=4,DC="[object Arguments]",yZ="[object Array]",wZ="[object Boolean]",bZ="[object Date]",DZ="[object Error]",SC="[object Function]",SZ="[object GeneratorFunction]",IZ="[object Map]",TZ="[object Number]",IC="[object Object]",EZ="[object RegExp]",CZ="[object Set]",xZ="[object String]",MZ="[object Symbol]",NZ="[object WeakMap]",kZ="[object ArrayBuffer]",AZ="[object DataView]",OZ="[object Float32Array]",FZ="[object Float64Array]",PZ="[object Int8Array]",jZ="[object Int16Array]",LZ="[object Int32Array]",RZ="[object Uint8Array]",_Z="[object Uint8ClampedArray]",HZ="[object Uint16Array]",BZ="[object Uint32Array]",ln={};ln[DC]=ln[yZ]=ln[kZ]=ln[AZ]=ln[wZ]=ln[bZ]=ln[OZ]=ln[FZ]=ln[PZ]=ln[jZ]=ln[LZ]=ln[IZ]=ln[TZ]=ln[IC]=ln[EZ]=ln[CZ]=ln[xZ]=ln[MZ]=ln[RZ]=ln[_Z]=ln[HZ]=ln[BZ]=!0;ln[DZ]=ln[SC]=ln[NZ]=!1;function tv(e,t,n,r,a,o){var s,u=t&pZ,d=t&gZ,m=t&vZ;if(n&&(s=a?n(e,r,a,o):n(e)),s!==void 0)return s;if(!dZ(e))return e;var p=lZ(e);if(p){if(s=oZ(e),!u)return XV(e,s)}else{var g=aZ(e),w=g==SC||g==SZ;if(cZ(e))return QV(e,u);if(g==IC||g==DC||w&&!a){if(s=d||w?{}:sZ(e),!u)return d?tZ(e,KV(s,e)):eZ(e,JV(s,e))}else{if(!ln[g])return a?e:{};s=iZ(e,g,u)}}o||(o=new $V);var D=o.get(e);if(D)return D;o.set(e,s),fZ(e)?e.forEach(function(C){s.add(tv(C,t,n,C,e,o))}):uZ(e)&&e.forEach(function(C,A){s.set(A,tv(C,t,n,A,e,o))});var S=m?d?rZ:nZ:d?mZ:hZ,T=p?void 0:S(e);return qV(T||e,function(C,A){T&&(A=C,C=e[A]),GV(s,A,tv(C,t,n,A,e,o))}),s}var YZ=tv;function zZ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var UZ=zZ,VZ=ry,ZZ=jE;function WZ(e,t){return t.length<2?e:VZ(e,ZZ(t,0,-1))}var $Z=WZ,qZ=ny,GZ=UZ,JZ=$Z,KZ=Vm;function QZ(e,t){return t=qZ(t,e),e=JZ(e,t),e==null||delete e[KZ(GZ(t))]}var XZ=QZ,eW=Qd,tW=sy,nW=Cl,rW="[object Object]",aW=Function.prototype,oW=Object.prototype,TC=aW.toString,iW=oW.hasOwnProperty,sW=TC.call(Object);function lW(e){if(!nW(e)||eW(e)!=rW)return!1;var t=tW(e);if(t===null)return!0;var n=iW.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&TC.call(n)==sW}var cW=lW,uW=cW;function dW(e){return uW(e)?void 0:e}var fW=dW,hW=uC;function mW(e){var t=e==null?0:e.length;return t?hW(e,1):[]}var pW=mW,gW=pW,vW=dC,yW=hC;function wW(e){return yW(vW(e,void 0,gW),e+"")}var bW=wW,DW=K1,SW=YZ,IW=XZ,TW=ny,EW=Zm,CW=fW,xW=bW,MW=wC,NW=1,kW=2,AW=4,OW=xW(function(e,t){var n={};if(e==null)return n;var r=!1;t=DW(t,function(o){return o=TW(o,e),r||(r=o.length>1),o}),EW(e,MW(e),n),r&&(n=SW(n,NW|kW|AW,CW));for(var a=t.length;a--;)IW(n,t[a]);return n}),FW=OW;const PW=Xn(FW);var jW=mC,LW=Hm,RW=qv,_W=iy,EC=Object.prototype,HW=EC.hasOwnProperty,BW=jW(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&RW(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=_W(o),u=-1,d=s.length;++u<d;){var m=s[u],p=e[m];(p===void 0||LW(p,EC[m])&&!HW.call(e,m))&&(e[m]=o[m])}return e}),YW=BW;const zW=Xn(YW);var UW=gC,VW=bC,ZW=Q1,WW=oy,$W=sy,qW=ho,GW=Xv,JW=F1,KW=Ds,QW=W1;function XW(e,t,n){var r=qW(e),a=r||GW(e)||QW(e);if(t=WW(t),n==null){var o=e&&e.constructor;a?n=r?new o:[]:KW(e)?n=JW(o)?VW($W(e)):{}:n={}}return(a?UW:ZW)(e,function(s,u,d){return t(n,s,u,d)}),n}var e$=XW;const t$=Xn(e$);var n$=X1,r$=Q1,a$=oy;function o$(e,t){var n={};return t=a$(t),r$(e,function(r,a,o){n$(n,a,t(r,a,o))}),n}var i$=o$;const s$=Xn(i$);var l$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jn,function(){return function(n,r,a){r.prototype.isBetween=function(o,s,u,d){var m=a(o),p=a(s),g=(d=d||"()")[0]==="(",w=d[1]===")";return(g?this.isAfter(m,u):!this.isBefore(m,u))&&(w?this.isBefore(p,u):!this.isAfter(p,u))||(g?this.isBefore(m,u):!this.isAfter(m,u))&&(w?this.isAfter(p,u):!this.isBefore(p,u))}}})})(l$);var c$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jn,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,o){return this.isSame(a,o)||this.isAfter(a,o)}}})})(c$);var u$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jn,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,o){return this.isSame(a,o)||this.isBefore(a,o)}}})})(u$);var d$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jn,function(){return function(n,r,a){var o=r.prototype,s=function(g){return g&&(g.indexOf?g:g.s)},u=function(g,w,D,S,T){var C=g.name?g:g.$locale(),A=s(C[w]),N=s(C[D]),L=A||N.map(function(H){return H.slice(0,S)});if(!T)return L;var F=C.weekStart;return L.map(function(H,j){return L[(j+(F||0))%7]})},d=function(){return a.Ls[a.locale()]},m=function(g,w){return g.formats[w]||function(D){return D.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,T,C){return T||C.slice(1)})}(g.formats[w.toUpperCase()])},p=function(){var g=this;return{months:function(w){return w?w.format("MMMM"):u(g,"months")},monthsShort:function(w){return w?w.format("MMM"):u(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(w){return w?w.format("dddd"):u(g,"weekdays")},weekdaysMin:function(w){return w?w.format("dd"):u(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(w){return w?w.format("ddd"):u(g,"weekdaysShort","weekdays",3)},longDateFormat:function(w){return m(g.$locale(),w)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return p.bind(this)()},a.localeData=function(){var g=d();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(w){return m(g,w)},meridiem:g.meridiem,ordinal:g.ordinal}},a.months=function(){return u(d(),"months")},a.monthsShort=function(){return u(d(),"monthsShort","months",3)},a.weekdays=function(g){return u(d(),"weekdays",null,null,g)},a.weekdaysShort=function(g){return u(d(),"weekdaysShort","weekdays",3,g)},a.weekdaysMin=function(g){return u(d(),"weekdaysMin","weekdays",2,g)}}})})(d$);var f$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,o){var s=a.prototype,u=s.format;o.en.formats=n,s.format=function(d){d===void 0&&(d="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,p=function(g,w){return g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(D,S,T){var C=T&&T.toUpperCase();return S||w[T]||n[T]||w[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,N,L){return N||L.slice(1)})})}(d,m===void 0?{}:m);return u.call(this,p)}}})})(f$);var h$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jn,function(){return function(n,r,a){var o=function(s,u){if(!u||!u.length||u.length===1&&!u[0]||u.length===1&&Array.isArray(u[0])&&!u[0].length)return null;var d;u.length===1&&u[0].length>0&&(u=u[0]),d=(u=u.filter(function(p){return p}))[0];for(var m=1;m<u.length;m+=1)u[m].isValid()&&!u[m][s](d)||(d=u[m]);return d};a.max=function(){var s=[].slice.call(arguments,0);return o("isAfter",s)},a.min=function(){var s=[].slice.call(arguments,0);return o("isBefore",s)}}})})(h$);var m$={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jn,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(o,s,u){var d=s.prototype;u.utc=function(T){var C={date:T,utc:!0,args:arguments};return new s(C)},d.utc=function(T){var C=u(this.toDate(),{locale:this.$L,utc:!0});return T?C.add(this.utcOffset(),n):C},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var m=d.parse;d.parse=function(T){T.utc&&(this.$u=!0),this.$utils().u(T.$offset)||(this.$offset=T.$offset),m.call(this,T)};var p=d.init;d.init=function(){if(this.$u){var T=this.$d;this.$y=T.getUTCFullYear(),this.$M=T.getUTCMonth(),this.$D=T.getUTCDate(),this.$W=T.getUTCDay(),this.$H=T.getUTCHours(),this.$m=T.getUTCMinutes(),this.$s=T.getUTCSeconds(),this.$ms=T.getUTCMilliseconds()}else p.call(this)};var g=d.utcOffset;d.utcOffset=function(T,C){var A=this.$utils().u;if(A(T))return this.$u?0:A(this.$offset)?g.call(this):this.$offset;if(typeof T=="string"&&(T=function(H){H===void 0&&(H="");var j=H.match(r);if(!j)return null;var _=(""+j[0]).match(a)||["-",0,0],V=_[0],U=60*+_[1]+ +_[2];return U===0?0:V==="+"?U:-U}(T),T===null))return this;var N=Math.abs(T)<=16?60*T:T,L=this;if(C)return L.$offset=N,L.$u=T===0,L;if(T!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(L=this.local().add(N+F,n)).$offset=N,L.$x.$localOffset=F}else L=this.utc();return L};var w=d.format;d.format=function(T){var C=T||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return w.call(this,C)},d.valueOf=function(){var T=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*T},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var D=d.toDate;d.toDate=function(T){return T==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():D.call(this)};var S=d.diff;d.diff=function(T,C,A){if(T&&this.$u===T.$u)return S.call(this,T,C,A);var N=this.local(),L=u(T).local();return S.call(N,L,C,A)}}})})(m$);function us(e){return e.children}var Da={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Qr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},o2=Object.keys(Qr).map(function(e){return Qr[e]});Ae.oneOfType([Ae.string,Ae.func]);Ae.any;Ae.func;Ae.oneOfType([Ae.arrayOf(Ae.oneOf(o2)),Ae.objectOf(function(e,t){var n=o2.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];return Ae.elementType.apply(Ae,[e,t].concat(a))})]);Ae.oneOfType([Ae.oneOf(["overlap","no-overlap"]),Ae.func]);function vn(e,t){e&&e.apply(null,[].concat(t))}var i2={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function CC(e,t){var n=xr(e,"month");return xr(n,"week",t.startOfWeek())}function xC(e,t){var n=Dv(e,"month");return Dv(n,"week",t.startOfWeek())}function p$(e,t){for(var n=CC(e,t),r=xC(e,t),a=[];Gd(n,r,"day");)a.push(n),n=Ho(n,1,"day");return a}function g$(e,t){var n=xr(e,t);return Rm(n,e)?n:Ho(n,1,t)}function v$(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,a=[];Gd(r,t,n);)a.push(r),r=Ho(r,1,n);return a}function y$(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=xr(e,"day"),e=dm(e,dm(t)),e=Ld(e,Ld(t)),e=um(e,um(t)),cm(e,cm(t)))}function s2(e){return dm(e)===0&&Ld(e)===0&&um(e)===0&&cm(e)===0}function w$(e,t,n,r){return n==="day"&&(n="date"),Math.abs(QD[n](e,void 0,r)-QD[n](t,void 0,r))}function tb(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+xr(e,n)/i2[n]-+xr(t,n)/i2[n]))}var b$=Ae.oneOfType([Ae.string,Ae.func]);function D$(e,t,n,r,a){var o=typeof r=="function"?r(n,a,e):t.call(e,n,r,a);return rm(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function S$(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function nb(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function I$(e,t){return tb(e,t,"minutes")+nb(e,t)}function T$(e){var t=xr(e,"day");return tb(t,e,"minutes")+nb(t,e)}function E$(e,t){return O1(e,t,"day")}function C$(e,t,n){var r=Rm(e,t,"minutes");return r?_m(t,n,"minutes"):$v(t,n,"minutes")}function Vw(e,t){return w$(e,t,"day")}function x$(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,o=e.evtB,s=o.start,u=o.end,d=o.allDay,m=+xr(n,"day")-+xr(s,"day"),p=Vw(n,r),g=Vw(s,u);return m||g-p||!!d-!!a||+n-+s||+r-+u}function M$(e){var t=e.event,n=t.start,r=t.end,a=e.range,o=a.start,s=a.end,u=xr(n,"day"),d=Gd(u,s,"day"),m=A1(u,r,"minutes"),p=m?$v(r,o,"minutes"):_m(r,o,"minutes");return d&&p}function N$(e,t){return Rm(e,t,"day")}function k$(e,t){return s2(e)&&s2(t)}var A$=gr(function e(t){var n=this;pr(this,e),rm(typeof t.format=="function","date localizer `format(..)` must be a function"),rm(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||b$,this.formats=t.formats,this.format=function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return D$.apply(void 0,[n,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||y$,this.inRange=t.inRange||kE,this.lt=t.lt||O1,this.lte=t.lte||Gd,this.gt=t.gt||$v,this.gte=t.gte||_m,this.eq=t.eq||Rm,this.neq=t.neq||A1,this.startOf=t.startOf||xr,this.endOf=t.endOf||Dv,this.add=t.add||Ho,this.range=t.range||v$,this.diff=t.diff||tb,this.ceil=t.ceil||g$,this.min=t.min||ME,this.max=t.max||NE,this.minutes=t.minutes||Ld,this.daySpan=t.daySpan||Vw,this.firstVisibleDay=t.firstVisibleDay||CC,this.lastVisibleDay=t.lastVisibleDay||xC,this.visibleDays=t.visibleDays||p$,this.getSlotDate=t.getSlotDate||S$,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||nb,this.getTotalMin=t.getTotalMin||I$,this.getMinutesFromMidnight=t.getMinutesFromMidnight||T$,this.continuesPrior=t.continuesPrior||E$,this.continuesAfter=t.continuesAfter||C$,this.sortEvents=t.sortEvents||x$,this.inEventRange=t.inEventRange||M$,this.isSameDate=t.isSameDate||N$,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||k$,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function O$(e,t,n,r){var a=nn(nn({},e.formats),n);return nn(nn({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,u){return e.format(s,a[u]||u,t)}})}var F$={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function P$(e){return nn(nn({},F$),e)}function j$(e){var t=e.ref,n=e.callback;O.useEffect(function(){var r=function(o){t.current&&!t.current.contains(o.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var L$=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],MC=function(e){ta(t,e);function t(){return pr(this,t),ea(this,t,arguments)}return gr(t,[{key:"render",value:function(){var r=this.props,a=r.style,o=r.className,s=r.event,u=r.selected,d=r.isAllDay,m=r.onSelect,p=r.onDoubleClick,g=r.onKeyPress,w=r.localizer,D=r.continuesPrior,S=r.continuesAfter,T=r.accessors,C=r.getters,A=r.children,N=r.components,L=N.event,F=N.eventWrapper,H=r.slotStart,j=r.slotEnd,_=Ai(r,L$);delete _.resizable;var V=T.title(s),U=T.tooltip(s),z=T.end(s),q=T.start(s),ee=T.allDay(s),ce=d||ee||w.diff(q,w.ceil(z,"day"),"day")>1,fe=C.eventProp(s,q,z,u),ie=J.createElement("div",{className:"rbc-event-content",title:U||void 0},L?J.createElement(L,{event:s,continuesPrior:D,continuesAfter:S,title:V,isAllDay:ee,localizer:w,slotStart:H,slotEnd:j}):V);return J.createElement(F,Object.assign({},this.props,{type:"date"}),J.createElement("div",Object.assign({},_,{style:nn(nn({},fe.style),a),className:Qn("rbc-event",o,fe.className,{"rbc-selected":u,"rbc-event-allday":ce,"rbc-event-continues-prior":D,"rbc-event-continues-after":S}),onClick:function(Ie){return m&&m(s,Ie)},onDoubleClick:function(Ie){return p&&p(s,Ie)},onKeyDown:function(Ie){return g&&g(s,Ie)}}),typeof A=="function"?A(ie):ie))}}]),t}(J.Component);function ly(e,t){return!e||t==null?!1:eH(e,t)}function NC(e,t){var n=e.right-e.left,r=n/t;return r}function kC(e,t,n,r){var a=NC(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function R$(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function _$(e,t,n,r,a){var o=-1,s=-1,u=r-1,d=NC(t,r),m=kC(t,n.x,a,r),p=t.top<n.y&&t.bottom>n.y,g=t.top<e.y&&t.bottom>e.y,w=e.y>t.bottom,D=t.top>e.y,S=n.top<t.top&&n.bottom>t.bottom;return S&&(o=0,s=u),p&&(D?(o=0,s=m):w&&(o=m,s=u)),g&&(o=s=a?u-Math.floor((e.x-t.left)/d):Math.floor((e.x-t.left)/d),p?m<o?o=m:s=m:e.y<n.y?s=u:o=0),{startIdx:o,endIdx:s}}function H$(e){var t=e.target,n=e.offset,r=e.container,a=e.box,o=Nc(t),s=o.top,u=o.left,d=o.width,m=o.height,p=Nc(r),g=p.top,w=p.left,D=p.width,S=p.height,T=Nc(a),C=T.width,A=T.height,N=g+S,L=w+D,F=s+A,H=u+C,j=n.x,_=n.y,V=F>N?s-A-_:s+_+m,U=H>L?u+j-C+d:u+j;return{topOffset:V,leftOffset:U}}function B$(e){var t=e.containerRef,n=e.accessors,r=e.getters,a=e.selected,o=e.components,s=e.localizer,u=e.position,d=e.show,m=e.events,p=e.slotStart,g=e.slotEnd,w=e.onSelect,D=e.onDoubleClick,S=e.onKeyPress,T=e.handleDragStart,C=e.popperRef,A=e.target,N=e.offset;j$({ref:C,callback:d}),O.useLayoutEffect(function(){var H=H$({target:A,offset:N,container:t.current,box:C.current}),j=H.topOffset,_=H.leftOffset;C.current.style.top="".concat(j,"px"),C.current.style.left="".concat(_,"px")},[N.x,N.y,A]);var L=u.width,F={minWidth:L+L/2};return J.createElement("div",{style:F,className:"rbc-overlay",ref:C},J.createElement("div",{className:"rbc-overlay-header"},s.format(p,"dayHeaderFormat")),m.map(function(H,j){return J.createElement(MC,{key:j,type:"popup",localizer:s,event:H,getters:r,onSelect:w,accessors:n,components:o,onDoubleClick:D,onKeyPress:S,continuesPrior:s.lt(n.end(H),p,"day"),continuesAfter:s.gte(n.start(H),g,"day"),slotStart:p,slotEnd:g,selected:ly(H,a),draggable:!0,onDragStart:function(){return T(H)},onDragEnd:function(){return d()}})}))}var AC=J.forwardRef(function(e,t){return J.createElement(B$,Object.assign({},e,{popperRef:t}))});AC.propTypes={accessors:Ae.object.isRequired,getters:Ae.object.isRequired,selected:Ae.object,components:Ae.object.isRequired,localizer:Ae.object.isRequired,position:Ae.object.isRequired,show:Ae.func.isRequired,events:Ae.array.isRequired,slotStart:Ae.instanceOf(Date).isRequired,slotEnd:Ae.instanceOf(Date),onSelect:Ae.func,onDoubleClick:Ae.func,onKeyPress:Ae.func,handleDragStart:Ae.func,style:Ae.object,offset:Ae.shape({x:Ae.number,y:Ae.number})};function Y$(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,a=e.overlay,o=e.accessors,s=e.localizer,u=e.components,d=e.getters,m=e.selected,p=e.handleSelectEvent,g=e.handleDoubleClickEvent,w=e.handleKeyPressEvent,D=e.handleDragStart,S=e.onHide,T=e.overlayDisplay,C=O.useRef(null);if(!a.position)return null;var A=r;isNaN(r)||(A={x:r,y:r});var N=a.position,L=a.events,F=a.date,H=a.end;return J.createElement(x7,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:S,target:a.target},function(j){var _=j.props;return J.createElement(AC,Object.assign({},_,{containerRef:t,ref:C,target:a.target,offset:A,accessors:o,getters:d,selected:m,components:u,localizer:s,position:N,show:T,events:L,slotStart:F,slotEnd:H,onSelect:p,onDoubleClick:g,onKeyPress:w,handleDragStart:D}))})}var rb=J.forwardRef(function(e,t){return J.createElement(Y$,Object.assign({},e,{containerRef:t}))});rb.propTypes={popupOffset:Ae.oneOfType([Ae.number,Ae.shape({x:Ae.number,y:Ae.number})]),overlay:Ae.shape({position:Ae.object,events:Ae.array,date:Ae.instanceOf(Date),end:Ae.instanceOf(Date)}),accessors:Ae.object.isRequired,localizer:Ae.object.isRequired,components:Ae.object.isRequired,getters:Ae.object.isRequired,selected:Ae.object,handleSelectEvent:Ae.func,handleDoubleClickEvent:Ae.func,handleKeyPressEvent:Ae.func,handleDragStart:Ae.func,onHide:Ae.func,overlayDisplay:Ae.func};function Lr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Uh(n,e,t,{passive:!1})}function z$(e,t,n){return!e||fm(e,document.elementFromPoint(t,n))}function U$(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return rC(a,".rbc-event",e)}function V$(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return rC(a,".rbc-show-more",e)}function xv(e,t){return!!U$(e,t)}function Z$(e,t){return!!V$(e,t)}function wd(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var l2=5,W$=250,OC=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,a=r===void 0?!1:r,o=n.longPressThreshold,s=o===void 0?250:o,u=n.validContainers,d=u===void 0?[]:u;pr(this,e),this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=s,this.validContainers=d,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Lr("touchmove",function(){},window),this._removeKeyDownListener=Lr("keydown",this._keyListener),this._removeKeyUpListener=Lr("keyup",this._keyListener),this._removeDropFromOutsideListener=Lr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Lr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return gr(e,[{key:"on",value:function(n,r){var a=this._listeners[n]||(this._listeners[n]=[]);return a.push(r),{remove:function(){var s=a.indexOf(r);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var s,u=this._listeners[n]||[];return u.forEach(function(d){s===void 0&&(s=d.apply(void 0,a))}),s}},{key:"teardown",value:function(){this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:c2(r,Lc(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var a=this,o=null,s=null,u=null,d=function(w){o=setTimeout(function(){p(),n(w)},a.longPressThreshold),s=Lr("touchmove",function(){return p()}),u=Lr("touchend",function(){return p()})},m=Lr("touchstart",d),p=function(){o&&clearTimeout(o),s&&s(),u&&u(),o=null,s=null,u=null};return r&&d(r),function(){p(),m()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Lr("mousedown",function(o){n._removeInitialEventListener(),n._handleInitialEvent(o),n._removeInitialEventListener=Lr("mousedown",n._handleInitialEvent)}),a=Lr("touchstart",function(o){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,o)});this._removeInitialEventListener=function(){r(),a()}}},{key:"_dropFromOutsideListener",value:function(n){var r=wd(n),a=r.pageX,o=r.pageY,s=r.clientX,u=r.clientY;this.emit("dropFromOutside",{x:a,y:o,clientX:s,clientY:u}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=wd(n),a=r.pageX,o=r.pageY,s=r.clientX,u=r.clientY;this.emit("dragOverFromOutside",{x:a,y:o,clientX:s,clientY:u}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(!this.isDetached){var r=wd(n),a=r.clientX,o=r.clientY,s=r.pageX,u=r.pageY,d=this.container(),m,p;if(!(n.which===3||n.button===2||!z$(d,a,o))){if(!this.globalMouse&&d&&!fm(d,n.target)){var g=$$(0),w=g.top,D=g.left,S=g.bottom,T=g.right;if(p=Lc(d),m=c2({top:p.top-w,left:p.left-D,bottom:p.bottom+S,right:p.right+T},{top:u,left:s}),!m)return}var C=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:s,y:u,clientX:a,clientY:o});if(C!==!1)switch(n.type){case"mousedown":this._removeEndListener=Lr("mouseup",this._handleTerminatingEvent),this._onEscListener=Lr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Lr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Lr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Lr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,a=this.validContainers;return!a||!a.length||!r?!0:a.some(function(o){return!!r.closest(o)})}},{key:"_handleTerminatingEvent",value:function(n){var r=wd(n),a=r.pageX,o=r.pageY;if(this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),!!this._initialEventData){var s=!this.container||fm(this.container(),n.target),u=this._isWithinValidContainer(n),d=this._selectRect,m=this.isClick(a,o);return this._initialEventData=null,n.key==="Escape"||!u?this.emit("reset"):m&&s?this._handleClickEvent(n):m?this.emit("reset"):this.emit("select",d)}}},{key:"_handleClickEvent",value:function(n){var r=wd(n),a=r.pageX,o=r.pageY,s=r.clientX,u=r.clientY,d=new Date().getTime();return this._lastClickData&&d-this._lastClickData.timestamp<W$?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:o,clientX:s,clientY:u})):(this._lastClickData={timestamp:d},this.emit("click",{x:a,y:o,clientX:s,clientY:u}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,a=r.x,o=r.y,s=wd(n),u=s.pageX,d=s.pageY,m=Math.abs(a-u),p=Math.abs(o-d),g=Math.min(u,a),w=Math.min(d,o),D=this.selecting;this.isClick(u,d)&&!D&&!(m||p)||(this.selecting=!0,this._selectRect={top:w,left:g,x:u,y:d,right:g+m,bottom:w+p},D||this.emit("selectStart",this._initialEventData),this.isClick(u,d)||this.emit("selecting",this._selectRect),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var a=this._initialEventData,o=a.x,s=a.y,u=a.isTouch;return!u&&Math.abs(n-o)<=l2&&Math.abs(r-s)<=l2}}]),e}();function $$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return gs(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function c2(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Lc(e),a=r.top,o=r.left,s=r.right,u=s===void 0?o:s,d=r.bottom,m=d===void 0?a:d,p=Lc(t),g=p.top,w=p.left,D=p.right,S=D===void 0?w:D,T=p.bottom,C=T===void 0?g:T;return!(m-n<g||a+n>C||u-n<w||o+n>S)}function Lc(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+u2("left"),r=t.top+u2("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function u2(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var q$=function(e){ta(t,e);function t(n,r){var a;return pr(this,t),a=ea(this,t,[n,r]),a.state={selecting:!1},a.containerRef=O.createRef(),a}return gr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,a=r.range,o=r.getNow,s=r.getters,u=r.date,d=r.components.dateCellWrapper,m=r.localizer,p=this.state,g=p.selecting,w=p.startIdx,D=p.endIdx,S=o();return J.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(T,C){var A=g&&C>=w&&C<=D,N=s.dayProp(T),L=N.className,F=N.style;return J.createElement(d,{key:C,value:T,range:a},J.createElement("div",{style:F,className:Qn("rbc-day-bg",L,A&&"rbc-selected-cell",m.isSameDate(T,S)&&"rbc-today",u&&m.neq(u,T,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,a=this.containerRef.current,o=this._selector=new OC(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(d,m){if(!xv(a,d)&&!Z$(a,d)){var p=Lc(a),g=r.props,w=g.range,D=g.rtl;if(R$(p,d)){var S=kC(p,d.x,D,w.length);r._selectSlot({startIdx:S,endIdx:S,action:m,box:d})}}r._initial={},r.setState({selecting:!1})};o.on("selecting",function(u){var d=r.props,m=d.range,p=d.rtl,g=-1,w=-1;if(r.state.selecting||(vn(r.props.onSelectStart,[u]),r._initial={x:u.x,y:u.y}),o.isSelected(a)){var D=Lc(a),S=_$(r._initial,D,u,m.length,p);g=S.startIdx,w=S.endIdx}r.setState({selecting:!0,startIdx:g,endIdx:w})}),o.on("beforeSelect",function(u){if(r.props.selectable==="ignoreEvents")return!xv(r.containerRef.current,u)}),o.on("click",function(u){return s(u,"click")}),o.on("doubleClick",function(u){return s(u,"doubleClick")}),o.on("select",function(u){r._selectSlot(nn(nn({},r.state),{},{action:"select",bounds:u})),r._initial={},r.setState({selecting:!1}),vn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var a=r.endIdx,o=r.startIdx,s=r.action,u=r.bounds,d=r.box;a!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:a,action:s,bounds:u,box:d,resourceId:this.props.resourceId})}}]),t}(J.Component),Mi={propTypes:{slotMetrics:Ae.object.isRequired,selected:Ae.object,isAllDay:Ae.bool,accessors:Ae.object.isRequired,localizer:Ae.object.isRequired,components:Ae.object.isRequired,getters:Ae.object.isRequired,onSelect:Ae.func,onDoubleClick:Ae.func,onKeyPress:Ae.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var a=t.accessors,o=t.getters,s=t.onSelect,u=t.onDoubleClick,d=t.onKeyPress,m=t.localizer,p=t.slotMetrics,g=t.components,w=t.resizable,D=p.continuesPrior(n),S=p.continuesAfter(n);return J.createElement(MC,{event:n,getters:o,localizer:m,accessors:a,components:g,onSelect:s,onDoubleClick:u,onKeyPress:d,continuesPrior:D,continuesAfter:S,slotStart:p.first,slotEnd:p.last,selected:ly(n,r),resizable:w})},renderSpan:function(t,n,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(n)/t*100+"%";return J.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},a)}},FC=function(e){ta(t,e);function t(){return pr(this,t),ea(this,t,arguments)}return gr(t,[{key:"render",value:function(){var r=this,a=this.props,o=a.segments,s=a.slotMetrics.slots,u=a.className,d=1;return J.createElement("div",{className:Qn(u,"rbc-row")},o.reduce(function(m,p,g){var w=p.event,D=p.left,S=p.right,T=p.span,C="_lvl_"+g,A=D-d,N=Mi.renderEvent(r.props,w);return A&&m.push(Mi.renderSpan(s,A,"".concat(C,"_gap"))),m.push(Mi.renderSpan(s,T,C,N)),d=S+1,m},[]))}}]),t}(J.Component);FC.defaultProps=nn({},Mi.defaultProps);function PC(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function G$(e,t,n,r){var a=PC({dateRange:t,localizer:r}),o=a.first,s=a.last,u=r.diff(o,s,"day"),d=r.max(r.startOf(n.start(e),"day"),o),m=r.min(r.ceil(n.end(e),"day"),s),p=tY(t,function(w){return r.isSameDate(w,d)}),g=r.diff(d,m,"day");return g=Math.min(g,u),g=Math.max(g-r.segmentOffset,1),{event:e,span:g,left:p+1,right:Math.max(p+g,1)}}function jC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,a,o=[],s=[];for(n=0;n<e.length;n++){for(a=e[n],r=0;r<o.length&&J$(a,o[r]);r++);r>=t?s.push(a):(o[r]||(o[r]=[])).push(a)}for(n=0;n<o.length;n++)o[n].sort(function(u,d){return u.left-d.left});return{levels:o,extra:s}}function hm(e,t,n,r,a){var o={start:r.start(e),end:r.end(e)},s={start:t,end:n};return a.inEventRange({event:o,range:s})}function J$(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function K$(e,t,n){var r=ev(e),a=[],o=[];r.forEach(function(d){var m=t.start(d),p=t.end(d);n.daySpan(m,p)>1?a.push(d):o.push(d)});var s=a.sort(function(d,m){return Zw(d,m,t,n)}),u=o.sort(function(d,m){return Zw(d,m,t,n)});return[].concat(ev(s),ev(u))}function Zw(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},o={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:o})}var LC=function(t,n){return t.left<=n&&t.right>=n},d2=function(t,n){return t.filter(function(r){return LC(r,n)}).map(function(r){return r.event})},RC=function(e){ta(t,e);function t(){return pr(this,t),ea(this,t,arguments)}return gr(t,[{key:"render",value:function(){for(var r=this.props,a=r.segments,o=r.slotMetrics.slots,s=jC(a).levels[0],u=1,d=1,m=[];u<=o;){var p="_lvl_"+u,g=s.filter(function(N){return LC(N,u)})[0]||{},w=g.event,D=g.left,S=g.right,T=g.span;if(!w){u++;continue}var C=Math.max(0,D-d);if(this.canRenderSlotEvent(D,T)){var A=Mi.renderEvent(this.props,w);C&&m.push(Mi.renderSpan(o,C,p+"_gap")),m.push(Mi.renderSpan(o,T,p,A)),d=u=S+1}else C&&m.push(Mi.renderSpan(o,C,p+"_gap")),m.push(Mi.renderSpan(o,1,p,this.renderShowMore(a,u))),d=u+=1}return J.createElement("div",{className:"rbc-row"},m)}},{key:"canRenderSlotEvent",value:function(r,a){var o=this.props.segments;return hY(r,r+a).every(function(s){var u=d2(o,s).length;return u===1})}},{key:"renderShowMore",value:function(r,a){var o=this,s=this.props,u=s.localizer,d=s.slotMetrics,m=d.getEventsForSlot(a),p=d2(r,a),g=p.length;return g?J.createElement("button",{type:"button",key:"sm_"+a,className:Qn("rbc-button-link","rbc-show-more"),onClick:function(D){return o.showMore(a,D)}},u.messages.showMore(g,p,m)):!1}},{key:"showMore",value:function(r,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(r,a.target)}}]),t}(J.Component);RC.defaultProps=nn({},Mi.defaultProps);var Q$=function(t){var n=t.children;return J.createElement("div",{className:"rbc-row-content-scroll-container"},n)},X$=function(t,n){return t.left<=n&&t.right>=n},eq=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function _C(){return lC(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,o=e.accessors,s=e.localizer,u=PC({dateRange:t,localizer:s}),d=u.first,m=u.last,p=n.map(function(T){return G$(T,t,o,s)}),g=jC(p,Math.max(r-1,1)),w=g.levels,D=g.extra,S=D.length>0?a-1:a;w.length<S;)w.push([]);return{first:d,last:m,levels:w,extra:D,range:t,slots:t.length,clone:function(C){var A=_C();return A(nn(nn({},e),C))},getDateForSlot:function(C){return t[C]},getSlotForDate:function(C){return t.find(function(A){return s.isSameDate(A,C)})},getEventsForSlot:function(C){return p.filter(function(A){return X$(A,C)}).map(function(A){return A.event})},continuesPrior:function(C){return s.continuesPrior(o.start(C),d)},continuesAfter:function(C){var A=o.start(C),N=o.end(C);return s.continuesAfter(A,N,m)}}},eq)}var Mv=function(e){ta(t,e);function t(){var n;pr(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=ea(this,t,[].concat(a)),n.handleSelectSlot=function(s){var u=n.props,d=u.range,m=u.onSelectSlot;m(d.slice(s.start,s.end+1),s)},n.handleShowMore=function(s,u){var d=n.props,m=d.range,p=d.onShowMore,g=n.slotMetrics(n.props),w=n7(n.containerRef.current,".rbc-row-bg")[0],D;w&&(D=w.children[s-1]);var S=g.getEventsForSlot(s);p(S,m[s-1],D,s,u)},n.getContainer=function(){var s=n.props.container;return s?s():n.containerRef.current},n.renderHeadingCell=function(s,u){var d=n.props,m=d.renderHeader,p=d.getNow,g=d.localizer;return m({date:s,key:"header_".concat(u),className:Qn("rbc-date-cell",g.isSameDate(s,p())&&"rbc-now")})},n.renderDummy=function(){var s=n.props,u=s.className,d=s.range,m=s.renderHeader,p=s.showAllEvents;return J.createElement("div",{className:u,ref:n.containerRef},J.createElement("div",{className:Qn("rbc-row-content",p&&"rbc-row-content-scrollable")},m&&J.createElement("div",{className:"rbc-row",ref:n.headingRowRef},d.map(n.renderHeadingCell)),J.createElement("div",{className:"rbc-row",ref:n.eventRowRef},J.createElement("div",{className:"rbc-row-segment"},J.createElement("div",{className:"rbc-event"},J.createElement("div",{className:"rbc-event-content"},"¬†"))))))},n.containerRef=O.createRef(),n.headingRowRef=O.createRef(),n.eventRowRef=O.createRef(),n.slotMetrics=_C(),n}return gr(t,[{key:"getRowLimit",value:function(){var r,a=U0(this.eventRowRef.current),o=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?U0(this.headingRowRef.current):0,s=U0(this.containerRef.current)-o;return Math.max(Math.floor(s/a),1)}},{key:"render",value:function(){var r=this.props,a=r.date,o=r.rtl,s=r.range,u=r.className,d=r.selected,m=r.selectable,p=r.renderForMeasure,g=r.accessors,w=r.getters,D=r.components,S=r.getNow,T=r.renderHeader,C=r.onSelect,A=r.localizer,N=r.onSelectStart,L=r.onSelectEnd,F=r.onDoubleClick,H=r.onKeyPress,j=r.resourceId,_=r.longPressThreshold,V=r.isAllDay,U=r.resizable,z=r.showAllEvents;if(p)return this.renderDummy();var q=this.slotMetrics(this.props),ee=q.levels,ce=q.extra,fe=z?Q$:us,ie=D.weekWrapper,he={selected:d,accessors:g,getters:w,localizer:A,components:D,onSelect:C,onDoubleClick:F,onKeyPress:H,resourceId:j,slotMetrics:q,resizable:U};return J.createElement("div",{className:u,role:"rowgroup",ref:this.containerRef},J.createElement(q$,{localizer:A,date:a,getNow:S,rtl:o,range:s,selectable:m,container:this.getContainer,getters:w,onSelectStart:N,onSelectEnd:L,onSelectSlot:this.handleSelectSlot,components:D,longPressThreshold:_,resourceId:j}),J.createElement("div",{className:Qn("rbc-row-content",z&&"rbc-row-content-scrollable"),role:"row"},T&&J.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),J.createElement(fe,null,J.createElement(ie,Object.assign({isAllDay:V},he,{rtl:this.props.rtl}),ee.map(function(Ie,se){return J.createElement(FC,Object.assign({key:se,segments:Ie},he))}),!!ce.length&&J.createElement(RC,Object.assign({segments:ce,onShowMore:this.handleShowMore},he))))))}}]),t}(J.Component);Mv.defaultProps={minRows:0,maxRows:1/0};var HC=function(t){var n=t.label;return J.createElement("span",{role:"columnheader","aria-sort":"none"},n)},tq=function(t){var n=t.label,r=t.drilldownView,a=t.onDrillDown;return r?J.createElement("button",{type:"button",className:"rbc-button-link",onClick:a,role:"cell"},n):J.createElement("span",null,n)},nq=["date","className"],rq=function(t,n,r,a,o){return t.filter(function(s){return hm(s,n,r,a,o)})},cy=function(e){ta(t,e);function t(){var n;pr(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=ea(this,t,[].concat(a)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(s,u){var d=n.props,m=d.events,p=d.components,g=d.selectable,w=d.getNow,D=d.selected,S=d.date,T=d.localizer,C=d.longPressThreshold,A=d.accessors,N=d.getters,L=d.showAllEvents,F=n.state,H=F.needLimitMeasure,j=F.rowLimit,_=rq(ev(m),s[0],s[s.length-1],A,T),V=K$(_,A,T);return J.createElement(Mv,{key:u,ref:u===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:w,date:S,range:s,events:V,maxRows:L?1/0:j,selected:D,selectable:g,components:p,accessors:A,getters:N,localizer:T,renderHeader:n.readerDateHeading,renderForMeasure:H,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:C,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:L})},n.readerDateHeading=function(s){var u=s.date,d=s.className,m=Ai(s,nq),p=n.props,g=p.date,w=p.getDrilldownView,D=p.localizer,S=D.neq(u,g,"month"),T=D.isSameDate(u,g),C=w(u),A=D.format(u,"dateFormat"),N=n.props.components.dateHeader||tq;return J.createElement("div",Object.assign({},m,{className:Qn(d,S&&"rbc-off-range",T&&"rbc-current"),role:"cell"}),J.createElement(N,{label:A,date:u,drilldownView:C,isOffRange:S,onDrillDown:function(F){return n.handleHeadingClick(u,C,F)}}))},n.handleSelectSlot=function(s,u){n._pendingSelection=n._pendingSelection.concat(s),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(u)})},n.handleHeadingClick=function(s,u,d){d.preventDefault(),n.clearSelection(),vn(n.props.onDrillDown,[s,u])},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];vn(n.props.onSelectEvent,u)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];vn(n.props.onDoubleClickEvent,u)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];vn(n.props.onKeyPressEvent,u)},n.handleShowMore=function(s,u,d,m,p){var g=n.props,w=g.popup,D=g.onDrillDown,S=g.onShowMore,T=g.getDrilldownView,C=g.doShowMoreDrillDown;if(n.clearSelection(),w){var A=UE(d,n.containerRef.current);n.setState({overlay:{date:u,events:s,position:A,target:p}})}else C&&vn(D,[u,T(u)||Qr.DAY]);vn(S,[s,u,m])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=O.createRef(),n.slotRowRef=O.createRef(),n._bgRows=[],n._pendingSelection=[],n}return gr(t,[{key:"componentDidMount",value:function(){var r=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||VE(function(){a=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,a=r.date,o=r.localizer,s=r.className,u=o.visibleDays(a,o),d=BF(u,7);return this._weekCount=d.length,J.createElement("div",{className:Qn("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},J.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(d[0])),d.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var a=this.props,o=a.localizer,s=a.components,u=r[0],d=r[r.length-1],m=s.header||HC;return o.range(u,d,"day").map(function(p,g){return J.createElement("div",{key:"header_"+g,className:"rbc-header"},J.createElement(m,{date:p,localizer:o,label:o.format(p,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,a,o=this,s=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,m=u.localizer,p=u.components,g=u.getters,w=u.selected,D=u.popupOffset,S=u.handleDragStart,T=function(){return o.setState({overlay:null})};return J.createElement(rb,{overlay:s,accessors:d,localizer:m,components:p,getters:g,selected:w,popupOffset:D,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:T})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(u,d){return+u-+d});var o=new Date(a[0]),s=new Date(a[a.length-1]);s.setDate(a[a.length-1].getDate()+1),vn(this.props.onSelectSlot,{slots:a,start:o,end:s,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,a){var o=r.date,s=r.localizer;return{date:o,needLimitMeasure:s.neq(o,a.date,"month")}}}]),t}(J.Component);cy.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),a=n.lastVisibleDay(e,n);return{start:r,end:a}};cy.navigate=function(e,t,n){var r=n.localizer;switch(t){case Da.PREVIOUS:return r.add(e,-1,"month");case Da.NEXT:return r.add(e,1,"month");default:return e}};cy.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var f2=function(t){var n=t.min,r=t.max,a=t.step,o=t.slots,s=t.localizer;return"".concat(+s.startOf(n,"minutes"))+"".concat(+s.startOf(r,"minutes"))+"".concat(a,"-").concat(o)};function ab(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,o=e.localizer,s=f2({start:t,end:n,step:r,timeslots:a,localizer:o}),u=1+o.getTotalMin(t,n),d=o.getMinutesFromMidnight(t),m=Math.ceil((u-1)/(r*a)),p=m*a,g=new Array(m),w=new Array(p),D=0;D<m;D++){g[D]=new Array(a);for(var S=0;S<a;S++){var T=D*a+S,C=T*r;w[T]=g[D][S]=o.getSlotDate(t,d,C)}}var A=w.length*r;w.push(o.getSlotDate(t,d,A));function N(L){var F=o.diff(t,L,"minutes")+o.getDstOffset(t,L);return Math.min(F,u)}return{groups:g,update:function(F){return f2(F)!==s?ab(F):this},dateIsInGroup:function(F,H){var j=g[H+1];return o.inRange(F,g[H][0],j?j[0]:n,"minutes")},nextSlot:function(F){var H=w[Math.min(w.indexOf(F)+1,w.length-1)];return H===F&&(H=o.add(F,r,"minutes")),H},closestSlotToPosition:function(F){var H=Math.min(w.length-1,Math.max(0,Math.floor(F*p)));return w[H]},closestSlotFromPoint:function(F,H){var j=Math.abs(H.top-H.bottom);return this.closestSlotToPosition((F.y-H.top)/j)},closestSlotFromDate:function(F){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(F,t,"minutes"))return w[0];if(o.gt(F,n,"minutes"))return w[w.length-1];var j=o.diff(t,F,"minutes");return w[(j-j%r)/r+H]},startsBeforeDay:function(F){return o.lt(F,t,"day")},startsAfterDay:function(F){return o.gt(F,n,"day")},startsBefore:function(F){return o.lt(o.merge(t,F),t,"minutes")},startsAfter:function(F){return o.gt(o.merge(n,F),n,"minutes")},getRange:function(F,H,j,_){j||(F=o.min(n,o.max(t,F))),_||(H=o.min(n,o.max(t,H)));var V=N(F),U=N(H),z=U>r*p&&!o.eq(n,H)?(V-r)/(r*p)*100:V/(r*p)*100;return{top:z,height:U/(r*p)*100-z,start:N(F),startDate:F,end:N(H),endDate:H}},getCurrentTimePosition:function(F){var H=N(F),j=H/(r*p)*100;return j}}}var aq=function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;pr(this,e);var o=a.getRange(r.start(t),r.end(t)),s=o.start,u=o.startDate,d=o.end,m=o.endDate,p=o.top,g=o.height;this.start=s,this.end=d,this.startMs=+u,this.endMs=+m,this.top=p,this.height=g,this.data=t}return gr(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(a,o){return Math.max(a,o.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var a=this.row.leaves,o=a.indexOf(this);return o===a.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,a=n.xOffset,o=n._width,s=r.indexOf(this)+1;return a+s*o}}]),e}();function oq(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function iq(e){for(var t=Fz(e,["startMs",function(u){return-u.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var o=t[a];if(!(r.endMs>o.startMs)){if(a>0){var s=t.splice(a,1)[0];n.push(s)}break}}}return n}function BC(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,o=t.map(function(p){return new aq(p,{slotMetrics:r,accessors:a})}),s=iq(o),u=[],d=function(){var g=s[m],w=u.find(function(T){return T.end>g.start||Math.abs(g.start-T.start)<n});if(!w)return g.rows=[],u.push(g),1;g.container=w;for(var D=null,S=w.rows.length-1;!D&&S>=0;S--)oq(w.rows[S],g,n)&&(D=w.rows[S]);D?(D.leaves.push(g),g.row=D):(g.leaves=[],w.rows.push(g))},m=0;m<s.length;m++)d();return s.map(function(p){return{event:p.data,style:{top:p.top,height:p.height,width:p.width,xOffset:Math.max(0,p.xOffset)}}})}function YC(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=YC(e.friends[r],t,n);t=t>a?t:a}return t}function sq(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,o=BC({events:t,minimumStartDifference:n,slotMetrics:r,accessors:a});o.sort(function(ie,he){return ie=ie.style,he=he.style,ie.top!==he.top?ie.top>he.top?1:-1:ie.height!==he.height?ie.top+ie.height<he.top+he.height?1:-1:0});for(var s=0;s<o.length;++s)o[s].friends=[],delete o[s].style.left,delete o[s].style.left,delete o[s].idx,delete o[s].size;for(var u=0;u<o.length-1;++u)for(var d=o[u],m=d.style.top,p=d.style.top+d.style.height,g=u+1;g<o.length;++g){var w=o[g],D=w.style.top,S=w.style.top+w.style.height;(D>=m&&S<=p||S>m&&S<=p||D>=m&&D<p)&&(d.friends.push(w),w.friends.push(d))}for(var T=0;T<o.length;++T){for(var C=o[T],A=[],N=0;N<100;++N)A.push(1);for(var L=0;L<C.friends.length;++L)C.friends[L].idx!==void 0&&(A[C.friends[L].idx]=0);C.idx=A.indexOf(1)}for(var F=0;F<o.length;++F){var H=0;if(!o[F].size){var j=[],_=YC(o[F],0,j);H=100/(_+1),o[F].size=H;for(var V=0;V<j.length;++V)j[V].size=H}}for(var U=0;U<o.length;++U){var z=o[U];z.style.left=z.idx*z.size;for(var q=0,ee=0;ee<z.friends.length;++ee){var ce=z.friends[ee].idx;q=q>ce?q:ce}q<=z.idx&&(z.size=100-z.idx*z.size);var fe=z.idx===0?0:3;z.style.width="calc(".concat(z.size,"% - ").concat(fe,"px)"),z.style.height="calc(".concat(z.style.height,"% - 2px)"),z.style.xOffset="calc(".concat(z.style.left,"% + ").concat(fe,"px)")}return o}var h2={overlap:BC,"no-overlap":sq};function lq(e){return!!(e&&e.constructor&&e.call&&e.apply)}function cq(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in h2&&(n=h2[t]),lq(n)?n.apply(this,arguments):[]}var zC=function(e){ta(t,e);function t(){return pr(this,t),ea(this,t,arguments)}return gr(t,[{key:"render",value:function(){var r=this.props,a=r.renderSlot,o=r.resource,s=r.group,u=r.getters,d=r.components,m=d===void 0?{}:d,p=m.timeSlotWrapper,g=p===void 0?us:p,w=u?u.slotGroupProp(s):{};return J.createElement("div",Object.assign({className:"rbc-timeslot-group"},w),s.map(function(D,S){var T=u?u.slotProp(D,o):{};return J.createElement(g,{key:S,value:D,resource:o},J.createElement("div",Object.assign({},T,{className:Qn("rbc-time-slot",T.className)}),a&&a(D,S)))}))}}]),t}(O.Component);function Rg(e){return typeof e=="string"?e:e+"%"}function uq(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,o=e.rtl,s=e.selected,u=e.label,d=e.continuesPrior,m=e.continuesAfter,p=e.getters,g=e.onClick,w=e.onDoubleClick,D=e.isBackgroundEvent,S=e.onKeyPress,T=e.components,C=T.event,A=T.eventWrapper,N=a.title(r),L=a.tooltip(r),F=a.end(r),H=a.start(r),j=p.eventProp(r,H,F,s),_=[J.createElement("div",{key:"1",className:"rbc-event-label"},u),J.createElement("div",{key:"2",className:"rbc-event-content"},C?J.createElement(C,{event:r,title:N}):N)],V=t.height,U=t.top,z=t.width,q=t.xOffset,ee=nn(nn({},j.style),{},Ic({top:Rg(U),height:Rg(V),width:Rg(z)},o?"right":"left",Rg(q)));return J.createElement(A,Object.assign({type:"time"},e),J.createElement("div",{role:"button",tabIndex:0,onClick:g,onDoubleClick:w,style:ee,onKeyDown:S,title:L?(typeof u=="string"?u+": ":"")+L:void 0,className:Qn(D?"rbc-background-event":"rbc-event",n,j.className,{"rbc-selected":s,"rbc-event-continues-earlier":d,"rbc-event-continues-later":m})},_))}var dq=function(t){var n=t.children,r=t.className,a=t.style,o=t.innerRef;return J.createElement("div",{className:r,style:a,ref:o},n)},fq=J.forwardRef(function(e,t){return J.createElement(dq,Object.assign({},e,{innerRef:t}))}),hq=["dayProp"],mq=["eventContainerWrapper"],UC=function(e){ta(t,e);function t(){var n;pr(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=ea(this,t,[].concat(a)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(s){var u=s.events,d=s.isBackgroundEvent,m=n.props,p=m.rtl,g=m.selected,w=m.accessors,D=m.localizer,S=m.getters,T=m.components,C=m.step,A=m.timeslots,N=m.dayLayoutAlgorithm,L=m.resizable,F=yE(n),H=F.slotMetrics,j=D.messages,_=cq({events:u,accessors:w,slotMetrics:H,minimumStartDifference:Math.ceil(C*A/2),dayLayoutAlgorithm:N});return _.map(function(V,U){var z=V.event,q=V.style,ee=w.end(z),ce=w.start(z),fe="eventTimeRangeFormat",ie,he=H.startsBeforeDay(ce),Ie=H.startsAfterDay(ee);he?fe="eventTimeRangeEndFormat":Ie&&(fe="eventTimeRangeStartFormat"),he&&Ie?ie=j.allDay:ie=D.format({start:ce,end:ee},fe);var se=he||H.startsBefore(ce),we=Ie||H.startsAfter(ee);return J.createElement(uq,{style:q,event:z,label:ie,key:"evt_"+U,getters:S,rtl:p,components:T,continuesPrior:se,continuesAfter:we,accessors:w,resource:n.props.resource,selected:ly(z,g),onClick:function($){return n._select(nn(nn(nn({},z),n.props.resource&&{sourceResource:n.props.resource}),d&&{isBackgroundEvent:!0}),$)},onDoubleClick:function($){return n._doubleClick(z,$)},isBackgroundEvent:d,onKeyPress:function($){return n._keyPress(z,$)},resizable:L})})},n._selectable=function(){var s=n.containerRef.current,u=n.props,d=u.longPressThreshold,m=u.localizer,p=n._selector=new OC(function(){return s},{longPressThreshold:d}),g=function(T){var C=n.props.onSelecting,A=n.state||{},N=w(T),L=N.startDate,F=N.endDate;C&&(m.eq(A.startDate,L,"minutes")&&m.eq(A.endDate,F,"minutes")||C({start:L,end:F,resourceId:n.props.resource})===!1)||(n.state.start!==N.start||n.state.end!==N.end||n.state.selecting!==N.selecting)&&n.setState(N)},w=function(T){var C=n.slotMetrics.closestSlotFromPoint(T,Lc(s));n.state.selecting||(n._initialSlot=C);var A=n._initialSlot;m.lte(A,C)?C=n.slotMetrics.nextSlot(C):m.gt(A,C)&&(A=n.slotMetrics.nextSlot(A));var N=n.slotMetrics.getRange(m.min(A,C),m.max(A,C));return nn(nn({},N),{},{selecting:!0,top:"".concat(N.top,"%"),height:"".concat(N.height,"%")})},D=function(T,C){if(!xv(n.containerRef.current,T)){var A=w(T),N=A.startDate,L=A.endDate;n._selectSlot({startDate:N,endDate:L,action:C,box:T})}n.setState({selecting:!1})};p.on("selecting",g),p.on("selectStart",g),p.on("beforeSelect",function(S){if(n.props.selectable==="ignoreEvents")return!xv(n.containerRef.current,S)}),p.on("click",function(S){return D(S,"click")}),p.on("doubleClick",function(S){return D(S,"doubleClick")}),p.on("select",function(S){n.state.selecting&&(n._selectSlot(nn(nn({},n.state),{},{action:"select",bounds:S})),n.setState({selecting:!1}))}),p.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(s){for(var u=s.startDate,d=s.endDate,m=s.action,p=s.bounds,g=s.box,w=u,D=[];n.props.localizer.lte(w,d);)D.push(w),w=new Date(+w+n.props.step*60*1e3);vn(n.props.onSelectSlot,{slots:D,start:u,end:d,resourceId:n.props.resource,action:m,bounds:p,box:g})},n._select=function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];vn(n.props.onSelectEvent,u)},n._doubleClick=function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];vn(n.props.onDoubleClickEvent,u)},n._keyPress=function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];vn(n.props.onKeyPressEvent,u)},n.slotMetrics=ab(n.props),n.containerRef=O.createRef(),n}return gr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,a){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(this.props);var o=this.props,s=o.getNow,u=o.isNow,d=o.localizer,m=o.date,p=o.min,g=o.max,w=d.neq(r.getNow(),s(),"minutes");if(r.isNow!==u||w){if(this.clearTimeIndicatorInterval(),u){var D=!w&&d.eq(r.date,m,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(D)}}else u&&(d.neq(r.min,p,"minutes")||d.neq(r.max,g,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,a=r.min,o=r.max,s=r.getNow,u=s();if(u>=a&&u<=o){var d=this.slotMetrics.getCurrentTimePosition(u);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:d})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,a=r.date,o=r.max,s=r.rtl,u=r.isNow,d=r.resource,m=r.accessors,p=r.localizer,g=r.getters,w=g.dayProp,D=Ai(g,hq),S=r.components,T=S.eventContainerWrapper,C=Ai(S,mq),A=this.slotMetrics,N=this.state,L=N.selecting,F=N.top,H=N.height,j=N.startDate,_=N.endDate,V={start:j,end:_},U=w(o),z=U.className,q=U.style,ee=C.dayColumnWrapper||fq;return J.createElement(ee,{ref:this.containerRef,date:a,style:q,className:Qn(z,"rbc-day-slot","rbc-time-column",u&&"rbc-now",u&&"rbc-today",L&&"rbc-slot-selecting"),slotMetrics:A},A.groups.map(function(ce,fe){return J.createElement(zC,{key:fe,group:ce,resource:d,getters:D,components:C})}),J.createElement(T,{localizer:p,resource:d,accessors:m,getters:D,components:C,slotMetrics:A},J.createElement("div",{className:Qn("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),L&&J.createElement("div",{className:"rbc-slot-selection",style:{top:F,height:H}},J.createElement("span",null,p.format(V,"selectRangeFormat"))),u&&this.intervalTriggered&&J.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}]),t}(J.Component);UC.defaultProps={dragThroughEvents:!0,timeslots:2};function pq(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var gq=function(t){var n=t.min,r=t.max,a=t.timeslots,o=t.step,s=t.localizer,u=t.getNow,d=t.resource,m=t.components,p=t.getters,g=t.gutterRef,w=m.timeGutterWrapper,D=O.useMemo(function(){return pq({min:n,max:r,localizer:s})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),s]),S=D.start,T=D.end,C=O.useState(ab({min:S,max:T,timeslots:a,step:o,localizer:s})),A=ds(C,2),N=A[0],L=A[1];O.useEffect(function(){N&&L(N.update({min:S,max:T,timeslots:a,step:o,localizer:s}))},[S==null?void 0:S.toISOString(),T==null?void 0:T.toISOString(),a,o]);var F=O.useCallback(function(H,j){if(j)return null;var _=N.dateIsInGroup(u(),j);return J.createElement("span",{className:Qn("rbc-label",_&&"rbc-now")},s.format(H,"timeGutterFormat"))},[N,s,u]);return J.createElement(w,{slotMetrics:N},J.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:g},N.groups.map(function(H,j){return J.createElement(zC,{key:j,group:H,resource:d,components:m,renderSlot:F,getters:p})})))},vq=J.forwardRef(function(e,t){return J.createElement(gq,Object.assign({gutterRef:t},e))}),yq=function(t){var n=t.label;return J.createElement(J.Fragment,null,n)},wq=function(e){ta(t,e);function t(){var n;pr(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=ea(this,t,[].concat(a)),n.handleHeaderClick=function(s,u,d){d.preventDefault(),vn(n.props.onDrillDown,[s,u])},n.renderRow=function(s){var u=n.props,d=u.events,m=u.rtl,p=u.selectable,g=u.getNow,w=u.range,D=u.getters,S=u.localizer,T=u.accessors,C=u.components,A=u.resizable,N=T.resourceId(s),L=s?d.filter(function(F){return T.resource(F)===N}):d;return J.createElement(Mv,{isAllDay:!0,rtl:m,getNow:g,minRows:2,maxRows:n.props.allDayMaxRows+1,range:w,events:L,resourceId:N,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:C,accessors:T,getters:D,localizer:S,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:A})},n}return gr(t,[{key:"renderHeaderCells",value:function(r){var a=this,o=this.props,s=o.localizer,u=o.getDrilldownView,d=o.getNow,m=o.getters.dayProp,p=o.components.header,g=p===void 0?HC:p,w=d();return r.map(function(D,S){var T=u(D),C=s.format(D,"dayFormat"),A=m(D),N=A.className,L=A.style,F=J.createElement(g,{date:D,label:C,localizer:s});return J.createElement("div",{key:S,style:L,className:Qn("rbc-header",N,s.isSameDate(D,w)&&"rbc-today")},T?J.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(j){return a.handleHeaderClick(D,T,j)}},F):J.createElement("span",null,F))})}},{key:"render",value:function(){var r=this,a=this.props,o=a.width,s=a.rtl,u=a.resources,d=a.range,m=a.events,p=a.getNow,g=a.accessors,w=a.selectable,D=a.components,S=a.getters,T=a.scrollRef,C=a.localizer,A=a.isOverflowing,N=a.components,L=N.timeGutterHeader,F=N.resourceHeader,H=F===void 0?yq:F,j=a.resizable,_={};A&&(_[s?"marginLeft":"marginRight"]="".concat(ZE()-1,"px"));var V=u.groupEvents(m);return J.createElement("div",{style:_,ref:T,className:Qn("rbc-time-header",A&&"rbc-overflowing")},J.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},L&&J.createElement(L,null)),u.map(function(U,z){var q=ds(U,2),ee=q[0],ce=q[1];return J.createElement("div",{className:"rbc-time-header-content",key:ee||z},ce&&J.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(z)},J.createElement("div",{className:"rbc-header"},J.createElement(H,{index:z,label:g.resourceTitle(ce),resource:ce}))),J.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(d.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(d)),J.createElement(Mv,{isAllDay:!0,rtl:s,getNow:p,minRows:2,maxRows:r.props.allDayMaxRows+1,range:d,events:V.get(ee)||[],resourceId:ce&&ee,className:"rbc-allday-cell",selectable:w,selected:r.props.selected,components:D,accessors:g,getters:S,localizer:C,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:j}))}))}}]),t}(J.Component),W0={};function bq(e,t){return{map:function(r){return e?e.map(function(a,o){return r([t.resourceId(a),a],o)}):[r([W0,null],0)]},groupEvents:function(r){var a=new Map;return e?(r.forEach(function(o){var s=t.resource(o)||W0;if(Array.isArray(s))s.forEach(function(d){var m=a.get(d)||[];m.push(o),a.set(d,m)});else{var u=a.get(s)||[];u.push(o),a.set(s,u)}}),a):(a.set(W0,r),a)}}}var af=function(e){ta(t,e);function t(n){var r;return pr(this,t),r=ea(this,t,[n]),r.handleScroll=function(a){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=a.target.scrollLeft)},r.handleResize=function(){sS(r.rafHandle),r.rafHandle=VE(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];vn(r.props.onKeyPressEvent,o)},r.handleSelectEvent=function(){r.clearSelection();for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];vn(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];vn(r.props.onDoubleClickEvent,o)},r.handleShowMore=function(a,o,s,u,d){var m=r.props,p=m.popup,g=m.onDrillDown,w=m.onShowMore,D=m.getDrilldownView,S=m.doShowMoreDrillDown;if(r.clearSelection(),p){var T=UE(s,r.containerRef.current);r.setState({overlay:{date:o,events:a,position:nn(nn({},T),{},{width:"200px"}),target:d}})}else S&&vn(g,[o,D(o)||Qr.DAY]);vn(w,[a,o,u])},r.handleSelectAllDaySlot=function(a,o){var s=r.props.onSelectSlot,u=new Date(a[0]),d=new Date(a[a.length-1]);d.setDate(a[a.length-1].getDate()+1),vn(s,{slots:a,start:u,end:d,action:o.action,resourceId:o.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var a=r.contentRef.current;if(a!=null&&a.scrollHeight){var o=a.scrollHeight>a.clientHeight;r.state.isOverflowing!==o&&(r._updatingOverflow=!0,r.setState({isOverflowing:o},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=lC(function(a,o){return bq(a,o)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=J.createRef(),r.contentRef=J.createRef(),r.containerRef=J.createRef(),r._scrollRatio=null,r.gutterRef=O.createRef(),r}return gr(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),sS(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderEvents",value:function(r,a,o,s){var u=this,d=this.props,m=d.min,p=d.max,g=d.components,w=d.accessors,D=d.localizer,S=d.dayLayoutAlgorithm,T=this.memoizedResources(this.props.resources,w),C=T.groupEvents(a),A=T.groupEvents(o);return T.map(function(N,L){var F=ds(N,2),H=F[0],j=F[1];return r.map(function(_,V){var U=(C.get(H)||[]).filter(function(q){return D.inRange(_,w.start(q),w.end(q),"day")}),z=(A.get(H)||[]).filter(function(q){return D.inRange(_,w.start(q),w.end(q),"day")});return J.createElement(UC,Object.assign({},u.props,{localizer:D,min:D.merge(_,m),max:D.merge(_,p),resource:j&&H,components:g,isNow:D.isSameDate(_,s),key:L+"-"+V,date:_,events:U,backgroundEvents:z,dayLayoutAlgorithm:S}))})})}},{key:"render",value:function(){var r,a=this.props,o=a.events,s=a.backgroundEvents,u=a.range,d=a.width,m=a.rtl,p=a.selected,g=a.getNow,w=a.resources,D=a.components,S=a.accessors,T=a.getters,C=a.localizer,A=a.min,N=a.max,L=a.showMultiDayTimes,F=a.longPressThreshold,H=a.resizable;d=d||this.state.gutterWidth;var j=u[0],_=u[u.length-1];this.slots=u.length;var V=[],U=[],z=[];return o.forEach(function(q){if(hm(q,j,_,S,C)){var ee=S.start(q),ce=S.end(q);S.allDay(q)||C.startAndEndAreDateOnly(ee,ce)||!L&&!C.isSameDate(ee,ce)?V.push(q):U.push(q)}}),s.forEach(function(q){hm(q,j,_,S,C)&&z.push(q)}),V.sort(function(q,ee){return Zw(q,ee,S,C)}),J.createElement("div",{className:Qn("rbc-time-view",w&&"rbc-time-view-resources"),ref:this.containerRef},J.createElement(wq,{range:u,events:V,width:d,rtl:m,getNow:g,localizer:C,selected:p,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(w,S),selectable:this.props.selectable,accessors:S,getters:T,components:D,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:F,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:H}),this.props.popup&&this.renderOverlay(),J.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},J.createElement(vq,{date:j,ref:this.gutterRef,localizer:C,min:C.merge(j,A),max:C.merge(j,N),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:D,className:"rbc-time-gutter",getters:T}),this.renderEvents(u,U,z,g())))}},{key:"renderOverlay",value:function(){var r,a,o=this,s=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},u=this.props,d=u.accessors,m=u.localizer,p=u.components,g=u.getters,w=u.selected,D=u.popupOffset,S=u.handleDragStart,T=function(){return o.setState({overlay:null})};return J.createElement(rb,{overlay:s,accessors:d,localizer:m,components:p,getters:g,selected:w,popupOffset:D,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:T})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,o=(a=r.gutterRef)!==null&&a!==void 0&&a.current?Uw(r.gutterRef.current):void 0;o&&r.state.gutterWidth!==o&&r.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=r.min,o=r.max,s=r.scrollToTime,u=r.localizer,d=u.diff(u.merge(s,a),s,"milliseconds"),m=u.diff(a,o,"milliseconds");this._scrollRatio=d/m}}]),t}(O.Component);af.defaultProps={step:30,timeslots:2};var Dq=["date","localizer","min","max","scrollToTime","enableAutoScroll"],uy=function(e){ta(t,e);function t(){return pr(this,t),ea(this,t,arguments)}return gr(t,[{key:"render",value:function(){var r=this.props,a=r.date,o=r.localizer,s=r.min,u=s===void 0?o.startOf(new Date,"day"):s,d=r.max,m=d===void 0?o.endOf(new Date,"day"):d,p=r.scrollToTime,g=p===void 0?o.startOf(new Date,"day"):p,w=r.enableAutoScroll,D=w===void 0?!0:w,S=Ai(r,Dq),T=t.range(a,{localizer:o});return J.createElement(af,Object.assign({},S,{range:T,eventOffset:10,localizer:o,min:u,max:m,scrollToTime:g,enableAutoScroll:D}))}}]),t}(J.Component);uy.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};uy.navigate=function(e,t,n){var r=n.localizer;switch(t){case Da.PREVIOUS:return r.add(e,-1,"day");case Da.NEXT:return r.add(e,1,"day");default:return e}};uy.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var Sq=["date","localizer","min","max","scrollToTime","enableAutoScroll"],wl=function(e){ta(t,e);function t(){return pr(this,t),ea(this,t,arguments)}return gr(t,[{key:"render",value:function(){var r=this.props,a=r.date,o=r.localizer,s=r.min,u=s===void 0?o.startOf(new Date,"day"):s,d=r.max,m=d===void 0?o.endOf(new Date,"day"):d,p=r.scrollToTime,g=p===void 0?o.startOf(new Date,"day"):p,w=r.enableAutoScroll,D=w===void 0?!0:w,S=Ai(r,Sq),T=t.range(a,this.props);return J.createElement(af,Object.assign({},S,{range:T,eventOffset:15,localizer:o,min:u,max:m,scrollToTime:g,enableAutoScroll:D}))}}]),t}(J.Component);wl.defaultProps=af.defaultProps;wl.navigate=function(e,t,n){var r=n.localizer;switch(t){case Da.PREVIOUS:return r.add(e,-1,"week");case Da.NEXT:return r.add(e,1,"week");default:return e}};wl.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),o=n.endOf(e,"week",r);return n.range(a,o)};wl.title=function(e,t){var n=t.localizer,r=wl.range(e,{localizer:n}),a=pC(r),o=a[0],s=a.slice(1);return n.format({start:o,end:s.pop()},"dayRangeHeaderFormat")};var Iq=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function ob(e,t){return wl.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var Wm=function(e){ta(t,e);function t(){return pr(this,t),ea(this,t,arguments)}return gr(t,[{key:"render",value:function(){var r=this.props,a=r.date,o=r.localizer,s=r.min,u=s===void 0?o.startOf(new Date,"day"):s,d=r.max,m=d===void 0?o.endOf(new Date,"day"):d,p=r.scrollToTime,g=p===void 0?o.startOf(new Date,"day"):p,w=r.enableAutoScroll,D=w===void 0?!0:w,S=Ai(r,Iq),T=ob(a,this.props);return J.createElement(af,Object.assign({},S,{range:T,eventOffset:15,localizer:o,min:u,max:m,scrollToTime:g,enableAutoScroll:D}))}}]),t}(J.Component);Wm.defaultProps=af.defaultProps;Wm.range=ob;Wm.navigate=wl.navigate;Wm.title=function(e,t){var n=t.localizer,r=ob(e,{localizer:n}),a=pC(r),o=a[0],s=a.slice(1);return n.format({start:o,end:s.pop()},"dayRangeHeaderFormat")};function bl(e){var t=e.accessors,n=e.components,r=e.date,a=e.events,o=e.getters,s=e.length,u=e.localizer,d=e.onDoubleClickEvent,m=e.onSelectEvent,p=e.selected,g=O.useRef(null),w=O.useRef(null),D=O.useRef(null),S=O.useRef(null),T=O.useRef(null);O.useEffect(function(){N()});var C=function(_,V,U){var z=n.event,q=n.date;return V=V.filter(function(ee){return hm(ee,u.startOf(_,"day"),u.endOf(_,"day"),t,u)}),V.map(function(ee,ce){var fe=t.title(ee),ie=t.end(ee),he=t.start(ee),Ie=o.eventProp(ee,he,ie,ly(ee,p)),se=ce===0&&u.format(_,"agendaDateFormat"),we=ce===0?J.createElement("td",{rowSpan:V.length,className:"rbc-agenda-date-cell"},q?J.createElement(q,{day:_,label:se}):se):!1;return J.createElement("tr",{key:U+"_"+ce,className:Ie.className,style:Ie.style},we,J.createElement("td",{className:"rbc-agenda-time-cell"},A(_,ee)),J.createElement("td",{className:"rbc-agenda-event-cell",onClick:function($){return m&&m(ee,$)},onDoubleClick:function($){return d&&d(ee,$)}},z?J.createElement(z,{event:ee,title:fe}):fe))},[])},A=function(_,V){var U="",z=n.time,q=u.messages.allDay,ee=t.end(V),ce=t.start(V);return t.allDay(V)||(u.eq(ce,ee)?q=u.format(ce,"agendaTimeFormat"):u.isSameDate(ce,ee)?q=u.format({start:ce,end:ee},"agendaTimeRangeFormat"):u.isSameDate(_,ce)?q=u.format(ce,"agendaTimeFormat"):u.isSameDate(_,ee)&&(q=u.format(ee,"agendaTimeFormat"))),u.gt(_,ce,"day")&&(U="rbc-continues-prior"),u.lt(_,ee,"day")&&(U+=" rbc-continues-after"),J.createElement("span",{className:U.trim()},z?J.createElement(z,{event:V,day:_,label:q}):q)},N=function(){if(T.current){var _=g.current,V=T.current.firstChild;if(V){var U=S.current.scrollHeight>S.current.clientHeight,z=[],q=z;z=[Uw(V.children[0]),Uw(V.children[1])],(q[0]!==z[0]||q[1]!==z[1])&&(w.current.style.width=z[0]+"px",D.current.style.width=z[1]+"px"),U?(I7(_,"rbc-header-overflowing"),_.style.marginRight=ZE()+"px"):T7(_,"rbc-header-overflowing")}}},L=u.messages,F=u.add(r,s,"day"),H=u.range(r,F,"day");return a=a.filter(function(j){return hm(j,u.startOf(r,"day"),u.endOf(F,"day"),t,u)}),a.sort(function(j,_){return+t.start(j)-+t.start(_)}),J.createElement("div",{className:"rbc-agenda-view"},a.length!==0?J.createElement(J.Fragment,null,J.createElement("table",{ref:g,className:"rbc-agenda-table"},J.createElement("thead",null,J.createElement("tr",null,J.createElement("th",{className:"rbc-header",ref:w},L.date),J.createElement("th",{className:"rbc-header",ref:D},L.time),J.createElement("th",{className:"rbc-header"},L.event)))),J.createElement("div",{className:"rbc-agenda-content",ref:S},J.createElement("table",{className:"rbc-agenda-table"},J.createElement("tbody",{ref:T},H.map(function(j,_){return C(j,a,_)}))))):J.createElement("span",{className:"rbc-agenda-empty"},L.noEventsInRange))}bl.defaultProps={length:30};bl.range=function(e,t){var n=t.length,r=n===void 0?bl.defaultProps.length:n,a=t.localizer,o=a.add(e,r,"day");return{start:e,end:o}};bl.navigate=function(e,t,n){var r=n.length,a=r===void 0?bl.defaultProps.length:r,o=n.localizer;switch(t){case Da.PREVIOUS:return o.add(e,-a,"day");case Da.NEXT:return o.add(e,a,"day");default:return e}};bl.title=function(e,t){var n=t.length,r=n===void 0?bl.defaultProps.length:n,a=t.localizer,o=a.add(e,r,"day");return a.format({start:e,end:o},"agendaHeaderFormat")};var nv=Ic(Ic(Ic(Ic(Ic({},Qr.MONTH,cy),Qr.WEEK,wl),Qr.WORK_WEEK,Wm),Qr.DAY,uy),Qr.AGENDA,bl),Tq=["action","date","today"];function Eq(e,t){var n=t.action,r=t.date,a=t.today,o=Ai(t,Tq);switch(e=typeof e=="string"?nv[e]:e,n){case Da.TODAY:r=a||new Date;break;case Da.DATE:break;default:rm(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,o)}return r}var Cq=function(e){ta(t,e);function t(){var n;pr(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=ea(this,t,[].concat(a)),n.navigate=function(s){n.props.onNavigate(s)},n.view=function(s){n.props.onView(s)},n}return gr(t,[{key:"render",value:function(){var r=this.props,a=r.localizer.messages,o=r.label;return J.createElement("div",{className:"rbc-toolbar"},J.createElement("span",{className:"rbc-btn-group"},J.createElement("button",{type:"button",onClick:this.navigate.bind(null,Da.TODAY)},a.today),J.createElement("button",{type:"button",onClick:this.navigate.bind(null,Da.PREVIOUS)},a.previous),J.createElement("button",{type:"button",onClick:this.navigate.bind(null,Da.NEXT)},a.next)),J.createElement("span",{className:"rbc-toolbar-label"},o),J.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(r){var a=this,o=this.props.views,s=this.props.view;if(o.length>1)return o.map(function(u){return J.createElement("button",{type:"button",key:u,className:Qn({"rbc-active":s===u}),onClick:a.view.bind(null,u)},r[u])})}}]),t}(J.Component);function xq(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&gs(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var dl=function(t){return function(n){return xq(n,t)}},Mq=["view","date","getNow","onNavigate"],Nq=["view","toolbar","events","backgroundEvents","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function VC(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=ds(r[n],2),o=a[0],s=a[1];s&&t.push(o)}return t}function kq(e,t){var n=t.views,r=VC(n);return r.indexOf(e)!==-1}var ZC=function(e){ta(t,e);function t(){var n;pr(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=ea(this,t,[].concat(a)),n.getViews=function(){var s=n.props.views;return Array.isArray(s)?t$(s,function(u,d){return u[d]=nv[d]},{}):gs(s)==="object"?s$(s,function(u,d){return u===!0?nv[d]:u}):nv},n.getView=function(){var s=n.getViews();return s[n.props.view]},n.getDrilldownView=function(s){var u=n.props,d=u.view,m=u.drilldownView,p=u.getDrilldownView;return p?p(s,d,Object.keys(n.getViews())):m},n.handleRangeChange=function(s,u,d){var m=n.props,p=m.onRangeChange,g=m.localizer;p&&u.range&&p(u.range(s,{localizer:g}),d)},n.handleNavigate=function(s,u){var d=n.props,m=d.view,p=d.date,g=d.getNow,w=d.onNavigate,D=Ai(d,Mq),S=n.getView(),T=g();p=Eq(S,nn(nn({},D),{},{action:s,date:u||p||T,today:T})),w(p,m,s),n.handleRangeChange(p,S)},n.handleViewChange=function(s){s!==n.props.view&&kq(s,n.props)&&n.props.onView(s);var u=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),u[s],s)},n.handleSelectEvent=function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];vn(n.props.onSelectEvent,u)},n.handleDoubleClickEvent=function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];vn(n.props.onDoubleClickEvent,u)},n.handleKeyPressEvent=function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];vn(n.props.onKeyPressEvent,u)},n.handleSelectSlot=function(s){vn(n.props.onSelectSlot,s)},n.handleDrillDown=function(s,u){var d=n.props.onDrillDown;if(d){d(s,u,n.drilldownView);return}u&&n.handleViewChange(u),n.handleNavigate(Da.DATE,s)},n.state={context:t.getContext(n.props)},n}return gr(t,[{key:"render",value:function(){var r=this.props,a=r.view,o=r.toolbar,s=r.events,u=r.backgroundEvents,d=r.style,m=r.className,p=r.elementProps,g=r.date,w=r.getNow,D=r.length,S=r.showMultiDayTimes,T=r.onShowMore,C=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var A=Ai(r,Nq);g=g||w();var N=this.getView(),L=this.state.context,F=L.accessors,H=L.components,j=L.getters,_=L.localizer,V=L.viewNames,U=H.toolbar||Cq,z=N.title(g,{localizer:_,length:D});return J.createElement("div",Object.assign({},p,{className:Qn(m,"rbc-calendar",A.rtl&&"rbc-rtl"),style:d}),o&&J.createElement(U,{date:g,view:a,views:V,label:z,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),J.createElement(N,Object.assign({},A,{events:s,backgroundEvents:u,date:g,getNow:w,length:D,localizer:_,getters:j,components:H,accessors:F,showMultiDayTimes:S,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:T,doShowMoreDrillDown:C})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var a=r.startAccessor,o=r.endAccessor,s=r.allDayAccessor,u=r.tooltipAccessor,d=r.titleAccessor,m=r.resourceAccessor,p=r.resourceIdAccessor,g=r.resourceTitleAccessor,w=r.eventPropGetter,D=r.backgroundEventPropGetter,S=r.slotPropGetter,T=r.slotGroupPropGetter,C=r.dayPropGetter,A=r.view,N=r.views,L=r.localizer,F=r.culture,H=r.messages,j=H===void 0?{}:H,_=r.components,V=_===void 0?{}:_,U=r.formats,z=U===void 0?{}:U,q=VC(N),ee=P$(j);return{viewNames:q,localizer:O$(L,F,z,ee),getters:{eventProp:function(){return w&&w.apply(void 0,arguments)||{}},backgroundEventProp:function(){return D&&D.apply(void 0,arguments)||{}},slotProp:function(){return S&&S.apply(void 0,arguments)||{}},slotGroupProp:function(){return T&&T.apply(void 0,arguments)||{}},dayProp:function(){return C&&C.apply(void 0,arguments)||{}}},components:zW(V[A]||{},PW(V,q),{eventWrapper:us,backgroundEventWrapper:us,eventContainerWrapper:us,dateCellWrapper:us,weekWrapper:us,timeSlotWrapper:us,timeGutterWrapper:us}),accessors:{start:dl(a),end:dl(o),allDay:dl(s),tooltip:dl(u),title:dl(d),resource:dl(m),resourceId:dl(p),resourceTitle:dl(g)}}}}]),t}(J.Component);ZC.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Qr.MONTH,views:[Qr.MONTH,Qr.WEEK,Qr.DAY,Qr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Qr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Aq=TE(ZC,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Oq=function(t,n,r){var a=t.start,o=t.end;return r.format(a,"MMMM DD",n)+" ‚Äì "+r.format(o,r.eq(a,o,"month")?"DD":"MMMM DD",n)},Fq=function(t,n,r){var a=t.start,o=t.end;return r.format(a,"L",n)+" ‚Äì "+r.format(o,"L",n)},$0=function(t,n,r){var a=t.start,o=t.end;return r.format(a,"LT",n)+" ‚Äì "+r.format(o,"LT",n)},Pq=function(t,n,r){var a=t.start;return r.format(a,"LT",n)+" ‚Äì "},jq=function(t,n,r){var a=t.end;return" ‚Äì "+r.format(a,"LT",n)},Lq={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:$0,eventTimeRangeFormat:$0,eventTimeRangeStartFormat:Pq,eventTimeRangeEndFormat:jq,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Oq,agendaHeaderFormat:Fq,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:$0};function fl(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Rq(e){var t=function(X,ve){return ve?X.locale(ve):X};function n($){return e($).toDate().getTimezoneOffset()}function r($,X){var ve,De,be=e($).local(),ke=e(X).local();if(!e.tz)return be.toDate().getTimezoneOffset()-ke.toDate().getTimezoneOffset();var Be=(ve=be==null||(De=be._z)===null||De===void 0?void 0:De.name)!==null&&ve!==void 0?ve:e.tz.guess(),_e=e.tz.zone(Be).utcOffset(+be),it=e.tz.zone(Be).utcOffset(+ke);return _e-it}function a($){var X=e($).startOf("day");return r(X,$)}function o($,X,ve){var De=fl(ve),be=De?e($).startOf(De):e($),ke=De?e(X).startOf(De):e(X);return[be,ke,De]}function s(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,X=arguments.length>1?arguments[1]:void 0,ve=fl(X);return ve?e($).startOf(ve).toDate():e($).toDate()}function u(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,X=arguments.length>1?arguments[1]:void 0,ve=fl(X);return ve?e($).endOf(ve).toDate():e($).toDate()}function d($,X,ve){var De=o($,X,ve),be=ds(De,3),ke=be[0],Be=be[1],_e=be[2];return ke.isSame(Be,_e)}function m($,X,ve){return!d($,X,ve)}function p($,X,ve){var De=o($,X,ve),be=ds(De,3),ke=be[0],Be=be[1],_e=be[2];return ke.isAfter(Be,_e)}function g($,X,ve){var De=o($,X,ve),be=ds(De,3),ke=be[0],Be=be[1],_e=be[2];return ke.isBefore(Be,_e)}function w($,X,ve){var De=o($,X,ve),be=ds(De,3),ke=be[0],Be=be[1],_e=be[2];return ke.isSameOrBefore(Be,_e)}function D($,X,ve){var De=o($,X,ve),be=ds(De,3),ke=be[0],Be=be[1],_e=be[2];return ke.isSameOrBefore(Be,_e)}function S($,X,ve){var De=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",be=fl(De),ke=e($),Be=e(X),_e=e(ve);return ke.isBetween(Be,_e,be,"[]")}function T($,X){var ve=e($),De=e(X),be=e.min(ve,De);return be.toDate()}function C($,X){var ve=e($),De=e(X),be=e.max(ve,De);return be.toDate()}function A($,X){if(!$&&!X)return null;var ve=e(X).format("HH:mm:ss"),De=e($).startOf("day").format("MM/DD/YYYY");return e("".concat(De," ").concat(ve),"MM/DD/YYYY HH:mm:ss").toDate()}function N($,X,ve){var De=fl(ve);return e($).add(X,De).toDate()}function L($,X){for(var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",De=fl(ve),be=e($).toDate(),ke=[];D(be,X);)ke.push(be),be=N(be,1,De);return ke}function F($,X){var ve=fl(X),De=s($,ve);return d(De,$)?De:N(De,1,ve)}function H($,X){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",De=fl(ve),be=e($),ke=e(X);return ke.diff(be,De)}function j($){var X=e($);return X.minutes()}function _($){var X=$?e.localeData($):e.localeData();return X?X.firstDayOfWeek():0}function V($){return e($).startOf("month").startOf("week").toDate()}function U($){return e($).endOf("month").endOf("week").toDate()}function z($){for(var X=V($),ve=U($),De=[];D(X,ve);)De.push(X),X=N(X,1,"d");return De}function q($,X,ve){return e($).startOf("day").minute(X+ve).toDate()}function ee($,X){return H($,X,"minutes")}function ce($){var X=e($).startOf("day"),ve=e($);return ve.diff(X,"minutes")+a($)}function fe($,X){var ve=e($),De=e(X);return ve.isBefore(De,"day")}function ie($,X,ve){var De=e(X),be=e(ve);return De.isSameOrAfter(be,"minutes")}function he($,X){var ve=e($),De=e(X),be=e.duration(De.diff(ve));return be.days()}function Ie($){var X=$.evtA,ve=X.start,De=X.end,be=X.allDay,ke=$.evtB,Be=ke.start,_e=ke.end,it=ke.allDay,Vt=+s(ve,"day")-+s(Be,"day"),Se=he(ve,De),Ue=he(Be,_e);return Vt||Ue-Se||!!it-!!be||+ve-+Be||+De-+_e}function se($){var X=$.event,ve=X.start,De=X.end,be=$.range,ke=be.start,Be=be.end,_e=e(ve).startOf("day"),it=e(De),Vt=e(ke),Se=e(Be),Ue=_e.isSameOrBefore(Se,"day"),Je=!_e.isSame(it,"minutes"),$e=Je?it.isAfter(Vt,"minutes"):it.isSameOrAfter(Vt,"minutes");return Ue&&$e}function we($,X){var ve=e($),De=e(X);return ve.isSame(De,"day")}function W(){var $=new Date,X=/-/.test($.toString())?"-":"",ve=$.getTimezoneOffset(),De=Number("".concat(X).concat(Math.abs(ve))),be=e().utcOffset();return be>De?1:0}return new A$({formats:Lq,firstOfWeek:_,firstVisibleDay:V,lastVisibleDay:U,visibleDays:z,format:function(X,ve,De){return t(e(X),De).format(ve)},lt:g,lte:D,gt:p,gte:w,eq:d,neq:m,merge:A,inRange:S,startOf:s,endOf:u,range:L,add:N,diff:H,ceil:F,min:T,max:C,minutes:j,getSlotDate:q,getTimezoneOffset:n,getDstOffset:r,getTotalMin:ee,getMinutesFromMidnight:ce,continuesPrior:fe,continuesAfter:ie,sortEvents:Ie,inEventRange:se,isSameDate:we,daySpan:he,browserTZOffset:W})}function m2(e,t,n,r,a){const o={start:r.start(e),end:r.end(e)},s={start:t,end:n};return a.inEventRange({event:o,range:s})}function _q(e,t){return!e||t==null?!1:CI.isEqual(e,t)}const Td={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};function vs({accessors:e,components:t,date:n,events:r,getters:a,length:o,localizer:s,onDoubleClickEvent:u,onSelectEvent:d,selected:m}){O.useRef(null);const p=O.useRef(null),g=O.useRef(null),w=O.useRef(null),D=O.useRef(null),[S,T]=O.useState(!1),[C,A]=O.useState(!1),N=(z,q,ee)=>{const{event:ce,date:fe}=t;return q=q.filter(ie=>m2(ie,s.startOf(z,"day"),s.endOf(z,"day"),e,s)),q.map((ie,he)=>{const Ie=e.title(ie),se=e.end(ie),we=e.start(ie),W=a.eventProp(ie,we,se,_q(ie,m)),$=he===0&&s.format(z,"agendaDateFormat"),X=he===0?y.jsx("td",{rowSpan:q.length,className:"rbc-agenda-date-cell",children:fe?y.jsx(fe,{day:z,label:$}):$}):!1;return y.jsxs("tr",{className:W.className,style:W.style,children:[X,y.jsx("td",{className:"rbc-agenda-time-cell",children:L(z,ie)}),y.jsx("td",{className:"rbc-agenda-event-cell",onClick:ve=>d&&d(ie,ve),onDoubleClick:ve=>u&&u(ie,ve),children:ce?y.jsx(ce,{event:ie,title:Ie}):Ie})]},ee+"_"+he)},[])},L=(z,q)=>{const ee=t.time;let ce="",fe=s.messages.allDay;const ie=e.end(q),he=e.start(q);return e.allDay(q)||(s.eq(he,ie)?fe=s.format(he,"agendaTimeFormat"):s.isSameDate(he,ie)?fe=s.format({start:he,end:ie},"agendaTimeRangeFormat"):s.isSameDate(z,he)?fe=s.format(he,"agendaTimeFormat"):s.isSameDate(z,ie)&&(fe=s.format(ie,"agendaTimeFormat"))),s.gt(z,he,"day")&&(ce="rbc-continues-prior"),s.lt(z,ie,"day")&&(ce+=" rbc-continues-after"),y.jsx("span",{className:ce.trim(),children:ee?y.jsx(ee,{event:q,day:z,label:fe}):fe})},{messages:F}=s,H=s.add(n,-o/2,"day"),j=s.add(n,o/2,"day"),_=s.range(H,j,"day");S&&_.reverse(),r=r.filter(z=>m2(z,s.startOf(H,"day"),s.endOf(j,"day"),e,s)),r.sort((z,q)=>+e.start(z)-+e.start(q)),C&&r.reverse();const V=O.useCallback(()=>setTimeout(()=>{D.current&&Pm(D.current,{backgroundColor:"#ffffff",pixelRatio:window.devicePixelRatio*2}).then(z=>{new E.Notice(k("Image is generating..."));const q=rt.getState().settings.AutoSaveWhenOnMobile,ee=rt.getState().app.vault;if(q&&E.Platform.isMobile){const ce=z.split("base64,")[1];Dm(ce,"image/png").arrayBuffer().then(async ie=>{let he;const Ie="png",se=Oi();for(const we in se)if(se[we]instanceof E.TFile){he=se[we];break}he!==void 0&&await ee.createBinary(await ee.getAvailablePathForAttachments(`Pasted Image ${E.moment().format("YYYYMMDDHHmmss")}`,Ie,he),ie)})}jm({imgUrl:z})}).catch(z=>{console.error(z)})},0),[D.current,_]),U=O.useCallback(z=>{const q=new E.Menu;q.addItem(ee=>{ee.setIcon("share-2").setTitle(k("Share")).onClick(()=>{V()})}),q.showAtMouseEvent(z.nativeEvent)},[D.current,_,V]);return y.jsx("div",{className:"rbc-agenda-view",children:r.length!==0?y.jsx(J.Fragment,{children:y.jsxs("table",{ref:D,className:"rbc-agenda-table",children:[y.jsx("thead",{onContextMenu:U,children:y.jsxs("tr",{children:[y.jsx("th",{className:"rbc-header",ref:p,onClick:()=>{T(!S)},children:F.date+(S?" üîº":" üîΩ")}),y.jsx("th",{className:"rbc-header",ref:g,onClick:()=>{A(!C)},children:F.time+(C?" üîº":" üîΩ")}),y.jsx("th",{className:"rbc-header",children:F.event})]})}),y.jsx("tbody",{ref:w,children:_.map((z,q)=>N(z,r,q))})]})}):y.jsx("span",{className:"rbc-agenda-empty",children:F.noEventsInRange})})}vs.propTypes={accessors:Ae.object.isRequired,components:Ae.object.isRequired,date:Ae.instanceOf(Date),events:Ae.array,getters:Ae.object.isRequired,length:Ae.number.isRequired,localizer:Ae.object.isRequired,onSelectEvent:Ae.func,onDoubleClickEvent:Ae.func,selected:Ae.object};vs.defaultProps={length:30};vs.range=(e,{length:t=vs.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),a=n.add(e,t/2,"day");return{customStart:r,customEnd:a}};vs.navigate=(e,t,{length:n=vs.defaultProps.length,localizer:r})=>{switch(t){case Td.PREVIOUS:return r.add(e,-n,"day");case Td.NEXT:return r.add(e,n,"day");default:return e}};vs.title=(e,{length:t=vs.defaultProps.length,localizer:n})=>{const r=n.add(e,-t/2,"day"),a=n.add(e,t/2,"day");return n.format({start:r,end:a},"agendaHeaderFormat")};function Hq(e,t){e.hoverEl.toggleClass("thino-hover-popover",!0);const n=Hv(e.hoverEl);return n.render(y.jsx(Sl,{store:Ee,context:wt,children:y.jsx(Ua,{memo:t})})),n}function Bq({event:e}){const t=e.resource,n=t.content.split(`
`)[0].slice(0,20),r=J.useRef(null),a=J.useRef(null),o=J.useRef(null);O.useEffect(()=>{if(a.current)return E.setIcon(a.current,"calendar"),()=>{r.current&&(r.current=null)}},[r]);const s=O.useCallback(d=>{o.current&&(o.current.unmount(),o.current=null),o.current=d},[]),u=O.useCallback(d=>{if(!r.current||!E.Keymap.isModifier(d.nativeEvent,"Mod"))return;const m=new E.HoverPopover(rt.getState().view,r.current,100),p=Hq(m,t);s(p)},[r.current]);return y.jsxs("span",{className:"rbc-event-renderer","data-source-type":t.sourceType,"data-thino-type":t.thinoType,"data-thino-id":t.id,ref:r,"aria-label":t.path,onMouseOver:u,children:[y.jsx(Yq,{event:e}),y.jsx("strong",{children:n})]})}const Yq=({event:e})=>{const t=J.useRef(null),n=e.resource;O.useEffect(()=>{t.current&&E.setIcon(t.current,n.thinoType==="JOURNAL"?"calendar":n.thinoType==="TASK-TODO"?"square":"check-square")},[n==null?void 0:n.thinoType,t]);const r=O.useCallback(async a=>{a.stopPropagation(),a.preventDefault(),await(async()=>{const s=await Te.updateMemo(n.id,n.content,n.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");s&&Te.editMemo(s)})()},[n==null?void 0:n.thinoType,n==null?void 0:n.id,n==null?void 0:n.content]);return y.jsx(y.Fragment,{children:y.jsxs("span",{className:"rbc-event-icon-group",children:[y.jsx("span",{className:"rbc-event-icon",ref:t,onClick:r}),y.jsx("span",{className:mr("rbc-event-time","hidden"),children:y.jsx("span",{className:"rbc-event-time-text",children:E.moment(e.start).format("HH:mm")})})]})})};function WC({views:e,view:t,messages:n,onView:r}){return e.map(a=>y.jsx("button",{type:"button",className:mr({"rbc-active":t===a}),onClick:()=>r(a),children:n[a]},a))}WC.propTypes={messages:Ae.object,onView:Ae.func,view:Ae.string,views:Ae.array};function $C({date:e,label:t,localizer:{messages:n},onNavigate:r,onView:a,view:o,views:s}){const u={previous:O.useRef(null),today:O.useRef(null),next:O.useRef(null)};O.useEffect(()=>{u&&(E.setIcon(u.previous.current,"chevron-left"),E.setIcon(u.today.current,"dot"),E.setIcon(u.next.current,"chevron-right"))},[u]);const d=O.useMemo(()=>y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:u.previous,type:"button",onClick:()=>r(Td.PREVIOUS),"aria-label":n.previous,children:"<"}),y.jsx("button",{ref:u.today,type:"button",onClick:()=>r(Td.TODAY),"aria-label":n.today,children:"‚Ä¢"}),y.jsx("button",{ref:u.next,type:"button",onClick:()=>r(Td.NEXT),"aria-label":n.next,children:">"})]}),[n]);return y.jsxs("div",{className:"rbc-toolbar",children:[y.jsx("span",{className:mr("rbc-btn-group","thino-view-custom-toolbar"),children:d}),y.jsx("span",{className:"rbc-toolbar-label",children:y.jsx(pv,{type:"text",handleValueChange:m=>{r(Td.DATE,E.moment(m,"YYYY-MM-DD").format("YYYY-MM-DDTHH:mm:ssZ"))},defaultText:t+(o==="week"?E.moment(e.valueOf(),"x").format(" [W]WW"):""),defaultValue:E.moment(e.valueOf(),"x").valueOf()})}),y.jsx("span",{className:"rbc-btn-group",children:y.jsx(WC,{view:o,views:s,messages:n,onView:a})})]})}$C.propTypes={date:Ae.instanceOf(Date),label:Ae.string,localizer:Ae.object,messages:Ae.object,onNavigate:Ae.func,onView:Ae.func,view:Ae.string,views:Ae.array};function zq({event:e,children:t,showPopup:n,callRender:r,...a}){const o=O.useRef(null),s=O.useRef(null),u=O.useCallback(d=>{if(!d.isTrusted){r();return}s.current=d.nativeEvent.target,s.current&&(s.current.hasClass("rbc-event")||(s.current=s.current.closest(".rbc-event")),o.current!==null?(window.clearTimeout(o.current),o.current=null):o.current=window.setTimeout(()=>{n(e,s.current),o.current=null},250))},[e,n]);return y.jsx(y.Fragment,{children:y.jsx("div",{className:"rbc-event-wrapper","aria-describedby":"thino",onClick:u,children:t})})}const Uq=Rq(E.moment),Vq=({event:e})=>{const t=e.resource;return y.jsx(y.Fragment,{children:y.jsx(Ua,{memo:t})})},Zq=e=>{var ee;const{thinos:t}=e,[n,r]=J.useState([]),[a,o]=J.useState((app==null?void 0:app.loadLocalStorage("thino-calendar-view"))||"month"),[s,u]=J.useState(null),d=J.useRef(null),m=J.useRef(null),[p,g]=J.useState(!1),w=O.useRef(null),[D,S]=O.useState(new Date);O.useEffect(()=>()=>{d.current&&(d.current=null),m.current&&(m.current=null),w.current&&(w.current=null)},[]),O.useEffect(()=>{const ce=t.map(fe=>{const ie=E.moment(fe.createdAt,"YYYY/MM/DD HH:mm:ss"),he=ie.clone().add(1,"minute");return{title:fe.content,start:new Date(ie.format("YYYY-MM-DDTHH:mm:ss")),end:new Date(he.format("YYYY-MM-DDTHH:mm:ss")),resource:fe}});r(ce)},[t]),O.useEffect(()=>{app==null||app.saveLocalStorage("thino-calendar-view",a)},[a]),O.useEffect(()=>{p&&u(t.find(ce=>ce.id===s.id))},[t]),O.useEffect(()=>{s&&w.current.update()},[s]),w.current=Zv(d.current,m.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]});const T=O.useCallback(()=>{w.current.update(),w.current.update()},[]),C=O.useCallback((ce,fe)=>{u(null),F(),w.current.state.elements.reference=fe,u(ce.resource),H()},[]),A=O.useCallback(()=>{F(),u(null)},[]),N=O.useCallback((ce,fe,ie)=>{var he;if(L(ce),fe==="week"||fe==="day"){const Ie=d.current.find(".rbc-event-wrapper");if(d.current.closest(".memolist-wrapper"),Ie){(he=Ie.children[0])==null||he.click();return}else{setTimeout(()=>{var we,W;const se=d.current.find(".rbc-event-wrapper");(W=(we=se==null?void 0:se.children)==null?void 0:we[0])==null||W.click()},0);return}}},[]),L=O.useCallback(ce=>{S(ce)},[S]);km(m,A);const F=O.useCallback(()=>{g(!1)},[g]),H=O.useCallback(()=>{w.current.update(),g(!0)},[g]),j=O.useCallback(ce=>{const fe=ce.resource;Qe.setEditMemoId(fe.id)},[]),_=O.useCallback(ce=>{o(ce)},[o]),{components:V,views:U,messages:z}=O.useMemo(()=>({components:{toolbar:$C,eventWrapper:ce=>y.jsx(zq,{...ce,callRender:T,showPopup:C}),agenda:{event:Vq},event:Bq},views:{month:!0,agenda:vs,week:!0,day:!0},messages:{month:k("Month"),day:k("Day"),next:k("Next"),previous:k("Previous"),today:k("Today"),agenda:k("Agenda"),week:k("Week"),yesterday:k("Yesterday"),tomorrow:k("Tomorrow"),noEventsInRange:k("No thinos in range"),date:k("date"),time:k("time"),event:k("event")}}),[]),q=O.useMemo(()=>({timeGutterFormat:(ce,fe,ie)=>ie.format(ce,"HH:mm",fe),agendaTimeRangeFormat:({start:ce,end:fe},ie,he)=>he.format(ce,"HH:mm",ie)+" ‚Äî "+he.format(fe,"HH:mm",ie),agendaHeaderFormat:({start:ce,end:fe},ie,he)=>he.format(ce,"YYYY-MM-DD")+" ‚Äî "+he.format(fe,"YYYY-MM-DD")}),[]);return y.jsxs("div",{ref:d,className:"calendar-view",children:[y.jsx(Aq,{date:D,messages:z,components:V,localizer:Uq,events:n,views:U,onView:_,onDoubleClickEvent:j,onNavigate:N,formats:q,defaultView:a,tooltipAccessor:null,startAccessor:"start",endAccessor:"end"}),y.jsx("div",{ref:m,style:(ee=w.current)==null?void 0:ee.styles.popper,className:mr("thino-popup-container",p?"":"hidden"),children:s&&y.jsx(Ua,{memo:s})})]})};function vl(e,t){return typeof e=="function"?e(t):e}function Va(e,t){return n=>{t.setState(r=>({...r,[e]:vl(n,r[e])}))}}function Nv(e){return e instanceof Function}function Wq(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function $q(e,t){const n=[],r=a=>{a.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function ht(e,t,n){let r=[],a;return o=>{let s;n.key&&n.debug&&(s=Date.now());const u=e(o);if(!(u.length!==r.length||u.some((p,g)=>r[g]!==p)))return a;r=u;let m;if(n.key&&n.debug&&(m=Date.now()),a=t(...u),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){const p=Math.round((Date.now()-s)*100)/100,w=Math.round((Date.now()-m)*100)/100/16,D=(S,T)=>{for(S=String(S);S.length<T;)S=" "+S;return S}}return a}}function mt(e,t,n,r){return{debug:()=>{var a;return(a=e==null?void 0:e.debugAll)!=null?a:e[t]},key:!1,onChange:r}}function qq(e,t,n,r){var a,o;const u={...e._getDefaultColumnDef(),...t},d=u.accessorKey;let m=(a=(o=u.id)!=null?o:d?d.replace(".","_"):void 0)!=null?a:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:d&&(d.includes(".")?p=w=>{let D=w;for(const T of d.split(".")){var S;D=(S=D)==null?void 0:S[T]}return D}:p=w=>w[u.accessorKey]),!m)throw new Error;let g={id:`${String(m)}`,accessorFn:p,parent:r,depth:n,columnDef:u,columns:[],getFlatColumns:ht(()=>[!0],()=>{var w;return[g,...(w=g.columns)==null?void 0:w.flatMap(D=>D.getFlatColumns())]},mt(e.options,"debugColumns")),getLeafColumns:ht(()=>[e._getOrderColumnsFn()],w=>{var D;if((D=g.columns)!=null&&D.length){let S=g.columns.flatMap(T=>T.getLeafColumns());return w(S)}return[g]},mt(e.options,"debugColumns"))};for(const w of e._features)w.createColumn==null||w.createColumn(g,e);return g}const Rr="debugHeaders";function p2(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],u=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(u),s.push(d)};return u(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const Gq={createTable:e=>{e.getHeaderGroups=ht(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>{var o,s;const u=(o=r==null?void 0:r.map(g=>n.find(w=>w.id===g)).filter(Boolean))!=null?o:[],d=(s=a==null?void 0:a.map(g=>n.find(w=>w.id===g)).filter(Boolean))!=null?s:[],m=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(a!=null&&a.includes(g.id)));return _g(t,[...u,...m,...d],e)},mt(e.options,Rr)),e.getCenterHeaderGroups=ht(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,a)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(a!=null&&a.includes(o.id))),_g(t,n,e,"center")),mt(e.options,Rr)),e.getLeftHeaderGroups=ht(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var a;const o=(a=r==null?void 0:r.map(s=>n.find(u=>u.id===s)).filter(Boolean))!=null?a:[];return _g(t,o,e,"left")},mt(e.options,Rr)),e.getRightHeaderGroups=ht(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var a;const o=(a=r==null?void 0:r.map(s=>n.find(u=>u.id===s)).filter(Boolean))!=null?a:[];return _g(t,o,e,"right")},mt(e.options,Rr)),e.getFooterGroups=ht(()=>[e.getHeaderGroups()],t=>[...t].reverse(),mt(e.options,Rr)),e.getLeftFooterGroups=ht(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),mt(e.options,Rr)),e.getCenterFooterGroups=ht(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),mt(e.options,Rr)),e.getRightFooterGroups=ht(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),mt(e.options,Rr)),e.getFlatHeaders=ht(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),mt(e.options,Rr)),e.getLeftFlatHeaders=ht(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),mt(e.options,Rr)),e.getCenterFlatHeaders=ht(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),mt(e.options,Rr)),e.getRightFlatHeaders=ht(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),mt(e.options,Rr)),e.getCenterLeafHeaders=ht(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),mt(e.options,Rr)),e.getLeftLeafHeaders=ht(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),mt(e.options,Rr)),e.getRightLeafHeaders=ht(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),mt(e.options,Rr)),e.getLeafHeaders=ht(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var a,o,s,u,d,m;return[...(a=(o=t[0])==null?void 0:o.headers)!=null?a:[],...(s=(u=n[0])==null?void 0:u.headers)!=null?s:[],...(d=(m=r[0])==null?void 0:m.headers)!=null?d:[]].map(p=>p.getLeafHeaders()).flat()},mt(e.options,Rr))}};function _g(e,t,n,r){var a,o;let s=0;const u=function(w,D){D===void 0&&(D=1),s=Math.max(s,D),w.filter(S=>S.getIsVisible()).forEach(S=>{var T;(T=S.columns)!=null&&T.length&&u(S.columns,D+1)},0)};u(e);let d=[];const m=(w,D)=>{const S={depth:D,id:[r,`${D}`].filter(Boolean).join("_"),headers:[]},T=[];w.forEach(C=>{const A=[...T].reverse()[0],N=C.column.depth===S.depth;let L,F=!1;if(N&&C.column.parent?L=C.column.parent:(L=C.column,F=!0),A&&(A==null?void 0:A.column)===L)A.subHeaders.push(C);else{const H=p2(n,L,{id:[r,D,L.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:F,placeholderId:F?`${T.filter(j=>j.column===L).length}`:void 0,depth:D,index:T.length});H.subHeaders.push(C),T.push(H)}S.headers.push(C),C.headerGroup=S}),d.push(S),D>0&&m(T,D-1)},p=t.map((w,D)=>p2(n,w,{depth:s,index:D}));m(p,s-1),d.reverse();const g=w=>w.filter(S=>S.column.getIsVisible()).map(S=>{let T=0,C=0,A=[0];S.subHeaders&&S.subHeaders.length?(A=[],g(S.subHeaders).forEach(L=>{let{colSpan:F,rowSpan:H}=L;T+=F,A.push(H)})):T=1;const N=Math.min(...A);return C+=N,S.colSpan=T,S.rowSpan=C,{colSpan:T,rowSpan:C}});return g((a=(o=d[0])==null?void 0:o.headers)!=null?a:[]),d}const Hg={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},q0=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Jq={getDefaultColumnDef:()=>Hg,getInitialState:e=>({columnSizing:{},columnSizingInfo:q0(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Va("columnSizing",e),onColumnSizingInfoChange:Va("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,a;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Hg.minSize,(r=o??e.columnDef.size)!=null?r:Hg.size),(a=e.columnDef.maxSize)!=null?a:Hg.maxSize)},e.getStart=ht(n=>[n,Kh(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((a,o)=>a+o.getSize(),0),mt(t.options,"debugColumns")),e.getAfter=ht(n=>[n,Kh(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((a,o)=>a+o.getSize(),0),mt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...a}=n;return a})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=a=>{if(a.subHeaders.length)a.subHeaders.forEach(r);else{var o;n+=(o=a.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),a=r==null?void 0:r.getCanResize();return o=>{if(!r||!a||(o.persist==null||o.persist(),G0(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),u=e?e.getLeafHeaders().map(A=>[A.column.id,A.column.getSize()]):[[r.id,r.getSize()]],d=G0(o)?Math.round(o.touches[0].clientX):o.clientX,m={},p=(A,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(L=>{var F,H;const j=t.options.columnResizeDirection==="rtl"?-1:1,_=(N-((F=L==null?void 0:L.startOffset)!=null?F:0))*j,V=Math.max(_/((H=L==null?void 0:L.startSize)!=null?H:0),-.999999);return L.columnSizingStart.forEach(U=>{let[z,q]=U;m[z]=Math.round(Math.max(q+q*V,0)*100)/100}),{...L,deltaOffset:_,deltaPercentage:V}}),(t.options.columnResizeMode==="onChange"||A==="end")&&t.setColumnSizing(L=>({...L,...m})))},g=A=>p("move",A),w=A=>{p("end",A),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},D=n||typeof document<"u"?document:null,S={moveHandler:A=>g(A.clientX),upHandler:A=>{D==null||D.removeEventListener("mousemove",S.moveHandler),D==null||D.removeEventListener("mouseup",S.upHandler),w(A.clientX)}},T={moveHandler:A=>(A.cancelable&&(A.preventDefault(),A.stopPropagation()),g(A.touches[0].clientX),!1),upHandler:A=>{var N;D==null||D.removeEventListener("touchmove",T.moveHandler),D==null||D.removeEventListener("touchend",T.upHandler),A.cancelable&&(A.preventDefault(),A.stopPropagation()),w((N=A.touches[0])==null?void 0:N.clientX)}},C=Kq()?{passive:!1}:!1;G0(o)?(D==null||D.addEventListener("touchmove",T.moveHandler,C),D==null||D.addEventListener("touchend",T.upHandler,C)):(D==null||D.addEventListener("mousemove",S.moveHandler,C),D==null||D.addEventListener("mouseup",S.upHandler,C)),t.setColumnSizingInfo(A=>({...A,startOffset:d,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?q0():(n=e.initialState.columnSizingInfo)!=null?n:q0())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?t:0}}};let Bg=null;function Kq(){if(typeof Bg=="boolean")return Bg;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Bg=e,Bg}function G0(e){return e.type==="touchstart"}const Qq={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Va("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var a,o;e.setExpanded(r?{}:(a=(o=e.initialState)==null?void 0:o.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var a;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{s[u]=!0}):s=r,n=(a=n)!=null?a:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:u,...d}=s;return d}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,a;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},qC=(e,t,n)=>{var r;const a=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(a))};qC.autoRemove=e=>Lo(e);const GC=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};GC.autoRemove=e=>Lo(e);const JC=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};JC.autoRemove=e=>Lo(e);const KC=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};KC.autoRemove=e=>Lo(e)||!(e!=null&&e.length);const QC=(e,t,n)=>!n.some(r=>{var a;return!((a=e.getValue(t))!=null&&a.includes(r))});QC.autoRemove=e=>Lo(e)||!(e!=null&&e.length);const XC=(e,t,n)=>n.some(r=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(r)});XC.autoRemove=e=>Lo(e)||!(e!=null&&e.length);const ex=(e,t,n)=>e.getValue(t)===n;ex.autoRemove=e=>Lo(e);const tx=(e,t,n)=>e.getValue(t)==n;tx.autoRemove=e=>Lo(e);const ib=(e,t,n)=>{let[r,a]=n;const o=e.getValue(t);return o>=r&&o<=a};ib.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,a=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(a)?1/0:a;if(o>s){const u=o;o=s,s=u}return[o,s]};ib.autoRemove=e=>Lo(e)||Lo(e[0])&&Lo(e[1]);const ls={includesString:qC,includesStringSensitive:GC,equalsString:JC,arrIncludes:KC,arrIncludesAll:QC,arrIncludesSome:XC,equals:ex,weakEquals:tx,inNumberRange:ib};function Lo(e){return e==null||e===""}const Xq={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Va("columnFilters",e),onGlobalFilterChange:Va("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?ls.includesString:typeof r=="number"?ls.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ls.equals:Array.isArray(r)?ls.arrIncludes:ls.weakEquals},e.getFilterFn=()=>{var n,r;return Nv(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:ls[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,a;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,a,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const a=e.getFilterFn(),o=r==null?void 0:r.find(p=>p.id===e.id),s=vl(n,o?o.value:void 0);if(g2(a,s,e)){var u;return(u=r==null?void 0:r.filter(p=>p.id!==e.id))!=null?u:[]}const d={id:e.id,value:s};if(o){var m;return(m=r==null?void 0:r.map(p=>p.id===e.id?d:p))!=null?m:[]}return r!=null&&r.length?[...r,d]:[d]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ls.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Nv(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:ls[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=a=>{var o;return(o=vl(t,a))==null?void 0:o.filter(s=>{const u=n.find(d=>d.id===s.id);if(u){const d=u.getFilterFn();if(g2(d,s.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function g2(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const eG=(e,t,n)=>n.reduce((r,a)=>{const o=a.getValue(e);return r+(typeof o=="number"?o:0)},0),tG=(e,t,n)=>{let r;return n.forEach(a=>{const o=a.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},nG=(e,t,n)=>{let r;return n.forEach(a=>{const o=a.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},rG=(e,t,n)=>{let r,a;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=a=s):(r>s&&(r=s),a<s&&(a=s)))}),[r,a]},aG=(e,t)=>{let n=0,r=0;if(t.forEach(a=>{let o=a.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},oG=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!Wq(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),a=n.sort((o,s)=>o-s);return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},iG=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),sG=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,lG=(e,t)=>t.length,J0={sum:eG,min:tG,max:nG,extent:rG,mean:aG,median:oG,unique:iG,uniqueCount:sG,count:lG},cG={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Va("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,a,o;return(n=(r=(a=(o=e.columnDef.enableGrouping)!=null?o:!0)!=null?a:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return J0.sum;if(Object.prototype.toString.call(r)==="[object Date]")return J0.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Nv(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:J0[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}}};function uG(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const dG={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Va("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=ht(n=>[Kh(t,n)],n=>n.findIndex(r=>r.id===e.id),mt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Kh(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const a=Kh(t,n);return((r=a[a.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=ht(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>a=>{let o=[];if(!(t!=null&&t.length))o=a;else{const s=[...t],u=[...a];for(;u.length&&s.length;){const d=s.shift(),m=u.findIndex(p=>p.id===d);m>-1&&o.push(u.splice(m,1)[0])}o=[...o,...u]}return uG(o,n,r)},mt(e.options,"debugTable"))}},Ww=0,$w=10,K0=()=>({pageIndex:Ww,pageSize:$w}),fG={getInitialState:e=>({...e,pagination:{...K0(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Va("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,a;if(!t){e._queue(()=>{t=!0});return}if((r=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const a=o=>vl(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=r=>{var a;e.setPagination(r?K0():(a=e.initialState.pagination)!=null?a:K0())},e.setPageIndex=r=>{e.setPagination(a=>{let o=vl(r,a.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...a,pageIndex:o}})},e.resetPageIndex=r=>{var a,o;e.setPageIndex(r?Ww:(a=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?a:Ww)},e.resetPageSize=r=>{var a,o;e.setPageSize(r?$w:(a=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?a:$w)},e.setPageSize=r=>{e.setPagination(a=>{const o=Math.max(1,vl(r,a.pageSize)),s=a.pageSize*a.pageIndex,u=Math.floor(s/o);return{...a,pageIndex:u,pageSize:o}})},e.setPageCount=r=>e.setPagination(a=>{var o;let s=vl(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...a,pageCount:s}}),e.getPageOptions=ht(()=>[e.getPageCount()],r=>{let a=[];return r&&r>0&&(a=[...new Array(r)].fill(null).map((o,s)=>s)),a},mt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:r<a-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Q0=()=>({left:[],right:[]}),X0=()=>({top:[],bottom:[]}),hG={getInitialState:e=>({columnPinning:Q0(),rowPinning:X0(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Va("columnPinning",e),onRowPinningChange:Va("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var o,s;if(n==="right"){var u,d;return{left:((u=a==null?void 0:a.left)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((d=a==null?void 0:a.right)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var m,p;return{left:[...((m=a==null?void 0:a.left)!=null?m:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((p=a==null?void 0:a.right)!=null?p:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((o=a==null?void 0:a.left)!=null?o:[]).filter(g=>!(r!=null&&r.includes(g))),right:((s=a==null?void 0:a.right)!=null?s:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var a,o,s;return((a=r.columnDef.enablePinning)!=null?a:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(u=>u.id),{left:r,right:a}=t.getState().columnPinning,o=n.some(u=>r==null?void 0:r.includes(u)),s=n.some(u=>a==null?void 0:a.includes(u));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();return a?(n=(r=t.getState().columnPinning)==null||(r=r[a])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,a)=>{const o=r?e.getLeafRows().map(d=>{let{id:m}=d;return m}):[],s=a?e.getParentRows().map(d=>{let{id:m}=d;return m}):[],u=new Set([...s,e.id,...o]);t.setRowPinning(d=>{var m,p;if(n==="bottom"){var g,w;return{top:((g=d==null?void 0:d.top)!=null?g:[]).filter(T=>!(u!=null&&u.has(T))),bottom:[...((w=d==null?void 0:d.bottom)!=null?w:[]).filter(T=>!(u!=null&&u.has(T))),...Array.from(u)]}}if(n==="top"){var D,S;return{top:[...((D=d==null?void 0:d.top)!=null?D:[]).filter(T=>!(u!=null&&u.has(T))),...Array.from(u)],bottom:((S=d==null?void 0:d.bottom)!=null?S:[]).filter(T=>!(u!=null&&u.has(T)))}}return{top:((m=d==null?void 0:d.top)!=null?m:[]).filter(T=>!(u!=null&&u.has(T))),bottom:((p=d==null?void 0:d.bottom)!=null?p:[]).filter(T=>!(u!=null&&u.has(T)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=t.options;return typeof r=="function"?r(e):(n=r??a)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:a}=t.getState().rowPinning,o=n.some(u=>r==null?void 0:r.includes(u)),s=n.some(u=>a==null?void 0:a.includes(u));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const a=e.getIsPinned();if(!a)return-1;const o=(n=t._getPinnedRows(a))==null?void 0:n.map(s=>{let{id:u}=s;return u});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=ht(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,a)=>{const o=[...r??[],...a??[]];return n.filter(s=>!o.includes(s.column.id))},mt(t.options,"debugRows")),e.getLeftVisibleCells=ht(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),mt(t.options,"debugRows")),e.getRightVisibleCells=ht(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),mt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Q0():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Q0())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var a,o;return!!((a=r.left)!=null&&a.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=ht(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),mt(e.options,"debugColumns")),e.getRightLeafColumns=ht(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(a=>a.id===r)).filter(Boolean),mt(e.options,"debugColumns")),e.getCenterLeafColumns=ht(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const a=[...n??[],...r??[]];return t.filter(o=>!a.includes(o.id))},mt(e.options,"debugColumns")),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?X0():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:X0())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var a,o;return!!((a=r.top)!=null&&a.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=ht(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,r)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(n??[]).map(s=>{const u=e.getRow(s,!0);return u.getIsAllParentsExpanded()?u:null}):(n??[]).map(s=>t.find(u=>u.id===s))).filter(Boolean).map(s=>({...s,position:r}))},mt(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=ht(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const a=new Set([...n??[],...r??[]]);return t.filter(o=>!a.has(o.id))},mt(e.options,"debugRows"))}},mG={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Va("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):a.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...n};return e.getRowModel().rows.forEach(o=>{qw(a,o.id,r,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=ht(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?ew(e,n):{rows:[],flatRows:[],rowsById:{}},mt(e.options,"debugTable")),e.getFilteredSelectedRowModel=ht(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?ew(e,n):{rows:[],flatRows:[],rowsById:{}},mt(e.options,"debugTable")),e.getGroupedSelectedRowModel=ht(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?ew(e,n):{rows:[],flatRows:[],rowsById:{}},mt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(a=>a.getCanSelect()&&!n[a.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(a=>!n[a.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const a=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!a,e.getCanSelect()&&a===n)return o;const u={...o};return qw(u,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),u})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return sb(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Gw(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Gw(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var a;n&&e.toggleSelected((a=r.target)==null?void 0:a.checked)}}}},qw=(e,t,n,r,a)=>{var o;const s=a.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(u=>qw(e,u.id,n,r,a))};function ew(e,t){const n=e.getState().rowSelection,r=[],a={},o=function(s,u){return s.map(d=>{var m;const p=sb(d,n);if(p&&(r.push(d),a[d.id]=d),(m=d.subRows)!=null&&m.length&&(d={...d,subRows:o(d.subRows)}),p)return d}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:a}}function sb(e,t){var n;return(n=t[e.id])!=null?n:!1}function Gw(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let a=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!a)&&(s.getCanSelect()&&(sb(s,t)?o=!0:a=!1),s.subRows&&s.subRows.length)){const u=Gw(s,t);u==="all"?o=!0:(u==="some"&&(o=!0),a=!1)}}),a?"all":o?"some":!1}const Jw=/([0-9]+)/gm,pG=(e,t,n)=>nx(Dl(e.getValue(n)).toLowerCase(),Dl(t.getValue(n)).toLowerCase()),gG=(e,t,n)=>nx(Dl(e.getValue(n)),Dl(t.getValue(n))),vG=(e,t,n)=>lb(Dl(e.getValue(n)).toLowerCase(),Dl(t.getValue(n)).toLowerCase()),yG=(e,t,n)=>lb(Dl(e.getValue(n)),Dl(t.getValue(n))),wG=(e,t,n)=>{const r=e.getValue(n),a=t.getValue(n);return r>a?1:r<a?-1:0},bG=(e,t,n)=>lb(e.getValue(n),t.getValue(n));function lb(e,t){return e===t?0:e>t?1:-1}function Dl(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function nx(e,t){const n=e.split(Jw).filter(Boolean),r=t.split(Jw).filter(Boolean);for(;n.length&&r.length;){const a=n.shift(),o=r.shift(),s=parseInt(a,10),u=parseInt(o,10),d=[s,u].sort();if(isNaN(d[0])){if(a>o)return 1;if(o>a)return-1;continue}if(isNaN(d[1]))return isNaN(s)?-1:1;if(s>u)return 1;if(u>s)return-1}return n.length-r.length}const Id={alphanumeric:pG,alphanumericCaseSensitive:gG,text:vG,textCaseSensitive:yG,datetime:wG,basic:bG},DG={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Va("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const a of n){const o=a==null?void 0:a.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Id.datetime;if(typeof o=="string"&&(r=!0,o.split(Jw).length>1))return Id.alphanumeric}return r?Id.text:Id.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Nv(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Id[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const a=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const u=s==null?void 0:s.find(D=>D.id===e.id),d=s==null?void 0:s.findIndex(D=>D.id===e.id);let m=[],p,g=o?n:a==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?u?p="toggle":p="add":s!=null&&s.length&&d!==s.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(o||a||(p="remove")),p==="add"){var w;m=[...s,{id:e.id,desc:g}],m.splice(0,m.length-((w=t.options.maxMultiSortColCount)!=null?w:Number.MAX_SAFE_INTEGER))}else p==="toggle"?m=s.map(D=>D.id===e.id?{...D,desc:g}:D):p==="remove"?m=s.filter(D=>D.id!==e.id):m=[{id:e.id,desc:g}];return m})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,a;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(a=t.options.enableMultiRemove)!=null)||a)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(a=>a.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(a=>a.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},SG={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Va("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const a=e.columns;return(n=a.length?a.some(o=>o.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=ht(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),mt(t.options,"debugRows")),e.getVisibleCells=ht(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,a)=>[...n,...r,...a],mt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>ht(()=>[r(),r().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),mt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,o)=>({...a,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Kh(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const v2=[Gq,SG,dG,hG,Xq,DG,cG,Qq,fG,mG,Jq];function IG(e){var t;e.debugAll||e.debugTable;let n={_features:v2};const r=n._features.reduce((p,g)=>Object.assign(p,g.getDefaultOptions==null?void 0:g.getDefaultOptions(n)),{}),a=p=>n.options.mergeOptions?n.options.mergeOptions(r,p):{...r,...p};let s={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(p=>{var g;s=(g=p.getInitialState==null?void 0:p.getInitialState(s))!=null?g:s});const u=[];let d=!1;const m={_features:v2,options:{...r,...e},initialState:s,_queue:p=>{u.push(p),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{n.setState(n.initialState)},setOptions:p=>{const g=vl(p,n.options);n.options=a(g)},getState:()=>n.options.state,setState:p=>{n.options.onStateChange==null||n.options.onStateChange(p)},_getRowId:(p,g,w)=>{var D;return(D=n.options.getRowId==null?void 0:n.options.getRowId(p,g,w))!=null?D:`${w?[w.id,g].join("."):g}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(p,g)=>{let w=(g?n.getPrePaginationRowModel():n.getRowModel()).rowsById[p];if(!w&&(w=n.getCoreRowModel().rowsById[p],!w))throw new Error;return w},_getDefaultColumnDef:ht(()=>[n.options.defaultColumn],p=>{var g;return p=(g=p)!=null?g:{},{header:w=>{const D=w.header.column.columnDef;return D.accessorKey?D.accessorKey:D.accessorFn?D.id:null},cell:w=>{var D,S;return(D=(S=w.renderValue())==null||S.toString==null?void 0:S.toString())!=null?D:null},...n._features.reduce((w,D)=>Object.assign(w,D.getDefaultColumnDef==null?void 0:D.getDefaultColumnDef()),{}),...p}},mt(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:ht(()=>[n._getColumnDefs()],p=>{const g=function(w,D,S){return S===void 0&&(S=0),w.map(T=>{const C=qq(n,T,S,D),A=T;return C.columns=A.columns?g(A.columns,C,S+1):[],C})};return g(p)},mt(e,"debugColumns")),getAllFlatColumns:ht(()=>[n.getAllColumns()],p=>p.flatMap(g=>g.getFlatColumns()),mt(e,"debugColumns")),_getAllFlatColumnsById:ht(()=>[n.getAllFlatColumns()],p=>p.reduce((g,w)=>(g[w.id]=w,g),{}),mt(e,"debugColumns")),getAllLeafColumns:ht(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(p,g)=>{let w=p.flatMap(D=>D.getLeafColumns());return g(w)},mt(e,"debugColumns")),getColumn:p=>n._getAllFlatColumnsById()[p]};Object.assign(n,m);for(let p=0;p<n._features.length;p++){const g=n._features[p];g==null||g.createTable==null||g.createTable(n)}return n}function TG(e,t,n,r){const a=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:a,getContext:ht(()=>[e,n,t,o],(s,u,d,m)=>({table:s,column:u,row:d,cell:m,getValue:m.getValue,renderValue:m.renderValue}),mt(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}const cb=(e,t,n,r,a,o,s)=>{let u={id:t,index:r,original:n,depth:a,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(u._valuesCache.hasOwnProperty(d))return u._valuesCache[d];const m=e.getColumn(d);if(m!=null&&m.accessorFn)return u._valuesCache[d]=m.accessorFn(u.original,r),u._valuesCache[d]},getUniqueValues:d=>{if(u._uniqueValuesCache.hasOwnProperty(d))return u._uniqueValuesCache[d];const m=e.getColumn(d);if(m!=null&&m.accessorFn)return m.columnDef.getUniqueValues?(u._uniqueValuesCache[d]=m.columnDef.getUniqueValues(u.original,r),u._uniqueValuesCache[d]):(u._uniqueValuesCache[d]=[u.getValue(d)],u._uniqueValuesCache[d])},renderValue:d=>{var m;return(m=u.getValue(d))!=null?m:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>$q(u.subRows,d=>d.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let d=[],m=u;for(;;){const p=m.getParentRow();if(!p)break;d.push(p),m=p}return d.reverse()},getAllCells:ht(()=>[e.getAllLeafColumns()],d=>d.map(m=>TG(e,u,m,m.id)),mt(e.options,"debugRows")),_getAllCellsByColumnId:ht(()=>[u.getAllCells()],d=>d.reduce((m,p)=>(m[p.column.id]=p,m),{}),mt(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const m=e._features[d];m==null||m.createRow==null||m.createRow(u,e)}return u};function EG(){return e=>ht(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(a,o,s){o===void 0&&(o=0);const u=[];for(let m=0;m<a.length;m++){const p=cb(e,e._getRowId(a[m],m,s),a[m],m,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(p),n.rowsById[p.id]=p,u.push(p),e.options.getSubRows){var d;p.originalSubRows=e.options.getSubRows(a[m],m),(d=p.originalSubRows)!=null&&d.length&&(p.subRows=r(p.originalSubRows,o+1,p))}}return u};return n.rows=r(t),n},mt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function rx(e,t,n){return n.options.filterFromLeafRows?CG(e,t,n):xG(e,t,n)}function CG(e,t,n){var r;const a=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(d,m){m===void 0&&(m=0);const p=[];for(let w=0;w<d.length;w++){var g;let D=d[w];const S=cb(n,D.id,D.original,D.index,D.depth,void 0,D.parentId);if(S.columnFilters=D.columnFilters,(g=D.subRows)!=null&&g.length&&m<s){if(S.subRows=u(D.subRows,m+1),D=S,t(D)&&!S.subRows.length){p.push(D),o[D.id]=D,a.push(D);continue}if(t(D)||S.subRows.length){p.push(D),o[D.id]=D,a.push(D);continue}}else D=S,t(D)&&(p.push(D),o[D.id]=D,a.push(D))}return p};return{rows:u(e),flatRows:a,rowsById:o}}function xG(e,t,n){var r;const a=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,u=function(d,m){m===void 0&&(m=0);const p=[];for(let w=0;w<d.length;w++){let D=d[w];if(t(D)){var g;if((g=D.subRows)!=null&&g.length&&m<s){const T=cb(n,D.id,D.original,D.index,D.depth,void 0,D.parentId);T.subRows=u(D.subRows,m+1),D=T}p.push(D),a.push(D),o[D.id]=D}}return p};return{rows:u(e),flatRows:a,rowsById:o}}function MG(){return e=>ht(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let w=0;w<t.flatRows.length;w++)t.flatRows[w].columnFilters={},t.flatRows[w].columnFiltersMeta={};return t}const a=[],o=[];(n??[]).forEach(w=>{var D;const S=e.getColumn(w.id);if(!S)return;const T=S.getFilterFn();T&&a.push({id:w.id,filterFn:T,resolvedValue:(D=T.resolveFilterValue==null?void 0:T.resolveFilterValue(w.value))!=null?D:w.value})});const s=n.map(w=>w.id),u=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(w=>w.getCanGlobalFilter());r&&u&&d.length&&(s.push("__global__"),d.forEach(w=>{var D;o.push({id:w.id,filterFn:u,resolvedValue:(D=u.resolveFilterValue==null?void 0:u.resolveFilterValue(r))!=null?D:r})}));let m,p;for(let w=0;w<t.flatRows.length;w++){const D=t.flatRows[w];if(D.columnFilters={},a.length)for(let S=0;S<a.length;S++){m=a[S];const T=m.id;D.columnFilters[T]=m.filterFn(D,T,m.resolvedValue,C=>{D.columnFiltersMeta[T]=C})}if(o.length){for(let S=0;S<o.length;S++){p=o[S];const T=p.id;if(p.filterFn(D,T,p.resolvedValue,C=>{D.columnFiltersMeta[T]=C})){D.columnFilters.__global__=!0;break}}D.columnFilters.__global__!==!0&&(D.columnFilters.__global__=!1)}}const g=w=>{for(let D=0;D<s.length;D++)if(w.columnFilters[s[D]]===!1)return!1;return!0};return rx(t.rows,g,e)},mt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function NG(){return(e,t)=>ht(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,r,a)=>{if(!n.rows.length||!(r!=null&&r.length)&&!a)return n;const o=[...r.map(u=>u.id).filter(u=>u!==t),a?"__global__":void 0].filter(Boolean),s=u=>{for(let d=0;d<o.length;d++)if(u.columnFilters[o[d]]===!1)return!1;return!0};return rx(n.rows,s,e)},mt(e.options,"debugTable"))}function kG(){return(e,t)=>ht(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{if(!n)return new Map;let r=new Map;for(let o=0;o<n.flatRows.length;o++){const s=n.flatRows[o].getUniqueValues(t);for(let u=0;u<s.length;u++){const d=s[u];if(r.has(d)){var a;r.set(d,((a=r.get(d))!=null?a:0)+1)}else r.set(d,1)}}return r},mt(e.options,"debugTable"))}function AG(){return(e,t)=>ht(()=>{var n;return[(n=e.getColumn(t))==null?void 0:n.getFacetedRowModel()]},n=>{var r;if(!n)return;const a=(r=n.flatRows[0])==null?void 0:r.getUniqueValues(t);if(typeof a>"u")return;let o=[a,a];for(let s=0;s<n.flatRows.length;s++){const u=n.flatRows[s].getUniqueValues(t);for(let d=0;d<u.length;d++){const m=u[d];m<o[0]?o[0]=m:m>o[1]&&(o[1]=m)}}return o},mt(e.options,"debugTable"))}function OG(){return e=>ht(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,a=[],o=r.filter(d=>{var m;return(m=e.getColumn(d.id))==null?void 0:m.getCanSort()}),s={};o.forEach(d=>{const m=e.getColumn(d.id);m&&(s[d.id]={sortUndefined:m.columnDef.sortUndefined,invertSorting:m.columnDef.invertSorting,sortingFn:m.getSortingFn()})});const u=d=>{const m=d.map(p=>({...p}));return m.sort((p,g)=>{for(let D=0;D<o.length;D+=1){var w;const S=o[D],T=s[S.id],C=(w=S==null?void 0:S.desc)!=null?w:!1;let A=0;if(T.sortUndefined){const N=p.getValue(S.id),L=g.getValue(S.id),F=N===void 0,H=L===void 0;(F||H)&&(A=F&&H?0:F?T.sortUndefined:-T.sortUndefined)}if(A===0&&(A=T.sortingFn(p,g,S.id)),A!==0)return C&&(A*=-1),T.invertSorting&&(A*=-1),A}return p.index-g.index}),m.forEach(p=>{var g;a.push(p),(g=p.subRows)!=null&&g.length&&(p.subRows=u(p.subRows))}),m};return{rows:u(n.rows),flatRows:a,rowsById:n.rowsById}},mt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function FG(e){const t=[],n=r=>{var a;t.push(r),(a=r.subRows)!=null&&a.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function PG(e){return t=>ht(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:a,pageIndex:o}=n;let{rows:s,flatRows:u,rowsById:d}=r;const m=a*o,p=m+a;s=s.slice(m,p);let g;t.options.paginateExpandedRows?g={rows:s,flatRows:u,rowsById:d}:g=FG({rows:s,flatRows:u,rowsById:d}),g.flatRows=[];const w=D=>{g.flatRows.push(D),D.subRows.length&&D.subRows.forEach(w)};return g.rows.forEach(w),g},mt(t.options,"debugTable"))}function y2(e,t){return e?jG(e)?O.createElement(e,t):e:null}function jG(e){return LG(e)||typeof e=="function"||RG(e)}function LG(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function RG(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function _G(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=O.useState(()=>({current:IG(t)})),[r,a]=O.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{a(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const ax={√Ä:"A",√Å:"A",√Ç:"A",√É:"A",√Ñ:"A",√Ö:"A",·∫§:"A",·∫Æ:"A",·∫≤:"A",·∫¥:"A",·∫∂:"A",√Ü:"AE",·∫¶:"A",·∫∞:"A",»Ç:"A",√á:"C",·∏à:"C",√à:"E",√â:"E",√ä:"E",√ã:"E",·∫æ:"E",·∏ñ:"E",·ªÄ:"E",·∏î:"E",·∏ú:"E",»Ü:"E",√å:"I",√ç:"I",√é:"I",√è:"I",·∏Æ:"I",»ä:"I",√ê:"D",√ë:"N",√í:"O",√ì:"O",√î:"O",√ï:"O",√ñ:"O",√ò:"O",·ªê:"O",·πå:"O",·πí:"O",»é:"O",√ô:"U",√ö:"U",√õ:"U",√ú:"U",√ù:"Y",√†:"a",√°:"a",√¢:"a",√£:"a",√§:"a",√•:"a",·∫•:"a",·∫Ø:"a",·∫≥:"a",·∫µ:"a",·∫∑:"a",√¶:"ae",·∫ß:"a",·∫±:"a",»É:"a",√ß:"c",·∏â:"c",√®:"e",√©:"e",√™:"e",√´:"e",·∫ø:"e",·∏ó:"e",·ªÅ:"e",·∏ï:"e",·∏ù:"e",»á:"e",√¨:"i",√≠:"i",√Æ:"i",√Ø:"i",·∏Ø:"i",»ã:"i",√∞:"d",√±:"n",√≤:"o",√≥:"o",√¥:"o",√µ:"o",√∂:"o",√∏:"o",·ªë:"o",·πç:"o",·πì:"o",»è:"o",√π:"u",√∫:"u",√ª:"u",√º:"u",√Ω:"y",√ø:"y",ƒÄ:"A",ƒÅ:"a",ƒÇ:"A",ƒÉ:"a",ƒÑ:"A",ƒÖ:"a",ƒÜ:"C",ƒá:"c",ƒà:"C",ƒâ:"c",ƒä:"C",ƒã:"c",ƒå:"C",ƒç:"c",CÃÜ:"C",cÃÜ:"c",ƒé:"D",ƒè:"d",ƒê:"D",ƒë:"d",ƒí:"E",ƒì:"e",ƒî:"E",ƒï:"e",ƒñ:"E",ƒó:"e",ƒò:"E",ƒô:"e",ƒö:"E",ƒõ:"e",ƒú:"G",«¥:"G",ƒù:"g",«µ:"g",ƒû:"G",ƒü:"g",ƒ†:"G",ƒ°:"g",ƒ¢:"G",ƒ£:"g",ƒ§:"H",ƒ•:"h",ƒ¶:"H",ƒß:"h",·∏™:"H",·∏´:"h",ƒ®:"I",ƒ©:"i",ƒ™:"I",ƒ´:"i",ƒ¨:"I",ƒ≠:"i",ƒÆ:"I",ƒØ:"i",ƒ∞:"I",ƒ±:"i",ƒ≤:"IJ",ƒ≥:"ij",ƒ¥:"J",ƒµ:"j",ƒ∂:"K",ƒ∑:"k",·∏∞:"K",·∏±:"k",KÃÜ:"K",kÃÜ:"k",ƒπ:"L",ƒ∫:"l",ƒª:"L",ƒº:"l",ƒΩ:"L",ƒæ:"l",ƒø:"L",≈Ä:"l",≈Å:"l",≈Ç:"l",·∏æ:"M",·∏ø:"m",MÃÜ:"M",mÃÜ:"m",≈É:"N",≈Ñ:"n",≈Ö:"N",≈Ü:"n",≈á:"N",≈à:"n",≈â:"n",NÃÜ:"N",nÃÜ:"n",≈å:"O",≈ç:"o",≈é:"O",≈è:"o",≈ê:"O",≈ë:"o",≈í:"OE",≈ì:"oe",PÃÜ:"P",pÃÜ:"p",≈î:"R",≈ï:"r",≈ñ:"R",≈ó:"r",≈ò:"R",≈ô:"r",RÃÜ:"R",rÃÜ:"r",»í:"R",»ì:"r",≈ö:"S",≈õ:"s",≈ú:"S",≈ù:"s",≈û:"S",»ò:"S",»ô:"s",≈ü:"s",≈†:"S",≈°:"s",≈¢:"T",≈£:"t",»õ:"t",»ö:"T",≈§:"T",≈•:"t",≈¶:"T",≈ß:"t",TÃÜ:"T",tÃÜ:"t",≈®:"U",≈©:"u",≈™:"U",≈´:"u",≈¨:"U",≈≠:"u",≈Æ:"U",≈Ø:"u",≈∞:"U",≈±:"u",≈≤:"U",≈≥:"u",»ñ:"U",»ó:"u",VÃÜ:"V",vÃÜ:"v",≈¥:"W",≈µ:"w",·∫Ç:"W",·∫É:"w",XÃÜ:"X",xÃÜ:"x",≈∂:"Y",≈∑:"y",≈∏:"Y",YÃÜ:"Y",yÃÜ:"y",≈π:"Z",≈∫:"z",≈ª:"Z",≈º:"z",≈Ω:"Z",≈æ:"z",≈ø:"s",∆í:"f",∆†:"O",∆°:"o",∆Ø:"U",∆∞:"u",«ç:"A",«é:"a",«è:"I",«ê:"i",«ë:"O",«í:"o",«ì:"U",«î:"u",«ï:"U",«ñ:"u",«ó:"U",«ò:"u",«ô:"U",«ö:"u",«õ:"U",«ú:"u",·ª®:"U",·ª©:"u",·π∏:"U",·ππ:"u",«∫:"A",«ª:"a",«º:"AE",«Ω:"ae",«æ:"O",«ø:"o",√û:"TH",√æ:"th",·πî:"P",·πï:"p",·π§:"S",·π•:"s",XÃÅ:"X",xÃÅ:"x",–É:"–ì",—ì:"–≥",–å:"–ö",—ú:"–∫",AÃã:"A",aÃã:"a",EÃã:"E",eÃã:"e",IÃã:"I",iÃã:"i",«∏:"N",«π:"n",·ªí:"O",·ªì:"o",·πê:"O",·πë:"o",·ª™:"U",·ª´:"u",·∫Ä:"W",·∫Å:"w",·ª≤:"Y",·ª≥:"y",»Ä:"A",»Å:"a",»Ñ:"E",»Ö:"e",»à:"I",»â:"i",»å:"O",»ç:"o",»ê:"R",»ë:"r",»î:"U",»ï:"u",BÃå:"B",bÃå:"b",ƒåÃ£:"C",ƒçÃ£:"c",√äÃå:"E",√™Ãå:"e",FÃå:"F",fÃå:"f",«¶:"G",«ß:"g",»û:"H",»ü:"h",JÃå:"J",«∞:"j",«®:"K",«©:"k",MÃå:"M",mÃå:"m",PÃå:"P",pÃå:"p",QÃå:"Q",qÃå:"q",≈òÃ©:"R",≈ôÃ©:"r",·π¶:"S",·πß:"s",VÃå:"V",vÃå:"v",WÃå:"W",wÃå:"w",XÃå:"X",xÃå:"x",YÃå:"Y",yÃå:"y",AÃß:"A",aÃß:"a",BÃß:"B",bÃß:"b",·∏ê:"D",·∏ë:"d",»®:"E",»©:"e",∆êÃß:"E",…õÃß:"e",·∏®:"H",·∏©:"h",IÃß:"I",iÃß:"i",∆óÃß:"I",…®Ãß:"i",MÃß:"M",mÃß:"m",OÃß:"O",oÃß:"o",QÃß:"Q",qÃß:"q",UÃß:"U",uÃß:"u",XÃß:"X",xÃß:"x",ZÃß:"Z",zÃß:"z"},HG=Object.keys(ax).join("|"),BG=new RegExp(HG,"g");function YG(e){return e.replace(BG,t=>ax[t])}const ya={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function zG(e,t,n){var r;if(n=n||{},n.threshold=(r=n.threshold)!=null?r:ya.MATCHES,!n.accessors){const s=w2(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const a=$G(e,n.accessors),o={rankedValue:e,rank:ya.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<a.length;s++){const u=a[s];let d=w2(u.itemValue,t,n);const{minRanking:m,maxRanking:p,threshold:g=n.threshold}=u.attributes;d<m&&d>=ya.MATCHES?d=m:d>p&&(d=p),d=Math.min(d,p),d>=g&&d>o.rank&&(o.rank=d,o.passed=!0,o.accessorIndex=s,o.accessorThreshold=g,o.rankedValue=u.itemValue)}return o}function w2(e,t,n){return e=b2(e,n),t=b2(t,n),t.length>e.length?ya.NO_MATCH:e===t?ya.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?ya.EQUAL:e.startsWith(t)?ya.STARTS_WITH:e.includes(` ${t}`)?ya.WORD_STARTS_WITH:e.includes(t)?ya.CONTAINS:t.length===1?ya.NO_MATCH:UG(e).includes(t)?ya.ACRONYM:VG(e,t))}function UG(e){let t="";return e.split(" ").forEach(r=>{r.split("-").forEach(o=>{t+=o.substr(0,1)})}),t}function VG(e,t){let n=0,r=0;function a(d,m,p){for(let g=p,w=m.length;g<w;g++)if(m[g]===d)return n+=1,g+1;return-1}function o(d){const m=1/d,p=n/t.length;return ya.MATCHES+p*m}const s=a(t[0],e,0);if(s<0)return ya.NO_MATCH;r=s;for(let d=1,m=t.length;d<m;d++){const p=t[d];if(r=a(p,e,r),!(r>-1))return ya.NO_MATCH}const u=r-s;return o(u)}function ZG(e,t){return e.rank===t.rank?0:e.rank>t.rank?-1:1}function b2(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=YG(e)),e}function WG(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const r=n(e);return r==null?[]:Array.isArray(r)?r:[String(r)]}function $G(e,t){const n=[];for(let r=0,a=t.length;r<a;r++){const o=t[r],s=qG(o),u=WG(e,o);for(let d=0,m=u.length;d<m;d++)n.push({itemValue:u[d],attributes:s})}return n}const D2={maxRanking:1/0,minRanking:-1/0};function qG(e){return typeof e=="function"?D2:{...D2,...e}}const GG=({thino:e})=>{const t=O.useRef(null);O.useEffect(()=>(t.current&&E.setIcon(t.current,"pin"),()=>{t.current&&(t.current=null)}),[t]);const n=O.useCallback(async()=>{e.pinned?await Te.unpinMemoById(e.id):await Te.pinMemoById(e.id)},[e]);return y.jsx("span",{ref:t,className:mr("pinned-status",e.pinned?"pinned":"not-pinned"),onClick:n})},JG=({thino:e})=>{const t=O.useRef(null);O.useEffect(()=>(t.current&&E.setIcon(t.current,e.thinoType==="JOURNAL"?"calendar":"check-square"),()=>{t.current&&(t.current=null)}),[t,e==null?void 0:e.thinoType]);const n=O.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const r=await Te.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");r&&Te.editMemo(r)},[e]);return y.jsx(y.Fragment,{children:e.thinoType!=="JOURNAL"?y.jsx("input",{className:mr("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":e.thinoType.slice(5),onClick:n}):y.jsx("span",{ref:t,className:"thino-type-status"})})},KG=({id:e,path:t})=>{const n=O.useRef(null);O.useEffect(()=>(n.current&&E.setIcon(n.current,"link"),()=>{n.current&&(n.current=null)}),[]);const r=O.useCallback(()=>{!e||!t||Te.openThinoByID(e)},[e,t]);return y.jsxs("span",{className:"source-thino",onClick:r,children:[y.jsx("span",{children:t}),y.jsx("span",{ref:n,className:"source-thino-icon"})]})},QG=({id:e,sourceType:t})=>{const n=O.useRef(null);O.useEffect(()=>{var a;return n.current&&E.setIcon(n.current,((a=Md.find(o=>o.title===t))==null?void 0:a.icon)||"list"),()=>{n.current&&(n.current=null)}},[]);const r=O.useCallback(async()=>{e&&await Te.openThinoByID(e)},[e]);return y.jsx("span",{ref:n,className:"source-type-icon",onClick:r})},S2=(e,t,n,r)=>{const a=zG(e.getValue(t),n);return r({itemRank:a}),a.passed},I2=(e,t,n)=>{var a,o;let r=0;return e.columnFiltersMeta[n]&&(r=ZG((a=e.columnFiltersMeta[n])==null?void 0:a.itemRank,(o=t.columnFiltersMeta[n])==null?void 0:o.itemRank)),r===0?Id.alphanumeric(e,t,n):r};function XG({thinos:e}){var p;J.useReducer(()=>({}),{})[1];const[t,n]=J.useState([]),[r,a]=J.useState(""),o=J.useMemo(()=>[{header:k("Basic Info"),footer:g=>g.column.id,columns:[{accessorKey:"createdAt",header:()=>y.jsx("span",{className:"create-at-header-cell",children:k("Created At")}),cell:g=>g.getValue(),footer:g=>g.column.id,enableColumnFilter:!1},{accessorFn:g=>g.content,id:"content",header:()=>y.jsx("span",{className:"thino-header-cell",children:k("Thino")}),cell:g=>y.jsx(Ua,{memo:g.row.original,type:"table"}),footer:g=>g.column.id,filterFn:"fuzzy",sortingFn:I2},{accessorFn:g=>g.thinoType,id:"thinoType",cell:g=>y.jsx(JG,{thino:g.row.original}),header:()=>y.jsx("span",{children:k("Thino Type")}),footer:g=>g.column.id},{accessorFn:g=>g.sourceType,id:"sourceType",cell:g=>y.jsx(QG,{id:g.row.original.id,sourceType:g.getValue()}),header:()=>y.jsx("span",{children:k("Source Type")}),footer:g=>g.column.id}]},{header:k("Additional Info"),footer:g=>g.column.id,columns:[{accessorKey:"pinned",header:()=>y.jsx("span",{children:k("Pinned Status")}),cell:g=>y.jsx(GG,{thino:g.row.original}),footer:g=>g.column.id,filterFn:"fuzzy",sortingFn:I2},{accessorKey:"rowStatus",header:()=>y.jsx("span",{children:k("Row status")}),cell:g=>y.jsx("span",{children:g.getValue()==="NORMAL"?"":g.getValue()}),footer:g=>g.column.id},{accessorKey:"path",header:()=>k("Path"),cell:g=>y.jsx(KG,{id:g.row.original.id,path:g.getValue()}),footer:g=>g.column.id}]}],[]),[s,u]=J.useState(()=>e),d=()=>u(g=>e);O.useEffect(()=>{d()},[e]);const m=_G({data:s,columns:o,filterFns:{fuzzy:S2},initialState:{pagination:{pageSize:20}},state:{columnFilters:t,globalFilter:r},onColumnFiltersChange:n,onGlobalFilterChange:a,globalFilterFn:S2,getCoreRowModel:EG(),getFilteredRowModel:MG(),getSortedRowModel:OG(),getPaginationRowModel:PG(),getFacetedRowModel:NG(),getFacetedUniqueValues:kG(),getFacetedMinMaxValues:AG(),debugTable:!1,debugHeaders:!1,debugColumns:!1});return J.useEffect(()=>{var g,w;((g=m.getState().columnFilters[0])==null?void 0:g.id)==="createdAt"&&((w=m.getState().sorting[0])==null?void 0:w.id)!=="createdAt"&&m.setSorting([{id:"createdAt",desc:!1}])},[(p=m.getState().columnFilters[0])==null?void 0:p.id]),y.jsxs("div",{className:"table-view",children:[y.jsx("div",{children:y.jsx(rv,{value:r||"",onChange:g=>a(String(g)),className:"table-search-bar",placeholder:k("Search all columns...")})}),y.jsxs("table",{className:"thino-table",children:[y.jsx("thead",{children:m.getHeaderGroups().map(g=>y.jsx("tr",{children:g.headers.map(w=>y.jsx("th",{colSpan:w.colSpan,children:w.isPlaceholder?null:y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:mr(w.column.getCanSort()?"filter-header":"","table-header",w.column.id==="content"?"content-header":""),onClick:w.column.getToggleSortingHandler(),children:[y2(w.column.columnDef.header,w.getContext()),{asc:" üîº",desc:" üîΩ"}[w.column.getIsSorted()]??null]}),w.column.getCanFilter()?y.jsx(tJ,{column:w.column,table:m}):null]})},w.id))},g.id))}),y.jsx("tbody",{children:m.getRowModel().rows.map(g=>y.jsx("tr",{className:mr(g.getValue("pinned")?"pinned":""),children:g.getVisibleCells().map(w=>y.jsx("td",{children:y2(w.column.columnDef.cell,w.getContext())},w.id))},g.id))})]}),y.jsxs("div",{className:"table-nav-bar",children:[y.jsx("button",{className:"prev-start-btn",onClick:()=>m.setPageIndex(0),disabled:!m.getCanPreviousPage(),children:"<<"}),y.jsx("button",{className:"prev-btn",onClick:()=>m.previousPage(),disabled:!m.getCanPreviousPage(),children:"<"}),y.jsx("button",{className:"next-btn",onClick:()=>m.nextPage(),disabled:!m.getCanNextPage(),children:">"}),y.jsx("button",{className:"next-end-btn",onClick:()=>m.setPageIndex(m.getPageCount()-1),disabled:!m.getCanNextPage(),children:">>"}),y.jsxs("span",{className:"table-page-info",children:[y.jsx("div",{children:k("Page")}),y.jsxs("strong",{children:[m.getState().pagination.pageIndex+1," of ",m.getPageCount()]})]}),y.jsxs("span",{className:"table-page-jump",children:["| ",k("Go to page"),":",y.jsx("input",{type:"number",defaultValue:m.getState().pagination.pageIndex+1,onChange:g=>{const w=g.target.value?Number(g.target.value)-1:0;m.setPageIndex(w)},className:"jump-inputer"})]}),y.jsx("select",{value:m.getState().pagination.pageSize,onChange:g=>{m.setPageSize(Number(g.target.value))},children:[10,20,30,40,50].map(g=>y.jsxs("option",{value:g,children:[k("Show")," ",g," ",k("rows")]},g))})]})]})}const eJ=e=>e==="sourceType"?["ALL"]:["ALL","ALL-TASK"];function tJ({column:e,table:t}){var o,s,u,d,m,p,g,w,D;const n=(o=t.getPreFilteredRowModel().flatRows[0])==null?void 0:o.getValue(e.id),r=e.getFilterValue(),a=J.useMemo(()=>typeof n=="number"?[]:Array.from(e.getFacetedUniqueValues().keys()).sort(),[e.getFacetedUniqueValues()]);return typeof n=="number"?y.jsx("div",{children:y.jsxs("div",{className:"filter-input-group",children:[y.jsx(rv,{type:"number",min:Number(((s=e.getFacetedMinMaxValues())==null?void 0:s[0])??""),max:Number(((u=e.getFacetedMinMaxValues())==null?void 0:u[1])??""),value:(r==null?void 0:r[0])??"",onChange:S=>e.setFilterValue(T=>[S,T==null?void 0:T[1]]),placeholder:`Min ${(d=e.getFacetedMinMaxValues())!=null&&d[0]?`(${(m=e.getFacetedMinMaxValues())==null?void 0:m[0]})`:""}`,className:"filter-input-short"}),y.jsx(rv,{type:"number",min:Number(((p=e.getFacetedMinMaxValues())==null?void 0:p[0])??""),max:Number(((g=e.getFacetedMinMaxValues())==null?void 0:g[1])??""),value:(r==null?void 0:r[1])??"",onChange:S=>e.setFilterValue(T=>[T==null?void 0:T[0],S]),placeholder:`Max ${(w=e.getFacetedMinMaxValues())!=null&&w[1]?`(${(D=e.getFacetedMinMaxValues())==null?void 0:D[1]})`:""}`,className:"filter-input-short"})]})}):y.jsx(y.Fragment,{children:a.length>1?y.jsxs(y.Fragment,{children:[e.id!=="path"&&e.id!=="content"&&e.id!=="thinoType"&&e.id!=="sourceType"&&y.jsx("datalist",{id:e.id+"list",children:a.slice(0,5e3).map(S=>y.jsx("option",{value:S},S))}),e.id==="thinoType"||e.id==="sourceType"?y.jsx("select",{id:e.id,onChange:S=>e.setFilterValue(S.target.value==="ALL"?"":S.target.value==="ALL-TASK"?"TASK":S.target.value),children:[...eJ(e.id),...a].map(S=>y.jsx("option",{value:S,children:k(S)},S))}):"",e.id!=="thinoType"&&e.id!=="sourceType"?y.jsx(rv,{type:"text",value:r??"",onChange:S=>e.setFilterValue(S),placeholder:`Search... (${e.getFacetedUniqueValues().size})`,className:"filter-input-long",list:e.id+"list"}):""]}):""})}function rv({value:e,onChange:t,debounce:n=500,...r}){const[a,o]=J.useState(e);return J.useEffect(()=>{o(e)},[e]),J.useEffect(()=>{const s=setTimeout(()=>{t(a)},n);return()=>clearTimeout(s)},[a]),y.jsx("input",{...r,value:a,onChange:s=>o(s.target.value)})}const nJ=e=>{const{locationState:{query:t},globalState:{memoListView:n,manifest:r},dailyNotesState:{app:a,settings:o}}=O.useContext(wt),{thinos:s}=e,[u,d]=J.useState(kv(s,"day")),m=J.useRef(null),p=O.useRef([]),g=O.useRef(0);O.useEffect(()=>{d(kv(s,"day"))},[s]),O.useEffect(()=>{var N,L;const S=s.filter(F=>F.pinned),T=s.filter(F=>!F.pinned),C=p.current.filter(F=>F.pinned)[0],A=p.current.filter(F=>!F.pinned)[0];if(C&&C.id!==((N=S[0])==null?void 0:N.id)||A&&A.id!==((L=T[0])==null?void 0:L.id)){const F=m.current.closest(".memolist-wrapper");F.scrollTop=F.scrollHeight}else{const F=m.current.closest(".memolist-wrapper");F.scrollTop=F.scrollHeight-g.current,p.current=s}},[s]),O.useEffect(()=>{if(!m.current)return;const S=m.current.closest(".memolist-wrapper");S.scrollTop=S.scrollHeight},[t]),O.useEffect(()=>{if(n==="chat"&&m.current){const S=m.current.closest(".memolist-wrapper");S.scrollTop=S.scrollHeight,g.current=S.scrollHeight-S.scrollTop,p.current=s,S.onscrollend=()=>{g.current=S.scrollHeight-S.scrollTop}}},[m.current]);const w=O.useCallback(()=>{a.setting.open(),a.setting.openTabById(r.id||"obsidian-memos")},[a]),D=O.useMemo(()=>y.jsx(y.Fragment,{children:Object.keys(u).map((S,T)=>y.jsx(y.Fragment,{children:y.jsx(rJ,{thinos:u[S],dayMark:S,handleOpenSettings:w},S+T)}))}),[u]);return y.jsx("div",{ref:m,className:mr("chat-view",`${o==null?void 0:o.chatViewStyle}-style`),children:D})},rJ=({thinos:e,dayMark:t,handleOpenSettings:n})=>{const{dailyNotesState:{settings:r}}=O.useContext(wt),[a,o]=J.useState(!0),s=J.useRef(null),u=p=>{if(E.Keymap.isModifier(p.nativeEvent,"Mod")){const g=E.moment(t,"YYYY-MM-DD");We.setFromAndToQuery(g.startOf("day").valueOf(),g.endOf("day").valueOf());return}o(!a),s.current.scrollIntoView(!0)},d=p=>{qd(p)},m=O.useMemo(()=>e.map((p,g)=>y.jsxs("div",{className:"thino-bubble right",children:[y.jsx(aJ,{icon:r==null?void 0:r.MomentsIcon}),y.jsx("div",{className:"wrap",children:y.jsx(oJ,{thino:p,handleClickTimeStamp:d},`${p.id}-${E.moment(p.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${g}`)})]},p.id+g)),[e,r==null?void 0:r.MomentsIcon]);return y.jsxs(y.Fragment,{children:[a&&m,y.jsx("div",{className:`thino-chat-day-mark day-mark ${a?"":"folded"}`,onClick:u,children:y.jsx("div",{className:"day-mark-bubble",children:(t==="PINNED"?t+" üìå":t)+(a?"":"...")})})]})},aJ=({icon:e})=>{const t=O.useCallback(()=>{app.setting.open(),app.setting.openTabById(manifest.id||"obsidian-memos")},[]);return y.jsx("div",{ref:n=>{if(e){n==null||n.empty();return}e||n&&E.setIcon(n,"Memos")},className:"icon-img",style:{backgroundImage:`url(${e})`},onClick:t})},oJ=({thino:e,handleClickTimeStamp:t})=>{const n=O.useCallback(async()=>{if(e.thinoType==="JOURNAL")return;const o=await Te.updateMemo(e.id,e.content,e.thinoType==="TASK-TODO"?"TASK-DONE":"TASK-TODO");o&&Te.editMemo(o)},[e]),r=O.useMemo(()=>y.jsxs("div",{className:"content",children:[y.jsx("div",{className:"time-stamp","data-date":E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),y.jsx(Ua,{memo:e})]}),[e.content]),a=O.useMemo(()=>y.jsxs("div",{className:"content task",children:[y.jsx("div",{className:"task-inputer",children:y.jsx("input",{className:mr("thino-type-status","task-list-item-checkbox"),type:"checkbox",checked:e.thinoType!=="TASK-TODO","data-task":e.thinoType==="TASK-TODO"?"":e.thinoType==="TASK-DONE"?"x":e.thinoType.slice(5),onClick:n})}),y.jsx("div",{className:"time-stamp","data-date":E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("YYYY-MM-DD"),"data-time":E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss"),onClick:()=>{t(e)},children:E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm:ss")}),y.jsx(Ua,{memo:e})]}),[e.content,e.thinoType]);return e.thinoType==="JOURNAL"?r:a};class ox extends E.Modal{constructor(n){super(n);me(this,"root")}onOpen(){const{contentEl:n,modalEl:r}=this;try{this.root=rK(n,this.close.bind(this)),r.toggleClass("thino-editor-modal",!0),setTimeout(()=>{var a;(a=n.querySelector("textarea"))==null||a.focus(),this.app.workspace.trigger("focus-on-textarea")},10)}catch(a){console.error(a)}}onClose(){this.root.unmount(),this.containerEl&&this.containerEl.empty()}}const iJ=({userIcon:e})=>y.jsx("div",{className:"moments-view-user-icon",ref:t=>{if(e){t==null||t.empty();return}e||t&&E.setIcon(t,"Memos")},style:{backgroundImage:`url(${e})`}}),T2="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSIjMGUyYTQ3Ij48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODIiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4NiI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODMiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDg1Ij48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjE1MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMTUwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIxNTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMTUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjIxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMjcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjI3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMjcwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzMzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzkwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIzOTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIzOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI0NTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjQ1MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iNDUwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjQ1MCIgeT0iNDUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNDUwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1MTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjUxMCIgeT0iNDUwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjUxMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI1NzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjU3MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjYzMCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjYzMCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE5NywgOTAsIDk5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjYzMCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjY5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTk3LCA5MCwgOTksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjY5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNjkwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxOTcsIDkwLCA5OSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjY5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSg0NywgMTE0LCAxMzEsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDQ3LCAxMTQsIDEzMSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjY5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoNDcsIDExNCwgMTMxLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",tw="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnN2Z2pzPSJodHRwOi8vc3ZnanMuZGV2L3N2Z2pzIiB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHZpZXdCb3g9IjAgMCAxNDQwIDU2MCI+PGcgbWFzaz0idXJsKCZxdW90OyNTdmdqc01hc2sxMDgwJnF1b3Q7KSIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjE0NDAiIGhlaWdodD0iNTYwIiB4PSIwIiB5PSIwIiBmaWxsPSJyZ2JhKDIzMSwgMjM4LCAyNDUsIDEpIj48L3JlY3Q+PHVzZSB4bGluazpocmVmPSIjU3ZnanNTeW1ib2wxMDg3IiB4PSIwIiB5PSIwIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1N5bWJvbDEwODciIHg9IjcyMCIgeT0iMCI+PC91c2U+PC9nPjxkZWZzPjxtYXNrIGlkPSJTdmdqc01hc2sxMDgwIj48cmVjdCB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSI1NjAiIGZpbGw9IiNmZmZmZmYiPjwvcmVjdD48L21hc2s+PHBhdGggZD0iTS0xIDAgYTEgMSAwIDEgMCAyIDAgYTEgMSAwIDEgMCAtMiAweiIgaWQ9IlN2Z2pzUGF0aDEwODUiPjwvcGF0aD48cGF0aCBkPSJNLTMgMCBhMyAzIDAgMSAwIDYgMCBhMyAzIDAgMSAwIC02IDB6IiBpZD0iU3ZnanNQYXRoMTA4MyI+PC9wYXRoPjxwYXRoIGQ9Ik0tNSAwIGE1IDUgMCAxIDAgMTAgMCBhNSA1IDAgMSAwIC0xMCAweiIgaWQ9IlN2Z2pzUGF0aDEwODYiPjwvcGF0aD48cGF0aCBkPSJNMiAtMiBMLTIgMnoiIGlkPSJTdmdqc1BhdGgxMDg0Ij48L3BhdGg+PHBhdGggZD0iTTYgLTYgTC02IDZ6IiBpZD0iU3ZnanNQYXRoMTA4MSI+PC9wYXRoPjxwYXRoIGQ9Ik0zMCAtMzAgTC0zMCAzMHoiIGlkPSJTdmdqc1BhdGgxMDgyIj48L3BhdGg+PC9kZWZzPjxzeW1ib2wgaWQ9IlN2Z2pzU3ltYm9sMTA4NyI+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjMwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIzMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIzMCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzMCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjkwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iOTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSI5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iOTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI5MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMTUwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIxNTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIxNTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIxNTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIxNTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODMiIHg9IjE1MCIgeT0iNTEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjE1MCIgeT0iNTcwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMjEwIiB5PSI5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSIyMTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIiBzdHJva2Utd2lkdGg9IjMiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjIxMCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjIxMCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMjEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyMTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyMTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSIyMTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjI3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iMjcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSIyNzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIyNzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIyNzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg0IiB4PSIyNzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSIzMzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjMzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iMzMwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzMwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MyIgeD0iMzMwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzMwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzMwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NSIgeD0iMzkwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSIzOTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMTUwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODEiIHg9IjM5MCIgeT0iMjEwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjM5MCIgeT0iMjcwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODUiIHg9IjM5MCIgeT0iMzMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjM5MCIgeT0iMzkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iMzkwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iMzkwIiB5PSI1NzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNDUwIiB5PSIzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgyIiB4PSI0NTAiIHk9IjkwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiIHN0cm9rZS13aWR0aD0iMyI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNDUwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNDUwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI0NTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI0NTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1MTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODQiIHg9IjUxMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTEwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTEwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTEwIiB5PSI0NTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTEwIiB5PSI1MTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1MTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI1NzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODYiIHg9IjU3MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIxNTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NiIgeD0iNTcwIiB5PSIyMTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MSIgeD0iNTcwIiB5PSIyNzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4NCIgeD0iNTcwIiB5PSIzMzAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSI+PC91c2U+PHVzZSB4bGluazpocmVmPSIjU3ZnanNQYXRoMTA4MiIgeD0iNTcwIiB5PSIzOTAiIHN0cm9rZT0icmdiYSgyMDgsIDIxNywgMjA5LCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI1NzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI1NzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI1NzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjMwIiBzdHJva2U9InJnYmEoMTYsIDUwLCA4MywgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjYzMCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2MzAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2MzAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMwIiBzdHJva2U9InJnYmEoMjA4LCAyMTcsIDIwOSwgMSkiPjwvdXNlPjx1c2UgeGxpbms6aHJlZj0iI1N2Z2pzUGF0aDEwODIiIHg9IjY5MCIgeT0iOTAiIHN0cm9rZT0icmdiYSgxNiwgNTAsIDgzLCAxKSIgc3Ryb2tlLXdpZHRoPSIzIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjE1MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjIxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjI3MCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjMzMCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgzIiB4PSI2OTAiIHk9IjM5MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg1IiB4PSI2OTAiIHk9IjQ1MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDgxIiB4PSI2OTAiIHk9IjUxMCIgc3Ryb2tlPSJyZ2JhKDIwOCwgMjE3LCAyMDksIDEpIj48L3VzZT48dXNlIHhsaW5rOmhyZWY9IiNTdmdqc1BhdGgxMDg2IiB4PSI2OTAiIHk9IjU3MCIgc3Ryb2tlPSJyZ2JhKDE2LCA1MCwgODMsIDEpIj48L3VzZT48L3N5bWJvbD48L3N2Zz4=",sJ=e=>{const{globalState:{memoListView:t,markMemoId:n,manifest:r,editMemoId:a},dailyNotesState:{app:o,settings:s}}=O.useContext(wt),{thinos:u}=e,d=J.useRef(null),m=J.useRef(null),[p,g]=J.useState(!1);O.useEffect(()=>{d.current.closest(".workspace-window")&&g(!0)},[d.current]),O.useEffect(()=>{n&&g(!0)},[n]),O.useEffect(()=>{a?(g(!0),setTimeout(()=>{o.workspace.trigger("focus-on-textarea")},200)):g(!1)},[a]),O.useEffect(()=>{m.current&&(!p&&E.setIcon(m.current,"camera"),p&&E.setIcon(m.current,"camera-off"))},[m.current,p]);const w=O.useCallback(()=>{o.setting.open(),o.setting.openTabById(r.id||"obsidian-memos")},[o]);return O.useEffect(()=>{},[p]),y.jsxs("div",{ref:d,className:mr("moments-view",p?"show-editor":""),children:[y.jsxs("div",{className:"moments-view-background-wrapper",children:[y.jsx(lJ,{}),y.jsx("div",{ref:m,className:"moments-show-editor-btn",onClick:()=>{(p||a)&&g(!p),!p&&!a&&new ox(o).open()}}),y.jsxs("div",{className:"moments-view-background-overlay",children:[y.jsxs("div",{className:"moments-view-user-info",children:[y.jsx("div",{className:"moments-view-user-name",children:s==null?void 0:s.UserName}),y.jsx(iJ,{userIcon:s==null?void 0:s.MomentsIcon})]}),y.jsx("div",{className:"moments-view-user-idea",children:s.MomentsQuote||" "})]})]}),u.map((D,S)=>y.jsx(uJ,{thino:D,handleOpenSettings:w},D.createdAt+S))]})},lJ=()=>{const{dailyNotesState:{view:e,settings:t}}=O.useContext(wt),[n,r]=O.useState((t==null?void 0:t.MomentsBackgroundImage)||tw);return O.useEffect(()=>{if(!(t!=null&&t.MomentsBackgroundImage)){r(document.body.hasClass("theme-dark")?T2:tw);return}r(t==null?void 0:t.MomentsBackgroundImage)},[t==null?void 0:t.MomentsBackgroundImage]),O.useEffect(()=>{e&&e.registerEvent(e.app.workspace.on("css-change",()=>{r(document.body.hasClass("theme-dark")&&!(t!=null&&t.MomentsBackgroundImage)?T2:!document.body.hasClass("theme-dark")&&!(t!=null&&t.MomentsBackgroundImage)?tw:t==null?void 0:t.MomentsBackgroundImage)}))},[e]),y.jsx("div",{className:"moments-view-background",style:{backgroundImage:`url(${n})`}})},cJ=e=>{const{icon:t}=e,n=O.useCallback(()=>{app.setting.open(),app.setting.openTabById(manifest.id||"obsidian-memos")},[]);return y.jsx("div",{className:"thino-moment-icon",ref:r=>{if(t){r==null||r.empty();return}t||r&&E.setIcon(r,"Memos")},style:{backgroundImage:`url(${t})`},onClick:n})},uJ=e=>{const{dailyNotesState:{settings:t}}=O.useContext(wt),n=O.useRef(null),r=O.useRef(null),{thino:a}=e;return O.useEffect(()=>{n.current&&E.setIcon(n.current,"more-horizontal")},[n.current]),y.jsxs("div",{className:"thino-moment-wrapper",children:[y.jsx(cJ,{icon:t==null?void 0:t.MomentsIcon}),y.jsxs("div",{ref:r,className:"thino-moment-container",children:[y.jsx("div",{className:"thino-moment-user-name",children:t==null?void 0:t.UserName}),y.jsx("div",{className:"thino-moment-user-content",children:y.jsx(Ua,{memo:a})})]})]})};function dJ(e){const t=e.filter(r=>r.pinned),n=e.filter(r=>!r.pinned);return[...t,...n]}function kv(e,t){const n={},r={day:"YYYY-MM-DD",week:"YYYY-[W]WW",month:"YYYY-MM",quarter:"YYYY-[Q]1",year:"YYYY"};for(const a of e){const o=E.moment(a.createdAt,"YYYY/MM/DD HH:mm:ss").format(r[t]);if(a.pinned){n.PINNED||(n.PINNED=[]),n.PINNED.push(a);continue}n[o]||(n[o]=[]),n[o].push(a)}return n}function Yg(e){const{tag:t,duration:n,type:r,text:a,filter:o}=e,s=tn.getQueryById(o);return!(!!(t||n&&n.from<n.to||r||a||s)||s)}const fJ=({tempMemos:e,query:t,HideDoneTasks:n})=>{const r=e.filter(g=>g.rowStatus!=="ARCHIVED"&&!(g.deletedAt!==""&&g.deletedAt)),{tag:a,duration:o,type:s,text:u,filter:d}=t,m=tn.getQueryById(d);return!!(a||o&&o.from<o.to||s||u||m)||m||n?r.filter(g=>{let w=!0;if(g.thinoType!==void 0&&n&&g.thinoType==="TASK-DONE"&&(w=!1),g.content.contains("comment:")&&(w=!1),m){const D=JSON.parse(m.querystring);Array.isArray(D)&&(w=$d(g,D))}if(a){const D=new Set;for(const S of Array.from(g.content.match(An)||[])){const C=S.replace(An,"$1").trim().split("/");let A="";for(const N of C)A+=N,D.add(A),A+="/"}for(const S of Array.from(g.content.match($n)||[])){const C=S.replace($n,"$1").trim().split("/");let A="";for(const N of C)A+=N,D.add(A),A+="/"}for(const S of Array.from(g.content.match(hr)||[])){const C=S.replace(hr,"$2").trim().split("/");let A="";for(const N of C)A+=N,D.add(A),A+="/"}D.has(a)||(w=!1)}return o&&o.from<o.to&&(Re.getTimeStampByDate(g.createdAt)<o.from||Re.getTimeStampByDate(g.createdAt)>o.to)&&(w=!1),s&&(s==="NOT_TAGGED"&&(g.content.match(An)!==null||g.content.match(hr)!==null||g.content.match($n)!==null)||s==="LINKED"&&g.content.match(Rc)===null||s==="IMAGED"&&g.content.match(_c)===null||s==="CONNECTED"&&g.content.match(Il)===null)&&(w=!1),u&&!g.content.toLowerCase().includes(u.toLowerCase())&&(w=!1),w}):r.filter(g=>!g.content.contains("comment:"))},hJ=({updateThinos:e})=>{var $;const{locationState:{query:t},memoState:{memos:n},globalState:{memoListView:r},dailyNotesState:{app:a,settings:o,verifyState:s,plugin:u}}=O.useContext(wt),[d,m]=O.useState(!1),[p,g]=O.useState(!1),[w,D,S]=Br([]),[T,C]=O.useState([]),[A,N]=O.useState({}),[L,F]=O.useState(($=window.app||a)==null?void 0:$.loadLocalStorage("thinoListView")),[H,j]=O.useState((a==null?void 0:a.loadLocalStorage("showDayMark"))||!1),[_,V]=O.useState((a==null?void 0:a.loadLocalStorage("dayMarkRange"))||"day"),[U,z,q]=Br([]),ee=O.useRef(0),ce=O.useRef(!1),fe=O.useRef(null),ie=O.useRef(null),he=O.useRef(null),Ie=O.useRef(null),se=O.useRef(!1);O.useEffect(()=>{F(r),a&&a.saveLocalStorage("thinoListView",r),D(U.slice(0,w.length>20?Math.min(w.length,40):40))},[r]),O.useEffect(()=>()=>{ie.current&&(ie.current=null),he.current&&(he.current=null),Ie.current&&(Ie.current=null)},[]),O.useLayoutEffect(()=>{if((n.length!==0||!a)&&se.current===!0)return;const X=mJ(a);!X||X.length===0||(z(X),C(X),j((a==null?void 0:a.loadLocalStorage("showDayMark"))||!1),a!=null&&a.loadLocalStorage("showDayMark")&&N(kv(X,(a==null?void 0:a.loadLocalStorage("dayMarkRange"))||"day")))},[a]),O.useEffect(()=>{if(n.length===0&&!Te.initialized)return;m(!1);const X=dJ(n),ve=fJ({tempMemos:X,query:t,HideDoneTasks:(o==null?void 0:o.HideDoneTasks)||!1});return se.current=!0,e&&e(ve),z(ve),()=>{se.current=!1}},[n,t,o==null?void 0:o.HideDoneTasks]),O.useEffect(()=>{D(U.slice(0,w.length>20?Math.min(w.length,40):40))},[U]),O.useEffect(()=>{var X;w.length<40&&((X=he.current)==null||X.click())},[U]),O.useEffect(()=>{(Yg(t)&&w.length<U.length||w.length<U.length&&!Yg(t))&&g(!1),(Yg(t)&&w.length===n.length&&n.length>0||!Yg(t)&&w.length===U.length&&U.length>0)&&g(!0),pJ(w||[],a),C(w),a==null||a.saveLocalStorage("showDayMark",o==null?void 0:o.showDayMark),a==null||a.saveLocalStorage("dayMarkRange",o==null?void 0:o.dayMarkRange),j((o==null?void 0:o.showDayMark)||!1),V((o==null?void 0:o.dayMarkRange)||"day"),o!=null&&o.showDayMark&&N(kv(w,o==null?void 0:o.dayMarkRange))},[w,o==null?void 0:o.showDayMark,o==null?void 0:o.dayMarkRange]),O.useEffect(()=>{if(!ie.current)return;const X=async()=>{ce.current||(ee.current++,await we(),ee.current>=1&&(ce.current=!0,setTimeout(()=>{ee.current=0,ce.current=!1},3e3)))};w.length<40&&X();const ve=new IntersectionObserver(([De])=>{if(De.isIntersecting){if(p)return;X()}else ee.current=0,ce.current=!1});return ie!=null&&ie.current&&ve.observe(ie.current),()=>{ie!=null&&ie.current&&ve.unobserve(ie.current)}},[d,p,ie.current]),O.useEffect(()=>{var X;(X=Ie.current)==null||X.scrollTo({top:0})},[t]);const we=async()=>{try{if(q.current.length>S.current.length){m(!0);const X=Math.min(S.current.length+40,q.current.length)-S.current.length,ve=q.current.slice(S.current.length,S.current.length+X);D(De=>[...De,...ve]),m(!1),g(ve.length<40)}}catch(X){console.error(X),new E.Notice(X.response.data.message)}},W=O.useMemo(()=>y.jsx("div",{ref:ie,className:mr("status-text-container",L==="calendar"||L==="table"?"hidden":""),children:y.jsx("p",{className:"status-text",children:d?k("Fetching data..."):p?U.length===0?k("Noooop!"):k("All Data is Loaded üéâ"):y.jsx(y.Fragment,{children:y.jsx("span",{ref:he,className:"cursor-pointer hover:text-green-600",onClick:we,children:k("fetch more")})})})}),[L,we,U,d,p,ie]);return y.jsxs("div",{className:`memolist-wrapper ${p?"completed":""}`,ref:Ie,children:[L==="chat"&&W,y.jsxs("div",{ref:fe,className:"memolist-container",children:[L==="chat"&&y.jsx(nJ,{thinos:T}),L==="calendar"&&y.jsx(Zq,{thinos:U}),L==="table"&&y.jsx(XG,{thinos:U}),L==="moments"&&y.jsx(sJ,{thinos:T}),L==="list"&&y.jsx(vv,{breakpointCols:1,className:`${L}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:H?y.jsx(y.Fragment,{children:Object.keys(A).map(X=>y.jsx(WD,{type:"list",thinos:A[X],dayMark:X,dayMarkRange:_},X))}):T.map((X,ve)=>y.jsx(Ua,{memo:X},`${X.id}-${E.moment(X.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${ve}`))}),L==="waterfall"&&y.jsx(y.Fragment,{children:H&&Object.keys(A).length>0?Object.keys(A).map(X=>y.jsx(WD,{type:"waterfall",thinos:A[X],dayMark:X,dayMarkRange:_},X)):y.jsx(vv,{breakpointCols:3,className:`${L}-view masonry-memolist`,columnClassName:"masonry-memolist-grid_column",children:T.map((X,ve)=>y.jsx(Ua,{memo:X},`${X.id}-${E.moment(X.updatedAt,"YYYY/MM/DD HH:mm:ss").format("x")}-${ve}`))})})]}),L!=="chat"&&W]})};function ix(e){return`memosListCache:${e}`}function mJ(e){var t;try{const n=ix(e==null?void 0:e.appId),r=Kn.get([n])[n];return r?((t=JSON.parse(r))==null?void 0:t.memos)||[]:[]}catch(n){return console.error(n),[]}}function pJ(e,t){try{if(!e)return;const n=e==null?void 0:e.slice(0,100),r=ix(t==null?void 0:t.appId);Kn.set({[r]:JSON.stringify({memos:n})})}catch(n){console.error(n)}}const Tc=async e=>{const{app:t,settings:n}=rt.getState();if(!n.startSync||!(t!=null&&t.loadLocalStorage("tokenForSync")))return;const r=await HA(e);if(!r||r.length===0)return;r.sort((s,u)=>E.moment(s.createdAt,"YYYY/MM/DD HH:mm:ss").isAfter(E.moment(u.createdAt,"YYYY/MM/DD HH:mm:ss"))?1:-1);const a=r.filter(s=>!s.deleted),o=r.filter(s=>s.deleted);for(let s=0;s<a.length;s++){const u=a[s],d=await Te.createOrPatchThinoFromWeb(u);d&&Te.pushMemo(d)}for(let s=0;s<o.length;s++){const u=o[s],d=Te.getMemoByWebId(u.id);d&&await Te.deleteMemoById(d.id,"local")}Te.updateTagsState(),yJ(t)};function gJ(){const{settings:e,app:t,view:n}=rt.getState(),{globalState:{loaded:r,memoListView:a}}=O.useContext(wt),o=E.Platform.isMobile&&e.DefaultEditorLocation==="Bottom",s=J.useRef(null),[u,d]=J.useState([]);O.useEffect(()=>{if(!t||!r||!n||!(t==null?void 0:t.loadLocalStorage("tokenForSync"))||!e.startSync)return;s.current=window.setInterval(async()=>{const w=Kw(t);await Tc(w)},3e4),n.registerInterval(s.current);const g=Kw(t);return Tc(g),()=>{s.current&&window.clearInterval(s.current)}},[n,t,r,e.startSync]);const m=[y.jsx(Lm,{thinosCount:u.length,thinos:u},"filter"),y.jsx(hJ,{updateThinos:p=>{d(p)}},"list")];return y.jsx(y.Fragment,{children:a==="chat"?y.jsx(y.Fragment,{children:[y.jsx(av,{syncThino:Tc},"header"),...m.reverse(),y.jsx(xd,{className:"mod-editor-bottom",editorType:"inline"},"editor")]}):y.jsx(y.Fragment,{children:o?[y.jsx(av,{syncThino:Tc},"header"),...m,y.jsx(xd,{className:"mod-editor-bottom",editorType:"block"},"editor")]:[y.jsx(av,{syncThino:Tc},"header"),y.jsx(xd,{editorType:"block"},"editor"),...m]})})}function vJ(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",E.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")))}catch(t){console.error(t)}}function Kw(e){try{const t=(e==null?void 0:e.loadLocalStorage)&&(e==null?void 0:e.loadLocalStorage("thinoLastUpdated"));return t||E.moment("2000-01-01 00:01:00","YYYY-MM-DD HH:mm:ss").format("x")}catch(t){return console.error(t),E.moment().format("x")}}function yJ(e){try{e!=null&&e.saveLocalStorage&&(e==null||e.saveLocalStorage("thinoLastUpdated",E.moment().format("x")))}catch(t){console.error(t)}}function Yc(e=!0){const[t,n]=O.useState({isLoading:e,isFailed:!1,isSucceed:!1,isPending:!1});return{...t,setLoading:()=>{n({...t,isLoading:!0,isFailed:!1,isPending:!1,isSucceed:!1})},setFinish:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!1,isSucceed:!0})},setError:()=>{n({...t,isLoading:!1,isFailed:!0,isPending:!1,isSucceed:!1})},setPending:()=>{n({...t,isLoading:!1,isFailed:!1,isPending:!0,isSucceed:!1})}}}const wJ={text:k("SELECT"),value:""},bJ=e=>{const{className:t,dataSource:n,handleValueChanged:r,value:a}=e,[o,s]=_o(!1),u=O.useRef(null);let d=wJ;for(const g of n)if(g.value===a){d=g;break}O.useEffect(()=>{if(o){const g=w=>{var D;(D=u.current)!=null&&D.contains(w.target)||s(!1)};window.addEventListener("click",g,{capture:!0,once:!0})}},[o]);const m=g=>{r&&r(g.value),s(!1)},p=g=>{g.stopPropagation(),s()};return y.jsxs("div",{className:`selector-wrapper ${t||""}`,ref:u,children:[y.jsxs("div",{className:`current-value-container ${o?"active":""}`,onClick:p,children:[y.jsx("span",{className:"value-text",children:d.text}),y.jsx("span",{ref:g=>{g&&E.setIcon(g,"chevron-right")},className:"btn arrow-text"})]}),y.jsx("div",{className:`items-wrapper ${o?"":"hidden"}`,children:n.map(g=>y.jsx("div",{className:`item-container ${g.value===a?"selected":""}`,onClick:()=>{m(g)},children:g.text},g.value))})]})},bd=O.memo(bJ),ub=e=>{const{destroy:t,queryId:n,type:r="dialog"}=e,[a,o]=O.useState(""),[s,u]=O.useState(r!=="dialog"?[ID()]:[]),d=Yc(!1),[m,p]=O.useState(!1),[g,w]=_o(!1),D=Te.getState().memos.filter(j=>!(j.deletedAt!==""&&j.deletedAt)).filter(j=>$d(j,s)).length;O.useEffect(()=>{S()},[n]);const S=()=>{const j=tn.getQueryById(n??"");if(j){o(j.title);const _=JSON.parse(j.querystring);return Array.isArray(_)&&u(_),j}},T=j=>{const _=j.target.value;o(_)},C=async()=>{if(!a)return new E.Notice(k("TITLE CANNOT BE NULL!")),null;if(s.length===0)return new E.Notice(k("FILTER CANNOT BE NULL!")),null;if(s.length===1&&s[s.length-1].value.value==="")return new E.Notice(k("Please finish the last filter setting first")),null;let j;try{n&&!n.startsWith("Filter [Temp] ")?(j=await tn.updateQuery(n,a,JSON.stringify(s)),tn.editQuery(j),await tn.getMyAllQueries()):(j=await tn.createQuery(a,JSON.stringify(s)),tn.pushQuery(j),await tn.getMyAllQueries())}catch(_){new E.Notice(_.message)}return j},A=async()=>{switch(r){case"modal":case"inline":if(s.length===0){new E.Notice(k("FILTER CANNOT BE NULL!"));return}if(s.length===1&&s[s.length-1].value.value===""){new E.Notice(k("Please finish the last filter setting first"));return}try{const j=tn.getQueryById(n??"");if(j&&JSON.stringify(s)===j.querystring){We.setMemoFilter(j.id),t();return}const _=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(s));tn.pushQuery(_),We.setMemoFilter(_.id)}catch(j){new E.Notice(j.message)}t();break;case"dialog":try{if(!await C())return}catch(j){console.error(j),new E.Notice(j.message)}t();break}},N=()=>{if(s.length===0){new E.Notice(k("FILTER CANNOT BE NULL!"));return}if(m){We.setMemoFilter(""),p(!1);return}const j=tn.getQueryById(n??"");if(j&&JSON.stringify(s)===j.querystring){We.setMemoFilter(j.id);return}const _=tn.createTempQuery(`Filter [Temp] ${Math.random().toString(36).substring(7)}`,JSON.stringify(s));tn.pushQuery(_),We.setMemoFilter(_.id),e.setPreview&&e.setPreview(_.id),p(!0)},L=()=>{if(s.length>0&&s[s.length-1].value.value===""){new E.Notice(k("Please finish the last filter setting first"));return}u([...s,ID()])},F=O.useCallback((j,_)=>{u(V=>{const U=[...V];return U[j]=_,U})},[]),H=O.useCallback(j=>{u(_=>_.filter((U,z)=>z!==j))},[]);return y.jsxs(y.Fragment,{children:[r==="dialog"&&y.jsxs("div",{className:"dialog-header-container",children:[y.jsxs("span",{className:"title-text",children:[y.jsx("span",{className:"icon-text",children:"üîñ"}),k(n?"EDIT QUERY":"CREATE QUERY")]}),y.jsx("button",{ref:j=>{j&&E.setIcon(j,"x")},className:"btn close-btn",onClick:t})]}),y.jsxs("div",{className:"dialog-content-container",children:[(r==="dialog"||g)&&y.jsxs("div",{className:"form-item-container input-form-container",children:[y.jsx("span",{className:"normal-text",children:k("TITLE")}),y.jsx("input",{className:"title-input",type:"text",value:a,onChange:T})]}),y.jsxs("div",{className:"form-item-container filter-form-container",children:[y.jsx("span",{className:"normal-text",children:k("FILTER")}),y.jsxs("div",{className:"filters-wrapper",children:[s.map((j,_)=>y.jsx(SJ,{index:_,filter:j,handleFilterChange:F,handleFilterRemove:H},_)),y.jsx("div",{className:"create-filter-btn",onClick:L,children:k("ADD FILTER TERMS")})]})]})]}),y.jsx("div",{className:"dialog-footer-container",children:y.jsxs("div",{className:"btns-container",children:[(r==="inline"||r==="modal")&&y.jsx("button",{className:`btn ${g?"mod-cta":"save-btn"}`,onClick:async()=>{if(!g)w();else{const j=await C();w(!1),t(),j&&We.setMemoFilter(j.id)}},children:k(g?"Set and save":"Save")}),y.jsxs("div",{className:"btns-group-container",children:[y.jsxs("span",{className:`tip-text ${s.length===0&&"hidden"}`,children:[k("MATCH")," Thino ",y.jsx("strong",{children:D})," ",k("TIMES")]}),y.jsx(y.Fragment,{children:r==="inline"&&y.jsx("button",{className:"btn mod-cta",onClick:N,children:k("Preview")})}),y.jsx("button",{className:`btn save-btn ${d.isLoading?"requesting":""}`,onClick:A,children:k(r==="inline"||r==="modal"?"Filter":n?"EDIT":"Save")})]})]})})]})},DJ=e=>{const{index:t,filter:n,handleFilterChange:r,handleFilterRemove:a}=e,{type:o}=n,s=O.useRef(null),u=O.useRef(null),d=O.useRef(n),m=O.useRef(o);O.useEffect(()=>{d.current=e.filter},[n]),O.useEffect(()=>{if(s.current)return o==="TAG"&&!u.current&&(m.current=o,u.current=new fE(s.current,D)),()=>{u.current&&(u.current.destroy(),u.current=null)}},[s,o]);const p=O.useCallback(C=>{["AND","OR"].includes(C)&&r(t,{...n,relation:C})},[n]),g=O.useCallback(async C=>{var A;if(n.type!==C){const{verifyState:N}=rt.getState(),L=!E.Platform.isDesktop&&await((A=window.Capacitor)==null?void 0:A.Plugins.Device.getId()),F=E.Platform.isDesktop?await zn():L.identifier||L.uuid,H=N&&(N==null?void 0:N.appId)===F;if(C==="SOURCE"&&!H){fn();return}const j=Object.values(hl[C].operators);r(t,{...n,type:C,value:{operator:j[0].value,value:""}})}},[n]),w=O.useCallback(C=>{r(t,{...n,value:{...n.value,operator:C}})},[n]),D=O.useCallback(C=>{r(t,{...d.current,value:{...d.current.value,value:C}})},[n]),S=()=>{a(t)},T={TYPE:y.jsx(bd,{className:"value-selector",dataSource:hl.TYPE.values,value:n.value.value,handleValueChanged:D}),LIST:y.jsx(bd,{className:"value-selector",dataSource:hl.LIST.values,value:n.value.value,handleValueChanged:D}),SOURCE:y.jsx(bd,{className:"value-selector",dataSource:hl.SOURCE.values,value:n.value.value,handleValueChanged:D}),TAG:y.jsx("input",{type:"text",id:Math.random().toString(36).substring(7),className:"value-inputer",ref:s,value:n.value.value,onChange:C=>{D(C.target.value)}}),TEXT:y.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:C=>{D(C.target.value)}}),DATE:y.jsxs("div",{className:"date-inputer",children:[y.jsx(pv,{type:"icon",handleValueChange:D}),y.jsx("input",{type:"text",className:"value-inputer",value:n.value.value,onChange:C=>{D(C.target.value)}})]})};return y.jsxs("div",{className:"memo-filter-input-wrapper",children:[t>0&&y.jsx(bd,{className:"relation-selector",dataSource:n8,value:n.relation,handleValueChanged:p}),y.jsx(bd,{className:"type-selector",dataSource:Object.values(hl),value:n.type,handleValueChanged:g}),y.jsxs(y.Fragment,{children:[Object.keys(hl).includes(o)&&y.jsx(bd,{className:"operator-selector",dataSource:Object.values(hl[o].operators),value:n.value.operator,handleValueChanged:w}),T[o]]}),y.jsx("div",{ref:C=>{C&&E.setIcon(C,"x")},className:"btn remove-btn",onClick:S})]})},SJ=O.memo(DJ);function Qw(e){Mm({className:"create-query-dialog"},ub,{queryId:e})}const sx=e=>{var D,S;const{dailyNotesState:{app:t,verifyState:n},locationState:{query:r}}=O.useContext(wt),a=J.useRef(null),[o,s]=J.useState(!1),u=J.useRef(null),[d,m]=J.useState(""),p=Zv(a.current,u.current,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,10]}}]});O.useEffect(()=>{o&&p.update&&(p==null||p.update())},[o]),O.useEffect(()=>{a&&E.setIcon(a.current,"filter")},[a]);const g=async()=>{var A;const T=!E.Platform.isDesktop&&await((A=window.Capacitor)==null?void 0:A.Plugins.Device.getId()),C=E.Platform.isDesktop?await zn():T.identifier||T.uuid;return!n||(n==null?void 0:n.appId)!==C?(fn(),!1):!0};return km(u,()=>{s(!1),d&&We.getState().query.filter===d&&We.setMemoFilter("")}),y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"thino-inline-filter-wrapper pro",ref:a,onClick:async()=>{await g()&&(E.Platform.isDesktop?(s(!o),await(p==null?void 0:p.update())):new IJ(rt.getState().app,r.filter,C=>{m(C)}).open())}}),y.jsx("div",{ref:u,className:`thino-inline-filter-container ${o?"":"hidden"}`,style:p.styles.popper,children:o&&y.jsx(ub,{type:"inline",queryId:(D=r.filter)!=null&&D.startsWith("Filter [Temp] ")&&!((S=r.filter)!=null&&S.includes("Filter [Temp]"))?"":r.filter,destroy:()=>{s(!1)},setPreview:T=>{m(T)}})})]})};class IJ extends E.Modal{constructor(n,r,a){super(n);me(this,"root");me(this,"setPreview");this.filter=r,this.setPreview=a}onOpen(){var r,a;const{contentEl:n}=this;this.root=Hv(n),this.root.render(y.jsx(Sl,{store:Ee,context:wt,children:y.jsx("div",{className:"thino-inline-filter-container",children:y.jsx(ub,{type:"modal",queryId:(r=this.filter)!=null&&r.startsWith("Filter [Temp] ")&&!((a=this.filter)!=null&&a.includes("Filter [Temp]"))?"":this.filter,destroy:()=>{this.close()},setPreview:o=>{this.setPreview(o)}})})}))}onClose(){var n;(n=this.root)==null||n.unmount()}}const lx=()=>{const{dailyNotesState:{app:e},globalState:{isMobileView:t,showSiderbarInMobileView:n}}=O.useContext(wt),[r]=O.useState(J.createRef());O.useEffect(()=>{if(!r.current)return;const o=r.current;E.setIcon(o,"refresh-cw")},[r.current]);const a=O.useCallback(async()=>{if(!(t&&n)){if(Tc){const o=Kw(e);await Tc(o)}await Te.fetchAllMemos()}},[]);return y.jsx("span",{className:"refresh-icon",ref:r,onClick:()=>{a(),r&&r.current.firstElementChild.toggleClass("rotate-hidden",!0),setTimeout(()=>{r&&r.current.firstElementChild.toggleClass("rotate-hidden",!1)},1e3)}})},av=()=>{const{locationState:{query:{filter:e}},globalState:{isMobileView:t},queryState:{queries:n}}=O.useContext(wt),[r,a]=O.useState("THINO");O.useEffect(()=>{const s=tn.getQueryById(e);a(s?s.title:"THINO")},[e,n]);const o=O.useCallback(s=>{s.stopPropagation(),Qe.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"section-header-container memos-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(lo,{when:t,children:y.jsx("button",{ref:s=>{s&&E.setIcon(s,"menu")},className:"btn action-btn clickable-icon",onClick:o})}),y.jsx("span",{className:"normal-text",children:r}),y.jsx(lx,{})]}),y.jsxs("div",{className:"memos-header-search-section",children:[y.jsx(m8,{}),y.jsx(h8,{}),y.jsx(sx,{}),y.jsx(Bv,{})]})]})},TJ=()=>{const{dailyNotesState:{settings:e,app:t,verifyState:n},globalState:{manifest:r,showSiderbarInMobileView:a,isMobileView:o}}=O.useContext(wt),[s,u]=O.useState("Memos"),[d,m]=O.useState(!1);O.useEffect(()=>{e&&u(e.UserName)},[e]);const p=O.useCallback(()=>{We.pushHistory("/"),We.clearQuery()},[]),g=()=>{const w=document.querySelector(".memos-sidebar-wrapper"),D=document.querySelector(".menu-btns-popup");D.style.top=70-w.scrollTop+"px",m(!0)};return y.jsxs("div",{className:"user-banner-container",children:[y.jsxs("div",{className:"userinfo-header-container",children:[y.jsxs("span",{className:"username-container",children:[y.jsx("span",{className:"username-text",onClick:p,children:s==="MEMO üòâ"?"THINO üòâ":s||"THINO"}),y.jsx("span",{className:`user-pro-badge ${n?"activated":""}`,onClick:()=>{t.setting.open(),t.setting.openTabById(r.id||"obsidian-memos")},children:"PRO"})]}),y.jsxs("span",{className:"btn-group",children:[(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!o&&y.jsx(lx,{}),y.jsx("span",{ref:w=>{w&&w.hasChildNodes()||w&&E.setIcon(w,"more-horizontal")},className:"btn action-btn menu-popup-btn",onClick:g}),a&&y.jsx("span",{ref:w=>{w&&w.hasChildNodes()||w&&E.setIcon(w,"x")},className:"btn action-btn",onClick:()=>{Qe.setShowSiderbarInMobileView(!1)}})]}),y.jsx(KA,{shownStatus:d,setShownStatus:m})]}),y.jsx(RT,{statusType:"banner"})]})},E2=()=>{const{queryState:{queries:e},dailyNotesState:{app:t},locationState:{query:{filter:n}}}=O.useContext(wt),r=Yc(),[a,o]=O.useState([]);return O.useEffect(()=>{const s=e.filter(u=>{var d,m;return!((d=u.id)!=null&&d.toString().startsWith("Filter [Temp]"))&&!((m=u.id)!=null&&m.toString().includes("Filter [Temp]"))}).sort((u,d)=>{if(d.pinnedAt&&!u.pinnedAt)return 1;if(u.pinnedAt&&!d.pinnedAt)return-1;const m=Re.getTimeStampByDate(u.pinnedAt||u.createdAt);return Re.getTimeStampByDate(d.pinnedAt||d.createdAt)-m});o(s)},[e]),O.useEffect(()=>{tn.getMyAllQueries().catch(()=>{}).finally(()=>{r.setFinish()})},[t]),y.jsxs("div",{className:"queries-wrapper",children:[y.jsxs("span",{className:"title-text",children:[y.jsx("span",{className:"normal-text",children:k("QUERY")}),y.jsx("span",{ref:s=>{s&&E.setIcon(s,"plus")},className:"btn create-query-btn",onClick:()=>Qw()})]}),y.jsx(lo,{when:r.isSucceed&&a.length===0,children:y.jsx("div",{className:"create-query-btn-container",children:y.jsx("span",{className:"btn",onClick:()=>Qw(),children:k("CREATE FILTER")})})}),y.jsx("div",{className:"queries-container",children:a.map(s=>y.jsx(EJ,{query:s,isActive:s.id===n},`${s.id}-${E.moment(s.createdAt,"YYYY/MM/DD HH:mm:ss").format("x")}`))})]})},EJ=e=>{const{query:t,isActive:n}=e,[r,a]=_o(!1),[o,s]=_o(!1),u=()=>{We.setMemoFilter(n?"":t.id)},d=T=>{T.stopPropagation(),a()},m=()=>{a(!1)},p=async T=>{if(T.stopPropagation(),o)try{await tn.deleteQuery(t.id)}catch(C){new E.Notice(C.message)}else s()},g=T=>{T.stopPropagation(),Qw(t.id)},w=async T=>{T.stopPropagation();try{t.pinnedAt?await tn.unpinQuery(t.id):await tn.pinQuery(t.id),tn.editQuery({...t,pinnedAt:t.pinnedAt?"":Re.getDateTimeString(Date.now())})}catch(C){console.error(C)}},D=()=>{s(!1)},S=O.useMemo(()=>y.jsxs("div",{className:"action-btns-container",children:[y.jsxs("span",{className:"btn",onClick:w,children:[y.jsx("span",{ref:T=>{T&&E.setIcon(T,t.pinnedAt?"pin-off":"pin")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:t.pinnedAt?k("UNPIN"):k("PIN")})]}),y.jsxs("span",{className:"btn",onClick:g,children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&E.setIcon(T,"edit")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:k("EDIT")})]}),y.jsxs("span",{className:`btn delete-btn ${o?"final-confirm":""}`,onClick:p,onMouseLeave:D,children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&E.setIcon(T,"trash-2")},className:"icon-text"}),y.jsx("span",{className:"normal-text",children:k(o?"CONFIRMÔºÅ":"DELETE")})]})]}),[t.pinnedAt,o]);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`query-item-container ${n?"active":""}`,onClick:u,children:[y.jsxs("div",{className:"query-text-container",children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&E.setIcon(T,"filter")},className:"icon-text"}),y.jsxs("span",{className:"query-text",children:[t.title,t.pinnedAt&&" üìå"]})]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:T=>{T&&!T.hasChildNodes()&&E.setIcon(T,"more-horizontal")},className:"btn action-btn toggle-btn",onClick:d}),y.jsx("div",{className:`action-btns-wrapper ${r?"":"hidden"}`,onMouseLeave:m,children:S})]})]})})},C2=()=>{var p;const{locationState:{query:{tag:e}},dailyNotesState:{app:t},memoState:{tags:n,tagsNum:r,memos:a}}=O.useContext(wt),[o,s]=O.useState([]),[u,d]=O.useState(((p=t||app)==null?void 0:p.loadLocalStorage("thino-tag-sort-order"))||"alphabetical");O.useEffect(()=>{var w;const g=(w=t||app)==null?void 0:w.loadLocalStorage("thino-temp-tags");s(g||[])},[]),O.useEffect(()=>{Te.updateTagsState()},[a]),O.useEffect(()=>{const g=Array.from(n).sort(),w={subTags:[]};for(const D of g){const S=D.split("/");let T=w,C="";for(let A=0;A<S.length;A++){const N=S[A];A===0?C+=N:C+="/"+N;let L=null;for(const F of T.subTags)if(F.text===C){L=F;break}L||(L={key:N,text:C,count:r[C],subTags:[]},T.subTags.push(L)),T=L}}s(w.subTags)},[n]),O.useEffect(()=>{var g;Te.initialized&&((g=t||app)==null||g.saveLocalStorage("thino-temp-tags",o))},[o]);const m=g=>{g.stopPropagation();const w=new E.Menu;for(const D of["alphabetical","alphabeticalReverse","byCount","byCountReverse"])w.addItem(S=>{S.setTitle(k(D)).onClick(()=>{d(D),t==null||t.saveLocalStorage("thino-tag-sort-order",D)}).setChecked(u===D)}),D==="alphabeticalReverse"&&w.addSeparator();w.showAtMouseEvent(g.nativeEvent)};return y.jsxs("div",{className:"tags-wrapper",children:[y.jsxs("div",{className:"tags-header title-text",children:[y.jsx("span",{className:"normal-text",children:k("Frequently Used Tags")}),y.jsx("span",{ref:g=>{g&&E.setIcon(g,"arrow-down-narrow-wide")},className:"tags-sort-btn",onClick:m})]}),y.jsxs("div",{className:"tags-container",children:[o.sort(CJ(u)).map((g,w)=>y.jsx(cx,{tag:g,tagQuery:e},g.text+"-"+w)),y.jsx(lo,{when:o.length<5&&Te.initialized,children:y.jsxs("span",{className:"tag-tip-container",children:[k("Input")," ",y.jsxs("span",{className:"code-text",children:[k("#Tag")," "]}),k("to create tag"),"..."]})})]})]})},cx=e=>{const{tag:t,tagQuery:n}=e,r=n===t.text,a=t.subTags.length>0,[o,s]=_o(!1),u=()=>{r?We.setTagQuery(""):(Re.copyTextToClipboard(`#${t.text} `),["/","/recycle","/archive","/daily"].includes(We.getState().pathname)||We.setPathname("/"),We.setTagQuery(t.text))},d=m=>{m.stopPropagation(),s()};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:`tag-item-container ${r?"active":""}`,onClick:u,children:[y.jsxs("div",{className:"tag-text-container",children:[y.jsx("span",{ref:m=>{m&&E.setIcon(m,"hash")},className:"btn tag-btn"}),y.jsx("span",{className:"tag-text",children:t.key})]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{className:"tag-count",children:t.count}),a?y.jsx("span",{ref:m=>{m&&E.setIcon(m,"chevron-right")},className:`btn action-btn toggle-btn ${o?"shown":""}`,onClick:d}):null]})]}),a?y.jsx("div",{className:`subtags-container ${o?"":"hidden"}`,children:t.subTags.map((m,p)=>y.jsx(cx,{tag:m,tagQuery:n},m.text+"-"+p))}):null]})},x2=new Intl.Collator(void 0,{usage:"sort",sensitivity:"base",numeric:!0}).compare,nw={alphabetical:(e,t)=>x2(e.text,t.text),alphabeticalReverse:(e,t)=>-x2(e.text,t.text),byCount:(e,t)=>t.count-e.count,byCountReverse:(e,t)=>e.count-t.count},CJ=(e="byCount")=>nw.hasOwnProperty(e)?nw[e]:nw.alphabetical;class Ke extends E.Setting{constructor(n,r){super(n);me(this,"settingTab");me(this,"name","");me(this,"desc","");this.settingTab=r}setName(n){return super.setName(n),this.name=n,this}setDesc(n){return super.setDesc(n),this.desc=n,this}setTab(n){const r=typeof this.name=="string"?this.name:this.name.textContent||"",a=typeof this.desc=="string"?this.desc:this.desc.textContent||"";return this.settingTab.addSettingToMasterSettingsList(n,this.settingEl,r,a),this}}class xJ extends E.Modal{constructor(n,r,a,o,s){super(n);me(this,"plugin");me(this,"settingTab");me(this,"target",5);me(this,"cb");this.app=n,this.settingTab=r,this.plugin=a,this.target=o,this.cb=s}onOpen(){var u;const{contentEl:n}=this;(u=n.parentElement)==null||u.classList.add("memo-save-location-modal"),n.createEl("h3",{text:k("Thino Daily Target")});const r=n.createDiv("modal-setting");new Ke(r,this.settingTab).setName(k("Target Thino Count")).addSlider(d=>{d.setDynamicTooltip().setValue(this.target).setLimits(1,30,1).onChange(async m=>{this.target=m})});const a=n.createDiv("button-group"),o=a.createEl("button",{text:k("Cancel")}),s=a.createEl("button",{text:k("Save")});s.onclick=async()=>{this.plugin.settings.MemoDailyTarget=this.target,this.settingTab.applySettingsUpdate(),this.cb(this.target),this.close()},o.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}const MJ=({allStat:e,todayTimeStamp:t,calendarType:n,handleCalendarTypeChange:r})=>{const{dailyNotesState:{app:a,settings:o},globalState:{manifest:s}}=O.useContext(wt),[u,d]=O.useState(),[m,p]=O.useState(5),[g,w]=O.useState(0),[D,S]=O.useState(0),[T,C]=O.useState(o.HeatmapColorScheme||"default"),A=O.useRef(null),N=O.useRef(null);O.useEffect(()=>{o.HeatmapColorScheme&&C(o.HeatmapColorScheme)},[o.HeatmapColorScheme]),O.useEffect(()=>{let F,H=5;s&&a&&(F=a==null?void 0:a.plugins.getPlugin(s.id),H=F==null?void 0:F.settings.MemoDailyTarget,d(F)),p(H)},[s,a]),O.useEffect(()=>{const F=e.find(_=>_.timestamp===t),H=F?F.count:0;S(H);const j=Math.min(100,H/m*100);w(j)},[e,m]),O.useEffect(()=>{E.requireApiVersion("1.4.4")&&(E.setTooltip(N.current,g.toFixed(2)+"%"),E.setTooltip(A.current,k("Set daily target")+` (${D}/${m})`))},[g,D]),O.useEffect(()=>{A.current&&(A.current.hasChildNodes()||E.setIcon(A.current,"crosshair"),E.requireApiVersion("1.4.4")&&E.setTooltip(N.current,g+"%"))},[A,m]);const L=O.useCallback(()=>{if(!u)return;new xJ(a,u==null?void 0:u.settingTab,u,m,H=>{p(H)}).open()},[u,m]);return y.jsx(y.Fragment,{children:y.jsxs("div",{className:`usage-daily-progress-wrapper heatmap-${T}`,children:[y.jsx("div",{ref:N,className:"daily-progress-bar",children:y.jsx("div",{className:"daily-progress-bar-inner",style:{width:`${g}%`}})}),y.jsx("div",{ref:A,className:"daily-progress-target",onClick:L}),y.jsx("div",{ref:F=>{F&&E.setIcon(F,n==="basic"?"layout-grid":"calendar"),F&&E.setTooltip&&E.setTooltip(F,k("Switch calendar type"))},className:"switch-calendar-type-btn",onClick:()=>r&&r(n==="basic"?"heatmap":"basic")})]})})},NJ=e=>{const{className:t,view:n,datestamp:r,handleDateStampChange:a,handleDateItemClick:o,handleMonthChange:s,dailyStat:u}=e,d=E.moment().startOf("day").valueOf(),[m,p]=O.useState(_h(r)),[g,w]=O.useState(null);O.useEffect(()=>{p(_h(r))},[r]);const D=new Date(m),S=D.getDay(),T=[];for(let N=0;N<S;N++)T.push({date:0,datestamp:D.getTime()-Ba*(7-N)});const C=AJ(m);for(let N=1;N<=C;N++)T.push({date:N,datestamp:D.getTime()+Ba*(N-1)});const A=N=>{const L=D.getFullYear(),F=D.getMonth()+1;let H=0;F===1&&N===-1?H=new Date(`${L-1}/12/1`).getTime():F===12&&N===1?H=new Date(`${L+1}/1/1`).getTime():H=new Date(`${L}/${F+N}/1`).getTime(),p(_h(H)),s&&s(H)};return y.jsxs("div",{className:`heatmap-date-picker-wrapper ${t}`,children:[y.jsxs("div",{className:"date-picker-header",children:[y.jsx("span",{ref:N=>{N&&E.setIcon(N,"chevron-left")},className:"btn btn-text",onClick:()=>A(-1)}),y.jsxs("span",{className:"normal-text",children:[y.jsx(UT,{year:D.getFullYear().toString(),handleYearChange:N=>{p(_h(new Date(`${N}/${D.getMonth()+1}/1`).getTime()))}}),y.jsx(VT,{month:D.getMonth().toString(),handleMonthChange:N=>{p(_h(new Date(`${D.getFullYear()}/${parseInt(N)}/1`).getTime()))}})]}),y.jsx("span",{ref:N=>{N&&E.setIcon(N,"chevron-right")},className:"btn btn-text",onClick:()=>A(1)})]}),y.jsxs("div",{className:"date-picker-day-container",children:[y.jsx("div",{className:"date-picker-day-header",children:k("weekDaysShort").map(N=>y.jsx("span",{className:"day-item",children:N},N))}),y.jsx("div",{className:"date-picker-day-content",children:T.map(N=>{if(N.date===0)return y.jsx("span",{className:"day-item null",children:""},N.datestamp);const L=u.find(j=>j.timestamp===N.datestamp)||{count:0,timestamp:N.datestamp,list:0},F=L.count-L.list,H=L.list;return y.jsxs("span",{className:`day-item ${N.datestamp===d?"current":""} ${N.datestamp===g?"selected":""} ${rw(L.count)}`,onClick:j=>{a(r,j.nativeEvent),w(N.datestamp===g?null:N.datestamp),o&&o(j,L)},onMouseOver:j=>{if(!L||!L.count)return;const _=new E.HoverPopover(n,j.currentTarget,100);kJ(_,{d:N,list:H,task:F})},children:[y.jsx("span",{className:"day-item-text",children:N.date}),y.jsx(y.Fragment,{children:L&&L.count!==0&&y.jsxs("span",{className:"day-item-dots",children:[F>0&&y.jsx("div",{className:`day-item-dot thino-task-dot ${rw(F)}`}),H>0&&y.jsx("div",{className:`day-item-dot thino-list-dot ${rw(H)}`})]})})]},N.datestamp)})})]})]})};function kJ(e,{d:t,list:n,task:r}){e.hoverEl.toggleClass("thino-hover-popover",!0);const a=e.hoverEl.createDiv({cls:"thino-hover-popover-content"});a.createDiv({cls:"thino-date-item",text:`${E.moment(t.datestamp).format("YYYY-MM-DD")}`});const o=a.createDiv({cls:"thino-task-item"});o.createSpan({cls:"thino-task-item-title-text",text:`${k("Task")}: `}),o.createSpan({cls:"thino-task-item-title-count",text:`${r}`});const s=a.createDiv({cls:"thino-list-item"});s.createSpan({cls:"thino-list-item-title-text",text:`${k("List")}: `}),s.createSpan({cls:"thino-list-item-title-count",text:`${n}`})}function AJ(e){const t=new Date(e),n=new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`);return((n.getMonth()===11?new Date(`${n.getFullYear()+1}/1/1`):new Date(`${n.getFullYear()}/${n.getMonth()+2}/1`)).getTime()-n.getTime())/Ba}function _h(e){const t=new Date(e);return new Date(`${t.getFullYear()}/${t.getMonth()+1}/1`).getTime()}function rw(e){return e<=0?"":e<=1?"stat-day-L1-bg":e<=2?"stat-day-L2-bg":e<=4?"stat-day-L3-bg":"stat-day-L4-bg"}const M2={width:12,height:7},N2=(e,t)=>{const n=[];for(let r=0;r<=e;r++)n.push({timestamp:parseInt(E.moment(t).add(r,"days").format("x")),count:0,list:0});return n},k2=()=>{const e=parseInt(E.moment().endOf("day").format("x")),t=new Date(e).getDay()||7,n=parseInt(E.moment().startOf("day").format("x")),r=new Array(7-(t===7?1:t)).fill(0),a=(M2.width-1)*M2.height+t,o=parseInt(E.moment().startOf("day").subtract(a,"days").format("x")),s=E.moment().startOf("day").subtract(a,"days"),{memoState:{memos:u},dailyNotesState:{view:d,app:m,settings:p,verifyState:g}}=O.useContext(wt),[w,D]=Br(FJ(m||window.app)||"heatmap"),[S,T]=Br(E.moment().startOf("day").valueOf()),[C,A]=Br(p.HeatmapColorScheme||"default"),[N,L]=Br(N2(a,o)),[F,H]=Br(null),[j,_]=Br(null),[V,U,z]=Br(""),q=O.useRef(null),ee=O.useRef(null);O.useEffect(()=>{const se=N2(a,o),we=u.filter(W=>!W.deletedAt&&W.rowStatus!=="ARCHIVED");for(const W of we){const X=E.moment(W.createdAt.replaceAll("/","-"),"YYYY-MM-DD HH:mm:ss").startOf("day").diff(s,"days");X>=0&&X<se.length&&(se[X].count+=1,W.thinoType==="JOURNAL"&&(se[X].list+=1))}L([...se])},[u]),O.useEffect(()=>{p.HeatmapColorScheme&&A(p.HeatmapColorScheme)},[p.HeatmapColorScheme]);const ce=O.useCallback((se,we)=>{var De;if(H(we),!ee.current)return;const{isMobileView:W}=Qe.getState(),$=se.target,X=document.querySelector(".memos-sidebar-wrapper");ee.current.style.left=$.offsetLeft-(((De=q.current)==null?void 0:De.offsetLeft)??0)+"px";let ve=$.offsetTop;W||(ve-=X==null?void 0:X.scrollTop),ee.current.style.top=ve+"px"},[]),fe=O.useCallback(()=>{H(null)},[]),ie=()=>{D(w==="heatmap"?"basic":"heatmap"),OJ(m,w==="heatmap"?"basic":"heatmap"),T(E.moment().startOf("day").valueOf())},he=O.useCallback(async(se,we)=>{if(we.count===0)return;const W=We.getState().query.duration,$=W==null?void 0:W.from,X=W==null?void 0:W.to,ve=E.moment($).diff(X,"day")==0;if($===we.timestamp&&ve)We.setFromAndToQuery(0,0),_(null),U(null);else if($!==we.timestamp&&$>0&&se.shiftKey){const De=E.moment(we.timestamp).endOf("day").diff(X,"day");$===0&&se.shiftKey?U("from"):De<0&&ve&&U("to"),E.moment($).isBefore(we.timestamp)?z.current==="to"?De<0?We.setFromAndToQuery(we.timestamp,X):(We.setFromAndToQuery(parseInt(E.moment(X).startOf("day").format("x")),parseInt(E.moment(we.timestamp).endOf("day").format("x"))),U("from")):z.current==="from"&&(De<0,We.setFromAndToQuery($,parseInt(E.moment(we.timestamp).endOf("day").format("x")))):z.current==="to"?We.setFromAndToQuery(we.timestamp,X):z.current==="from"&&(We.setFromAndToQuery(we.timestamp,parseInt(E.moment($).endOf("day").format("x"))),U("to"))}else if($===0&&se.shiftKey)We.setFromAndToQuery(we.timestamp,parseInt(E.moment().endOf("day").format("x")));else if(we.count>0&&(se.ctrlKey||se.metaKey)){const{app:De,dailyNotes:be}=rt.getState(),ke=Pv(E.moment(we.timestamp),be);if(!E.Platform.isMobile)await De.workspace.getLeaf("split").openFile(ke);else{let Be=De.workspace.activeLeaf;Be===null&&(Be=De.workspace.getLeaf(!0)),Be.openFile(ke)}}else we.count>0&&!se.shiftKey&&!se.ctrlKey&&!se.metaKey&&(["/","/recycle"].includes(We.getState().pathname)||We.setPathname("/"),We.setFromAndToQuery(we.timestamp,Re.getTimeStampByDate(E.moment(we.timestamp+Ba).subtract(1,"days").endOf("day").format("YYYY-MM-DD HH:mm:ss"))),_(we))},[]),Ie=O.useMemo(()=>y.jsx(NJ,{className:`heatmap-${C}`,view:d,datestamp:S,dailyStat:N,handleMonthChange:se=>{T(se)},handleDateStampChange:se=>{},handleDateItemClick:(se,we)=>he(se,we)}),[JSON.stringify(N),d,S,C]);return y.jsxs(y.Fragment,{children:[w==="basic"&&Ie,w==="heatmap"&&y.jsxs("div",{className:`usage-heat-map-wrapper heatmap-${C}`,ref:q,children:[y.jsxs("div",{className:"day-tip-text-container",children:[y.jsx("span",{className:"tip-text",children:k("weekDaysShort")[0]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:k("weekDaysShort")[2]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:k("weekDaysShort")[4]}),y.jsx("span",{className:"tip-text"}),y.jsx("span",{className:"tip-text",children:k("weekDaysShort")[6]})]}),y.jsxs("div",{ref:ee,className:"usage-detail-container pop-up "+(F?"":"hidden"),children:[F==null?void 0:F.count," thino ",k("on")," ",y.jsx("span",{className:"date-text",children:E.moment(F==null?void 0:F.timestamp,"x").format("YYYY/MM/DD ddd")})]}),y.jsxs("div",{className:"usage-heat-map",children:[N.map((se,we)=>{const W=se.count,$=W<=0?"":W<=1?"stat-day-L1-bg":W<=2?"stat-day-L2-bg":W<=4?"stat-day-L3-bg":"stat-day-L4-bg";return y.jsx("span",{className:`stat-container ${$} ${j===se?"current":""} ${n===se.timestamp?"today":""}`,onMouseEnter:X=>ce(X,se),onMouseLeave:fe,onClick:X=>he(X,se)},we)}),r.map((se,we)=>y.jsx("span",{className:"stat-container null"},we))]})]}),g&&y.jsx(MJ,{allStat:N,todayTimeStamp:n,calendarType:w,handleCalendarTypeChange:ie})]})};function OJ(e,t){try{e==null||e.saveLocalStorage("calendarType",t)}catch(n){console.error(n)}}function FJ(e){try{return(e==null?void 0:e.loadLocalStorage("calendarType"))||"heatmap"}catch(t){return console.error(t),"heatmap"}}const A2=()=>{const{dailyNotesState:{app:e,settings:t,verifyState:n}}=O.useContext(wt),r=[{name:k("Random Review"),path:"/review",iconID:"star"},{name:k("ARCHIVE"),path:"/archive",iconID:"archive"},{name:k("Recycle bin"),path:"/recycle",iconID:"recycle"}],a=O.useRef([]);return O.useEffect(()=>{a.current.forEach((o,s)=>{o&&E.setIcon(o,r[s].iconID)})},[t,a]),y.jsx(y.Fragment,{children:y.jsx("div",{className:"path-entry-wrapper",children:r.map((o,s)=>y.jsx(y.Fragment,{children:y.jsxs("div",{className:`path-entry-container ${We.getState().pathname===o.path?"active":""} ${t.DeleteThinoDirectly&&o.path==="/recycle"?"hidden":""} ${o.path==="/review"&&"pro"}`,onClick:async()=>{var m;const u=!E.Platform.isDesktop&&await((m=window.Capacitor)==null?void 0:m.Plugins.Device.getId()),d=E.Platform.isDesktop?await zn():u.identifier||u.uuid;if(!n&&(n==null?void 0:n.appId)!==d&&o.path==="/review"){fn();return}if(We.setPathname(o.path),o.path==="/review"&&We.getState().pathname==="/review"){e.workspace.trigger("refresh-review-memos");return}We.clearQuery()},children:[y.jsx("span",{ref:u=>a.current[s]=u,className:"path-entry-icon"}),y.jsx("span",{className:"path-entry-text",children:o.name})]},s)}))})})},O2=e=>{const{dailyNotesState:{settings:t},locationState:n,globalState:{isMobileView:r,showSiderbarInMobileView:a}}=O.useContext(wt),o=O.useRef(null),s=O.useMemo(()=>u=>{var m,p,g;const d=Qe.getState().showSiderbarInMobileView;if(!d){window.removeEventListener("click",s,{capture:!0});return}(m=o.current)!=null&&m.contains(u.target)||(g=(p=o.current)==null?void 0:p.parentNode)!=null&&g.contains(u.target)&&(d&&u.stopPropagation(),Qe.setShowSiderbarInMobileView(!1),window.removeEventListener("click",s,{capture:!0}))},[]);return O.useEffect(()=>{Qe.setShowSiderbarInMobileView(!1)},[n]),O.useEffect(()=>{a?document.body.classList.add(Bb):document.body.classList.remove(Bb)},[a]),O.useEffect(()=>{r&&a&&window.addEventListener("click",s,{capture:!0})},[r,a]),y.jsxs("aside",{className:mr("memos-sidebar-wrapper",e.className),ref:o,children:[e.children,y.jsx(TJ,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?y.jsx(k2,{}):null:y.jsx(k2,{}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="left"?y.jsxs(y.Fragment,{children:[y.jsx(A2,{}),y.jsx(E2,{}),y.jsx(RT,{statusType:"sidebar"})]}):null:y.jsxs(y.Fragment,{children:[y.jsx(A2,{}),y.jsx(E2,{})]}),(t==null?void 0:t.DefaultThemeForThino)==="modern"&&!r?(e==null?void 0:e.sidebarPosition)==="right"?y.jsx(y.Fragment,{children:y.jsx(C2,{})}):null:y.jsx(y.Fragment,{children:y.jsx(C2,{})})]})},PJ=()=>{const{dailyNotesState:{settings:e}}=O.useContext(wt),[t,n]=J.useState(""),r=a=>{n(a.target.value)};return y.jsx("div",{className:"locked-screen-wrapper",children:y.jsxs("div",{className:"locked-screen-content",children:[y.jsx("div",{className:"locked-screen-header",children:y.jsx("div",{className:"locked-screen-header-title",children:k("Locked")})}),y.jsx("div",{className:"locked-screen-body",children:y.jsxs("div",{className:"locked-screen-body-content",children:[y.jsxs("div",{className:"locked-screen-body-content-text",children:[y.jsx("div",{className:"locked-screen-body-content-text-title",children:k("Thino is locked")}),y.jsx("div",{className:"locked-screen-body-content-text-desc",children:k("Please unlock Thino by input password")})]}),y.jsxs("div",{className:"locked-screen-body-content-inputer",children:[y.jsx("input",{onChange:r,value:t,type:"password",className:"locked-screen-body-content-input"}),y.jsx("button",{className:"locked-screen-body-content-btn",onClick:()=>{(e==null?void 0:e.password)===t?Qe.setLocked(!1):new E.Notice(k("Password is incorrect"))},children:k("Unlock")})]})]})})]})})};function jJ(){const{dailyNotesState:{settings:e,verifyState:t},locationState:{pathname:n},globalState:{isMobileView:r,memoListView:a,globalEditorShown:o,locked:s}}=O.useContext(wt),u=O.useRef(null);return O.useEffect(()=>{if(!e.needVerify){Qe.setLocked(!1);return}Qe.setLocked(!0)},[e==null?void 0:e.needVerify]),O.useEffect(()=>{if(!u.current)return;(async()=>{var g;const m=!E.Platform.isDesktop&&await((g=window.Capacitor)==null?void 0:g.Plugins.Device.getId()),p=E.Platform.isDesktop?await zn():m.identifier||m.uuid;!t||(t==null?void 0:t.appId)!==p?u.current.toggleClass("hide-pro",!0):u.current.toggleClass("hide-pro",!1)})()},[t,u.current]),y.jsxs(y.Fragment,{children:[s&&y.jsx(PJ,{}),!s&&o&&y.jsx(xd,{editorType:"block"}),!s&&!o&&y.jsx("section",{ref:u,id:"page-wrapper","data-path":n,className:mr(`memos-${n==="/"?a:"list"}-view`,(e==null?void 0:e.DefaultThemeForThino)==="modern"?"modern":"classic"),children:y.jsxs(y.Fragment,{children:[y.jsx(O2,{sidebarPosition:"left",className:"left-sidebar"}),y.jsx("main",{className:"content-wrapper",children:QJ(n)}),(e==null?void 0:e.DefaultThemeForThino)==="modern"&&!r?y.jsx(O2,{sidebarPosition:"right",className:"right-sidebar"}):null]})})]})}const LJ={"*":y.jsx(jJ,{})},RJ=e=>{const{memo:t,handleDeletedMemoAction:n}=e,{dailyNotesState:r}=O.useContext(wt),a={...t,createdAtStr:Re.getDateTimeString(t.createdAt),deletedAtStr:Re.getDateTimeString(t.deletedAt||t.createdAt)},o=J.useRef(null),s=J.useRef(null),[u,d]=J.useState(""),[m,p]=_o(!1),g={restore:O.useRef(null),delete:O.useRef(null),source:O.useRef(null)};O.useEffect(()=>{s&&(E.setIcon(g.restore.current,"archive-restore"),E.setIcon(g.delete.current,"trash"),E.setIcon(g.source.current,"home"))},[s]),O.useEffect(()=>{if(!o.current||!s.current||o.current.hasChildNodes()&&t.content===u||!r.view)return;const C=r.view;d(t.content),o.current.hasChildNodes()&&o.current.empty();async function A(){var L;await E.MarkdownRenderer.render(r.app,t.content+`
`,o.current,t.path,C);const N=(L=o.current)==null?void 0:L.querySelectorAll(".internal-link");N==null||N.forEach(F=>{const H=F,j=H.getAttribute("data-href");if(!j)return;r.app.metadataCache.getFirstLinkpathDest(j,t.path)||F.classList.add("is-unresolved"),H.addEventListener("mouseover",V=>{V.stopPropagation(),r.app.workspace.trigger("hover-link",{event:V,source:"thino",hoverParent:C.containerEl,targetEl:H,linktext:j,sourcePath:H.href})})})}A()},[t.content,s]);const w=async()=>{if(m)try{await Te.deleteMemoById(a.id),n(a.id)}catch(C){new E.Notice(C.message)}else p()},D=async()=>{switch(a.sourceType){case"DAILY":await g1(a.id,a.path);break;case"CANVAS":await y1(a.id,a.path);break;case"MULTI":await p1(a.path);break;case"FILE":await v1(a.id,a.path);break}},S=async()=>{try{const C=await Te.restoreMemoById(a.id),A=r.app,N=A==null?void 0:A.loadLocalStorage("tokenForSync");C&&C.webId&&N&&r.settings.startSync&&await OT(C.webId),C&&Te.editMemo(C),n(a.id),new E.Notice(k("RESTORE SUCCEED"))}catch(C){new E.Notice(C.message)}},T=()=>{m&&p(!1)};return y.jsxs("div",{ref:s,className:`memo-wrapper ${"memos-"+a.id}`,onMouseLeave:T,children:[y.jsxs("div",{className:"memo-top-wrapper",children:[y.jsxs("span",{className:"time-text",children:[k("DELETE AT")," ",a.deletedAtStr]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:C=>{C&&E.setIcon(C,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:g.restore,className:"more-action-item-icon"}),y.jsx("span",{className:"btn restore-btn",onClick:S,children:k("RESTORE")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:g.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:D,children:k("SOURCE")})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:g.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${m?"final-confirm":""}`,onClick:w,children:k(m?"CONFIRMÔºÅ":"DELETE")})]})]})})]})]}),y.jsx("div",{ref:o,className:"memo-content-text",onContextMenu:C=>{C.preventDefault(),C.stopPropagation()}})]})},_J=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:a,type:o,text:s,filter:u}=t,d=tn.getQueryById(u);return!!(r||a&&a.from<a.to||o||s||d)||d||n?e.filter(p=>{let g=!0;if(p.thinoType!==void 0&&n&&p.thinoType==="TASK-DONE"&&(g=!1),p.content.contains("comment:")&&(g=!1),d){const w=JSON.parse(d.querystring);Array.isArray(w)&&(g=$d(p,w))}if(r){const w=new Set;for(const D of Array.from(p.content.match(An)||[])){const T=D.replace(An,"$1").trim().split("/");let C="";for(const A of T)C+=A,w.add(C),C+="/"}for(const D of Array.from(p.content.match($n)||[])){const T=D.replace($n,"$1").trim().split("/");let C="";for(const A of T)C+=A,w.add(C),C+="/"}for(const D of Array.from(p.content.match(hr)||[])){const T=D.replace(hr,"$2").trim().split("/");let C="";for(const A of T)C+=A,w.add(C),C+="/"}w.has(r)||(g=!1)}return a&&a.from<a.to&&(Re.getTimeStampByDate(p.createdAt)<a.from||Re.getTimeStampByDate(p.createdAt)>a.to)&&(g=!1),o&&(o==="NOT_TAGGED"&&(p.content.match(An)!==null||p.content.match(hr)!==null||p.content.match($n)!==null)||o==="LINKED"&&p.content.match(Rc)===null||o==="IMAGED"&&p.content.match(_c)===null||o==="CONNECTED"&&p.content.match(Il)===null)&&(g=!1),s&&!p.content.toLowerCase().includes(s.toLowerCase())&&(g=!1),g}):e.filter(p=>!p.content.contains("comment:"))},HJ=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=O.useContext(wt),r=Yc(),[a,o]=O.useState([]),s=J.useRef(null);O.useEffect(()=>{const m=_J({memos:n.filter(p=>p.deletedAt!==""&&p.deletedAt),query:e,HideDoneTasks:!1});o(m),r.setFinish()},[n,s.current,e]);const u=O.useCallback(m=>{o(p=>p.filter(g=>g.id!==m))},[]),d=O.useCallback(()=>{Qe.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"memo-trash-wrapper",ref:s,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(lo,{when:t,children:y.jsx("button",{ref:m=>{m&&E.setIcon(m,"menu")},className:"btn action-btn clickable-icon",onClick:d})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{We.clearQuery(),We.setPathname("/")},children:["üè† ",k("Return To Home Page")]})]}),y.jsx(Bv,{})]}),y.jsx(Lm,{thinosCount:a.length,thinos:a}),r.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:k("Fetching data...")})}):a.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:k("Here is No Memos.")})}):y.jsx("div",{className:"deleted-memos-container",children:a.map(m=>y.jsx(RJ,{memo:m,handleDeletedMemoAction:u},`${m.id}-${m.updatedAt}`))})]})},zg="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='currentColor'%3e%3cpath%20d='M0%200h24v24H0V0z'%20fill='none'/%3e%3cpath%20d='M19%203H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2zm0%2016H5V5h14v14zM17.99%209l-1.41-1.42-6.59%206.59-2.58-2.57-1.42%201.41%204%203.99z'/%3e%3c/svg%3e",Ug="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='currentColor'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='none'%20d='M0%200h24v24H0V0z'/%3e%3cpath%20d='M19%205v14H5V5h14m0-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2z'/%3e%3c/svg%3e",BJ=()=>{const{globalState:e}=O.useContext(wt),{useTinyUndoHistoryCache:t,shouldHideImageUrl:n,shouldSplitMemoWord:r,shouldUseMarkdownParser:a}=e,o=`üëã ‰Ω†Â•ΩÂëÄÔΩûÊ¨¢Ëøé‰ΩøÁî®memos!
* ‚ú® **ÂºÄÊ∫êÈ°πÁõÆ**Ôºõ
* üòã Á≤æÁæé‰∏îÁªÜËäÇÁöÑËßÜËßâÊ†∑ÂºèÔºõ
* üìë ‰ΩìÈ™å‰ºòËâØÁöÑ‰∫§‰∫íÈÄªËæëÔºõ`,s=()=>{Qe.setAppSetting({useTinyUndoHistoryCache:!t})},u=()=>{Qe.setAppSetting({shouldSplitMemoWord:!r})},d=()=>{Qe.setAppSetting({shouldHideImageUrl:!n})},m=()=>{Qe.setAppSetting({shouldUseMarkdownParser:!a})},p=async()=>{const g=Te.getState().memos.map(S=>({...S})),w=JSON.stringify(g),D=document.createElement("a");D.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(w)),D.setAttribute("download","data.json"),D.style.display="none",document.body.appendChild(D),D.click(),document.body.removeChild(D)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"section-container preferences-section-container",children:[y.jsx("p",{className:"title-text",children:"Memo ÊòæÁ§∫Áõ∏ÂÖ≥"}),y.jsx("div",{className:"demo-content-container memo-content-text",dangerouslySetInnerHTML:{__html:mw(o)}}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:u,children:[y.jsx("span",{className:"normal-text",children:"‰∏≠Ëã±ÊñáÂÜÖÂÆπËá™Âä®Èó¥Èöî"}),y.jsx("img",{className:"icon-img",src:r?zg:Ug})]}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:m,children:[y.jsx("span",{className:"normal-text",children:"ÈÉ®ÂàÜ markdown Ê†ºÂºèËß£Êûê"}),y.jsx("img",{className:"icon-img",src:a?zg:Ug})]}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:d,children:[y.jsx("span",{className:"normal-text",children:"ÈöêËóèÂõæÁâáÈìæÊé•Âú∞ÂùÄ"}),y.jsx("img",{className:"icon-img",src:n?zg:Ug})]})]}),y.jsxs("div",{className:"section-container preferences-section-container",children:[y.jsx("p",{className:"title-text",children:"ÁºñËæëÂô®"}),y.jsxs("label",{className:"form-label checkbox-form-label",onClick:s,children:[y.jsxs("span",{className:"normal-text",children:["ÂêØÁî®"," ",y.jsx("a",{target:"_blank",href:"https://github.com/boojack/tiny-undo",onClick:g=>g.stopPropagation(),rel:"noreferrer",children:"tiny-undo"})]}),y.jsx("img",{className:"icon-img",src:t?zg:Ug})]})]}),y.jsxs("div",{className:"section-container hidden",children:[y.jsx("p",{className:"title-text",children:"ÂÖ∂‰ªñ"}),y.jsx("div",{className:"btn-container",children:y.jsx("button",{className:"btn export-btn",onClick:p,children:"ÂØºÂá∫Êï∞ÊçÆ(JSON)"})})]})]})},YJ=()=>{const{globalState:{isMobileView:e}}=O.useContext(wt);O.useEffect(()=>{Te.fetchAllMemos()},[]);const t=O.useCallback(()=>{Qe.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"preference-wrapper",children:[y.jsx("div",{className:"section-header-container",children:y.jsxs("div",{className:"title-text",children:[y.jsx(lo,{when:e,children:y.jsx("button",{className:"action-btn",onClick:t})}),y.jsx("span",{className:"normal-text",children:"Ë¥¶Âè∑‰∏éËÆæÁΩÆ"})]})}),y.jsx("div",{className:"sections-wrapper",children:y.jsx(BJ,{})})]})},zJ=e=>{const{dailyNotesState:{app:t,settings:n,view:r}}=O.useContext(wt),{memo:a,handleUnarchivedMemoAction:o}=e,s=J.useRef(null),u=J.useRef(null),[d,m]=J.useState(""),p={...a,createdAtStr:Re.getDateTimeString(a.createdAt),deletedAtStr:Re.getDateTimeString(a.deletedAt||a.createdAt)},[g,w]=_o(!1),D={restore:O.useRef(null),delete:O.useRef(null),source:O.useRef(null)};O.useEffect(()=>{u&&(E.setIcon(D.restore.current,"archive-restore"),E.setIcon(D.delete.current,"trash"),E.setIcon(D.source.current,"home"))},[u]),O.useEffect(()=>{if(!s.current||!u.current||s.current.hasChildNodes()&&a.content===d||!r)return;m(a.content),s.current.hasChildNodes()&&s.current.empty();async function N(){var F,H;(F=s.current)==null||F.toggleClass(["markdown-rendered"],!0),await E.MarkdownRenderer.render(t,a.content+`
`,s.current,a.path,r);const L=(H=s.current)==null?void 0:H.querySelectorAll(".internal-link");L==null||L.forEach(j=>{const _=j,V=_.getAttribute("data-href");if(!V)return;t.metadataCache.getFirstLinkpathDest(V,a.path)||j.classList.add("is-unresolved"),_.addEventListener("mouseover",z=>{z.stopPropagation(),t.workspace.trigger("hover-link",{event:z,source:"thino",hoverParent:r.containerEl,targetEl:_,linktext:V,sourcePath:_.href})})})}N()},[a.content,u]);const S=async()=>{switch(p.sourceType){case"DAILY":await g1(p.id,p.path);break;case"CANVAS":await y1(p.id,p.path);break;case"MULTI":await p1(p.path);break;case"FILE":await v1(p.id,p.path);break}},T=async()=>{if(g)try{if(n.DeleteThinoDirectly)await Te.deleteMemoById(p.id);else{const N=await Te.hideMemoById(p.id);N&&Te.editMemo(N)}}catch(N){new E.Notice(N.message)}else w()},C=async()=>{try{const N=await Te.unarchiveMemo(p);N&&Te.editMemo(N),o(p.id),new E.Notice(k("RESTORE SUCCEED"))}catch(N){new E.Notice(N.message)}},A=()=>{g&&w(!1)};return y.jsxs("div",{ref:u,className:`memo-wrapper ${"memos-"+p.id}`,onMouseLeave:A,children:[y.jsxs("div",{className:"memo-top-wrapper",children:[y.jsxs("span",{className:"time-text",children:[k("ARCHIVED AT")," ",p.updatedAt]}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:N=>{N&&E.setIcon(N,"more-horizontal")},className:"btn more-action-btn"}),y.jsx("div",{className:"more-action-btns-wrapper",children:y.jsxs("div",{className:"more-action-btns-container",children:[y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:D.restore,className:"more-action-item-icon"}),y.jsx("span",{className:"btn restore-btn",onClick:C,children:k("RESTORE")})]}),y.jsxs("div",{className:"more-action-menu-item",children:[y.jsx("span",{ref:D.source,className:"more-action-item-icon"}),y.jsx("span",{className:"btn",onClick:S,children:k("SOURCE")})]}),y.jsxs("div",{className:"more-action-menu-item delete-menu-item",children:[y.jsx("span",{ref:D.delete,className:"more-action-item-icon"}),y.jsx("span",{className:`btn delete-btn ${g?"final-confirm":""}`,onClick:T,children:k(g?"CONFIRMÔºÅ":"DELETE")})]})]})})]})]}),y.jsx("div",{ref:s,className:"memo-content-text"})]})},UJ=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:a,type:o,text:s,filter:u}=t,d=tn.getQueryById(u);return!!(r||a&&a.from<a.to||o||s||d)||d||n?e.filter(p=>{let g=!0;if(p.thinoType!==void 0&&n&&p.thinoType==="TASK-DONE"&&(g=!1),p.content.contains("comment:")&&(g=!1),d){const w=JSON.parse(d.querystring);Array.isArray(w)&&(g=$d(p,w))}if(r){const w=new Set;for(const D of Array.from(p.content.match(An)||[])){const T=D.replace(An,"$1").trim().split("/");let C="";for(const A of T)C+=A,w.add(C),C+="/"}for(const D of Array.from(p.content.match($n)||[])){const T=D.replace($n,"$1").trim().split("/");let C="";for(const A of T)C+=A,w.add(C),C+="/"}for(const D of Array.from(p.content.match(hr)||[])){const T=D.replace(hr,"$2").trim().split("/");let C="";for(const A of T)C+=A,w.add(C),C+="/"}w.has(r)||(g=!1)}return a&&a.from<a.to&&(Re.getTimeStampByDate(p.createdAt)<a.from||Re.getTimeStampByDate(p.createdAt)>a.to)&&(g=!1),o&&(o==="NOT_TAGGED"&&(p.content.match(An)!==null||p.content.match(hr)!==null||p.content.match($n)!==null)||o==="LINKED"&&p.content.match(Rc)===null||o==="IMAGED"&&p.content.match(_c)===null||o==="CONNECTED"&&p.content.match(Il)===null)&&(g=!1),s&&!p.content.toLowerCase().includes(s.toLowerCase())&&(g=!1),g}):e.filter(p=>!p.content.contains("comment:"))},VJ=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n}}=O.useContext(wt),r=Yc(),[a,o]=O.useState([]),s=J.useRef(null);O.useEffect(()=>{const p=UJ({memos:n.filter(g=>g.rowStatus==="ARCHIVED"&&g.deletedAt===""),query:e,HideDoneTasks:!1});o(p),r.setFinish()},[n,s.current,e]);const u=O.useCallback(p=>{o(g=>g.filter(w=>w.id!==p))},[]),d=O.useCallback(p=>{o(g=>g.filter(w=>w.id!==p))},[]),m=O.useCallback(()=>{Qe.setShowSiderbarInMobileView(!0)},[]);return y.jsxs("div",{className:"memo-trash-wrapper",ref:s,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(lo,{when:t,children:y.jsx("button",{ref:p=>{p&&E.setIcon(p,"menu")},className:"btn action-btn clickable-icon",onClick:m})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{We.clearQuery(),We.setPathname("/")},children:["üè† ",k("Return To Home Page")]})]}),y.jsx(Bv,{})]}),y.jsx(Lm,{thinosCount:a.length,thinos:a}),r.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:k("Fetching data...")})}):a.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:k("Here is No Memos.")})}):y.jsx("div",{className:"deleted-memos-container",children:a.map(p=>y.jsx(zJ,{memo:p,handleUnarchivedMemoAction:d,handleDeletedMemoAction:u},`${p.id}-${p.updatedAt}`))})]})},ZJ=()=>{const{dailyNotesState:{app:e},locationState:{query:t},globalState:{isMobileView:n,changedByMemos:r},memoState:{memos:a}}=O.useContext(wt),o=Yc(),[s,u]=O.useState([]),[d,m]=O.useState([]),p=J.useRef(null),g=J.useRef(null),[w,D]=O.useState(!1),[S,T]=O.useState([]),C=J.useRef([]),A=O.useCallback(({memos:F,query:H,HideDoneTasks:j})=>{const{tag:_,duration:V,type:U,text:z,filter:q}=H,ee=tn.getQueryById(q);return!!(_||V&&V.from<V.to||U||z||ee)||ee||j?F.filter(fe=>{let ie=!0;if(fe.thinoType!==void 0&&j&&fe.thinoType==="TASK-DONE"&&(ie=!1),fe.content.contains("comment:")&&(ie=!1),ee){const he=JSON.parse(ee.querystring);Array.isArray(he)&&(ie=$d(fe,he))}if(_){const he=new Set;for(const Ie of Array.from(fe.content.match(An)||[])){const we=Ie.replace(An,"$1").trim().split("/");let W="";for(const $ of we)W+=$,he.add(W),W+="/"}for(const Ie of Array.from(fe.content.match($n)||[])){const we=Ie.replace($n,"$1").trim().split("/");let W="";for(const $ of we)W+=$,he.add(W),W+="/"}for(const Ie of Array.from(fe.content.match(hr)||[])){const we=Ie.replace(hr,"$2").trim().split("/");let W="";for(const $ of we)W+=$,he.add(W),W+="/"}he.has(_)||(ie=!1)}return V&&V.from<V.to&&(Re.getTimeStampByDate(fe.createdAt)<V.from||Re.getTimeStampByDate(fe.createdAt)>V.to)&&(ie=!1),U&&(U==="NOT_TAGGED"&&(fe.content.match(An)!==null||fe.content.match($n)!==null)||U==="LINKED"&&fe.content.match(Rc)===null||U==="IMAGED"&&fe.content.match(_c)===null||U==="CONNECTED"&&fe.content.match(Il)===null)&&(ie=!1),z&&!fe.content.toLowerCase().includes(z.toLowerCase())&&(ie=!1),ie}):F},[]);O.useEffect(()=>{g.current&&(E.setIcon(g.current,"refresh-cw"),e.workspace.on("refresh-review-memos",L))},[g]),O.useEffect(()=>{if(!w)return;if(t){const j=[...A({memos:a,query:t,HideDoneTasks:!1})].sort(()=>Math.random()-Math.random()).slice(0,10);u(j),D(!1);return}const F=[...S].sort(()=>Math.random()-Math.random()).slice(0,10);u(F),D(!1)},[w]),O.useEffect(()=>{if(!(S.length>0))return;const F=[...S].sort(()=>Math.random()-Math.random()).slice(0,10);u(F),D(!1)},[S]),O.useEffect(()=>{p.current&&(T(A({memos:a,query:t,HideDoneTasks:!1}).filter(F=>F.rowStatus!=="ARCHIVED"&&!(F.deletedAt!==""&&F.deletedAt))),o.setFinish(),We.clearQuery())},[a,p.current]),O.useEffect(()=>{if(r&&C.current.length>0){const F=S.filter(j=>C.current.includes(j.id)),H=C.current.map(j=>F.find(_=>_.id===j)).filter(j=>j!==void 0);m(H);return}C.current=s.map(F=>F.id),m(s)},[s]),O.useEffect(()=>{if(s.length===0)return;const F=A({memos:s,query:t,HideDoneTasks:!1});m(F)},[t]);const N=O.useCallback(()=>{Qe.setShowSiderbarInMobileView(!0)},[]),L=()=>{D(!0)};return y.jsxs("div",{className:"memo-review-wrapper",ref:p,children:[y.jsx("div",{className:"section-header-container",children:y.jsxs("div",{className:"title-wrapper",children:[y.jsxs("div",{className:"title-btns-left-wrapper",children:[y.jsx(lo,{when:n,children:y.jsx("button",{ref:F=>{F&&E.setIcon(F,"menu")},className:"btn action-btn clickable-icon",onClick:N})}),y.jsx("span",{ref:g,onClick:L,className:"refresh-icon"})]}),y.jsx("div",{className:"title-btns-right-wrapper",children:y.jsxs("span",{className:"go-home-btn",onClick:()=>{We.setPathname("/")},children:["üè† ",k("Return To Home Page")]})})]})}),y.jsx(Lm,{}),o.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:k("Fetching data...")})}):a.length===0?y.jsx("div",{className:"tip-text-container",children:y.jsx("span",{className:"tip-text",children:k("Here is No Memos.")})}):y.jsx("div",{className:"review-memos-container",children:d.map(F=>y.jsx(Ua,{memo:F},`${F==null?void 0:F.id}-${F.createdAt}`))})]})},WJ=({memos:e,query:t,HideDoneTasks:n})=>{const{tag:r,duration:a,type:o,text:s,filter:u}=t,d=tn.getQueryById(u);return!!(r||a&&a.from<a.to||o||s||d)||d||n?e.filter(p=>{let g=!0;if(p.thinoType!==void 0&&n&&p.thinoType==="TASK-DONE"&&(g=!1),p.content.contains("comment:")&&(g=!1),d){const w=JSON.parse(d.querystring);Array.isArray(w)&&(g=$d(p,w))}if(r){const w=new Set;for(const D of Array.from(p.content.match(An)||[])){const T=D.replace(An,"$1").trim().split("/");let C="";for(const A of T)C+=A,w.add(C),C+="/"}for(const D of Array.from(p.content.match($n)||[])){const T=D.replace($n,"$1").trim().split("/");let C="";for(const A of T)C+=A,w.add(C),C+="/"}for(const D of Array.from(p.content.match(hr)||[])){const T=D.replace(hr,"$2").trim().split("/");let C="";for(const A of T)C+=A,w.add(C),C+="/"}w.has(r)||(g=!1)}return a&&a.from<a.to&&(Re.getTimeStampByDate(p.createdAt)<a.from||Re.getTimeStampByDate(p.createdAt)>a.to)&&(g=!1),o&&(o==="NOT_TAGGED"&&(p.content.match(An)!==null||p.content.match(hr)!==null||p.content.match($n)!==null)||o==="LINKED"&&p.content.match(Rc)===null||o==="IMAGED"&&p.content.match(_c)===null||o==="CONNECTED"&&p.content.match(Il)===null)&&(g=!1),s&&!p.content.toLowerCase().includes(s.toLowerCase())&&(g=!1),g}):e.filter(p=>!p.content.contains("comment:"))},$J=O.forwardRef((e,t)=>{const{currentDate:n,setCurrentDateStamp:r}=e,[a,o]=O.useState(!1),s=Re.getDateStampByDate(Re.getDateString(n)),u=O.useRef(null);O.useEffect(()=>{u.current&&(!a&&E.setIcon(u.current,"more-horizontal"),a&&E.setIcon(u.current,"x"))},[u.current,a]);const d=m=>{r(m)};return O.useImperativeHandle(t,()=>({closeDatePicker:()=>{o(!1)}})),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"date-card-container",children:[y.jsxs("div",{className:"date-container-details",children:[y.jsxs("div",{className:"details-text",children:[E.moment(s,"x").format("dddd")+" ",y.jsx("div",{className:"date-text",children:E.moment(s,"x").format("MMM")+" "+E.moment(s,"x").format("DD")})]}),y.jsx("div",{className:"details-logo-text",children:k("Daily Memos")})]}),y.jsxs("div",{className:"date-container-info",children:[y.jsxs("div",{className:"date-container-info-text",children:["Week ",y.jsx("div",{className:"week-text",children:E.moment(s,"x").format("ww")}),"of ",y.jsx("div",{className:"year-text",children:E.moment(s,"x").format("YYYY")})]}),y.jsx("div",{ref:u,onClick:()=>o(!a)})]})]}),y.jsx(Am,{className:`date-picker ${a?"":"hidden"}`,datestamp:s,handleDateStampChange:d})]})}),qJ=({thino:e})=>{const t=O.useCallback(()=>{qd(e)},[]);return y.jsxs("div",{className:"daily-thino-wrapper",children:[y.jsx("div",{className:"time-wrapper",onClick:t,children:y.jsx("span",{className:"normal-text",children:E.moment(e.createdAt,"YYYY/MM/DD HH:mm:ss").format("HH:mm")})}),y.jsx("div",{className:"daily-thino-container",children:y.jsx(Ua,{memo:e})})]})},GJ=()=>{const{locationState:{query:e},globalState:{isMobileView:t},memoState:{memos:n},dailyNotesState:{settings:r,app:a}}=O.useContext(wt),o=Yc(),[s,u]=O.useState([]),[d,m]=O.useState(Re.getDateStampByDate(Re.getDateString(E.moment().format("YYYY-MM-DD HH:mm:ss")))),p=O.useRef(),g=O.useRef(null),w=J.useRef(null),D=O.useRef(null),[S,T]=O.useState(!1);O.useEffect(()=>{e.duration&&e.duration.from&&e.duration.to&&m(e.duration.from)},[e.duration]),O.useEffect(()=>{D.current&&(E.setIcon&&D&&!S&&E.setIcon(D.current,"share"),E.setIcon&&D&&S&&E.setIcon(D.current,"chrome"))},[D.current,S]),O.useEffect(()=>{const L=WJ({memos:n,query:e,HideDoneTasks:!1}).filter(F=>Re.getTimeStampByDate(F.createdAt)>=d&&Re.getTimeStampByDate(F.createdAt)<d+Ba).filter(F=>F.deletedAt==="").sort((F,H)=>Re.getTimeStampByDate(F.createdAt)-Re.getTimeStampByDate(H.createdAt));u(L),o.setFinish()},[n,d,w.current,e]);const C=O.useCallback(()=>{Qe.setShowSiderbarInMobileView(!0)},[]),A=async()=>{var N;p.current&&((N=p==null?void 0:p.current)==null||N.closeDatePicker()),T(!0),setTimeout(()=>{if(!g.current){T(!1);return}let L;document.body.hasClass("theme-dark")?L="#232323":L="#eaeaea",Pm(g.current,{backgroundColor:L,pixelRatio:window.devicePixelRatio*2}).then(F=>{if(r!=null&&r.AutoSaveWhenOnMobile&&E.Platform.isMobile){const H=F.split("base64,")[1];Dm(H,"image/png").arrayBuffer().then(async _=>{let V;const U="png",z=Oi();for(const q in z)if(z[q]instanceof E.TFile){V=z[q];break}V!==void 0&&await a.vault.createBinary(await vault.getAvailablePathForAttachments(`Pasted Image ${E.moment().format("YYYYMMDDHHmmss")}`,U,V),_)})}jm({imgUrl:F}),T(!1)}).catch(()=>{T(!1)})},0)};return y.jsxs("div",{className:"daily-thinos-list-wrapper",ref:w,children:[y.jsxs("div",{className:"section-header-container",children:[y.jsxs("div",{className:"title-text",children:[y.jsx(lo,{when:t,children:y.jsx("button",{ref:N=>{N&&E.setIcon(N,"menu")},className:"btn action-btn clickable-icon",onClick:C})}),y.jsxs("span",{className:"go-home-btn",onClick:()=>{We.clearQuery(),We.setPathname("/")},children:["üè† ",k("Return To Home Page")]})]}),y.jsxs("div",{className:"header-right-section",children:[y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:N=>{E.setIcon&&N&&E.setIcon(N,"chevron-left")},className:"btn btn-text",onClick:()=>m(N=>N-Ba)}),y.jsx("span",{ref:N=>{E.setIcon&&N&&E.setIcon(N,"chevron-right")},className:"btn btn-text",onClick:()=>m(N=>N+Ba)}),y.jsx("span",{ref:D,className:mr("btn btn-text share-btn",S?"generating":""),onClick:A})]}),y.jsx(sx,{}),y.jsx(Bv,{})]})]}),y.jsx(Lm,{thinosCount:s.length,thinos:s}),y.jsx("div",{className:"daily-thinos-view-wrapper",children:y.jsxs("div",{ref:g,className:"daily-thinos-view-container",children:[y.jsx($J,{ref:p,currentDate:new Date(d),setCurrentDateStamp:m}),o.isLoading?y.jsx("div",{className:"tip-text-container",children:y.jsx("p",{className:"tip-text",children:k("Fetching data...")})}):s.length===0?y.jsx("div",{className:"tip-container",children:y.jsx("p",{className:"tip-text",children:k("Noooop!")})}):y.jsx("div",{className:"daily-thinos-list-container",children:s.map(N=>y.jsx(qJ,{thino:N},`${N.id}-${N.updatedAt}`))})]})})]})},JJ={"/recycle":y.jsx(HJ,{}),"/setting":y.jsx(YJ,{}),"/archive":y.jsx(VJ,{}),"/review":y.jsx(ZJ,{}),"/daily":y.jsx(GJ,{}),"*":y.jsx(gJ,{})},ux=e=>t=>{for(const n of Object.keys(e))if(n===t)return e[n];return e["*"]},KJ=ux(LJ),QJ=ux(JJ);function XJ({app:e}){const{locationState:{pathname:t},dailyNotesState:{settings:n}}=O.useContext(wt);return O.useEffect(()=>{Te.fetchAllMemos()},[]),!yI()&&!e.plugins.getPlugin("periodic-notes")&&(n!=null&&n.EnabledLocationList.find(r=>r.value==="DAILY"))&&new E.Notice(k("Check if you opened Daily Notes Plugin Or Periodic Notes Plugin")),y.jsx(Sl,{store:Ee,context:wt,children:KJ(t)})}const Hr="thino_view";class eK extends E.EditorSuggest{constructor(n,r){super(n);me(this,"root");me(this,"editor");me(this,"cursor");me(this,"plugin");this.plugin=r,this.suggestEl.toggleClass("thino-date-selector",!0)}checkInMemosView(n){var o;const r=n.containerEl;if(!r)return!1;const a=(o=r.parentElement)==null?void 0:o.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}onTrigger(n,r){const o=r.getLine(n.line)[n.ch-1];return this.checkInMemosView(r)&&o==="@"?(this.cursor=n,this.editor=r,E.Platform.isMobile?(new uE(this.app,"text",s=>{this.selectSuggestion(parseInt(s),new MouseEvent("click"))}).open(),null):{start:{line:n.line,ch:n.ch-1},end:n,query:""}):null}getSuggestions(){return[parseInt(E.moment().startOf("day").format("x"))]}renderSuggestion(n,r){r.empty(),this.root=ms.createRoot(r),this.root.render(y.jsx(J.StrictMode,{children:y.jsx(Am,{className:"editor-date-picker",datestamp:n,handleDateStampChange:this.selectSuggestion.bind(this)})}))}selectSuggestion(n,r){var u,d,m;if(r instanceof KeyboardEvent||r instanceof PointerEvent&&!r.target.closest(".day-item"))return;const a=(u=this.app.workspace.getLeavesOfType("thino_view")[0])==null?void 0:u.view;(d=a==null?void 0:a.contentEl.find(".action-btn.list-or-task.list"))==null||d.click();let o="",s="";switch(this.plugin.settings.InsertDateFormat){case"Dataview":o="[due::",s="]";break;case"Tasks":o="üìÜ";break}this.editor.replaceRange(o+E.moment(n).format("YYYY-MM-DD")+s,{line:this.cursor.line,ch:this.cursor.ch-1},this.cursor),(m=this.root)==null||m.unmount(),this.close()}}class tK extends E.EditorSuggest{constructor(n,r){super(n);me(this,"root");me(this,"editor");me(this,"cursor");me(this,"plugin");me(this,"memos",[]);this.plugin=r,this.memos=Te.getState().memos.filter(a=>!a.deletedAt&&a.rowStatus!=="ARCHIVED")}checkInMemosView(n){var o;const r=n.containerEl;if(!r)return!1;const a=(o=r.parentElement)==null?void 0:o.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const a=E.prepareFuzzySearch(n);return r.map(o=>{const s=a(o.content);return s?{item:o,match:s}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r))return null;const o=r.getLine(n.line).slice(0,n.ch);if(o.lastIndexOf("~")===-1)return null;const s=o.slice(o.lastIndexOf("~")+1,n.ch);if(o[o.lastIndexOf("~")-1]!==" "&&o.lastIndexOf("~")!==0)return null;const u=s.trim();return this.memos=Te.getState().memos.filter(d=>!d.deletedAt&&d.rowStatus!=="ARCHIVED"),{start:{line:n.line,ch:n.ch-u.length},end:n,query:u}}getSuggestions(n){return n.query?this.fuzzySearchItemsOptimized(n.query,this.memos).sort((a,o)=>o.match.score-a.match.score).map(a=>a.item).map(a=>({time:a.createdAt,id:a.id,content:a.content})):this.memos.map(a=>({time:a.createdAt,id:a.id,content:a.content}))}renderSuggestion(n,r){r.toggleClass("thino-suggestion",!0),r.createEl("div",{cls:"thino-suggestion-time",text:n.time}),r.createEl("div",{cls:"thino-suggestion-container"}).createEl("div",{cls:"thino-suggestion-content",text:n.content})}selectSuggestion(n){const r=n.id;this.context.editor.replaceRange("MARK: [@THINO]("+r+")",{line:this.context.end.line,ch:this.context.start.ch-1},this.context.end)}}class nK{constructor(){me(this,"path","/fake-file-that-generated-for-thino.png");me(this,"basename","fake-file-that-generated-for-thino");me(this,"extension","png");me(this,"deleted",!1);me(this,"name","fake-file-that-generated-for-thino.png");me(this,"parent",null);me(this,"stat");me(this,"vault",null)}static[Symbol.hasInstance](t){return t instanceof E.TFile}setPath(t){}getNewPathAfterRename(t){}getShortName(){}cache(t){}updateCacheLimit(){}}function rK(e,t){try{const n=ms.createRoot(e);return n.render(y.jsx(J.StrictMode,{children:y.jsx(Sl,{store:Ee,context:wt,children:y.jsx(xd,{editorType:"inline",destroy:t})})})),n}catch(n){console.error(n)}}class yl extends E.ItemView{constructor(n,r){super(n);me(this,"scope",new E.Scope(this.app.scope));me(this,"root");me(this,"mobileHeaderRoot");me(this,"plugin");me(this,"hoverPopover");me(this,"memosComponent");me(this,"editor",null);me(this,"navigation",!1);me(this,"file",new nK);me(this,"handleUpdateInstance",n=>{this.editor=n.editor});this.plugin=r,this.registerScope()}getDisplayText(){return"Thino"}getIcon(){return"Memos"}getViewType(){return Hr}getMode(){return"source"}registerScope(){const{scope:n}=this;n.register(["Mod"],"Enter",()=>{});for(let r=0;r<Md.length-1;r++)n.register(["Alt"],(r+1).toString(),()=>{});n.register([],"i",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-textarea"))}),n.register(["Mod"],"f",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"o",r=>{const a=r.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.hasClass("cm-line")||a.hasClass("cm-content")||(r.preventDefault(),this.plugin.app.workspace.trigger("focus-on-searchBar"))}),n.register([],"Escape",()=>{setTimeout(()=>{this.plugin.app.workspace.trigger("blur-on-memos")},20)})}async onFileDeleted(n){var d,m,p;const r=Zh(n,"day"),a=n.path.contains(".thino")&&n.path.contains(".canvas"),o=n.path.contains(".thino")&&n.path.contains(".md"),s=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",u=(p=((m=n.parent)==null?void 0:m.path)||n.path)==null?void 0:p.contains(s==null?void 0:s.trim());(r||a&&this.plugin.settings.EnabledLocationList.find(g=>g.value==="CANVAS"))&&(await Te.removeMemosInFile(n),Te.updateTagsState()),u&&this.plugin.settings.EnabledLocationList.find(g=>g.value==="MULTI")&&(await Te.removeMemosInFile(n,s),Te.updateTagsState()),o&&this.plugin.settings.EnabledLocationList.find(g=>g.value==="FILE")&&(await Te.removeMemosInFile(n),Te.updateTagsState())}async onFileModified(n){var d;if(Qe.getState().changedByMemos){Qe.setChangedByMemos(!1);return}const r=Zh(n,"day"),a=n.path.contains(".thino")&&n.path.contains(".canvas"),o=n.path.contains(".thino")&&n.path.contains(".md"),s=((d=this.plugin.settings)==null?void 0:d.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",u=n.parent.path.contains(s==null?void 0:s.trim());if(r||a&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="CANVAS")){await Te.updateMemosInFile(n),Te.updateTagsState();return}u&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="MULTI")&&(await Te.updateMemosInFile(n,s),Te.updateTagsState()),o&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="FILE")&&(await Te.updateMemosInFile(n),Te.updateTagsState())}async onFileCreated(n){var r;if(this.app.workspace.layoutReady&&this.memosComponent){const a=Zh(n,"day"),o=n.path.contains(".thino")&&n.path.contains(".canvas"),s=n.path.contains(".thino")&&n.path.contains(".md"),u=((r=this.plugin.settings)==null?void 0:r.MemoOtherSaveLocation.MemoDefaultMultiFilePath)||"Thino",d=n.parent.path.contains(u==null?void 0:u.trim());if(a){await rt.updateDailyNotes(n,!1),await Te.updateMemosInFile(n),Te.updateTagsState();return}if(o&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="CANVAS")){await Te.updateMemosInFile(n),Te.updateTagsState();return}d&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="MULTI")&&(await Te.updateMemosInFile(n,u),Te.updateTagsState()),s&&this.plugin.settings.EnabledLocationList.find(m=>m.value==="FILE")&&(await Te.updateMemosInFile(n),Te.updateTagsState())}}async onResize(){var r;super.onResize();const n=this.leaf;if(n&&n.height!==0){if(n.view.containerEl.toggleClass("tiny-view",n.width<600),n.view.containerEl.toggleClass("waterfall-small-group",n.width<1300),n.width>950){n.view.containerEl.classList.toggle("mobile-view",!1),Qe.setIsMobileView(n.width<=950);return}if((r=this.plugin.settings)!=null&&r.ShowLeftSideBar&&!E.Platform.isMobile)return;n.view.containerEl.classList.toggle("mobile-view",!0),Qe.setIsMobileView(n.width<=950)}}appendToHeader(){const n=this.leaf.view.titleContainerEl;n&&(this.mobileHeaderRoot=ms.createRoot(n),this.mobileHeaderRoot.render(y.jsx(J.StrictMode,{children:y.jsx(Sl,{store:Ee,context:wt,children:y.jsx(av,{})})})))}async onOpen(){this.navigation=this.plugin.settings.navigation,await this.onResize(),this.onFileCreated=this.onFileCreated.bind(this),this.onFileDeleted=this.onFileDeleted.bind(this),this.onFileModified=this.onFileModified.bind(this),E.Platform.isTablet&&document.body.toggleClass("is-tablet",!0),E.Platform.isMobile&&!E.Platform.isTablet&&this.appendToHeader(),this.registerEvent(this.app.vault.on("create",this.onFileCreated)),this.registerEvent(this.app.vault.on("delete",this.onFileDeleted)),this.registerEvent(this.app.vault.on("modify",E.debounce(this.onFileModified,2e3,!0)));try{this.root=ms.createRoot(this.contentEl),rt.setView(this),this.root.render(y.jsx(J.StrictMode,{children:y.jsx(XJ,{app:this.plugin.app})}))}catch(n){console.error(n)}}onunload(){super.onunload(),this.root.unmount()}}const F2={Memos:'<svg t="1641348507339" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2120" width="100" height="100"><path d="M126.692653 478.099639l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356 0 18.992434 15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297C161.116003 493.523561 145.706067 478.099639 126.692653 478.099639zM244.662333 243.526943c13.742566-13.110184 14.310011-34.948836 1.185841-48.706388l-62.644762-65.668806c-13.128167-13.762547-34.974811-14.229091-48.717377-1.118906s-14.261059 34.911872-1.132893 48.674419l62.644762 65.668806C209.123074 256.13262 230.919767 256.637127 244.662333 243.526943zM543.066631 957.422083l-60.603757 0c-18.654764 0-33.794964 15.147193-33.794964 33.862898 0 18.661757 15.1402 32.71502 33.794964 32.71502l60.603757 0c18.654764 0 33.794964-14.053262 33.794964-32.71502C576.861595 972.568277 561.721395 957.422083 543.066631 957.422083zM988.076617 479.050709l-90.757281 0c-19.019408 0-34.437336 15.423923-34.437336 34.417356s15.416929 34.477297 34.437336 34.477297l90.757281 0c19.013414 0 34.42335-15.484863 34.42335-34.477297S1007.09003 479.050709 988.076617 479.050709zM512.268737 192.765564c-172.737143 0-312.75527 150.079292-312.75527 322.746503 0 125.630192 74.080583 233.957298 180.936128 283.703669l0 84.51838c0 16.762614 15.410935 31.35435 34.42335 31.35435 0.598415 0 1.193833-0.014985 1.785255-0.042958 0.618395 0.026974 1.239788 0.042958 1.867175 0.042958l187.479731 0c5.905227 0 11.455802-1.220807 16.288078-3.477601 12.231044-4.657447 20.795671-15.383962 20.795671-27.87575l0-84.052835c107.391021-49.534578 181.935151-158.147405 181.935151-284.168214C825.024007 342.843857 684.997888 192.765564 512.268737 192.765564zM574.863548 742.713968l0 80.17063c0 3.159911-0.221783 5.976158-0.642372 8.496694l0 19.092336-124.910895 0 0-17.71768c-0.423586-2.856208-0.642372-6.123015-0.642372-9.870351l0-80.443363c-99.204024-27.75387-171.970892-118.821847-171.970892-226.930167 0-130.094827 105.4689-245.507007 235.571719-245.507007s235.563727 115.41218 235.563727 245.507007C747.832465 623.984031 674.578074 715.293772 574.863548 742.713968zM895.407204 129.328576c-13.429872-13.429872-35.233558-13.439862-48.677416 0.004995l-64.174267 64.175266c-13.448853 13.448853-13.443858 35.257534-0.013986 48.687406 13.429872 13.429872 35.281511 13.477825 48.730364 0.028972l64.175266-64.175266C908.889025 164.605092 908.837076 142.758448 895.407204 129.328576zM511.796199 159.617967c18.992434 0 34.417356-15.410935 34.417356-34.42335l0-90.757281c0-19.019408-15.423923-34.437336-34.417356-34.437336-18.992434 0-34.477297 15.416929-34.477297 34.437336l0 90.757281C477.317903 144.208031 492.802766 159.617967 511.796199 159.617967z" fill="currentColor" p-id="2121"></path></svg>'};function aK(){Object.keys(F2).forEach(e=>{E.addIcon(e,F2[e])})}class P2 extends dE{fuzzySearchItemsOptimized(t,n){const r=E.prepareFuzzySearch(t);return n.map(a=>{const o=r(a.path);return o?{item:a,match:o,score:o.score}:null}).sort((a,o)=>(o==null?void 0:o.score)-(a==null?void 0:a.score)).filter(Boolean)}getSuggestions(t){const r=app.vault.getFiles().filter(o=>["png","jpg","jpeg","gif"].includes(o.extension)),a=t.toLowerCase();return this.fuzzySearchItemsOptimized(a,r).map(o=>o.item)}renderSuggestion(t,n){var o;const r=t.basename,a=((o=t.parent)==null?void 0:o.path)||"";n.toggleClass("thino-image-suggest-item",!0),n.createSpan({cls:"suggestion-name",text:r}),n.createSpan({cls:"suggestion-path",text:a})}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}}const db=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const j2=typeof TextEncoder=="function"?new TextEncoder:void 0,oK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vh=Array.prototype.slice.call(oK);(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(Vh);const Di=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const iK=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),sK=e=>{let t,n,r,a,o="";const s=e.length%3;for(let u=0;u<e.length;){if((n=e.charCodeAt(u++))>255||(r=e.charCodeAt(u++))>255||(a=e.charCodeAt(u++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,o+=Vh[t>>18&63]+Vh[t>>12&63]+Vh[t>>6&63]+Vh[t&63]}return s?o.slice(0,s-3)+"===".substring(s):o},dx=typeof btoa=="function"?e=>btoa(e):db?e=>Buffer.from(e,"binary").toString("base64"):sK,lK=db?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,a=e.length;r<a;r+=4096)n.push(Di.apply(null,e.subarray(r,r+4096)));return dx(n.join(""))},cK=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Di(192|t>>>6)+Di(128|t&63):Di(224|t>>>12&15)+Di(128|t>>>6&63)+Di(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Di(240|t>>>18&7)+Di(128|t>>>12&63)+Di(128|t>>>6&63)+Di(128|t&63)}},uK=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,dK=e=>e.replace(uK,cK),L2=db?e=>Buffer.from(e,"utf8").toString("base64"):j2?e=>lK(j2.encode(e)):e=>dx(dK(e)),fK=(e,t=!1)=>t?iK(L2(e)):L2(e),aw=E.Platform.isDesktop&&require("os"),fx=async()=>{var r,a;let e="";if(E.Platform.isDesktop)e=await zn();else{const o=await((r=window.Capacitor)==null?void 0:r.Plugins.Device.getId());e=o.identifier||o.uuid}let t;if(aw)t=JSON.stringify({hostname:aw.hostname(),platform:aw.platform(),machineid:e});else{const o=await((a=window.Capacitor)==null?void 0:a.Plugins.Device.getInfo()),s=o==null?void 0:o.model,u=o==null?void 0:o.platform;t=JSON.stringify({hostname:s||("mobile"+E.Platform.isMobile?Math.random().toString(36).substring(7):""),platform:u||"mobile",machineid:e})}return fK(t)},hK=async()=>{var t;let e="";if(E.Platform.isDesktop)e=await zn();else{const n=await((t=window.Capacitor)==null?void 0:t.Plugins.Device.getId());e=n.identifier||n.uuid}return e},mK={General:"chef-hat",Thino:"Memos",Theme:"brush",Share:"share-2",Advanced:"cog"},hx=[{value:"DAILY",target:"ProcessEntriesBelow",insert:"InsertAfter"},{value:"CANVAS",target:"MemoDefaultCanvasPath"},{value:"MULTI",target:"MemoDefaultMultiFilePath"},{value:"FILE",target:"MemoDefaultSingleFilePath"}],Oo={StartDate:"Sunday",InsertAfter:"# Journal",UserName:"THINO üòâ",ProcessEntriesBelow:"",Language:"en",SaveMemoButtonLabel:"NOTE",SaveMemoButtonIcon:"‚úçÔ∏è",ShareFooterStart:"{ThinoNum} Thino {UsedDay} Day",ShareFooterEnd:"‚úçÔ∏è by {UserName}",DefaultPrefix:"List",UseDailyOrPeriodic:"Daily",InsertDateFormat:"Tasks",DefaultEditorLocation:"Top",UseButtonToShowEditor:!1,FocusOnEditor:!0,OpenDailyMemosWithMemos:!0,HideDoneTasks:!1,ShowTaskLabel:!1,MobileAndDesktop:"All",OpenMemosAutomatically:!1,ShowTime:!0,ShowDate:!0,AddBlankLineWhenDate:!1,AutoSaveWhenOnMobile:!1,DeleteFileName:"delete",QueryFileName:"query",UseVaultTags:!1,SetCustomBackgroundImage:!1,SetCustomMemoFooter:!1,DefaultLightBackgroundImage:"",DefaultDarkBackgroundImage:"",DefaultMemoComposition:"{TIME} {CONTENT}",CommentOnMemos:!1,CommentsInOriginalNotes:!1,FetchMemosMark:"#memo",FetchMemosFromNote:!1,ShowCommentOnMemos:!1,ShowLeftSideBar:!1,MemoListView:"list",MemoSaveLocation:"DAILY",MemoOtherSaveLocation:{MemoDefaultCanvasPath:"basic.thino.canvas",MemoDefaultMultiFilePath:"Thino",MemoDefaultSingleFilePath:"basic.thino.md"},MemoDailyTarget:5,HeatmapColorScheme:"default",EnabledHttpApi:!1,HttpApiIpType:"localhost",HttpApiPort:"43999",AutoDownloadImage:!1,EditorType:"obsidian",EnabledLocationList:hx,DeleteThinoDirectly:!1,CaptureKey:{EnableCaptureKey:!1,OpenThinoGlobally:"CommandOrControl+Shift+T",ShowNearMouse:!1},startSync:!1,tokenForVerify:{},saveThinoType:"FILE",showDayMark:!1,dayMarkRange:"day",navigation:!1,password:"",needVerify:!1,addTagAutomatically:!1,addTagPosition:"End",addTagWithNewline:!1,chatViewStyle:"default",MomentsBackgroundImage:"https://images.pexels.com/photos/531767/pexels-photo-531767.jpeg",MomentsIcon:"https://images.pexels.com/photos/256514/pexels-photo-256514.jpeg",MomentsQuote:"Share your thino with the world",DefaultThemeForThino:"classic",LastUpdatedVersion:"0.0.0"};function pK({plugin:e}){const{dailyNotesState:{verifyState:t}}=O.useContext(wt),[n,r]=O.useState(!1),[a,o]=O.useState(!1),[s,u]=O.useState(""),[d,m]=O.useState("");O.useEffect(()=>{hK().then(w=>{m(w)})},[]);const p=async()=>{var T;const w=s,D=!E.Platform.isDesktop&&await((T=window.Capacitor)==null?void 0:T.Plugins.Device.getId()),S=E.Platform.isDesktop?await zn():D.identifier||D.uuid;w&&(e.settingTab.updateSettings("tokenForVerify",{...e.settings.tokenForVerify,[S]:w}),e.verify().then(C=>{C&&(r(!0),Qe.setRefresh(!0),setTimeout(()=>{e.settingTab.display()},200),e.registerToolbarCheck()),new E.Notice(k(C?"Verify successfully":"Failed to verify"))}).catch(C=>{new E.Notice(k("Failed to verify"))}))},g=async w=>{u(w)};return y.jsx("div",{className:"thino-verify-component",children:t?y.jsxs("div",{className:"thino-verify-content verified",children:[y.jsx("div",{className:"thino-verified-text",children:k("You have verified your account. Congrats!")}),y.jsx("div",{className:"thino-description-link",children:y.jsxs("p",{children:[k("If you have any questions, please contact us."),y.jsx("span",{className:"thino-url",onClick:()=>{const w=localStorage.getItem("language");w&&(w==="zh"||w==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})})]}):y.jsxs("div",{className:"thino-verify-content",children:[y.jsxs("div",{className:"thino-description-link",children:[k("You can buy a license from")+"->",y.jsxs("span",{className:"thino-url",onClick:()=>{const w=localStorage.getItem("language");w&&(w==="zh"||w==="zh-TW")?window.open("https://pkmer.cn/products/thino"):window.open("https://thino.pkmer.net/en/#price")},children:[" ","PKMer"]})]}),y.jsx("textarea",{className:"thino-verify-textarea",value:s,onChange:w=>g(w.target.value),placeholder:k("Input activation code here")}),y.jsxs("div",{className:"thino-button-container",children:[y.jsxs("div",{className:"thino-button-group",children:[y.jsx("button",{onClick:async()=>{try{const w=await fx();await navigator.clipboard.writeText(w),o(!0)}catch(w){console.error(w),new E.Notice("Failed to copy id");return}new E.Notice(k("Copied to clipboard Successfully"))},children:k("Copy Thino id")}),y.jsx("button",{onClick:()=>{if(!a){new E.Notice(k("Please copy Thino id first"));return}const w=localStorage.getItem("language");w&&(w==="zh"||w==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&getCode"):window.open("https://pkmer.net/en/userprofile/#tab-21&getCode"),r(!0)},children:k("Get activation code")}),s&&y.jsx(y.Fragment,{children:y.jsx("button",{onClick:async()=>{await p()},children:k("Verify")})})]}),n?y.jsx("p",{children:k("After you verify your account, please refresh this page.")}):""]}),y.jsxs("div",{className:"thino-description-link",children:[k("If you have any questions, please contact us."),y.jsx("span",{className:"thino-url",onClick:()=>{const w=localStorage.getItem("language");w&&(w==="zh"||w==="zh-TW")?window.open("https://pkmer.cn"):window.open("https://thino.pkmer.net/en/")},children:"@ PKMer"})]})]})})}class gK extends E.PluginSettingTab{constructor(n,r){super(n,r);me(this,"plugin");me(this,"applyDebounceTimer",0);me(this,"tabContent",new Map);me(this,"selectedTab","General");me(this,"search");me(this,"searchSettingInfo",new Map);me(this,"searchZeroState");me(this,"navigateEl");me(this,"passwordMatched",!1);me(this,"root");me(this,"debounceApplySettingsUpdate",E.debounce(async()=>{await this.plugin.saveSettings()},100,!0));me(this,"debounceDisplay",E.debounce(async()=>{await this.display()},300,!0));this.plugin=r}updateSettings(n,r){this.plugin.settings={...this.plugin.settings,[n]:r},this.applySettingsUpdate()}applySettingsUpdate(){this.debounceApplySettingsUpdate(),Te.updateTagsState()}async hide(){var n;(n=this.root)==null||n.unmount(),this.passwordMatched=!1}async display(){var n;await this.plugin.loadSettings(),this.root&&((n=this.root)==null||n.unmount()),this.containerEl.empty(),this.containerEl.toggleClass("memos-settings",!0),E.Platform.isMobile&&this.containerEl.toggleClass("memos-mobile",!0),this.generateSettingsTitle(),this.addTabHeader()}generateSettingsTitle(){const n=this.containerEl.createDiv("memos-setting-title");n.createEl("h2",{text:"Thino"}),this.generateSearchBar(n)}addTabHeader(){const n=this.containerEl.createEl("nav",{cls:"memos-setting-header"});this.navigateEl=n.createDiv("memos-setting-tab-group");const r=this.containerEl.createDiv("memos-setting-content");this.updateOldData(),this.createTabAndContent("General",this.navigateEl,r,(a,o)=>this.generateGeneralSettings(o,a)),this.createTabAndContent("Thino",this.navigateEl,r,(a,o)=>this.generateMemosSettings(o,a)),this.createTabAndContent("Theme",this.navigateEl,r,(a,o)=>this.generateThemeSettings(o,a)),this.createTabAndContent("Share",this.navigateEl,r,(a,o)=>this.generateShareSettings(o,a)),this.createTabAndContent("Advanced",this.navigateEl,r,(a,o)=>this.generateAdvancedSettings(o,a)),this.createSearchZeroState(r)}updateOldData(){this.plugin.settings.UserName.startsWith("MEMO ")&&(this.plugin.settings.UserName="THINO üòâ"),this.plugin.settings.ShareFooterStart.contains("{Memo")&&(this.plugin.settings.ShareFooterStart=this.plugin.settings.ShareFooterStart.replace("{MemosNum}","{ThinoNum}").replace("memos","thino")),this.applySettingsUpdate()}generateSearchBar(n){const r=new E.Setting(n);r.settingEl.style.border="none",r.addSearch(a=>{this.search=a}),this.search.setPlaceholder(k("Search all settings")),this.search.inputEl.oninput=()=>{for(const a of this.tabContent){const o=a[1];o.navButton.removeClass("memos-navigation-item-selected"),o.content.show(),o.heading.show();const s=this.search.getValue();this.selectedTab==""&&s.trim()!=""&&this.searchSettings(s.toLowerCase()),this.selectedTab=""}this.navigateEl.addClass("memos-setting-searching")},this.search.inputEl.onblur=()=>{this.navigateEl.removeClass("memos-setting-searching")},this.search.onChange(a=>{var o;if(a===""){this.triggerTabChange((o=this.tabContent.get("General"))==null?void 0:o.navButton,"General");return}this.searchSettings(a.toLowerCase())})}triggerTabChange(n,r){if(this.selectedTab==r)return;n.toggleClass("memos-navigation-item-selected",!0);const a=this.tabContent.get(r);if((a==null?void 0:a.content).show(),this.selectedTab!=""){const o=this.tabContent.get(this.selectedTab);o==null||o.navButton.removeClass("memos-navigation-item-selected"),(o==null?void 0:o.content).hide()}else{this.searchZeroState.hide();for(const o of this.searchSettingInfo)for(const s of o[1])s.containerEl.show();for(const o of this.tabContent){const s=o[1];s.heading.hide(),r!==o[0]&&s.content.hide()}}this.selectedTab=r}createTabAndContent(n,r,a,o){const s=this.selectedTab===n,u=r.createDiv("memos-navigation-item");u.toggleClass("memos-desktop",!0),E.setIcon(u.createEl("div",{cls:"memos-navigation-item-icon"}),mK[n]),u.createSpan({text:k(n)}),u.onclick=()=>{this.triggerTabChange(u,n)};const d=a.createDiv("memos-tab-settings"),m=d.createEl("h2",{cls:"memos-setting-heading",text:n+" Settings"});m.hide(),d.id=n.toLowerCase().replace(" ","-"),s?u.addClass("memos-navigation-item-selected"):d.hide(),o&&o(d,n),this.tabContent.set(n,{content:d,heading:m,navButton:u})}searchSettings(n){var o;const r=new Set,a=(s,u)=>{s.show(),r.has(u)||r.add(u)};for(const s of this.searchSettingInfo){const u=s[0],d=s[1];for(const m of d)if(n.trim()===""||(o=m.alias)!=null&&o.includes(n)||m.description.includes(n)||m.name.includes(n))a(m.containerEl,u);else if(m.options&&m.options.length>0)for(const p of m.options){if(p.description.toLowerCase().includes(n)||p.name.toLowerCase().includes(n)){a(m.containerEl,u);break}else if(p.options){for(const g of p.options)if(g.description.toLowerCase().includes(n)||g.value.toLowerCase().includes(n)){a(m.containerEl,u);break}}m.containerEl.hide()}else m.containerEl.hide()}for(const s of this.tabContent)r.has(s[0])?s[1].heading.show():s[1].heading.hide();r.size===0?this.searchZeroState.show():this.searchZeroState.hide()}addSettingToMasterSettingsList(n,r,a="",o="",s=[],u=""){var m;const d={containerEl:r,name:a.toLowerCase(),description:o.toLowerCase(),options:s,alias:u};this.searchSettingInfo.has(n)?(m=this.searchSettingInfo.get(n))==null||m.push(d):this.searchSettingInfo.set(n,[d])}createSearchZeroState(n){this.searchZeroState=n.createDiv(),this.searchZeroState.hide(),this.searchZeroState.createEl(E.Platform.isMobile?"h3":"h2",{text:"No settings match search"}).style.textAlign="center"}generateGeneralSettings(n,r){this.customHeading(n,r)}async generateThemeSettings(n,r){var d;const a=rt.getState().verifyState,o=!E.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=E.Platform.isDesktop?await zn():o.identifier||o.uuid,u=a&&(a==null?void 0:a.appId)===s;await this.customNameAndTheme(n,r,u)}async generateMemosSettings(n,r){var d;const a=rt.getState().verifyState,o=!E.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=E.Platform.isDesktop?await zn():o.identifier||o.uuid,u=a&&(a==null?void 0:a.appId)===s;this.addMemoSettings(n,r),this.addThinoProSettings(n,r,u)}generateShareSettings(n,r){this.copyMemosSettings(n,r),this.shareMemosSettings(n,r)}async generateAdvancedSettings(n,r){var d;this.saveDataSettings(n,r),this.fetchDataSettings(n,r),this.navigationSettings(n,r);const a=rt.getState().verifyState,o=!E.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=E.Platform.isDesktop?await zn():o.identifier||o.uuid,u=a&&(a==null?void 0:a.appId)===s;this.customFileNameSettings(n,r,u),this.setGlobalSettings(n,r,u)}async customNameAndTheme(n,r,a){new Ke(r,this).setName(k("Theme for Thino")).setDesc(k("Set the theme for Thino")).setTab(n).addDropdown(async s=>{s.addOption("modern","Modern"),s.addOption("classic","Classic"),s.setValue(this.plugin.settings.DefaultThemeForThino).onChange(async u=>{this.plugin.settings.DefaultThemeForThino=u,this.applySettingsUpdate()})}),new Ke(r,this).setTab(n).setHeading().setName(k("Theme Details"));let o;new Ke(r,this).setName(k("Heatmap Color Scheme")).setDesc(k("Set different color scheme for heatmap.")).setTab(n).addDropdown(async s=>{o=s,o.addOption("default","default"),o.addOption("gray","gray"),o.addOption("grass","grass"),o.addOption("frame","frame"),o.addOption("olive","olive"),o.addOption("ice","ice"),o.addOption("magenta","magenta"),o.setValue(this.plugin.settings.HeatmapColorScheme).onChange(async u=>{this.plugin.settings.HeatmapColorScheme=u,this.applySettingsUpdate()})}),new Ke(r,this).setName(k("Hide done tasks in Memo list")).setDesc(k("Hide all done tasks in Memo list. Show done tasks by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.HideDoneTasks).onChange(async u=>{this.plugin.settings.HideDoneTasks=u,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Show Tasks Label")).setDesc(k("Show tasks label near the time text. False by default")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.ShowTaskLabel).onChange(async u=>{this.plugin.settings.ShowTaskLabel=u,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Save Memo button label")).setDesc(k("The text shown on the save Memo button in the UI. 'NOTEIT' by default.")).setTab(n).addText(s=>s.setPlaceholder(Oo.SaveMemoButtonLabel).setValue(this.plugin.settings.SaveMemoButtonLabel).onChange(async u=>{this.plugin.settings.SaveMemoButtonLabel=u,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Save Memo button icon")).setDesc(k("The icon shown on the save Memo button in the UI.")).setTab(n).addText(s=>s.setPlaceholder(Oo.SaveMemoButtonIcon).setValue(this.plugin.settings.SaveMemoButtonIcon).onChange(async u=>{this.plugin.settings.SaveMemoButtonIcon=u,this.applySettingsUpdate()})),E.Platform.isDesktop&&new Ke(r,this).setName(k("Always Show Leaf Sidebar on PC")).setDesc(k("Show left sidebar on PC even when the leaf width is less than 875px. False by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.ShowLeftSideBar).onChange(async u=>{this.plugin.settings.ShowLeftSideBar=u,this.applySettingsUpdate()})),await this.getEditorLocation(r,n),new Ke(r,this).setHeading().setTab(n).setName(k("Pro Features")),this.addThinoDailyMarkSettings(n,r,a),new Ke(r,this).setName(k("Chat view style")).setDesc(k("Set the style of chat view")).setTab(n).addDropdown(async s=>{o=s,o.addOption("default","Default"),o.addOption("fluent","Fluent"),o.addOption("inline","Inline"),o.setValue(this.plugin.settings.chatViewStyle).onChange(async u=>{if(!a){fn();return}this.plugin.settings.chatViewStyle=u,this.applySettingsUpdate()})}),this.addThinoMomentsSettings(n,r,a)}addThinoDailyMarkSettings(n,r,a){let o;new Ke(r,this).setName(k("Show day mark on list mode")).setDesc(k("Show day mark on the top of daily range thino. False by default.")).setTab(n).addToggle(s=>s.setValue(this.plugin.settings.showDayMark).onChange(async u=>{if(!a){fn();return}this.plugin.settings.showDayMark=u,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.showDayMark&&new Ke(r,this).setName(k("Day mark range")).setDesc(k("Set the range of day mark. Day by default.")).setTab(n).addDropdown(async s=>{o=s,o.addOption("day","day"),o.addOption("week","week"),o.addOption("month","month"),o.addOption("quarter","quarter"),o.addOption("year","year"),o.setValue(this.plugin.settings.dayMarkRange).onChange(async u=>{this.plugin.settings.dayMarkRange=u,this.applySettingsUpdate()})})}addThinoMomentsSettings(n,r,a){new Ke(r,this).setTab(n).setName(k("Background image for moments view")).setDesc(k("Set the background image for moments view")).addText(o=>o.setPlaceholder("URL").setValue(this.plugin.settings.MomentsBackgroundImage).onChange(async s=>{a&&(this.plugin.settings.MomentsBackgroundImage=s,this.applySettingsUpdate())})),new Ke(r,this).setTab(n).setName(k("Icon for moments/chat view")).setDesc(k("Set the icon for moments/chat view")).addText(o=>o.setPlaceholder("URL").setValue(this.plugin.settings.MomentsIcon).onChange(async s=>{a&&(this.plugin.settings.MomentsIcon=s,this.applySettingsUpdate())})),new Ke(r,this).setTab(n).setName(k("Quote for moments view")).setDesc(k("Set the quote for moments view")).addText(o=>o.setPlaceholder("Input anything here").setValue(this.plugin.settings.MomentsQuote).onChange(async s=>{a&&(this.plugin.settings.MomentsQuote=s,this.applySettingsUpdate())}))}async getEditorLocation(n,r){let a;E.Platform.isMobile&&(new Ke(n,this).setName(k("Default editor position on mobile")).setDesc(k("Set the default editor position on Mobile, 'Top' by default.")).setTab(r).addDropdown(async o=>{a=o,a.addOption("Top",k("Top")),a.addOption("Bottom",k("Bottom")),a.setValue(this.plugin.settings.DefaultEditorLocation).onChange(async s=>{this.plugin.settings.DefaultEditorLocation=s,this.applySettingsUpdate(),setTimeout(()=>{this.display()},200)})}),this.plugin.settings.DefaultEditorLocation!=="Top"&&new Ke(n,this).setName(k("Use button to show editor on mobile")).setDesc(k("Set a float button to call editor on mobile. Only when editor located at the bottom works.")).setTab(r).addToggle(o=>o.setValue(this.plugin.settings.UseButtonToShowEditor).onChange(async s=>{this.plugin.settings.UseButtonToShowEditor=s,this.applySettingsUpdate()})))}customHeading(n,r){var D;new Ke(r,this).setName(k("User name in Memos")).setDesc(k("Set your user name here. 'Memos üòè' By default")).setTab(n).addText(S=>S.setPlaceholder(Oo.UserName).setValue(this.plugin.settings.UserName).onChange(async T=>{this.plugin.settings.UserName=T,this.applySettingsUpdate()}));let a=!1;const o=document.createDocumentFragment();o.createEl("span",{text:k("Connect to PKMer Sync, you can check it in ")});const s=localStorage.getItem("language");let u;s&&s==="zh"?u="https://pkmer.cn/products/UserProfile/#tab-21&activateSync":u="https://thino.pkmer.net/en/",o.createEl("a",{text:k("PKMer Sync"),attr:{href:u}});const d=!!((D=this.plugin.app)!=null&&D.loadLocalStorage("tokenForSync"));d&&new Ke(r,this).setHeading().setName(k("Sync service")).setTab(n),(s==="zh"||s==="zh-TW")&&new Ke(r,this).setName(k("Sync Thino via PKMer")).setDesc(o).setTab(n).addButton(S=>{var C;const T=(C=this.plugin.app)==null?void 0:C.loadLocalStorage("tokenForSync");S.setButtonText(k(T?"Unlink":"Link")).onClick(async()=>{var A;if(!T){const N=localStorage.getItem("language");N&&(N==="zh"||N==="zh-TW")?window.open("https://pkmer.cn/products/UserProfile/#tab-21&activateSync"):window.open("https://thino.pkmer.net/en/");return}if(!a){S.setButtonText(k("Confirm?")),a=!0;return}a=!1,T&&((A=this.plugin.app)==null||A.saveLocalStorage("tokenForSync",""),new E.Notice(k("Remove successfully"))),Qe.setRefresh(!0),setTimeout(()=>{this.display()},20)})}),(s==="zh"||s==="zh-TW")&&this.showSyncStatus(r,n),d&&new Ke(r,this).setHeading().setName(k("Pro verification status")).setTab(n);const m=document.createDocumentFragment(),p=m.createEl("div",{cls:"thino-activation"}),g=new Ke(r,this).setName(k("Activate Pro Version")).setDesc(m).setTab(n);g.settingEl.toggleClass("thino-activation-setting",!0),g.nameEl.toggleClass("thino-activation-title",!0),this.root=ms.createRoot(p),this.root.render(y.jsx(Sl,{store:Ee,context:wt,children:y.jsx(pK,{plugin:this.plugin})}));let w=!1;new Ke(r,this).setName(k("Deactivate")).setTab(n).addButton(S=>{S.setWarning().setButtonText(k("Remove")).onClick(async()=>{var A;if(!w){S.setButtonText(k("Confirm?")),w=!0;return}w=!1;const T=!E.Platform.isDesktop&&await((A=window.Capacitor)==null?void 0:A.Plugins.Device.getId()),C=E.Platform.isDesktop?await zn():T.identifier||T.uuid;this.plugin.settings.tokenForVerify[C]&&(delete this.plugin.settings.tokenForVerify[C],await this.plugin.saveSettings(),new E.Notice(k("Remove successfully"))),await this.plugin.verify(),Qe.setRefresh(!0),setTimeout(()=>{this.display()},20)})})}showSyncStatus(n,r){var o;(o=this.plugin.app)!=null&&o.loadLocalStorage("tokenForSync")&&(new Ke(n,this).setName(k("Save thino type when sync local")).setDesc(k("Set the default save thino type when sync local, FILE by default.")).setTab(r).addDropdown(async s=>{s.addOption("DAILY",k("DAILY")),s.addOption("FILE",k("FILE")),s.setValue(this.plugin.settings.saveThinoType).onChange(async u=>{this.plugin.settings.saveThinoType=u,this.applySettingsUpdate()})}),new Ke(n,this).setName(k("Sync Status")).setDesc(k("Start or stop sync")).setTab(r).addButton(s=>{s.setButtonText(this.plugin.settings.startSync?k("Stop"):k("Start")).onClick(async()=>{this.plugin.settings.startSync=!this.plugin.settings.startSync,await this.plugin.saveSettings(),Qe.setRefresh(!0),new E.Notice(this.plugin.settings.startSync?k("Start sync successfully"):k("Stop sync successfully")),setTimeout(()=>{this.display()},200)})}))}addMemoSettings(n,r){new Ke(r,this).setName(k("Use Tags In Vault")).setDesc(k("Use tags in vault rather than only in Memos. False by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.UseVaultTags).onChange(async s=>{this.plugin.settings.UseVaultTags=s,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Focus on editor when open memos")).setDesc(k("Focus on editor when open memos. Focus by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.FocusOnEditor).onChange(async s=>{this.plugin.settings.FocusOnEditor=s,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Open daily memos with open memos")).setDesc(k("Open daily memos with open memos. Open by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.OpenDailyMemosWithMemos).onChange(async s=>{this.plugin.settings.OpenDailyMemosWithMemos=s,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Open Memos when obsidian opens")).setDesc(k("When enable this, Memos will open when Obsidian opens. False by default.")).setTab(n).addDropdown(o=>{o.addOption("Desktop","Desktop"),o.addOption("Mobile","Mobile"),o.addOption("All","All"),o.setValue(this.plugin.settings.MobileAndDesktop).onChange(async s=>{this.plugin.settings.MobileAndDesktop=s,this.applySettingsUpdate()})}).addToggle(o=>o.setValue(this.plugin.settings.OpenMemosAutomatically).onChange(async s=>{this.plugin.settings.OpenMemosAutomatically=s,this.applySettingsUpdate()}));let a;new Ke(r,this).setName(k("Default prefix")).setDesc(k("Set the default prefix when create memo, 'List' by default.")).setTab(n).addDropdown(async o=>{a=o,a.addOption("List",k("List")),a.addOption("Task",k("Task")),a.setValue(this.plugin.settings.DefaultPrefix).onChange(async s=>{this.plugin.settings.DefaultPrefix=s,this.applySettingsUpdate()})}),new Ke(r,this).setName(k("Default insert date format")).setDesc(k("Set the default date format when insert date by @, 'Tasks' by default.")).setTab(n).addDropdown(async o=>{a=o,a.addOption("Tasks","Tasks"),a.addOption("Dataview","Dataview"),a.setValue(this.plugin.settings.InsertDateFormat).onChange(async s=>{this.plugin.settings.InsertDateFormat=s,this.applySettingsUpdate()})})}addThinoProSettings(n,r,a){new Ke(r,this).setHeading().setTab(n).setName(k("Pro Features")),new Ke(r,this).setName(k("Add tag automatically")).setDesc(k("Add tag to the end or beginning of the thino content when creating a thino and filtering tags")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.addTagAutomatically).onChange(async s=>{if(!a){fn();return}this.plugin.settings.addTagAutomatically=s,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.addTagAutomatically&&(new Ke(r,this).setName(k("Add tag position")).setDesc(k("Set the position of the tag when adding tag automatically")).setTab(n).addDropdown(async o=>{o.addOption("End",k("End")),o.addOption("Beginning",k("Beginning")),o.setValue(this.plugin.settings.addTagPosition).onChange(async s=>{this.plugin.settings.addTagPosition=s,this.applySettingsUpdate()})}),new Ke(r,this).setName(k("Add tag with new line")).setDesc(k("Add tag with new line when adding tag automatically")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.addTagWithNewline).onChange(async s=>{this.plugin.settings.addTagWithNewline=s,this.applySettingsUpdate()})))}memosCommentSettings(n,r){new Ke(r,this).setName(k("Allow Comments On Memos")).setDesc(k("You can comment on memos. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.CommentOnMemos).onChange(async o=>{this.plugin.settings.CommentOnMemos=o,this.applySettingsUpdate(),this.display()})),this.plugin.settings.CommentOnMemos&&(new Ke(r,this).setName(k("Always Show Memo Comments")).setDesc(k("Always show memo comments on memos. False by default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowCommentOnMemos).onChange(async o=>{this.plugin.settings.ShowCommentOnMemos=o,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Comments In Original DailyNotes/Notes")).setDesc(k("You should install Dataview Plugin ver 0.5.9 or later to use this feature.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.CommentsInOriginalNotes).onChange(async o=>{this.plugin.settings.CommentsInOriginalNotes=o,this.applySettingsUpdate()})))}copyMemosSettings(n,r){new Ke(r,this).setName(k("Show Time When Copy Results")).setDesc(k("Show time when you copy results, like 12:00. Copy time by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowTime).onChange(async o=>{this.plugin.settings.ShowTime=o,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Show Date When Copy Results")).setDesc(k("Show date when you copy results, like [[2022-01-01]]. Copy date by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.ShowDate).onChange(async o=>{this.plugin.settings.ShowDate=o,this.applySettingsUpdate(),this.debounceDisplay()})),this.plugin.settings.ShowDate&&new Ke(r,this).setName(k("Add Blank Line Between Different Date")).setDesc(k("Add blank line when copy result with date. No blank line by default.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.AddBlankLineWhenDate).onChange(async o=>{this.plugin.settings.AddBlankLineWhenDate=o,this.applySettingsUpdate()}))}shareMemosSettings(n,r){new Ke(r,this).setName(k("Save Shared Image To Folder For Mobile")).setDesc(k("Save image to folder for mobile. False by Default")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.AutoSaveWhenOnMobile).onChange(async o=>{this.plugin.settings.AutoSaveWhenOnMobile=o,this.applySettingsUpdate()})),this.customMemoFooter(n,r),new Ke(r,this).setName(k("Custom Background Image")).setDesc(k("Set custom background image.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.SetCustomBackgroundImage).onChange(async o=>{this.plugin.settings.SetCustomBackgroundImage=o,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomBackgroundImage&&(new Ke(r,this).setName(k("Background Image in Light Theme")).setDesc(k('Set background image in light theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new P2(a.inputEl),a.setPlaceholder(Oo.DefaultLightBackgroundImage).setValue(this.plugin.settings.DefaultLightBackgroundImage).onChange(async o=>{this.plugin.settings.DefaultLightBackgroundImage=o,this.applySettingsUpdate()})}),new Ke(r,this).setName(k("Background Image in Dark Theme")).setDesc(k('Set background image in dark theme. Set something like "Daily/one.png"')).setTab(n).addText(a=>{new P2(a.inputEl),a.setPlaceholder(Oo.DefaultDarkBackgroundImage).setValue(this.plugin.settings.DefaultDarkBackgroundImage).onChange(async o=>{this.plugin.settings.DefaultDarkBackgroundImage=o,this.applySettingsUpdate()})}))}customMemoFooter(n,r){new Ke(r,this).setName(k("Custom Memo Footer")).setDesc(k("Set custom memo footer.")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.SetCustomMemoFooter).onChange(async o=>{this.plugin.settings.SetCustomMemoFooter=o,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.SetCustomMemoFooter&&(new Ke(r,this).setName(k("Share Memos Image Footer Start")).setDesc(k("Set anything you want here, use {ThinoNum} to display Number of thino, {UsedDay} for days. '{ThinoNum} Thino {UsedDay} Days' By default")).setTab(n).addText(a=>a.setPlaceholder(Oo.ShareFooterStart).setValue(this.plugin.settings.ShareFooterStart).onChange(async o=>{this.plugin.settings.ShareFooterStart=o,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Share Memos Image Footer End")).setDesc(k("Set anything you want here, use {UserName} as your username. '‚úçÔ∏è By {UserName}' By default")).setTab(n).addText(a=>a.setPlaceholder(Oo.ShareFooterEnd).setValue(this.plugin.settings.ShareFooterEnd).onChange(async o=>{this.plugin.settings.ShareFooterEnd=o,this.applySettingsUpdate()})))}saveDataSettings(n,r){new Ke(r,this).setName(k("Default Memo Composition")).setDesc(k('Set default memo composition, you should use {TIME} as "HH:mm" and {CONTENT} as content. "{TIME} {CONTENT}" by default')).setTab(n).addText(o=>o.setPlaceholder(Oo.DefaultMemoComposition).setValue(this.plugin.settings.DefaultMemoComposition).setDisabled(!0).onChange(async s=>{this.plugin.settings.DefaultMemoComposition=s,this.applySettingsUpdate()}));let a;new Ke(r,this).setName(k("Default Editor Mode")).setDesc(k("Live-Preview Mode OR Source Mode.")).setTab(n).addDropdown(async o=>{a=o,a.addOption("obsidian",k("Live-preview")),a.addOption("memos",k("Source")),a.setValue(this.plugin.settings.EditorType).onChange(async s=>{this.plugin.settings.EditorType=s,this.applySettingsUpdate()})}),new Ke(r,this).setName(k("Delete Thino Directly")).setDesc(k("When delete thino directly, it will not be moved to trash. False by default.")).setTab(n).addToggle(o=>{o.setValue(this.plugin.settings.DeleteThinoDirectly).onChange(async s=>{this.plugin.settings.DeleteThinoDirectly=s,this.applySettingsUpdate()})})}async initHttpServer(n,r){var d;const a=rt.getState().verifyState,o=!E.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),s=E.Platform.isDesktop?await zn():o.identifier||o.uuid,u=a&&(a==null?void 0:a.appId)===s;new Ke(n,this).setName(k("Enable Local Http Server")).setTab(r).setDisabled(!u).addToggle(m=>m.setValue(this.plugin.settings.EnabledHttpApi).onChange(async p=>{if(!u){fn();return}this.plugin.settings.EnabledHttpApi=p,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.settings.EnabledHttpApi?this.plugin.initServer():this.plugin.stopServer(),this.display()},100)})),this.plugin.settings.EnabledHttpApi&&(new Ke(n,this).setName(k("Memos Http Server Port")).setDesc(k("Set memos http server port to listen. '43999' by default")).setTab(r).addText(m=>m.setPlaceholder(Oo.HttpApiPort).setValue(this.plugin.settings.HttpApiPort).onChange(async p=>{if(!u){fn();return}this.plugin.settings.HttpApiPort=p,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})),new Ke(n,this).setName(k("Auto Download Image")).setDesc(k("Auto download image when save to thino. 'false' by default")).setTab(r).setDisabled(!u).addToggle(m=>{m.setValue(this.plugin.settings.AutoDownloadImage).onChange(async p=>{if(!u){fn();return}this.plugin.settings.AutoDownloadImage=p,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}),new Ke(n,this).setName(k("Thino Http IP Type")).setDesc(k("Set Thino http server ip to listen. 'localhost' by default")).setTab(r).addDropdown(m=>{m.addOption("localhost","localhost"),m.addOption("127.0.0.1","127.0.0.1"),m.setValue(this.plugin.settings.HttpApiIpType).onChange(async p=>{if(!a||(a==null?void 0:a.appId)!==s){fn();return}this.plugin.settings.HttpApiIpType=p,this.applySettingsUpdate(),setTimeout(()=>{this.plugin.stopServer(),this.plugin.initServer()},1e3)})}))}fetchDataSettings(n,r){let a;new Ke(r,this).setName(k("Use which plugin's default configuration")).setDesc(k("Memos use the plugin's default configuration to fetch memos from daily, 'Daily' by default.")).setTab(n).addDropdown(async o=>{a=o,a.addOption("Daily",k("Daily")),a.addOption("Periodic","Periodic"),a.setValue(this.plugin.settings.UseDailyOrPeriodic).onChange(async s=>{this.plugin.settings.UseDailyOrPeriodic=s,this.applySettingsUpdate()})})}navigationSettings(n,r){new Ke(r,this).setName(k("Allow navigation from view to Thino or Thino to view")).setTab(n).addToggle(a=>a.setValue(this.plugin.settings.navigation).onChange(async o=>{this.plugin.settings.navigation=o,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Need password to unlock Thino")).setTab(n).addToggle(a=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(a.toggleEl.onclick=o=>{this.passwordMatched||(o.preventDefault(),new R2(this.app,this,this.plugin,s=>{a.setDisabled(!s),this.passwordMatched=s,this.debounceDisplay()}).open(),new E.Notice(k("Please input your password to change password settings")))}),a.setDisabled(this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched).setValue(this.plugin.settings.needVerify).onChange(async o=>{this.plugin.settings.needVerify=o,o&&(this.passwordMatched=!1),this.applySettingsUpdate(),this.debounceDisplay()})}),this.plugin.settings.needVerify&&new Ke(r,this).setName(k("Password to lock Thino")).setTab(n).addText(a=>{this.plugin.settings.needVerify&&this.plugin.settings.password&&!this.passwordMatched&&(a.inputEl.onclick=o=>{this.passwordMatched||(o.preventDefault(),new R2(this.app,this,this.plugin,s=>{a.inputEl.readOnly=!s,this.passwordMatched=s,this.debounceDisplay()}).open(),new E.Notice(k("Please input your password to change password settings")))}),a.inputEl.readOnly=this.plugin.settings.password&&this.plugin.settings.needVerify&&!this.passwordMatched,a.inputEl.oncopy=()=>!1,a.inputEl.type="password",a.setValue(this.plugin.settings.password).onChange(async o=>{this.plugin.settings.password=o,this.applySettingsUpdate()})})}setGlobalSettings(n,r,a){new Ke(r,this).setHeading().setTab(n).setName(k("Pro Features")),new Ke(r,this).setName(k("Default save location")).setDesc(k('Set the default save location for thino. "DAILY" by default')).setTab(n).addDropdown(async o=>{for(const s of this.plugin.settings.EnabledLocationList)o.addOption(s.value,k(s.value));o.setValue(this.plugin.settings.MemoSaveLocation||this.plugin.settings.EnabledLocationList[0].value).onChange(async s=>{if(!a){fn();return}this.plugin.settings.MemoSaveLocation=s,this.applySettingsUpdate()})}),this.initHttpServer(r,n),new Ke(r,this).setName(k("Enable opening thino globally")).setDesc(k("Enable opening thino globally. False by default.")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CaptureKey.EnableCaptureKey).onChange(async s=>{if(!a){fn();return}this.plugin.settings.CaptureKey.EnableCaptureKey=s,this.applySettingsUpdate(),setTimeout(()=>{this.display()},100)})),this.plugin.settings.CaptureKey.EnableCaptureKey&&(new Ke(r,this).setName(k("Key for opening thino globally")).setDesc(k("Set key for opening thino globally. CTRL + SHIFT + T by default.")).setTab(n).addText(o=>o.setPlaceholder(Oo.CaptureKey.OpenThinoGlobally).setValue(this.plugin.settings.CaptureKey.OpenThinoGlobally).onChange(async s=>{if(!a){fn();return}this.plugin.settings.CaptureKey.OpenThinoGlobally=s,this.applySettingsUpdate()})),new Ke(r,this).setName(k("Show thino near mouse")).setTab(n).addToggle(o=>o.setValue(this.plugin.settings.CaptureKey.ShowNearMouse).onChange(async s=>{if(!a){fn();return}this.plugin.settings.CaptureKey.ShowNearMouse=s,this.applySettingsUpdate()})))}checkInList(n){return this.plugin.settings.EnabledLocationList.find(r=>r.value===n)!==void 0}customFileNameSettings(n,r,a){var d;const o=document.createDocumentFragment(),s=o.createEl("div",{cls:"memo-save-location-desc"});for(const m of hx){const p=s.createEl("div",{cls:`memo-save-location-desc-item ${m.value}`}),g=p.createEl("span",{cls:"memo-save-location-desc-item-icon"});E.setIcon(g,((d=Md.find(C=>C.title===m.value))==null?void 0:d.icon)||""),p.createEl("span",{cls:"memo-save-location-desc-item-desc",text:`${k(m.value)}`});const w=p.createEl("span",{cls:"memo-save-location-desc-item-toggle"}),D=p.createEl("span",{cls:"memo-save-location-desc-item-setting"});m.value!=="DAILY"&&p.createEl("span",{cls:["memo-save-location-desc-item-pro","user-pro-badge"],text:"PRO"}),new E.ToggleComponent(w).setValue(this.checkInList(m.value)).onChange(async C=>{if(!a){fn();return}C?(await Te.updateTypeMemos(m.value),this.plugin.settings.EnabledLocationList=[...this.plugin.settings.EnabledLocationList,m]):(await Te.removeTypeMemos(m.value),this.plugin.settings.EnabledLocationList=this.plugin.settings.EnabledLocationList.filter(A=>A.value!==m.value)),this.plugin.settings.EnabledLocationList.length===1&&(this.plugin.settings.MemoSaveLocation=m.value),this.applySettingsUpdate(),setTimeout(()=>{this.display()},500)}).setDisabled(this.plugin.settings.EnabledLocationList.length===1&&this.checkInList(m.value)),new E.ExtraButtonComponent(D).setIcon("settings").onClick(()=>{new vK(this.app,this,this.plugin,m,a).open()})}const u=new Ke(r,this).setName(k("Save Location for Memos")).setDesc(o).setTab(n);u.settingEl.toggleClass("memo-save-location-setting",!0),u.nameEl.toggleClass("memo-save-location-title",!0)}}class vK extends E.Modal{constructor(n,r,a,o,s){super(n);me(this,"plugin");me(this,"settingTab");me(this,"LocationList");me(this,"target","");me(this,"insertTarget","");me(this,"verified");me(this,"updateValue",E.debounce(n=>{this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target=n.trim()===""?"basic":n.trim():this.target=n.trim()===""&&this.LocationList.value==="MULTI"?"Memos":n.trim()},400,!0));this.verified=s,this.app=n,this.settingTab=r,this.plugin=a,this.LocationList=o,this.target=o.target!=="ProcessEntriesBelow"?a.settings.MemoOtherSaveLocation[o.target]:a.settings[o.target],this.insertTarget=a.settings.InsertAfter}onOpen(){var p;const{contentEl:n}=this;(p=n.parentElement)==null||p.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(k("Save Location for Memos")+` [${k(this.LocationList.value)}]`),(this.LocationList.value==="FILE"||this.LocationList.value==="CANVAS")&&n.createDiv("modal-desc",g=>{g.setText(k('You can set folder name with file name like "folder/file"'))}),this.LocationList.value==="MULTI"&&n.createDiv("modal-desc",g=>{g.setText(k('You can set folder name like "folder1/folder2/folder3" to create sub-folder'))}),this.LocationList.value==="DAILY"&&n.createDiv("modal-desc",g=>{g.setText(k('You can set target heading like "# Heading" to control data location'))});const r=n.createDiv("modal-setting"),a=this.LocationList.value==="DAILY"?k("Process Memos below"):this.LocationList.value==="MULTI"?k("Set the folder name"):k("Set the filename"),o=k("Insert after heading");this.LocationList.value==="DAILY"&&new Ke(r,this.settingTab).setName(o).setDesc(k("If left blank, the recorded thino content will be inserted at the end of the diary; if a title is provided, all recorded thino content will be uniformly categorized under that title.")).addText(g=>g.setPlaceholder(k("# Heading")).setValue(this.insertTarget).onChange(async w=>{this.insertTarget=w}));const s=new Ke(r,this.settingTab).setName(a).addText(g=>g.setPlaceholder(this.LocationList.value==="DAILY"?k("# Heading"):k("Set the filename for current location file")).setValue(this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"?this.target.replace(/\.thino\.(canvas|md)/g,""):this.target).onChange(async w=>{const D=this.LocationList.value==="CANVAS"?".thino.canvas":this.LocationList.value==="FILE"?".thino.md":"";this.updateValue(w.replace(/\.thino\.(canvas|md)/g,"")+D)}));this.LocationList.value==="DAILY"&&s.setDesc(k("If left blank, the Thino interface will display all thino record contents; if a title is provided, the Thino interface will only display the contents under that title, and contents written elsewhere will not be shown.")),this.LocationList.value!=="DAILY"&&this.LocationList.value!=="MULTI"&&s.controlEl.createEl("span",{text:`${this.LocationList.value==="FILE"?".thino.md":".thino.canvas"}`});const u=n.createDiv("button-group"),d=u.createEl("button",{text:k("Cancel")}),m=u.createEl("button",{text:k("Save")});m.onclick=async()=>{if(!this.verified&&this.LocationList.value!=="DAILY"){this.close(),fn();return}this.LocationList.target!=="ProcessEntriesBelow"?this.plugin.settings.MemoOtherSaveLocation[this.LocationList.target]=this.target:this.plugin.settings[this.LocationList.target]=this.target,this.LocationList.target==="ProcessEntriesBelow"&&(this.plugin.settings.InsertAfter=this.insertTarget),this.settingTab.applySettingsUpdate(),setTimeout(()=>{Te.updateTypeMemos(this.LocationList.value)},1e3),this.close()},d.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}class R2 extends E.Modal{constructor(n,r,a,o){super(n);me(this,"plugin");me(this,"settingTab");this.cb=o,this.app=n,this.settingTab=r,this.plugin=a}onOpen(){var d;const{contentEl:n}=this;(d=n.parentElement)==null||d.classList.add("memo-save-location-modal"),this.titleEl.toggleClass("modal-title",!0),this.titleEl.setText(k("Password for Thino")),n.createDiv("modal-desc",m=>{m.setText(k("Please input your password to change password settings"))});const r=n.createDiv("modal-setting"),a=new Ke(r,this.settingTab).setName(k("Password")).addText(m=>m.setPlaceholder(k("Please input your password")).inputEl.type="password"),o=n.createDiv("button-group"),s=o.createEl("button",{text:k("Cancel")}),u=o.createEl("button",{text:k("Confirm?").replace(/(\?|Ôºü)/g,"")});u.onclick=async()=>{var m;a.controlEl.querySelector("input").value===this.plugin.settings.password?((m=this.cb)==null||m.call(this,!0),this.close()):new E.Notice(k("Password is incorrect"))},s.onclick=async()=>{this.close()}}onClose(){const{contentEl:n}=this;n.empty()}}const yK=e=>{const{app:t,view:n}=Ee.getState().dailyNotesState,{memo:r}=e,a={...r,createdAtStr:Re.getDateTimeString(r.createdAt),timeStr:Re.getTimeString(r.createdAt)},o=J.useRef(null),s=J.useRef(null);O.useEffect(()=>{if(!s.current||!o.current||(s.current.hasChildNodes()&&s.current.children[0].detach(),!n))return;async function g(){var D,S;(D=s.current)==null||D.toggleClass(["markdown-rendered"],!0),await E.MarkdownRenderer.render(t,r.content+`
`,s.current,r.path,n);const w=(S=s.current)==null?void 0:S.querySelectorAll(".internal-link");w==null||w.forEach(T=>{const C=T,A=C.getAttribute("data-href");if(!A)return;t.metadataCache.getFirstLinkpathDest(A,r.path)||T.classList.add("is-unresolved"),C.addEventListener("mouseover",L=>{L.stopPropagation(),t.workspace.trigger("hover-link",{event:L,source:"thino",hoverParent:n.containerEl,targetEl:C,linktext:A,sourcePath:C.href})})})}g()},[e.memo.content]);const u=()=>{e.onClickThino&&e.onClickThino(a)},d=async(g,w,D)=>{var C;const S=((C=D.parentElement.dataset)==null?void 0:C.task)==="x"?"DONE":"TODO",T=[...(w==null?void 0:w.querySelectorAll("li.task-list-item"))||[]];for(const A of T)if(A===D||A===D.closest("li.task-list-item")){const N=T.indexOf(A),L=g.content.split(/\n/),F=[];for(let U=0;U<L.length;U++)(L[U].trim().startsWith("- [ ]")||L[U].trim().startsWith("- [x]"))&&F.push(U);const H=F[N],_=L[H].replace(/- \[ \] |- \[x\] /g,S==="TODO"?"- [x] ":"- [ ] ");L[H]=_;const V=L.join(`
`).trim();if(g&&g.content!==V){const U=await Te.updateMemo(g.id,V);Te.editMemo(U)}}},m=async g=>{g.preventDefault();const w=g.target;if(w.tagName==="INPUT"&&w.hasClass("task-list-item-checkbox")){await d(a,o.current,w);return}};return O.useMemo(()=>y.jsxs("div",{ref:o,className:"daily-memo-wrapper",children:[y.jsx("div",{className:"time-wrapper",onClick:u,children:y.jsx("span",{className:"normal-text",children:a.timeStr})}),y.jsx("div",{className:"memo-content-container",children:y.jsx("div",{ref:s,onClick:m,className:"memo-content-text"})})]}),[r.content])},wK=e=>{const{memoState:{memos:t}}=O.useContext(wt),n=Yc(),[r,a]=O.useState([]),[o,s]=O.useState(Re.getDateStampByDate(Re.getDateString(e.currentDateStamp))),[u,d]=_o(!1),m=O.useRef(null),p=new Date(o),{vault:g}=Ee.getState().dailyNotesState.app,w=Ee.getState().dailyNotesState.settings,[D,S]=O.useState("");O.useEffect(()=>{(()=>{const L=t.filter(F=>Re.getTimeStampByDate(F.createdAt)>=o&&Re.getTimeStampByDate(F.createdAt)<o+Ba).filter(F=>F.deletedAt==="").sort((F,H)=>Re.getTimeStampByDate(F.createdAt)-Re.getTimeStampByDate(H.createdAt));a(L),n.setFinish()})()},[o,t]);const T=async()=>{d(!1),setTimeout(()=>{m.current&&Pm(m.current,{backgroundColor:"#ffffff",pixelRatio:window.devicePixelRatio*2}).then(N=>{if(w!=null&&w.AutoSaveWhenOnMobile&&E.Platform.isMobile){const L=N.split("base64,")[1];Dm(L,"image/png").arrayBuffer().then(async H=>{let j;const _="png",V=Oi();for(const U in V)if(V[U]instanceof E.TFile){j=V[U];break}j!==void 0&&await g.createBinary(await g.getAvailablePathForAttachments(`Pasted Image ${E.moment().format("YYYYMMDDHHmmss")}`,_,j),H)})}jm({imgUrl:N})}).catch(()=>{})},0)},C=N=>{s(N),d(!1)},A=O.useMemo(()=>y.jsxs("div",{className:"header-wrapper",children:[y.jsx("span",{className:"title-text",children:k("Daily Memos")}),y.jsxs("div",{className:"btns-container",children:[y.jsx("span",{ref:N=>{E.setIcon&&N&&E.setIcon(N,"chevron-left")},className:"btn btn-text",onClick:()=>s(N=>N-Ba)}),y.jsx("span",{ref:N=>{E.setIcon&&N&&E.setIcon(N,"chevron-right")},className:"btn btn-text",onClick:()=>s(N=>N+Ba)}),y.jsx("span",{ref:N=>{E.setIcon&&N&&E.setIcon(N,"share")},className:"btn btn-text share-btn",onClick:T}),y.jsx("span",{ref:N=>{E.setIcon&&N&&E.setIcon(N,"x")},className:"btn btn-text",onClick:()=>e.destroy()})]})]}),[]);return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"dialog-header-container",children:A}),y.jsx("div",{className:"dialog-header-container",children:y.jsx("input",{onChange:N=>S(N.target.value),value:D,placeholder:k("Search")})}),y.jsxs("div",{className:"dialog-content-container",ref:m,children:[y.jsxs("div",{className:"date-card-container",onClick:()=>d(),children:[y.jsx("div",{className:"year-text",children:p.getFullYear()}),y.jsxs("div",{className:"date-container",children:[y.jsx("div",{className:"month-text",children:k("months")[p.getMonth()]}),y.jsx("div",{className:"date-text",children:p.getDate()}),y.jsx("div",{className:"day-text",children:k("weekDays")[p.getDay()]})]})]}),y.jsx(Am,{className:`date-picker ${u?"":"hidden"}`,datestamp:o,handleDateStampChange:C}),n.isLoading?y.jsx("div",{className:"tip-container",children:y.jsx("span",{className:"tip-text",children:k("Loading...")})}):r.length===0?y.jsx("div",{className:"tip-container",children:y.jsx("span",{className:"tip-text",children:k("Noooop!")})}):y.jsx("div",{className:"dailymemos-wrapper",children:r.filter(N=>N.content.toLowerCase().includes(D.toLowerCase())).map(N=>y.jsx(yK,{memo:N,onClickThino:L=>{e.destroy(),qd(L)}},`${N.id}-${N.updatedAt}`))})]})]})};function ow(e=Date.now()){Mm({className:"daily-memo-diary-dialog"},wK,{currentDateStamp:e})}function dy(e){return e.split("-")[0]}function mx(e){return e.split("-")[1]}function fb(e){return["top","bottom"].includes(dy(e))?"x":"y"}function px(e){return e==="y"?"height":"width"}function _2(e){let{reference:t,floating:n,placement:r}=e;const a=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2;let s;switch(dy(r)){case"top":s={x:a,y:t.y-n.height};break;case"bottom":s={x:a,y:t.y+t.height};break;case"right":s={x:t.x+t.width,y:o};break;case"left":s={x:t.x-n.width,y:o};break;default:s={x:t.x,y:t.y}}const u=fb(r),d=px(u);switch(mx(r)){case"start":s[u]=s[u]-(t[d]/2-n[d]/2);break;case"end":s[u]=s[u]+(t[d]/2-n[d]/2);break}return s}const bK=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n;let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:m}=_2({...u,placement:r}),p=r,g={};for(let w=0;w<o.length;w++){const{name:D,fn:S}=o[w],{x:T,y:C,data:A,reset:N}=await S({x:d,y:m,initialPlacement:r,placement:p,strategy:a,middlewareData:g,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=T??d,m=C??m,g={...g,[D]:A??{}},N){typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:m}=_2({...u,placement:p})),w=-1;continue}}return{x:d,y:m,placement:p,strategy:a,middlewareData:g}};function DK(e){return{top:0,right:0,bottom:0,left:0,...e}}function SK(e){return typeof e!="number"?DK(e):{top:e,right:e,bottom:e,left:e}}function Xw(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function e1(e,t){t===void 0&&(t={});const{x:n,y:r,platform:a,rects:o,elements:s,strategy:u}=e,{boundary:d="clippingParents",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:g=!1,padding:w=0}=t,D=SK(w),T=s[g?p==="floating"?"reference":"floating":p],C=await a.getClippingClientRect({element:await a.isElement(T)?T:T.contextElement||await a.getDocumentElement({element:s.floating}),boundary:d,rootBoundary:m}),A=Xw(await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:p==="floating"?{...o.floating,x:n,y:r}:o.reference,offsetParent:await a.getOffsetParent({element:s.floating}),strategy:u}));return{top:C.top-A.top+D.top,bottom:A.bottom-C.bottom+D.bottom,left:C.left-A.left+D.left,right:A.right-C.right+D.right}}const IK={left:"right",right:"left",bottom:"top",top:"bottom"};function Av(e){return e.replace(/left|right|bottom|top/g,t=>IK[t])}function TK(e,t){const n=mx(e)==="start",r=fb(e),a=px(r);let o=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Av(o)),{main:o,cross:Av(o)}}const EK={start:"end",end:"start"};function H2(e){return e.replace(/start|end/g,t=>EK[t])}function CK(e){const t=Av(e);return[H2(e),t,H2(t)]}const xK=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:s,initialPlacement:u}=t;if((n=o.flip)!=null&&n.skip)return{};const{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",flipAlignment:w=!0,...D}=e,S=dy(a),C=p||(S===u||!w?[Av(u)]:CK(u)),A=[u,...C],N=await e1(t,D),L=[];let F=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&L.push(N[S]),m){const{main:V,cross:U}=TK(a,s);L.push(N[V],N[U])}if(F=[...F,{placement:a,overflows:L}],!L.every(V=>V<=0)){var H,j;const V=((H=(j=o.flip)==null?void 0:j.index)!=null?H:0)+1,U=A[V];if(U)return{data:{index:V,overflows:F},reset:{placement:U}};let z="bottom";switch(g){case"bestFit":{var _;const q=(_=F.slice().sort((ee,ce)=>ee.overflows.filter(fe=>fe>0).reduce((fe,ie)=>fe+ie,0)-ce.overflows.filter(fe=>fe>0).reduce((fe,ie)=>fe+ie,0))[0])==null?void 0:_.placement;q&&(z=q);break}case"initialPlacement":z=u;break}return{data:{skip:!0},reset:{placement:z}}}return{}}}};function MK(e){let{placement:t,rects:n,value:r}=e;const a=dy(t),o=["left","top"].includes(a)?-1:1,s=typeof r=="function"?r({...n,placement:t}):r,{mainAxis:u,crossAxis:d}=typeof s=="number"?{mainAxis:s,crossAxis:0}:{mainAxis:0,crossAxis:0,...s};return fb(a)==="x"?{x:d,y:u*o}:{x:u*o,y:d}}const NK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:a,rects:o}=t,s=MK({placement:a,rects:o,value:e});return{x:n+s.x,y:r+s.y,data:s}}}};function hb(e){return(e==null?void 0:e.toString())==="[object Window]"}function xl(e){if(e==null)return window;if(!hb(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function fy(e){return xl(e).getComputedStyle(e)}function ys(e){return hb(e)?"":e?(e.nodeName||"").toLowerCase():""}function ws(e){return e instanceof xl(e).HTMLElement}function Ov(e){return e instanceof xl(e).Element}function kK(e){return e instanceof xl(e).Node}function gx(e){const t=xl(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function hy(e){const{overflow:t,overflowX:n,overflowY:r}=fy(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function AK(e){return["table","td","th"].includes(ys(e))}function vx(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=fy(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const B2=Math.min,Qh=Math.max,Fv=Math.round;function Rd(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,a=1;return t&&ws(e)&&(r=e.offsetWidth>0&&Fv(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Fv(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}function Ml(e){return((kK(e)?e.ownerDocument:e.document)||window.document).documentElement}function my(e){return hb(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function yx(e){return Rd(Ml(e)).left+my(e).scrollLeft}function OK(e){const t=Rd(e);return Fv(t.width)!==e.offsetWidth||Fv(t.height)!==e.offsetHeight}function FK(e,t,n){const r=ws(t),a=Ml(t),o=Rd(e,r&&OK(t));let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(r||!r&&n!=="fixed")if((ys(t)!=="body"||hy(a))&&(s=my(t)),ws(t)){const d=Rd(t,!0);u.x=d.x+t.clientLeft,u.y=d.y+t.clientTop}else a&&(u.x=yx(a));return{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function py(e){return ys(e)==="html"?e:e.assignedSlot||e.parentNode||(gx(e)?e.host:null)||Ml(e)}function Y2(e){return!ws(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function PK(e){let t=py(e);for(;ws(t)&&!["html","body"].includes(ys(t));){if(vx(t))return t;t=t.parentNode}return null}function t1(e){const t=xl(e);let n=Y2(e);for(;n&&AK(n)&&getComputedStyle(n).position==="static";)n=Y2(n);return n&&(ys(n)==="html"||ys(n)==="body"&&getComputedStyle(n).position==="static"&&!vx(n))?t:n||PK(e)||t}function z2(e){return{width:e.offsetWidth,height:e.offsetHeight}}function jK(e){let{rect:t,offsetParent:n,strategy:r}=e;const a=ws(n),o=Ml(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if((a||!a&&r!=="fixed")&&((ys(n)!=="body"||hy(o))&&(s=my(n)),ws(n))){const d=Rd(n,!0);u.x=d.x+n.clientLeft,u.y=d.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+u.x,y:t.y-s.scrollTop+u.y}}function LK(e){const t=xl(e),n=Ml(e),r=t.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,u=0;return r&&(a=r.width,o=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(s=r.offsetLeft,u=r.offsetTop)),{width:a,height:o,x:s,y:u}}function RK(e){var t;const n=Ml(e),r=my(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=Qh(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Qh(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let u=-r.scrollLeft+yx(e);const d=-r.scrollTop;return fy(a||n).direction==="rtl"&&(u+=Qh(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:u,y:d}}function wx(e){return["html","body","#document"].includes(ys(e))?e.ownerDocument.body:ws(e)&&hy(e)?e:wx(py(e))}function bx(e,t){var n;t===void 0&&(t=[]);const r=wx(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),o=xl(r),s=a?[o].concat(o.visualViewport||[],hy(r)?r:[]):r,u=t.concat(s);return a?u:u.concat(bx(py(s)))}function _K(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&gx(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function HK(e){const t=Rd(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function U2(e,t){return t==="viewport"?Xw(LK(e)):Ov(t)?HK(t):Xw(RK(Ml(e)))}function BK(e){const t=bx(py(e)),r=["absolute","fixed"].includes(fy(e).position)&&ws(e)?t1(e):e;return Ov(r)?t.filter(a=>Ov(a)&&_K(a,r)&&ys(a)!=="body"):[]}function YK(e){let{element:t,boundary:n,rootBoundary:r}=e;const o=[...n==="clippingParents"?BK(t):[].concat(n),r],s=o[0],u=o.reduce((d,m)=>{const p=U2(t,m);return d.top=Qh(p.top,d.top),d.right=B2(p.right,d.right),d.bottom=B2(p.bottom,d.bottom),d.left=Qh(p.left,d.left),d},U2(t,s));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}const zK={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:FK(t,t1(n),r),floating:{...z2(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>jK(e),getOffsetParent:e=>{let{element:t}=e;return t1(t)},isElement:e=>Ov(e),getDocumentElement:e=>{let{element:t}=e;return Ml(t)},getClippingClientRect:e=>YK(e),getDimensions:e=>{let{element:t}=e;return z2(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},UK=(e,t,n)=>bK(e,t,{platform:zK,...n});var VK=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,a,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=r;a--!==0;){var s=o[a];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const ZK=Xn(VK),iw=Xh.Facet.define({combine:e=>{var t,n;return{defaultPlacement:((t=e.find(r=>r.defaultPlacement))==null?void 0:t.defaultPlacement)||"top",padding:((n=e.find(r=>r.padding))==null?void 0:n.padding)||8}}}),Dx=e=>e.split("-")[0],WK=e=>e==="x"?"y":"x",$K=e=>["top","bottom"].includes(Dx(e))?"x":"y",Hh=(e,t,n)=>Math.max(e,Math.min(t,n)),qK=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,r],a)=>[n,t(r,n,a)])),GK=e=>e===void 0?e:typeof e=="number"?-e:qK(e,t=>t!==void 0?-t:t),JK=(e={})=>({name:"shift",fn:async t=>{const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:u=({x:C,y:A})=>({x:C,y:A}),editorMenu:d,...m}=e,p={x:n,y:r},g=await e1(t,m),w=$K(Dx(a)),D=WK(w);let S=p[w],T=p[D];if(o){const C=w==="y"?"top":"left",A=w==="y"?"bottom":"right",N=S+g[C],L=S-g[A];if(d){const F=await e1(t,{...m,boundary:d.dom,padding:GK(m.padding)});if((D==="y"?["top","bottom"]:["left","right"]).every(j=>F[j]<=0)){const j=t.rects.floating.width,_=S+F[C]-j,V=S-F[A]+j,U=Math.abs(g[C]-F[C]),z=Math.abs(g[A]-F[A]);U>=j||z<U?S=Hh(N,S,_):S=Hh(V,S,L)}else S=Hh(N,S,L)}else S=Hh(N,S,L)}if(s){const C=D==="y"?"top":"left",A=D==="y"?"bottom":"right",N=T+g[C],L=T-g[A];T=Hh(N,T,L)}return u({...t,[w]:S,[D]:T})}}),KK="thino-mini-toolbar",QK=(e=0,t=0)=>({width:0,height:0,top:t,left:e,bottom:t,right:e,x:e,y:t}),XK=(e,t)=>{if(!e)return null;const n=Math.min(e.left,(t==null?void 0:t.left)??e.left),r=Math.max(e.right,(t==null?void 0:t.right)??e.right),a=Math.max(e.bottom,(t==null?void 0:t.bottom)??e.bottom)-Math.min(e.top,(t==null?void 0:t.top)??e.top),o=Math.min(e.top,(t==null?void 0:t.top)??e.top),s=o+a,u={left:n,right:r,top:o,bottom:s,width:0,height:a,x:o,y:n};return t&&(u.width=Math.abs(r-n)),u},eQ=QK();class tQ{constructor(t){me(this,"containerEl");me(this,"virtualEl");me(this,"toolbar",null);me(this,"isThinoView");me(this,"tooltipInfo");me(this,"inView",!0);me(this,"defaultPlacement");me(this,"editorMenu");me(this,"cachedRefRect",null);me(this,"readFromDOM",()=>{if(this.tooltipInfo){const{start:t}=this.tooltipInfo;let{end:n}=this.tooltipInfo;n&&t===n&&(n=void 0);const r=this.view.coordsAtPos(t);let a=n?this.view.coordsAtPos(n):null;if(r&&a&&r.top!==a.top){const s=this.view.contentDOM.getBoundingClientRect();a={left:s.right,right:s.right,top:r.top,bottom:r.bottom}}const o=XK(r,a);o&&(this.cachedRefRect=o,this.computePosition(o))}});this.view=t,this.containerEl=this.view.dom.parentElement,this.defaultPlacement=this.view.state.facet(iw).defaultPlacement,this.tooltipInfo=t.state.facet(n1),this.virtualEl={rect:eQ,getBoundingClientRect(){return this.rect}},this.maybeMeasure(),this.editorMenu={currMenu:null,evtRef:t.state.field(E.editorInfoField)},this.isThinoView=this.checkThinoView()}get workspace(){return this.view.state.field(E.editorInfoField).app.workspace}checkThinoView(){return this.view.state.field(E.editorInfoField)&&this.view.state.field(E.editorInfoField)instanceof yl}shouldRemoveToolbar(t){const n=t??this.tooltipInfo;return!(n!=null&&n.end||this.editorMenu.currMenu)}onEditorMenuOpen(t){this.editorMenu.currMenu||(this.editorMenu.currMenu=t,this.cachedRefRect?this.computePosition(this.cachedRefRect):this.maybeMeasure(),!E.Platform.isMacOS&&this.tooltipInfo&&(this.createToolbar(),this.maybeMeasure()))}onEditorMenuClose(t){this.editorMenu.currMenu===t&&(this.editorMenu.currMenu=null),!E.Platform.isMacOS&&this.toolbar&&this.shouldRemoveToolbar()&&this.removeToolbar()}createToolbar(t){const n=t??this.tooltipInfo;if(!n)return;this.removeToolbar();const r=n.create(this.containerEl),a=this.view.state.field(E.editorInfoField);if(!a||!(a!=null&&a.editor))return;const o=a.editor.offsetToPos(n.start),s=n.end?a.editor.offsetToPos(n.end):o;this.workspace.trigger(KK,r,{from:o,to:s},a.editor,a),this.toolbar=r}removeToolbar(){this.toolbar&&(this.toolbar.hide(),this.toolbar=null)}update(t){if(!this.isThinoView)return;const n=t.state.facet(n1),r=n!==this.tooltipInfo&&!ZK(n,this.tooltipInfo);r&&(this.tooltipInfo=n,this.shouldRemoveToolbar()?this.removeToolbar():n&&!this.toolbar&&this.createToolbar(n));const a=r||t.geometryChanged,o=t.state.facet(iw);o.defaultPlacement!=this.defaultPlacement&&(o.defaultPlacement=this.defaultPlacement),a&&this.maybeMeasure()}destroy(){this.editorMenu.currMenu=null,this.removeToolbar(),this.toolbar=null,this.view.state.field(E.editorInfoField).app.workspace.offref(this.editorMenu.evtRef)}async computePosition(t){if(!this.toolbar)return;this.virtualEl.rect=t;const{padding:n}=this.view.state.facet(iw),{x:r,y:a}=await UK(this.virtualEl,this.toolbar.dom,{placement:this.defaultPlacement,middleware:[NK({mainAxis:5}),xK({padding:n,boundary:this.view.scrollDOM}),JK({padding:n,boundary:this.view.scrollDOM,editorMenu:this.editorMenu.currMenu})]});Object.assign(this.toolbar.dom.style,{top:"0",left:"0",transform:`translate(${Math.round(r)}px,${Math.round(a)}px)`})}maybeMeasure(){this.view.inView&&this.toolbar&&this.view.requestMeasure({read:this.readFromDOM}),this.inView!=this.view.inView&&(this.inView=this.view.inView,this.inView||this.removeToolbar())}}const nQ=xi.ViewPlugin.fromClass(tQ,{eventHandlers:{scroll(){this.maybeMeasure()}}}),n1=Xh.Facet.define({enables:[nQ],combine:e=>e.filter(t=>t!=null).first()??null}),rQ=e=>{const t=lQ(e);t&&window.navigator.clipboard.writeText(t==null?void 0:t.getSelection())},aQ=e=>{e.commands.executeCommandById("editor:toggle-bold",e)},oQ=e=>{e.commands.executeCommandById("editor:toggle-strikethrough",e)},iQ=e=>{e.commands.executeCommandById("editor:toggle-highlight",e)},sQ=e=>{e.commands.executeCommandById("editor:toggle-italics",e)},lQ=e=>{const{editor:t}=e.field(E.editorInfoField);return t},V2=(e,t)=>{const n=e.selection.ranges[0];if(!n)return null;const{anchor:r,head:a,empty:o}=n,[s,u]=[r,a].sort();return{start:s,end:o?void 0:u,create:m=>new fQ(m).addSmallButton(g=>g.setClass("clickable-icon").setIcon("copy").onClick(()=>rQ(e))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("bold").onClick(()=>aQ(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("italic").onClick(()=>sQ(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("strikethrough").onClick(()=>oQ(t))).addSmallButton(g=>g.setClass("clickable-icon").setIcon("highlighter").onClick(()=>iQ(t)))}},cQ=e=>Xh.StateField.define({create:t=>V2(t,e),update:(t,n)=>!n.docChanged&&!n.selection?t:V2(n.state,e),provide:t=>n1.from(t)}),uQ=e=>[cQ(e)];class dQ extends E.BaseComponent{constructor(n){super();me(this,"button");me(this,"disabled",!1);me(this,"dropdownOptions",[]);me(this,"menu");me(this,"menuOpened",!1);this.button=new E.ButtonComponent(n)}setDisabled(n){return this.button.setDisabled(n),this.disabled=n,this}setIcon(n){return this.button.setIcon(n),this}setClass(n){return this.button.setClass(n),this}setDropdownText(n){var d;const r=this.button.buttonEl.createDiv("mini-toolbar-text"),a=this.button.buttonEl.createDiv("mini-toolbar-icon-with-text");E.setIcon(a,"chevron-down");const o=(d=n.doc.lineAt(n.selection.ranges[0].from))==null?void 0:d.from,s=w0.syntaxTree(n).resolveInner(o+1),u=s.type.prop(w0.tokenClassNodeProp);return r.setText(this.detectFormat(u,s)||"Text"),this}setDropdownIcon(){const n=this.button.buttonEl.createDiv("mini-toolbar-highlight-icon"),r=this.button.buttonEl.createDiv("mini-toolbar-icon-with-icon");return E.setIcon(n,"highlighter"),E.setIcon(r,"chevron-down"),this}detectFormat(n,r){var a;if(!n)return"Text";if(n.includes("strong"))return"Bold";if(n.includes("em"))return"Italic";if(n.includes("strikethrough"))return"Strike";if(n.contains("hmd-codeblock"))return"CodeBlock";if(n.contains("hmd-inline-code"))return"Code";if(n.contains("formatting-header")){const o=n.match(/header-\d{1,}/);if(o)return"Heading "+o[0].slice(-1)}if(n.contains("formatting-list")||n.contains("hmd-list-indent")){if(r!=null&&r.parent){const o=(a=r.parent)==null?void 0:a.type.prop(w0.lineClassNodeProp);if(o!=null&&o.contains("HyperMD-task-line"))return"To-do list"}if(n.contains("formatting-list-ol"))return"Numbered list";if(n.contains("formatting-list-ul"))return"Bulleted list"}}setTooltip(n){return this.button.setTooltip(n),this}setOptionsList(n){return this.dropdownOptions=n,this}onClick(n){return this.dropdownOptions.length>0?(this.button.onClick(r=>this.showEditMenu(r)),this):(this.button.onClick(n),this)}showEditMenu(n){var s,u;if(this.menuOpened=!this.menuOpened,!this.menuOpened)return;this.menu=new E.Menu,this.menu.onHide(()=>{this.menuOpened=!1});const r=n.currentTarget,a=(s=n.currentTarget)==null?void 0:s.getBoundingClientRect(),o={x:a.left-6,y:a.bottom+6};for(let d=0;d<((u=this.dropdownOptions)==null?void 0:u.length);d++)this.menu.addItem(m=>{m.setIcon("zap").setTitle(this.dropdownOptions[d]).onClick(()=>{})});this.menu.setParentElement(r).showAtPosition(o)}then(n){return n(this),this}}class fQ extends E.Component{constructor(n){super();me(this,"dom");me(this,"smallBtnContainer");me(this,"unloading",!1);this.dom=n==null?void 0:n.createDiv({cls:"cm-mini-toolbar"},r=>r.style.position="absolute"),this.smallBtnContainer=this.dom}addSmallButton(n){return n(new dQ(this.smallBtnContainer)),this}hide(){return this.unload(),this.unloading?this:(this.unloading=!0,this.dom.detach(),this.unloading=!1,this)}}const hQ=xi.Decoration.line({attributes:{"data-ph":k("What do you think now...")},class:"thino-editor-placeholder"}),mQ=Xh.StateField.define({create(){return xi.Decoration.none},update(e,t){const n=t.state.field(E.editorInfoField);if(!(n!=null&&n.view)&&!((n==null?void 0:n.view)instanceof yl))return e;const r=new Xh.RangeSetBuilder,a=t.state.doc.toString(),o=t.state.doc.lineAt(0);return(a==null?void 0:a.length)==0&&r.add(o.from,o.from,hQ),r.finish()},provide:e=>xi.EditorView.decorations.from(e)});function Sx(e){return`userId:${e}`}function pQ(e,t){return`expiryDate:${t}:${e}`}function gQ(e){try{const t=Sx(e==null?void 0:e.appId);return Kn.get([t])[t]||""}catch(t){return console.error(t),""}}function vQ(e,t){try{const n=Sx(t==null?void 0:t.appId);return Kn.set({[n]:e}),{userId:e,key:n}}catch(n){console.error(n)}}function yQ(e,t){try{const n=pQ(gQ(t),t==null?void 0:t.appId);Kn.set({[n]:e})}catch(n){console.error(n)}}const wQ=Re.grabImageFromUrl,bQ=require("http"),DQ=require("url");function SQ(e){const t=e.indexOf(";base64,"),n=e.substring(5,t),r=e.substr(t+8),a=atob(r),o=new ArrayBuffer(a.length),s=new Uint8Array(o);for(let d=0;d<a.length;d++)s[d]=a.charCodeAt(d);return new Blob([o],{type:n})}const Z2=async e=>{const{type:t}=e;if(t.startsWith("image"))try{return`${await w1.upload(e)}`}catch(n){new E.Notice(n)}};function IQ(e){const t=bQ.createServer(async function(n,r){r.setHeader("Access-Control-Allow-Origin","*"),r.setHeader("Access-Control-Allow-Methods","GET, HEAD, POST, OPTIONS, PUT, PATCH, DELETE"),r.setHeader("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Origin, Authorization,Accept,x-client-id, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, hypothesis-client-version"),r.setHeader("Access-Control-Allow-Credentials","true");try{if(n.url){const a=DQ.parse(n.url,!0);if(a.pathname==="/create"&&n.method==="POST"){let o="";n.on("data",s=>{o+=s}),n.on("end",async()=>{const s=JSON.parse(o),{text:u,isList:d,type:m,imageList:p}=s;let g=u;if(!g){r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:null,link:null}));return}new RegExp(/(<([^>]+)>)/g).test(u)&&(g=E.htmlToMarkdown(u));let D=[];const S=[];if(e.AutoDownloadImage){const C=g.match(_c)||[];if(C.length>0){for(const A of C)try{const N=await wQ(A);if(N.size===0)continue;const L=new File([N],"image.png",{type:"image/png"}),F=await Z2(L);S.push({oldUrl:A,newUrl:F})}catch(N){console.error(N)}S.forEach(A=>{g=g.replace(A.oldUrl,A.newUrl)}),p&&p.length>0&&(D=await Promise.all(p.map(async A=>{const N=SQ(A);return new File([N],"image.png",{type:"image/png"})})));for(const A of D){const N=await Z2(A);g+=`
${N}`}}}const T=await Te.createThino({content:g,isList:d,type:m});T&&(Te.pushMemo(T),We.clearQuery()),r.statusCode=200,r.setHeader("Content-Type","application/json"),r.end(JSON.stringify({status:"success",thino:T,link:`obsidian://thino?openId=${T.id}`}))})}else if(a.pathname==="/search"&&n.method==="GET"){const o=a.query,{keyword:s}=o,u=Te.getThinoViaKeyword(s);r.statusCode=200,r.setHeader("Content-Type","application/json");const d=JSON.stringify({status:"success",thinos:u});r.end(d)}else r.statusCode=404,r.end()}}catch(a){console.error(a),r.statusCode=500,r.end({status:"error",message:a.message})}});return{listen(n,r){try{t.listen({port:parseInt(r),host:n})}catch(a){console.error(a),new E.Notice(k("Thino - Failed to start HTTP server, please check the port is available."))}new E.Notice(`${k("Thino - Started HTTP server on port")} ${r}`)},close(){t.close(),new E.Notice(k("Thino - Terminated HTTP server"))}}}const{clipboard:gn}=E.Platform.isDesktop?require("electron"):"";class TQ{constructor(){me(this,"eventListeners");this.eventListeners={}}on(t,n){this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(n)}once(t,n){n.$emitOnce=!0,this.on(t,n)}removeListener(t,n){if(this.eventListeners[t]){const r=this.eventListeners[t].findIndex(a=>a===n);r>=0&&this.eventListeners[t].splice(r,1)}}removeAllListeners(t){this.eventListeners[t]&&(this.eventListeners[t].length=0)}emit(t,...n){this.eventListeners[t]&&this.eventListeners[t].forEach(r=>{r.call(this,...n),r.$emitOnce&&this.removeListener(t,r)})}}const Dd=new TQ;let Bh=null,W2=gn==null?void 0:gn.readText(),$2=gn==null?void 0:gn.readImage();gn&&(gn.on=(e,t)=>(Dd.on(e,t),gn),gn.once=(e,t)=>(Dd.once(e,t),gn),gn.off=(e,t)=>(t?Dd.removeListener(e,t):Dd.removeAllListeners(e),gn),gn.startWatching=()=>(Bh||(Bh=setInterval(()=>{EQ(W2,W2=gn==null?void 0:gn.readText())&&Dd.emit("text-changed"),CQ($2,$2=gn==null?void 0:gn.readImage())&&Dd.emit("image-changed")},500)),gn),gn.stopWatching=()=>(Bh&&clearInterval(Bh),Bh=null,gn));function EQ(e,t){return t&&e!==t}function CQ(e,t){return!t.isEmpty()&&e.toDataURL()!==t.toDataURL()}var X2;const sw=(X2=require("electron"))==null?void 0:X2.remote;var eI,tI;const q2=(tI=(eI=require("electron"))==null?void 0:eI.remote)==null?void 0:tI.screen;class xQ{constructor(t,n){me(this,"isRegisted");me(this,"leaf");me(this,"clipboard");me(this,"isScreenTop",!1);me(this,"currentSplitWindow");me(this,"intervalNum");me(this,"allowsCopy",!1);me(this,"plugin");me(this,"actionEl",null);this.app=t,this.plugin=n,this.isRegisted=!1,this.leaf=null,this.clipboard=gn}async onload(){E.Platform.isDesktop&&(this.initGlobalCopyEvents(),await this.registerAllShortcuts(),this.registerEvents())}registerEvents(){this.plugin.registerEvent(this.app.workspace.on("quit",()=>{sw.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally)}))}initGlobalCopyEvents(){this.plugin.addCommand({id:"init-global-copy-events",name:k("Global copy"),callback:()=>{this.allowsCopy=!this.allowsCopy,!this.allowsCopy&&this.clipboard.stopWatching(),this.allowsCopy&&this.clipboard.startWatching(),this.leaf&&this.allowsCopy&&(this.actionEl=this.leaf.view.addAction("clipboard-x","Stop global copying",()=>{var t;this.allowsCopy=!1,this.clipboard.stopWatching(),(t=this.actionEl)==null||t.remove()}))}})}onunload(){this.isRegisted&&(sw.globalShortcut.unregister(this.plugin.settings.CaptureKey.OpenThinoGlobally),this.clipboard.off("text-changed"),this.clipboard.off("image-changed"),this.clipboard.stopWatching(),this.leaf&&this.leaf.detach())}getCurrentLeaf(){var n;return this.leaf?this.app.workspace.getLeavesOfType("thino_view").length>0&&!!this.app.workspace.getLeafById(this.leaf.id)?!0:((n=this.leaf)==null||n.detach(),this.currentSplitWindow.close(),this.currentSplitWindow=null,this.leaf=null,this.isScreenTop=!1,!1):!1}async registerAllShortcuts(){sw.globalShortcut.register(this.plugin.settings.CaptureKey.OpenThinoGlobally,()=>{this.getCurrentLeaf()?this.showThinoView():this.openThinoView()}),this.isRegisted=!0}showThinoView(){var r,a,o,s;const t=q2.getCursorScreenPoint(),n=(s=(o=(a=(r=this.leaf)==null?void 0:r.parent)==null?void 0:a.parent)==null?void 0:o.win)==null?void 0:s.electronWindow;if(n){if(n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.leaf.view.containerEl.toggleClass("thino-float-window",!0),n.isMinimized()&&n.restore(),n.focus(),this.plugin.settings.CaptureKey.ShowNearMouse){const{width:u,height:d}=n.getBounds();n.setBounds({x:t.x,y:t.y,width:u,height:d})}if(this.app.workspace.trigger("focus-on-textarea"),this.isScreenTop){this.isScreenTop=!1,setTimeout(()=>{n.setAlwaysOnTop(!1,"screen")},200);return}this.isScreenTop=!0}}openThinoView(){var o,s,u,d,m;this.leaf=this.app.workspace.openPopoutLeaf({size:{width:400,height:400}});const t=this.leaf;this.leaf.view.containerEl.toggleClass("thino-float-window",!0),this.leaf.setViewState({type:"thino_view"}),setTimeout(()=>{t.view.containerEl.classList.toggle("mobile-view",!0)},0),this.currentSplitWindow=(s=(o=this.leaf)==null?void 0:o.parent)==null?void 0:s.parent;const n=(m=(d=(u=this.leaf)==null?void 0:u.parent)==null?void 0:d.parent)==null?void 0:m.win.electronWindow;if(!n)return;n.setAlwaysOnTop(!this.isScreenTop,"screen"),this.leaf.setPinned(!this.isScreenTop),this.isScreenTop=!0;const r=this.app,a=p=>{var D,S,T;const g=q2.getCursorScreenPoint(),w=(T=(S=(D=t==null?void 0:t.parent)==null?void 0:D.parent)==null?void 0:S.win)==null?void 0:T.electronWindow;if(w){if(w.isMinimized()&&w.restore(),!this.isScreenTop&&this.plugin.settings.CaptureKey.ShowNearMouse){const{width:C,height:A}=w.getBounds();w.setBounds({x:g.x,y:g.y-200,width:C,height:A})}w.setAlwaysOnTop(!0,"screen"),r.workspace.trigger("focus-on-textarea"),r.workspace.trigger("send-to-thino",p,t)}};this.clipboard.on("text-changed",()=>{const p=this.clipboard.readText();a(p)}).on("image-changed",()=>{const p=this.clipboard.readImage();a(p)})}}class G2 extends E.EditorSuggest{constructor(n,r){super(n);me(this,"root");me(this,"editor");me(this,"cursor");me(this,"plugin");me(this,"tags");me(this,"type","customTag");me(this,"HASHTAG_REGEX",/(^|\s)#[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]*$/g);this.plugin=r}checkSettings(){return this.plugin.settings.UseVaultTags}checkInMemosView(n){var o;const r=n.containerEl;if(!r)return!1;const a=(o=r.parentElement)==null?void 0:o.parentElement;return(a==null?void 0:a.classList.contains("common-editor-inputer"))||!1}fuzzySearchItemsOptimized(n,r){const a=E.prepareFuzzySearch(n);return r.map(s=>{const u=a(s);return u?{item:s,match:u}:null}).filter(Boolean)}onTrigger(n,r){if(!this.checkInMemosView(r)||this.checkSettings())return null;this.tags=Te.getState().tags,this.cursor=n,this.editor=r;const a=n.line,o=r.getLine(a),s=o.substr(0,n.ch);if(s.match(this.HASHTAG_REGEX)&&o.substr(n.ch,1)!=="#"){const u=s.lastIndexOf("#"),d=s.substr(u+1);return{start:{line:a,ch:u},end:{line:a,ch:n.ch},query:d}}return null}getSuggestions(n){return this.fuzzySearchItemsOptimized(n.query,this.tags).map(r=>r.item).sort((r,a)=>r.localeCompare(a))||[]}renderSuggestion(n,r){r.setText(n)}selectSuggestion(n){if(this.context){const r=this.context.editor,a=this.context.start,o=this.context.end;r.transaction({changes:[{from:a,to:o,text:"#"+n+" "}]}),setTimeout(function(){return r.focus()})}this.close()}}const mb=crypto,Ix=e=>e instanceof CryptoKey,Vg=new TextEncoder,pb=new TextDecoder;function MQ(...e){const t=e.reduce((a,{length:o})=>a+o,0),n=new Uint8Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}const NQ=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},lw=e=>{let t=e;t instanceof Uint8Array&&(t=pb.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return NQ(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class gy extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class kQ extends gy{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class vy extends gy{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class Cr extends gy{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class AQ extends gy{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}function cs(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Zg(e,t){return e.name===t}function cw(e){return parseInt(e.name.slice(4),10)}function OQ(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function FQ(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function PQ(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!Zg(e.algorithm,"HMAC"))throw cs("HMAC");const r=parseInt(t.slice(2),10);if(cw(e.algorithm.hash)!==r)throw cs(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Zg(e.algorithm,"RSASSA-PKCS1-v1_5"))throw cs("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(cw(e.algorithm.hash)!==r)throw cs(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Zg(e.algorithm,"RSA-PSS"))throw cs("RSA-PSS");const r=parseInt(t.slice(2),10);if(cw(e.algorithm.hash)!==r)throw cs(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw cs("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!Zg(e.algorithm,"ECDSA"))throw cs("ECDSA");const r=OQ(t);if(e.algorithm.namedCurve!==r)throw cs(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}FQ(e,n)}function Tx(e,t,...n){var r;if(n.length>2){const a=n.pop();e+=`one of type ${n.join(", ")}, or ${a}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const J2=(e,...t)=>Tx("Key must be ",e,...t);function Ex(e,t,...n){return Tx(`Key for the ${e} algorithm must be `,t,...n)}const Cx=e=>Ix(e),Ci=["CryptoKey"],jQ=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const a=Object.keys(r);if(!n||n.size===0){n=new Set(a);continue}for(const o of a){if(n.has(o))return!1;n.add(o)}}return!0};function LQ(e){return typeof e=="object"&&e!==null}function K2(e){if(!LQ(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const RQ=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},ml=(e,t,n=0)=>{n===0&&(t.unshift(t.length),t.unshift(6));const r=e.indexOf(t[0],n);if(r===-1)return!1;const a=e.subarray(r,r+t.length);return a.length!==t.length?!1:a.every((o,s)=>o===t[s])||ml(e,t,r+1)},Q2=e=>{switch(!0){case ml(e,[42,134,72,206,61,3,1,7]):return"P-256";case ml(e,[43,129,4,0,34]):return"P-384";case ml(e,[43,129,4,0,35]):return"P-521";case ml(e,[43,101,110]):return"X25519";case ml(e,[43,101,111]):return"X448";case ml(e,[43,101,112]):return"Ed25519";case ml(e,[43,101,113]):return"Ed448";default:throw new vy("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},_Q=async(e,t,n,r,a)=>{let o,s;const u=new Uint8Array(atob(n.replace(e,"")).split("").map(m=>m.charCodeAt(0))),d=t==="spki";switch(r){case"PS256":case"PS384":case"PS512":o={name:"RSA-PSS",hash:`SHA-${r.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":o={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${r.slice(-3)}`},s=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o={name:"RSA-OAEP",hash:`SHA-${parseInt(r.slice(-3),10)||1}`},s=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":o={name:"ECDSA",namedCurve:"P-256"},s=d?["verify"]:["sign"];break;case"ES384":o={name:"ECDSA",namedCurve:"P-384"},s=d?["verify"]:["sign"];break;case"ES512":o={name:"ECDSA",namedCurve:"P-521"},s=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const m=Q2(u);o=m.startsWith("P-")?{name:"ECDH",namedCurve:m}:{name:m},s=d?[]:["deriveBits"];break}case"EdDSA":o={name:Q2(u)},s=d?["verify"]:["sign"];break;default:throw new vy('Invalid or unsupported "alg" (Algorithm) value')}return mb.subtle.importKey(t,u,o,(a==null?void 0:a.extractable)??!1,s)},HQ=(e,t,n)=>_Q(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);async function BQ(e,t,n){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw new TypeError('"spki" must be SPKI formatted string');return HQ(e,t,n)}const YQ=(e,t)=>{if(!(t instanceof Uint8Array)){if(!Cx(t))throw new TypeError(Ex(e,t,...Ci,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${Ci.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},zQ=(e,t,n)=>{if(!Cx(t))throw new TypeError(Ex(e,t,...Ci));if(t.type==="secret")throw new TypeError(`${Ci.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${Ci.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${Ci.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${Ci.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${Ci.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},UQ=(e,t,n)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?YQ(e,t):zQ(e,t,n)};function VQ(e,t,n,r,a){if(a.crit!==void 0&&r.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;n!==void 0?o=new Map([...Object.entries(n),...t.entries()]):o=t;for(const s of r.crit){if(!o.has(s))throw new vy(`Extension Header Parameter "${s}" is not recognized`);if(a[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(o.get(s)&&r[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)}const ZQ=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};function WQ(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new vy(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function $Q(e,t,n){if(Ix(t))return PQ(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(J2(t,...Ci));return mb.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(J2(t,...Ci,"Uint8Array"))}const qQ=async(e,t,n,r)=>{const a=await $Q(e,t,"verify");RQ(e,a);const o=WQ(e,a.algorithm);try{return await mb.subtle.verify(o,a,n,r)}catch{return!1}};async function GQ(e,t,n){if(!K2(e))throw new Cr("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new Cr('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new Cr("JWS Protected Header incorrect type");if(e.payload===void 0)throw new Cr("JWS Payload missing");if(typeof e.signature!="string")throw new Cr("JWS Signature missing or incorrect type");if(e.header!==void 0&&!K2(e.header))throw new Cr("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const T=lw(e.protected);r=JSON.parse(pb.decode(T))}catch{throw new Cr("JWS Protected Header is invalid")}if(!jQ(r,e.header))throw new Cr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...r,...e.header},o=VQ(Cr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,a);let s=!0;if(o.has("b64")&&(s=r.b64,typeof s!="boolean"))throw new Cr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:u}=a;if(typeof u!="string"||!u)throw new Cr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const d=n&&ZQ("algorithms",n.algorithms);if(d&&!d.has(u))throw new kQ('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof e.payload!="string")throw new Cr("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new Cr("JWS Payload must be a string or an Uint8Array instance");let m=!1;typeof t=="function"&&(t=await t(r,e),m=!0),UQ(u,t,"verify");const p=MQ(Vg.encode(e.protected??""),Vg.encode("."),typeof e.payload=="string"?Vg.encode(e.payload):e.payload);let g;try{g=lw(e.signature)}catch{throw new Cr("Failed to base64url decode the signature")}if(!await qQ(u,t,g,p))throw new AQ;let D;if(s)try{D=lw(e.payload)}catch{throw new Cr("Failed to base64url decode the payload")}else typeof e.payload=="string"?D=Vg.encode(e.payload):D=e.payload;const S={payload:D};return e.protected!==void 0&&(S.protectedHeader=r),e.header!==void 0&&(S.unprotectedHeader=e.header),m?{...S,key:t}:S}async function JQ(e,t,n){if(e instanceof Uint8Array&&(e=pb.decode(e)),typeof e!="string")throw new Cr("Compact JWS must be a string or Uint8Array");const{0:r,1:a,2:o,length:s}=e.split(".");if(s!==3)throw new Cr("Invalid Compact JWS");const u=await GQ({payload:a,protected:r,signature:o},t,n),d={payload:u.payload,protectedHeader:u.protectedHeader};return typeof t=="function"?{...d,key:u.key}:d}const KQ={webId:"globe-2",pinned:"pin",archived:"archive",visibility:"eye",deleted:"trash"};class QQ extends xi.WidgetType{constructor(n,r,a,o,s){super();me(this,"error",!1);this.view=n,this.plugin=r,this.target=a,this.type=o,this.to=s}eq(n){return this.target===n.target}toDOM(){const n=createSpan();return n.toggleClass("thino-inline-widget",!0),E.setIcon(n,KQ[this.type]||"help-circle"),E.setTooltip&&E.setTooltip(n,this.target),n}}function XQ(e){class t{constructor(a){me(this,"view");me(this,"match",new xi.MatchDecorator({regexp:/\[(webId|pinned|archived|visibility|deleted)::([^\]]+)\]/g,decorate:(a,o,s,u,d)=>{this.shouldRender(d,o,s)&&a(o,s,xi.Decoration.replace({widget:new QQ(d,e,u[0],u[1],s)}))}}));me(this,"decorations",xi.Decoration.none);this.view=a,this.updateDecorations(a)}update(a){this.updateDecorations(a.view,a)}destroy(){this.decorations=xi.Decoration.none}updateDecorations(a,o){!o||this.decorations.size===0?this.decorations=this.match.createDeco(a):this.decorations=this.match.updateDeco(o,this.decorations)}isLivePreview(a){return a.field(E.editorLivePreviewField)}shouldRender(a,o,s){return!a.state.selection.ranges.some(d=>d.from<=o?d.to>=o:d.from<=s)&&this.isLivePreview(a.state)}}const n={decorations:r=>r.decorations.update({filter:(a,o,s)=>{const u=s.spec.widget;return u&&u.error?!1:a===o||!r.view.state.selection.ranges.filter(d=>{const m=d.from,p=d.to;return m<=a?p>=a:m<=o}).length}})};return xi.ViewPlugin.fromClass(t,n)}const eX=e=>e.ctrlKey!==void 0||e.metaKey!==void 0||e.shiftKey!==void 0||e.altKey!==void 0,Wg=()=>{new E.Notice(k("Open Memos Successfully"))},$g=[{id:"open-thino-in-left-sidebar",shortName:k("Left sidebar"),name:k("Open thino in left sidebar"),icon:"arrow-left",location:"left",cb:Wg,modKeys:"shift"},{id:"open-thino-in-right-sidebar",shortName:k("Right sidebar"),name:k("Open thino in right sidebar"),icon:"arrow-right",location:"right",cb:Wg,modKeys:["ctrl","meta"]},{id:"open-thino-in-float",shortName:k("Float window"),name:k("Open thino in float window"),icon:"layout",location:"float",cb:Wg,modKeys:"alt"},{id:"open-thino-in-center",shortName:k("Center window"),name:k("Open thino in center window"),icon:"tv-2",location:"center",cb:Wg,modKeys:void 0}];class tX extends E.Plugin{constructor(){super(...arguments);me(this,"settings");me(this,"settingTab");me(this,"triggerBySelf",!1);me(this,"updatedID","");me(this,"debounceTimer",0);me(this,"apiHttpServer",null);me(this,"captureService",null);me(this,"loaded",!1)}async onload(){await this.loadSettings(),aK(),this.registerRibbon(),await this.verify(),this.checkVersionAndShowChangeLog(),this.settingTab=new gK(this.app,this),this.addSettingTab(this.settingTab),this.initEditor(),this.initURIHandler(),this.registerMobileEvent(),this.registerCommands(),this.registerCanvasNodeMemos(),this.registerHoverEvent(),this.registerEditorSuggest(new eK(this.app,this)),this.registerEditorExtension([mQ]),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this)),this.registerView(Hr,n=>new yl(n,this))}async loadSettings(){this.settings=Object.assign({},Oo,await this.loadData()),rt.setSettings(this.settings)}async saveSettings(){await this.saveData(this.settings),rt.setSettings(this.settings)}onunload(){var r;this.app.workspace.detachLeavesOfType(Hr),Te.clearMemos(),Ee.dispatch({type:"CLEAR_MEMOS",payload:null}),Ee.dispatch({type:"CLEAR_FILES",payload:null}),Ee.dispatch({type:"CLEAR_VIEW",payload:null});const n=document.body.find(".dialog-wrapper");n&&((r=n.parentElement)==null||r.detach()),this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null),this.captureService&&this.captureService.onunload(),new E.Notice(k("Close Memos Successfully"))}initEditor(){const n=()=>{const r=this.app.embedRegistry;if(!r)return!1;const a=r.embedByExtension.md,o=createEl("div"),s=a({app:this.app,containerEl:o},null,null);if(s.editable=!0,s.set(""),s.showEditor(),!s.editMode)return!1;const u=Object.getPrototypeOf(Object.getPrototypeOf(s.editMode));return rt.setEditor(u),o.detach(),!0};this.app.workspace.onLayoutReady(()=>{n()||this.app.workspace.onLayoutReady(()=>{setTimeout(()=>{n()},100)})}),this.register(hv(E.MetadataCache.prototype,{getFileCache:r=>function(a){return!(a!=null&&a.path)&&!a?null:r.call(this,a)}}))}initApp(){rt.setApp(this.app)}initURIHandler(){this.registerObsidianProtocolHandler("thino",async n=>{var s,u,d;if(!n)return;if(n.userid)try{const m=n.userid;vQ(m,this.app),yQ(E.moment().add(30,"days").valueOf(),this.app),Qe.setRefresh(!0)}catch(m){console.error(m),new E.Notice(k("Failed to verify"))}if(n.token)try{const m=n.token;(s=this.app)==null||s.saveLocalStorage("tokenForSync",m),setTimeout(()=>{this.app.setting.open(),this.app.setting.openTabById(this.manifest.id||"obsidian-memos"),this.settingTab.display()},200),new E.Notice(k("Saved sync token successfully"))}catch(m){console.error(m),new E.Notice(k("Failed to save"))}if(n.copyToken){this.app.setting.open(),this.app.setting.openTabById(this.manifest.id??"obsidian-memos");const m=await fx();await navigator.clipboard.writeText(m),new E.Notice(k("Copied app id successfully"))}const r=(u=rt.getState())==null?void 0:u.verifyState,a=!E.Platform.isDesktop&&await((d=window.Capacitor)==null?void 0:d.Plugins.Device.getId()),o=E.Platform.isDesktop?await zn():a.identifier||a.uuid;if(!(!r||(r==null?void 0:r.appId)!==o)){if(n.content){const m=n.type,p=decodeURI(n.content)!==n.content?decodeURI(n.content):n.content,g=n.task,w=await Te.createThino({content:p,type:m,isList:!!g});if(!w)return;Te.pushMemo(w),We.clearQuery()}n.openId&&await Te.openThinoByID(n.openId)}})}initGlobalManifest(){Qe.setPluginManifest(this.manifest)}stopServer(){this.apiHttpServer&&(this.apiHttpServer.close(),this.apiHttpServer=null)}async initServer(){var o,s;if(E.Platform.isMobile||!this.settings.EnabledHttpApi)return;const n=(o=rt.getState())==null?void 0:o.verifyState,r=!E.Platform.isDesktop&&await((s=window.Capacitor)==null?void 0:s.Plugins.Device.getId()),a=E.Platform.isDesktop?await zn():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==a||(this.apiHttpServer=IQ(this.settings),this.initServerPort())}initServerPort(){this.apiHttpServer&&this.settings.EnabledHttpApi&&this.apiHttpServer.listen(this.settings.HttpApiIpType,this.settings.HttpApiPort)}async initCaptureService(){var o,s;if(E.Platform.isMobile||!this.settings.CaptureKey.EnableCaptureKey)return;const n=(o=rt.getState())==null?void 0:o.verifyState,r=!E.Platform.isDesktop&&await((s=window.Capacitor)==null?void 0:s.Plugins.Device.getId()),a=E.Platform.isDesktop?await zn():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==a||(this.captureService=new xQ(this.app,this),await this.captureService.onload())}registerMobileEvent(){E.Platform.isMobile&&(this.registerEvent(this.app.workspace.on("receive-text-menu",(n,r)=>{n.addItem(a=>{a.setIcon("popup-open").setTitle(k("Insert as Memo")).onClick(async()=>{const o=await Te.createMemoDaily(r,!1);Te.pushMemo(o)})})})),this.registerEvent(this.app.workspace.on("receive-files-menu",(n,r)=>{n.addItem(a=>{a.setIcon("popup-open").setTitle(k("Insert file as memo content")).onClick(async()=>{const o=r.map(u=>this.app.fileManager.generateMarkdownLink(u,u.path)),s=await Te.createMemoDaily(o.join(`
`),!1);Te.pushMemo(s)})})})))}registerCommands(){$g.forEach(n=>{this.addCommand({id:n.id,name:n.name,callback:()=>this.openMemos(n.location,n.cb),hotkeys:[]})}),E.Platform.isDesktop&&this.addCommand({id:"show-thino-editor",name:k("Show thino editor"),checkCallback:n=>{if(Te.initialized&&rt.initialized)return n||new ox(this.app).open(),!0}}),this.addCommand({id:"lock-thino",name:k("Lock thino"),checkCallback:n=>{if(this.app.workspace.getActiveViewOfType(yl)&&this.settings.needVerify)return n||Qe.setLocked(!0),!0}}),this.addCommand({id:"copy-debug-info",name:k("Copy debug info"),callback:()=>{try{const n=this.app.internalPlugins.plugins["daily-notes"];let r;r={settings:{...this.settings,tokenForVerify:"***"},manifest:this.manifest,platform:E.Platform.resourcePathPrefix},n&&(r={...r,dailyNotePluginInfo:{options:n.instance.options}}),navigator.clipboard.writeText(`\`\`\`json
${JSON.stringify(r,null,2)}
\`\`\``),new E.Notice(k("Debug info copied to clipboard"))}catch(n){console.error(n)}}}),this.addCommand({id:"toggle-minimal-thino",name:k("Toggle minimal mode"),callback:()=>{const n=document.body.hasClass("minimal-thino");document.body.toggleClass("minimal-thino",!n)}}),this.addCommand({id:"focus-on-thino-editor",name:k("Focus on thino editor"),callback:()=>this.focusOnEditor(),hotkeys:[]}),this.addCommand({id:"reinit-thino-sync",name:k("ReSync web thinos to local"),callback:()=>{vJ(this.app)}}),this.addCommand({id:"init-thino-sync",name:k("Sync local thinos to web"),callback:async()=>{var r;if(!((r=this.app)==null?void 0:r.loadLocalStorage("tokenForSync"))){new E.Notice(k("Please input token first"));return}if(!this.settings.startSync){new E.Notice(k("Please enable sync first"));return}try{await Te.initSync()}catch(a){console.error(a),new E.Notice(k("Init Failed"))}}}),this.addCommand({id:"show-daily-thino",name:k("Show daily thino dialog"),callback:()=>this.openDailyMemo(),hotkeys:[]}),this.addCommand({id:"focus-on-search-bar",name:k("Focus on search bar"),callback:()=>this.searchIt(),hotkeys:[]}),this.addCommand({id:"show-thino-in-popover",name:k("Show-thino in popover(Hover editor)"),callback:()=>this.showInPopover(),hotkeys:[]})}async onLayoutReady(){this.initApp(),await this.initServer(),this.initGlobalManifest(),await this.initMemos(),this.autoOpenMemos(),this.registerThinoWidget(),await this.registerToolbarCheck(),await this.initCaptureService(),rt.setPlugin(this);const n=this.app.workspace.editorSuggest.suggests.findIndex(r=>r.type==="customTag");n!==-1?(this.app.workspace.editorSuggest.suggests.splice(n,1),this.app.workspace.editorSuggest.suggests.unshift(new G2(this.app,this))):this.app.workspace.editorSuggest.suggests.unshift(new G2(this.app,this))}async initMemos(){try{await this.initDailyNotes()}catch(n){console.error(n)}rt.getState(),Te.getState(),await Te.fetchAllMemos()}async initDailyNotes(){this.settings.EnabledLocationList.find(n=>n.value==="DAILY")&&await rt.fechLocalDailyNotes()}registerCanvasNodeMemos(){if(!E.requireApiVersion("1.2.0"))return;const n=o=>{clearTimeout(this.debounceTimer),this.debounceTimer=window.setTimeout(()=>{setTimeout(async()=>{const s=o.canvas.getData(),u=s.nodes.find(d=>d.id===o.id);if(u&&(r(u),o.canvas.setData(s),Te.getMemoById(o.id))){const m=await Te.updateMemo(o.id,u.text,u.thinoType);Te.editMemo(m)}o.canvas.requestSave(!0)},0)},800)},r=o=>{o.createdAt||(o.createdAt=E.moment().format("YYYY-MM-DD HH:mm:ss")),o.updatedAt=E.moment().format("YYYY-MM-DD HH:mm:ss"),o.deletedAt=o.deletedAt?o.deletedAt:"",o.pinned=o.pinned?o.pinned:!1,o.visibility=o.visibility?o.visibility:"PUBLIC",o.rowStatus=o.rowStatus?o.rowStatus:"NORMAL",o.thinoType=o.thinoType?o.thinoType:"JOURNAL",o.hasId=o.hasId?o.hasId:"",o.linkId=o.linkId?o.linkId:"",o.resourceList=[]},a=()=>{var w,D;const o=(w=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:w.view;if(!o||!(o==null?void 0:o.canvas))return!1;const u=((D=this.app.workspace.getLeavesOfType("canvas").first())==null?void 0:D.view).canvas.nodes.values(),m=Array.from(u).filter(S=>S.text!==void 0);if(!m||m.length===0)return!1;const p=m[0].child;if(!p)return!1;const g=hv(p.constructor.prototype,{save:S=>function(...T){S.call(this,...T),this.node.isEditing&&n(this.node)}});return this.register(g),!0};this.app.workspace.onLayoutReady(()=>{if(!a()){const o=this.app.workspace.on("layout-change",()=>{a()&&this.app.workspace.offref(o)});this.registerEvent(o)}})}registerHoverEvent(){this.registerHoverLinkSource("thino",{defaultMod:!0,display:"Thino"})}registerRibbon(){this.addRibbonIcon("Memos",k("ribbonIconTitle"),async n=>{if(n.button===2){n.preventDefault();const r=new E.Menu;$g.forEach(a=>{r.addItem(o=>{o.setTitle(a.shortName).setIcon(a.icon).onClick(async()=>{await this.openMemos(a.location,a.cb)})})}),r.showAtMouseEvent(n);return}for(let r=0;r<$g.length;r++){const a=$g[r];if(!a.modKeys){await this.openMemos(a.location,a.cb);break}if(!eX(n))continue;const o=s=>n[`${s}Key`];if(typeof a.modKeys=="string"&&o(a.modKeys)||Array.isArray(a.modKeys)&&a.modKeys.some(o)){await this.openMemos(a.location,a.cb);break}}})}registerThinoWidget(){this.registerEditorExtension([XQ(this)])}async registerToolbarCheck(){var o,s;if(this.loaded)return;const n=(o=rt.getState())==null?void 0:o.verifyState,r=!E.Platform.isDesktop&&await((s=window.Capacitor)==null?void 0:s.Plugins.Device.getId()),a=E.Platform.isDesktop?await zn():r.identifier||r.uuid;!n||(n==null?void 0:n.appId)!==a||(this.registerEditorExtension([uQ(this.app)]),this.registerEditorSuggest(new tK(this.app,this)),this.loaded=!0)}async verify(){var a;let n="";if(E.Platform.isDesktop)n=await zn();else{const o=await((a=window.Capacitor.Plugins.Device)==null?void 0:a.getId());if(!o)return;n=o.identifier||o.uuid}async function r(o){if(!o)return rt.setVerifyState(null),!1;const d=await BQ(`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr+i4MLzI40gGFHl7gdRH
UL1mH0NcWEs1/IBYDDbc9ALbvUGwDaUcVIKke+b+F4T7qISexyGd5qV0s1vNYeCk
iCTq4w3+CFDurIFYAgQYTcV6K5pL8Bpb79FEclsTnAcKgiuzKBxPZ1djKxbgnmFj
+PE+EcmX+JJK9hG1O8X+YFJoPJWl225eCoysONickiI7Ndwu9YLR8pIUb1VMyJSy
cMR87z466Nc5Hx2QhwyuiiQYL3Ru4WkNF3AVWgqeOlhBDybFFwDaV7OOMTiYtH46
3iKx6azEVS8W/gYfrW+hKp2VziPPw3oxouP/wCes/4qRlXkwyjSwtfLtpE4Rsa4+
swIDAQAB
-----END PUBLIC KEY-----`,"RS256");try{const{payload:m}=await JQ(o,d),p=JSON.parse(new TextDecoder().decode(m));return!p||p.iss!=="pkmer"||p.type!=="thino"||p.appId!==n?!1:(rt.setVerifyState(p),!0)}catch(m){console.error(m)}}return await r(this.settings.tokenForVerify[n])}async checkVersionAndShowChangeLog(){const n=this.manifest.version,r=this.settings.LastUpdatedVersion;n!==r&&(this.settings.LastUpdatedVersion=n,await this.saveSettings(),this.showChangeLog())}showChangeLog(){new gb(this.app,this.manifest.version).open()}autoOpenMemos(){this.app.workspace.getLeavesOfType(Hr).length>0||this.settings.MobileAndDesktop==="Mobile"&&E.Platform.isDesktop||this.settings.MobileAndDesktop==="Desktop"&&E.Platform.isMobile||this.settings.OpenMemosAutomatically&&this.openMemos()}async openDailyMemo(){const n=this.app.workspace.getLeavesOfType(Hr);if(!this.settings.OpenDailyMemosWithMemos){ow();return}if(n.length>0){ow();return}await this.openMemos(),ow()}async openMemos(n="center",r){const a=this.app.workspace;if(a.getLeavesOfType(Hr).length>0){const s=a.getLeavesOfType(Hr)[0];a.setActiveLeaf(s),a.revealLeaf(s);return}a.detachLeavesOfType(Hr);let o;switch(n){case"left":o=a.getLeftLeaf(!1);break;case"right":o=a.getRightLeaf(!1);break;case"float":o=a.getLeaf("window");break;default:o=a.getLeaf(!1);break}if(o&&(await o.setViewState({type:Hr}),a.revealLeaf(o)),this.settings.FocusOnEditor){const s=o.view.containerEl.querySelector("textarea");s&&s.focus()}r==null||r()}searchIt(){const n=this.app.workspace,r=n.getLeavesOfType(Hr);if(!(r.length>0)){this.openMemos();return}const a=r[0];n.setActiveLeaf(a),a.view.containerEl.querySelector(".search-bar-inputer .text-input").focus()}async focusOnEditor(){if(!(this.app.workspace.getLeavesOfType(Hr).length>0)){await this.openMemos();return}this.app.workspace.trigger("focus-on-textarea")}changeStatus(){const n=this.app.workspace,r=n.getLeavesOfType(Hr);if(!(r.length>0)){new E.Notice(k("Please Open Memos First"));return}const a=r[0];n.setActiveLeaf(a),a.view.containerEl.querySelector(".list-or-task").click()}async showInPopover(){var o,s,u;const n=this.app.workspace;if(n.detachLeavesOfType(Hr),!this.app.plugins.getPlugin("obsidian-hover-editor")){new E.Notice(k("Please install obsidian-hover-editor plugin first"));return}const a=await((o=this.app.plugins.getPlugin("obsidian-hover-editor"))==null?void 0:o.spawnPopover());a&&(await a.setViewState({type:Hr}),n.revealLeaf(a),a.view.containerEl.classList.add("mobile-view"),(s=this.settings)!=null&&s.FocusOnEditor&&a.view.containerEl.querySelector("textarea")!==void 0&&((u=a.view.containerEl.querySelector("textarea"))==null||u.focus()))}}class gb extends E.Modal{constructor(n,r){super(n);me(this,"component");this.version=r}async onOpen(){const{contentEl:n}=this;n.createEl("h2",{text:k("Thino update info")+` version ${this.version}`});try{n.createEl("h3",{text:k("Latest version")});const r=n.createDiv("current-change-log");n.createEl("hr"),n.createEl("h3",{text:k("Previous version")});const a=n.createDiv("prev-change-log"),s=await E.requestUrl("https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md");this.component=new E.Component;const[u,d]=this.getLatestVersionContent(s.text);await E.MarkdownRenderer.render(this.app,u,r,"",this.component),await E.MarkdownRenderer.render(this.app,d,a,"",this.component)}catch(r){console.error(r),n.createEl("p",{text:k("Failed to load changelog")}),n.createEl("a",{text:k("View online"),attr:{href:"https://raw.githubusercontent.com/Quorafind/Obsidian-Thino/main/CHANGELOG.md",target:"_blank"}})}}getLatestVersionContent(n){const r=/^# .+/gm,a=[...n.matchAll(r)];if(a.length===0)return[n,""];const o=a[0].index||0;let s=n.length;a.length>1&&(s=a[1].index||n.length);const u=n.substring(o,s).trim(),d=n.substring(s).trim();return[u,d]}onClose(){var r;const{contentEl:n}=this;n.empty(),(r=this.component)==null||r.unload()}}exports.ChangeLogModal=gb;exports.default=tX;
