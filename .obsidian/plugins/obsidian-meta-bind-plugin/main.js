/*
-------------------------------------------
Meta Bind Plugin - Release Build
-------------------------------------------
By: Moritz Jung (https://mprojectscode.github.io/)
Time: Thu, 09 Nov 2023 14:36:57 GMT
Version: 0.7.2
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var L6=Object.create;var eu=Object.defineProperty;var q6=Object.getOwnPropertyDescriptor;var V6=Object.getOwnPropertyNames;var U6=Object.getPrototypeOf,z6=Object.prototype.hasOwnProperty;var W6=(t,e,r)=>e in t?eu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var gr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),H6=(t,e)=>{for(var r in e)eu(t,r,{get:e[r],enumerable:!0})},Ew=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of V6(e))!z6.call(t,i)&&i!==r&&eu(t,i,{get:()=>e[i],enumerable:!(n=q6(e,i))||n.enumerable});return t};var xr=(t,e,r)=>(r=t!=null?L6(U6(t)):{},Ew(e||!t||!t.__esModule?eu(r,"default",{value:t,enumerable:!0}):r,t)),G6=t=>Ew(eu({},"__esModule",{value:!0}),t);var Wr=(t,e,r)=>(W6(t,typeof e!="symbol"?e+"":e,r),r);var Ww=gr((Ep,Cp)=>{(function(t,e){typeof Ep=="object"&&typeof Cp!="undefined"?Cp.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self).dayjs=e()})(Ep,function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",a="minute",o="hour",c="day",u="week",s="month",l="quarter",f="year",m="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var k=["th","st","nd","rd"],R=B%100;return"["+B+(k[(R-20)%10]||k[R]||k[0])+"]"}},v=function(B,k,R){var P=String(B);return!P||P.length>=k?B:""+Array(k+1-P.length).join(R)+B},C={s:v,z:function(B){var k=-B.utcOffset(),R=Math.abs(k),P=Math.floor(R/60),T=R%60;return(k<=0?"+":"-")+v(P,2,"0")+":"+v(T,2,"0")},m:function B(k,R){if(k.date()<R.date())return-B(R,k);var P=12*(R.year()-k.year())+(R.month()-k.month()),T=k.clone().add(P,s),I=R-T<0,V=k.clone().add(P+(I?-1:1),s);return+(-(P+(R-T)/(I?T-V:V-T))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:s,y:f,w:u,d:c,D:m,h:o,m:a,s:i,ms:n,Q:l}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},y="en",D={};D[y]=g;var b="$isDayjsObject",x=function(B){return B instanceof F||!(!B||!B[b])},w=function B(k,R,P){var T;if(!k)return y;if(typeof k=="string"){var I=k.toLowerCase();D[I]&&(T=I),R&&(D[I]=R,T=I);var V=k.split("-");if(!T&&V.length>1)return B(V[0])}else{var O=k.name;D[O]=k,T=O}return!P&&T&&(y=T),T||!P&&y},S=function(B,k){if(x(B))return B.clone();var R=typeof k=="object"?k:{};return R.date=B,R.args=arguments,new F(R)},E=C;E.l=w,E.i=x,E.w=function(B,k){return S(B,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var F=function(){function B(R){this.$L=w(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[b]=!0}var k=B.prototype;return k.parse=function(R){this.$d=function(P){var T=P.date,I=P.utc;if(T===null)return new Date(NaN);if(E.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var V=T.match(h);if(V){var O=V[2]-1||0,J=(V[7]||"0").substring(0,3);return I?new Date(Date.UTC(V[1],O,V[3]||1,V[4]||0,V[5]||0,V[6]||0,J)):new Date(V[1],O,V[3]||1,V[4]||0,V[5]||0,V[6]||0,J)}}return new Date(T)}(R),this.init()},k.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},k.$utils=function(){return E},k.isValid=function(){return this.$d.toString()!==p},k.isSame=function(R,P){var T=S(R);return this.startOf(P)<=T&&T<=this.endOf(P)},k.isAfter=function(R,P){return S(R)<this.startOf(P)},k.isBefore=function(R,P){return this.endOf(P)<S(R)},k.$g=function(R,P,T){return E.u(R)?this[P]:this.set(T,R)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(R,P){var T=this,I=!!E.u(P)||P,V=E.p(R),O=function(ce,pe){var ue=E.w(T.$u?Date.UTC(T.$y,pe,ce):new Date(T.$y,pe,ce),T);return I?ue:ue.endOf(c)},J=function(ce,pe){return E.w(T.toDate()[ce].apply(T.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(pe)),T)},$=this.$W,W=this.$M,q=this.$D,te="set"+(this.$u?"UTC":"");switch(V){case f:return I?O(1,0):O(31,11);case s:return I?O(1,W):O(0,W+1);case u:var ge=this.$locale().weekStart||0,oe=($<ge?$+7:$)-ge;return O(I?q-oe:q+(6-oe),W);case c:case m:return J(te+"Hours",0);case o:return J(te+"Minutes",1);case a:return J(te+"Seconds",2);case i:return J(te+"Milliseconds",3);default:return this.clone()}},k.endOf=function(R){return this.startOf(R,!1)},k.$set=function(R,P){var T,I=E.p(R),V="set"+(this.$u?"UTC":""),O=(T={},T[c]=V+"Date",T[m]=V+"Date",T[s]=V+"Month",T[f]=V+"FullYear",T[o]=V+"Hours",T[a]=V+"Minutes",T[i]=V+"Seconds",T[n]=V+"Milliseconds",T)[I],J=I===c?this.$D+(P-this.$W):P;if(I===s||I===f){var $=this.clone().set(m,1);$.$d[O](J),$.init(),this.$d=$.set(m,Math.min(this.$D,$.daysInMonth())).$d}else O&&this.$d[O](J);return this.init(),this},k.set=function(R,P){return this.clone().$set(R,P)},k.get=function(R){return this[E.p(R)]()},k.add=function(R,P){var T,I=this;R=Number(R);var V=E.p(P),O=function(W){var q=S(I);return E.w(q.date(q.date()+Math.round(W*R)),I)};if(V===s)return this.set(s,this.$M+R);if(V===f)return this.set(f,this.$y+R);if(V===c)return O(1);if(V===u)return O(7);var J=(T={},T[a]=e,T[o]=r,T[i]=t,T)[V]||1,$=this.$d.getTime()+R*J;return E.w($,this)},k.subtract=function(R,P){return this.add(-1*R,P)},k.format=function(R){var P=this,T=this.$locale();if(!this.isValid())return T.invalidDate||p;var I=R||"YYYY-MM-DDTHH:mm:ssZ",V=E.z(this),O=this.$H,J=this.$m,$=this.$M,W=T.weekdays,q=T.months,te=T.meridiem,ge=function(pe,ue,ae,me){return pe&&(pe[ue]||pe(P,I))||ae[ue].slice(0,me)},oe=function(pe){return E.s(O%12||12,pe,"0")},ce=te||function(pe,ue,ae){var me=pe<12?"AM":"PM";return ae?me.toLowerCase():me};return I.replace(d,function(pe,ue){return ue||function(ae){switch(ae){case"YY":return String(P.$y).slice(-2);case"YYYY":return E.s(P.$y,4,"0");case"M":return $+1;case"MM":return E.s($+1,2,"0");case"MMM":return ge(T.monthsShort,$,q,3);case"MMMM":return ge(q,$);case"D":return P.$D;case"DD":return E.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return ge(T.weekdaysMin,P.$W,W,2);case"ddd":return ge(T.weekdaysShort,P.$W,W,3);case"dddd":return W[P.$W];case"H":return String(O);case"HH":return E.s(O,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return ce(O,J,!0);case"A":return ce(O,J,!1);case"m":return String(J);case"mm":return E.s(J,2,"0");case"s":return String(P.$s);case"ss":return E.s(P.$s,2,"0");case"SSS":return E.s(P.$ms,3,"0");case"Z":return V}return null}(pe)||V.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(R,P,T){var I,V=this,O=E.p(P),J=S(R),$=(J.utcOffset()-this.utcOffset())*e,W=this-J,q=function(){return E.m(V,J)};switch(O){case f:I=q()/12;break;case s:I=q();break;case l:I=q()/3;break;case u:I=(W-$)/6048e5;break;case c:I=(W-$)/864e5;break;case o:I=W/r;break;case a:I=W/e;break;case i:I=W/t;break;default:I=W}return T?I:E.a(I)},k.daysInMonth=function(){return this.endOf(s).$D},k.$locale=function(){return D[this.$L]},k.locale=function(R,P){if(!R)return this.$L;var T=this.clone(),I=w(R,P,!0);return I&&(T.$L=I),T},k.clone=function(){return E.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},B}(),M=F.prototype;return S.prototype=M,[["$ms",n],["$s",i],["$m",a],["$H",o],["$W",c],["$M",s],["$y",f],["$D",m]].forEach(function(B){M[B[1]]=function(k){return this.$g(k,B[0],B[1])}}),S.extend=function(B,k){return B.$i||(B(k,F,S),B.$i=!0),S},S.locale=w,S.isDayjs=x,S.unix=function(B){return S(1e3*B)},S.en=D[y],S.Ls=D,S.p={},S})});var bE=gr(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.OPDUtilsObjectTraversalError=Zo.OPDUtilsParsingError=void 0;var Op=class extends Error{constructor(e){super(e)}};Zo.OPDUtilsParsingError=Op;var kp=class extends Error{constructor(e){super(e)}};Zo.OPDUtilsObjectTraversalError=kp});var Lp=gr(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.validatePath=Kn.parsePath=Kn.traverseObjectByPath=Kn.traverseObjectToParent=Kn.traverseObject=void 0;var ra=bE();function DL(t,e){let r=Pp(t);return Rp(r,e)}Kn.traverseObject=DL;function wL(t,e){var r;let n=Pp(t);if(n[0]==="")throw new ra.OPDUtilsObjectTraversalError("can not traverse to parent on self reference");let i=n.slice(0,-1),a=(r=n.at(-1))!==null&&r!==void 0?r:"",o=Rp(i,e);return{parent:{key:i,value:o},child:{key:a,value:o[a]}}}Kn.traverseObjectToParent=wL;function Rp(t,e){for(let r of t){if(r==="")return e;if(e===void 0)return;e=e[r]}return e}Kn.traverseObjectByPath=Rp;function Pp(t){return t=t.replace(/'/g,'"'),xE(t),t.split(".").map(e=>e.split("[").map(r=>(r.endsWith("]")&&(r=r.slice(0,-1)),r.startsWith('"')&&r.endsWith('"')&&(r=r.slice(1,-1)),r))).flat()}Kn.parsePath=Pp;function xE(t){let e="0123456789",r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=!1,i=!1;for(let a=0;a<t.length;a++){let o=t[a],c=t[a+1];if(o==="."){if(a===0)throw new ra.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${t}", path may not start with '.'`);if(!(r.includes(c)||c==="_"||c==="$"))throw new ra.OPDUtilsObjectTraversalError(`Invalid character '${c}' at position ${a+1} in "${t}", expected a letter, '_' or '$' to follow '.'`)}if(o==="[")if(e.includes(c)){i=!0;continue}else if(c==='"'){if(t[a+2]==='"')throw new ra.OPDUtilsObjectTraversalError(`Invalid character '${t[a+2]}' at position ${a+2} in "${t}", the string between the quotation-marks may not be empty`);n=!0,a+=1;continue}else throw new ra.OPDUtilsObjectTraversalError(`Invalid character '${c}' at position ${a+1} in "${t}", expected number or '"' to follow a '['`);if(n&&o==='"')if(c==="]"){n=!1,a+=1;continue}else throw new ra.OPDUtilsObjectTraversalError(`Invalid character '${c}' at position ${a+1} in "${t}", expected ']' to follow a '"'`);if(i&&o==="]"){i=!1;continue}if(n&&(o==="."||o==="]"||o==="["))throw new ra.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${t}"`);if(i&&!e.includes(o))throw new ra.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${t}", number expected inside of brackets`);if(!i&&!n&&o==="]")throw new ra.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${t}", expected '[' to proceed`)}}Kn.validatePath=xE});var Jl=gr(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.P_HELPERS=Tn.ParserHelpers=Tn.validateRegexFlags=Tn.validateRange=Tn.getIndex=Tn.arrayUnion=void 0;var Xp=Xl();function _L(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0)return e;if(e===void 0)return t;for(let r of e)t.includes(r)||t.push(r);return t}}Tn.arrayUnion=_L;function ML(t){return t===void 0?-1:t.index}Tn.getIndex=ML;function TL(t,e){if(e<t)throw new Error(`Invalid Range: max might not be smaller than min. Received [${t}, ${e}].`);if(t<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${t}, ${e}].`);if(t===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${t}, ${e}].`);if(!Number.isInteger(t)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${t}, ${e}].`)}Tn.validateRange=TL;function IL(t){for(let e of t)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}Tn.validateRegexFlags=IL;var Yl=class{followedBy(e){return new Xp.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new Xp.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new Xp.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};Tn.ParserHelpers=Yl;Tn.P_HELPERS=new Yl});var ME=gr(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.ParserContext=void 0;var Qp=Jl(),Kp=class t{constructor(e,r){this.input=e,this.position=r}moveToPosition(e){return this.position=e,this}copy(){return new t(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let r=this.position.index;r<e;r++)this.input[r]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,r){return this.succeedAt(this.position.index+e,r)}failOffset(e,r){return this.failAt(this.position.index+e,r)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,r){return this.advanceTo(e),{success:!0,value:r,furthest:void 0,expected:void 0}}failAt(e,r){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(r)?r:[r]}}merge(e,r){if(e===void 0)return r;let n=(0,Qp.getIndex)(e.furthest),i=(0,Qp.getIndex)(r.furthest);if(i>n)return r;let a=i===n?(0,Qp.arrayUnion)(e.expected,r.expected):e.expected;return r.furthest=e.furthest,r.expected=a,r}};Ql.ParserContext=Kp});var ho=gr($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.P_UTILS=void 0;var Kl=Xl(),nr=Fa(),$p=class t{static position(){return new Kl.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Kl.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Kl.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Kl.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return nr.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return nr.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return nr.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return nr.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return nr.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return nr.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return nr.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return nr.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return nr.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return nr.P.regexp(/^\s+/).describe("whitespace")}static cr(){return nr.P.string("\r")}static lf(){return nr.P.string(`
`)}static crlf(){return nr.P.string(`\r
`)}static newline(){return nr.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,r,n){return nr.P.sequenceMap((i,a)=>i.reduce((o,c)=>n(c,o),a),e.many(),r)}static postfix(e,r,n){return nr.P.sequenceMap((i,a)=>a.reduce((o,c)=>n(c,o),i),r,e.many())}static binaryRight(e,r,n){return nr.P.sequenceMap((i,a)=>i.reverse().reduce((o,c)=>{let[u,s]=c;return n(u,s,o)},a),nr.P.sequence(r,e.trim(this.optionalWhitespace())).many(),r)}static binaryLeft(e,r,n){return nr.P.sequenceMap((i,a)=>a.reduce((o,c)=>{let[u,s]=c;return n(o,u,s)},i),r,nr.P.sequence(e.trim(this.optionalWhitespace()),r).many())}static binaryRightRange(e,r,n){return nr.P.sequenceMap((i,a,o)=>i.reverse().reduce((c,u)=>{let[s,l,f]=u;return n({from:s,to:o},l,f,c)},a),nr.P.sequence(t.position(),r,e.trim(this.optionalWhitespace())).many(),r,t.position())}static binaryLeftRange(e,r,n){return nr.P.sequenceMap((i,a,o)=>o.reduce((c,u)=>{let[s,l,f]=u;return n({from:i,to:f},c,s,l)},a),t.position(),r,nr.P.sequence(e.trim(this.optionalWhitespace()),r,t.position()).many())}static func(e,r,n){let i=typeof e=="string"?nr.P.string(e):e;return nr.P.sequenceMap((a,o,c,u,s,l)=>n(a,u),i,nr.P.string("("),this.optionalWhitespace(),r,this.optionalWhitespace(),nr.P.string(")"))}};$l.P_UTILS=$p});var IE=gr(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.ParsingError=Ko.createParsingErrorMessage=void 0;function TE(t,e,r){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(r){let o=t.split(`
`)[e.furthest.line-1],c=`${e.furthest.line} |   `;i+=`

${c}${o}`,i+=`
${" ".repeat(e.furthest.column-1+c.length)}^ (${n})`}return i}Ko.createParsingErrorMessage=TE;var ed=class extends Error{constructor(e,r){super(TE(e,r,!0))}};Ko.ParsingError=ed});var Xl=gr(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.Parser=void 0;var BL=ME(),$n=Fa(),td=Jl(),$o=ho(),OL=IE(),rd=class t{constructor(e){this.p=e}tryParse(e){return this.p(new BL.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let r=this.tryParse(e);if(r.success)return r.value;throw new OL.ParsingError(e,r)}or(e){return $n.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim($n.P.string(e))}wrap(e,r){let n=this;return new t(function(a){let o=e.p(a);if(!o.success)return o;let c=a.merge(o,n.p(a));if(!c.success)return c;let u=a.merge(c,r.p(a));return u.success?a.merge(u,a.succeed(c.value)):u})}wrapString(e,r){return this.wrap($n.P.string(e),$n.P.string(r))}then(e){let r=this;return new t(function(i){let a=r.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let r=this;return new t(function(i){let a=r.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return $n.P.sequence(this,e)}many(){let e=this;return new t(function(n){let i,a=n.position.index,o=[];for(;;){let c=n.copy(),u=e.p(c);if(i=n.merge(i,u),i.success){if(c.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(c.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,r){(0,td.validateRange)(e,r);let n=this;return new t(function(a){let o,c,u=[],s=0;for(;s<e;s++)if(o=n.p(a),c=a.merge(c,o),o.success)u.push(o.value);else return c;for(;s<r;s++){let l=a.copy();if(o=n.p(l),c=a.merge(c,o),o.success)a.moveToPosition(l.position),u.push(o.value);else break}return a.merge(c,a.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return $n.P.sequenceMap((r,n)=>r.concat(n),this.repeat(e,e),this.many())}separateBy(e){return $n.P.separateBy(this,e)}separateByNotEmpty(e){return $n.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let r=this;return new t(function(i){let a=r.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return $n.P.sequenceMap(function(r,n,i){return{value:n,range:{from:r,to:i}}},$o.P_UTILS.position(),this,$o.P_UTILS.position())}namedMarker(e){return $n.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},$o.P_UTILS.position(),this,$o.P_UTILS.position())}node(e){return $n.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},$o.P_UTILS.position(),this,$o.P_UTILS.position())}followedBy(e){return this.skip(td.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(td.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let r=this;return new t(function(i){let a=r.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let r=this;return new t(function(i){var a;let o=r.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or($n.P.succeed(e))}chain(e){let r=this;return new t(function(i){let a=r.p(i);if(!a.success)return a;let c=e(a.value).p(i);return i.merge(a,c)})}thenEof(){let e=this;return new t(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,r="",n=new Map,i=new Map;return new t(function(o){let c=o.position.index;if(o.input!==r)r=o.input,n.clear(),i.clear();else{let s=n.get(c),l=i.get(c);if(s!==void 0&&l!==void 0)return o.moveToPosition(Object.assign({},l)),Object.assign({},s)}let u=e.p(o);return n.set(c,Object.assign({},u)),i.set(c,o.getPosition()),u})}};ec.Parser=rd});var Fa=gr(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.P=void 0;var zn=Xl(),tc=Jl(),nd=class t{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new zn.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let u=e[o].p(n);if(i=n.merge(i,u),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...r){if(r.length===0)throw new Error("sequenceMap must have at least one parser argument");return new zn.Parser(function(i){let a,o=new Array(r.length);for(let c=0;c<r.length;c++){let s=r[c].p(i);if(a=i.merge(a,s),!a.success)return a;o[c]=a.value}return a.value=e(...o),a})}static createLanguage(e){let r={},n={},i={};for(let a in e)i[a]=t.reference(()=>e[a](r,i)),Object.defineProperty(n,a,{get:()=>{if(r[a]!==void 0)return r[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)r[a]=e[a](n,i);return r}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new zn.Parser(function(n){let i;for(let a of e){let o=a,c=n.copy(),u=o.p(c);if(i=n.merge(i,u),i.success)return n.moveToPosition(c.position),i}return i})}static separateBy(e,r){return this.separateByNotEmpty(e,r).or(t.succeed([]))}static separateByNotEmpty(e,r){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,r.then(e).many())}static string(e){let r="'"+e+"'";return new zn.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(r);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,r){(0,tc.validateRegexFlags)(e.flags);let n=e.source;return r!==void 0?new zn.Parser(function(a){let o=a.input.slice(a.position.index),c=e.exec(o);if(c!==null){let u=r!=null?r:0;if(u>=0&&u<=c.length){let l=c[0],f=c[u];return a.succeedOffset(l.length,f)}let s="expected valid match group (0 to "+c.length+") in "+n;return a.fail(s)}else return a.fail(n)}):new zn.Parser(function(a){let o=a.input.slice(a.position.index),c=e.exec(o);if(c!==null){let u=c[0];return a.succeedOffset(u.length,u)}else return a.fail(n)})}static succeed(e){return new zn.Parser(function(n){return n.succeed(e)})}static fail(e){return new zn.Parser(function(n){return n.fail(e)})}static oneOf(e){return tc.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return tc.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(r=>this.string(r))).describe(e.map(r=>`'${r}'`).join(" or "))}static manyOf(e){return new zn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new zn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new zn.Parser(e)}static range(e,r){let n=e.charCodeAt(0),i=r.charCodeAt(0);return tc.P_HELPERS.test(function(o){let c=o.charCodeAt(0);return n<=c&&c<=i}).describe(`${e}-${r}`)}static takeWhile(e){return new zn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new zn.Parser(function(n){return e().p(n)})}};rc.P=nd});var Hd=gr(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});require("obsidian");var aa=class extends Error{},hd=class extends aa{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},gd=class extends aa{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},vd=class extends aa{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},bo=class extends aa{},hc=class extends aa{constructor(e){super(`Invalid unit ${e}`)}},In=class extends aa{},Vi=class extends aa{constructor(){super("Zone is an abstract class")}},Ye="numeric",wi="short",Gn="long",gc={year:Ye,month:Ye,day:Ye},gC={year:Ye,month:wi,day:Ye},JL={year:Ye,month:wi,day:Ye,weekday:wi},vC={year:Ye,month:Gn,day:Ye},yC={year:Ye,month:Gn,day:Ye,weekday:Gn},bC={hour:Ye,minute:Ye},xC={hour:Ye,minute:Ye,second:Ye},DC={hour:Ye,minute:Ye,second:Ye,timeZoneName:wi},wC={hour:Ye,minute:Ye,second:Ye,timeZoneName:Gn},EC={hour:Ye,minute:Ye,hourCycle:"h23"},CC={hour:Ye,minute:Ye,second:Ye,hourCycle:"h23"},FC={hour:Ye,minute:Ye,second:Ye,hourCycle:"h23",timeZoneName:wi},SC={hour:Ye,minute:Ye,second:Ye,hourCycle:"h23",timeZoneName:Gn},AC={year:Ye,month:Ye,day:Ye,hour:Ye,minute:Ye},NC={year:Ye,month:Ye,day:Ye,hour:Ye,minute:Ye,second:Ye},_C={year:Ye,month:wi,day:Ye,hour:Ye,minute:Ye},MC={year:Ye,month:wi,day:Ye,hour:Ye,minute:Ye,second:Ye},XL={year:Ye,month:wi,day:Ye,weekday:wi,hour:Ye,minute:Ye},TC={year:Ye,month:Gn,day:Ye,hour:Ye,minute:Ye,timeZoneName:wi},IC={year:Ye,month:Gn,day:Ye,hour:Ye,minute:Ye,second:Ye,timeZoneName:wi},BC={year:Ye,month:Gn,day:Ye,weekday:Gn,hour:Ye,minute:Ye,timeZoneName:Gn},OC={year:Ye,month:Gn,day:Ye,weekday:Gn,hour:Ye,minute:Ye,second:Ye,timeZoneName:Gn},Do=class{get type(){throw new Vi}get name(){throw new Vi}get ianaName(){return this.name}get isUniversal(){throw new Vi}offsetName(e,r){throw new Vi}formatOffset(e,r){throw new Vi}offset(e){throw new Vi}equals(e){throw new Vi}get isValid(){throw new Vi}},sd=null,vc=class t extends Do{static get instance(){return sd===null&&(sd=new t),sd}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return RC(e,r,n)}formatOffset(e,r){return Du(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},pc={};function QL(t){return pc[t]||(pc[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),pc[t]}var KL={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function $L(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,a,o,c,u,s,l]=n;return[o,i,a,c,u,s,l]}function e5(t,e){let r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){let{type:a,value:o}=r[i],c=KL[a];a==="era"?n[c]=o:qt(c)||(n[c]=parseInt(o,10))}return n}var lc={},Ma=class t extends Do{static create(e){return lc[e]||(lc[e]=new t(e)),lc[e]}static resetCache(){lc={},pc={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(r){return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return RC(e,r,n,this.name)}formatOffset(e,r){return Du(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=QL(this.name),[i,a,o,c,u,s,l]=n.formatToParts?e5(n,r):$L(n,r);c==="BC"&&(i=-Math.abs(i)+1);let m=Pd({year:i,month:a,day:o,hour:u===24?0:u,minute:s,second:l,millisecond:0}),p=+r,h=p%1e3;return p-=h>=0?h:1e3+h,(m-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},UE={};function t5(t,e={}){let r=JSON.stringify([t,e]),n=UE[r];return n||(n=new Intl.ListFormat(t,e),UE[r]=n),n}var yd={};function bd(t,e={}){let r=JSON.stringify([t,e]),n=yd[r];return n||(n=new Intl.DateTimeFormat(t,e),yd[r]=n),n}var xd={};function r5(t,e={}){let r=JSON.stringify([t,e]),n=xd[r];return n||(n=new Intl.NumberFormat(t,e),xd[r]=n),n}var Dd={};function n5(t,e={}){let{base:r,...n}=e,i=JSON.stringify([t,n]),a=Dd[i];return a||(a=new Intl.RelativeTimeFormat(t,e),Dd[i]=a),a}var bu=null;function i5(){return bu||(bu=new Intl.DateTimeFormat().resolvedOptions().locale,bu)}function a5(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=bd(t).resolvedOptions(),i=t}catch(c){let u=t.substring(0,r);n=bd(u).resolvedOptions(),i=u}let{numberingSystem:a,calendar:o}=n;return[i,a,o]}}function o5(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function s5(t){let e=[];for(let r=1;r<=12;r++){let n=Nt.utc(2016,r,1);e.push(t(n))}return e}function u5(t){let e=[];for(let r=1;r<=7;r++){let n=Nt.utc(2016,11,13+r);e.push(t(n))}return e}function cc(t,e,r,n,i){let a=t.listingMode(r);return a==="error"?null:a==="en"?n(e):i(e)}function l5(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var wd=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:i,floor:a,...o}=n;if(!r||Object.keys(o).length>0){let c={useGrouping:!1,...n};n.padTo>0&&(c.minimumIntegerDigits=n.padTo),this.inf=r5(e,c)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):Rd(e,3);return Br(r,this.padTo)}}},Ed=class{constructor(e,r,n){this.opts=n;let i;if(e.zone.isUniversal){let o=-1*(e.offset/60),c=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Ma.create(c).valid?(i=c,this.dt=e):(i="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Nt.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);let a={...this.opts};a.timeZone=a.timeZone||i,this.dtf=bd(r,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},Cd=class{constructor(e,r,n){this.opts={style:"long",...n},!r&&kC()&&(this.rtf=n5(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):F5(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},Cr=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,i=!1){let a=e||Er.defaultLocale,o=a||(i?"en-US":i5()),c=r||Er.defaultNumberingSystem,u=n||Er.defaultOutputCalendar;return new t(o,c,u,a)}static resetCache(){bu=null,yd={},xd={},Dd={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return t.create(e,r,n)}constructor(e,r,n,i){let[a,o,c]=a5(e);this.locale=a,this.numberingSystem=r||o||null,this.outputCalendar=n||c||null,this.intl=o5(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=l5(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1,n=!0){return cc(this,e,n,qC,()=>{let i=r?{month:e,day:"numeric"}:{month:e},a=r?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=s5(o=>this.extract(o,i,"month"))),this.monthsCache[a][e]})}weekdays(e,r=!1,n=!0){return cc(this,e,n,zC,()=>{let i=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=r?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=u5(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return cc(this,void 0,e,()=>WC,()=>{if(!this.meridiemCache){let r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Nt.utc(2016,11,13,9),Nt.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(e,r=!0){return cc(this,e,r,HC,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Nt.utc(-40,1,1),Nt.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,r,n){let i=this.dtFormatter(e,r),a=i.formatToParts(),o=a.find(c=>c.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new wd(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new Ed(e,this.intl,r)}relFormatter(e={}){return new Cd(this.intl,this.isEnglish(),e)}listFormatter(e={}){return t5(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},ud=null,ni=class t extends Do{static get utcInstance(){return ud===null&&(ud=new t(0)),ud}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new t(Fc(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Du(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Du(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Du(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},Fd=class extends Do{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function _a(t,e){if(qt(t)||t===null)return e;if(t instanceof Do)return t;if(c5(t)){let r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?vc.instance:r==="utc"||r==="gmt"?ni.utcInstance:ni.parseSpecifier(r)||Ma.create(t)}else return xo(t)?ni.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new Fd(t)}var zE=()=>Date.now(),WE="system",HE=null,GE=null,jE=null,ZE=60,YE,Er=class{static get now(){return zE}static set now(e){zE=e}static set defaultZone(e){WE=e}static get defaultZone(){return _a(WE,vc.instance)}static get defaultLocale(){return HE}static set defaultLocale(e){HE=e}static get defaultNumberingSystem(){return GE}static set defaultNumberingSystem(e){GE=e}static get defaultOutputCalendar(){return jE}static set defaultOutputCalendar(e){jE=e}static get twoDigitCutoffYear(){return ZE}static set twoDigitCutoffYear(e){ZE=e%100}static get throwOnInvalid(){return YE}static set throwOnInvalid(e){YE=e}static resetCaches(){Cr.resetCache(),Ma.resetCache()}};function qt(t){return typeof t=="undefined"}function xo(t){return typeof t=="number"}function Cc(t){return typeof t=="number"&&t%1===0}function c5(t){return typeof t=="string"}function f5(t){return Object.prototype.toString.call(t)==="[object Date]"}function kC(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function m5(t){return Array.isArray(t)?t:[t]}function JE(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{let a=[e(i),i];return n&&r(n[0],a[0])===n[0]?n:a},null)[1]}function p5(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function fs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ia(t,e,r){return Cc(t)&&t>=e&&t<=r}function d5(t,e){return t-e*Math.floor(t/e)}function Br(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Na(t){if(!(qt(t)||t===null||t===""))return parseInt(t,10)}function vo(t){if(!(qt(t)||t===null||t===""))return parseFloat(t)}function kd(t){if(!(qt(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Rd(t,e,r=!1){let n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Cu(t){return t%4===0&&(t%100!==0||t%400===0)}function xu(t){return Cu(t)?366:365}function yc(t,e){let r=d5(e-1,12)+1,n=t+(e-r)/12;return r===2?Cu(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Pd(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function bc(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function Sd(t){return t>99?t:t>Er.twoDigitCutoffYear?1900+t:2e3+t}function RC(t,e,r,n=null){let i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let o={timeZoneName:e,...a},c=new Intl.DateTimeFormat(r,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return c?c.value:null}function Fc(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function PC(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new In(`Invalid unit value ${t}`);return e}function xc(t,e){let r={};for(let n in t)if(fs(t,n)){let i=t[n];if(i==null)continue;r[e(n)]=PC(i)}return r}function Du(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Br(r,2)}:${Br(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${Br(r,2)}${Br(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Sc(t){return p5(t,["hour","minute","second","millisecond"])}var h5=["January","February","March","April","May","June","July","August","September","October","November","December"],LC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g5=["J","F","M","A","M","J","J","A","S","O","N","D"];function qC(t){switch(t){case"narrow":return[...g5];case"short":return[...LC];case"long":return[...h5];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var VC=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],UC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],v5=["M","T","W","T","F","S","S"];function zC(t){switch(t){case"narrow":return[...v5];case"short":return[...UC];case"long":return[...VC];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var WC=["AM","PM"],y5=["Before Christ","Anno Domini"],b5=["BC","AD"],x5=["B","A"];function HC(t){switch(t){case"narrow":return[...x5];case"short":return[...b5];case"long":return[...y5];default:return null}}function D5(t){return WC[t.hour<12?0:1]}function w5(t,e){return zC(e)[t.weekday-1]}function E5(t,e){return qC(e)[t.month-1]}function C5(t,e){return HC(e)[t.year<0?0:1]}function F5(t,e,r="always",n=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&a){let f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${i[t][0]}`;case-1:return f?"yesterday":`last ${i[t][0]}`;case 0:return f?"today":`this ${i[t][0]}`}}let o=Object.is(e,-0)||e<0,c=Math.abs(e),u=c===1,s=i[t],l=n?u?s[1]:s[2]||s[1]:u?i[t][0]:t;return o?`${c} ${l} ago`:`in ${c} ${l}`}function XE(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var S5={D:gc,DD:gC,DDD:vC,DDDD:yC,t:bC,tt:xC,ttt:DC,tttt:wC,T:EC,TT:CC,TTT:FC,TTTT:SC,f:AC,ff:_C,fff:TC,ffff:BC,F:NC,FF:MC,FFF:IC,FFFF:OC},Wn=class t{static create(e,r={}){return new t(e,r)}static parseFormat(e){let r=null,n="",i=!1,a=[];for(let o=0;o<e.length;o++){let c=e.charAt(o);c==="'"?(n.length>0&&a.push({literal:i,val:n}),r=null,n="",i=!i):i||c===r?n+=c:(n.length>0&&a.push({literal:!1,val:n}),n=c,r=c)}return n.length>0&&a.push({literal:i,val:n}),a}static macroTokenToFormatOpts(e){return S5[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTime(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTimeParts(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).formatToParts()}formatInterval(e,r={}){return this.loc.dtFormatter(e.start,{...this.opts,...r}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return Br(e,r);let n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(p,h)=>this.loc.extract(e,p,h),o=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",c=()=>n?D5(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(p,h)=>n?E5(e,p):a(h?{month:p}:{month:p,day:"numeric"},"month"),s=(p,h)=>n?w5(e,p):a(h?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),l=p=>{let h=t.macroTokenToFormatOpts(p);return h?this.formatWithSystemDefault(e,h):p},f=p=>n?C5(e,p):a({era:p},"era"),m=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return s("short",!0);case"cccc":return s("long",!0);case"ccccc":return s("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return s("short",!1);case"EEEE":return s("long",!1);case"EEEEE":return s("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return l(p)}};return XE(t.parseFormat(r),m)}formatDurationFromString(e,r){let n=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>s=>{let l=n(s);return l?this.num(u.get(l),s.length):s},a=t.parseFormat(r),o=a.reduce((u,{literal:s,val:l})=>s?u:u.concat(l),[]),c=e.shiftTo(...o.map(n).filter(u=>u));return XE(a,i(c))}},Hn=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},GC=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ms(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function ps(...t){return e=>t.reduce(([r,n,i],a)=>{let[o,c,u]=a(e,i);return[{...r,...o},c||n,u]},[{},null,1]).slice(0,2)}function ds(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let i=r.exec(t);if(i)return n(i)}return[null,null]}function jC(...t){return(e,r)=>{let n={},i;for(i=0;i<t.length;i++)n[t[i]]=Na(e[r+i]);return[n,null,r+i]}}var ZC=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,A5=`(?:${ZC.source}?(?:\\[(${GC.source})\\])?)?`,Ld=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,YC=RegExp(`${Ld.source}${A5}`),qd=RegExp(`(?:T${YC.source})?`),N5=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,_5=/(\d{4})-?W(\d\d)(?:-?(\d))?/,M5=/(\d{4})-?(\d{3})/,T5=jC("weekYear","weekNumber","weekDay"),I5=jC("year","ordinal"),B5=/(\d{4})-(\d\d)-(\d\d)/,JC=RegExp(`${Ld.source} ?(?:${ZC.source}|(${GC.source}))?`),O5=RegExp(`(?: ${JC.source})?`);function ls(t,e,r){let n=t[e];return qt(n)?r:Na(n)}function k5(t,e){return[{year:ls(t,e),month:ls(t,e+1,1),day:ls(t,e+2,1)},null,e+3]}function hs(t,e){return[{hours:ls(t,e,0),minutes:ls(t,e+1,0),seconds:ls(t,e+2,0),milliseconds:kd(t[e+3])},null,e+4]}function Fu(t,e){let r=!t[e]&&!t[e+1],n=Fc(t[e+1],t[e+2]),i=r?null:ni.instance(n);return[{},i,e+3]}function Su(t,e){let r=t[e]?Ma.create(t[e]):null;return[{},r,e+1]}var R5=RegExp(`^T?${Ld.source}$`),P5=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function L5(t){let[e,r,n,i,a,o,c,u,s]=t,l=e[0]==="-",f=u&&u[0]==="-",m=(p,h=!1)=>p!==void 0&&(h||p&&l)?-p:p;return[{years:m(vo(r)),months:m(vo(n)),weeks:m(vo(i)),days:m(vo(a)),hours:m(vo(o)),minutes:m(vo(c)),seconds:m(vo(u),u==="-0"),milliseconds:m(kd(s),f)}]}var q5={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Vd(t,e,r,n,i,a,o){let c={year:e.length===2?Sd(Na(e)):Na(e),month:LC.indexOf(r)+1,day:Na(n),hour:Na(i),minute:Na(a)};return o&&(c.second=Na(o)),t&&(c.weekday=t.length>3?VC.indexOf(t)+1:UC.indexOf(t)+1),c}var V5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function U5(t){let[,e,r,n,i,a,o,c,u,s,l,f]=t,m=Vd(e,i,n,r,a,o,c),p;return u?p=q5[u]:s?p=0:p=Fc(l,f),[m,new ni(p)]}function z5(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var W5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,H5=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,G5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function QE(t){let[,e,r,n,i,a,o,c]=t;return[Vd(e,i,n,r,a,o,c),ni.utcInstance]}function j5(t){let[,e,r,n,i,a,o,c]=t;return[Vd(e,c,r,n,i,a,o),ni.utcInstance]}var Z5=ms(N5,qd),Y5=ms(_5,qd),J5=ms(M5,qd),X5=ms(YC),XC=ps(k5,hs,Fu,Su),Q5=ps(T5,hs,Fu,Su),K5=ps(I5,hs,Fu,Su),$5=ps(hs,Fu,Su);function e7(t){return ds(t,[Z5,XC],[Y5,Q5],[J5,K5],[X5,$5])}function t7(t){return ds(z5(t),[V5,U5])}function r7(t){return ds(t,[W5,QE],[H5,QE],[G5,j5])}function n7(t){return ds(t,[P5,L5])}var i7=ps(hs);function a7(t){return ds(t,[R5,i7])}var o7=ms(B5,O5),s7=ms(JC),u7=ps(hs,Fu,Su);function l7(t){return ds(t,[o7,XC],[s7,u7])}var c7="Invalid Duration",QC={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},f7={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...QC},ti=146097/400,os=146097/4800,m7={years:{quarters:4,months:12,weeks:ti/7,days:ti,hours:ti*24,minutes:ti*24*60,seconds:ti*24*60*60,milliseconds:ti*24*60*60*1e3},quarters:{months:3,weeks:ti/28,days:ti/4,hours:ti*24/4,minutes:ti*24*60/4,seconds:ti*24*60*60/4,milliseconds:ti*24*60*60*1e3/4},months:{weeks:os/7,days:os,hours:os*24,minutes:os*24*60,seconds:os*24*60*60,milliseconds:os*24*60*60*1e3},...QC},yo=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],p7=yo.slice(0).reverse();function Aa(t,e,r=!1){let n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new mt(n)}function d7(t){return t<0?Math.floor(t):Math.ceil(t)}function KC(t,e,r,n,i){let a=t[i][r],o=e[r]/a,c=Math.sign(o)===Math.sign(n[i]),u=!c&&n[i]!==0&&Math.abs(o)<=1?d7(o):Math.trunc(o);n[i]+=u,e[r]-=u*a}function h7(t,e){p7.reduce((r,n)=>qt(e[n])?r:(r&&KC(t,e,r,e,n),n),null)}function g7(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var mt=class t{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?m7:f7;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Cr.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return t.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new In(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:xc(e,t.normalizeUnit),loc:Cr.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(xo(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new In(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=n7(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=a7(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new In("need to specify a reason the Duration is invalid");let n=e instanceof Hn?e:new Hn(e,r);if(Er.throwOnInvalid)throw new vd(n);return new t({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new hc(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Wn.create(this.loc,n).formatDurationFromString(this,e):c7}toHuman(e={}){let r=yo.map(n=>{let i=this.values[n];return qt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Rd(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();if(r<0||r>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let n=this.shiftTo("hours","minutes","seconds","milliseconds"),i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let a=n.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e),n={};for(let i of yo)(fs(r.values,i)||fs(this.values,i))&&(n[i]=r.get(i)+this.get(i));return Aa(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=PC(e(this.values[n],n));return Aa(this,{values:r},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r={...this.values,...xc(e,t.normalizeUnit)};return Aa(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){let o={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return Aa(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return h7(this.matrix,e),Aa(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=g7(this.normalize().shiftToAll().toObject());return Aa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>t.normalizeUnit(o));let r={},n={},i=this.toObject(),a;for(let o of yo)if(e.indexOf(o)>=0){a=o;let c=0;for(let s in n)c+=this.matrix[s][o]*n[s],n[s]=0;xo(i[o])&&(c+=i[o]);let u=Math.trunc(c);r[o]=u,n[o]=(c*1e3-u*1e3)/1e3;for(let s in i)yo.indexOf(s)>yo.indexOf(o)&&KC(this.matrix,i,s,r,o)}else xo(i[o])&&(n[o]=i[o]);for(let o in n)n[o]!==0&&(r[a]+=o===a?n[o]:n[o]/this.matrix[a][o]);return Aa(this,{values:r},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return Aa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(let n of yo)if(!r(this.values[n],e.values[n]))return!1;return!0}},ss="Invalid Interval";function v7(t,e){return!t||!t.isValid?cs.invalid("missing or invalid start"):!e||!e.isValid?cs.invalid("missing or invalid end"):e<t?cs.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var cs=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new In("need to specify a reason the Interval is invalid");let n=e instanceof Hn?e:new Hn(e,r);if(Er.throwOnInvalid)throw new gd(n);return new t({invalid:n})}static fromDateTimes(e,r){let n=vu(e),i=vu(r),a=v7(n,i);return a==null?new t({start:n,end:i}):a}static after(e,r){let n=mt.fromDurationLike(r),i=vu(e);return t.fromDateTimes(i,i.plus(n))}static before(e,r){let n=mt.fromDurationLike(r),i=vu(e);return t.fromDateTimes(i.minus(n),i)}static fromISO(e,r){let[n,i]=(e||"").split("/",2);if(n&&i){let a,o;try{a=Nt.fromISO(n,r),o=a.isValid}catch(s){o=!1}let c,u;try{c=Nt.fromISO(i,r),u=c.isValid}catch(s){u=!1}if(o&&u)return t.fromDateTimes(a,c);if(o){let s=mt.fromISO(i,r);if(s.isValid)return t.after(a,s)}else if(u){let s=mt.fromISO(n,r);if(s.isValid)return t.before(c,s)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?t.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(vu).filter(o=>this.contains(o)).sort(),n=[],{s:i}=this,a=0;for(;i<this.e;){let o=r[a]||this.e,c=+o>+this.e?this.e:o;n.push(t.fromDateTimes(i,c)),i=c,a+=1}return n}splitBy(e){let r=mt.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,a,o=[];for(;n<this.e;){let c=this.start.plus(r.mapUnits(u=>u*i));a=+c>+this.e?this.e:c,o.push(t.fromDateTimes(n,a)),n=a,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:t.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return t.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[i,a.union(o)]:[i.concat([a]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,i=[],a=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...a),c=o.sort((u,s)=>u.time-s.time);for(let u of c)n+=u.type==="s"?1:-1,n===1?r=u.time:(r&&+r!=+u.time&&i.push(t.fromDateTimes(r,u.time)),r=null);return t.merge(i)}difference(...e){return t.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:ss}toLocaleString(e=gc,r={}){return this.isValid?Wn.create(this.s.loc.clone(r),e).formatInterval(this):ss}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:ss}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ss}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:ss}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:ss}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):mt.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}},us=class{static hasDST(e=Er.defaultZone){let r=Nt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Ma.isValidZone(e)}static normalizeZone(e){return _a(e,Er.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Cr.create(r,n,a)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Cr.create(r,n,a)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Cr.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Cr.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Cr.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Cr.create(r,null,"gregory").eras(e)}static features(){return{relative:kC()}}};function KE(t,e){let r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(mt.fromMillis(n).as("days"))}function y7(t,e,r){let n=[["years",(u,s)=>s.year-u.year],["quarters",(u,s)=>s.quarter-u.quarter+(s.year-u.year)*4],["months",(u,s)=>s.month-u.month+(s.year-u.year)*12],["weeks",(u,s)=>{let l=KE(u,s);return(l-l%7)/7}],["days",KE]],i={},a=t,o,c;for(let[u,s]of n)r.indexOf(u)>=0&&(o=u,i[u]=s(t,e),c=a.plus(i),c>e?(i[u]--,t=a.plus(i)):t=c);return[t,i,c,o]}function b7(t,e,r,n){let[i,a,o,c]=y7(t,e,r),u=e-i,s=r.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);s.length===0&&(o<e&&(o=i.plus({[c]:1})),o!==i&&(a[c]=(a[c]||0)+u/(o-i)));let l=mt.fromObject(a,n);return s.length>0?mt.fromMillis(u,n).shiftTo(...s).plus(l):l}var Ud={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},$E={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},x7=Ud.hanidec.replace(/[\[|\]]/g,"").split("");function D7(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(Ud.hanidec)!==-1)e+=x7.indexOf(t[r]);else for(let i in $E){let[a,o]=$E[i];n>=a&&n<=o&&(e+=n-a)}}return parseInt(e,10)}else return e}function bi({numberingSystem:t},e=""){return new RegExp(`${Ud[t||"latn"]}${e}`)}var w7="missing Intl.DateTimeFormat.formatToParts support";function Zt(t,e=r=>r){return{regex:t,deser:([r])=>e(D7(r))}}var E7=String.fromCharCode(160),$C=`[ ${E7}]`,eF=new RegExp($C,"g");function C7(t){return t.replace(/\./g,"\\.?").replace(eF,$C)}function eC(t){return t.replace(/\./g,"").replace(eF," ").toLowerCase()}function xi(t,e){return t===null?null:{regex:RegExp(t.map(C7).join("|")),deser:([r])=>t.findIndex(n=>eC(r)===eC(n))+e}}function tC(t,e){return{regex:t,deser:([,r,n])=>Fc(r,n),groups:e}}function ld(t){return{regex:t,deser:([e])=>e}}function F7(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function S7(t,e){let r=bi(e),n=bi(e,"{2}"),i=bi(e,"{3}"),a=bi(e,"{4}"),o=bi(e,"{6}"),c=bi(e,"{1,2}"),u=bi(e,"{1,3}"),s=bi(e,"{1,6}"),l=bi(e,"{1,9}"),f=bi(e,"{2,4}"),m=bi(e,"{4,6}"),p=g=>({regex:RegExp(F7(g.val)),deser:([v])=>v,literal:!0}),d=(g=>{if(t.literal)return p(g);switch(g.val){case"G":return xi(e.eras("short",!1),0);case"GG":return xi(e.eras("long",!1),0);case"y":return Zt(s);case"yy":return Zt(f,Sd);case"yyyy":return Zt(a);case"yyyyy":return Zt(m);case"yyyyyy":return Zt(o);case"M":return Zt(c);case"MM":return Zt(n);case"MMM":return xi(e.months("short",!0,!1),1);case"MMMM":return xi(e.months("long",!0,!1),1);case"L":return Zt(c);case"LL":return Zt(n);case"LLL":return xi(e.months("short",!1,!1),1);case"LLLL":return xi(e.months("long",!1,!1),1);case"d":return Zt(c);case"dd":return Zt(n);case"o":return Zt(u);case"ooo":return Zt(i);case"HH":return Zt(n);case"H":return Zt(c);case"hh":return Zt(n);case"h":return Zt(c);case"mm":return Zt(n);case"m":return Zt(c);case"q":return Zt(c);case"qq":return Zt(n);case"s":return Zt(c);case"ss":return Zt(n);case"S":return Zt(u);case"SSS":return Zt(i);case"u":return ld(l);case"uu":return ld(c);case"uuu":return Zt(r);case"a":return xi(e.meridiems(),0);case"kkkk":return Zt(a);case"kk":return Zt(f,Sd);case"W":return Zt(c);case"WW":return Zt(n);case"E":case"c":return Zt(r);case"EEE":return xi(e.weekdays("short",!1,!1),1);case"EEEE":return xi(e.weekdays("long",!1,!1),1);case"ccc":return xi(e.weekdays("short",!0,!1),1);case"cccc":return xi(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return tC(new RegExp(`([+-]${c.source})(?::(${n.source}))?`),2);case"ZZZ":return tC(new RegExp(`([+-]${c.source})(${n.source})?`),2);case"z":return ld(/[a-z_+-/]{1,256}?/i);default:return p(g)}})(t)||{invalidReason:w7};return d.token=t,d}var A7={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function N7(t,e){let{type:r,value:n}=t;if(r==="literal")return{literal:!0,val:n};let i=e[r],a=A7[r];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function _7(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function M7(t,e,r){let n=t.match(e);if(n){let i={},a=1;for(let o in r)if(fs(r,o)){let c=r[o],u=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(n.slice(a,a+u))),a+=u}return[n,i]}else return[n,{}]}function T7(t){let e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return qt(t.z)||(r=Ma.create(t.z)),qt(t.Z)||(r||(r=new ni(t.Z)),n=t.Z),qt(t.q)||(t.M=(t.q-1)*3+1),qt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),qt(t.u)||(t.S=kd(t.u)),[Object.keys(t).reduce((a,o)=>{let c=e(o);return c&&(a[c]=t[o]),a},{}),r,n]}var cd=null;function I7(){return cd||(cd=Nt.fromMillis(1555555555555)),cd}function B7(t,e){if(t.literal)return t;let r=Wn.macroTokenToFormatOpts(t.val),n=nF(r,e);return n==null||n.includes(void 0)?t:n}function tF(t,e){return Array.prototype.concat(...t.map(r=>B7(r,e)))}function rF(t,e,r){let n=tF(Wn.parseFormat(r),t),i=n.map(o=>S7(o,t)),a=i.find(o=>o.invalidReason);if(a)return{input:e,tokens:n,invalidReason:a.invalidReason};{let[o,c]=_7(i),u=RegExp(o,"i"),[s,l]=M7(e,u,c),[f,m,p]=l?T7(l):[null,null,void 0];if(fs(l,"a")&&fs(l,"H"))throw new bo("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:u,rawMatches:s,matches:l,result:f,zone:m,specificOffset:p}}}function O7(t,e,r){let{result:n,zone:i,specificOffset:a,invalidReason:o}=rF(t,e,r);return[n,i,a,o]}function nF(t,e){return t?Wn.create(e,t).formatDateTimeParts(I7()).map(i=>N7(i,t)):null}var iF=[0,31,59,90,120,151,181,212,243,273,304,334],aF=[0,31,60,91,121,152,182,213,244,274,305,335];function ri(t,e){return new Hn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function oF(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let i=n.getUTCDay();return i===0?7:i}function sF(t,e,r){return r+(Cu(t)?aF:iF)[e-1]}function uF(t,e){let r=Cu(t)?aF:iF,n=r.findIndex(a=>a<e),i=e-r[n];return{month:n+1,day:i}}function Ad(t){let{year:e,month:r,day:n}=t,i=sF(e,r,n),a=oF(e,r,n),o=Math.floor((i-a+10)/7),c;return o<1?(c=e-1,o=bc(c)):o>bc(e)?(c=e+1,o=1):c=e,{weekYear:c,weekNumber:o,weekday:a,...Sc(t)}}function rC(t){let{weekYear:e,weekNumber:r,weekday:n}=t,i=oF(e,1,4),a=xu(e),o=r*7+n-i-3,c;o<1?(c=e-1,o+=xu(c)):o>a?(c=e+1,o-=xu(e)):c=e;let{month:u,day:s}=uF(c,o);return{year:c,month:u,day:s,...Sc(t)}}function fd(t){let{year:e,month:r,day:n}=t,i=sF(e,r,n);return{year:e,ordinal:i,...Sc(t)}}function nC(t){let{year:e,ordinal:r}=t,{month:n,day:i}=uF(e,r);return{year:e,month:n,day:i,...Sc(t)}}function k7(t){let e=Cc(t.weekYear),r=ia(t.weekNumber,1,bc(t.weekYear)),n=ia(t.weekday,1,7);return e?r?n?!1:ri("weekday",t.weekday):ri("week",t.week):ri("weekYear",t.weekYear)}function R7(t){let e=Cc(t.year),r=ia(t.ordinal,1,xu(t.year));return e?r?!1:ri("ordinal",t.ordinal):ri("year",t.year)}function lF(t){let e=Cc(t.year),r=ia(t.month,1,12),n=ia(t.day,1,yc(t.year,t.month));return e?r?n?!1:ri("day",t.day):ri("month",t.month):ri("year",t.year)}function cF(t){let{hour:e,minute:r,second:n,millisecond:i}=t,a=ia(e,0,23)||e===24&&r===0&&n===0&&i===0,o=ia(r,0,59),c=ia(n,0,59),u=ia(i,0,999);return a?o?c?u?!1:ri("millisecond",i):ri("second",n):ri("minute",r):ri("hour",e)}var md="Invalid DateTime",iC=864e13;function fc(t){return new Hn("unsupported zone",`the zone "${t.name}" is not supported`)}function pd(t){return t.weekData===null&&(t.weekData=Ad(t.c)),t.weekData}function hu(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Nt({...r,...e,old:r})}function fF(t,e,r){let n=t-e*60*1e3,i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;let a=r.offset(n);return i===a?[n,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function aC(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function dc(t,e,r){return fF(Pd(t),e,r)}function oC(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:n,month:i,day:Math.min(t.c.day,yc(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=mt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=Pd(a),[u,s]=fF(c,r,t.zone);return o!==0&&(u+=o,s=t.zone.offset(u)),{ts:u,o:s}}function gu(t,e,r,n,i,a){let{setZone:o,zone:c}=r;if(t&&Object.keys(t).length!==0){let u=e||c,s=Nt.fromObject(t,{...r,zone:u,specificOffset:a});return o?s:s.setZone(c)}else return Nt.invalid(new Hn("unparsable",`the input "${i}" can't be parsed as ${n}`))}function mc(t,e,r=!0){return t.isValid?Wn.create(Cr.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function dd(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=Br(t.c.year,r?6:4),e?(n+="-",n+=Br(t.c.month),n+="-",n+=Br(t.c.day)):(n+=Br(t.c.month),n+=Br(t.c.day)),n}function sC(t,e,r,n,i,a){let o=Br(t.c.hour);return e?(o+=":",o+=Br(t.c.minute),(t.c.second!==0||!r)&&(o+=":")):o+=Br(t.c.minute),(t.c.second!==0||!r)&&(o+=Br(t.c.second),(t.c.millisecond!==0||!n)&&(o+=".",o+=Br(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!a?o+="Z":t.o<0?(o+="-",o+=Br(Math.trunc(-t.o/60)),o+=":",o+=Br(Math.trunc(-t.o%60))):(o+="+",o+=Br(Math.trunc(t.o/60)),o+=":",o+=Br(Math.trunc(t.o%60)))),a&&(o+="["+t.zone.ianaName+"]"),o}var mF={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},P7={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},L7={ordinal:1,hour:0,minute:0,second:0,millisecond:0},pF=["year","month","day","hour","minute","second","millisecond"],q7=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],V7=["year","ordinal","hour","minute","second","millisecond"];function uC(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new hc(t);return e}function lC(t,e){let r=_a(e.zone,Er.defaultZone),n=Cr.fromObject(e),i=Er.now(),a,o;if(qt(t.year))a=i;else{for(let s of pF)qt(t[s])&&(t[s]=mF[s]);let c=lF(t)||cF(t);if(c)return Nt.invalid(c);let u=r.offset(i);[a,o]=dc(t,u,r)}return new Nt({ts:a,zone:r,loc:n,o})}function cC(t,e,r){let n=qt(r.round)?!0:r.round,i=(o,c)=>(o=Rd(o,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(o,c)),a=o=>r.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(r.unit)return i(a(r.unit),r.unit);for(let o of r.units){let c=a(o);if(Math.abs(c)>=1)return i(c,o)}return i(t>e?-0:0,r.units[r.units.length-1])}function fC(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var Nt=class t{constructor(e){let r=e.zone||Er.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Hn("invalid input"):null)||(r.isValid?null:fc(r));this.ts=qt(e.ts)?Er.now():e.ts;let i=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,a]=[e.old.c,e.old.o];else{let c=r.offset(this.ts);i=aC(this.ts,c),n=Number.isNaN(i.year)?new Hn("invalid input"):null,i=n?null:i,a=n?null:c}this._zone=r,this.loc=e.loc||Cr.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,r]=fC(arguments),[n,i,a,o,c,u,s]=r;return lC({year:n,month:i,day:a,hour:o,minute:c,second:u,millisecond:s},e)}static utc(){let[e,r]=fC(arguments),[n,i,a,o,c,u,s]=r;return e.zone=ni.utcInstance,lC({year:n,month:i,day:a,hour:o,minute:c,second:u,millisecond:s},e)}static fromJSDate(e,r={}){let n=f5(e)?e.valueOf():NaN;if(Number.isNaN(n))return t.invalid("invalid input");let i=_a(r.zone,Er.defaultZone);return i.isValid?new t({ts:n,zone:i,loc:Cr.fromObject(r)}):t.invalid(fc(i))}static fromMillis(e,r={}){if(xo(e))return e<-iC||e>iC?t.invalid("Timestamp out of range"):new t({ts:e,zone:_a(r.zone,Er.defaultZone),loc:Cr.fromObject(r)});throw new In(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(xo(e))return new t({ts:e*1e3,zone:_a(r.zone,Er.defaultZone),loc:Cr.fromObject(r)});throw new In("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=_a(r.zone,Er.defaultZone);if(!n.isValid)return t.invalid(fc(n));let i=Er.now(),a=qt(r.specificOffset)?n.offset(i):r.specificOffset,o=xc(e,uC),c=!qt(o.ordinal),u=!qt(o.year),s=!qt(o.month)||!qt(o.day),l=u||s,f=o.weekYear||o.weekNumber,m=Cr.fromObject(r);if((l||c)&&f)throw new bo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&c)throw new bo("Can't mix ordinal dates with month/day");let p=f||o.weekday&&!l,h,d,g=aC(i,a);p?(h=q7,d=P7,g=Ad(g)):c?(h=V7,d=L7,g=fd(g)):(h=pF,d=mF);let v=!1;for(let S of h){let E=o[S];qt(E)?v?o[S]=d[S]:o[S]=g[S]:v=!0}let C=p?k7(o):c?R7(o):lF(o),y=C||cF(o);if(y)return t.invalid(y);let D=p?rC(o):c?nC(o):o,[b,x]=dc(D,a,n),w=new t({ts:b,zone:n,o:x,loc:m});return o.weekday&&l&&e.weekday!==w.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${w.toISO()}`):w}static fromISO(e,r={}){let[n,i]=e7(e);return gu(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,i]=t7(e);return gu(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,i]=r7(e);return gu(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(qt(e)||qt(r))throw new In("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:a=null}=n,o=Cr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[c,u,s,l]=O7(o,e,r);return l?t.invalid(l):gu(c,u,n,`format ${r}`,e,s)}static fromString(e,r,n={}){return t.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,i]=l7(e);return gu(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new In("need to specify a reason the DateTime is invalid");let n=e instanceof Hn?e:new Hn(e,r);if(Er.throwOnInvalid)throw new hd(n);return new t({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=nF(e,Cr.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return tF(Wn.parseFormat(e),Cr.fromObject(r)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?pd(this).weekYear:NaN}get weekNumber(){return this.isValid?pd(this).weekNumber:NaN}get weekday(){return this.isValid?pd(this).weekday:NaN}get ordinal(){return this.isValid?fd(this.c).ordinal:NaN}get monthShort(){return this.isValid?us.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?us.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?us.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?us.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Cu(this.year)}get daysInMonth(){return yc(this.year,this.month)}get daysInYear(){return this.isValid?xu(this.year):NaN}get weeksInWeekYear(){return this.isValid?bc(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:i}=Wn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(ni.instance(e),r)}toLocal(){return this.setZone(Er.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=_a(e,Er.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){let a=e.offset(this.ts),o=this.toObject();[i]=dc(o,a,e)}return hu(this,{ts:i,zone:e})}else return t.invalid(fc(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return hu(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=xc(e,uC),n=!qt(r.weekYear)||!qt(r.weekNumber)||!qt(r.weekday),i=!qt(r.ordinal),a=!qt(r.year),o=!qt(r.month)||!qt(r.day),c=a||o,u=r.weekYear||r.weekNumber;if((c||i)&&u)throw new bo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new bo("Can't mix ordinal dates with month/day");let s;n?s=rC({...Ad(this.c),...r}):qt(r.ordinal)?(s={...this.toObject(),...r},qt(r.day)&&(s.day=Math.min(yc(s.year,s.month),s.day))):s=nC({...fd(this.c),...r});let[l,f]=dc(s,this.o,this.zone);return hu(this,{ts:l,o:f})}plus(e){if(!this.isValid)return this;let r=mt.fromDurationLike(e);return hu(this,oC(this,r))}minus(e){if(!this.isValid)return this;let r=mt.fromDurationLike(e).negate();return hu(this,oC(this,r))}startOf(e){if(!this.isValid)return this;let r={},n=mt.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){let i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?Wn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):md}toLocaleString(e=gc,r={}){return this.isValid?Wn.create(this.loc.clone(r),e).formatDateTime(this):md}toLocaleParts(e={}){return this.isValid?Wn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;let o=e==="extended",c=dd(this,o);return c+="T",c+=sC(this,o,r,n,i,a),c}toISODate({format:e="extended"}={}){return this.isValid?dd(this,e==="extended"):null}toISOWeekDate(){return mc(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:a=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+sC(this,o==="extended",r,e,n,a):null}toRFC2822(){return mc(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return mc(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?dd(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),mc(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():md}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return mt.invalid("created by diffing an invalid DateTime");let i={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=m5(r).map(mt.normalizeUnit),o=e.valueOf()>this.valueOf(),c=o?this:e,u=o?e:this,s=b7(c,u,a,i);return o?s.negate():s}diffNow(e="milliseconds",r={}){return this.diff(t.now(),e,r)}until(e){return this.isValid?cs.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;let n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(r)<=n&&n<=i.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||t.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),cC(r,this.plus(n),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?cC(e.base||t.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(t.isDateTime))throw new In("min requires all arguments be DateTimes");return JE(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new In("max requires all arguments be DateTimes");return JE(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:i=null,numberingSystem:a=null}=n,o=Cr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return rF(o,e,r)}static fromStringExplain(e,r,n={}){return t.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return gc}static get DATE_MED(){return gC}static get DATE_MED_WITH_WEEKDAY(){return JL}static get DATE_FULL(){return vC}static get DATE_HUGE(){return yC}static get TIME_SIMPLE(){return bC}static get TIME_WITH_SECONDS(){return xC}static get TIME_WITH_SHORT_OFFSET(){return DC}static get TIME_WITH_LONG_OFFSET(){return wC}static get TIME_24_SIMPLE(){return EC}static get TIME_24_WITH_SECONDS(){return CC}static get TIME_24_WITH_SHORT_OFFSET(){return FC}static get TIME_24_WITH_LONG_OFFSET(){return SC}static get DATETIME_SHORT(){return AC}static get DATETIME_SHORT_WITH_SECONDS(){return NC}static get DATETIME_MED(){return _C}static get DATETIME_MED_WITH_SECONDS(){return MC}static get DATETIME_MED_WITH_WEEKDAY(){return XL}static get DATETIME_FULL(){return TC}static get DATETIME_FULL_WITH_SECONDS(){return IC}static get DATETIME_HUGE(){return BC}static get DATETIME_HUGE_WITH_SECONDS(){return OC}};function vu(t){if(Nt.isDateTime(t))return t;if(t&&t.valueOf&&xo(t.valueOf()))return Nt.fromJSDate(t);if(t&&typeof t=="object")return Nt.fromObject(t);throw new In(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var zd={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},U7={allowHtml:!0};({...zd,...U7});var Nd=class t{constructor(e){this.value=e,this.successful=!0}map(e){return new t(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,r){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},_d=class t{constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new t(e(this.error))}bimap(e,r){return this.mapErr(r)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},Dc;(function(t){function e(a){return new Nd(a)}t.success=e;function r(a){return new _d(a)}t.failure=r;function n(a,o,c){return a.successful?o.successful?c(a.value,o.value):r(o.error):r(a.error)}t.flatMap2=n;function i(a,o,c){return n(a,o,(u,s)=>e(c(u,s)))}t.map2=i})(Dc||(Dc={}));var z7=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ee={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(typeof self!="undefined"?self:z7,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,c){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},i.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=0)}([function(r,n,i){function a(N){if(!(this instanceof a))return new a(N);this._=N}var o=a.prototype;function c(N,L){for(var Y=0;Y<N;Y++)L(Y)}function u(N,L,Y){return function(le,he){c(he.length,function(_e){le(he[_e],_e,he)})}(function(le,he,_e){L=N(L,le,he,_e)},Y),L}function s(N,L){return u(function(Y,le,he,_e){return Y.concat([N(le,he,_e)])},[],L)}function l(N,L){var Y={v:0,buf:L};return c(N,function(){var le;Y={v:Y.v<<1|(le=Y.buf,le[0]>>7),buf:function(he){var _e=u(function(qe,st,Wt,Tr){return qe.concat(Wt===Tr.length-1?Buffer.from([st,0]).readUInt16BE(0):Tr.readUInt16BE(Wt))},[],he);return Buffer.from(s(function(qe){return(qe<<1&65535)>>8},_e))}(Y.buf)}}),Y}function f(){return typeof Buffer!="undefined"}function m(){if(!f())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function p(N){m();var L=u(function(_e,qe){return _e+qe},0,N);if(L%8!=0)throw new Error("The bits ["+N.join(", ")+"] add up to "+L+" which is not an even number of bytes; the total should be divisible by 8");var Y,le=L/8,he=(Y=function(_e){return _e>48},u(function(_e,qe){return _e||(Y(qe)?qe:_e)},null,N));if(he)throw new Error(he+" bit range requested exceeds 48 bit (6 byte) Number max.");return new a(function(_e,qe){var st=le+qe;return st>_e.length?S(qe,le.toString()+" bytes"):w(st,u(function(Wt,Tr){var Rr=l(Tr,Wt.buf);return{coll:Wt.coll.concat(Rr.v),buf:Rr.buf}},{coll:[],buf:_e.slice(qe,st)},N).coll)})}function h(N,L){return new a(function(Y,le){return m(),le+L>Y.length?S(le,L+" bytes for "+N):w(le+L,Y.slice(le,le+L))})}function d(N,L){if(typeof(Y=L)!="number"||Math.floor(Y)!==Y||L<0||L>6)throw new Error(N+" requires integer length in range [0, 6].");var Y}function g(N){return d("uintBE",N),h("uintBE("+N+")",N).map(function(L){return L.readUIntBE(0,N)})}function v(N){return d("uintLE",N),h("uintLE("+N+")",N).map(function(L){return L.readUIntLE(0,N)})}function C(N){return d("intBE",N),h("intBE("+N+")",N).map(function(L){return L.readIntBE(0,N)})}function y(N){return d("intLE",N),h("intLE("+N+")",N).map(function(L){return L.readIntLE(0,N)})}function D(N){return N instanceof a}function b(N){return{}.toString.call(N)==="[object Array]"}function x(N){return f()&&Buffer.isBuffer(N)}function w(N,L){return{status:!0,index:N,value:L,furthest:-1,expected:[]}}function S(N,L){return b(L)||(L=[L]),{status:!1,index:-1,value:null,furthest:N,expected:L}}function E(N,L){if(!L||N.furthest>L.furthest)return N;var Y=N.furthest===L.furthest?function(le,he){if(function(){if(a._supportsSet!==void 0)return a._supportsSet;var gi=typeof Set!="undefined";return a._supportsSet=gi,gi}()&&Array.from){for(var _e=new Set(le),qe=0;qe<he.length;qe++)_e.add(he[qe]);var st=Array.from(_e);return st.sort(),st}for(var Wt={},Tr=0;Tr<le.length;Tr++)Wt[le[Tr]]=!0;for(var Rr=0;Rr<he.length;Rr++)Wt[he[Rr]]=!0;var hi=[];for(var Cn in Wt)({}).hasOwnProperty.call(Wt,Cn)&&hi.push(Cn);return hi.sort(),hi}(N.expected,L.expected):L.expected;return{status:N.status,index:N.index,value:N.value,furthest:L.furthest,expected:Y}}var F={};function M(N,L){if(x(N))return{offset:L,line:-1,column:-1};N in F||(F[N]={});for(var Y=F[N],le=0,he=0,_e=0,qe=L;qe>=0;){if(qe in Y){le=Y[qe].line,_e===0&&(_e=Y[qe].lineStart);break}(N.charAt(qe)===`
`||N.charAt(qe)==="\r"&&N.charAt(qe+1)!==`
`)&&(he++,_e===0&&(_e=qe+1)),qe--}var st=le+he,Wt=L-_e;return Y[L]={line:st,lineStart:_e},{offset:L,line:st+1,column:Wt+1}}function B(N){if(!D(N))throw new Error("not a parser: "+N)}function k(N,L){return typeof N=="string"?N.charAt(L):N[L]}function R(N){if(typeof N!="number")throw new Error("not a number: "+N)}function P(N){if(typeof N!="function")throw new Error("not a function: "+N)}function T(N){if(typeof N!="string")throw new Error("not a string: "+N)}var I=2,V=3,O=8,J=5*O,$=4*O,W="  ";function q(N,L){return new Array(L+1).join(N)}function te(N,L,Y){var le=L-N.length;return le<=0?N:q(Y,le)+N}function ge(N,L,Y,le){return{from:N-L>0?N-L:0,to:N+Y>le?le:N+Y}}function oe(N,L){var Y,le,he,_e,qe,st=L.index,Wt=st.offset,Tr=1;if(Wt===N.length)return"Got the end of the input";if(x(N)){var Rr=Wt-Wt%O,hi=Wt-Rr,Cn=ge(Rr,J,$+O,N.length),gi=s(function(Nr){return s(function(ba){return te(ba.toString(16),2,"0")},Nr)},function(Nr,ba){var xa=Nr.length,$i=[],Da=0;if(xa<=ba)return[Nr.slice()];for(var wa=0;wa<xa;wa++)$i[Da]||$i.push([]),$i[Da].push(Nr[wa]),(wa+1)%ba==0&&Da++;return $i}(N.slice(Cn.from,Cn.to).toJSON().data,O));_e=function(Nr){return Nr.from===0&&Nr.to===1?{from:Nr.from,to:Nr.to}:{from:Nr.from/O,to:Math.floor(Nr.to/O)}}(Cn),le=Rr/O,Y=3*hi,hi>=4&&(Y+=1),Tr=2,he=s(function(Nr){return Nr.length<=4?Nr.join(" "):Nr.slice(0,4).join(" ")+"  "+Nr.slice(4).join(" ")},gi),(qe=(8*(_e.to>0?_e.to-1:_e.to)).toString(16).length)<2&&(qe=2)}else{var ya=N.split(/\r\n|[\n\r\u2028\u2029]/);Y=st.column-1,le=st.line-1,_e=ge(le,I,V,ya.length),he=ya.slice(_e.from,_e.to),qe=_e.to.toString().length}var lp=le-_e.from;return x(N)&&(qe=(8*(_e.to>0?_e.to-1:_e.to)).toString(16).length)<2&&(qe=2),u(function(Nr,ba,xa){var $i,Da=xa===lp,wa=Da?"> ":W;return $i=x(N)?te((8*(_e.from+xa)).toString(16),qe,"0"):te((_e.from+xa+1).toString(),qe," "),[].concat(Nr,[wa+$i+" | "+ba],Da?[W+q(" ",qe)+" | "+te("",Y," ")+q("^",Tr)]:[])},[],he).join(`
`)}function ce(N,L){return[`
`,"-- PARSING FAILED "+q("-",50),`

`,oe(N,L),`

`,(Y=L.expected,Y.length===1?`Expected:

`+Y[0]:`Expected one of the following: 

`+Y.join(", ")),`
`].join("");var Y}function pe(N){return N.flags!==void 0?N.flags:[N.global?"g":"",N.ignoreCase?"i":"",N.multiline?"m":"",N.unicode?"u":"",N.sticky?"y":""].join("")}function ue(){for(var N=[].slice.call(arguments),L=N.length,Y=0;Y<L;Y+=1)B(N[Y]);return a(function(le,he){for(var _e,qe=new Array(L),st=0;st<L;st+=1){if(!(_e=E(N[st]._(le,he),_e)).status)return _e;qe[st]=_e.value,he=_e.index}return E(w(he,qe),_e)})}function ae(){var N=[].slice.call(arguments);if(N.length===0)throw new Error("seqMap needs at least one argument");var L=N.pop();return P(L),ue.apply(null,N).map(function(Y){return L.apply(null,Y)})}function me(){var N=[].slice.call(arguments),L=N.length;if(L===0)return fe("zero alternates");for(var Y=0;Y<L;Y+=1)B(N[Y]);return a(function(le,he){for(var _e,qe=0;qe<N.length;qe+=1)if((_e=E(N[qe]._(le,he),_e)).status)return _e;return _e})}function xe(N,L){return Re(N,L).or(Z([]))}function Re(N,L){return B(N),B(L),ae(N,L.then(N).many(),function(Y,le){return[Y].concat(le)})}function We(N){T(N);var L="'"+N+"'";return a(function(Y,le){var he=le+N.length,_e=Y.slice(le,he);return _e===N?w(he,_e):S(le,L)})}function z(N,L){(function(he){if(!(he instanceof RegExp))throw new Error("not a regexp: "+he);for(var _e=pe(he),qe=0;qe<_e.length;qe++){var st=_e.charAt(qe);if(st!=="i"&&st!=="m"&&st!=="u"&&st!=="s")throw new Error('unsupported regexp flag "'+st+'": '+he)}})(N),arguments.length>=2?R(L):L=0;var Y=function(he){return RegExp("^(?:"+he.source+")",pe(he))}(N),le=""+N;return a(function(he,_e){var qe=Y.exec(he.slice(_e));if(qe){if(0<=L&&L<=qe.length){var st=qe[0],Wt=qe[L];return w(_e+st.length,Wt)}return S(_e,"valid match group (0 to "+qe.length+") in "+le)}return S(_e,le)})}function Z(N){return a(function(L,Y){return w(Y,N)})}function fe(N){return a(function(L,Y){return S(Y,N)})}function H(N){if(D(N))return a(function(L,Y){var le=N._(L,Y);return le.index=Y,le.value="",le});if(typeof N=="string")return H(We(N));if(N instanceof RegExp)return H(z(N));throw new Error("not a string, regexp, or parser: "+N)}function K(N){return B(N),a(function(L,Y){var le=N._(L,Y),he=L.slice(Y,le.index);return le.status?S(Y,'not "'+he+'"'):w(Y,null)})}function ie(N){return P(N),a(function(L,Y){var le=k(L,Y);return Y<L.length&&N(le)?w(Y+1,le):S(Y,"a character/byte matching "+N)})}function be(N,L){arguments.length<2&&(L=N,N=void 0);var Y=a(function(le,he){return Y._=L()._,Y._(le,he)});return N?Y.desc(N):Y}function ye(){return fe("fantasy-land/empty")}o.parse=function(N){if(typeof N!="string"&&!x(N))throw new Error(".parse must be called with a string or Buffer as its argument");var L,Y=this.skip(pt)._(N,0);return L=Y.status?{status:!0,value:Y.value}:{status:!1,index:M(N,Y.furthest),expected:Y.expected},delete F[N],L},o.tryParse=function(N){var L=this.parse(N);if(L.status)return L.value;var Y=ce(N,L),le=new Error(Y);throw le.type="ParsimmonError",le.result=L,le},o.assert=function(N,L){return this.chain(function(Y){return N(Y)?Z(Y):fe(L)})},o.or=function(N){return me(this,N)},o.trim=function(N){return this.wrap(N,N)},o.wrap=function(N,L){return ae(N,this,L,function(Y,le){return le})},o.thru=function(N){return N(this)},o.then=function(N){return B(N),ue(this,N).map(function(L){return L[1]})},o.many=function(){var N=this;return a(function(L,Y){for(var le=[],he=void 0;;){if(!(he=E(N._(L,Y),he)).status)return E(w(Y,le),he);if(Y===he.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");Y=he.index,le.push(he.value)}})},o.tieWith=function(N){return T(N),this.map(function(L){if(function(he){if(!b(he))throw new Error("not an array: "+he)}(L),L.length){T(L[0]);for(var Y=L[0],le=1;le<L.length;le++)T(L[le]),Y+=N+L[le];return Y}return""})},o.tie=function(){return this.tieWith("")},o.times=function(N,L){var Y=this;return arguments.length<2&&(L=N),R(N),R(L),a(function(le,he){for(var _e=[],qe=void 0,st=void 0,Wt=0;Wt<N;Wt+=1){if(st=E(qe=Y._(le,he),st),!qe.status)return st;he=qe.index,_e.push(qe.value)}for(;Wt<L&&(st=E(qe=Y._(le,he),st),qe.status);Wt+=1)he=qe.index,_e.push(qe.value);return E(w(he,_e),st)})},o.result=function(N){return this.map(function(){return N})},o.atMost=function(N){return this.times(0,N)},o.atLeast=function(N){return ae(this.times(N),this.many(),function(L,Y){return L.concat(Y)})},o.map=function(N){P(N);var L=this;return a(function(Y,le){var he=L._(Y,le);return he.status?E(w(he.index,N(he.value)),he):he})},o.contramap=function(N){P(N);var L=this;return a(function(Y,le){var he=L.parse(N(Y.slice(le)));return he.status?w(le+Y.length,he.value):he})},o.promap=function(N,L){return P(N),P(L),this.contramap(N).map(L)},o.skip=function(N){return ue(this,N).map(function(L){return L[0]})},o.mark=function(){return ae(Le,this,Le,function(N,L,Y){return{start:N,value:L,end:Y}})},o.node=function(N){return ae(Le,this,Le,function(L,Y,le){return{name:N,value:Y,start:L,end:le}})},o.sepBy=function(N){return xe(this,N)},o.sepBy1=function(N){return Re(this,N)},o.lookahead=function(N){return this.skip(H(N))},o.notFollowedBy=function(N){return this.skip(K(N))},o.desc=function(N){b(N)||(N=[N]);var L=this;return a(function(Y,le){var he=L._(Y,le);return he.status||(he.expected=N),he})},o.fallback=function(N){return this.or(Z(N))},o.ap=function(N){return ae(N,this,function(L,Y){return L(Y)})},o.chain=function(N){var L=this;return a(function(Y,le){var he=L._(Y,le);return he.status?E(N(he.value)._(Y,he.index),he):he})},o.concat=o.or,o.empty=ye,o.of=Z,o["fantasy-land/ap"]=o.ap,o["fantasy-land/chain"]=o.chain,o["fantasy-land/concat"]=o.concat,o["fantasy-land/empty"]=o.empty,o["fantasy-land/of"]=o.of,o["fantasy-land/map"]=o.map;var Le=a(function(N,L){return w(L,M(N,L))}),Se=a(function(N,L){return L>=N.length?S(L,"any character/byte"):w(L+1,k(N,L))}),ft=a(function(N,L){return w(N.length,N.slice(L))}),pt=a(function(N,L){return L<N.length?S(L,"EOF"):w(L,null)}),_t=z(/[0-9]/).desc("a digit"),zt=z(/[0-9]*/).desc("optional digits"),j=z(/[a-z]/i).desc("a letter"),se=z(/[a-z]*/i).desc("optional letters"),de=z(/\s*/).desc("optional whitespace"),Ce=z(/\s+/).desc("whitespace"),Me=We("\r"),Fe=We(`
`),Ne=We(`\r
`),Pe=me(Ne,Fe,Me).desc("newline"),_=me(Pe,pt);a.all=ft,a.alt=me,a.any=Se,a.cr=Me,a.createLanguage=function(N){var L={};for(var Y in N)({}).hasOwnProperty.call(N,Y)&&function(le){L[le]=be(function(){return N[le](L)})}(Y);return L},a.crlf=Ne,a.custom=function(N){return a(N(w,S))},a.digit=_t,a.digits=zt,a.empty=ye,a.end=_,a.eof=pt,a.fail=fe,a.formatError=ce,a.index=Le,a.isParser=D,a.lazy=be,a.letter=j,a.letters=se,a.lf=Fe,a.lookahead=H,a.makeFailure=S,a.makeSuccess=w,a.newline=Pe,a.noneOf=function(N){return ie(function(L){return N.indexOf(L)<0}).desc("none of '"+N+"'")},a.notFollowedBy=K,a.of=Z,a.oneOf=function(N){for(var L=N.split(""),Y=0;Y<L.length;Y++)L[Y]="'"+L[Y]+"'";return ie(function(le){return N.indexOf(le)>=0}).desc(L)},a.optWhitespace=de,a.Parser=a,a.range=function(N,L){return ie(function(Y){return N<=Y&&Y<=L}).desc(N+"-"+L)},a.regex=z,a.regexp=z,a.sepBy=xe,a.sepBy1=Re,a.seq=ue,a.seqMap=ae,a.seqObj=function(){for(var N,L={},Y=0,le=(N=arguments,Array.prototype.slice.call(N)),he=le.length,_e=0;_e<he;_e+=1){var qe=le[_e];if(!D(qe)){if(b(qe)&&qe.length===2&&typeof qe[0]=="string"&&D(qe[1])){var st=qe[0];if(Object.prototype.hasOwnProperty.call(L,st))throw new Error("seqObj: duplicate key "+st);L[st]=!0,Y++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(Y===0)throw new Error("seqObj expects at least one named parser, found zero");return a(function(Wt,Tr){for(var Rr,hi={},Cn=0;Cn<he;Cn+=1){var gi,ya;if(b(le[Cn])?(gi=le[Cn][0],ya=le[Cn][1]):(gi=null,ya=le[Cn]),!(Rr=E(ya._(Wt,Tr),Rr)).status)return Rr;gi&&(hi[gi]=Rr.value),Tr=Rr.index}return E(w(Tr,hi),Rr)})},a.string=We,a.succeed=Z,a.takeWhile=function(N){return P(N),a(function(L,Y){for(var le=Y;le<L.length&&N(k(L,le));)le++;return w(le,L.slice(Y,le))})},a.test=ie,a.whitespace=Ce,a["fantasy-land/empty"]=ye,a["fantasy-land/of"]=Z,a.Binary={bitSeq:p,bitSeqObj:function(N){m();var L={},Y=0,le=s(function(_e){if(b(_e)){var qe=_e;if(qe.length!==2)throw new Error("["+qe.join(", ")+"] should be length 2, got length "+qe.length);if(T(qe[0]),R(qe[1]),Object.prototype.hasOwnProperty.call(L,qe[0]))throw new Error("duplicate key in bitSeqObj: "+qe[0]);return L[qe[0]]=!0,Y++,qe}return R(_e),[null,_e]},N);if(Y<1)throw new Error("bitSeqObj expects at least one named pair, got ["+N.join(", ")+"]");var he=s(function(_e){return _e[0]},le);return p(s(function(_e){return _e[1]},le)).map(function(_e){return u(function(qe,st){return st[0]!==null&&(qe[st[0]]=st[1]),qe},{},s(function(qe,st){return[qe,_e[st]]},he))})},byte:function(N){if(m(),R(N),N>255)throw new Error("Value specified to byte constructor ("+N+"=0x"+N.toString(16)+") is larger in value than a single byte.");var L=(N>15?"0x":"0x0")+N.toString(16);return a(function(Y,le){var he=k(Y,le);return he===N?w(le+1,he):S(le,L)})},buffer:function(N){return h("buffer",N).map(function(L){return Buffer.from(L)})},encodedString:function(N,L){return h("string",L).map(function(Y){return Y.toString(N)})},uintBE:g,uint8BE:g(1),uint16BE:g(2),uint32BE:g(4),uintLE:v,uint8LE:v(1),uint16LE:v(2),uint32LE:v(4),intBE:C,int8BE:C(1),int16BE:C(2),int32BE:C(4),intLE:y,int8LE:y(1),int16LE:y(2),int32LE:y(4),floatBE:h("floatBE",4).map(function(N){return N.readFloatBE(0)}),floatLE:h("floatLE",4).map(function(N){return N.readFloatLE(0)}),doubleBE:h("doubleBE",8).map(function(N){return N.readDoubleBE(0)}),doubleLE:h("doubleLE",8).map(function(N){return N.readDoubleLE(0)})},r.exports=a}])})})(ee);var Wd=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function dF(t){return t==null?t:t.shiftToAll().normalize()}function mC(t){return t.includes("/")&&(t=t.substring(t.lastIndexOf("/")+1)),t.endsWith(".md")&&(t=t.substring(0,t.length-3)),t}ee.exports.alt(ee.exports.regex(new RegExp(Wd(),"")),ee.exports.regex(/[0-9\p{Letter}_-]+/u).map(t=>t.toLocaleLowerCase()),ee.exports.whitespace.map(t=>"-"),ee.exports.any.map(t=>"")).many().map(t=>t.join(""));var W7=ee.exports.alt(ee.exports.regex(new RegExp(Wd(),"")),ee.exports.regex(/[0-9\p{Letter}_-]+/u),ee.exports.whitespace.map(t=>" "),ee.exports.any.map(t=>" ")).many().map(t=>t.join("").split(/\s+/).join(" ").trim());function H7(t){return W7.tryParse(t)}function G7(t){return t=dF(t),t=mt.fromObject(Object.fromEntries(Object.entries(t.toObject()).filter(([,e])=>e>0))),t.toHuman()}var wu;(function(t){function e(D,b=zd,x=!1){let w=r(D);if(!w)return b.renderNullAs;switch(w.type){case"null":return b.renderNullAs;case"string":return w.value;case"number":case"boolean":return""+w.value;case"html":return w.value.outerHTML;case"widget":return w.value.markdown();case"link":return w.value.markdown();case"function":return"<function>";case"array":let S="";return x&&(S+="["),S+=w.value.map(E=>e(E,b,!0)).join(", "),x&&(S+="]"),S;case"object":return"{ "+Object.entries(w.value).map(E=>E[0]+": "+e(E[1],b,!0)).join(", ")+" }";case"date":return w.value.second==0&&w.value.hour==0&&w.value.minute==0?w.value.toFormat(b.defaultDateFormat):w.value.toFormat(b.defaultDateTimeFormat);case"duration":return G7(w.value)}}t.toString=e;function r(D){return m(D)?{type:"null",value:D}:s(D)?{type:"number",value:D}:u(D)?{type:"string",value:D}:h(D)?{type:"boolean",value:D}:f(D)?{type:"duration",value:D}:l(D)?{type:"date",value:D}:g(D)?{type:"widget",value:D}:p(D)?{type:"array",value:D}:d(D)?{type:"link",value:D}:y(D)?{type:"function",value:D}:v(D)?{type:"html",value:D}:C(D)?{type:"object",value:D}:void 0}t.wrapValue=r;function n(D,b){if(C(D)){let x={};for(let[w,S]of Object.entries(D))x[w]=n(S,b);return x}else if(p(D)){let x=[];for(let w of D)x.push(n(w,b));return x}else return b(D)}t.mapLeaves=n;function i(D,b,x){var w,S;if(D===void 0&&(D=null),b===void 0&&(b=null),D===null&&b===null)return 0;if(D===null)return-1;if(b===null)return 1;let E=r(D),F=r(b);if(E===void 0&&F===void 0)return 0;if(E===void 0)return-1;if(F===void 0)return 1;if(E.type!=F.type)return E.type.localeCompare(F.type);if(E.value===F.value)return 0;switch(E.type){case"string":return E.value.localeCompare(F.value);case"number":return E.value<F.value?-1:E.value==F.value?0:1;case"null":return 0;case"boolean":return E.value==F.value?0:E.value?1:-1;case"link":let M=E.value,B=F.value,k=x!=null?x:q=>q,R=k(M.path).localeCompare(k(B.path));if(R!=0)return R;let P=M.type.localeCompare(B.type);return P!=0?P:M.subpath&&!B.subpath?1:!M.subpath&&B.subpath?-1:!M.subpath&&!B.subpath?0:((w=M.subpath)!==null&&w!==void 0?w:"").localeCompare((S=B.subpath)!==null&&S!==void 0?S:"");case"date":return E.value<F.value?-1:E.value.equals(F.value)?0:1;case"duration":return E.value<F.value?-1:E.value.equals(F.value)?0:1;case"array":let T=E.value,I=F.value;for(let q=0;q<Math.min(T.length,I.length);q++){let te=i(T[q],I[q]);if(te!=0)return te}return T.length-I.length;case"object":let V=E.value,O=F.value,J=Array.from(Object.keys(V)),$=Array.from(Object.keys(O));J.sort(),$.sort();let W=i(J,$);if(W!=0)return W;for(let q of J){let te=i(V[q],O[q]);if(te!=0)return te}return 0;case"widget":case"html":case"function":return 0}}t.compareValue=i;function a(D){var b;return(b=r(D))===null||b===void 0?void 0:b.type}t.typeOf=a;function o(D){let b=r(D);if(!b)return!1;switch(b.type){case"number":return b.value!=0;case"string":return b.value.length>0;case"boolean":return b.value;case"link":return!!b.value.path;case"date":return b.value.toMillis()!=0;case"duration":return b.value.as("seconds")!=0;case"object":return Object.keys(b.value).length>0;case"array":return b.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}t.isTruthy=o;function c(D){if(D==null)return D;if(t.isArray(D))return[].concat(D.map(b=>c(b)));if(t.isObject(D)){let b={};for(let[x,w]of Object.entries(D))b[x]=c(w);return b}else return D}t.deepCopy=c;function u(D){return typeof D=="string"}t.isString=u;function s(D){return typeof D=="number"}t.isNumber=s;function l(D){return D instanceof Nt}t.isDate=l;function f(D){return D instanceof mt}t.isDuration=f;function m(D){return D==null}t.isNull=m;function p(D){return Array.isArray(D)}t.isArray=p;function h(D){return typeof D=="boolean"}t.isBoolean=h;function d(D){return D instanceof wc}t.isLink=d;function g(D){return D instanceof Eu}t.isWidget=g;function v(D){return typeof HTMLElement!="undefined"?D instanceof HTMLElement:!1}t.isHtml=v;function C(D){return typeof D=="object"&&!v(D)&&!g(D)&&!p(D)&&!f(D)&&!l(D)&&!d(D)&&D!==void 0&&!m(D)}t.isObject=C;function y(D){return typeof D=="function"}t.isFunction=y})(wu||(wu={}));var pC;(function(t){function e(i){return wu.isObject(i)&&Object.keys(i).length==2&&"key"in i&&"rows"in i}t.isElementGroup=e;function r(i){for(let a of i)if(!e(a))return!1;return!0}t.isGrouping=r;function n(i){if(r(i)){let a=0;for(let o of i)a+=n(o.rows);return a}else return i.length}t.count=n})(pC||(pC={}));var wc=class t{constructor(e){Object.assign(this,e)}static file(e,r=!1,n){return new t({path:e,embed:r,display:n,subpath:void 0,type:"file"})}static infer(e,r=!1,n){if(e.includes("#^")){let i=e.split("#^");return t.block(i[0],i[1],r,n)}else if(e.includes("#")){let i=e.split("#");return t.header(i[0],i[1],r,n)}else return t.file(e,r,n)}static header(e,r,n,i){return new t({path:e,embed:n,display:i,subpath:H7(r),type:"header"})}static block(e,r,n,i){return new t({path:e,embed:n,display:i,subpath:r,type:"block"})}static fromObject(e){return new t(e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new t(Object.assign({},this,{path:e}))}withDisplay(e){return new t(Object.assign({},this,{display:e}))}withHeader(e){return t.header(this.path,e,this.embed,this.display)}toFile(){return t.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new t(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new t(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+mC(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var e,r;let n=this.path.replace("|","\\|");return this.type=="header"?n+"#"+((e=this.subpath)===null||e===void 0?void 0:e.replace("|","\\|")):this.type=="block"?n+"#^"+((r=this.subpath)===null||r===void 0?void 0:r.replace("|","\\|")):n}fileName(){return mC(this.path).replace(".md","")}},Eu=class{constructor(e){this.$widget=e}},Md=class extends Eu{constructor(e,r){super("dataview:list-pair"),this.key=e,this.value=r}markdown(){return`${wu.toString(this.key)}: ${wu.toString(this.value)}`}},Td=class extends Eu{constructor(e,r){super("dataview:external-link"),this.url=e,this.display=r}markdown(){var e;return`[${(e=this.display)!==null&&e!==void 0?e:this.url}](${this.url})`}},dC;(function(t){function e(o,c){return new Md(o,c)}t.listPair=e;function r(o,c){return new Td(o,c)}t.externalLink=r;function n(o){return o.$widget==="dataview:list-pair"}t.isListPair=n;function i(o){return o.$widget==="dataview:external-link"}t.isExternalLink=i;function a(o){return n(o)||i(o)}t.isBuiltin=a})(dC||(dC={}));var wr;(function(t){function e(m){return{type:"variable",name:m}}t.variable=e;function r(m){return{type:"literal",value:m}}t.literal=r;function n(m,p,h){return{type:"binaryop",left:m,op:p,right:h}}t.binaryOp=n;function i(m,p){return{type:"index",object:m,index:p}}t.index=i;function a(m){let p=m.split("."),h=t.variable(p[0]);for(let d=1;d<p.length;d++)h=t.index(h,t.literal(p[d]));return h}t.indexVariable=a;function o(m,p){return{type:"lambda",arguments:m,value:p}}t.lambda=o;function c(m,p){return{type:"function",func:m,arguments:p}}t.func=c;function u(m){return{type:"list",values:m}}t.list=u;function s(m){return{type:"object",values:m}}t.object=s;function l(m){return{type:"negated",child:m}}t.negate=l;function f(m){return m=="<="||m=="<"||m==">"||m==">="||m=="!="||m=="="}t.isCompareOp=f,t.NULL=t.literal(null)})(wr||(wr={}));var Ui;(function(t){function e(l){return{type:"tag",tag:l}}t.tag=e;function r(l){return{type:"csv",path:l}}t.csv=r;function n(l){return{type:"folder",folder:l}}t.folder=n;function i(l,f){return{type:"link",file:l,direction:f?"incoming":"outgoing"}}t.link=i;function a(l,f,m){return{type:"binaryop",left:l,op:f,right:m}}t.binaryOp=a;function o(l,f){return{type:"binaryop",left:l,op:"&",right:f}}t.and=o;function c(l,f){return{type:"binaryop",left:l,op:"|",right:f}}t.or=c;function u(l){return{type:"negate",child:l}}t.negate=u;function s(){return{type:"empty"}}t.empty=s})(Ui||(Ui={}));var hC=new RegExp(Wd(),""),Id={year:mt.fromObject({years:1}),years:mt.fromObject({years:1}),yr:mt.fromObject({years:1}),yrs:mt.fromObject({years:1}),month:mt.fromObject({months:1}),months:mt.fromObject({months:1}),mo:mt.fromObject({months:1}),mos:mt.fromObject({months:1}),week:mt.fromObject({weeks:1}),weeks:mt.fromObject({weeks:1}),wk:mt.fromObject({weeks:1}),wks:mt.fromObject({weeks:1}),w:mt.fromObject({weeks:1}),day:mt.fromObject({days:1}),days:mt.fromObject({days:1}),d:mt.fromObject({days:1}),hour:mt.fromObject({hours:1}),hours:mt.fromObject({hours:1}),hr:mt.fromObject({hours:1}),hrs:mt.fromObject({hours:1}),h:mt.fromObject({hours:1}),minute:mt.fromObject({minutes:1}),minutes:mt.fromObject({minutes:1}),min:mt.fromObject({minutes:1}),mins:mt.fromObject({minutes:1}),m:mt.fromObject({minutes:1}),second:mt.fromObject({seconds:1}),seconds:mt.fromObject({seconds:1}),sec:mt.fromObject({seconds:1}),secs:mt.fromObject({seconds:1}),s:mt.fromObject({seconds:1})},Bd={now:()=>Nt.local(),today:()=>Nt.local().startOf("day"),yesterday:()=>Nt.local().startOf("day").minus(mt.fromObject({days:1})),tomorrow:()=>Nt.local().startOf("day").plus(mt.fromObject({days:1})),sow:()=>Nt.local().startOf("week"),"start-of-week":()=>Nt.local().startOf("week"),eow:()=>Nt.local().endOf("week"),"end-of-week":()=>Nt.local().endOf("week"),soy:()=>Nt.local().startOf("year"),"start-of-year":()=>Nt.local().startOf("year"),eoy:()=>Nt.local().endOf("year"),"end-of-year":()=>Nt.local().endOf("year"),som:()=>Nt.local().startOf("month"),"start-of-month":()=>Nt.local().startOf("month"),eom:()=>Nt.local().endOf("month"),"end-of-month":()=>Nt.local().endOf("month")},Od=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function j7(t){let e=-1;for(;(e=t.indexOf("|",e+1))>=0;)if(!(e>0&&t[e-1]=="\\"))return[t.substring(0,e).replace(/\\\|/g,"|"),t.substring(e+1)];return[t.replace(/\\\|/g,"|"),void 0]}function Z7(t){let[e,r]=j7(t);return wc.infer(e,!1,r)}function yu(t,e,r){return ee.exports.seqMap(t,ee.exports.seq(ee.exports.optWhitespace,e,ee.exports.optWhitespace,t).many(),(n,i)=>{if(i.length==0)return n;let a=r(n,i[0][1],i[0][3]);for(let o=1;o<i.length;o++)a=r(a,i[o][1],i[o][3]);return a})}function Y7(t,...e){return ee.exports.custom((r,n)=>(i,a)=>{let o=t._(i,a);if(!o.status)return o;for(let c of e){let u=c(o.value)._(i,o.index);if(!u.status)return o;o=u}return o})}var Di=ee.exports.createLanguage({number:t=>ee.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:t=>ee.exports.string('"').then(ee.exports.alt(t.escapeCharacter,ee.exports.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(ee.exports.string('"')).desc("string"),escapeCharacter:t=>ee.exports.string("\\").then(ee.exports.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:t=>ee.exports.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:t=>ee.exports.seqMap(ee.exports.string("#"),ee.exports.alt(ee.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,r)=>e+r.join("")).desc("tag ('#hello/stuff')"),identifier:t=>ee.exports.seqMap(ee.exports.alt(ee.exports.regexp(/\p{Letter}/u),ee.exports.regexp(hC).desc("text")),ee.exports.alt(ee.exports.regexp(/[0-9\p{Letter}_-]/u),ee.exports.regexp(hC).desc("text")).many(),(e,r)=>e+r.join("")).desc("variable identifier"),link:t=>ee.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>Z7(e)).desc("file link"),embedLink:t=>ee.exports.seqMap(ee.exports.string("!").atMost(1),t.link,(e,r)=>(e.length>0&&(r.embed=!0),r)).desc("file link"),binaryPlusMinus:t=>ee.exports.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:t=>ee.exports.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:t=>ee.exports.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:t=>ee.exports.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:t=>ee.exports.seqMap(ee.exports.regexp(/\d{4}/),ee.exports.string("-"),ee.exports.regexp(/\d{2}/),(e,r,n)=>Nt.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:t=>ee.exports.alt(...Object.keys(Bd).sort((e,r)=>r.length-e.length).map(ee.exports.string)),date:t=>Y7(t.rootDate,e=>ee.exports.seqMap(ee.exports.string("-"),ee.exports.regexp(/\d{2}/),(r,n)=>e.set({day:Number.parseInt(n)})),e=>ee.exports.seqMap(ee.exports.string("T"),ee.exports.regexp(/\d{2}/),(r,n)=>e.set({hour:Number.parseInt(n)})),e=>ee.exports.seqMap(ee.exports.string(":"),ee.exports.regexp(/\d{2}/),(r,n)=>e.set({minute:Number.parseInt(n)})),e=>ee.exports.seqMap(ee.exports.string(":"),ee.exports.regexp(/\d{2}/),(r,n)=>e.set({second:Number.parseInt(n)})),e=>ee.exports.alt(ee.exports.seqMap(ee.exports.string("."),ee.exports.regexp(/\d{3}/),(r,n)=>e.set({millisecond:Number.parseInt(n)})),ee.exports.succeed(e)),e=>ee.exports.alt(ee.exports.seqMap(ee.exports.string("+").or(ee.exports.string("-")),ee.exports.regexp(/\d{1,2}(:\d{2})?/),(r,n)=>e.setZone("UTC"+r+n,{keepLocalTime:!0})),ee.exports.seqMap(ee.exports.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),ee.exports.seqMap(ee.exports.string("["),ee.exports.regexp(/[0-9A-Za-z+-\/]+/u),ee.exports.string("]"),(r,n,i)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:t=>ee.exports.alt(t.dateShorthand.map(e=>Bd[e]()),t.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:t=>ee.exports.alt(...Object.keys(Id).sort((e,r)=>r.length-e.length).map(ee.exports.string)),duration:t=>ee.exports.seqMap(t.number,ee.exports.optWhitespace,t.durationType,(e,r,n)=>Id[n].mapUnits(i=>i*e)).sepBy1(ee.exports.string(",").trim(ee.exports.optWhitespace).or(ee.exports.optWhitespace)).map(e=>e.reduce((r,n)=>r.plus(n))).desc("duration like 4hr2min"),rawNull:t=>ee.exports.string("null"),tagSource:t=>t.tag.map(e=>Ui.tag(e)),csvSource:t=>ee.exports.seqMap(ee.exports.string("csv(").skip(ee.exports.optWhitespace),t.string,ee.exports.string(")"),(e,r,n)=>Ui.csv(r)),linkIncomingSource:t=>t.link.map(e=>Ui.link(e.path,!0)),linkOutgoingSource:t=>ee.exports.seqMap(ee.exports.string("outgoing(").skip(ee.exports.optWhitespace),t.link,ee.exports.string(")"),(e,r,n)=>Ui.link(r.path,!1)),folderSource:t=>t.string.map(e=>Ui.folder(e)),parensSource:t=>ee.exports.seqMap(ee.exports.string("("),ee.exports.optWhitespace,t.source,ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>n),negateSource:t=>ee.exports.seqMap(ee.exports.alt(ee.exports.string("-"),ee.exports.string("!")),t.atomSource,(e,r)=>Ui.negate(r)),atomSource:t=>ee.exports.alt(t.parensSource,t.negateSource,t.linkOutgoingSource,t.linkIncomingSource,t.folderSource,t.tagSource,t.csvSource),binaryOpSource:t=>yu(t.atomSource,t.binaryBooleanOp.map(e=>e),Ui.binaryOp),source:t=>t.binaryOpSource,variableField:t=>t.identifier.chain(e=>Od.includes(e.toUpperCase())?ee.exports.fail("Variable fields cannot be a keyword ("+Od.join(" or ")+")"):ee.exports.succeed(wr.variable(e))).desc("variable"),numberField:t=>t.number.map(e=>wr.literal(e)).desc("number"),stringField:t=>t.string.map(e=>wr.literal(e)).desc("string"),boolField:t=>t.bool.map(e=>wr.literal(e)).desc("boolean"),dateField:t=>ee.exports.seqMap(ee.exports.string("date("),ee.exports.optWhitespace,t.datePlus,ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>wr.literal(n)).desc("date"),durationField:t=>ee.exports.seqMap(ee.exports.string("dur("),ee.exports.optWhitespace,t.duration,ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>wr.literal(n)).desc("duration"),nullField:t=>t.rawNull.map(e=>wr.NULL),linkField:t=>t.link.map(e=>wr.literal(e)),listField:t=>t.field.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)).wrap(ee.exports.string("[").skip(ee.exports.optWhitespace),ee.exports.optWhitespace.then(ee.exports.string("]"))).map(e=>wr.list(e)).desc("list ('[1, 2, 3]')"),objectField:t=>ee.exports.seqMap(t.identifier.or(t.string),ee.exports.string(":").trim(ee.exports.optWhitespace),t.field,(e,r,n)=>({name:e,value:n})).sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)).wrap(ee.exports.string("{").skip(ee.exports.optWhitespace),ee.exports.optWhitespace.then(ee.exports.string("}"))).map(e=>{let r={};for(let n of e)r[n.name]=n.value;return wr.object(r)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:t=>ee.exports.alt(t.date,t.duration.map(e=>dF(e)),t.string,t.tag,t.embedLink,t.bool,t.number,t.rawNull),inlineFieldList:t=>t.atomInlineField.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace).lookahead(t.atomInlineField)),inlineField:t=>ee.exports.alt(ee.exports.seqMap(t.atomInlineField,ee.exports.string(",").trim(ee.exports.optWhitespace),t.inlineFieldList,(e,r,n)=>[e].concat(n)),t.atomInlineField),atomField:t=>ee.exports.alt(t.embedLink.map(e=>wr.literal(e)),t.negatedField,t.linkField,t.listField,t.objectField,t.lambdaField,t.parensField,t.boolField,t.numberField,t.stringField,t.dateField,t.durationField,t.nullField,t.variableField),indexField:t=>ee.exports.seqMap(t.atomField,ee.exports.alt(t.dotPostfix,t.indexPostfix,t.functionPostfix).many(),(e,r)=>{let n=e;for(let i of r)switch(i.type){case"dot":n=wr.index(n,wr.literal(i.field));break;case"index":n=wr.index(n,i.field);break;case"function":n=wr.func(n,i.fields);break}return n}),negatedField:t=>ee.exports.seqMap(ee.exports.string("!"),t.indexField,(e,r)=>wr.negate(r)).desc("negated field"),parensField:t=>ee.exports.seqMap(ee.exports.string("("),ee.exports.optWhitespace,t.field,ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>n),lambdaField:t=>ee.exports.seqMap(t.identifier.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)).wrap(ee.exports.string("(").trim(ee.exports.optWhitespace),ee.exports.string(")").trim(ee.exports.optWhitespace)),ee.exports.string("=>").trim(ee.exports.optWhitespace),t.field,(e,r,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:t=>ee.exports.seqMap(ee.exports.string("."),t.identifier,(e,r)=>({type:"dot",field:r})),indexPostfix:t=>ee.exports.seqMap(ee.exports.string("["),ee.exports.optWhitespace,t.field,ee.exports.optWhitespace,ee.exports.string("]"),(e,r,n,i,a)=>({type:"index",field:n})),functionPostfix:t=>ee.exports.seqMap(ee.exports.string("("),ee.exports.optWhitespace,t.field.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)),ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>({type:"function",fields:n})),binaryMulDivField:t=>yu(t.indexField,t.binaryMulDiv,wr.binaryOp),binaryPlusMinusField:t=>yu(t.binaryMulDivField,t.binaryPlusMinus,wr.binaryOp),binaryCompareField:t=>yu(t.binaryPlusMinusField,t.binaryCompareOp,wr.binaryOp),binaryBooleanField:t=>yu(t.binaryCompareField,t.binaryBooleanOp,wr.binaryOp),binaryOpField:t=>t.binaryBooleanField,field:t=>t.binaryOpField});function J7(t){try{return Dc.success(Di.field.tryParse(t))}catch(e){return Dc.failure(""+e)}}var Ec;(function(t){function e(n,i){return{name:n,field:i}}t.named=e;function r(n,i){return{field:n,direction:i}}t.sortBy=r})(Ec||(Ec={}));function X7(t){return ee.exports.custom((e,r)=>(n,i)=>{let a=t._(n,i);return a.status?Object.assign({},a,{value:[a.value,n.substring(i,a.index)]}):a})}function Q7(t){return t.split(/[\r\n]+/).map(e=>e.trim()).join("")}var K7=ee.exports.createLanguage({queryType:t=>ee.exports.alt(ee.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:t=>ee.exports.seqMap(Di.field.skip(ee.exports.whitespace),ee.exports.regexp(/AS/i).skip(ee.exports.whitespace),Di.identifier.or(Di.string),(e,r,n)=>Ec.named(n,e)),namedField:t=>ee.exports.alt(t.explicitNamedField,X7(Di.field).map(([e,r])=>Ec.named(Q7(r),e))),sortField:t=>ee.exports.seqMap(Di.field.skip(ee.exports.optWhitespace),ee.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,r)=>{let n=r.length==0?"ascending":r[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:t=>t.queryType.skip(ee.exports.whitespace).chain(e=>{switch(e){case"table":return ee.exports.seqMap(ee.exports.regexp(/WITHOUT\s+ID/i).skip(ee.exports.optWhitespace).atMost(1),ee.exports.sepBy(t.namedField,ee.exports.string(",").trim(ee.exports.optWhitespace)),(r,n)=>({type:"table",fields:n,showId:r.length==0}));case"list":return ee.exports.seqMap(ee.exports.regexp(/WITHOUT\s+ID/i).skip(ee.exports.optWhitespace).atMost(1),Di.field.atMost(1),(r,n)=>({type:"list",format:n.length==1?n[0]:void 0,showId:r.length==0}));case"task":return ee.exports.succeed({type:"task"});case"calendar":return ee.exports.seqMap(t.namedField,r=>({type:"calendar",showId:!0,field:r}));default:return ee.exports.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:t=>ee.exports.seqMap(ee.exports.regexp(/FROM/i),ee.exports.whitespace,Di.source,(e,r,n)=>n),whereClause:t=>ee.exports.seqMap(ee.exports.regexp(/WHERE/i),ee.exports.whitespace,Di.field,(e,r,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:t=>ee.exports.seqMap(ee.exports.regexp(/SORT/i),ee.exports.whitespace,t.sortField.sepBy1(ee.exports.string(",").trim(ee.exports.optWhitespace)),(e,r,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:t=>ee.exports.seqMap(ee.exports.regexp(/LIMIT/i),ee.exports.whitespace,Di.field,(e,r,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:t=>ee.exports.seqMap(ee.exports.regexp(/FLATTEN/i).skip(ee.exports.whitespace),t.namedField,(e,r)=>({type:"flatten",field:r})).desc("FLATTEN <value> [AS <name>]"),groupByClause:t=>ee.exports.seqMap(ee.exports.regexp(/GROUP BY/i).skip(ee.exports.whitespace),t.namedField,(e,r)=>({type:"group",field:r})).desc("GROUP BY <value> [AS <name>]"),clause:t=>ee.exports.alt(t.fromClause,t.whereClause,t.sortByClause,t.limitClause,t.groupByClause,t.flattenClause),query:t=>ee.exports.seqMap(t.headerClause.trim(ee.exports.optWhitespace),t.fromClause.trim(ee.exports.optWhitespace).atMost(1),t.clause.trim(ee.exports.optWhitespace).many(),(e,r,n)=>({header:e,source:r.length==0?Ui.folder(""):r[0],operations:n,settings:zd}))}),$7=t=>{var e;return t?(e=t.plugins.plugins.dataview)===null||e===void 0?void 0:e.api:window.DataviewAPI},e9=t=>t.plugins.enabledPlugins.has("dataview");zi.DATE_SHORTHANDS=Bd;zi.DURATION_TYPES=Id;zi.EXPRESSION=Di;zi.KEYWORDS=Od;zi.QUERY_LANGUAGE=K7;zi.getAPI=$7;zi.isPluginEnabled=e9;zi.parseField=J7});var Sh=gr((Ch,Fh)=>{(function(t,e){typeof Ch=="object"&&typeof Fh!="undefined"?Fh.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self,t["'typed'"]=e())})(Ch,function(){"use strict";function t(){return!0}function e(){return!1}function r(){}let n="Argument is not a typed-function.";function i(){function o(j){return typeof j=="object"&&j!==null&&j.constructor===Object}let c=[{name:"number",test:function(j){return typeof j=="number"}},{name:"string",test:function(j){return typeof j=="string"}},{name:"boolean",test:function(j){return typeof j=="boolean"}},{name:"Function",test:function(j){return typeof j=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(j){return j instanceof Date}},{name:"RegExp",test:function(j){return j instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(j){return j===null}},{name:"undefined",test:function(j){return j===void 0}}],u={name:"any",test:t,isAny:!0},s,l,f=0,m={createCount:0};function p(j){let se=s.get(j);if(se)return se;let de='Unknown type "'+j+'"',Ce=j.toLowerCase(),Me;for(Me of l)if(Me.toLowerCase()===Ce){de+='. Did you mean "'+Me+'" ?';break}throw new TypeError(de)}function h(j){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",de=se?p(se).index:l.length,Ce=[];for(let Fe=0;Fe<j.length;++Fe){if(!j[Fe]||typeof j[Fe].name!="string"||typeof j[Fe].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Ne=j[Fe].name;if(s.has(Ne))throw new TypeError('Duplicate type name "'+Ne+'"');Ce.push(Ne),s.set(Ne,{name:Ne,test:j[Fe].test,isAny:j[Fe].isAny,index:de+Fe,conversionsTo:[]})}let Me=l.slice(de);l=l.slice(0,de).concat(Ce).concat(Me);for(let Fe=de+Ce.length;Fe<l.length;++Fe)s.get(l[Fe]).index=Fe}function d(){s=new Map,l=[],f=0,h([u],!1)}d(),h(c);function g(){let j;for(j of l)s.get(j).conversionsTo=[];f=0}function v(j){let se=l.filter(de=>{let Ce=s.get(de);return!Ce.isAny&&Ce.test(j)});return se.length?se:["any"]}function C(j){return j&&typeof j=="function"&&"_typedFunctionData"in j}function y(j,se,de){if(!C(j))throw new TypeError(n);let Ce=de&&de.exact,Me=Array.isArray(se)?se.join(","):se,Fe=F(Me),Ne=x(Fe);if(!Ce||Ne in j.signatures){let L=j._typedFunctionData.signatureMap.get(Ne);if(L)return L}let Pe=Fe.length,_;if(Ce){_=[];let L;for(L in j.signatures)_.push(j._typedFunctionData.signatureMap.get(L))}else _=j._typedFunctionData.signatures;for(let L=0;L<Pe;++L){let Y=Fe[L],le=[],he;for(he of _){let _e=R(he.params,L);if(!(!_e||Y.restParam&&!_e.restParam)){if(!_e.hasAny){let qe=E(_e);if(Y.types.some(st=>!qe.has(st.name)))continue}le.push(he)}}if(_=le,_.length===0)break}let N;for(N of _)if(N.params.length<=Pe)return N;throw new TypeError("Signature not found (signature: "+(j.name||"unnamed")+"("+x(Fe,", ")+"))")}function D(j,se,de){return y(j,se,de).implementation}function b(j,se){let de=p(se);if(de.test(j))return j;let Ce=de.conversionsTo;if(Ce.length===0)throw new Error("There are no conversions to "+se+" defined.");for(let Me=0;Me<Ce.length;Me++)if(p(Ce[Me].from).test(j))return Ce[Me].convert(j);throw new Error("Cannot convert "+j+" to "+se)}function x(j){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return j.map(de=>de.name).join(se)}function w(j){let se=j.indexOf("...")===0,Ce=(se?j.length>3?j.slice(3):"any":j).split("|").map(Pe=>p(Pe.trim())),Me=!1,Fe=se?"...":"";return{types:Ce.map(function(Pe){return Me=Pe.isAny||Me,Fe+=Pe.name+"|",{name:Pe.name,typeIndex:Pe.index,test:Pe.test,isAny:Pe.isAny,conversion:null,conversionIndex:-1}}),name:Fe.slice(0,-1),hasAny:Me,hasConversion:!1,restParam:se}}function S(j){let se=j.types.map(Ne=>Ne.name),de=q(se),Ce=j.hasAny,Me=j.name,Fe=de.map(function(Ne){let Pe=p(Ne.from);return Ce=Pe.isAny||Ce,Me+="|"+Ne.from,{name:Ne.from,typeIndex:Pe.index,test:Pe.test,isAny:Pe.isAny,conversion:Ne,conversionIndex:Ne.index}});return{types:j.types.concat(Fe),name:Me,hasAny:Ce,hasConversion:Fe.length>0,restParam:j.restParam}}function E(j){return j.typeSet||(j.typeSet=new Set,j.types.forEach(se=>j.typeSet.add(se.name))),j.typeSet}function F(j){let se=[];if(typeof j!="string")throw new TypeError("Signatures must be strings");let de=j.trim();if(de==="")return se;let Ce=de.split(",");for(let Me=0;Me<Ce.length;++Me){let Fe=w(Ce[Me].trim());if(Fe.restParam&&Me!==Ce.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ce[Me]+'": only allowed for the last parameter');if(Fe.types.length===0)return null;se.push(Fe)}return se}function M(j){let se=z(j);return se?se.restParam:!1}function B(j){if(!j||j.types.length===0)return t;if(j.types.length===1)return p(j.types[0].name).test;if(j.types.length===2){let se=p(j.types[0].name).test,de=p(j.types[1].name).test;return function(Me){return se(Me)||de(Me)}}else{let se=j.types.map(function(de){return p(de.name).test});return function(Ce){for(let Me=0;Me<se.length;Me++)if(se[Me](Ce))return!0;return!1}}}function k(j){let se,de,Ce;if(M(j)){se=We(j).map(B);let Me=se.length,Fe=B(z(j)),Ne=function(Pe){for(let _=Me;_<Pe.length;_++)if(!Fe(Pe[_]))return!1;return!0};return function(_){for(let N=0;N<se.length;N++)if(!se[N](_[N]))return!1;return Ne(_)&&_.length>=Me+1}}else return j.length===0?function(Fe){return Fe.length===0}:j.length===1?(de=B(j[0]),function(Fe){return de(Fe[0])&&Fe.length===1}):j.length===2?(de=B(j[0]),Ce=B(j[1]),function(Fe){return de(Fe[0])&&Ce(Fe[1])&&Fe.length===2}):(se=j.map(B),function(Fe){for(let Ne=0;Ne<se.length;Ne++)if(!se[Ne](Fe[Ne]))return!1;return Fe.length===se.length})}function R(j,se){return se<j.length?j[se]:M(j)?z(j):null}function P(j,se){let de=R(j,se);return de?E(de):new Set}function T(j){return j.conversion===null||j.conversion===void 0}function I(j,se){let de=new Set;return j.forEach(Ce=>{let Me=P(Ce.params,se),Fe;for(Fe of Me)de.add(Fe)}),de.has("any")?["any"]:Array.from(de)}function V(j,se,de){let Ce,Me,Fe=j||"unnamed",Ne=de,Pe;for(Pe=0;Pe<se.length;Pe++){let Y=[];if(Ne.forEach(le=>{let he=R(le.params,Pe),_e=B(he);(Pe<le.params.length||M(le.params))&&_e(se[Pe])&&Y.push(le)}),Y.length===0){if(Me=I(Ne,Pe),Me.length>0){let le=v(se[Pe]);return Ce=new TypeError("Unexpected type of argument in function "+Fe+" (expected: "+Me.join(" or ")+", actual: "+le.join(" | ")+", index: "+Pe+")"),Ce.data={category:"wrongType",fn:Fe,index:Pe,actual:le,expected:Me},Ce}}else Ne=Y}let _=Ne.map(function(Y){return M(Y.params)?1/0:Y.params.length});if(se.length<Math.min.apply(null,_))return Me=I(Ne,Pe),Ce=new TypeError("Too few arguments in function "+Fe+" (expected: "+Me.join(" or ")+", index: "+se.length+")"),Ce.data={category:"tooFewArgs",fn:Fe,index:se.length,expected:Me},Ce;let N=Math.max.apply(null,_);if(se.length>N)return Ce=new TypeError("Too many arguments in function "+Fe+" (expected: "+N+", actual: "+se.length+")"),Ce.data={category:"tooManyArgs",fn:Fe,index:se.length,expectedLength:N},Ce;let L=[];for(let Y=0;Y<se.length;++Y)L.push(v(se[Y]).join("|"));return Ce=new TypeError('Arguments of type "'+L.join(", ")+'" do not match any of the defined signatures of function '+Fe+"."),Ce.data={category:"mismatch",actual:L},Ce}function O(j){let se=l.length+1;for(let de=0;de<j.types.length;de++)T(j.types[de])&&(se=Math.min(se,j.types[de].typeIndex));return se}function J(j){let se=f+1;for(let de=0;de<j.types.length;de++)T(j.types[de])||(se=Math.min(se,j.types[de].conversionIndex));return se}function $(j,se){if(j.hasAny){if(!se.hasAny)return 1}else if(se.hasAny)return-1;if(j.restParam){if(!se.restParam)return 1}else if(se.restParam)return-1;if(j.hasConversion){if(!se.hasConversion)return 1}else if(se.hasConversion)return-1;let de=O(j)-O(se);if(de<0)return-1;if(de>0)return 1;let Ce=J(j)-J(se);return Ce<0?-1:Ce>0?1:0}function W(j,se){let de=j.params,Ce=se.params,Me=z(de),Fe=z(Ce),Ne=M(de),Pe=M(Ce);if(Ne&&Me.hasAny){if(!Pe||!Fe.hasAny)return 1}else if(Pe&&Fe.hasAny)return-1;let _=0,N=0,L;for(L of de)L.hasAny&&++_,L.hasConversion&&++N;let Y=0,le=0;for(L of Ce)L.hasAny&&++Y,L.hasConversion&&++le;if(_!==Y)return _-Y;if(Ne&&Me.hasConversion){if(!Pe||!Fe.hasConversion)return 1}else if(Pe&&Fe.hasConversion)return-1;if(N!==le)return N-le;if(Ne){if(!Pe)return 1}else if(Pe)return-1;let he=(de.length-Ce.length)*(Ne?-1:1);if(he!==0)return he;let _e=[],qe=0;for(let Wt=0;Wt<de.length;++Wt){let Tr=$(de[Wt],Ce[Wt]);_e.push(Tr),qe+=Tr}if(qe!==0)return qe;let st;for(st of _e)if(st!==0)return st;return 0}function q(j){if(j.length===0)return[];let se=j.map(p);j.length>1&&se.sort((Me,Fe)=>Me.index-Fe.index);let de=se[0].conversionsTo;if(j.length===1)return de;de=de.concat([]);let Ce=new Set(j);for(let Me=1;Me<se.length;++Me){let Fe;for(Fe of se[Me].conversionsTo)Ce.has(Fe.from)||(de.push(Fe),Ce.add(Fe.from))}return de}function te(j,se){let de=se;if(j.some(Me=>Me.hasConversion)){let Me=M(j),Fe=j.map(ge);de=function(){let Pe=[],_=Me?arguments.length-1:arguments.length;for(let N=0;N<_;N++)Pe[N]=Fe[N](arguments[N]);return Me&&(Pe[_]=arguments[_].map(Fe[_])),se.apply(this,Pe)}}let Ce=de;if(M(j)){let Me=j.length-1;Ce=function(){return de.apply(this,Z(arguments,0,Me).concat([Z(arguments,Me)]))}}return Ce}function ge(j){let se,de,Ce,Me,Fe=[],Ne=[];switch(j.types.forEach(function(Pe){Pe.conversion&&(Fe.push(p(Pe.conversion.from).test),Ne.push(Pe.conversion.convert))}),Ne.length){case 0:return function(_){return _};case 1:return se=Fe[0],Ce=Ne[0],function(_){return se(_)?Ce(_):_};case 2:return se=Fe[0],de=Fe[1],Ce=Ne[0],Me=Ne[1],function(_){return se(_)?Ce(_):de(_)?Me(_):_};default:return function(_){for(let N=0;N<Ne.length;N++)if(Fe[N](_))return Ne[N](_);return _}}}function oe(j){function se(de,Ce,Me){if(Ce<de.length){let Fe=de[Ce],Ne=[];if(Fe.restParam){let Pe=Fe.types.filter(T);Pe.length<Fe.types.length&&Ne.push({types:Pe,name:"..."+Pe.map(_=>_.name).join("|"),hasAny:Pe.some(_=>_.isAny),hasConversion:!1,restParam:!0}),Ne.push(Fe)}else Ne=Fe.types.map(function(Pe){return{types:[Pe],name:Pe.name,hasAny:Pe.isAny,hasConversion:Pe.conversion,restParam:!1}});return H(Ne,function(Pe){return se(de,Ce+1,Me.concat([Pe]))})}else return[Me]}return se(j,0,[])}function ce(j,se){let de=Math.max(j.length,se.length);for(let Pe=0;Pe<de;Pe++){let _=P(j,Pe),N=P(se,Pe),L=!1,Y;for(Y of N)if(_.has(Y)){L=!0;break}if(!L)return!1}let Ce=j.length,Me=se.length,Fe=M(j),Ne=M(se);return Fe?Ne?Ce===Me:Me>=Ce:Ne?Ce>=Me:Ce===Me}function pe(j){return j.map(se=>Le(se)?be(se.referToSelf.callback):ye(se)?ie(se.referTo.references,se.referTo.callback):se)}function ue(j,se,de){let Ce=[],Me;for(Me of j){let Fe=de[Me];if(typeof Fe!="number")throw new TypeError('No definition for referenced signature "'+Me+'"');if(Fe=se[Fe],typeof Fe!="function")return!1;Ce.push(Fe)}return Ce}function ae(j,se,de){let Ce=pe(j),Me=new Array(Ce.length).fill(!1),Fe=!0;for(;Fe;){Fe=!1;let Ne=!0;for(let Pe=0;Pe<Ce.length;++Pe){if(Me[Pe])continue;let _=Ce[Pe];if(Le(_))Ce[Pe]=_.referToSelf.callback(de),Ce[Pe].referToSelf=_.referToSelf,Me[Pe]=!0,Ne=!1;else if(ye(_)){let N=ue(_.referTo.references,Ce,se);N?(Ce[Pe]=_.referTo.callback.apply(this,N),Ce[Pe].referTo=_.referTo,Me[Pe]=!0,Ne=!1):Fe=!0}}if(Ne&&Fe)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ce}function me(j){let se=/\bthis(\(|\.signatures\b)/;Object.keys(j).forEach(de=>{let Ce=j[de];if(se.test(Ce.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function xe(j,se){if(m.createCount++,Object.keys(se).length===0)throw new SyntaxError("No signatures provided");m.warnAgainstDeprecatedThis&&me(se);let de=[],Ce=[],Me={},Fe=[],Ne;for(Ne in se){if(!Object.prototype.hasOwnProperty.call(se,Ne))continue;let er=F(Ne);if(!er)continue;de.forEach(function($s){if(ce($s,er))throw new TypeError('Conflicting signatures "'+x($s)+'" and "'+x(er)+'".')}),de.push(er);let _n=Ce.length;Ce.push(se[Ne]);let R6=er.map(S),xl;for(xl of oe(R6)){let $s=x(xl);Fe.push({params:xl,name:$s,fn:_n}),xl.every(P6=>!P6.hasConversion)&&(Me[$s]=_n)}}Fe.sort(W);let Pe=ae(Ce,Me,Ks),_;for(_ in Me)Object.prototype.hasOwnProperty.call(Me,_)&&(Me[_]=Pe[Me[_]]);let N=[],L=new Map;for(_ of Fe)L.has(_.name)||(_.fn=Pe[_.fn],N.push(_),L.set(_.name,_));let Y=N[0]&&N[0].params.length<=2&&!M(N[0].params),le=N[1]&&N[1].params.length<=2&&!M(N[1].params),he=N[2]&&N[2].params.length<=2&&!M(N[2].params),_e=N[3]&&N[3].params.length<=2&&!M(N[3].params),qe=N[4]&&N[4].params.length<=2&&!M(N[4].params),st=N[5]&&N[5].params.length<=2&&!M(N[5].params),Wt=Y&&le&&he&&_e&&qe&&st;for(let er=0;er<N.length;++er)N[er].test=k(N[er].params);let Tr=Y?B(N[0].params[0]):e,Rr=le?B(N[1].params[0]):e,hi=he?B(N[2].params[0]):e,Cn=_e?B(N[3].params[0]):e,gi=qe?B(N[4].params[0]):e,ya=st?B(N[5].params[0]):e,lp=Y?B(N[0].params[1]):e,Nr=le?B(N[1].params[1]):e,ba=he?B(N[2].params[1]):e,xa=_e?B(N[3].params[1]):e,$i=qe?B(N[4].params[1]):e,Da=st?B(N[5].params[1]):e;for(let er=0;er<N.length;++er)N[er].implementation=te(N[er].params,N[er].fn);let wa=Y?N[0].implementation:r,x6=le?N[1].implementation:r,D6=he?N[2].implementation:r,w6=_e?N[3].implementation:r,E6=qe?N[4].implementation:r,C6=st?N[5].implementation:r,F6=Y?N[0].params.length:-1,S6=le?N[1].params.length:-1,A6=he?N[2].params.length:-1,N6=_e?N[3].params.length:-1,_6=qe?N[4].params.length:-1,M6=st?N[5].params.length:-1,T6=Wt?6:0,I6=N.length,B6=N.map(er=>er.test),O6=N.map(er=>er.implementation),k6=function(){for(let _n=T6;_n<I6;_n++)if(B6[_n](arguments))return O6[_n].apply(this,arguments);return m.onMismatch(j,arguments,N)};function Ks(er,_n){return arguments.length===F6&&Tr(er)&&lp(_n)?wa.apply(this,arguments):arguments.length===S6&&Rr(er)&&Nr(_n)?x6.apply(this,arguments):arguments.length===A6&&hi(er)&&ba(_n)?D6.apply(this,arguments):arguments.length===N6&&Cn(er)&&xa(_n)?w6.apply(this,arguments):arguments.length===_6&&gi(er)&&$i(_n)?E6.apply(this,arguments):arguments.length===M6&&ya(er)&&Da(_n)?C6.apply(this,arguments):k6.apply(this,arguments)}try{Object.defineProperty(Ks,"name",{value:j})}catch(er){}return Ks.signatures=Me,Ks._typedFunctionData={signatures:N,signatureMap:L},Ks}function Re(j,se,de){throw V(j,se,de)}function We(j){return Z(j,0,j.length-1)}function z(j){return j[j.length-1]}function Z(j,se,de){return Array.prototype.slice.call(j,se,de)}function fe(j,se){for(let de=0;de<j.length;de++)if(se(j[de]))return j[de]}function H(j,se){return Array.prototype.concat.apply([],j.map(se))}function K(){let j=We(arguments).map(de=>x(F(de))),se=z(arguments);if(typeof se!="function")throw new TypeError("Callback function expected as last argument");return ie(j,se)}function ie(j,se){return{referTo:{references:j,callback:se}}}function be(j){if(typeof j!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:j}}}function ye(j){return j&&typeof j.referTo=="object"&&Array.isArray(j.referTo.references)&&typeof j.referTo.callback=="function"}function Le(j){return j&&typeof j.referToSelf=="object"&&typeof j.referToSelf.callback=="function"}function Se(j,se){if(!j)return se;if(se&&se!==j){let de=new Error("Function names do not match (expected: "+j+", actual: "+se+")");throw de.data={actual:se,expected:j},de}return j}function ft(j){let se;for(let de in j)Object.prototype.hasOwnProperty.call(j,de)&&(C(j[de])||typeof j[de].signature=="string")&&(se=Se(se,j[de].name));return se}function pt(j,se){let de;for(de in se)if(Object.prototype.hasOwnProperty.call(se,de)){if(de in j&&se[de]!==j[de]){let Ce=new Error('Signature "'+de+'" is defined twice');throw Ce.data={signature:de,sourceFunction:se[de],destFunction:j[de]},Ce}j[de]=se[de]}}let _t=m;m=function(j){let se=typeof j=="string",de=se?1:0,Ce=se?j:"",Me={};for(let Fe=de;Fe<arguments.length;++Fe){let Ne=arguments[Fe],Pe={},_;if(typeof Ne=="function"?(_=Ne.name,typeof Ne.signature=="string"?Pe[Ne.signature]=Ne:C(Ne)&&(Pe=Ne.signatures)):o(Ne)&&(Pe=Ne,se||(_=ft(Ne))),Object.keys(Pe).length===0){let N=new TypeError("Argument to 'typed' at index "+Fe+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw N.data={index:Fe,argument:Ne},N}se||(Ce=Se(Ce,_)),pt(Me,Pe)}return xe(Ce||"",Me)},m.create=i,m.createCount=_t.createCount,m.onMismatch=Re,m.throwMismatchError=Re,m.createError=V,m.clear=d,m.clearConversions=g,m.addTypes=h,m._findType=p,m.referTo=K,m.referToSelf=be,m.convert=b,m.findSignature=y,m.find=D,m.isTypedFunction=C,m.warnAgainstDeprecatedThis=!0,m.addType=function(j,se){let de="any";se!==!1&&s.has("Object")&&(de="Object"),m.addTypes([j],de)};function zt(j){if(!j||typeof j.from!="string"||typeof j.to!="string"||typeof j.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(j.to===j.from)throw new SyntaxError('Illegal to define conversion from "'+j.from+'" to itself.')}return m.addConversion=function(j){zt(j);let se=p(j.to);if(se.conversionsTo.every(function(de){return de.from!==j.from}))se.conversionsTo.push({from:j.from,convert:j.convert,index:f++});else throw new Error('There is already a conversion from "'+j.from+'" to "'+se.name+'"')},m.addConversions=function(j){j.forEach(m.addConversion)},m.removeConversion=function(j){zt(j);let se=p(j.to),de=fe(se.conversionsTo,Me=>Me.from===j.from);if(!de)throw new Error("Attempt to remove nonexistent conversion from "+j.from+" to "+j.to);if(de.convert!==j.convert)throw new Error("Conversion to remove does not match existing conversion");let Ce=se.conversionsTo.indexOf(de);se.conversionsTo.splice(Ce,1)},m.resolve=function(j,se){if(!C(j))throw new TypeError(n);let de=j._typedFunctionData.signatures;for(let Ce=0;Ce<de.length;++Ce)if(de[Ce].test(se))return de[Ce];return null},m}var a=i();return a})});var aA=gr((Yh,iA)=>{(function(t){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},r=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var l=Math.PI/4;if(-l>s||s>l)return Math.cos(s)-1;var f=s*s;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,l){var f=Math.abs(s),m=Math.abs(l);return f<3e3&&m<3e3?Math.sqrt(f*f+m*m):(f<m?(f=m,m=s/l):m=l/s,f*Math.sqrt(1+m*m))},a=function(){throw SyntaxError("Invalid Param")};function o(s,l){var f=Math.abs(s),m=Math.abs(l);return s===0?Math.log(m):l===0?Math.log(f):f<3e3&&m<3e3?Math.log(s*s+l*l)*.5:(s=s/2,l=l/2,.5*Math.log(s*s+l*l)+Math.LN2)}var c=function(s,l){var f={re:0,im:0};if(s==null)f.re=f.im=0;else if(l!==void 0)f.re=s,f.im=l;else switch(typeof s){case"object":if("im"in s&&"re"in s)f.re=s.re,f.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return u.INFINITY;f.re=s.abs*Math.cos(s.arg),f.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return u.INFINITY;f.re=s.r*Math.cos(s.phi),f.im=s.r*Math.sin(s.phi)}else s.length===2?(f.re=s[0],f.im=s[1]):a();break;case"string":f.im=f.re=0;var m=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,h=0;m===null&&a();for(var d=0;d<m.length;d++){var g=m[d];g===" "||g==="	"||g===`
`||(g==="+"?p++:g==="-"?h++:g==="i"||g==="I"?(p+h===0&&a(),m[d+1]!==" "&&!isNaN(m[d+1])?(f.im+=parseFloat((h%2?"-":"")+m[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),p=h=0):((p+h===0||isNaN(g))&&a(),m[d+1]==="i"||m[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+g),d++):f.re+=parseFloat((h%2?"-":"")+g),p=h=0))}p+h>0&&a();break;case"number":f.im=0,f.re=s;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function u(s,l){if(!(this instanceof u))return new u(s,l);var f=c(s,l);this.re=f.re,this.im=f.im}u.prototype={re:0,im:0,sign:function(){var s=this.abs();return new u(this.re/s,this.im/s)},add:function(s,l){var f=new u(s,l);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re+f.re,this.im+f.im)},sub:function(s,l){var f=new u(s,l);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re-f.re,this.im-f.im)},mul:function(s,l){var f=new u(s,l);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:f.im===0&&this.im===0?new u(this.re*f.re,0):new u(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(s,l){var f=new u(s,l);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return u.NAN;if(this.isInfinite()||f.isZero())return u.INFINITY;if(this.isZero()||f.isInfinite())return u.ZERO;s=this.re,l=this.im;var m=f.re,p=f.im,h,d;return p===0?new u(s/m,l/m):Math.abs(m)<Math.abs(p)?(d=m/p,h=m*d+p,new u((s*d+l)/h,(l*d-s)/h)):(d=p/m,h=p*d+m,new u((s+l*d)/h,(l-s*d)/h))},pow:function(s,l){var f=new u(s,l);if(s=this.re,l=this.im,f.isZero())return u.ONE;if(f.im===0){if(l===0&&s>0)return new u(Math.pow(s,f.re),0);if(s===0)switch((f.re%4+4)%4){case 0:return new u(Math.pow(l,f.re),0);case 1:return new u(0,Math.pow(l,f.re));case 2:return new u(-Math.pow(l,f.re),0);case 3:return new u(0,-Math.pow(l,f.re))}}if(s===0&&l===0&&f.re>0&&f.im>=0)return u.ZERO;var m=Math.atan2(l,s),p=o(s,l);return s=Math.exp(f.re*p-f.im*m),l=f.im*p+f.re*m,new u(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){var s=this.re,l=this.im,f=this.abs(),m,p;if(s>=0){if(l===0)return new u(Math.sqrt(s),0);m=.5*Math.sqrt(2*(f+s))}else m=Math.abs(l)/Math.sqrt(2*(f-s));return s<=0?p=.5*Math.sqrt(2*(f-s)):p=Math.abs(l)/Math.sqrt(2*(f+s)),new u(m,l<0?-p:p)},exp:function(){var s=Math.exp(this.re);return this.im,new u(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,l=this.im;return new u(Math.expm1(s)*Math.cos(l)+n(l),Math.exp(s)*Math.sin(l))},log:function(){var s=this.re,l=this.im;return l===0&&s>0,new u(o(s,l),Math.atan2(l,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,l=this.im;return new u(Math.sin(s)*e(l),Math.cos(s)*r(l))},cos:function(){var s=this.re,l=this.im;return new u(Math.cos(s)*e(l),-Math.sin(s)*r(l))},tan:function(){var s=2*this.re,l=2*this.im,f=Math.cos(s)+e(l);return new u(Math.sin(s)/f,r(l)/f)},cot:function(){var s=2*this.re,l=2*this.im,f=Math.cos(s)-e(l);return new u(-Math.sin(s)/f,r(l)/f)},sec:function(){var s=this.re,l=this.im,f=.5*e(2*l)+.5*Math.cos(2*s);return new u(Math.cos(s)*e(l)/f,Math.sin(s)*r(l)/f)},csc:function(){var s=this.re,l=this.im,f=.5*e(2*l)-.5*Math.cos(2*s);return new u(Math.sin(s)*e(l)/f,-Math.cos(s)*r(l)/f)},asin:function(){var s=this.re,l=this.im,f=new u(l*l-s*s+1,-2*s*l).sqrt(),m=new u(f.re-l,f.im+s).log();return new u(m.im,-m.re)},acos:function(){var s=this.re,l=this.im,f=new u(l*l-s*s+1,-2*s*l).sqrt(),m=new u(f.re-l,f.im+s).log();return new u(Math.PI/2-m.im,m.re)},atan:function(){var s=this.re,l=this.im;if(s===0){if(l===1)return new u(0,1/0);if(l===-1)return new u(0,-1/0)}var f=s*s+(1-l)*(1-l),m=new u((1-l*l-s*s)/f,-2*s/f).log();return new u(-.5*m.im,.5*m.re)},acot:function(){var s=this.re,l=this.im;if(l===0)return new u(Math.atan2(1,s),0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).atan():new u(s!==0?s/0:0,l!==0?-l/0:0).atan()},asec:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new u(0,1/0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).acos():new u(s!==0?s/0:0,l!==0?-l/0:0).acos()},acsc:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new u(Math.PI/2,1/0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).asin():new u(s!==0?s/0:0,l!==0?-l/0:0).asin()},sinh:function(){var s=this.re,l=this.im;return new u(r(s)*Math.cos(l),e(s)*Math.sin(l))},cosh:function(){var s=this.re,l=this.im;return new u(e(s)*Math.cos(l),r(s)*Math.sin(l))},tanh:function(){var s=2*this.re,l=2*this.im,f=e(s)+Math.cos(l);return new u(r(s)/f,Math.sin(l)/f)},coth:function(){var s=2*this.re,l=2*this.im,f=e(s)-Math.cos(l);return new u(r(s)/f,-Math.sin(l)/f)},csch:function(){var s=this.re,l=this.im,f=Math.cos(2*l)-e(2*s);return new u(-2*r(s)*Math.cos(l)/f,2*e(s)*Math.sin(l)/f)},sech:function(){var s=this.re,l=this.im,f=Math.cos(2*l)+e(2*s);return new u(2*e(s)*Math.cos(l)/f,-2*r(s)*Math.sin(l)/f)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var l=this.asin();return this.re=-this.im,this.im=s,s=l.re,l.re=-l.im,l.im=s,l},acosh:function(){var s=this.acos();if(s.im<=0){var l=s.re;s.re=-s.im,s.im=l}else{var l=s.im;s.im=-s.re,s.re=l}return s},atanh:function(){var s=this.re,l=this.im,f=s>1&&l===0,m=1-s,p=1+s,h=m*m+l*l,d=h!==0?new u((p*m-l*l)/h,(l*m+p*l)/h):new u(s!==-1?s/0:0,l!==0?l/0:0),g=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,g)/2,f&&(d.im=-d.im),d},acoth:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new u(0,Math.PI/2);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).atanh():new u(s!==0?s/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var s=this.re,l=this.im;if(l===0)return new u(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).asinh():new u(s!==0?s/0:0,l!==0?-l/0:0).asinh()},asech:function(){var s=this.re,l=this.im;if(this.isZero())return u.INFINITY;var f=s*s+l*l;return f!==0?new u(s/f,-l/f).acosh():new u(s!==0?s/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var s=this.re,l=this.im,f=s*s+l*l;return new u(s/f,-l/f)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new u(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new u(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new u(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,l){var f=new u(s,l);return Math.abs(f.re-this.re)<=u.EPSILON&&Math.abs(f.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var s=this.re,l=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<u.EPSILON&&(s=0),Math.abs(l)<u.EPSILON&&(l=0),l===0?f+s:(s!==0?(f+=s,f+=" ",l<0?(l=-l,f+="-"):f+="+",f+=" "):l<0&&(l=-l,f+="-"),l!==1&&(f+=l),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return u}):typeof Yh=="object"?(Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,iA.exports=u):t.Complex=u})(Yh)});var sA=gr((Xh,oA)=>{(function(t){"use strict";var e=2e3,r={s:1,n:0,d:1};function n(d,g){if(isNaN(d=parseInt(d,10)))throw p();return d*g}function i(d,g){if(g===0)throw m();var v=Object.create(f.prototype);v.s=d<0?-1:1,d=d<0?-d:d;var C=l(d,g);return v.n=d/C,v.d=g/C,v}function a(d){for(var g={},v=d,C=2,y=4;y<=v;){for(;v%C===0;)v/=C,g[C]=(g[C]||0)+1;y+=1+2*C++}return v!==d?v>1&&(g[v]=(g[v]||0)+1):g[d]=(g[d]||0)+1,g}var o=function(d,g){var v=0,C=1,y=1,D=0,b=0,x=0,w=1,S=1,E=0,F=1,M=1,B=1,k=1e7,R;if(d!=null)if(g!==void 0){if(v=d,C=g,y=v*C,v%1!==0||C%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)v=d.n,C=d.d,"s"in d&&(v*=d.s);else if(0 in d)v=d[0],1 in d&&(C=d[1]);else throw p();y=v*C;break}case"number":{if(d<0&&(y=d,d=-d),d%1===0)v=d;else if(d>0){for(d>=1&&(S=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=S);F<=k&&B<=k;)if(R=(E+M)/(F+B),d===R){F+B<=k?(v=E+M,C=F+B):B>F?(v=M,C=B):(v=E,C=F);break}else d>R?(E+=M,F+=B):(M+=E,B+=F),F>k?(v=M,C=B):(v=E,C=F);v*=S}else(isNaN(d)||isNaN(g))&&(C=v=NaN);break}case"string":{if(F=d.match(/\d+|./g),F===null)throw p();if(F[E]==="-"?(y=-1,E++):F[E]==="+"&&E++,F.length===E+1?b=n(F[E++],y):F[E+1]==="."||F[E]==="."?(F[E]!=="."&&(D=n(F[E++],y)),E++,(E+1===F.length||F[E+1]==="("&&F[E+3]===")"||F[E+1]==="'"&&F[E+3]==="'")&&(b=n(F[E],y),w=Math.pow(10,F[E].length),E++),(F[E]==="("&&F[E+2]===")"||F[E]==="'"&&F[E+2]==="'")&&(x=n(F[E+1],y),S=Math.pow(10,F[E+1].length)-1,E+=3)):F[E+1]==="/"||F[E+1]===":"?(b=n(F[E],y),w=n(F[E+2],1),E+=3):F[E+3]==="/"&&F[E+1]===" "&&(D=n(F[E],y),b=n(F[E+2],y),w=n(F[E+4],1),E+=5),F.length<=E){C=w*S,y=v=x+C*D+S*b;break}}default:throw p()}if(C===0)throw m();r.s=y<0?-1:1,r.n=Math.abs(v),r.d=Math.abs(C)};function c(d,g,v){for(var C=1;g>0;d=d*d%v,g>>=1)g&1&&(C=C*d%v);return C}function u(d,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var v=10%g,C=1;v!==1;C++)if(v=v*10%g,C>e)return 0;return C}function s(d,g,v){for(var C=1,y=c(10,v,g),D=0;D<300;D++){if(C===y)return D;C=C*10%g,y=y*10%g}return 0}function l(d,g){if(!d)return g;if(!g)return d;for(;;){if(d%=g,!d)return g;if(g%=d,!g)return d}}function f(d,g){if(o(d,g),this instanceof f)d=l(r.d,r.n),this.s=r.s,this.n=r.n/d,this.d=r.d/d;else return i(r.s*r.n,r.d)}var m=function(){return new Error("Division by Zero")},p=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,g){return o(d,g),i(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(d,g){return o(d,g),i(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(d,g){return o(d,g),i(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(d,g){return o(d,g),i(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,g){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,g),r.n===0&&this.d===0)throw m();return i(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(d,g){return o(d,g),i(l(r.n,this.n)*l(r.d,this.d),r.d*this.d)},lcm:function(d,g){return o(d,g),r.n===0&&this.n===0?i(0,1):i(r.n*this.n,l(r.n,this.n)*l(r.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,g){if(o(d,g),r.d===1)return r.s<0?i(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):i(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var v=a(this.n),C=a(this.d),y=1,D=1;for(var b in v)if(b!=="1"){if(b==="0"){y=0;break}if(v[b]*=r.n,v[b]%r.d===0)v[b]/=r.d;else return null;y*=Math.pow(b,v[b])}for(var b in C)if(b!=="1"){if(C[b]*=r.n,C[b]%r.d===0)C[b]/=r.d;else return null;D*=Math.pow(b,C[b])}return r.s<0?i(D,y):i(y,D)},equals:function(d,g){return o(d,g),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(d,g){o(d,g);var v=this.s*this.n*r.d-r.s*r.n*this.d;return(0<v)-(v<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var g=this.abs(),v=g.toContinued(),C=1;C<v.length;C++){for(var y=i(v[C-1],1),D=C-2;D>=0;D--)y=y.inverse().add(v[D]);if(Math.abs(y.sub(g).valueOf())<d)return y.mul(this.s)}return this},divisible:function(d,g){return o(d,g),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var g,v="",C=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=C:(d&&(g=Math.floor(C/y))>0&&(v+=g,v+=" ",C%=y),v+=C,v+="/",v+=y),v},toLatex:function(d){var g,v="",C=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=C:(d&&(g=Math.floor(C/y))>0&&(v+=g,C%=y),v+="\\frac{",v+=C,v+="}{",v+=y,v+="}"),v},toContinued:function(){var d,g=this.n,v=this.d,C=[];if(isNaN(g)||isNaN(v))return C;do C.push(Math.floor(g/v)),d=g%v,g=v,v=d;while(g!==1);return C},toString:function(d){var g=this.n,v=this.d;if(isNaN(g)||isNaN(v))return"NaN";d=d||15;var C=u(g,v),y=s(g,v,C),D=this.s<0?"-":"";if(D+=g/v|0,g%=v,g*=10,g&&(D+="."),C){for(var b=y;b--;)D+=g/v|0,g%=v,g*=10;D+="(";for(var b=C;b--;)D+=g/v|0,g%=v,g*=10;D+=")"}else for(var b=d;g&&b--;)D+=g/v|0,g%=v,g*=10;return D}},typeof Xh=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,oA.exports=f):t.Fraction=f})(Xh)});var w_=gr((Dwe,D_)=>{D_.exports=function t(e,r){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,c=/^0/,u=function(y){return t.insensitive&&(""+y).toLowerCase()||""+y},s=u(e).replace(i,"")||"",l=u(r).replace(i,"")||"",f=s.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=l.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(s.match(o),16)||f.length!==1&&s.match(a)&&Date.parse(s),h=parseInt(l.match(o),16)||p&&l.match(a)&&Date.parse(l)||null,d,g;if(h){if(p<h)return-1;if(p>h)return 1}for(var v=0,C=Math.max(f.length,m.length);v<C;v++){if(d=!(f[v]||"").match(c)&&parseFloat(f[v])||f[v]||0,g=!(m[v]||"").match(c)&&parseFloat(m[v])||m[v]||0,isNaN(d)!==isNaN(g))return isNaN(d)?1:-1;if(typeof d!=typeof g&&(d+="",g+=""),d<g)return-1;if(d>g)return 1}return 0}});var FM=gr((L2e,CM)=>{"use strict";var w1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aj={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Nj={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},_j=function(e,r){return w1({},e,r)};CM.exports=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.preserveFormatting,n=r===void 0?!1:r,i=e.escapeMapFn,a=i===void 0?_j:i,o=String(t),c="",u=a(w1({},Aj),n?w1({},Nj):{}),s=Object.keys(u),l=function(){var m=!1;s.forEach(function(p,h){m||o.length>=p.length&&o.slice(0,p.length)===p&&(c+=u[s[h]],o=o.slice(p.length,o.length),m=!0)}),m||(c+=o.slice(0,1),o=o.slice(1,o.length))};o;)l();return c}});var t4=gr((e4,Eb)=>{(function(t,e,r){function n(c){var u=this,s=o();u.next=function(){var l=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=l-(u.c=l|0)},u.c=1,u.s0=s(" "),u.s1=s(" "),u.s2=s(" "),u.s0-=s(c),u.s0<0&&(u.s0+=1),u.s1-=s(c),u.s1<0&&(u.s1+=1),u.s2-=s(c),u.s2<0&&(u.s2+=1),s=null}function i(c,u){return u.c=c.c,u.s0=c.s0,u.s1=c.s1,u.s2=c.s2,u}function a(c,u){var s=new n(c),l=u&&u.state,f=s.next;return f.int32=function(){return s.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,l&&(typeof l=="object"&&i(l,s),f.state=function(){return i(s,{})}),f}function o(){var c=4022871197,u=function(s){s=String(s);for(var l=0;l<s.length;l++){c+=s.charCodeAt(l);var f=.02519603282416938*c;c=f>>>0,f-=c,f*=c,c=f>>>0,f-=c,c+=f*4294967296}return(c>>>0)*23283064365386963e-26};return u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(e4,typeof Eb=="object"&&Eb,typeof define=="function"&&define)});var n4=gr((r4,Cb)=>{(function(t,e,r){function n(o){var c=this,u="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var l=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^l^l>>>8},o===(o|0)?c.x=o:u+=o;for(var s=0;s<u.length+64;s++)c.x^=u.charCodeAt(s)|0,c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c}function a(o,c){var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(typeof s=="object"&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(r4,typeof Cb=="object"&&Cb,typeof define=="function"&&define)});var a4=gr((i4,Fb)=>{(function(t,e,r){function n(o){var c=this,u="";c.next=function(){var l=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(l^l<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,o===(o|0)?c.x=o:u+=o;for(var s=0;s<u.length+64;s++)c.x^=u.charCodeAt(s)|0,s==u.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c.v=o.v,c.d=o.d,c}function a(o,c){var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(typeof s=="object"&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(i4,typeof Fb=="object"&&Fb,typeof define=="function"&&define)});var s4=gr((o4,Sb)=>{(function(t,e,r){function n(o){var c=this;c.next=function(){var s=c.x,l=c.i,f,m,p;return f=s[l],f^=f>>>7,m=f^f<<24,f=s[l+1&7],m^=f^f>>>10,f=s[l+3&7],m^=f^f>>>3,f=s[l+4&7],m^=f^f<<7,f=s[l+7&7],f=f^f<<13,m^=f^f<<9,s[l]=m,c.i=l+1&7,m};function u(s,l){var f,m,p=[];if(l===(l|0))m=p[0]=l;else for(l=""+l,f=0;f<l.length;++f)p[f&7]=p[f&7]<<15^l.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?m=p[7]=-1:m=p[f],s.x=p,s.i=0,f=256;f>0;--f)s.next()}u(c,o)}function i(o,c){return c.x=o.x.slice(),c.i=o.i,c}function a(o,c){o==null&&(o=+new Date);var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(s.x&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(o4,typeof Sb=="object"&&Sb,typeof define=="function"&&define)});var l4=gr((u4,Ab)=>{(function(t,e,r){function n(o){var c=this;c.next=function(){var s=c.w,l=c.X,f=c.i,m,p;return c.w=s=s+1640531527|0,p=l[f+34&127],m=l[f=f+1&127],p^=p<<13,m^=m<<17,p^=p>>>15,m^=m>>>12,p=l[f]=p^m,c.i=f,p+(s^s>>>16)|0};function u(s,l){var f,m,p,h,d,g=[],v=128;for(l===(l|0)?(m=l,l=null):(l=l+"\0",m=0,v=Math.max(v,l.length)),p=0,h=-32;h<v;++h)l&&(m^=l.charCodeAt((h+32)%l.length)),h===0&&(d=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,h>=0&&(d=d+1640531527|0,f=g[h&127]^=m+d,p=f==0?p+1:0);for(p>=128&&(g[(l&&l.length||0)&127]=-1),p=127,h=4*128;h>0;--h)m=g[p+34&127],f=g[p=p+1&127],m^=m<<13,f^=f<<17,m^=m>>>15,f^=f>>>12,g[p]=m^f;s.w=d,s.X=g,s.i=p}u(c,o)}function i(o,c){return c.i=o.i,c.w=o.w,c.X=o.X.slice(),c}function a(o,c){o==null&&(o=+new Date);var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(s.X&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(u4,typeof Ab=="object"&&Ab,typeof define=="function"&&define)});var f4=gr((c4,Nb)=>{(function(t,e,r){function n(o){var c=this,u="";c.next=function(){var l=c.b,f=c.c,m=c.d,p=c.a;return l=l<<25^l>>>7^f,f=f-m|0,m=m<<24^m>>>8^p,p=p-l|0,c.b=l=l<<20^l>>>12^f,c.c=f=f-m|0,c.d=m<<16^f>>>16^p,c.a=p-l|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,o===Math.floor(o)?(c.a=o/4294967296|0,c.b=o|0):u+=o;for(var s=0;s<u.length+20;s++)c.b^=u.charCodeAt(s)|0,c.next()}function i(o,c){return c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c}function a(o,c){var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(typeof s=="object"&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(c4,typeof Nb=="object"&&Nb,typeof define=="function"&&define)});var p4=gr((m4,_m)=>{(function(t,e,r){var n=256,i=6,a=52,o="random",c=r.pow(n,i),u=r.pow(2,a),s=u*2,l=n-1,f;function m(y,D,b){var x=[];D=D==!0?{entropy:!0}:D||{};var w=g(d(D.entropy?[y,C(e)]:y==null?v():y,3),x),S=new p(x),E=function(){for(var F=S.g(i),M=c,B=0;F<u;)F=(F+B)*n,M*=n,B=S.g(1);for(;F>=s;)F/=2,M/=2,B>>>=1;return(F+B)/M};return E.int32=function(){return S.g(4)|0},E.quick=function(){return S.g(4)/4294967296},E.double=E,g(C(S.S),e),(D.pass||b||function(F,M,B,k){return k&&(k.S&&h(k,S),F.state=function(){return h(S,{})}),B?(r[o]=F,M):F})(E,w,"global"in D?D.global:this==r,D.state)}function p(y){var D,b=y.length,x=this,w=0,S=x.i=x.j=0,E=x.S=[];for(b||(y=[b++]);w<n;)E[w]=w++;for(w=0;w<n;w++)E[w]=E[S=l&S+y[w%b]+(D=E[w])],E[S]=D;(x.g=function(F){for(var M,B=0,k=x.i,R=x.j,P=x.S;F--;)M=P[k=l&k+1],B=B*n+P[l&(P[k]=P[R=l&R+M])+(P[R]=M)];return x.i=k,x.j=R,B})(n)}function h(y,D){return D.i=y.i,D.j=y.j,D.S=y.S.slice(),D}function d(y,D){var b=[],x=typeof y,w;if(D&&x=="object")for(w in y)try{b.push(d(y[w],D-1))}catch(S){}return b.length?b:x=="string"?y:y+"\0"}function g(y,D){for(var b=y+"",x,w=0;w<b.length;)D[l&w]=l&(x^=D[l&w]*19)+b.charCodeAt(w++);return C(D)}function v(){try{var y;return f&&(y=f.randomBytes)?y=y(n):(y=new Uint8Array(n),(t.crypto||t.msCrypto).getRandomValues(y)),C(y)}catch(x){var D=t.navigator,b=D&&D.plugins;return[+new Date,t,b,t.screen,C(e)]}}function C(y){return String.fromCharCode.apply(0,y)}if(g(r.random(),e),typeof _m=="object"&&_m.exports){_m.exports=m;try{f=require("crypto")}catch(y){}}else typeof define=="function"&&define.amd?define(function(){return m}):r["seed"+o]=m})(typeof self!="undefined"?self:m4,[],Math)});var h4=gr((rPe,d4)=>{var jZ=t4(),ZZ=n4(),YZ=a4(),JZ=s4(),XZ=l4(),QZ=f4(),Oo=p4();Oo.alea=jZ;Oo.xor128=ZZ;Oo.xorwow=YZ;Oo.xorshift7=JZ;Oo.xor4096=XZ;Oo.tychei=QZ;d4.exports=Oo});var dJ={};H6(dJ,{default:()=>up});module.exports=G6(dJ);var b6=require("obsidian");var Mn=require("obsidian");var Cw=["January","February","March","April","May","June","July","August","September","October","November","December"],so=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],vi={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",useUsDateInputOrder:!1,firstWeekday:so[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,inputFieldTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var uE=require("obsidian");function Te(){}function wl(t,e){for(let r in e)t[r]=e[r];return t}function cp(t){return t()}function El(){return Object.create(null)}function $e(t){t.forEach(cp)}function Vn(t){return typeof t=="function"}function Be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}var Dl;function Vo(t,e){return t===e?!0:(Dl||(Dl=document.createElement("a")),Dl.href=e,t===Dl.href)}function Fw(t){return Object.keys(t).length===0}function Jr(t,e,r,n){if(t){let i=Sw(t,e,r,n);return t[0](i)}}function Sw(t,e,r,n){return t[1]&&n?wl(r.ctx.slice(),t[1](n(e))):r.ctx}function Xr(t,e,r,n){if(t[2]&&n){let i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let c=0;c<o;c+=1)a[c]=e.dirty[c]|i[c];return a}return e.dirty|i}return e.dirty}function Qr(t,e,r,n,i,a){if(i){let o=Sw(e,r,n,a);t.p(o,i)}}function Kr(t){if(t.ctx.length>32){let e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function uo(t){return t&&Vn(t.destroy)?t.destroy:Te}var tu=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Cl=class t{constructor(e){Wr(this,"_listeners","WeakMap"in tu?new WeakMap:void 0);Wr(this,"_observer");Wr(this,"options");this.options=e}observe(e,r){return this._listeners.set(e,r),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(r=>{var n;for(let i of r)t.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};Cl.entries="WeakMap"in tu?new WeakMap:void 0;var Aw=!1;function Nw(){Aw=!0}function _w(){Aw=!1}function G(t,e){t.appendChild(e)}function tr(t,e,r){let n=Mw(t);if(!n.getElementById(e)){let i=X("style");i.id=e,i.textContent=r,Y6(n,i)}}function Mw(t){if(!t)return document;let e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Y6(t,e){return G(t.head||t,e),e.sheet}function ne(t,e,r){t.insertBefore(e,r||null)}function re(t){t.parentNode&&t.parentNode.removeChild(t)}function Ft(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function X(t){return document.createElement(t)}function Un(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ve(t){return document.createTextNode(t)}function De(){return Ve(" ")}function cr(){return Ve("")}function Ae(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function U(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Oi(t){return t===""?null:+t}function Tw(t){return Array.from(t.childNodes)}function Ke(t,e){e=""+e,t.data!==e&&(t.data=e)}function Et(t,e){t.value=e==null?"":e}function ru(t,e,r,n){r==null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function Hr(t,e,r){for(let n=0;n<t.options.length;n+=1){let i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function ki(t){let e=t.querySelector(":checked");return e&&e.__value}function ut(t,e,r){t.classList.toggle(e,!!r)}function Fl(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function Iw(t){let e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}var Ea;function ea(t){Ea=t}function Sl(){if(!Ea)throw new Error("Function called outside component initialization");return Ea}function $r(t){Sl().$$.on_mount.push(t)}function Al(t){Sl().$$.on_destroy.push(t)}function Pr(){let t=Sl();return(e,r,{cancelable:n=!1}={})=>{let i=t.$$.callbacks[e];if(i){let a=Fl(e,r,{cancelable:n});return i.slice().forEach(o=>{o.call(t,a)}),!a.defaultPrevented}return!0}}function _r(t,e){let r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}var lo=[];var kt=[],zo=[],pp=[],$6=Promise.resolve(),dp=!1;function Bw(){dp||(dp=!0,$6.then(Nl))}function pn(t){zo.push(t)}function en(t){pp.push(t)}var mp=new Set,Uo=0;function Nl(){if(Uo!==0)return;let t=Ea;do{try{for(;Uo<lo.length;){let e=lo[Uo];Uo++,ea(e),eP(e.$$)}}catch(e){throw lo.length=0,Uo=0,e}for(ea(null),lo.length=0,Uo=0;kt.length;)kt.pop()();for(let e=0;e<zo.length;e+=1){let r=zo[e];mp.has(r)||(mp.add(r),r())}zo.length=0}while(lo.length);for(;pp.length;)pp.pop()();dp=!1,mp.clear(),ea(t)}function eP(t){if(t.fragment!==null){t.update(),$e(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(pn)}}function Ow(t){let e=[],r=[];zo.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),zo=e}var _l=new Set,co;function Rt(){co={r:0,c:[],p:co}}function Pt(){co.r||$e(co.c),co=co.p}function ve(t,e){t&&t.i&&(_l.delete(t),t.i(e))}function we(t,e,r,n){if(t&&t.o){if(_l.has(t))return;_l.add(t),co.c.push(()=>{_l.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function tt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function kw(t,e){t.d(1),e.delete(t.key)}function Rw(t,e){we(t,1,1,()=>{e.delete(t.key)})}function Ml(t,e,r,n,i,a,o,c,u,s,l,f){let m=t.length,p=a.length,h=m,d={};for(;h--;)d[t[h].key]=h;let g=[],v=new Map,C=new Map,y=[];for(h=p;h--;){let w=f(i,a,h),S=r(w),E=o.get(S);E?n&&y.push(()=>E.p(w,e)):(E=s(S,w),E.c()),v.set(S,g[h]=E),S in d&&C.set(S,Math.abs(h-d[S]))}let D=new Set,b=new Set;function x(w){ve(w,1),w.m(c,l),o.set(w.key,w),l=w.first,p--}for(;m&&p;){let w=g[p-1],S=t[m-1],E=w.key,F=S.key;w===S?(l=w.first,m--,p--):v.has(F)?!o.has(E)||D.has(E)?x(w):b.has(F)?m--:C.get(E)>C.get(F)?(b.add(E),x(w)):(D.add(F),m--):(u(S,o),m--)}for(;m--;){let w=t[m];v.has(w.key)||u(w,o)}for(;p;)x(g[p-1]);return $e(y),g}var tP=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],rP=new Set([...tP]);function tn(t,e,r){let n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function Qe(t){t&&t.c()}function Je(t,e,r){let{fragment:n,after_update:i}=t.$$;n&&n.m(e,r),pn(()=>{let a=t.$$.on_mount.map(cp).filter(Vn);t.$$.on_destroy?t.$$.on_destroy.push(...a):$e(a),t.$$.on_mount=[]}),i.forEach(pn)}function Xe(t,e){let r=t.$$;r.fragment!==null&&(Ow(r.after_update),$e(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function iP(t,e){t.$$.dirty[0]===-1&&(lo.push(t),Bw(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Oe(t,e,r,n,i,a,o=null,c=[-1]){let u=Ea;ea(t);let s=t.$$={fragment:null,ctx:[],props:a,update:Te,not_equal:i,bound:El(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:El(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};o&&o(s.root);let l=!1;if(s.ctx=r?r(t,e.props||{},(f,m,...p)=>{let h=p.length?p[0]:m;return s.ctx&&i(s.ctx[f],s.ctx[f]=h)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](h),l&&iP(t,f)),m}):[],s.update(),l=!0,$e(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){Nw();let f=Tw(e.target);s.fragment&&s.fragment.l(f),f.forEach(re)}else s.fragment&&s.fragment.c();e.intro&&ve(t.$$.fragment),Je(t,e.target,e.anchor),_w(),Nl()}ea(u)}var aP;typeof HTMLElement=="function"&&(aP=class extends HTMLElement{constructor(e,r,n){super();Wr(this,"$$ctor");Wr(this,"$$s");Wr(this,"$$c");Wr(this,"$$cn",!1);Wr(this,"$$d",{});Wr(this,"$$r",!1);Wr(this,"$$p_d",{});Wr(this,"$$l",{});Wr(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(e,r,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(r),this.$$c){let i=this.$$c.$on(e,r);this.$$l_u.set(r,i)}super.addEventListener(e,r,n)}removeEventListener(e,r,n){if(super.removeEventListener(e,r,n),this.$$c){let i=this.$$l_u.get(r);i&&(i(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=X("slot"),a!=="default"&&U(o,"name",a)},m:function(s,l){ne(s,o,l)},d:function(s){s&&re(o)}}}};if(await Promise.resolve(),!this.$$cn)return;let r={},n=Iw(this);for(let a of this.$$s)a in n&&(r[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=hp(o,a.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=hp(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let c=this.$$c.$on(a,o);this.$$l_u.set(o,c)}this.$$l={}}}attributeChangedCallback(e,r,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=hp(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(r=>this.$$p_d[r].attribute===e||!this.$$p_d[r].attribute&&r.toLowerCase()===e)||e}});function hp(t,e,r,n){var a;let i=(a=r[t])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var Ie=class{constructor(){Wr(this,"$$");Wr(this,"$$set")}$destroy(){Xe(this,1),this.$destroy=Te}$on(e,r){if(!Vn(r))return Te;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Fw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var Pw="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pw);function sP(t){tr(t,"svelte-r9r5oc",".nopadding.svelte-r9r5oc{padding:0}.icon-xs.svelte-r9r5oc{--icon-size:var(--icon-xs);--icon-stroke:var(--icon-xs-stroke-width)}.icon-sm.svelte-r9r5oc{--icon-size:var(--icon-s);--icon-stroke:var(--icon-s-stroke-width)}.icon-md.svelte-r9r5oc{--icon-size:var(--icon-m);--icon-stroke:var(--icon-m-stroke-width)}.icon-lg.svelte-r9r5oc{--icon-size:var(--icon-l);--icon-stroke:var(--icon-l-stroke-width)}")}function uP(t){let e,r,n,i;return{c(){e=X("div"),U(e,"class","clickable-icon svelte-r9r5oc"),U(e,"aria-label",t[3]),U(e,"aria-disabled",t[5]),ut(e,"nopadding",t[4]),ut(e,"is-active",t[2]),ut(e,"icon-xs",t[1]==="xs"),ut(e,"icon-sm",t[1]==="sm"),ut(e,"icon-md",t[1]==="md"),ut(e,"icon-lg",t[1]==="lg")},m(a,o){ne(a,e,o),n||(i=[uo(r=fo.call(null,e,t[0])),Ae(e,"click",t[6])],n=!0)},p(a,[o]){o&8&&U(e,"aria-label",a[3]),o&32&&U(e,"aria-disabled",a[5]),r&&Vn(r.update)&&o&1&&r.update.call(null,a[0]),o&16&&ut(e,"nopadding",a[4]),o&4&&ut(e,"is-active",a[2]),o&2&&ut(e,"icon-xs",a[1]==="xs"),o&2&&ut(e,"icon-sm",a[1]==="sm"),o&2&&ut(e,"icon-md",a[1]==="md"),o&2&&ut(e,"icon-lg",a[1]==="lg")},i:Te,o:Te,d(a){a&&re(e),n=!1,$e(i)}}}function lP(t,e,r){let{icon:n}=e,{size:i="md"}=e,{active:a=!1}=e,{tooltip:o=""}=e,{nopadding:c=!1}=e,{disabled:u=!1}=e,{onClick:s=()=>{}}=e;function l(f){u||s(f)}return t.$$set=f=>{"icon"in f&&r(0,n=f.icon),"size"in f&&r(1,i=f.size),"active"in f&&r(2,a=f.active),"tooltip"in f&&r(3,o=f.tooltip),"nopadding"in f&&r(4,c=f.nopadding),"disabled"in f&&r(5,u=f.disabled),"onClick"in f&&r(7,s=f.onClick)},[n,i,a,o,c,u,l,s]}var vp=class extends Ie{constructor(e){super(),Oe(this,e,lP,uP,Be,{icon:0,size:1,active:2,tooltip:3,nopadding:4,disabled:5,onClick:7},sP)}},Wo=vp;var yp=require("obsidian");function fo(t,e){return(0,yp.setIcon)(t,e),{update(r){(0,yp.setIcon)(t,r)}}}function pP(t){tr(t,"svelte-su9mt0",".embed.svelte-su9mt0{all:unset;box-sizing:border-box;padding:6px;font-weight:400;font-family:var(--font-default);color:var(--text-normal)}.embed.svelte-su9mt0:focus{box-shadow:none}.noPadding.svelte-su9mt0{padding:0}.error.svelte-su9mt0{border-color:var(--background-modifier-error)}.error.svelte-su9mt0:hover{border-color:var(--background-modifier-error-hover)}.error.svelte-su9mt0:focus{box-shadow:0 0 0 2px var(--background-modifier-error);border-color:var(--background-modifier-error)}small.svelte-su9mt0{margin-top:var(--size-4-1);font-size:var(--font-ui-smaller);color:var(--text-muted);display:block}.errorText.svelte-su9mt0{color:var(--text-error)}")}function Uw(t){let e,r;return{c(){e=X("small"),r=Ve(t[9]),U(e,"class","svelte-su9mt0"),ut(e,"errorText",t[6])},m(n,i){ne(n,e,i),G(e,r)},p(n,i){i&512&&Ke(r,n[9]),i&64&&ut(e,"errorText",n[6])},d(n){n&&re(e)}}}function dP(t){let e,r,n,i,a,o,c,u=!!t[9]&&Uw(t);return{c(){e=X("div"),r=X("input"),i=De(),u&&u.c(),r.value=t[2],U(r,"type",t[1]),U(r,"placeholder",t[4]),r.readOnly=t[3],U(r,"style",n=`width: ${t[5]}`),U(r,"class","svelte-su9mt0"),ut(r,"error",t[6]),ut(r,"embed",t[7]),ut(r,"noPadding",t[8]),U(e,"style",a=`width: ${t[5]}`)},m(s,l){ne(s,e,l),G(e,r),t[16](r),G(e,i),u&&u.m(e,null),o||(c=[Ae(r,"input",t[11]),Ae(r,"focus",t[12]),Ae(r,"blur",t[13]),Ae(r,"keydown",t[14]),Ae(r,"keyup",t[15])],o=!0)},p(s,[l]){l&4&&r.value!==s[2]&&(r.value=s[2]),l&2&&U(r,"type",s[1]),l&16&&U(r,"placeholder",s[4]),l&8&&(r.readOnly=s[3]),l&32&&n!==(n=`width: ${s[5]}`)&&U(r,"style",n),l&64&&ut(r,"error",s[6]),l&128&&ut(r,"embed",s[7]),l&256&&ut(r,"noPadding",s[8]),s[9]?u?u.p(s,l):(u=Uw(s),u.c(),u.m(e,null)):u&&(u.d(1),u=null),l&32&&a!==(a=`width: ${s[5]}`)&&U(e,"style",a)},i:Te,o:Te,d(s){s&&re(e),t[16](null),u&&u.d(),o=!1,$e(c)}}}function hP(t,e,r){let{type:n}=e,{value:i}=e,{ref:a=null}=e,{readonly:o=!1}=e,{placeholder:c=""}=e,{autoFocus:u=!1}=e,{width:s="auto"}=e,{error:l=!1}=e,{embed:f=!1}=e,{noPadding:m=!1}=e,{helperText:p=""}=e,h=Pr();$r(()=>{u&&a&&a.focus()});function d(b){_r.call(this,t,b)}function g(b){_r.call(this,t,b)}function v(b){_r.call(this,t,b)}function C(b){_r.call(this,t,b)}function y(b){_r.call(this,t,b)}function D(b){kt[b?"unshift":"push"](()=>{a=b,r(0,a)})}return t.$$set=b=>{"type"in b&&r(1,n=b.type),"value"in b&&r(2,i=b.value),"ref"in b&&r(0,a=b.ref),"readonly"in b&&r(3,o=b.readonly),"placeholder"in b&&r(4,c=b.placeholder),"autoFocus"in b&&r(10,u=b.autoFocus),"width"in b&&r(5,s=b.width),"error"in b&&r(6,l=b.error),"embed"in b&&r(7,f=b.embed),"noPadding"in b&&r(8,m=b.noPadding),"helperText"in b&&r(9,p=b.helperText)},t.$$.update=()=>{t.$$.dirty&4&&h("input",i)},[a,n,i,o,c,s,l,f,m,p,u,d,g,v,C,y,D]}var bp=class extends Ie{constructor(e){super(),Oe(this,e,hP,dP,Be,{type:1,value:2,ref:0,readonly:3,placeholder:4,autoFocus:10,width:5,error:6,embed:7,noPadding:8,helperText:9},pP)}},xp=bp;function gP(t){let e,r,n,i;function a(u){t[11](u)}function o(u){t[12](u)}let c={type:"text",readonly:t[2],noPadding:t[9],placeholder:t[3],autoFocus:t[4],width:t[5],embed:t[8],error:t[6],helperText:t[7]};return t[1]!==void 0&&(c.ref=t[1]),t[0]!==void 0&&(c.value=t[0]),e=new xp({props:c}),kt.push(()=>tn(e,"ref",a)),kt.push(()=>tn(e,"value",o)),e.$on("input",t[10]),e.$on("focus",t[13]),e.$on("blur",t[14]),e.$on("keydown",t[15]),e.$on("keyup",t[16]),{c(){Qe(e.$$.fragment)},m(u,s){Je(e,u,s),i=!0},p(u,[s]){let l={};s&4&&(l.readonly=u[2]),s&512&&(l.noPadding=u[9]),s&8&&(l.placeholder=u[3]),s&16&&(l.autoFocus=u[4]),s&32&&(l.width=u[5]),s&256&&(l.embed=u[8]),s&64&&(l.error=u[6]),s&128&&(l.helperText=u[7]),!r&&s&2&&(r=!0,l.ref=u[1],en(()=>r=!1)),!n&&s&1&&(n=!0,l.value=u[0],en(()=>n=!1)),e.$set(l)},i(u){i||(ve(e.$$.fragment,u),i=!0)},o(u){we(e.$$.fragment,u),i=!1},d(u){Xe(e,u)}}}function vP(t,e,r){let{value:n}=e,{readonly:i=!1}=e,{placeholder:a=""}=e,{autoFocus:o=!1}=e,{width:c="auto"}=e,{error:u=!1}=e,{helperText:s=""}=e,{embed:l=!1}=e,{noPadding:f=!1}=e,{ref:m=null}=e,p=Pr();function h(b){b.currentTarget instanceof HTMLInputElement&&r(0,n=b.currentTarget.value)}function d(b){m=b,r(1,m)}function g(b){n=b,r(0,n)}function v(b){_r.call(this,t,b)}function C(b){_r.call(this,t,b)}function y(b){_r.call(this,t,b)}function D(b){_r.call(this,t,b)}return t.$$set=b=>{"value"in b&&r(0,n=b.value),"readonly"in b&&r(2,i=b.readonly),"placeholder"in b&&r(3,a=b.placeholder),"autoFocus"in b&&r(4,o=b.autoFocus),"width"in b&&r(5,c=b.width),"error"in b&&r(6,u=b.error),"helperText"in b&&r(7,s=b.helperText),"embed"in b&&r(8,l=b.embed),"noPadding"in b&&r(9,f=b.noPadding),"ref"in b&&r(1,m=b.ref)},t.$$.update=()=>{t.$$.dirty&1&&p("input",n)},[n,m,i,a,o,c,u,s,l,f,h,d,g,v,C,y,D]}var Dp=class extends Ie{constructor(e){super(),Oe(this,e,vP,gP,Be,{value:0,readonly:2,placeholder:3,autoFocus:4,width:5,error:6,helperText:7,embed:8,noPadding:9,ref:1})}},Ri=Dp;function xP(t){tr(t,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function DP(t){let e,r,n,i,a=t[5].default,o=Jr(a,t,t[4],null);return{c(){e=X("button"),o&&o.c(),U(e,"aria-label",t[3]),e.disabled=t[2],U(e,"class","svelte-12xcpmj"),ut(e,"mod-cta",t[1]==="primary"),ut(e,"mod-warning",t[1]==="destructive"),ut(e,"mod-plain",t[1]==="plain"),ut(e,"disabled",t[2])},m(c,u){ne(c,e,u),o&&o.m(e,null),t[7](e),r=!0,n||(i=Ae(e,"click",t[6]),n=!0)},p(c,[u]){o&&o.p&&(!r||u&16)&&Qr(o,a,c,c[4],r?Xr(a,c[4],u,null):Kr(c[4]),null),(!r||u&8)&&U(e,"aria-label",c[3]),(!r||u&4)&&(e.disabled=c[2]),(!r||u&2)&&ut(e,"mod-cta",c[1]==="primary"),(!r||u&2)&&ut(e,"mod-warning",c[1]==="destructive"),(!r||u&2)&&ut(e,"mod-plain",c[1]==="plain"),(!r||u&4)&&ut(e,"disabled",c[2])},i(c){r||(ve(o,c),r=!0)},o(c){we(o,c),r=!1},d(c){c&&re(e),o&&o.d(c),t[7](null),n=!1,i()}}}function wP(t,e,r){let{$$slots:n={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:c=""}=e,{ref:u=null}=e;function s(f){_r.call(this,t,f)}function l(f){kt[f?"unshift":"push"](()=>{u=f,r(0,u)})}return t.$$set=f=>{"variant"in f&&r(1,a=f.variant),"disabled"in f&&r(2,o=f.disabled),"tooltip"in f&&r(3,c=f.tooltip),"ref"in f&&r(0,u=f.ref),"$$scope"in f&&r(4,i=f.$$scope)},[u,a,o,c,i,n,s,l]}var wp=class extends Ie{constructor(e){super(),Oe(this,e,wP,DP,Be,{variant:1,disabled:2,tooltip:3,ref:0},xP)}},Dr=wp;var AP=xr(Ww());function OP(t){let e,r,n=t[1].default,i=Jr(n,t,t[0],null);return{c(){e=X("div"),i&&i.c(),U(e,"class","modal-button-container")},m(a,o){ne(a,e,o),i&&i.m(e,null),r=!0},p(a,[o]){i&&i.p&&(!r||o&1)&&Qr(i,n,a,a[0],r?Xr(n,a[0],o,null):Kr(a[0]),null)},i(a){r||(ve(i,a),r=!0)},o(a){we(i,a),r=!1},d(a){a&&re(e),i&&i.d(a)}}}function kP(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=a=>{"$$scope"in a&&r(0,i=a.$$scope)},[i,n]}var Fp=class extends Ie{constructor(e){super(),Oe(this,e,kP,OP,Be,{})}},Ho=Fp;var dn=class extends Error{constructor(r){super("");this.errorLevel=r.errorLevel,this.effect=r.effect,this.cause=r.cause,this.tip=r.tip,this.docs=r.docs,this.context=r.context,this.positionContext=r.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},vr=class extends dn{getErrorType(){return"MB_INTERNAL"}},rn=class extends dn{getErrorType(){return"MB_PARSING"}};var mo=class extends dn{getErrorType(){return"MB_BIND_TARGET"}};var rr=class extends dn{getErrorType(){return"MB_ARGUMENT"}},nu=class extends dn{getErrorType(){return"MB_JS"}},ta=class extends dn{getErrorType(){return"MB_EXPRESSION"}};var iu=class extends dn{getErrorType(){return"MB_EXAMPLE"}};function Gw(t,e,r){let n=t.slice();return n[1]=e[r],n}function WP(t){let e,r,n,i=t[0].stack+"",a;return{c(){e=X("div"),r=X("pre"),n=X("code"),a=Ve(i),U(n,"class","language-none mb-none"),U(r,"class","mb-pre"),U(e,"class","mb-card")},m(o,c){ne(o,e,c),G(e,r),G(r,n),G(n,a)},p(o,c){c&1&&i!==(i=o[0].stack+"")&&Ke(a,i)},d(o){o&&re(e)}}}function HP(t){let e,r,n,i=t[0].errorLevel+"",a,o,c=t[0].getErrorType()+"",u,s,l,f,m=t[0].effect+"",p,h,d,g,v,C,y,D,b,x=t[0].cause+"",w,S,E,F,M,B,k=t[0].effect+"",R,P,T,I,V=t[0].positionContext&&jw(t),O=t[0].tip&&Zw(t),J=t[0].docs&&Yw(t),$=t[0].context&&Xw(t);return{c(){e=X("div"),r=X("h6"),n=X("span"),a=Ve(i),o=Ve(`
				[`),u=Ve(c),s=Ve("]"),f=Ve(`
			- `),p=Ve(m),h=De(),V&&V.c(),d=De(),g=X("table"),v=X("tbody"),C=X("tr"),y=X("td"),y.textContent="Cause",D=De(),b=X("td"),w=Ve(x),S=De(),E=X("tr"),F=X("td"),F.textContent="Effect",M=De(),B=X("td"),R=Ve(k),P=De(),O&&O.c(),T=De(),J&&J.c(),I=De(),$&&$.c(),U(n,"class",l=t[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),U(e,"class","mb-card mb-card-full-width markdown-rendered")},m(W,q){ne(W,e,q),G(e,r),G(r,n),G(n,a),G(n,o),G(n,u),G(n,s),G(r,f),G(r,p),G(e,h),V&&V.m(e,null),G(e,d),G(e,g),G(g,v),G(v,C),G(C,y),G(C,D),G(C,b),G(b,w),G(v,S),G(v,E),G(E,F),G(E,M),G(E,B),G(B,R),G(v,P),O&&O.m(v,null),G(v,T),J&&J.m(v,null),G(v,I),$&&$.m(v,null)},p(W,q){q&1&&i!==(i=W[0].errorLevel+"")&&Ke(a,i),q&1&&c!==(c=W[0].getErrorType()+"")&&Ke(u,c),q&1&&l!==(l=W[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text")&&U(n,"class",l),q&1&&m!==(m=W[0].effect+"")&&Ke(p,m),W[0].positionContext?V?V.p(W,q):(V=jw(W),V.c(),V.m(e,d)):V&&(V.d(1),V=null),q&1&&x!==(x=W[0].cause+"")&&Ke(w,x),q&1&&k!==(k=W[0].effect+"")&&Ke(R,k),W[0].tip?O?O.p(W,q):(O=Zw(W),O.c(),O.m(v,T)):O&&(O.d(1),O=null),W[0].docs?J?J.p(W,q):(J=Yw(W),J.c(),J.m(v,I)):J&&(J.d(1),J=null),W[0].context?$?$.p(W,q):($=Xw(W),$.c(),$.m(v,null)):$&&($.d(1),$=null)},d(W){W&&re(e),V&&V.d(),O&&O.d(),J&&J.d(),$&&$.d()}}}function jw(t){let e,r,n=t[0].positionContext+"",i;return{c(){e=X("pre"),r=X("code"),i=Ve(n),U(r,"class","language-none mb-none"),U(e,"class","mb-pre")},m(a,o){ne(a,e,o),G(e,r),G(r,i)},p(a,o){o&1&&n!==(n=a[0].positionContext+"")&&Ke(i,n)},d(a){a&&re(e)}}}function Zw(t){let e,r,n,i,a=t[0].tip+"",o;return{c(){e=X("tr"),r=X("td"),r.textContent="Tip",n=De(),i=X("td"),o=Ve(a)},m(c,u){ne(c,e,u),G(e,r),G(e,n),G(e,i),G(i,o)},p(c,u){u&1&&a!==(a=c[0].tip+"")&&Ke(o,a)},d(c){c&&re(e)}}}function Yw(t){let e,r,n,i,a=tt(t[0].docs),o=[];for(let c=0;c<a.length;c+=1)o[c]=Jw(Gw(t,a,c));return{c(){e=X("tr"),r=X("td"),r.textContent="Docs",n=De(),i=X("td");for(let c=0;c<o.length;c+=1)o[c].c()},m(c,u){ne(c,e,u),G(e,r),G(e,n),G(e,i);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,null)},p(c,u){if(u&1){a=tt(c[0].docs);let s;for(s=0;s<a.length;s+=1){let l=Gw(c,a,s);o[s]?o[s].p(l,u):(o[s]=Jw(l),o[s].c(),o[s].m(i,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d(c){c&&re(e),Ft(o,c)}}}function Jw(t){let e,r=t[1]+"",n,i,a;return{c(){e=X("a"),n=Ve(r),a=X("br"),U(e,"href",i=t[1])},m(o,c){ne(o,e,c),G(e,n),ne(o,a,c)},p(o,c){c&1&&r!==(r=o[1]+"")&&Ke(n,r),c&1&&i!==(i=o[1])&&U(e,"href",i)},d(o){o&&(re(e),re(a))}}}function Xw(t){let e,r,n,i,a,o,c=JSON.stringify(t[0].context,null,4)+"",u;return{c(){e=X("tr"),r=X("td"),r.textContent="Context",n=De(),i=X("td"),a=X("pre"),o=X("code"),u=Ve(c),U(o,"class","language-none mb-none"),U(a,"class","mb-pre")},m(s,l){ne(s,e,l),G(e,r),G(e,n),G(e,i),G(i,a),G(a,o),G(o,u)},p(s,l){l&1&&c!==(c=JSON.stringify(s[0].context,null,4)+"")&&Ke(u,c)},d(s){s&&re(e)}}}function GP(t){let e;function r(a,o){return a[0]instanceof dn?HP:WP}let n=r(t,-1),i=n(t);return{c(){i.c(),e=cr()},m(a,o){i.m(a,o),ne(a,e,o)},p(a,[o]){n===(n=r(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Te,o:Te,d(a){a&&re(e),i.d(a)}}}function jP(t,e,r){let{error:n}=e;return t.$$set=i=>{"error"in i&&r(0,n=i.error)},[n]}var Sp=class extends Ie{constructor(e){super(),Oe(this,e,jP,GP,Be,{error:0})}},Ap=Sp;function Qw(t,e,r){let n=t.slice();return n[2]=e[r],n}function Kw(t,e,r){let n=t.slice();return n[5]=e[r],n}function $w(t){let e,r,n;return{c(){e=X("p"),r=X("code"),n=Ve(t[1]),U(r,"class","language-none meta-bind-none")},m(i,a){ne(i,e,a),G(e,r),G(r,n)},p(i,a){a&2&&Ke(n,i[1])},d(i){i&&re(e)}}}function eE(t){let e,r,n,i,a,o,c=tt(t[0].getErrors()),u=[];for(let l=0;l<c.length;l+=1)u[l]=tE(Kw(t,c,l));let s=l=>we(u[l],1,1,()=>{u[l]=null});return{c(){e=X("h6"),e.textContent="Errors",r=De(),n=X("p"),n.textContent="Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",i=De();for(let l=0;l<u.length;l+=1)u[l].c();a=cr()},m(l,f){ne(l,e,f),ne(l,r,f),ne(l,n,f),ne(l,i,f);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(l,f);ne(l,a,f),o=!0},p(l,f){if(f&1){c=tt(l[0].getErrors());let m;for(m=0;m<c.length;m+=1){let p=Kw(l,c,m);u[m]?(u[m].p(p,f),ve(u[m],1)):(u[m]=tE(p),u[m].c(),ve(u[m],1),u[m].m(a.parentNode,a))}for(Rt(),m=c.length;m<u.length;m+=1)s(m);Pt()}},i(l){if(!o){for(let f=0;f<c.length;f+=1)ve(u[f]);o=!0}},o(l){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)we(u[f]);o=!1},d(l){l&&(re(e),re(r),re(n),re(i),re(a)),Ft(u,l)}}}function tE(t){let e,r;return e=new Ap({props:{error:t[5]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.error=n[5]),e.$set(a)},i(n){r||(ve(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Xe(e,n)}}}function rE(t){let e,r,n,i,a,o,c=tt(t[0].getWarnings()),u=[];for(let l=0;l<c.length;l+=1)u[l]=nE(Qw(t,c,l));let s=l=>we(u[l],1,1,()=>{u[l]=null});return{c(){e=X("h6"),e.textContent="Warnings",r=De(),n=X("p"),n.textContent="Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",i=De();for(let l=0;l<u.length;l+=1)u[l].c();a=cr()},m(l,f){ne(l,e,f),ne(l,r,f),ne(l,n,f),ne(l,i,f);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(l,f);ne(l,a,f),o=!0},p(l,f){if(f&1){c=tt(l[0].getWarnings());let m;for(m=0;m<c.length;m+=1){let p=Qw(l,c,m);u[m]?(u[m].p(p,f),ve(u[m],1)):(u[m]=nE(p),u[m].c(),ve(u[m],1),u[m].m(a.parentNode,a))}for(Rt(),m=c.length;m<u.length;m+=1)s(m);Pt()}},i(l){if(!o){for(let f=0;f<c.length;f+=1)ve(u[f]);o=!0}},o(l){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)we(u[f]);o=!1},d(l){l&&(re(e),re(r),re(n),re(i),re(a)),Ft(u,l)}}}function nE(t){let e,r;return e=new Ap({props:{error:t[2]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.error=n[2]),e.$set(a)},i(n){r||(ve(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Xe(e,n)}}}function ZP(t){let e,r=t[0].hasErrors(),n,i=t[0].hasWarnings(),a,o,c=t[1]&&$w(t),u=r&&eE(t),s=i&&rE(t);return{c(){c&&c.c(),e=De(),u&&u.c(),n=De(),s&&s.c(),a=cr()},m(l,f){c&&c.m(l,f),ne(l,e,f),u&&u.m(l,f),ne(l,n,f),s&&s.m(l,f),ne(l,a,f),o=!0},p(l,[f]){l[1]?c?c.p(l,f):(c=$w(l),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),f&1&&(r=l[0].hasErrors()),r?u?(u.p(l,f),f&1&&ve(u,1)):(u=eE(l),u.c(),ve(u,1),u.m(n.parentNode,n)):u&&(Rt(),we(u,1,1,()=>{u=null}),Pt()),f&1&&(i=l[0].hasWarnings()),i?s?(s.p(l,f),f&1&&ve(s,1)):(s=rE(l),s.c(),ve(s,1),s.m(a.parentNode,a)):s&&(Rt(),we(s,1,1,()=>{s=null}),Pt())},i(l){o||(ve(u),ve(s),o=!0)},o(l){we(u),we(s),o=!1},d(l){l&&(re(e),re(n),re(a)),c&&c.d(l),u&&u.d(l),s&&s.d(l)}}}function YP(t,e,r){let{errorCollection:n}=e,{declaration:i}=e;return t.$$set=a=>{"errorCollection"in a&&r(0,n=a.errorCollection),"declaration"in a&&r(1,i=a.declaration)},[n,i]}var Np=class extends Ie{constructor(e){super(),Oe(this,e,YP,ZP,Be,{errorCollection:0,declaration:1})}},Go=Np;function iE(t,e,r){let n=t.slice();return n[12]=e[r],n[13]=e,n[14]=r,n}function aE(t){let e,r,n,i,a,o,c,u,s;function l(p){t[7](p,t[12],t[13],t[14])}let f={placeholder:"INPUT[slider(addLabels)]",width:"100%"};t[12]!==void 0&&(f.value=t[12]),n=new Ri({props:f}),kt.push(()=>tn(n,"value",l));function m(){return t[8](t[12])}return c=new Wo({props:{icon:"x",onClick:m,tooltip:"Delete"}}),{c(){e=X("tr"),r=X("td"),Qe(n.$$.fragment),a=De(),o=X("td"),Qe(c.$$.fragment),u=De(),ru(r,"width","100%")},m(p,h){ne(p,e,h),G(e,r),Je(n,r,null),G(e,a),G(e,o),Je(c,o,null),G(e,u),s=!0},p(p,h){t=p;let d={};!i&&h&1&&(i=!0,d.value=t[12],en(()=>i=!1)),n.$set(d);let g={};h&1&&(g.onClick=m),c.$set(g)},i(p){s||(ve(n.$$.fragment,p),ve(c.$$.fragment,p),s=!0)},o(p){we(n.$$.fragment,p),we(c.$$.fragment,p),s=!1},d(p){p&&re(e),Xe(n),Xe(c)}}}function JP(t){let e;return{c(){e=Ve("Add Folder")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function oE(t){let e,r,n,i,a;return i=new Go({props:{errorCollection:t[1],declaration:void 0}}),{c(){e=X("div"),r=X("h3"),r.textContent="Some Folder Paths are invalid",n=De(),Qe(i.$$.fragment),U(r,"class","mod-error")},m(o,c){ne(o,e,c),G(e,r),G(e,n),Je(i,e,null),a=!0},p(o,c){let u={};c&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(ve(i.$$.fragment,o),a=!0)},o(o){we(i.$$.fragment,o),a=!1},d(o){o&&re(e),Xe(i)}}}function XP(t){let e;return{c(){e=Ve("Save")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function QP(t){let e;return{c(){e=Ve("Cancel")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function KP(t){let e,r,n,i;return e=new Dr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[XP]},$$scope:{ctx:t}}}),e.$on("click",t[10]),n=new Dr({props:{tooltip:"Revert Changes",$$slots:{default:[QP]},$$scope:{ctx:t}}}),n.$on("click",t[11]),{c(){Qe(e.$$.fragment),r=De(),Qe(n.$$.fragment)},m(a,o){Je(e,a,o),ne(a,r,o),Je(n,a,o),i=!0},p(a,o){let c={};o&32768&&(c.$$scope={dirty:o,ctx:a}),e.$set(c);let u={};o&32768&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(ve(e.$$.fragment,a),ve(n.$$.fragment,a),i=!0)},o(a){we(e.$$.fragment,a),we(n.$$.fragment,a),i=!1},d(a){a&&re(r),Xe(e,a),Xe(n,a)}}}function $P(t){let e,r,n,i,a,o,c,u,s,l,f,m=tt(t[0]),p=[];for(let g=0;g<m.length;g+=1)p[g]=aE(iE(t,m,g));let h=g=>we(p[g],1,1,()=>{p[g]=null});c=new Dr({props:{variant:"primary",tooltip:"Add new excluded Folder",$$slots:{default:[JP]},$$scope:{ctx:t}}}),c.$on("click",t[9]);let d=t[1]&&oE(t);return l=new Ho({props:{$$slots:{default:[KP]},$$scope:{ctx:t}}}),{c(){e=X("div"),r=X("table"),n=X("thead"),n.innerHTML="<tr><th>Folder Path</th> <th></th></tr>",i=De(),a=X("tbody");for(let g=0;g<p.length;g+=1)p[g].c();o=De(),Qe(c.$$.fragment),u=De(),d&&d.c(),s=De(),Qe(l.$$.fragment)},m(g,v){ne(g,e,v),G(e,r),G(r,n),G(r,i),G(r,a);for(let C=0;C<p.length;C+=1)p[C]&&p[C].m(a,null);G(e,o),Je(c,e,null),G(e,u),d&&d.m(e,null),G(e,s),Je(l,e,null),f=!0},p(g,[v]){if(v&5){m=tt(g[0]);let D;for(D=0;D<m.length;D+=1){let b=iE(g,m,D);p[D]?(p[D].p(b,v),ve(p[D],1)):(p[D]=aE(b),p[D].c(),ve(p[D],1),p[D].m(a,null))}for(Rt(),D=m.length;D<p.length;D+=1)h(D);Pt()}let C={};v&32768&&(C.$$scope={dirty:v,ctx:g}),c.$set(C),g[1]?d?(d.p(g,v),v&2&&ve(d,1)):(d=oE(g),d.c(),ve(d,1),d.m(e,s)):d&&(Rt(),we(d,1,1,()=>{d=null}),Pt());let y={};v&32768&&(y.$$scope={dirty:v,ctx:g}),l.$set(y)},i(g){if(!f){for(let v=0;v<m.length;v+=1)ve(p[v]);ve(c.$$.fragment,g),ve(d),ve(l.$$.fragment,g),f=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)we(p[v]);we(c.$$.fragment,g),we(d),we(l.$$.fragment,g),f=!1},d(g){g&&re(e),Ft(p,g),Xe(c),d&&d.d(),Xe(l)}}}function eL(t,e,r){let{excludedFolders:n}=e,{modal:i}=e,a;function o(d){r(0,n=n.filter(g=>g!==d))}function c(){n.push(""),r(0,n)}function u(){r(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}function l(d,g,v,C){v[C]=d,r(0,n)}let f=d=>o(d),m=()=>c(),p=()=>u(),h=()=>s();return t.$$set=d=>{"excludedFolders"in d&&r(0,n=d.excludedFolders),"modal"in d&&r(6,i=d.modal)},[n,a,o,c,u,s,i,l,f,m,p,h]}var _p=class extends Ie{constructor(e){super(),Oe(this,e,eL,$P,Be,{excludedFolders:0,modal:6})}},sE=_p;var fr=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof dn?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(r=>r.errorLevel==="ERROR"||r.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var Tl=class extends uE.Modal{constructor(r,n){super(r);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new sE({target:this.contentEl,props:{excludedFolders:this.plugin.settings.excludedFolders.slice(),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(r){for(let n of r)if(n===""){let i=new fr("Excluded Folders");return i.add(new Error(`Invalid Folder Path '${n}'. Folder path may not be empty.`)),i}this.plugin.settings.excludedFolders=r,this.plugin.saveSettings()}};var dE=require("obsidian");function tL(t){let e,r,n,i,a,o,c,u,s,l,f,m;function p(v){t[2](v)}let h={placeholder:"template-name"};t[0].name!==void 0&&(h.value=t[0].name),n=new Ri({props:h}),kt.push(()=>tn(n,"value",p));function d(v){t[3](v)}let g={placeholder:"INPUT[slider(addLabels)]",width:"100%"};return t[0].declaration!==void 0&&(g.value=t[0].declaration),c=new Ri({props:g}),kt.push(()=>tn(c,"value",d)),f=new Wo({props:{icon:"x",onClick:t[4],tooltip:"Delete Template"}}),{c(){e=X("tr"),r=X("td"),Qe(n.$$.fragment),a=De(),o=X("td"),Qe(c.$$.fragment),s=De(),l=X("td"),Qe(f.$$.fragment),ru(o,"width","100%")},m(v,C){ne(v,e,C),G(e,r),Je(n,r,null),G(e,a),G(e,o),Je(c,o,null),G(e,s),G(e,l),Je(f,l,null),m=!0},p(v,[C]){let y={};!i&&C&1&&(i=!0,y.value=v[0].name,en(()=>i=!1)),n.$set(y);let D={};!u&&C&1&&(u=!0,D.value=v[0].declaration,en(()=>u=!1)),c.$set(D)},i(v){m||(ve(n.$$.fragment,v),ve(c.$$.fragment,v),ve(f.$$.fragment,v),m=!0)},o(v){we(n.$$.fragment,v),we(c.$$.fragment,v),we(f.$$.fragment,v),m=!1},d(v){v&&re(e),Xe(n),Xe(c),Xe(f)}}}function rL(t,e,r){let{template:n}=e,i=Pr();function a(){console.log("dispatch"),i("delete-template",{name:n.name})}function o(s){t.$$.not_equal(n.name,s)&&(n.name=s,r(0,n))}function c(s){t.$$.not_equal(n.declaration,s)&&(n.declaration=s,r(0,n))}let u=()=>a();return t.$$set=s=>{"template"in s&&r(0,n=s.template)},[n,a,o,c,u]}var Mp=class extends Ie{constructor(e){super(),Oe(this,e,rL,tL,Be,{template:0})}},lE=Mp;function cE(t,e,r){let n=t.slice();return n[11]=e[r],n}function fE(t){let e,r;return e=new lE({props:{template:t[11]}}),e.$on("delete-template",t[7]),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.template=n[11]),e.$set(a)},i(n){r||(ve(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Xe(e,n)}}}function nL(t){let e;return{c(){e=Ve("Add Template")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function mE(t){let e,r,n,i,a;return i=new Go({props:{errorCollection:t[1],declaration:void 0}}),{c(){e=X("div"),r=X("h3"),r.textContent="Some Templates Failed to Parse",n=De(),Qe(i.$$.fragment),U(r,"class","mod-error")},m(o,c){ne(o,e,c),G(e,r),G(e,n),Je(i,e,null),a=!0},p(o,c){let u={};c&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(ve(i.$$.fragment,o),a=!0)},o(o){we(i.$$.fragment,o),a=!1},d(o){o&&re(e),Xe(i)}}}function iL(t){let e;return{c(){e=Ve("Save")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function aL(t){let e;return{c(){e=Ve("Cancel")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function oL(t){let e,r,n,i;return e=new Dr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[iL]},$$scope:{ctx:t}}}),e.$on("click",t[9]),n=new Dr({props:{tooltip:"Revert Changes",$$slots:{default:[aL]},$$scope:{ctx:t}}}),n.$on("click",t[10]),{c(){Qe(e.$$.fragment),r=De(),Qe(n.$$.fragment)},m(a,o){Je(e,a,o),ne(a,r,o),Je(n,a,o),i=!0},p(a,o){let c={};o&16384&&(c.$$scope={dirty:o,ctx:a}),e.$set(c);let u={};o&16384&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(ve(e.$$.fragment,a),ve(n.$$.fragment,a),i=!0)},o(a){we(e.$$.fragment,a),we(n.$$.fragment,a),i=!1},d(a){a&&re(r),Xe(e,a),Xe(n,a)}}}function sL(t){let e,r,n,i,a,o,c,u,s,l,f,m=tt(t[0]),p=[];for(let g=0;g<m.length;g+=1)p[g]=fE(cE(t,m,g));let h=g=>we(p[g],1,1,()=>{p[g]=null});c=new Dr({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[nL]},$$scope:{ctx:t}}}),c.$on("click",t[8]);let d=t[1]&&mE(t);return l=new Ho({props:{$$slots:{default:[oL]},$$scope:{ctx:t}}}),{c(){e=X("div"),r=X("table"),n=X("thead"),n.innerHTML="<tr><th>Template Name</th> <th>Template Declaration</th> <th></th></tr>",i=De(),a=X("tbody");for(let g=0;g<p.length;g+=1)p[g].c();o=De(),Qe(c.$$.fragment),u=De(),d&&d.c(),s=De(),Qe(l.$$.fragment)},m(g,v){ne(g,e,v),G(e,r),G(r,n),G(r,i),G(r,a);for(let C=0;C<p.length;C+=1)p[C]&&p[C].m(a,null);G(e,o),Je(c,e,null),G(e,u),d&&d.m(e,null),G(e,s),Je(l,e,null),f=!0},p(g,[v]){if(v&5){m=tt(g[0]);let D;for(D=0;D<m.length;D+=1){let b=cE(g,m,D);p[D]?(p[D].p(b,v),ve(p[D],1)):(p[D]=fE(b),p[D].c(),ve(p[D],1),p[D].m(a,null))}for(Rt(),D=m.length;D<p.length;D+=1)h(D);Pt()}let C={};v&16384&&(C.$$scope={dirty:v,ctx:g}),c.$set(C),g[1]?d?(d.p(g,v),v&2&&ve(d,1)):(d=mE(g),d.c(),ve(d,1),d.m(e,s)):d&&(Rt(),we(d,1,1,()=>{d=null}),Pt());let y={};v&16384&&(y.$$scope={dirty:v,ctx:g}),l.$set(y)},i(g){if(!f){for(let v=0;v<m.length;v+=1)ve(p[v]);ve(c.$$.fragment,g),ve(d),ve(l.$$.fragment,g),f=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)we(p[v]);we(c.$$.fragment,g),we(d),we(l.$$.fragment,g),f=!1},d(g){g&&re(e),Ft(p,g),Xe(c),d&&d.d(),Xe(l)}}}function uL(t,e,r){let{inputFieldTemplates:n}=e,{modal:i}=e,a;function o(h){r(0,n=n.filter(d=>d.name!==h))}function c(){n.push({name:"",declaration:""}),r(0,n)}function u(){r(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}let l=h=>o(h.detail.name),f=()=>c(),m=()=>u(),p=()=>s();return t.$$set=h=>{"inputFieldTemplates"in h&&r(0,n=h.inputFieldTemplates),"modal"in h&&r(6,i=h.modal)},[n,a,o,c,u,s,i,l,f,m,p]}var Tp=class extends Ie{constructor(e){super(),Oe(this,e,uL,sL,Be,{inputFieldTemplates:0,modal:6})}},pE=Tp;var Il=class extends dE.Modal{constructor(r,n){super(r);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new pE({target:this.contentEl,props:{inputFieldTemplates:JSON.parse(JSON.stringify(this.plugin.settings.inputFieldTemplates)),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(r){let n=this.plugin.api.inputFieldParser.parseTemplates(r);if(n.hasErrors())return n;this.plugin.settings.inputFieldTemplates=r,this.plugin.saveSettings()}};var At=class{static linkToInputField(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToSearch(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static open(e){window.open(e,"_blank")}};var yE=require("obsidian");var hE=require("obsidian");var Bl=class extends hE.Modal{constructor(r,n,i){super(r);this.errorCollection=n,this.declaration=i}onOpen(){this.modalEl.addClass("mb-error-collection-modal"),this.titleEl.innerText="Meta Bind Field",this.component=new Go({target:this.contentEl,props:{errorCollection:this.errorCollection,declaration:this.declaration}})}onClose(){var r;(r=this.component)==null||r.$destroy()}};function gE(t){let e,r,n,i,a;function o(s,l){return l&1&&(r=null),l&1&&(n=null),r==null&&(r=!!s[0].hasErrors()),r?fL:(n==null&&(n=!!s[0].hasWarnings()),n?cL:lL)}let c=o(t,-1),u=c(t);return{c(){e=X("div"),u.c(),U(e,"class","mb-error-collection"),U(e,"role","button"),U(e,"tabindex","0")},m(s,l){ne(s,e,l),u.m(e,null),i||(a=[Ae(e,"click",t[4]),Ae(e,"keydown",t[5])],i=!0)},p(s,l){c!==(c=o(s,l))&&(u.d(1),u=c(s),u&&(u.c(),u.m(e,null)))},d(s){s&&re(e),u.d(),i=!1,$e(a)}}}function lL(t){let e,r,n,i;return{c(){e=Un("svg"),r=Un("circle"),n=Un("path"),i=Un("path"),U(r,"cx","12"),U(r,"cy","12"),U(r,"r","10"),U(n,"d","M12 16v-4"),U(i,"d","M12 8h.01"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","24"),U(e,"height","24"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","2"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","lucide lucide-info")},m(a,o){ne(a,e,o),G(e,r),G(e,n),G(e,i)},d(a){a&&re(e)}}}function cL(t){let e,r,n,i;return{c(){e=Un("svg"),r=Un("path"),n=Un("line"),i=Un("line"),U(r,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),U(n,"x1","12"),U(n,"x2","12"),U(n,"y1","9"),U(n,"y2","13"),U(i,"x1","12"),U(i,"x2","12.01"),U(i,"y1","17"),U(i,"y2","17"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","24"),U(e,"height","24"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","2"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","lucide lucide-alert-triangle")},m(a,o){ne(a,e,o),G(e,r),G(e,n),G(e,i)},d(a){a&&re(e)}}}function fL(t){let e,r,n,i,a,o;return{c(){e=Un("svg"),r=Un("circle"),n=Un("line"),i=Un("line"),a=De(),o=X("span"),o.textContent="[META_BIND_ERROR]",U(r,"cx","12"),U(r,"cy","12"),U(r,"r","10"),U(n,"x1","12"),U(n,"x2","12"),U(n,"y1","8"),U(n,"y2","12"),U(i,"x1","12"),U(i,"x2","12.01"),U(i,"y1","16"),U(i,"y2","16"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","24"),U(e,"height","24"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","2"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","lucide lucide-alert-circle"),U(o,"class","mb-error")},m(c,u){ne(c,e,u),G(e,r),G(e,n),G(e,i),ne(c,a,u),ne(c,o,u)},d(c){c&&(re(e),re(a),re(o))}}}function mL(t){let e=!t[0].isEmpty(),r,n=e&&gE(t);return{c(){n&&n.c(),r=cr()},m(i,a){n&&n.m(i,a),ne(i,r,a)},p(i,[a]){a&1&&(e=!i[0].isEmpty()),e?n?n.p(i,a):(n=gE(i),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},i:Te,o:Te,d(i){i&&re(r),n&&n.d(i)}}}function pL(t,e,r){let{app:n}=e,{errorCollection:i}=e,{declaration:a}=e;function o(){new Bl(n,i,a).open()}let c=()=>o(),u=s=>{s.key===" "&&o()};return t.$$set=s=>{"app"in s&&r(2,n=s.app),"errorCollection"in s&&r(0,i=s.errorCollection),"declaration"in s&&r(3,a=s.declaration)},[i,o,n,a,c,u]}var Ip=class extends Ie{constructor(e){super(),Oe(this,e,pL,mL,Be,{app:2,errorCollection:0,declaration:3})}},Pi=Ip;function dL(t){let e;return{c(){e=Ve("Docs")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function hL(t){let e;return{c(){e=Ve("GitHub")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function gL(t){let e;return{c(){e=Ve("Report Issue")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function vL(t){let e,r,n,i,a,o,c,u,s,l,f,m,p,h,d,g,v,C,y,D,b,x,w,S,E,F,M,B,k,R,P,T,I,V,O,J,$,W,q,te,ge,oe,ce,pe,ue;return c=new Dr({props:{variant:"primary",$$slots:{default:[dL]},$$scope:{ctx:t}}}),c.$on("click",t[3]),s=new Dr({props:{variant:"default",$$slots:{default:[hL]},$$scope:{ctx:t}}}),s.$on("click",t[4]),f=new Dr({props:{variant:"default",$$slots:{default:[gL]},$$scope:{ctx:t}}}),f.$on("click",t[5]),E=new Pi({props:{app:t[0],declaration:yL,errorCollection:t[1]}}),k=new Pi({props:{app:t[0],declaration:bL,errorCollection:t[2]}}),{c(){e=X("div"),r=X("h1"),r.textContent="Meta Bind FAQ",n=De(),i=X("h2"),i.textContent="Quick Access",a=De(),o=X("p"),Qe(c.$$.fragment),u=De(),Qe(s.$$.fragment),l=De(),Qe(f.$$.fragment),m=De(),p=X("h2"),p.textContent="Error Messages",h=De(),d=X("p"),g=Ve("When creating "),v=X("a"),v.textContent="Input Fields",y=Ve(" or "),D=X("a"),D.textContent="View Fields",x=De(),w=X("strong"),w.textContent="warnings",S=Ve(" ("),Qe(E.$$.fragment),F=Ve(") and "),M=X("strong"),M.textContent="errors",B=Ve(" ("),Qe(k.$$.fragment),R=Ve(") can occur. These are "),P=X("strong"),P.textContent="clickable",T=Ve(" and will show a modal with detailed information about the error when clicked."),I=De(),V=X("h2"),V.textContent="Input Fields",O=De(),J=X("p"),J.innerHTML=`<a href="${At.linkToInputFields()}">Input Fields</a> let you change the frontmatter of your notes from inside of notes.`,$=De(),W=X("h2"),W.textContent="View Fields",q=De(),te=X("p"),te.innerHTML=`<a href="${At.linkToViewFields()}">View Fields</a> let you view and perform calculations using the frontmatter of your notes from inside of notes. They
		will update instantly to reflect changes to the frontmatter made by input fields and as fast as obsidian allows it for changes from other sources.`,ge=De(),oe=X("h2"),oe.textContent="Bind Targets",ce=De(),pe=X("p"),pe.innerHTML=`<a href="https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/#binding-to-metadata">Bind Targets</a>
		let the plugin know what frontmatter properties to bind <a href="${At.linkToInputFields()}">Input Fields</a> and
		<a href="${At.linkToViewFields()}">View Fields</a> to.`,U(v,"href",C=At.linkToInputFields()),U(D,"href",b=At.linkToViewFields()),U(e,"class","mb-faq-view markdown-rendered")},m(ae,me){ne(ae,e,me),G(e,r),G(e,n),G(e,i),G(e,a),G(e,o),Je(c,o,null),G(o,u),Je(s,o,null),G(o,l),Je(f,o,null),G(e,m),G(e,p),G(e,h),G(e,d),G(d,g),G(d,v),G(d,y),G(d,D),G(d,x),G(d,w),G(d,S),Je(E,d,null),G(d,F),G(d,M),G(d,B),Je(k,d,null),G(d,R),G(d,P),G(d,T),G(e,I),G(e,V),G(e,O),G(e,J),G(e,$),G(e,W),G(e,q),G(e,te),G(e,ge),G(e,oe),G(e,ce),G(e,pe),ue=!0},p(ae,[me]){let xe={};me&64&&(xe.$$scope={dirty:me,ctx:ae}),c.$set(xe);let Re={};me&64&&(Re.$$scope={dirty:me,ctx:ae}),s.$set(Re);let We={};me&64&&(We.$$scope={dirty:me,ctx:ae}),f.$set(We);let z={};me&1&&(z.app=ae[0]),me&2&&(z.errorCollection=ae[1]),E.$set(z);let Z={};me&1&&(Z.app=ae[0]),me&4&&(Z.errorCollection=ae[2]),k.$set(Z)},i(ae){ue||(ve(c.$$.fragment,ae),ve(s.$$.fragment,ae),ve(f.$$.fragment,ae),ve(E.$$.fragment,ae),ve(k.$$.fragment,ae),ue=!0)},o(ae){we(c.$$.fragment,ae),we(s.$$.fragment,ae),we(f.$$.fragment,ae),we(E.$$.fragment,ae),we(k.$$.fragment,ae),ue=!1},d(ae){ae&&re(e),Xe(c),Xe(s),Xe(f),Xe(E),Xe(k)}}}var yL="INPUT[someInputFieldDeclaration]",bL="INPUT[someInputFieldDeclaration]";function xL(t,e,r){let{app:n}=e,i=new fr("exampleWarningErrorCollection"),a=new fr("exampleErrorErrorCollection");$r(()=>{i.add(new iu({errorLevel:"WARNING",effect:"some example warning",cause:"some example reason"})),r(1,i),a.add(new iu({errorLevel:"ERROR",effect:"some example error",cause:"some example reason"})),r(2,a)});let o=()=>{At.open(At.linkToHome())},c=()=>{At.open(At.linkToGithub())},u=()=>{At.open(At.linkToIssues())};return t.$$set=s=>{"app"in s&&r(0,n=s.app)},[n,i,a,o,c,u]}var Bp=class extends Ie{constructor(e){super(),Oe(this,e,xL,vL,Be,{app:0})}},vE=Bp;var jo="mb-faq-view-type",Ol=class extends yE.ItemView{constructor(r){super(r)}getViewType(){return jo}getDisplayText(){return"Meta Bind FAQ"}async onOpen(){let r=this.containerEl.children[1];r.empty(),this.component=new vE({target:r,props:{app:this.app}})}async onClose(){var r;(r=this.component)==null||r.$destroy()}};var kl=class extends Mn.PluginSettingTab{constructor(r,n){super(r,n);this.plugin=n}display(){let{containerEl:r}=this;r.empty(),new Mn.Setting(r).setName("Quick access").addButton(n=>{n.setCta(),n.setButtonText("Docs"),n.onClick(()=>{At.open(At.linkToHome())})}).addButton(n=>{n.setButtonText("Open FAQ"),n.onClick(()=>{this.plugin.activateView(jo)})}).addButton(n=>{n.setButtonText("GitHub"),n.onClick(()=>{At.open(At.linkToGithub())})}).addButton(n=>{n.setButtonText("Report Issue"),n.onClick(()=>{At.open(At.linkToIssues())})}),new Mn.Setting(r).setName("Sync interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${vi.syncInterval}; Minimum: ${vi.minSyncInterval}; Maximum: ${vi.maxSyncInterval}`).addText(n=>{n.setValue(this.plugin.settings.syncInterval.toString()),n.onChange(i=>{this.plugin.settings.syncInterval=Number.parseInt(i),Number.isNaN(this.plugin.settings.syncInterval)&&(this.plugin.settings.syncInterval=vi.syncInterval),this.plugin.settings.syncInterval<vi.minSyncInterval&&(this.plugin.settings.syncInterval=vi.minSyncInterval),this.plugin.settings.syncInterval>vi.maxSyncInterval&&(this.plugin.settings.syncInterval=vi.maxSyncInterval),this.plugin.saveSettings()})}),new Mn.Setting(r).setName("Date format").setDesc("The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.").addText(n=>{n.setValue(this.plugin.settings.preferredDateFormat),n.onChange(i=>{this.plugin.settings.preferredDateFormat=i,this.plugin.saveSettings()})}),new Mn.Setting(r).setName("Use US date input field order").setDesc("When enabled the month input is before the day input.").addToggle(n=>{n.setValue(this.plugin.settings.useUsDateInputOrder),n.onChange(i=>{this.plugin.settings.useUsDateInputOrder=i,this.plugin.saveSettings()})}),new Mn.Setting(r).setName("First Weekday").setDesc("Specify the first weekday for the datepicker.").addDropdown(n=>{for(let i of so)n.addOption(i.name,i.name);n.setValue(this.plugin.settings.firstWeekday.name),n.onChange(i=>{this.plugin.settings.firstWeekday=so.find(a=>a.name===i),this.plugin.saveSettings()})}),new Mn.Setting(r).setName("Templates").setDesc("You can specify templates here, and access them using `INPUT[template_name][overrides (optional)]` in your notes.").addButton(n=>{n.setButtonText("Edit Templates"),n.onClick(()=>{new Il(this.app,this.plugin).open()})}),new Mn.Setting(r).setName("Excluded Folders").setDesc("You can specify excluded folders here. The plugin will not work within excluded folders.").addButton(n=>{n.setButtonText("Edit Excluded Folders"),n.onClick(()=>{new Tl(this.app,this.plugin).open()})}),new Mn.Setting(r).setName("View Fields display null as empty").setDesc("Display nothing instead of null, if the frontmatter value is empty, in text view fields.").addToggle(n=>{n.setValue(this.plugin.settings.viewFieldDisplayNullAsEmpty),n.onChange(i=>{this.plugin.settings.viewFieldDisplayNullAsEmpty=i,this.plugin.saveSettings()})}),new Mn.Setting(r).setName("Enable JS Input Fields").setDesc("Enable the processing of JavaScript input fields. This is potentially DANGEROUS, thus it's disabled by default. RESTART REQUIRED.").addToggle(n=>{n.setValue(this.plugin.settings.enableJs),n.onChange(i=>{this.plugin.settings.enableJs=i,this.plugin.saveSettings()})}),r.createEl("h2",{text:"Advanced Settings"}),new Mn.Setting(r).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle(n=>{n.setValue(this.plugin.settings.devMode),n.onChange(i=>{this.plugin.settings.devMode=i,this.plugin.saveSettings()})}),new Mn.Setting(r).setName("Disable Code Block Restrictions").setDesc("Disable restrictions on which input fields can be created in which code blocks. Not recommended unless you know what you are doing.").addToggle(n=>{n.setValue(this.plugin.settings.ignoreCodeBlockRestrictions),n.onChange(i=>{this.plugin.settings.ignoreCodeBlockRestrictions=i,this.plugin.saveSettings()})})}};var EE=xr(Lp());var DE=typeof self=="object"?self:globalThis,EL=(t,e)=>{let r=(i,a)=>(t.set(a,i),i),n=i=>{if(t.has(i))return t.get(i);let[a,o]=e[i];switch(a){case 0:case-1:return r(o,i);case 1:{let c=r([],i);for(let u of o)c.push(n(u));return c}case 2:{let c=r({},i);for(let[u,s]of o)c[n(u)]=n(s);return c}case 3:return r(new Date(o),i);case 4:{let{source:c,flags:u}=o;return r(new RegExp(c,u),i)}case 5:{let c=r(new Map,i);for(let[u,s]of o)c.set(n(u),n(s));return c}case 6:{let c=r(new Set,i);for(let u of o)c.add(n(u));return c}case 7:{let{name:c,message:u}=o;return r(new DE[c](u),i)}case 8:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i)}return r(new DE[a](o),i)};return n},zp=t=>EL(new Map,t)(0);var Yo="",{toString:CL}={},{keys:FL}=Object,uu=t=>{let e=typeof t;if(e!=="object"||!t)return[0,e];let r=CL.call(t).slice(8,-1);switch(r){case"Array":return[1,Yo];case"Object":return[2,Yo];case"Date":return[3,Yo];case"RegExp":return[4,Yo];case"Map":return[5,Yo];case"Set":return[6,Yo]}return r.includes("Array")?[1,r]:r.includes("Error")?[7,r]:[2,r]},Vl=([t,e])=>t===0&&(e==="function"||e==="symbol"),SL=(t,e,r,n)=>{let i=(o,c)=>{let u=n.push(o)-1;return r.set(c,u),u},a=o=>{if(r.has(o))return r.get(o);let[c,u]=uu(o);switch(c){case 0:{let l=o;switch(u){case"bigint":c=8,l=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);l=null;break;case"undefined":return i([-1],o)}return i([c,l],o)}case 1:{if(u)return i([u,[...o]],o);let l=[],f=i([c,l],o);for(let m of o)l.push(a(m));return f}case 2:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());let l=[],f=i([c,l],o);for(let m of FL(o))(t||!Vl(uu(o[m])))&&l.push([a(m),a(o[m])]);return f}case 3:return i([c,o.toISOString()],o);case 4:{let{source:l,flags:f}=o;return i([c,{source:l,flags:f}],o)}case 5:{let l=[],f=i([c,l],o);for(let[m,p]of o)(t||!(Vl(uu(m))||Vl(uu(p))))&&l.push([a(m),a(p)]);return f}case 6:{let l=[],f=i([c,l],o);for(let m of o)(t||!Vl(uu(m)))&&l.push(a(m));return f}}let{message:s}=o;return i([c,{name:u,message:s}],o)};return a},Wp=(t,{json:e,lossy:r}={})=>{let n=[];return SL(!(e||r),!!e,new Map,n)(t),n};var wE=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?zp(Wp(t,e)):structuredClone(t):(t,e)=>zp(Wp(t,e));"structuredClone"in globalThis||(globalThis.structuredClone=wE);function lu(t,e,r){return Math.min(Math.max(t,e),r)}function Ul(t,e,r){return t!==void 0?Math.min(Math.max(t,e),r):void 0}function Hp(t,e,r,n,i){return(t-e)/(r-e)*(i-n)+n}function Gp(t,e){return(t%e+e)%e}function CE(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function jp(t,e){for(let r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0}function cu(t){return!!t}function zl(t){return!t}function fu(t,e){return t===e||t.includes(e)||e.includes(t)}function FE(t,e){var a;if(t[0]==="")throw new Error("can not traverse to parent on self reference");let r=t.slice(0,-1),n=(a=t.at(-1))!=null?a:"",i=(0,EE.traverseObjectByPath)(r,e);return{parent:{key:r,value:i},child:{key:n,value:i[n]}}}function Jo(t){return app.vault.adapter.getResourcePath(t)}function Zp(t){let e=Reflect.ownKeys(t);for(let r of e){let n=t[r];(n&&typeof n=="object"||typeof n=="function")&&Zp(n)}return Object.freeze(t)}function Ir(){return window.crypto.randomUUID()}var Ca=class{constructor(){this.listeners=[]}registerListener(e){let r=e;return r.uuid=Ir(),this.listeners.push(r),r}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(r=>r.uuid!==e)}notifyListeners(e){for(let r of this.listeners)r.callback(e)}},Lr=class extends Ca{constructor(r){super();this.value=r}get(){return this.value}set(r){this.value=r,this.notifyListeners(r)}},Wl=class extends Ca{constructor(r,n){super();this.dependency=r,this.value=n(r.get()),this.dependencyListener=r.registerListener({callback:i=>this.set(n(i))})}get(){return this.value}set(r){this.value=r,this.notifyListeners(r)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var SE=require("obsidian");var Li=class extends SE.MarkdownRenderChild{constructor(r,n,i,a,o){super(r);this.renderChildType=n,this.plugin=i,this.filePath=a,this.uuid=o,this.errorCollection=new fr(this.uuid)}};var Xo=(w=>(w.TOGGLE="toggle",w.SLIDER="slider",w.TEXT="text",w.TEXT_AREA_DEPRECATED="text_area",w.TEXT_AREA="textArea",w.SELECT="select",w.MULTI_SELECT_DEPRECATED="multi_select",w.MULTI_SELECT="multiSelect",w.DATE="date",w.TIME="time",w.DATE_PICKER_DEPRECATED="date_picker",w.DATE_PICKER="datePicker",w.NUMBER="number",w.SUGGESTER="suggester",w.EDITOR="editor",w.IMAGE_SUGGESTER="imageSuggester",w.PROGRESS_BAR="progressBar",w.INLINE_SELECT="inlineSelect",w.LIST="list",w.LIST_SUGGESTER="listSuggester",w.INLINE_LIST_SUGGESTER="inlineListSuggester",w.INLINE_LIST="inlineList",w.INVALID="invalid",w))(Xo||{}),Mr=(g=>(g.CLASS="class",g.ADD_LABELS="addLabels",g.MIN_VALUE="minValue",g.MAX_VALUE="maxValue",g.STEP_SIZE="stepSize",g.OPTION="option",g.TITLE="title",g.OPTION_QUERY="optionQuery",g.SHOWCASE="showcase",g.ON_VALUE="onValue",g.OFF_VALUE="offValue",g.DEFAULT_VALUE="defaultValue",g.PLACEHOLDER="placeholder",g.USE_LINKS="useLinks",g.LIMIT="limit",g.INVALID="invalid",g))(Mr||{}),AE={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},text_area:{type:"text_area",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multi_select:{type:"multi_select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},date_picker:{type:"date_picker",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}},Xt={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multi_select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","text_area","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},mu=(n=>(n.MATH="math",n.TEXT="text",n.INVALID="invalid",n))(mu||{}),Qo=(n=>(n.RENDER_MARKDOWN="renderMarkdown",n.HIDDEN="hidden",n.INVALID="invalid",n))(Qo||{}),Hl={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}};var po=class extends Li{constructor(r,n,i,a,o,c){var u;super(r,n,a,o,c);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.inputFieldDeclaration=i,this.inputSignal=new Lr(void 0),this.outputSignal=new Lr(void 0),!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this.inputFieldDeclaration.inputFieldType,n,this),(u=this.inputField)==null||u.registerListener({callback:s=>this.outputSignal.set(s)})}catch(s){this.errorCollection.add(s)}}registerSelfToMetadataManager(){var r;!((r=this.inputFieldDeclaration)!=null&&r.isBound)||!this.inputFieldDeclaration.bindTarget||(this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.inputFieldDeclaration.bindTarget,this.filePath)),this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:n=>this.updateMetadataManager(n)}))}unregisterSelfFromMetadataManager(){var r,n;!((r=this.inputFieldDeclaration)!=null&&r.isBound)||!this.inputFieldDeclaration.bindTarget||(this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(n=this.metadataSubscription)==null||n.unsubscribe())}updateMetadataManager(r){var n,i;!((n=this.inputFieldDeclaration)!=null&&n.isBound)||!this.inputFieldDeclaration.bindTarget||(i=this.metadataSubscription)==null||i.update(r)}getArguments(r){if(this.inputFieldDeclaration.errorCollection.hasErrors())throw new vr({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.inputFieldDeclaration.argumentContainer.getAll(r)}getArgument(r){return this.getArguments(r).at(0)}shouldAddCardContainer(){let r=this.inputFieldDeclaration.inputFieldType==="select"||this.inputFieldDeclaration.inputFieldType==="multi_select"||this.inputFieldDeclaration.inputFieldType==="multiSelect"||this.inputFieldDeclaration.inputFieldType==="list",n=cu(this.getArgument("showcase"))||cu(this.getArgument("title"));return this.renderChildType==="block"&&(r||n)}hasValidBindTarget(){var r;return cu((r=this.inputFieldDeclaration)==null?void 0:r.isBound)&&cu(this.inputFieldDeclaration.bindTarget)}onload(){var c;if(console.log("meta-bind | InputFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-input"),this.containerEl.empty(),!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new vr({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"})),this.errorCollection.hasErrors()){new Pi({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}});return}let r,n=this.getArgument("showcase"),i=this.getArgument("title");if(this.shouldAddCardContainer()){let u=this.containerEl.createDiv({cls:"mb-card"});i&&u.createEl("h3",{text:i.value}),r=u}else r=this.containerEl;new Pi({target:r,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.hasValidBindTarget()&&this.registerSelfToMetadataManager(),this.plugin.mdrcManager.registerMDRC(this);let a=createDiv();a.addClass("mb-input-wrapper"),(c=this.inputField)==null||c.mount(a);let o=this.getArguments("class");o&&a.addClasses(o.map(u=>u.value).flat()),this.renderChildType==="block"?this.containerEl.addClass("mb-input-block"):this.containerEl.addClass("mb-input-inline"),r.appendChild(a),this.shouldAddCardContainer()&&n&&r.createEl("code",{text:this.fullDeclaration,cls:"mb-none"})}onunload(){var r;console.log("meta-bind | InputFieldMarkdownRenderChild >> unload",this),(r=this.inputField)==null||r.unmount(),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind input field",cls:"mb-error"}),super.onunload()}};var Yp=require("obsidian"),nn=class t{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Yp.moment)(e,t.dateFormat)}static getDefaultDate(){return(0,Yp.moment)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};var pu=xr(Lp());var Gl=class{constructor(e,r,n,i){this.uuid=e,this.callbackSignal=r,this.metadataManager=n,this.bindTarget=i}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.updateCache(e,this)}notify(e){this.callbackSignal.set(e)}getDependencies(){return[]}};var jl=class{constructor(e,r,n,i,a,o){this.uuid=e,this.callbackSignal=r,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o}init(){for(let e of this.dependencies){let r=this.uuid+"/"+Ir();this.dependencySubscriptions.push(this.metadataManager.subscribe(r,e.callbackSignal,e.bindTarget)),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}async computeValue(){let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),r=await this.computeFunction(e);this.callbackSignal.set(r),this.metadataManager.updateCache(r,this)}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}};var NE=5,AL=5*60;function Jp(t,e){return t===void 0||e===void 0||t.filePath!==e.filePath?!1:_E(t.metadataPath,e.metadataPath,e.listenToChildren)}function _E(t,e,r){return CE(t,e)||jp(e,t)?!0:r&&jp(t,e)}function NL(t){return t===void 0?"undefined":`${t.filePath}#${t.metadataPath}`}var Zl=class{constructor(e){this.cache=new Map,this.metadataAdapter=e,this.metadataAdapter.setManagerInstance(this),this.metadataAdapter.load()}unload(){this.metadataAdapter.unload()}subscribeSubscription(e){if(e.bindTarget===void 0)return;let r=this.getCacheForFile(e.bindTarget.filePath);if(r)console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to existing file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath}`),r.inactive=!1,r.cyclesSinceInactive=0,r.listeners.push(e),e.notify((0,pu.traverseObjectByPath)(e.bindTarget.metadataPath,r.metadata));else{console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to newly created file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath}`);let{metadata:n,extraCache:i}=this.metadataAdapter.getMetadataAndExtraCache(e),a=Object.assign({},{extraCache:i,metadata:n,listeners:[e],cyclesSinceLastChange:NE+1,cyclesSinceInactive:0,inactive:!1,changed:!1});console.log(`meta-bind | MetadataManager >> loaded metadata for file ${e.bindTarget.filePath}`,a.metadata),e.notify((0,pu.traverseObjectByPath)(e.bindTarget.metadataPath,a.metadata)),this.createCacheForFile(e.bindTarget.filePath,a)}}subscribe(e,r,n){let i=new Gl(e,r,this,n);return this.subscribeSubscription(i),i}subscribeComputed(e,r,n,i,a){let o=new jl(e,r,this,n,i,a);return this.checkForLoops(o),o.init(),this.subscribeSubscription(o),o}checkForLoops(e){for(let r of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,r])}recCheckForLoops(e){let r=e.first(),n=e.last();if(!(n===void 0||r===void 0)){if(Jp(r.bindTarget,n.bindTarget))throw new mo({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${NL(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(r=>this.getAllSubscriptionsToBindTarget(r.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let r=this.getCacheForFile(e.filePath);if(!r)return[];let n=[];for(let i of r.listeners)Jp(i.bindTarget,e)&&n.push(i);return r.listeners.filter(i=>Jp(i.bindTarget,e))}unsubscribe(e){if(e.bindTarget===void 0)return;let r=e.bindTarget.filePath,n=this.getCacheForFile(r);n&&(console.debug(`meta-bind | MetadataManager >> unregistered ${e.uuid} to from file cache ${r}`),n.listeners=n.listeners.filter(i=>i.uuid!==e.uuid),n.listeners.length===0&&(console.debug(`meta-bind | MetadataManager >> marked unused file cache as inactive ${r}`),n.inactive=!0))}getCacheForFile(e){return this.cache.get(e)}createCacheForFile(e,r){if(this.cache.has(e))throw new vr({errorLevel:"CRITICAL",effect:"can not create metadata file cache",cause:"cache for file already exists"});this.cache.set(e,r)}update(){let e=[];for(let[r,n]of this.cache)n.changed&&this.updateExternal(r,n),n.cyclesSinceLastChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>AL&&e.push(r);for(let r of e)this.cache.delete(r)}async updateExternal(e,r){try{await this.metadataAdapter.updateMetadata(e,r)}catch(n){r.changed=!1,console.warn("failed to update frontmatter",n)}}updateCache(e,r){if(r.bindTarget===void 0)return;let n=r.bindTarget.metadataPath,i=r.bindTarget.filePath;console.debug(`meta-bind | MetadataManager >> updating "${JSON.stringify(n)}" in "${i}" metadata cache to`,e);let a=this.getCacheForFile(i);if(!a)return;let{parent:o,child:c}=FE(n,a.metadata);if(o.value==null)throw Error(`The parent of "${JSON.stringify(n)}" does not exist in Object, please create the parent first`);o.value[c.key]=e,a.cyclesSinceLastChange=0,a.changed=!0,this.notifyListeners(a,n,r.uuid)}updateCacheOnExternalUpdate(e,r){let n=this.getCacheForFile(e);if(!n||n.cyclesSinceLastChange<NE)return;let i=Object.assign({},r);delete i.position,console.debug(`meta-bind | MetadataManager >> updating "${e}" on frontmatter update`,i),n.metadata=i,this.notifyListeners(n)}notifyListeners(e,r,n){for(let i of e.listeners)if(!(n&&n===i.uuid)&&i.bindTarget!==void 0)if(r){if(_E(r,i.bindTarget.metadataPath,i.bindTarget.listenToChildren)){let a=(0,pu.traverseObjectByPath)(i.bindTarget.metadataPath,e.metadata);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata value`,a),i.notify(a)}}else{let a=(0,pu.traverseObjectByPath)(i.bindTarget.metadataPath,e.metadata);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata`,i.bindTarget.metadataPath,e.metadata,a),i.notify(a)}}};var ir=xr(Fa()),go=xr(ho());var an=xr(Fa()),RE=xr(ho());var qr=xr(Fa()),Sa=xr(ho()),yi=qr.P.sequence(Sa.P_UTILS.unicodeLetter(),qr.P.or(Sa.P_UTILS.unicodeAlphanumeric(),qr.P.oneOf("-_")).many()).map(t=>t[0]+t[1].join("")).describe("identifier"),BE=qr.P.sequenceMap((t,e)=>t+e.map(r=>r[0]+r[1]).join(""),yi,qr.P.sequence(Sa.P_UTILS.optionalWhitespace(),yi).many()).describe("identifier with spaces"),kL=qr.P.string("\\").then(Sa.P_UTILS.any()).map(t=>t==="'"?"'":t==="\\"?"\\":"\\"+t);function OE(t){return qr.P.or(kL,qr.P.noneOf(t+"\\")).many().map(e=>e.join("")).trim(qr.P.string(t))}var RL=OE("'"),kE=OE('"');function ei(t,e){return{value:t,position:e}}var PL=qr.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),LL=qr.P.or(RL,PL).node(ei),qL=qr.P.separateBy(LL,qr.P.string(",").trim(Sa.P_UTILS.optionalWhitespace())),VL=qr.P.sequenceMap((t,e)=>({name:t,value:e}),yi.node(ei),qL.trim(Sa.P_UTILS.optionalWhitespace()).wrap(qr.P.string("("),qr.P.string(")")).optional([])),du=qr.P.separateBy(VL,qr.P.string(",").trim(Sa.P_UTILS.optionalWhitespace()));var UL=an.P.manyNotOf("{}[]#^|:?").box("file path"),PE=yi.node(ei),id=an.P.or(RE.P_UTILS.digits(),kE).wrap(an.P.string("["),an.P.string("]")).node(ei),zL=an.P.or(an.P.sequenceMap((t,e)=>({file:void 0,boundToLocalScope:t==="^",listenToChildren:!1,path:e}),an.P.string("^").optional(),id.atLeast(1)),an.P.sequenceMap((t,e,r)=>({file:void 0,boundToLocalScope:t==="^",listenToChildren:!1,path:[e,...r]}),an.P.string("^").skip(an.P.string(".")).optional(),PE,id.many())),WL=an.P.sequenceMap((t,e)=>[t,...e],PE,id.many()),HL=an.P.sequenceMap((t,e)=>(t.path=t.path.concat(e.flat()),t),zL,an.P.string(".").then(WL).many()),na=an.P.sequenceMap((t,e)=>(e.file=t==null?void 0:t[0],e),an.P.sequence(UL.node(ei),an.P.string("#")).optional(),HL);var GL=ir.P.string("\\").then(go.P_UTILS.any()).map(t=>t==="["?"[":t==="]"?"]":t==="{"?"{":t==="}"?"}":t==="\\"?"\\":"\\"+t),LE=ir.P.sequenceMap((t,e)=>t+e.flat().join(""),ir.P.manyNotOf("{}[]\\"),ir.P.sequence(GL,ir.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),jL=ir.P.sequenceMap((t,e)=>[t,...e.flat()],LE,ir.P.sequence(na.wrap(ir.P.string("{"),ir.P.string("}")),LE).many()),ZL=ir.P.sequenceMap((t,e,r)=>{let n=r===void 0?void 0:r[1];return{viewFieldType:t,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},yi.node(ei).optional().describe("input field type"),du.trim(go.P_UTILS.optionalWhitespace()).wrap(ir.P.string("("),ir.P.string(")")).optional([]),ir.P.sequence(ir.P.string(":"),na).optional()),ad=ir.P.sequenceMap((t,e,r)=>r===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(r.templateDeclaration=e,r),ir.P.string("VIEW"),jL.wrap(ir.P.string("["),ir.P.string("]")),ZL.wrap(ir.P.string("["),ir.P.string("]")).optional(),go.P_UTILS.eof()),YL=ir.P.sequenceMap((t,e,r,n)=>(e!==void 0&&(t.listenToChildren=!0),{bindTarget:t,name:n}),na.wrap(ir.P.string("{"),ir.P.string("}")),ir.P.string(" and children").optional(),ir.P.string(" as "),yi),qE=ir.P.sequenceMap((t,e,r,n)=>({bindTargetMappings:t,code:n}),YL.separateBy(go.P_UTILS.whitespace()),go.P_UTILS.whitespace(),ir.P.string("---"),go.P_UTILS.remaining());function qi(t,e){let r=t.tryParse(e);if(r.success)return r.value;throw new od("ERROR","parsiNOM parser",e,r)}var od=class extends dn{constructor(r,n,i,a){super({errorLevel:r,effect:"failed to parse",cause:`expected ${a.expected.sort().join(" or ")}`});this.str=i,this.parseFailure=a,this.source=n,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let n=this.str.split(`
`)[this.parseFailure.furthest.line-1],i=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${i}${n}`,this.positionContext+=`
${this.getUnderline(i.length)}
`,this.message+=`
`+this.positionContext}getUnderline(r){let n=" ".repeat(this.parseFailure.furthest.column+r-1),i=`^ (${this.cause})`;return n+i}},on=class extends dn{constructor(r,n,i,a,o,c){super({errorLevel:r,effect:"failed to validate parser result",cause:i,docs:c});this.str=a,this.position=o,this.source=n,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let n=this.str.split(`
`)[this.position.from.line-1],i=`${this.position.from.line} |   `;this.positionContext=`${i}${n}`,this.positionContext+=`
${this.getUnderline(i.length,n.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(r,n){if(this.position===void 0)return"";let i=" ".repeat(this.position.from.column+r-1),a=this.position.to.line===this.position.from.line?this.position.to.column:n,o="^".repeat(a-this.position.from.column);return i+o}};var es=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let r of Object.values(Mr))e[r]=0;for(let r of this.arguments){let n=r.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new rr({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${n.type}' does not allow duplicates`,docs:[At.linkToSearch(n.type)]})}}mergeByOverride(e){for(let r of e.arguments){let n=r.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(r)}return this.validate(),this}mergeByThrow(e){for(let r of e.arguments){let n=r.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new rr({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(r)}return this.validate(),this}getAll(e){return this.arguments.filter(r=>r.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var ts=class extends es{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var rs=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,r){if(r.find(n=>n.length===e.length)===void 0)throw new rr({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${r.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[At.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var ns=class extends rs{};var nc=class extends ns{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Hl.renderMarkdown}};var ic=class extends ns{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Hl.hidden}};var VE={renderMarkdown:nc,hidden:ic},ac=class{static createViewFieldArgument(e){if(e in VE){let r=VE[e];if(r)return new r}throw new rn({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var oc=class{constructor(e,r){this.unvalidatedDeclaration=e,this.plugin=r,this.errorCollection=new fr("view field declaration")}validate(e){let r=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(r),a=this.validateTemplateDeclaration(e),o={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,viewFieldType:r,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let r of Object.entries(mu))if(r[1]===(e==null?void 0:e.value))return r[1];return this.errorCollection.add(new on("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.writeToBindTarget,e)}validateArguments(e){let r=new ts;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=ac.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new on("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}r.add(a)}try{r.validate()}catch(n){this.errorCollection.add(n)}return r}validateArgumentType(e){for(let r of Object.entries(Qo))if(r[1]===e.value)return r[1];return this.errorCollection.add(new on("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}validateTemplateDeclaration(e){var r,n;try{return(n=(r=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:r.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,i,e)))!=null?n:[]}catch(i){return this.errorCollection.add(i),[]}}};var sc=class{constructor(e){this.plugin=e}parseString(e,r){let n=new fr("ViewFieldDeclaration");try{let i=qi(ad,e);return i.fullDeclaration=e,i.errorCollection=n,this.validateDeclaration(i,r)}catch(i){n.add(i)}return{fullDeclaration:e,errorCollection:n,templateDeclaration:[],viewFieldType:"invalid",argumentContainer:new ts,writeToBindTarget:void 0}}parseStringWithoutValidation(e){let r=new fr("ViewFieldDeclaration");try{let n=qi(ad,e);return n.fullDeclaration=e,n.errorCollection=r,n}catch(n){r.add(n)}return{fullDeclaration:e,errorCollection:r,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}validateDeclaration(e,r){return new oc(e,this.plugin).validate(r)}parseJsString(e){let r={};r.errorCollection=new fr("JsViewFieldDeclaration"),r.fullDeclaration=e;try{let n=qi(qE,e);r.bindTargetMappings=n.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validateBindTarget(e,i.bindTarget),name:i.name})),r.code=n.code}catch(n){r.errorCollection.add(n)}return r}};var uc=class{constructor(e){this.plugin=e}parseAndValidateBindTarget(e,r){return this.validateBindTarget(e,this.parseBindTarget(e),r)}parseBindTarget(e){return qi(na,e)}validateBindTarget(e,r,n){var o,c,u,s,l;let i={},a=(o=r.file)==null?void 0:o.value;if(a!==void 0){let f=this.plugin.getFilePathsByName(a);if(f.length===0)throw new on("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(c=r.file)==null?void 0:c.value}' not found.`,e,(u=r.file)==null?void 0:u.position);if(f.length===1)i.filePath=f[0];else throw new on("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(s=r.file)==null?void 0:s.value}' resolves to multiple files, please also specify the file path.`,e,(l=r.file)==null?void 0:l.position)}return i.metadataPath=r.path.map(f=>f.value),i.boundToLocalScope=r.boundToLocalScope,i.listenToChildren=r.listenToChildren,this.resolveScope(i,n)}resolveScope(e,r){if(e.boundToLocalScope){if(r===void 0)throw new on("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.filePath=r.scope.filePath,e.metadataPath=r.scope.metadataPath.concat(e.metadataPath),e}else return e}toFullDeclaration(e,r){if(e!==void 0)return e.filePath===void 0&&(e.filePath=r),e}};var is=class extends Li{};var as=class extends is{constructor(r,n,i,a,o,c){var u,s;super(r,n,a,o,c);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.inputSignal=new Lr(void 0),this.errorCollection.isEmpty())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(i.viewFieldType,this),this.variables=(s=(u=this.viewField)==null?void 0:u.buildVariables(this.viewFieldDeclaration))!=null?s:[]}catch(l){this.errorCollection.add(l)}}registerSelfToMetadataManager(){try{this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.viewFieldDeclaration.writeToBindTarget,this.filePath),this.variables.map(r=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(r.bindTargetDeclaration,this.filePath),callbackSignal:r.inputSignal})),async()=>{var r;return await((r=this.viewField)==null?void 0:r.computeValue(this.variables))}),this.inputSignal.registerListener({callback:r=>{var n;return void((n=this.viewField)==null?void 0:n.update(r))}})}catch(r){this.errorCollection.add(r)}}unregisterSelfFromMetadataManager(){var r;(r=this.metadataSubscription)==null||r.unsubscribe()}getInitialValue(){return""}getArguments(r){if(this.viewFieldDeclaration.errorCollection.hasErrors())throw new vr({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.viewFieldDeclaration.argumentContainer.getAll(r)}getArgument(r){return this.getArguments(r).at(0)}onload(){var n;if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),this.errorCollection.hasErrors()||this.registerSelfToMetadataManager(),new Pi({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.plugin.mdrcManager.registerMDRC(this);let r=createDiv();r.addClass("mb-view-wrapper"),(n=this.viewField)==null||n.render(r),this.containerEl.appendChild(r)}onunload(){var r;console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),(r=this.viewField)==null||r.destroy(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}};var hF=xr(Hd());var Ac=class extends is{constructor(r,n,i,a,o,c){var u;super(r,n,a,o,c);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.errorCollection.isEmpty())try{for(let s of(u=this.viewFieldDeclaration.bindTargetMappings)!=null?u:[])this.variables.push({bindTargetDeclaration:s.bindTarget,inputSignal:new Lr(void 0),uuid:Ir(),contextName:s.name});this.parseExpression()}catch(s){this.errorCollection.add(s)}}parseExpression(){if(!this.viewFieldDeclaration.code)return;let n=this.viewFieldDeclaration.code.contains("await")?async function(){}.constructor:Function;this.expression=n("app","mb","dv","filePath","context",this.viewFieldDeclaration.code)}buildContext(){var n,i;let r={};for(let a of(n=this.variables)!=null?n:[])!a.contextName||!a.inputSignal||(r[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return r}async evaluateExpression(){var n;if(!this.expression)throw new nu({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"Expression is undefined."});if(!this.plugin.settings.enableJs)throw new nu({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});let r=this.buildContext();try{let i=await Promise.resolve(this.expression(this.plugin.app,this.plugin.api,(0,hF.getAPI)(this.plugin.app),this.filePath,r));return(n=i==null?void 0:i.toString())!=null?n:"null"}catch(i){throw i instanceof Error?new ta({errorLevel:"ERROR",effect:"failed to evaluate js expression",cause:i,context:{declaration:this.viewFieldDeclaration.code,context:r}}):new Error("failed to evaluate js expression because of: unexpected thrown value")}}registerSelfToMetadataManager(){let r=new Lr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,r,void 0,this.variables.map(n=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(n.bindTargetDeclaration,this.filePath),callbackSignal:n.inputSignal})),()=>this.update())}unregisterSelfFromMetadataManager(){var r;(r=this.metadataSubscription)==null||r.unsubscribe()}getInitialValue(){return""}async onload(){if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),new Pi({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.registerSelfToMetadataManager(),this.plugin.mdrcManager.registerMDRC(this);let r=createDiv();r.addClass("mb-view-wrapper"),this.renderContainer=r,await this.update(),this.containerEl.appendChild(r)}onunload(){console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}async update(){if(this.renderContainer)try{this.renderContainer.innerText=await this.evaluateExpression(),this.renderContainer.removeClass("mb-error")}catch(r){r instanceof Error&&(this.renderContainer.innerText=r.message,this.renderContainer.addClass("mb-error"))}}};var gs=class extends es{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var jt=class extends rs{};var Nc=class extends jt{constructor(){super(...arguments);this.value=[]}_parseValue(r){this.value=r[0].value.split(" ")}getConfig(){return Xt.class}};var _c=class extends jt{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Xt.addLabels}};var Mc=class extends jt{constructor(){super(...arguments);this.value=0}_parseValue(r){if(this.value=Number.parseFloat(r[0].value),Number.isNaN(this.value))throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Xt.minValue}};var Tc=class extends jt{constructor(){super(...arguments);this.value=100}_parseValue(r){if(this.value=Number.parseFloat(r[0].value),Number.isNaN(this.value))throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Xt.maxValue}};var Ta=xr(Fa()),Au=xr(ho()),vF=Ta.P.sequenceMap((t,e)=>t===void 0?e:-e,Ta.P.string("-").optional(),Ta.P.or(Ta.P.sequenceMap((t,e,r)=>Number(t+e+r),Au.P_UTILS.digits(),Ta.P.string("."),Au.P_UTILS.digits()),Au.P_UTILS.digits().map(t=>Number(t)))).thenEof(),Rie=Ta.P.sequenceMap((t,e)=>t===void 0?e:-e,Ta.P.string("-").optional(),Au.P_UTILS.digits().map(t=>Number(t))).thenEof();function oa(t){if(t.toLowerCase()==="null")return null;if(t==="true")return!0;if(t==="false")return!1;{let e=vF.tryParse(t);return e.success?e.value:t}}function Ic(t){return t===void 0?"":t===null?"null":typeof t=="string"?t:typeof t=="boolean"?t?"true":"false":t.toString()}function Ia(t){return t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number"}function Wi(t){if(t!=null){if(Ia(t))return[t];if(typeof t=="object"&&Array.isArray(t))return t.filter(e=>Ia(e))}}function vs(t){if(typeof t=="number")return t;if(typeof t=="string"){let e=vF.tryParse(t);if(e.success)return e.value}}function Ba(t){return Ia(t)?t==null?void 0:t.toString():void 0}function Oa(t){return Ia(t)?t:void 0}function yF(t,e){return Array.isArray(t)?t.map(r=>gF(r,e)).join(", "):gF(t,e)}function gF(t,e){var r;return typeof t=="object"?JSON.stringify(t):(r=t==null?void 0:t.toString())!=null?r:e?"":"null"}var Bc=class extends jt{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(r){r.length===1?(this.value=oa(r[0].value),this.name=r[0].value):r.length===2&&(this.value=oa(r[0].value),this.name=r[1].value)}getConfig(){return Xt.option}};var Oc=class extends jt{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=r[0].value}getConfig(){return Xt.title}};var kc=class extends jt{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=r[0].value}getConfig(){return Xt.optionQuery}};var Rc=class extends jt{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Xt.showcase}};var Pc=class extends jt{constructor(){super(...arguments);this.value=!1}_parseValue(r){this.value=oa(r[0].value)}getConfig(){return Xt.offValue}};var Lc=class extends jt{constructor(){super(...arguments);this.value=!0}_parseValue(r){this.value=oa(r[0].value)}getConfig(){return Xt.onValue}};var qc=class extends jt{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=oa(r[0].value)}getConfig(){return Xt.defaultValue}};var Vc=class extends jt{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=r[0].value}getConfig(){return Xt.placeholder}};var Uc=class extends jt{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Xt.useLinks}};var zc=class extends jt{constructor(){super(...arguments);this.value=0}_parseValue(r){if(this.value=Number.parseFloat(r[0].value),Number.isNaN(this.value))throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Xt.stepSize}};var Wc=class extends jt{constructor(){super(...arguments);this.value=void 0}_parseValue(r){if(this.value=Number.parseInt(r[0].value),Number.isNaN(this.value))throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Xt.limit}};var bF={class:Nc,addLabels:_c,minValue:Mc,maxValue:Tc,stepSize:zc,option:Bc,title:Oc,optionQuery:kc,showcase:Rc,offValue:Pc,onValue:Lc,defaultValue:qc,placeholder:Vc,useLinks:Uc,limit:Wc},Hc=class{static createInputFieldArgument(e){if(e in bF){let r=bF[e];if(r)return new r}throw new rn({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var Nu=class{constructor(e,r){this.plugin=e,this.unvalidatedDeclaration=r,this.errorCollection=new fr("input field declaration")}validate(e){let r=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(r),a={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,inputFieldType:r,isBound:n!==void 0,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let r of Object.entries(Xo))if(r[1]===(e==null?void 0:e.value))return r[1];return this.errorCollection.add(new on("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){var r;(e.inputFieldType==="date_picker"||e.inputFieldType==="text_area"||e.inputFieldType==="multi_select")&&this.errorCollection.add(new on("WARNING","Declaration Validator",`'${e.inputFieldType}' is deprecated, as it has been renamed to be in camel case ('input_field_type' => 'inputFieldType').`,this.unvalidatedDeclaration.fullDeclaration,(r=this.unvalidatedDeclaration.inputFieldType)==null?void 0:r.position))}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.bindTarget,e)}validateArguments(e){let r=new gs;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Hc.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new on("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}r.add(a)}try{r.validate()}catch(n){this.errorCollection.add(n)}return r}validateArgumentType(e){for(let r of Object.entries(Mr))if(r[1]===e.value)return r[1];return this.errorCollection.add(new on("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}};var or=xr(Fa());var ys=xr(ho());var t9=or.P.sequenceMap((t,e,r)=>{let n=r===void 0?void 0:r[1];return{inputFieldType:t,arguments:e,bindTarget:n}},yi.node(ei).describe("input field type"),du.trim(ys.P_UTILS.optionalWhitespace()).wrap(or.P.string("("),or.P.string(")")).optional([]),or.P.sequence(or.P.string(":"),na).optional()),xF=or.P.sequenceMap((t,e,r)=>{let n=r===void 0?void 0:r[1];return{inputFieldType:t,arguments:e,bindTarget:n}},yi.node(ei).optional().describe("input field type"),du.trim(ys.P_UTILS.optionalWhitespace()).wrap(or.P.string("("),or.P.string(")")).optional([]),or.P.sequence(or.P.string(":"),na).optional()),Gd=or.P.or(or.P.sequenceMap((t,e,r)=>(r.templateName=e,r),or.P.string("INPUT"),or.P.sequenceMap((t,e,r)=>e,or.P.string("["),BE.node(ei).describe("template name"),or.P.string("]")),xF.wrap(or.P.string("["),or.P.string("]")),ys.P_UTILS.eof()),or.P.sequenceMap((t,e)=>e,or.P.string("INPUT"),t9.wrap(or.P.string("["),or.P.string("]")),ys.P_UTILS.eof())),DF=or.P.sequenceMap((t,e)=>e,or.P.string("INPUT"),xF.wrap(or.P.string("["),or.P.string("]")),ys.P_UTILS.eof());var Gc=class{constructor(e){this.plugin=e,this.templates=[]}parseString(e,r){let n=new fr("InputFieldParser");try{let i=qi(Gd,e);return i.fullDeclaration=e,i.errorCollection=n,i=this.applyTemplate(i),new Nu(this.plugin,i).validate(r)}catch(i){n.add(i)}return{fullDeclaration:e,inputFieldType:"invalid",isBound:!1,bindTarget:void 0,argumentContainer:new gs,errorCollection:n}}parseStringWithoutValidation(e){let r=new fr("InputFieldParser");try{let n=qi(Gd,e);return n.fullDeclaration=e,n.errorCollection=r,n}catch(n){r.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:r}}validateDeclaration(e,r){return new Nu(this.plugin,e).validate(r)}parseTemplateString(e){let r=new fr("InputFieldParser");try{let n=qi(DF,e);return n.fullDeclaration=e,n.errorCollection=r,n}catch(n){r.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:r}}parseTemplates(e){this.templates=[];let r=new fr("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);r.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push(Zp(a))}return r}getTemplate(e){var r;return(r=this.templates.find(n=>n.name===e))==null?void 0:r.template}applyTemplate(e){if(e.templateName===void 0)return e;let r=this.getTemplate(e.templateName.value);return r===void 0?(e.errorCollection.add(new on("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.fullDeclaration,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.plugin.api.inputField.merge(r,e)}};var jc=class{constructor(e){this.api=e}createInputFieldDeclaration(e,r){let n=new fr("input field declaration"),i=(r!=null?r:[]).map(a=>({name:{value:a.name},value:a.value.map(o=>({value:o}))}));return{fullDeclaration:"",inputFieldType:e?{value:e}:void 0,bindTarget:void 0,arguments:i,errorCollection:n}}createInputFieldDeclarationFromString(e){return this.api.inputFieldParser.parseStringWithoutValidation(e)}setType(e,r){return e.inputFieldType={value:r},e}setArguments(e,r){return e.arguments=r.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))})),e}addArgument(e,r){return Array.isArray(r)?e.arguments=e.arguments.concat(r.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))}))):e.arguments.push({name:{value:r.name},value:r.value.map(n=>({value:n}))}),e}setBindTargetFile(e,r){return e.bindTarget?e.bindTarget.file={value:r}:e.bindTarget={file:{value:r},path:[],boundToLocalScope:!1,listenToChildren:!1},e}setBindTargetMetadataField(e,r){return typeof r=="string"&&(r=[r]),e.bindTarget?e.bindTarget.path=r.map(n=>({value:n})):e.bindTarget={file:void 0,path:r.map(n=>({value:n})),boundToLocalScope:!1,listenToChildren:!1},e}setTemplateName(e,r){return e.templateName={value:r},e}applyTemplate(e){return this.api.inputFieldParser.applyTemplate(e)}getTemplate(e){return this.api.inputFieldParser.getTemplate(e)}merge(e,r){var i,a,o;let n={};return e.bindTarget===void 0?n=r.bindTarget:(n=e.bindTarget,((i=r.bindTarget)==null?void 0:i.file)!==void 0&&(n.file=r.bindTarget.file),((a=r.bindTarget)==null?void 0:a.path)!==void 0&&(n.path=r.bindTarget.path)),{fullDeclaration:r.fullDeclaration,inputFieldType:(o=r.inputFieldType)!=null?o:e.inputFieldType,bindTarget:n,arguments:r.arguments.concat(e.arguments).reduce((c,u)=>(c.find(s=>s.name===u.name)===void 0&&c.push(u),c),[]),errorCollection:new fr("input field declaration").merge(e.errorCollection).merge(r.errorCollection)}}};var Zc=class extends Li{onload(){console.log("meta-bind | ExcludedMDRC >> load",this),this.containerEl.empty(),this.containerEl.createEl("span",{text:"this folder has been excluded in the meta bind plugin settings",cls:"meta-bind-plugin-error"})}};var Yc=class{constructor(e){this.scope=e}};var wF=require("obsidian");function r9(t){let e,r;return{c(){e=X("td"),r=X("div")},m(n,i){ne(n,e,i),G(e,r),t[3](r)},p:Te,i:Te,o:Te,d(n){n&&re(e),t[3](null)}}}function n9(t,e,r){let{table:n}=e,{cell:i}=e,a,o;$r(()=>{o=new wF.Component,o.load(),n.createCell(i,a,o)}),Al(()=>{o.unload()});function c(u){kt[u?"unshift":"push"](()=>{a=u,r(0,a)})}return t.$$set=u=>{"table"in u&&r(1,n=u.table),"cell"in u&&r(2,i=u.cell)},[a,n,i,c]}var jd=class extends Ie{constructor(e){super(),Oe(this,e,n9,r9,Be,{table:1,cell:2})}},EF=jd;var FF=require("obsidian");function CF(t){let e;return{c(){e=X("div"),U(e,"class","mb-icon-wrapper")},m(r,n){ne(r,e,n),t[2](e)},p:Te,d(r){r&&re(e),t[2](null)}}}function i9(t){let e,r=t[0].length>0&&CF(t);return{c(){r&&r.c(),e=cr()},m(n,i){r&&r.m(n,i),ne(n,e,i)},p(n,[i]){n[0].length>0?r?r.p(n,i):(r=CF(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:Te,o:Te,d(n){n&&re(e),r&&r.d(n)}}}function a9(t,e,r){let{iconName:n=""}=e,i;$r(()=>{(0,FF.setIcon)(i,n)});function a(o){kt[o?"unshift":"push"](()=>{i=o,r(1,i)})}return t.$$set=o=>{"iconName"in o&&r(0,n=o.iconName)},[n,i,a]}var Zd=class extends Ie{constructor(e){super(),Oe(this,e,a9,i9,Be,{iconName:0})}},Gr=Zd;function SF(t,e,r){let n=t.slice();return n[7]=e[r],n}function AF(t,e,r){let n=t.slice();return n[10]=e[r],n[11]=e,n[12]=r,n}function NF(t,e,r){let n=t.slice();return n[13]=e[r],n}function _F(t){let e,r=t[13]+"",n;return{c(){e=X("th"),n=Ve(r)},m(i,a){ne(i,e,a),G(e,n)},p(i,a){a&2&&r!==(r=i[13]+"")&&Ke(n,r)},d(i){i&&re(e)}}}function o9(t){let e,r,n;return{c(){e=X("td"),r=Ve("invalid data"),U(e,"class","meta-bind-error"),U(e,"colspan",n=t[1].length)},m(i,a){ne(i,e,a),G(e,r)},p(i,a){a&2&&n!==(n=i[1].length)&&U(e,"colspan",n)},i:Te,o:Te,d(i){i&&re(e)}}}function s9(t){let e,r,n=tt(t[7].cells),i=[];for(let o=0;o<n.length;o+=1)i[o]=MF(AF(t,n,o));let a=o=>we(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=cr()},m(o,c){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,c);ne(o,e,c),r=!0},p(o,c){if(c&5){n=tt(o[7].cells);let u;for(u=0;u<n.length;u+=1){let s=AF(o,n,u);i[u]?(i[u].p(s,c),ve(i[u],1)):(i[u]=MF(s),i[u].c(),ve(i[u],1),i[u].m(e.parentNode,e))}for(Rt(),u=n.length;u<i.length;u+=1)a(u);Pt()}},i(o){if(!r){for(let c=0;c<n.length;c+=1)ve(i[c]);r=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)we(i[c]);r=!1},d(o){o&&re(e),Ft(i,o)}}}function MF(t){let e,r,n;function i(o){t[4](o,t[10],t[11],t[12])}let a={table:t[0]};return t[10]!==void 0&&(a.cell=t[10]),e=new EF({props:a}),kt.push(()=>tn(e,"cell",i)),{c(){Qe(e.$$.fragment)},m(o,c){Je(e,o,c),n=!0},p(o,c){t=o;let u={};c&1&&(u.table=t[0]),!r&&c&4&&(r=!0,u.cell=t[10],en(()=>r=!1)),e.$set(u)},i(o){n||(ve(e.$$.fragment,o),n=!0)},o(o){we(e.$$.fragment,o),n=!1},d(o){Xe(e,o)}}}function u9(t){let e,r;return e=new Gr({props:{iconName:"x"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),r=!0},p:Te,i(n){r||(ve(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Xe(e,n)}}}function TF(t,e){let r,n,i,a,o,c,u,s,l=[s9,o9],f=[];function m(h,d){return h[7].isValid?0:1}n=m(e,-1),i=f[n]=l[n](e);function p(){return e[5](e[7])}return c=new Dr({props:{$$slots:{default:[u9]},$$scope:{ctx:e}}}),c.$on("click",p),{key:t,first:null,c(){r=X("tr"),i.c(),a=De(),o=X("td"),Qe(c.$$.fragment),u=De(),this.first=r},m(h,d){ne(h,r,d),f[n].m(r,null),G(r,a),G(r,o),Je(c,o,null),G(r,u),s=!0},p(h,d){e=h;let g=n;n=m(e,d),n===g?f[n].p(e,d):(Rt(),we(f[g],1,1,()=>{f[g]=null}),Pt(),i=f[n],i?i.p(e,d):(i=f[n]=l[n](e),i.c()),ve(i,1),i.m(r,a));let v={};d&65536&&(v.$$scope={dirty:d,ctx:e}),c.$set(v)},i(h){s||(ve(i),ve(c.$$.fragment,h),s=!0)},o(h){we(i),we(c.$$.fragment,h),s=!1},d(h){h&&re(r),f[n].d(),Xe(c)}}}function l9(t){let e;return{c(){e=Ve("Add Column")},m(r,n){ne(r,e,n)},d(r){r&&re(e)}}}function c9(t){let e,r,n,i,a,o,c,u=[],s=new Map,l,f,m,p=tt(t[1]),h=[];for(let v=0;v<p.length;v+=1)h[v]=_F(NF(t,p,v));let d=tt(t[2]),g=v=>v[7].index;for(let v=0;v<d.length;v+=1){let C=SF(t,d,v),y=g(C);s.set(y,u[v]=TF(y,C))}return f=new Dr({props:{$$slots:{default:[l9]},$$scope:{ctx:t}}}),f.$on("click",t[6]),{c(){e=X("table"),r=X("thead"),n=X("tr");for(let v=0;v<h.length;v+=1)h[v].c();i=De(),a=X("th"),o=De(),c=X("tbody");for(let v=0;v<u.length;v+=1)u[v].c();l=De(),Qe(f.$$.fragment)},m(v,C){ne(v,e,C),G(e,r),G(r,n);for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(n,null);G(n,i),G(n,a),G(e,o),G(e,c);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(c,null);ne(v,l,C),Je(f,v,C),m=!0},p(v,[C]){if(C&2){p=tt(v[1]);let D;for(D=0;D<p.length;D+=1){let b=NF(v,p,D);h[D]?h[D].p(b,C):(h[D]=_F(b),h[D].c(),h[D].m(n,i))}for(;D<h.length;D+=1)h[D].d(1);h.length=p.length}C&7&&(d=tt(v[2]),Rt(),u=Ml(u,C,g,1,v,d,s,c,Rw,TF,null,SF),Pt());let y={};C&65536&&(y.$$scope={dirty:C,ctx:v}),f.$set(y)},i(v){if(!m){for(let C=0;C<d.length;C+=1)ve(u[C]);ve(f.$$.fragment,v),m=!0}},o(v){for(let C=0;C<u.length;C+=1)we(u[C]);we(f.$$.fragment,v),m=!1},d(v){v&&(re(e),re(l)),Ft(h,v);for(let C=0;C<u.length;C+=1)u[C].d();Xe(f,v)}}}function f9(t,e,r){let{table:n}=e,{tableHead:i=[]}=e,a=[];function o(l){r(2,a=l)}function c(l,f,m,p){m[p]=l,r(2,a)}let u=l=>n.removeColumn(l.index),s=()=>n.addColumn();return t.$$set=l=>{"table"in l&&r(0,n=l.table),"tableHead"in l&&r(1,i=l.tableHead)},[n,i,a,o,c,u,s]}var Yd=class extends Ie{constructor(e){super(),Oe(this,e,f9,c9,Be,{table:0,tableHead:1,updateTable:3})}get updateTable(){return this.$$.ctx[3]}},IF=Yd;var Jc=class extends Li{constructor(r,n,i,a,o,c,u,s){super(r,n,i,a,o);this.bindTarget=c,this.tableHead=u,this.columns=s,this.inputSignal=new Lr(void 0),this.outputSignal=new Lr(void 0)}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.bindTarget,this.filePath))}unregisterSelfFromMetadataManager(){var r;this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(r=this.metadataSubscription)==null||r.unsubscribe()}updateMetadataManager(r){var n;(n=this.metadataSubscription)==null||n.update(r)}getInitialValue(){var r;return(r=this.inputSignal.get())!=null?r:[]}updateDisplayValue(r){var i;r=r!=null?r:[];let n=[];for(let a=0;a<r.length;a++)if(typeof r[a]=="object"){let o=new Yc({metadataPath:[...this.bindTarget.metadataPath,a.toString()],filePath:this.bindTarget.filePath,listenToChildren:!1,boundToLocalScope:!1}),c=this.columns.map(u=>"inputFieldType"in u?this.plugin.api.inputFieldParser.validateDeclaration(u,o):this.plugin.api.viewFieldParser.validateDeclaration(u,o));n.push({cells:c,index:a,value:r[a],isValid:!0})}else n.push({cells:[],index:a,value:r[a],isValid:!1});(i=this.tableComponent)==null||i.updateTable(n)}createCell(r,n,i){let a=Ir();if("inputFieldType"in r){let o=new po(n,"inline",r,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}else{let o=new as(n,"inline",r,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}}removeColumn(r){var i;let n=(i=this.inputSignal.get())!=null?i:[];n.splice(r,1),this.outputSignal.set(n),this.updateDisplayValue(n)}addColumn(){var n;let r=(n=this.inputSignal.get())!=null?n:[];r.push({}),this.outputSignal.set(r),this.updateDisplayValue(r)}onload(){this.registerSelfToMetadataManager(),this.tableComponent=new IF({target:this.containerEl,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:r=>{this.updateDisplayValue(r)}}),this.updateDisplayValue(this.inputSignal.get())}onunload(){var r;this.unregisterSelfFromMetadataManager(),(r=this.tableComponent)==null||r.$destroy()}};var Qc=class extends Ca{constructor(r){super();this.svelteComponent=r}setValue(r){var n;(n=this.svelteComponentInstance)==null||n.setValue(r)}mount(r,n,i={}){let a=Object.assign({value:n,onValueChange:o=>{this.notifyListeners(o)}},i);this.svelteComponentInstance=new this.svelteComponent({target:r,props:a})}unmount(){var r;this.listeners=[],(r=this.svelteComponentInstance)==null||r.$destroy()}};var St=class extends Ca{constructor(r){super();this.renderChild=r,this.inputFieldComponent=new Qc(this.getSvelteComponent()),this.signal=new Wl(this.renderChild.inputSignal,n=>{let i=this.filterValue(n);return i!=null?i:this.getDefaultValue()}),this.signal.registerListener({callback:n=>this.inputFieldComponent.setValue(this.reverseMapValue(n))}),this.inputFieldComponent.registerListener({callback:n=>{this.notifyListeners(this.mapValue(n))}})}reverseMapValue(r){let n=this.rawReverseMapValue(r);if(n!==void 0)return n;let i=this.rawReverseMapValue(this.getDefaultValue());return i!==void 0?i:this.getFallbackDefaultValue()}mapValue(r){return this.rawMapValue(r)}getValue(){return this.signal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(r){this.signal.set(r),this.notifyListeners(r)}setInternalValue(r){this.setValue(this.mapValue(r))}getDefaultValue(){let r=this.renderChild.getArgument("defaultValue");if(!r)return this.mapValue(this.getFallbackDefaultValue());let n=this.filterValue(r.value);return n!=null?n:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}mount(r){this.inputFieldComponent.mount(r,this.reverseMapValue(this.getValue()),this.getMountArgs())}unmount(){this.inputFieldComponent.unmount()}};function m9(t){let e,r,n,i;return{c(){e=X("div"),r=X("input"),U(r,"type","checkbox"),U(r,"tabindex","-1"),r.checked=t[0],U(e,"class","checkbox-container"),U(e,"role","switch"),U(e,"tabindex","0"),U(e,"aria-checked",t[0]),ut(e,"is-enabled",t[0])},m(a,o){ne(a,e,o),G(e,r),n||(i=[Ae(e,"click",t[5]),Ae(e,"keypress",t[6])],n=!0)},p(a,[o]){o&1&&(r.checked=a[0]),o&1&&U(e,"aria-checked",a[0]),o&1&&ut(e,"is-enabled",a[0])},i:Te,o:Te,d(a){a&&re(e),n=!1,$e(i)}}}function p9(t,e,r){let{value:n}=e,{onValueChange:i}=e;function a(l){r(0,n=l)}function o(){r(0,n=!n),console.log("toggle"),i(n)}function c(l){l.key===" "&&o()}let u=()=>o(),s=l=>c(l);return t.$$set=l=>{"value"in l&&r(0,n=l.value),"onValueChange"in l&&r(3,i=l.onValueChange)},[n,o,c,i,a,u,s]}var Jd=class extends Ie{constructor(e){super(),Oe(this,e,p9,m9,Be,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},BF=Jd;var Kc=class extends St{constructor(r){var n,i,a,o;super(r);this.onValue=(i=(n=this.renderChild.getArgument("onValue"))==null?void 0:n.value)!=null?i:!0,this.offValue=(o=(a=this.renderChild.getArgument("offValue"))==null?void 0:a.value)!=null?o:!1}filterValue(r){return Oa(r)}getFallbackDefaultValue(){return!1}getSvelteComponent(){return BF}rawReverseMapValue(r){return r===this.onValue?!0:(r===this.offValue,!1)}rawMapValue(r){return r?this.onValue:this.offValue}};function OF(t){let e,r=kF(t[0].length,t[2])+"",n,i;return{c(){e=X("span"),n=Ve(r),U(e,"class",i=`mb-content-limit-indicator ${t[0].length>t[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){ne(a,e,o),G(e,n)},p(a,o){o&5&&r!==(r=kF(a[0].length,a[2])+"")&&Ke(n,r),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&U(e,"class",i)},d(a){a&&re(e)}}}function d9(t){let e,r,n,i,a,o=t[2]!==void 0&&OF(t);return{c(){e=X("input"),r=De(),o&&o.c(),n=cr(),U(e,"type","text"),U(e,"tabindex","0"),U(e,"placeholder",t[1]),U(e,"maxlength",t[2])},m(c,u){ne(c,e,u),Et(e,t[0]),ne(c,r,u),o&&o.m(c,u),ne(c,n,u),i||(a=[Ae(e,"input",t[5]),Ae(e,"input",t[6])],i=!0)},p(c,[u]){u&2&&U(e,"placeholder",c[1]),u&4&&U(e,"maxlength",c[2]),u&1&&e.value!==c[0]&&Et(e,c[0]),c[2]!==void 0?o?o.p(c,u):(o=OF(c),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:Te,o:Te,d(c){c&&(re(e),re(r),re(n)),o&&o.d(c),i=!1,$e(a)}}}function kF(t,e){let r=e.toString();return`${t.toString().padStart(r.length,"0")}/${r}`}function h9(t,e,r){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function c(l){r(0,n=l)}function u(){n=this.value,r(0,n)}let s=()=>o(n);return t.$$set=l=>{"value"in l&&r(0,n=l.value),"placeholder"in l&&r(1,i=l.placeholder),"limit"in l&&r(2,a=l.limit),"onValueChange"in l&&r(3,o=l.onValueChange)},[n,i,a,o,c,u,s]}var Xd=class extends Ie{constructor(e){super(),Oe(this,e,h9,d9,Be,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},RF=Xd;var $c=class extends St{constructor(e){super(e)}filterValue(e){return Ba(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return RF}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,r,n;return{placeholder:(r=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?r:"Text",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function g9(t){let e,r,n;return{c(){e=X("input"),U(e,"class","mb-slider-input"),U(e,"type","range"),U(e,"tabindex","0"),U(e,"min",t[1]),U(e,"max",t[2]),U(e,"step",t[3])},m(i,a){ne(i,e,a),Et(e,t[0]),r||(n=[Ae(e,"change",t[9]),Ae(e,"input",t[9]),Ae(e,"input",t[10])],r=!0)},p(i,a){a&2&&U(e,"min",i[1]),a&4&&U(e,"max",i[2]),a&8&&U(e,"step",i[3]),a&1&&Et(e,i[0])},d(i){i&&re(e),r=!1,$e(n)}}}function v9(t){let e,r,n,i,a,o,c,u,s;return{c(){e=X("span"),r=Ve(t[1]),n=De(),i=X("input"),a=De(),o=X("span"),c=Ve(t[2]),U(e,"class","mb-slider-input-label"),U(i,"class","mb-slider-input"),U(i,"type","range"),U(i,"tabindex","0"),U(i,"min",t[1]),U(i,"max",t[2]),U(i,"step",t[3]),U(o,"class","mb-slider-input-label")},m(l,f){ne(l,e,f),G(e,r),ne(l,n,f),ne(l,i,f),Et(i,t[0]),ne(l,a,f),ne(l,o,f),G(o,c),u||(s=[Ae(i,"change",t[7]),Ae(i,"input",t[7]),Ae(i,"input",t[8])],u=!0)},p(l,f){f&2&&Ke(r,l[1]),f&2&&U(i,"min",l[1]),f&4&&U(i,"max",l[2]),f&8&&U(i,"step",l[3]),f&1&&Et(i,l[0]),f&4&&Ke(c,l[2])},d(l){l&&(re(e),re(n),re(i),re(a),re(o)),u=!1,$e(s)}}}function y9(t){let e;function r(a,o){return a[4]?v9:g9}let n=r(t,-1),i=n(t);return{c(){i.c(),e=cr()},m(a,o){i.m(a,o),ne(a,e,o)},p(a,[o]){n===(n=r(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Te,o:Te,d(a){a&&re(e),i.d(a)}}}function b9(t,e,r){let{value:n}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:c}=e,{onValueChange:u}=e;function s(h){r(0,n=h)}function l(){n=Oi(this.value),r(0,n)}let f=()=>u(n);function m(){n=Oi(this.value),r(0,n)}let p=()=>u(n);return t.$$set=h=>{"value"in h&&r(0,n=h.value),"minValue"in h&&r(1,i=h.minValue),"maxValue"in h&&r(2,a=h.maxValue),"stepSize"in h&&r(3,o=h.stepSize),"addLabels"in h&&r(4,c=h.addLabels),"onValueChange"in h&&r(5,u=h.onValueChange)},[n,i,a,o,c,u,s,l,f,m,p]}var Qd=class extends Ie{constructor(e){super(),Oe(this,e,b9,y9,Be,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},PF=Qd;var ef=class extends St{constructor(r){var n,i,a,o,c,u;super(r);if(this.minValue=(i=(n=this.renderChild.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.renderChild.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(c=this.renderChild.getArgument("stepSize"))==null?void 0:c.value)!=null?u:1,this.minValue>=this.maxValue)throw new rr({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(r){return Ul(vs(r),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return PF}rawReverseMapValue(r){return r}rawMapValue(r){return r}getMountArgs(){var r;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((r=this.renderChild.getArgument("addLabels"))==null?void 0:r.value)===!0}}};function x9(t){let e,r,n;return{c(){e=X("textarea"),U(e,"tabindex","0"),U(e,"placeholder",t[1]),U(e,"maxlength",t[2])},m(i,a){ne(i,e,a),Et(e,t[0]),r||(n=[Ae(e,"input",t[5]),Ae(e,"input",t[6])],r=!0)},p(i,[a]){a&2&&U(e,"placeholder",i[1]),a&4&&U(e,"maxlength",i[2]),a&1&&Et(e,i[0])},i:Te,o:Te,d(i){i&&re(e),r=!1,$e(n)}}}function D9(t,e,r){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function c(l){r(0,n=l)}function u(){n=this.value,r(0,n)}let s=()=>o(n);return t.$$set=l=>{"value"in l&&r(0,n=l.value),"placeholder"in l&&r(1,i=l.placeholder),"limit"in l&&r(2,a=l.limit),"onValueChange"in l&&r(3,o=l.onValueChange)},[n,i,a,o,c,u,s]}var Kd=class extends Ie{constructor(e){super(),Oe(this,e,D9,x9,Be,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},LF=Kd;var _u=class extends St{constructor(e){super(e)}filterValue(e){return Ba(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return LF}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,r,n;return{placeholder:(r=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?r:"Text",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function qF(t,e,r){let n=t.slice();return n[8]=e[r],n}function VF(t){let e,r=t[8].name+"",n,i,a,o;function c(){return t[6](t[8])}function u(...s){return t[7](t[8],...s)}return{c(){e=X("div"),n=Ve(r),i=De(),U(e,"class","mb-select-input-element"),U(e,"role","button"),U(e,"tabindex","0"),ut(e,"is-selected",t[8].value===t[0])},m(s,l){ne(s,e,l),G(e,n),G(e,i),a||(o=[Ae(e,"click",c),Ae(e,"keypress",u)],a=!0)},p(s,l){t=s,l&2&&r!==(r=t[8].name+"")&&Ke(n,r),l&3&&ut(e,"is-selected",t[8].value===t[0])},d(s){s&&re(e),a=!1,$e(o)}}}function w9(t){let e,r=tt(t[1]),n=[];for(let i=0;i<r.length;i+=1)n[i]=VF(qF(t,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=cr()},m(i,a){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,a);ne(i,e,a)},p(i,[a]){if(a&15){r=tt(i[1]);let o;for(o=0;o<r.length;o+=1){let c=qF(i,r,o);n[o]?n[o].p(c,a):(n[o]=VF(c),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:Te,o:Te,d(i){i&&re(e),Ft(n,i)}}}function E9(t,e,r){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){r(0,n=f)}function c(f){r(0,n=f),a(n)}function u(f,m){f.key===" "&&c(m)}let s=f=>c(f.value),l=(f,m)=>u(m,f.value);return t.$$set=f=>{"value"in f&&r(0,n=f.value),"options"in f&&r(1,i=f.options),"onValueChange"in f&&r(4,a=f.onValueChange)},[n,i,c,u,a,o,s,l]}var $d=class extends Ie{constructor(e){super(),Oe(this,e,E9,w9,Be,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},UF=$d;var tf=class extends St{constructor(r){super(r);this.options=this.renderChild.getArguments("option")}filterValue(r){return Oa(r)}getFallbackDefaultValue(){return null}getSvelteComponent(){return UF}rawMapValue(r){return r}rawReverseMapValue(r){return r}getMountArgs(){return{options:this.options}}};function zF(t,e,r){let n=t.slice();return n[8]=e[r],n}function WF(t){let e,r=t[8].name+"",n,i,a,o;function c(){return t[6](t[8])}function u(...s){return t[7](t[8],...s)}return{c(){e=X("div"),n=Ve(r),i=De(),U(e,"class","mb-select-input-element"),U(e,"role","button"),U(e,"tabindex","0"),ut(e,"is-selected",t[0].includes(t[8].value))},m(s,l){ne(s,e,l),G(e,n),G(e,i),a||(o=[Ae(e,"click",c),Ae(e,"keypress",u)],a=!0)},p(s,l){t=s,l&2&&r!==(r=t[8].name+"")&&Ke(n,r),l&3&&ut(e,"is-selected",t[0].includes(t[8].value))},d(s){s&&re(e),a=!1,$e(o)}}}function C9(t){let e,r=tt(t[1]),n=[];for(let i=0;i<r.length;i+=1)n[i]=WF(zF(t,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=cr()},m(i,a){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,a);ne(i,e,a)},p(i,[a]){if(a&15){r=tt(i[1]);let o;for(o=0;o<r.length;o+=1){let c=zF(i,r,o);n[o]?n[o].p(c,a):(n[o]=WF(c),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:Te,o:Te,d(i){i&&re(e),Ft(n,i)}}}function F9(t,e,r){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){r(0,n=f)}function c(f){n.includes(f)?r(0,n=n.filter(m=>m!==f)):(n.push(f),r(0,n)),a(n)}function u(f,m){f.key===" "&&c(m)}let s=f=>c(f.value),l=(f,m)=>u(m,f.value);return t.$$set=f=>{"value"in f&&r(0,n=f.value),"options"in f&&r(1,i=f.options),"onValueChange"in f&&r(4,a=f.onValueChange)},[n,i,c,u,a,o,s,l]}var eh=class extends Ie{constructor(e){super(),Oe(this,e,F9,C9,Be,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},HF=eh;var Mu=class extends St{constructor(r){super(r);this.options=this.renderChild.getArguments("option")}filterValue(r){return Wi(r)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return HF}rawMapValue(r){return r}rawReverseMapValue(r){return r}getMountArgs(){return{options:this.options}}};function S9(t){tr(t,"svelte-f2wb67",".date-picker-input.svelte-f2wb67{background:var(--background-modifier-form-field);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;position:relative;color:var(--text-normal);display:inline-flex;align-items:center;gap:5px;font-size:var(--font-ui-small)}.date-picker-text.svelte-f2wb67{display:inline-block}")}function A9(t){let e,r,n=(t[0]?t[0].format(t[1]):"none")+"",i,a,o,c,u,s;return o=new Gr({props:{iconName:"calendar"}}),{c(){e=X("div"),r=X("span"),i=Ve(n),a=De(),Qe(o.$$.fragment),U(r,"class","date-picker-text svelte-f2wb67"),U(e,"class","date-picker-input svelte-f2wb67"),U(e,"role","button"),U(e,"tabindex","0")},m(l,f){ne(l,e,f),G(e,r),G(r,i),G(e,a),Je(o,e,null),c=!0,u||(s=[Ae(e,"click",t[2]),Ae(e,"keydown",t[3])],u=!0)},p(l,[f]){(!c||f&3)&&n!==(n=(l[0]?l[0].format(l[1]):"none")+"")&&Ke(i,n)},i(l){c||(ve(o.$$.fragment,l),c=!0)},o(l){we(o.$$.fragment,l),c=!1},d(l){l&&re(e),Xe(o),u=!1,$e(s)}}}function N9(t,e,r){let{value:n}=e,{dateFormat:i}=e,{showDatePicker:a}=e,{onValueChange:o}=e;function c(l){r(0,n=l)}function u(l){a()}function s(l){l.key===" "&&a()}return t.$$set=l=>{"value"in l&&r(0,n=l.value),"dateFormat"in l&&r(1,i=l.dateFormat),"showDatePicker"in l&&r(4,a=l.showDatePicker),"onValueChange"in l&&r(5,o=l.onValueChange)},[n,i,u,s,a,o,c]}var th=class extends Ie{constructor(e){super(),Oe(this,e,N9,A9,Be,{value:0,dateFormat:1,showDatePicker:4,onValueChange:5,setValue:6},S9)}get setValue(){return this.$$.ctx[6]}},GF=th;var rS=require("obsidian");var jF=require("obsidian");var rh=so[1];function ZF(t){rh=t}function nh(t){return Cw[t]}function YF(t,e){let r=(0,jF.moment)(new Date(e,t)).daysInMonth(),n=new Array(42).fill(0),i=_9(new Date(e,t,1));for(let a=0;a<r;a++)n[a+i]=a+1;return n=n[n.length-7]?n:n.slice(0,-7),n=n[n.length-7]?n:n.slice(0,-7),n}function _9(t){return Gp(t.getDay()-rh.index,7)}function JF(){return so.map(e=>({index:Gp(e.index-rh.index,7),name:e.name,shortName:e.shortName})).sort((e,r)=>e.index-r.index).map(e=>e.shortName)}function XF(){let t=0;return()=>++t}var $F=require("obsidian");function M9(t){tr(t,"svelte-12l82wb",".calendar.svelte-12l82wb{margin-top:10px}.calendar-header.svelte-12l82wb{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1)}.calendar-content.svelte-12l82wb{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-12l82wb{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-12l82wb{cursor:pointer}.cell-text.svelte-12l82wb{margin:auto;text-align:center}.selected.svelte-12l82wb{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-12l82wb:hover{background:var(--interactive-hover)}.selected.highlight.svelte-12l82wb:hover{background:var(--interactive-accent-hover)}")}function QF(t,e,r){let n=t.slice();return n[10]=e[r],n}function T9(t,e,r){let n=t.slice();return n[13]=e[r],n}function I9(t){let e,r,n;return{c(){e=X("div"),r=X("span"),r.textContent=`${t[13]}`,n=De(),U(r,"class","cell-text svelte-12l82wb"),U(e,"class","cell header-cell svelte-12l82wb")},m(i,a){ne(i,e,a),G(e,r),G(e,n)},p:Te,d(i){i&&re(e)}}}function KF(t,e){let r,n,i=(e[10]||"")+"",a,o,c,u;function s(){return e[6](e[10])}function l(...f){return e[7](e[10],...f)}return{key:t,first:null,c(){var f,m,p;r=X("div"),n=X("span"),a=Ve(i),o=De(),U(n,"class","cell-text svelte-12l82wb"),U(r,"class","cell svelte-12l82wb"),U(r,"role","button"),U(r,"tabindex","0"),ut(r,"highlight",e[10]),ut(r,"content-cell",e[10]),ut(r,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((m=e[0])==null?void 0:m.month())===e[1]&&((p=e[0])==null?void 0:p.date())===e[10]),this.first=r},m(f,m){ne(f,r,m),G(r,n),G(n,a),G(r,o),c||(u=[Ae(r,"click",s),Ae(r,"keydown",l)],c=!0)},p(f,m){var p,h,d;e=f,m&8&&i!==(i=(e[10]||"")+"")&&Ke(a,i),m&8&&ut(r,"highlight",e[10]),m&8&&ut(r,"content-cell",e[10]),m&15&&ut(r,"selected",((p=e[0])==null?void 0:p.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&re(r),c=!1,$e(u)}}}function B9(t){let e,r,n,i,a=[],o=new Map,c=tt(JF()),u=[];for(let f=0;f<c.length;f+=1)u[f]=I9(T9(t,c,f));let s=tt(t[3]),l=f=>XF();for(let f=0;f<s.length;f+=1){let m=QF(t,s,f),p=l(m);o.set(p,a[f]=KF(p,m))}return{c(){e=X("div"),r=X("div");for(let f=0;f<u.length;f+=1)u[f].c();n=De(),i=X("div");for(let f=0;f<a.length;f+=1)a[f].c();U(r,"class","calendar-header svelte-12l82wb"),U(i,"class","calendar-content svelte-12l82wb"),U(e,"class","calendar svelte-12l82wb")},m(f,m){ne(f,e,m),G(e,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null);G(e,n),G(e,i);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(i,null)},p(f,[m]){m&63&&(s=tt(f[3]),a=Ml(a,m,l,1,f,s,o,i,kw,KF,null,QF))},i:Te,o:Te,d(f){f&&re(e),Ft(u,f);for(let m=0;m<a.length;m+=1)a[m].d()}}}function O9(t,e,r){let n=Pr(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,c;function u(p){n("dateChange",(0,$F.moment)(new Date(o,a,p)))}function s(p){p&&u(p)}function l(p,h){p.key===" "&&s(h)}let f=p=>s(p),m=(p,h)=>l(h,p);return t.$$set=p=>{"selectedDate"in p&&r(0,i=p.selectedDate),"month"in p&&r(1,a=p.month),"year"in p&&r(2,o=p.year)},t.$$.update=()=>{t.$$.dirty&6&&r(3,c=YF(a,o))},[i,a,o,c,s,l,f,m]}var ih=class extends Ie{constructor(e){super(),Oe(this,e,O9,B9,Be,{selectedDate:0,month:1,year:2},M9)}},eS=ih;var ah=require("obsidian");function k9(t){tr(t,"svelte-berpp6",".date-picker.svelte-berpp6{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-berpp6{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-berpp6{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-berpp6{height:min-content}.month-switch-button.svelte-berpp6{margin:0}.date-picker-footer.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-berpp6{margin:0}")}function R9(t){let e,r,n,i,a,o,c=nh(t[1])+"",u,s,l,f,m,p,h,d,g,v,C,y,D,b;return d=new eS({props:{month:t[1],year:t[2],selectedDate:t[0]}}),d.$on("dateChange",t[6]),{c(){e=X("div"),r=X("div"),n=X("button"),n.textContent="Prev",i=De(),a=X("div"),o=X("span"),u=Ve(c),s=De(),l=X("input"),m=De(),p=X("button"),p.textContent="Next",h=De(),Qe(d.$$.fragment),g=De(),v=X("div"),C=X("button"),C.textContent="Set no Date",U(n,"class","month-switch-button svelte-berpp6"),U(o,"class","date-picker-header-text-month svelte-berpp6"),U(l,"class","date-picker-header-text-year svelte-berpp6"),U(l,"type","number"),l.value=f=t[2].toString(),U(a,"class","date-picker-header-text svelte-berpp6"),U(p,"class","month-switch-button svelte-berpp6"),U(r,"class","date-picker-header svelte-berpp6"),U(C,"class","none-button svelte-berpp6"),U(v,"class","date-picker-footer svelte-berpp6"),U(e,"class","date-picker svelte-berpp6")},m(x,w){ne(x,e,w),G(e,r),G(r,n),G(r,i),G(r,a),G(a,o),G(o,u),G(a,s),G(a,l),G(r,m),G(r,p),G(e,h),Je(d,e,null),G(e,g),G(e,v),G(v,C),y=!0,D||(b=[Ae(n,"click",t[4]),Ae(l,"input",t[5]),Ae(p,"click",t[3]),Ae(C,"click",t[7])],D=!0)},p(x,[w]){(!y||w&2)&&c!==(c=nh(x[1])+"")&&Ke(u,c),(!y||w&4&&f!==(f=x[2].toString())&&l.value!==f)&&(l.value=f);let S={};w&2&&(S.month=x[1]),w&4&&(S.year=x[2]),w&1&&(S.selectedDate=x[0]),d.$set(S)},i(x){y||(ve(d.$$.fragment,x),y=!0)},o(x){we(d.$$.fragment,x),y=!1},d(x){x&&re(e),Xe(d),D=!1,$e(b)}}}function P9(t,e,r){let{selectedDate:n=(0,ah.moment)()}=e,{dateChangeCallback:i}=e,a,o;function c(){if(a===11){r(1,a=0),r(2,o+=1);return}r(1,a=a+1)}function u(){if(a===0){r(1,a=11),r(2,o-=1);return}r(1,a-=1)}function s(m){let p=m.target.value,h=Number.parseInt(p);Number.isNaN(h)||r(2,o=h)}function l(m){r(0,n=m.detail),i(m.detail)}function f(){r(0,n=null),i(null)}return t.$$set=m=>{"selectedDate"in m&&r(0,n=m.selectedDate),"dateChangeCallback"in m&&r(8,i=m.dateChangeCallback)},t.$$.update=()=>{if(t.$$.dirty&1)if(n)r(1,a=n.month()),r(2,o=n.year());else{let m=(0,ah.moment)();r(1,a=m.month()),r(2,o=m.year())}},[n,a,o,c,u,s,l,f,i]}var oh=class extends Ie{constructor(e){super(),Oe(this,e,P9,R9,Be,{selectedDate:0,dateChangeCallback:8},k9)}},tS=oh;var rf=class extends rS.Modal{constructor(r,n){super(r);this.datePicker=n}onOpen(){this.datePickerInput=new tS({target:this.contentEl,props:{selectedDate:this.datePicker.getInternalValue(),dateChangeCallback:r=>{this.datePicker.setInternalValue(r),this.close()}}})}onClose(){var r;(r=this.datePickerInput)==null||r.$destroy()}};var Tu=class extends St{constructor(r){super(r);this.options=this.renderChild.getArguments("option")}filterValue(r){if(r===null)return null;if(r===void 0||typeof r!="string")return;let n=nn.parse(r);if(n.isValid())return nn.stringify(n)}getFallbackDefaultValue(){return nn.getDefaultDate()}getSvelteComponent(){return GF}rawMapValue(r){return r===null?null:nn.stringify(r)}rawReverseMapValue(r){if(r===null)return null;let n=nn.parse(r);if(n.isValid())return n}getMountArgs(){return{dateFormat:this.renderChild.plugin.settings.preferredDateFormat,showDatePicker:()=>{new rf(this.renderChild.plugin.app,this).open()}}}};function L9(t){let e,r,n;return{c(){e=X("input"),U(e,"type","number"),U(e,"tabindex","0"),U(e,"placeholder",t[1])},m(i,a){ne(i,e,a),Et(e,t[0]),r||(n=[Ae(e,"input",t[4]),Ae(e,"input",t[5])],r=!0)},p(i,[a]){a&2&&U(e,"placeholder",i[1]),a&1&&Oi(e.value)!==i[0]&&Et(e,i[0])},i:Te,o:Te,d(i){i&&re(e),r=!1,$e(n)}}}function q9(t,e,r){let{value:n}=e,{placeholder:i}=e,{onValueChange:a}=e;function o(s){r(0,n=s)}function c(){n=Oi(this.value),r(0,n)}let u=()=>a(n);return t.$$set=s=>{"value"in s&&r(0,n=s.value),"placeholder"in s&&r(1,i=s.placeholder),"onValueChange"in s&&r(2,a=s.onValueChange)},[n,i,a,o,c,u]}var sh=class extends Ie{constructor(e){super(),Oe(this,e,q9,L9,Be,{value:0,placeholder:1,onValueChange:2,setValue:3})}get setValue(){return this.$$.ctx[3]}},nS=sh;var nf=class extends St{constructor(e){super(e)}filterValue(e){return vs(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return nS}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.renderChild.getArgument("placeholder"))!=null?e:"Number"}}};function V9(t){let e,r;return{c(){e=X("a"),r=Ve(t[1]),U(e,"data-href",t[1]),U(e,"href",t[1]),U(e,"class","internal-link"),U(e,"target","_blank"),U(e,"rel","noopener")},m(n,i){ne(n,e,i),G(e,r)},p(n,i){i&2&&Ke(r,n[1]),i&2&&U(e,"data-href",n[1]),i&2&&U(e,"href",n[1])},d(n){n&&re(e)}}}function U9(t){let e,r=t[0].alias+"",n;return{c(){e=X("a"),n=Ve(r),U(e,"data-href",t[1]),U(e,"href",t[1]),U(e,"class","internal-link"),U(e,"target","_blank"),U(e,"rel","noopener"),U(e,"aria-label",t[1])},m(i,a){ne(i,e,a),G(e,n)},p(i,a){a&1&&r!==(r=i[0].alias+"")&&Ke(n,r),a&2&&U(e,"data-href",i[1]),a&2&&U(e,"href",i[1]),a&2&&U(e,"aria-label",i[1])},d(i){i&&re(e)}}}function z9(t){let e;function r(a,o){return a[0].alias?U9:V9}let n=r(t,-1),i=n(t);return{c(){i.c(),e=cr()},m(a,o){i.m(a,o),ne(a,e,o)},p(a,[o]){n===(n=r(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Te,o:Te,d(a){a&&re(e),i.d(a)}}}function W9(t,e,r){let n,{mdLink:i}=e;return t.$$set=a=>{"mdLink"in a&&r(0,i=a.mdLink)},t.$$.update=()=>{t.$$.dirty&1&&r(1,n=i.block?`${i.target}#${i.block}`:i.target)},[i,n]}var uh=class extends Ie{constructor(e){super(),Oe(this,e,W9,z9,Be,{mdLink:0})}},ka=uh;var wo=class{constructor(e,r){if(zl(e))throw new vr({errorLevel:"ERROR",effect:"failed to create enclosing pair",cause:"opening string must not be empty"});this.openingEqualsClosing=zl(r)||e===r,this.openingEqualsClosing?(this._openingString=e,this._closingString=e):(this._openingString=e,this._closingString=r)}get openingString(){return this._openingString}get closingString(){return this.openingEqualsClosing?this._openingString:this._closingString}overlaps(e){return fu(this.openingString,e.openingString)||fu(this.openingString,e.closingString)||fu(this.closingString,e.openingString)||fu(this.closingString,e.closingString)}equals(e){return zl(e)?!1:this.openingString===e.openingString&&this.closingString===e.closingString}toString(){return JSON.stringify(this)}},Eo=class t{static split(e,r,n){if(!e)throw new vr({errorLevel:"ERROR",effect:"failed to split string",cause:"string must not be empty"});if(!r)throw new vr({errorLevel:"ERROR",effect:"failed to split string",cause:"separator must not be empty"});let i="",a=[];if(n){let o=t.numberOfOccurrences(e,n.openingString),c=t.numberOfOccurrences(e,n.closingString),u=0;e:for(let s=0;s<e.length;s++)if(u===0&&t.isStringAt(e,r,s)?(a.push(i),i="",s+=r.length-1):i+=e[s],n.openingEqualsClosing){if(t.isStringAt(e,n.openingString,s)){if(!(u%2===0&&o===1))if(u%2===0){u+=1;for(let l=1;l<n.openingString.length;l++)if(s+=1,i+=e[s],s>=e.length)break e}else{u-=1;for(let l=1;l<n.closingString.length;l++)if(s+=1,i+=e[s],s>=e.length)break e}o-=1}}else if(t.isStringAt(e,n.openingString,s)){if(o<=c){u+=1;for(let l=1;l<n.openingString.length;l++)if(s+=1,i+=e[s],s>=e.length)break e}o-=1}else if(t.isStringAt(e,n.closingString,s)){if(u>0){u-=1;for(let l=1;l<n.closingString.length;l++)if(s+=1,i+=e[s],s>=e.length)break e}c-=1}}else for(let o=0;o<e.length;o++)t.isStringAt(e,r,o)?(a.push(i),i="",o+=r.length-1):i+=e[o];return a.push(i),a}static removeInBetween(e,r){if(!e)throw new vr({errorLevel:"ERROR",effect:"failed remove in between in string",cause:"string must not be empty"});let n=t.numberOfOccurrences(e,r.openingString),i=t.numberOfOccurrences(e,r.closingString),a=0,o="";for(let c=0;c<e.length;c++){if(r.openingEqualsClosing){if(t.isStringAt(e,r.openingString,c)){if(!(a%2===0&&n===1)){if(a%2===0){if(a+=1,c+=r.openingString.length,c>=e.length)break}else if(a-=1,c+=r.closingString.length,c>=e.length)break}n-=1}}else if(t.isStringAt(e,r.openingString,c)){if(n<=i&&(a+=1,c+=r.openingString.length,c>=e.length))break;n-=1}else if(t.isStringAt(e,r.closingString,c)){if(a>0&&(a-=1,c+=r.closingString.length,c>=e.length))break;i-=1}a===0&&(o+=e[c])}return o}static getInBetween(e,r){if(!e)throw new vr({errorLevel:"ERROR",effect:"failed to get in between in string",cause:"string must not be empty"});let n=t.numberOfOccurrences(e,r.openingString),i=t.numberOfOccurrences(e,r.closingString),a=0,o="",c=[];e:for(let u=0;u<e.length;u++)if(r.openingEqualsClosing)if(t.isStringAt(e,r.openingString,u)){if(!(a%2===0&&n===1))if(a%2===0){a+=1,o+=e[u];for(let s=1;s<r.openingString.length;s++)if(u+=1,o+=e[u],u>=e.length)break e}else{a-=1,o+=e[u];for(let s=1;s<r.closingString.length;s++)if(u+=1,o+=e[u],u>e.length)break e;c.push(o),o=""}n-=1}else a>=1&&(o+=e[u]);else if(t.isStringAt(e,r.openingString,u)){if(n<=i){a+=1,o+=e[u];for(let s=1;s<r.openingString.length;s++)if(u+=1,o+=e[u],u>=e.length)break e}n-=1}else if(t.isStringAt(e,r.closingString,u)){if(a>0){a-=1,o+=e[u];for(let s=1;s<r.closingString.length;s++)if(u+=1,o+=e[u],u>e.length)break e;a===0&&(c.push(o),o="")}i-=1}else a>=1&&(o+=e[u]);return c.length===0?"":c.length===1?c[0].substring(r.openingString.length,c[0].length-r.closingString.length):c.map(u=>u.substring(r.openingString.length,u.length-r.closingString.length))}static isStringAt(e,r,n){if(n<0)throw new vr({errorLevel:"ERROR",effect:"failed to check is string is at index",cause:"index must be greater than 0"});if(n>=e.length)throw new vr({errorLevel:"ERROR",effect:"failed to check is string is at index",cause:"index out of bounds of string"});if(!e)throw new vr({errorLevel:"ERROR",effect:"failed to check is string is at index",cause:"string must not be empty"});if(!r)throw new vr({errorLevel:"ERROR",effect:"failed to check is string is at index",cause:"sub string must not be empty"});for(let i=0;i<r.length;i++)if(e[i+n]!==r[i])return!1;return!0}static contains(e,r){return t.numberOfOccurrences(e,r)>0}static numberOfOccurrences(e,r){if(!e)throw new vr({errorLevel:"ERROR",effect:"failed count number of occurrences",cause:"string must not be empty"});if(!r)throw new vr({errorLevel:"ERROR",effect:"failed count number of occurrences",cause:"sub string must not be empty"});let n=0;for(let i=0;i<e.length;i++)t.isStringAt(e,r,i)&&(n+=1);return n}};function Ei(t){if(!t)throw new rn({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link is empty"});let e={};e.isEmbed=t.startsWith("!");let r=Eo.getInBetween(t,new wo("[[","]]"));if(!r)throw new rn({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link is empty"});if(typeof r!="string")throw new rn({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link format is invalid"});let n=r.split("|");if(n.length===2)e.alias=n[1];else if(n.length>2)throw new rn({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link may only contain a maximum of one '|'"});let i=n[0].split("#");if(i.length===1)e.target=i[0];else if(i.length===2)e.target=i[0],e.block=i[1];else throw new rn({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link target may only contain a maximum of one '#'"});return e}function Ra(t){return(t.startsWith("![[")||t.startsWith("[["))&&t.endsWith("]]")}function H9(t){let e,r;return{c(){e=X("span"),r=Ve(t[1])},m(n,i){ne(n,e,i),G(e,r)},p(n,i){i&2&&Ke(r,n[1])},i:Te,o:Te,d(n){n&&re(e)}}}function G9(t){let e,r,n;function i(o){t[9](o)}let a={};return t[0]!==void 0&&(a.mdLink=t[0]),e=new ka({props:a}),kt.push(()=>tn(e,"mdLink",i)),{c(){Qe(e.$$.fragment)},m(o,c){Je(e,o,c),n=!0},p(o,c){let u={};!r&&c&1&&(r=!0,u.mdLink=o[0],en(()=>r=!1)),e.$set(u)},i(o){n||(ve(e.$$.fragment,o),n=!0)},o(o){we(e.$$.fragment,o),n=!1},d(o){Xe(e,o)}}}function j9(t){let e,r,n,i,a,o,c,u,s,l=[G9,H9],f=[];function m(p,h){return p[2]?0:1}return n=m(t,-1),i=f[n]=l[n](t),o=new Gr({props:{iconName:"list"}}),{c(){e=X("div"),r=X("div"),i.c(),a=De(),Qe(o.$$.fragment),U(r,"class","mb-suggest-text"),U(e,"class","mb-suggest-input"),U(e,"role","button"),U(e,"tabindex","0")},m(p,h){ne(p,e,h),G(e,r),f[n].m(r,null),G(e,a),Je(o,e,null),c=!0,u||(s=[Ae(e,"click",t[3]),Ae(e,"keydown",t[4])],u=!0)},p(p,[h]){let d=n;n=m(p,h),n===d?f[n].p(p,h):(Rt(),we(f[d],1,1,()=>{f[d]=null}),Pt(),i=f[n],i?i.p(p,h):(i=f[n]=l[n](p),i.c()),ve(i,1),i.m(r,null))},i(p){c||(ve(i),ve(o.$$.fragment,p),c=!0)},o(p){we(i),we(o.$$.fragment,p),c=!1},d(p){p&&re(e),f[n].d(),Xe(o),u=!1,$e(s)}}}function Z9(t,e,r){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e,o,c,u=!1;$r(()=>{s(n)});function s(p){var h;let d=(h=p==null?void 0:p.toString())!==null&&h!==void 0?h:"null";if(r(2,u=Ra(d)),u)try{r(0,o=Ei(d))}catch(g){console.warn(g)}else r(1,c=d)}function l(p){p.target instanceof HTMLAnchorElement||i()}function f(p){p.key===" "&&i()}function m(p){o=p,r(0,o)}return t.$$set=p=>{"value"in p&&r(5,n=p.value),"showSuggester"in p&&r(6,i=p.showSuggester),"onValueChange"in p&&r(7,a=p.onValueChange)},[o,c,u,l,f,n,i,a,s,m]}var lh=class extends Ie{constructor(e){super(),Oe(this,e,Z9,j9,Be,{value:5,showSuggester:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},iS=lh;var oS=xr(Hd()),sS=require("obsidian");var aS=require("obsidian"),af=class extends aS.FuzzySuggestModal{constructor(r,n,i){super(r);this.options=n,this.onSelect=i}getItemText(r){return r.displayValue}getItems(){return this.options}onChooseItem(r,n){this.onSelect(r)}};var Pa=class{constructor(e,r){this.value=e,this.displayValue=r}valueAsString(){var e,r;return(r=(e=this.value)==null?void 0:e.toString())!=null?r:"null"}};function Y9(t,e,r,n,i){let a=[];for(let o of r)a.push(new Pa(o.value,o.name));if(n.length>0){if(!t)return new sS.Notice("meta-bind | dataview needs to be installed and enabled to use suggest option queries"),a;for(let o of n)t.pages(o.value,e).forEach(u=>{try{let s=u.file;i?a.push(new Pa(`[[${s.path}|${s.name}]]`,`file-link: ${s.name}`)):a.push(new Pa(s.name,`file: ${s.name}`))}catch(s){console.warn("meta-bind | error while computing suggest options",s)}})}return a}function J9(t){let e=t.renderChild.plugin.app,r=(0,oS.getAPI)(e),n=t.renderChild.getArguments("option"),i=t.renderChild.getArguments("optionQuery"),a=t.renderChild.getArgument("useLinks");return Y9(r,t.renderChild.filePath,n,i,a===void 0||a.value)}function bs(t,e){new af(t.renderChild.plugin.app,J9(t),e).open()}var of=class extends St{constructor(e){super(e)}filterValue(e){return Oa(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return iS}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){bs(this,e=>this.setInternalValue(e.value))}};function X9(t){tr(t,"svelte-1aj1f3m",".editor-input.svelte-1aj1f3m.svelte-1aj1f3m{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0}.editor-input.svelte-1aj1f3m>textarea.svelte-1aj1f3m{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none}.editor-input.svelte-1aj1f3m>div.svelte-1aj1f3m{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function Q9(t){let e,r,n,i,a,o;return{c(){e=X("div"),r=X("textarea"),n=De(),i=X("div"),U(r,"class","svelte-1aj1f3m"),U(i,"class","svelte-1aj1f3m"),U(e,"class","editor-input card svelte-1aj1f3m"),U(e,"role","button"),U(e,"tabindex","0")},m(c,u){ne(c,e,u),G(e,r),t[9](r),Et(r,t[0]),G(e,n),G(e,i),t[13](i),a||(o=[Ae(r,"input",t[10]),Ae(r,"focusout",t[11]),Ae(r,"input",t[12]),Ae(e,"click",t[14]),Ae(e,"keypress",t[15])],a=!0)},p(c,[u]){u&1&&Et(r,c[0])},i:Te,o:Te,d(c){c&&re(e),t[9](null),t[13](null),a=!1,$e(o)}}}function K9(t,e,r){let{value:n}=e,{onValueChange:i}=e,{render:a}=e,o,c;$r(()=>{o.toggleVisibility(!0),c.toggleVisibility(!1),a(o,n)});function u(y){r(0,n=y),a(o,y)}function s(){o.toggleVisibility(!0),c.toggleVisibility(!1),a(o,n)}function l(){console.log("focus in"),o.toggleVisibility(!1),c.toggleVisibility(!0),c.focus()}function f(y){y.key===" "&&l()}function m(y){kt[y?"unshift":"push"](()=>{c=y,r(3,c)})}function p(){n=this.value,r(0,n)}let h=()=>s(),d=()=>i(n);function g(y){kt[y?"unshift":"push"](()=>{o=y,r(2,o)})}let v=()=>l(),C=y=>f(y);return t.$$set=y=>{"value"in y&&r(0,n=y.value),"onValueChange"in y&&r(1,i=y.onValueChange),"render"in y&&r(7,a=y.render)},[n,i,o,c,s,l,f,a,u,m,p,h,d,g,v,C]}var ch=class extends Ie{constructor(e){super(),Oe(this,e,K9,Q9,Be,{value:0,onValueChange:1,render:7,setValue:8},X9)}get setValue(){return this.$$.ctx[8]}},uS=ch;var lS=require("obsidian");var sf=class extends St{constructor(e){super(e)}filterValue(e){return Ia(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return uS}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,r)=>this.renderInElement(e,r)}}renderInElement(e,r){e.empty(),lS.MarkdownRenderer.render(this.renderChild.plugin.app,r,e,this.renderChild.filePath,this.renderChild)}};var{window:Iu}=tu;function $9(t){let e,r,n,i,a,o,c,u,s,l,f,m,p,h;return{c(){e=X("div"),r=X("div"),i=De(),a=X("span"),o=Ve(t[0]),c=De(),u=X("span"),s=Ve(t[1]),l=De(),f=X("span"),m=Ve(t[2]),U(r,"class","mb-progress-bar-progress"),U(r,"style",n=`width: ${t[5](t[0])}%`),U(r,"role","slider"),U(r,"aria-valuemin",t[1]),U(r,"aria-valuemax",t[2]),U(r,"aria-valuenow",t[0]),U(r,"tabindex","0"),U(a,"class","mb-progress-bar-value"),U(u,"class","mb-progress-bar-label-left"),U(f,"class","mb-progress-bar-label-right"),U(e,"class","mb-progress-bar-input"),U(e,"tabindex","0"),U(e,"role","button")},m(d,g){ne(d,e,g),G(e,r),G(e,i),G(e,a),G(a,o),G(e,c),G(e,u),G(u,s),G(e,l),G(e,f),G(f,m),t[14](e),p||(h=[Ae(Iu,"touchmove",t[8],{passive:!1}),Ae(Iu,"touchcancel",t[6]),Ae(Iu,"touchend",t[6]),Ae(Iu,"mousemove",t[8]),Ae(Iu,"mouseup",t[6]),Ae(r,"dragstart",t[13]),Ae(e,"keydown",t[9]),Ae(e,"mousedown",t[7]),Ae(e,"touchstart",t[7])],p=!0)},p(d,[g]){g&1&&n!==(n=`width: ${d[5](d[0])}%`)&&U(r,"style",n),g&2&&U(r,"aria-valuemin",d[1]),g&4&&U(r,"aria-valuemax",d[2]),g&1&&U(r,"aria-valuenow",d[0]),g&1&&Ke(o,d[0]),g&2&&Ke(s,d[1]),g&4&&Ke(m,d[2])},i:Te,o:Te,d(d){d&&re(e),t[14](null),p=!1,$e(h)}}}function eq(t,e){return Number.parseFloat((Math.round(t/e)*e).toFixed(15))}function tq(t,e,r){let{onValueChange:n}=e,{value:i}=e,{minValue:a}=e,{maxValue:o}=e,{stepSize:c}=e,u=!1,s,l=0,f;function m(w){r(0,i=w)}function p(w){r(0,i=w),n(w)}function h(w){return w=lu(w,a,o),Hp(w,a,o,0,100)}function d(){r(3,u=!0)}function g(){r(3,u=!1)}function v(w){d(),C(w)}function C(w){if(!u)return;w.stopPropagation&&w.stopPropagation(),w.preventDefault&&w.preventDefault();let S=w instanceof TouchEvent?w.touches[0].clientX:w.clientX;y(S)}function y(w){let S=s.getBoundingClientRect();w=lu(w,S.left,S.right);let E=Hp(w,S.left,S.right,a,o);E=eq(E,c),p(E)}function D(w){l<50&&(l+=1);let S=Math.ceil(l/5);if(w.key==="ArrowUp"||w.key==="ArrowRight"){let E=lu(i+S,a,o);p(E)}if(w.key==="ArrowDown"||w.key==="ArrowLeft"){let E=lu(i-S,a,o);p(E)}window.clearTimeout(f),f=window.setTimeout(()=>l=1,100)}let b=()=>r(3,u=!0);function x(w){kt[w?"unshift":"push"](()=>{s=w,r(4,s)})}return t.$$set=w=>{"onValueChange"in w&&r(10,n=w.onValueChange),"value"in w&&r(0,i=w.value),"minValue"in w&&r(1,a=w.minValue),"maxValue"in w&&r(2,o=w.maxValue),"stepSize"in w&&r(11,c=w.stepSize)},[i,a,o,u,s,h,g,v,C,D,n,c,m,b,x]}var fh=class extends Ie{constructor(e){super(),Oe(this,e,tq,$9,Be,{onValueChange:10,value:0,minValue:1,maxValue:2,stepSize:11,setValue:12})}get setValue(){return this.$$.ctx[12]}},cS=fh;var uf=class extends St{constructor(r){var n,i,a,o,c,u;super(r);if(this.minValue=(i=(n=this.renderChild.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.renderChild.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(c=this.renderChild.getArgument("stepSize"))==null?void 0:c.value)!=null?u:1,this.minValue>=this.maxValue)throw new rr({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(r){return Ul(vs(r),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return cS}rawReverseMapValue(r){return r}rawMapValue(r){return r}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function fS(t,e,r){let n=t.slice();return n[7]=e[r],n}function mS(t){let e,r=t[7].name+"",n,i;return{c(){e=X("option"),n=Ve(r),e.__value=i=t[7].value,Et(e,e.__value)},m(a,o){ne(a,e,o),G(e,n)},p(a,o){o&2&&r!==(r=a[7].name+"")&&Ke(n,r),o&2&&i!==(i=a[7].value)&&(e.__value=i,Et(e,e.__value))},d(a){a&&re(e)}}}function rq(t){let e,r,n,i=tt(t[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=mS(fS(t,i,o));return{c(){e=X("select");for(let o=0;o<a.length;o+=1)a[o].c();U(e,"class","dropdown"),t[0]===void 0&&pn(()=>t[5].call(e))},m(o,c){ne(o,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);Hr(e,t[0],!0),r||(n=[Ae(e,"change",t[5]),Ae(e,"change",t[6])],r=!0)},p(o,[c]){if(c&2){i=tt(o[1]);let u;for(u=0;u<i.length;u+=1){let s=fS(o,i,u);a[u]?a[u].p(s,c):(a[u]=mS(s),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}c&3&&Hr(e,o[0])},i:Te,o:Te,d(o){o&&re(e),Ft(a,o),r=!1,$e(n)}}}function nq(t,e,r){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(l){r(0,n=l)}function c(){a(n)}function u(){n=ki(this),r(0,n),r(1,i)}let s=()=>c();return t.$$set=l=>{"value"in l&&r(0,n=l.value),"options"in l&&r(1,i=l.options),"onValueChange"in l&&r(3,a=l.onValueChange)},[n,i,c,a,o,u,s]}var mh=class extends Ie{constructor(e){super(),Oe(this,e,nq,rq,Be,{value:0,options:1,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},pS=mh;var lf=class extends St{constructor(r){super(r);this.options=this.renderChild.getArguments("option")}filterValue(r){return Oa(r)}getFallbackDefaultValue(){return null}getSvelteComponent(){return pS}rawMapValue(r){return r}rawReverseMapValue(r){return r}getMountArgs(){return{options:this.options}}};function iq(t){tr(t,"svelte-hrm3dz",".mb-image-suggest-input.svelte-hrm3dz{background:var(--background-secondary);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:var(--size-4-2);width:100%}.mb-image-suggest-image.svelte-hrm3dz{width:100%;height:fit-content;max-height:500px;object-fit:contain}.mb-image-suggest-footer.svelte-hrm3dz{display:flex;flex-direction:row;color:var(--text-normal);align-items:baseline}.mb-image-suggest-footer-text.svelte-hrm3dz{flex:1;margin-left:var(--size-4-2)}")}function dS(t){let e,r;return{c(){e=X("img"),U(e,"class","mb-image-suggest-image svelte-hrm3dz"),Vo(e.src,r=Jo(t[0]))||U(e,"src",r),U(e,"alt",t[0])},m(n,i){ne(n,e,i)},p(n,i){i&1&&!Vo(e.src,r=Jo(n[0]))&&U(e,"src",r),i&1&&U(e,"alt",n[0])},d(n){n&&re(e)}}}function aq(t){let e,r,n,i,a=(t[0]||"no image selected")+"",o,c,u,s,l,f=t[0]&&dS(t);return{c(){e=X("div"),f&&f.c(),r=De(),n=X("div"),i=X("span"),o=Ve(a),c=De(),u=X("button"),u.textContent="Change Image",U(i,"class","mb-image-suggest-footer-text svelte-hrm3dz"),U(u,"class","btn btn-active"),U(n,"class","mb-image-suggest-footer svelte-hrm3dz"),U(e,"class","mb-image-suggest-input svelte-hrm3dz")},m(m,p){ne(m,e,p),f&&f.m(e,null),G(e,r),G(e,n),G(n,i),G(i,o),G(n,c),G(n,u),s||(l=[Ae(u,"click",t[1]),Ae(u,"keydown",t[2])],s=!0)},p(m,[p]){m[0]?f?f.p(m,p):(f=dS(m),f.c(),f.m(e,r)):f&&(f.d(1),f=null),p&1&&a!==(a=(m[0]||"no image selected")+"")&&Ke(o,a)},i:Te,o:Te,d(m){m&&re(e),f&&f.d(),s=!1,$e(l)}}}function oq(t,e,r){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(s){r(0,n=s)}function c(s){i()}function u(s){s.key===" "&&i()}return t.$$set=s=>{"value"in s&&r(0,n=s.value),"showSuggester"in s&&r(3,i=s.showSuggester),"onValueChange"in s&&r(4,a=s.onValueChange)},[n,c,u,i,a,o]}var ph=class extends Ie{constructor(e){super(),Oe(this,e,oq,aq,Be,{value:0,showSuggester:3,onValueChange:4,setValue:5},iq)}get setValue(){return this.$$.ctx[5]}},hS=ph;var Bn=require("obsidian");var DS=require("obsidian");function sq(t){tr(t,"svelte-1m4qg39",".image-card-image.svelte-1m4qg39{width:100%;height:fit-content;max-height:500px;object-fit:contain}.image-card-text.svelte-1m4qg39{display:block;margin:var(--size-4-2);margin-bottom:var(--size-4-4)}")}function uq(t){let e,r,n,i,a,o,c,u;return{c(){e=X("div"),r=X("img"),i=De(),a=X("span"),o=Ve(t[0]),U(r,"class","image-card-image svelte-1m4qg39"),Vo(r.src,n=Jo(t[0]))||U(r,"src",n),U(r,"alt",t[0]),U(a,"class","image-card-text svelte-1m4qg39"),U(e,"class","image-card svelte-1m4qg39"),U(e,"role","button"),U(e,"tabindex","0")},m(s,l){ne(s,e,l),G(e,r),G(e,i),G(e,a),G(a,o),c||(u=[Ae(e,"click",t[3]),Ae(e,"keydown",t[4])],c=!0)},p(s,[l]){l&1&&!Vo(r.src,n=Jo(s[0]))&&U(r,"src",n),l&1&&U(r,"alt",s[0]),l&1&&Ke(o,s[0])},i:Te,o:Te,d(s){s&&re(e),c=!1,$e(u)}}}function lq(t,e,r){let{image:n}=e,{onSelect:i}=e;function a(u,s){u.key===" "&&i(s)}let o=()=>i(n),c=u=>a(u,n);return t.$$set=u=>{"image"in u&&r(0,n=u.image),"onSelect"in u&&r(1,i=u.onSelect)},[n,i,a,o,c]}var dh=class extends Ie{constructor(e){super(),Oe(this,e,lq,uq,Be,{image:0,onSelect:1},sq)}},gS=dh;var bS=require("obsidian");function vS(t,e,r){let n=t.slice();return n[6]=e[r],n}function yS(t){let e,r;return e=new gS({props:{image:t[6].value,onSelect:t[0]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),r=!0},p(n,i){let a={};i&4&&(a.image=n[6].value),i&1&&(a.onSelect=n[0]),e.$set(a)},i(n){r||(ve(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Xe(e,n)}}}function cq(t){let e,r,n,i,a,o;function c(m){t[4](m)}let u={placeholder:"Search Images..."};t[1]!==void 0&&(u.value=t[1]),r=new Ri({props:u}),kt.push(()=>tn(r,"value",c));let s=tt(t[2]),l=[];for(let m=0;m<s.length;m+=1)l[m]=yS(vS(t,s,m));let f=m=>we(l[m],1,1,()=>{l[m]=null});return{c(){e=X("div"),Qe(r.$$.fragment),i=De(),a=X("div");for(let m=0;m<l.length;m+=1)l[m].c();U(e,"class","mb-image-search-container"),U(a,"class","mb-image-card-grid")},m(m,p){ne(m,e,p),Je(r,e,null),ne(m,i,p),ne(m,a,p);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(a,null);o=!0},p(m,[p]){let h={};if(!n&&p&2&&(n=!0,h.value=m[1],en(()=>n=!1)),r.$set(h),p&5){s=tt(m[2]);let d;for(d=0;d<s.length;d+=1){let g=vS(m,s,d);l[d]?(l[d].p(g,p),ve(l[d],1)):(l[d]=yS(g),l[d].c(),ve(l[d],1),l[d].m(a,null))}for(Rt(),d=s.length;d<l.length;d+=1)f(d);Pt()}},i(m){if(!o){ve(r.$$.fragment,m);for(let p=0;p<s.length;p+=1)ve(l[p]);o=!0}},o(m){we(r.$$.fragment,m),l=l.filter(Boolean);for(let p=0;p<l.length;p+=1)we(l[p]);o=!1},d(m){m&&(re(e),re(i),re(a)),Xe(r),Ft(l,m)}}}function fq(t,e,r){let{options:n}=e,{onSelect:i}=e,a="",o;function c(s){var l;if(!s){r(2,o=n);return}let f=(0,bS.prepareFuzzySearch)(s),m=[];for(let p of n)((l=f(p.value))===null||l===void 0?void 0:l.score)!==void 0&&m.push(p);r(2,o=m)}function u(s){a=s,r(1,a)}return t.$$set=s=>{"options"in s&&r(3,n=s.options),"onSelect"in s&&r(0,i=s.onSelect)},t.$$.update=()=>{t.$$.dirty&2&&c(a)},[i,a,o,n,u]}var hh=class extends Ie{constructor(e){super(),Oe(this,e,fq,cq,Be,{options:3,onSelect:0})}},xS=hh;var cf=class extends DS.Modal{constructor(r,n,i){super(r);this.options=n,this.onSelect=i}onOpen(){this.modalEl.style.width="100%",new xS({target:this.contentEl,props:{options:this.options,onSelect:r=>{this.onSelect(r),this.close()}}})}};function wS(t){let e=[];for(let r of t.children)r instanceof Bn.TFile&&ES(r.extension)&&e.push(new Pa(r.path,r.name)),r instanceof Bn.TFolder&&e.push(...wS(r));return e}function mq(t,e,r){let n=[];for(let i of e){let a=i.value;if(a.startsWith('"')&&a.endsWith('"'))a=a.substring(1,a.length-1);else{let c=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:"expected suggest option query for image suggester to start and end with double quotation marks"});new Bn.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}let o=r.app.vault.getAbstractFileByPath(a);if(o==null){let c=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${a} for image suggester to exist`});new Bn.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}if(!(o instanceof Bn.TFolder)){let c=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${i.value} for image suggester to be a folder`});new Bn.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}n.push(...wS(o))}for(let i of t){let a=Ic(i.value);if(!a){let c=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} to be truthy`});new Bn.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}let o=r.app.vault.getAbstractFileByPath(a);if(!o){let c=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to exist`});new Bn.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}if(!(o instanceof Bn.TFile)){let c=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be a file`});new Bn.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}if(!ES(o.extension)){let c=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be an image file`});new Bn.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}n.push(new Pa(o.path,o.name))}return n}function ES(t){return["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"].contains(t)}function pq(t){let e=t.renderChild.getArguments("option"),r=t.renderChild.getArguments("optionQuery");return mq(e,r,t.renderChild.plugin)}function CS(t,e){new cf(t.renderChild.plugin.app,pq(t),e).open()}var ff=class extends St{constructor(e){super(e)}filterValue(e){return Ia(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return hS}rawMapValue(e){return e}rawReverseMapValue(e){return Ic(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){CS(this,e=>this.setInternalValue(e))}};function FS(t,e,r){let n=t.slice();return n[11]=e[r],n[13]=r,n}function SS(t){let e;return{c(){e=X("span"),e.textContent="Empty",U(e,"class","mb-list-empty")},m(r,n){ne(r,e,n)},p:Te,d(r){r&&re(e)}}}function dq(t){let e,r;return e=new Gr({props:{iconName:"x"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),r=!0},p:Te,i(n){r||(ve(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Xe(e,n)}}}function AS(t){let e,r,n=t[11]+"",i,a,o,c,u;function s(){return t[8](t[13])}return o=new Dr({props:{$$slots:{default:[dq]},$$scope:{ctx:t}}}),o.$on("click",s),{c(){e=X("div"),r=X("span"),i=Ve(n),a=De(),Qe(o.$$.fragment),c=De(),U(e,"class","mb-list-item")},m(l,f){ne(l,e,f),G(e,r),G(r,i),G(e,a),Je(o,e,null),G(e,c),u=!0},p(l,f){t=l,(!u||f&1)&&n!==(n=t[11]+"")&&Ke(i,n);let m={};f&16384&&(m.$$scope={dirty:f,ctx:t}),o.$set(m)},i(l){u||(ve(o.$$.fragment,l),u=!0)},o(l){we(o.$$.fragment,l),u=!1},d(l){l&&re(e),Xe(o)}}}function NS(t){let e,r=_S(t[0].length,t[1])+"",n,i;return{c(){e=X("span"),n=Ve(r),U(e,"class",i=`mb-content-limit-indicator ${t[0].length>t[1]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){ne(a,e,o),G(e,n)},p(a,o){o&3&&r!==(r=_S(a[0].length,a[1])+"")&&Ke(n,r),o&3&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[1]?"mb-content-limit-indicator-overflow":""}`)&&U(e,"class",i)},d(a){a&&re(e)}}}function hq(t){let e,r;return e=new Gr({props:{iconName:"plus"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),r=!0},p:Te,i(n){r||(ve(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Xe(e,n)}}}function gq(t){let e,r,n,i,a,o,c,u,s,l,f=tt(t[0]),m=[];for(let g=0;g<f.length;g+=1)m[g]=AS(FS(t,f,g));let p=g=>we(m[g],1,1,()=>{m[g]=null}),h=null;f.length||(h=SS(t));let d=t[1]!==void 0&&NS(t);return c=new Dr({props:{disabled:!t[3],$$slots:{default:[hq]},$$scope:{ctx:t}}}),c.$on("click",t[10]),{c(){e=X("div");for(let g=0;g<m.length;g+=1)m[g].c();h&&h.c(),r=De(),n=X("div"),i=X("input"),a=De(),d&&d.c(),o=De(),Qe(c.$$.fragment),U(e,"class","mb-list-items"),U(i,"type","text"),U(i,"tabindex","0"),U(i,"placeholder",t[2]),U(i,"maxlength",t[1]),U(n,"class","mb-list-input")},m(g,v){ne(g,e,v);for(let C=0;C<m.length;C+=1)m[C]&&m[C].m(e,null);h&&h.m(e,null),ne(g,r,v),ne(g,n,v),G(n,i),Et(i,t[3]),G(n,a),d&&d.m(n,null),G(n,o),Je(c,n,null),u=!0,s||(l=Ae(i,"input",t[9]),s=!0)},p(g,[v]){if(v&33){f=tt(g[0]);let y;for(y=0;y<f.length;y+=1){let D=FS(g,f,y);m[y]?(m[y].p(D,v),ve(m[y],1)):(m[y]=AS(D),m[y].c(),ve(m[y],1),m[y].m(e,null))}for(Rt(),y=f.length;y<m.length;y+=1)p(y);Pt(),!f.length&&h?h.p(g,v):f.length?h&&(h.d(1),h=null):(h=SS(g),h.c(),h.m(e,null))}(!u||v&4)&&U(i,"placeholder",g[2]),(!u||v&2)&&U(i,"maxlength",g[1]),v&8&&i.value!==g[3]&&Et(i,g[3]),g[1]!==void 0?d?d.p(g,v):(d=NS(g),d.c(),d.m(n,o)):d&&(d.d(1),d=null);let C={};v&8&&(C.disabled=!g[3]),v&16384&&(C.$$scope={dirty:v,ctx:g}),c.$set(C)},i(g){if(!u){for(let v=0;v<f.length;v+=1)ve(m[v]);ve(c.$$.fragment,g),u=!0}},o(g){m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)we(m[v]);we(c.$$.fragment,g),u=!1},d(g){g&&(re(e),re(r),re(n)),Ft(m,g),h&&h.d(),d&&d.d(),Xe(c),s=!1,l()}}}function _S(t,e){let r=e.toString();return`${t.toString().padStart(r.length,"0")}/${r}`}function vq(t,e,r){let{value:n}=e,{limit:i}=e,{placeholder:a}=e,{onValueChange:o}=e,c="";function u(h){r(0,n=h)}function s(){n.push(c),o(n),r(3,c=""),r(0,n)}function l(h){n.splice(h,1),o(n),r(0,n)}let f=h=>l(h);function m(){c=this.value,r(3,c)}let p=()=>s();return t.$$set=h=>{"value"in h&&r(0,n=h.value),"limit"in h&&r(1,i=h.limit),"placeholder"in h&&r(2,a=h.placeholder),"onValueChange"in h&&r(6,o=h.onValueChange)},[n,i,a,c,s,l,o,u,f,m,p]}var gh=class extends Ie{constructor(e){super(),Oe(this,e,vq,gq,Be,{value:0,limit:1,placeholder:2,onValueChange:6,setValue:7})}get setValue(){return this.$$.ctx[7]}},MS=gh;var mf=class extends St{constructor(e){super(e)}filterValue(e){return Wi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return MS}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,r,n;return{placeholder:(r=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?r:"New Entry...",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function TS(t,e,r){let n=t.slice();return n[9]=e[r],n[11]=r,n}function IS(t){let e;return{c(){e=X("span"),e.textContent="Empty",U(e,"class","mb-list-empty")},m(r,n){ne(r,e,n)},p:Te,d(r){r&&re(e)}}}function yq(t){let e,r=t[9]+"",n;return{c(){e=X("span"),n=Ve(r)},m(i,a){ne(i,e,a),G(e,n)},p(i,a){a&1&&r!==(r=i[9]+"")&&Ke(n,r)},i:Te,o:Te,d(i){i&&re(e)}}}function bq(t){let e,r,n;return r=new ka({props:{mdLink:Ei(`${t[9]}`)}}),{c(){e=X("span"),Qe(r.$$.fragment)},m(i,a){ne(i,e,a),Je(r,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=Ei(`${i[9]}`)),r.$set(o)},i(i){n||(ve(r.$$.fragment,i),n=!0)},o(i){we(r.$$.fragment,i),n=!1},d(i){i&&re(e),Xe(r)}}}function xq(t){let e,r;return e=new Gr({props:{iconName:"x"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),r=!0},p:Te,i(n){r||(ve(e.$$.fragment,n),r=!0)},o(n){we(e.$$.fragment,n),r=!1},d(n){Xe(e,n)}}}function BS(t){let e,r,n,i,a,o,c,u,s=[bq,yq],l=[];function f(p,h){return h&1&&(r=null),r==null&&(r=!!Ra(`${p[9]}`)),r?0:1}n=f(t,-1),i=l[n]=s[n](t);function m(){return t[8](t[11])}return o=new Dr({props:{$$slots:{default:[xq]},$$scope:{ctx:t}}}),o.$on("click",m),{c(){e=X("div"),i.c(),a=De(),Qe(o.$$.fragment),c=De(),U(e,"class","mb-list-item")},m(p,h){ne(p,e,h),l[n].m(e,null),G(e,a),Je(o,e,null),G(e,c),u=!0},p(p,h){t=p;let d=n;n=f(t,h),n===d?l[n].p(t,h):(Rt(),we(l[d],1,1,()=>{l[d]=null}),Pt(),i=l[n],i?i.p(t,h):(i=l[n]=s[n](t),i.c()),ve(i,1),i.m(e,a));let g={};h&4096&&(g.$$scope={dirty:h,ctx:t}),o.$set(g)},i(p){u||(ve(i),ve(o.$$.fragment,p),u=!0)},o(p){we(i),we(o.$$.fragment,p),u=!1},d(p){p&&re(e),l[n].d(),Xe(o)}}}function Dq(t){let e,r,n,i,a,o,c,u,s,l,f=tt(t[0]),m=[];for(let d=0;d<f.length;d+=1)m[d]=BS(TS(t,f,d));let p=d=>we(m[d],1,1,()=>{m[d]=null}),h=null;return f.length||(h=IS(t)),c=new Gr({props:{iconName:"list"}}),{c(){e=X("div");for(let d=0;d<m.length;d+=1)m[d].c();h&&h.c(),r=De(),n=X("div"),i=X("div"),a=X("div"),a.innerHTML="<span>Add Element...</span>",o=De(),Qe(c.$$.fragment),U(e,"class","mb-list-items"),U(a,"class","mb-suggest-text"),U(i,"class","mb-suggest-input"),U(i,"role","button"),U(i,"tabindex","0"),U(n,"class","mb-list-input")},m(d,g){ne(d,e,g);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(e,null);h&&h.m(e,null),ne(d,r,g),ne(d,n,g),G(n,i),G(i,a),G(i,o),Je(c,i,null),u=!0,s||(l=[Ae(i,"click",t[2]),Ae(i,"keydown",t[3])],s=!0)},p(d,[g]){if(g&3){f=tt(d[0]);let v;for(v=0;v<f.length;v+=1){let C=TS(d,f,v);m[v]?(m[v].p(C,g),ve(m[v],1)):(m[v]=BS(C),m[v].c(),ve(m[v],1),m[v].m(e,null))}for(Rt(),v=f.length;v<m.length;v+=1)p(v);Pt(),!f.length&&h?h.p(d,g):f.length?h&&(h.d(1),h=null):(h=IS(d),h.c(),h.m(e,null))}},i(d){if(!u){for(let g=0;g<f.length;g+=1)ve(m[g]);ve(c.$$.fragment,d),u=!0}},o(d){m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)we(m[g]);we(c.$$.fragment,d),u=!1},d(d){d&&(re(e),re(r),re(n)),Ft(m,d),h&&h.d(),Xe(c),s=!1,$e(l)}}}function wq(t,e,r){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(m){r(0,n=m)}function c(m){n.push(m),r(0,n)}function u(m){n.splice(m,1),a(n),r(0,n)}function s(m){m.target instanceof HTMLAnchorElement||i()}function l(m){m.key===" "&&i()}let f=m=>u(m);return t.$$set=m=>{"value"in m&&r(0,n=m.value),"showSuggester"in m&&r(4,i=m.showSuggester),"onValueChange"in m&&r(5,a=m.onValueChange)},[n,u,s,l,i,a,o,c,f]}var vh=class extends Ie{constructor(e){super(),Oe(this,e,wq,Dq,Be,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},OS=vh;var pf=class extends St{constructor(e){super(e)}filterValue(e){return Wi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return OS}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){bs(this,e=>{let r=this.getInternalValue();r.push(e.value),this.setInternalValue(r)})}};function kS(t,e,r){let n=t.slice();return n[26]=e[r][0],n[27]=e[r][1],n}function RS(t,e,r){let n=t.slice();return n[23]=e[r],n}function PS(t,e,r){let n=t.slice();return n[23]=e[r],n}function LS(t,e,r){let n=t.slice();return n[26]=e[r][0],n[27]=e[r][1],n}function Eq(t){let e,r,n,i,a,o=tt(Object.values(t[2])),c=[];for(let l=0;l<o.length;l+=1)c[l]=qS(RS(t,o,l));let u=tt(Object.entries(t[1])),s=[];for(let l=0;l<u.length;l+=1)s[l]=VS(kS(t,u,l));return{c(){e=X("select");for(let l=0;l<c.length;l+=1)c[l].c();r=De(),n=X("select");for(let l=0;l<s.length;l+=1)s[l].c();U(e,"class","dropdown mb-input-element-group-element"),t[5]===void 0&&pn(()=>t[16].call(e)),U(n,"class","dropdown mb-input-element-group-element"),t[4]===void 0&&pn(()=>t[18].call(n))},m(l,f){ne(l,e,f);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);Hr(e,t[5],!0),ne(l,r,f),ne(l,n,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);Hr(n,t[4],!0),i||(a=[Ae(e,"change",t[16]),Ae(e,"change",t[17]),Ae(n,"change",t[18]),Ae(n,"change",t[19])],i=!0)},p(l,f){if(f[0]&4){o=tt(Object.values(l[2]));let m;for(m=0;m<o.length;m+=1){let p=RS(l,o,m);c[m]?c[m].p(p,f):(c[m]=qS(p),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=o.length}if(f[0]&36&&Hr(e,l[5]),f[0]&2){u=tt(Object.entries(l[1]));let m;for(m=0;m<u.length;m+=1){let p=kS(l,u,m);s[m]?s[m].p(p,f):(s[m]=VS(p),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}f[0]&18&&Hr(n,l[4])},d(l){l&&(re(e),re(r),re(n)),Ft(c,l),Ft(s,l),i=!1,$e(a)}}}function Cq(t){let e,r,n,i,a,o=tt(Object.entries(t[1])),c=[];for(let l=0;l<o.length;l+=1)c[l]=US(LS(t,o,l));let u=tt(Object.values(t[2])),s=[];for(let l=0;l<u.length;l+=1)s[l]=zS(PS(t,u,l));return{c(){e=X("select");for(let l=0;l<c.length;l+=1)c[l].c();r=De(),n=X("select");for(let l=0;l<s.length;l+=1)s[l].c();U(e,"class","dropdown mb-input-element-group-element"),t[4]===void 0&&pn(()=>t[12].call(e)),U(n,"class","dropdown mb-input-element-group-element"),t[5]===void 0&&pn(()=>t[14].call(n))},m(l,f){ne(l,e,f);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);Hr(e,t[4],!0),ne(l,r,f),ne(l,n,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);Hr(n,t[5],!0),i||(a=[Ae(e,"change",t[12]),Ae(e,"change",t[13]),Ae(n,"change",t[14]),Ae(n,"change",t[15])],i=!0)},p(l,f){if(f[0]&2){o=tt(Object.entries(l[1]));let m;for(m=0;m<o.length;m+=1){let p=LS(l,o,m);c[m]?c[m].p(p,f):(c[m]=US(p),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=o.length}if(f[0]&18&&Hr(e,l[4]),f[0]&4){u=tt(Object.values(l[2]));let m;for(m=0;m<u.length;m+=1){let p=PS(l,u,m);s[m]?s[m].p(p,f):(s[m]=zS(p),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}f[0]&36&&Hr(n,l[5])},d(l){l&&(re(e),re(r),re(n)),Ft(c,l),Ft(s,l),i=!1,$e(a)}}}function qS(t){let e,r=t[23]+"",n,i;return{c(){e=X("option"),n=Ve(r),e.__value=i=t[23],Et(e,e.__value)},m(a,o){ne(a,e,o),G(e,n)},p(a,o){o[0]&4&&r!==(r=a[23]+"")&&Ke(n,r),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Et(e,e.__value))},d(a){a&&re(e)}}}function VS(t){let e,r=t[27]+"",n,i;return{c(){e=X("option"),n=Ve(r),e.__value=i=t[26],Et(e,e.__value)},m(a,o){ne(a,e,o),G(e,n)},p(a,o){o[0]&2&&r!==(r=a[27]+"")&&Ke(n,r),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Et(e,e.__value))},d(a){a&&re(e)}}}function US(t){let e,r=t[27]+"",n,i;return{c(){e=X("option"),n=Ve(r),e.__value=i=t[26],Et(e,e.__value)},m(a,o){ne(a,e,o),G(e,n)},p(a,o){o[0]&2&&r!==(r=a[27]+"")&&Ke(n,r),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Et(e,e.__value))},d(a){a&&re(e)}}}function zS(t){let e,r=t[23]+"",n,i;return{c(){e=X("option"),n=Ve(r),e.__value=i=t[23],Et(e,e.__value)},m(a,o){ne(a,e,o),G(e,n)},p(a,o){o[0]&4&&r!==(r=a[23]+"")&&Ke(n,r),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Et(e,e.__value))},d(a){a&&re(e)}}}function Fq(t){let e,r,n,i,a;function o(s,l){return s[0]?Cq:Eq}let c=o(t,[-1,-1]),u=c(t);return{c(){e=X("div"),u.c(),r=De(),n=X("input"),U(n,"class","mb-date-input-year-input mb-input-element-group-element"),U(n,"type","number"),U(n,"tabindex","0"),U(n,"max","9999"),U(n,"min","0"),U(e,"class","mb-input-element-group")},m(s,l){ne(s,e,l),u.m(e,null),G(e,r),G(e,n),Et(n,t[3]),i||(a=[Ae(n,"input",t[20]),Ae(n,"input",t[21])],i=!0)},p(s,l){c===(c=o(s,l))&&u?u.p(s,l):(u.d(1),u=c(s),u&&(u.c(),u.m(e,r))),l[0]&8&&Oi(n.value)!==s[3]&&Et(n,s[3])},i:Te,o:Te,d(s){s&&re(e),u.d(),i=!1,$e(a)}}}function Sq(t,e,r){let{value:n}=e,{useUsInputOrder:i}=e,{onValueChange:a}=e,o={},c={},u,s,l;$r(()=>{r(1,o={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"});for(let F=1;F<=31;F++)r(2,c[F.toString()]=F.toString(),c);r(3,u=n.year().toString()),r(4,s=n.month().toString()),r(5,l=n.date().toString())});function f(F){r(9,n=F),r(3,u=n.year().toString()),r(4,s=n.month().toString()),r(5,l=n.date().toString())}function m(){let F=Number.parseInt(u),M=Number.isNaN(F)?nn.getDefaultYear():F;n.year(M),a(n)}function p(){n.month(s);let F=d(n.date());n.date(F),r(5,l=F.toString()),a(n)}function h(){let F=Number.parseInt(l),M=d(F);n.date(M),r(5,l=M.toString()),a(n)}function d(F){return Number.isNaN(F)?nn.getDefaultDay():F<1?1:F>n.daysInMonth()?n.daysInMonth():F}function g(){s=ki(this),r(4,s),r(1,o)}let v=()=>p();function C(){l=ki(this),r(5,l),r(2,c)}let y=()=>h();function D(){l=ki(this),r(5,l),r(2,c)}let b=()=>h();function x(){s=ki(this),r(4,s),r(1,o)}let w=()=>p();function S(){u=Oi(this.value),r(3,u)}let E=()=>m();return t.$$set=F=>{"value"in F&&r(9,n=F.value),"useUsInputOrder"in F&&r(0,i=F.useUsInputOrder),"onValueChange"in F&&r(10,a=F.onValueChange)},[i,o,c,u,s,l,m,p,h,n,a,f,g,v,C,y,D,b,x,w,S,E]}var yh=class extends Ie{constructor(e){super(),Oe(this,e,Sq,Fq,Be,{value:9,useUsInputOrder:0,onValueChange:10,setValue:11},null,[-1,-1])}get setValue(){return this.$$.ctx[11]}},WS=yh;var df=class extends St{constructor(e){super(e)}filterValue(e){return Ba(e)}getFallbackDefaultValue(){return nn.getDefaultDate()}getSvelteComponent(){return WS}rawMapValue(e){return nn.stringify(e)}rawReverseMapValue(e){return nn.parse(e)}getMountArgs(){return{useUsInputOrder:this.renderChild.plugin.settings.useUsDateInputOrder}}};var bh=class{constructor(){this._hour=ii.getDefaultHour(),this._minute=ii.getDefaultHour()}getHour(){return this._hour}setHour(e){if(e<0||e>24){this._hour=ii.getDefaultHour();return}this._hour=e}getMinute(){return this._minute}setMinute(e){if(e<0||e>59){this._minute=ii.getDefaultMinute();return}this._minute=e}getUniformHour(){return this.getHour().toString().padStart(2,"0")}getUniformMinute(){return this.getMinute().toString().padStart(2,"0")}setHourFromString(e){let r=Number.parseInt(e);this.setHour(Number.isNaN(r)?ii.getDefaultHour():r)}setMinuteFromString(e){let r=Number.parseInt(e);this.setMinute(Number.isNaN(r)?ii.getDefaultMinute():r)}},ii=class t{static parse(e){if(!e)return;let r=t.getDefaultTime(),n=e.split(":");if(n.length===2)return r.setHourFromString(n[0]),r.setMinuteFromString(n[1]),r}static stringify(e){return`${e.getUniformHour()}:${e.getUniformMinute()}`}static getDefaultTime(){return new bh}static getDefaultHour(){return 0}static getDefaultMinute(){return 0}};function HS(t,e,r){let n=t.slice();return n[13]=e[r][0],n[14]=e[r][1],n}function GS(t,e,r){let n=t.slice();return n[17]=e[r][0],n[18]=e[r][1],n}function jS(t){let e,r=t[18]+"",n,i;return{c(){e=X("option"),n=Ve(r),e.__value=i=t[17],Et(e,e.__value)},m(a,o){ne(a,e,o),G(e,n)},p(a,o){o&1&&r!==(r=a[18]+"")&&Ke(n,r),o&1&&i!==(i=a[17])&&(e.__value=i,Et(e,e.__value))},d(a){a&&re(e)}}}function ZS(t){let e,r=t[14]+"",n,i;return{c(){e=X("option"),n=Ve(r),e.__value=i=t[13],Et(e,e.__value)},m(a,o){ne(a,e,o),G(e,n)},p(a,o){o&2&&r!==(r=a[14]+"")&&Ke(n,r),o&2&&i!==(i=a[13])&&(e.__value=i,Et(e,e.__value))},d(a){a&&re(e)}}}function Aq(t){let e,r,n,i,a,o,c=tt(Object.entries(t[0])),u=[];for(let f=0;f<c.length;f+=1)u[f]=jS(GS(t,c,f));let s=tt(Object.entries(t[1])),l=[];for(let f=0;f<s.length;f+=1)l[f]=ZS(HS(t,s,f));return{c(){e=X("div"),r=X("select");for(let f=0;f<u.length;f+=1)u[f].c();n=De(),i=X("select");for(let f=0;f<l.length;f+=1)l[f].c();U(r,"class","dropdown mb-input-element-group-element"),t[2]===void 0&&pn(()=>t[9].call(r)),U(i,"class","dropdown mb-input-element-group-element"),t[3]===void 0&&pn(()=>t[11].call(i)),U(e,"class","mb-input-element-group")},m(f,m){ne(f,e,m),G(e,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null);Hr(r,t[2],!0),G(e,n),G(e,i);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(i,null);Hr(i,t[3],!0),a||(o=[Ae(r,"change",t[9]),Ae(r,"change",t[10]),Ae(i,"change",t[11]),Ae(i,"change",t[12])],a=!0)},p(f,[m]){if(m&1){c=tt(Object.entries(f[0]));let p;for(p=0;p<c.length;p+=1){let h=GS(f,c,p);u[p]?u[p].p(h,m):(u[p]=jS(h),u[p].c(),u[p].m(r,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}if(m&5&&Hr(r,f[2]),m&2){s=tt(Object.entries(f[1]));let p;for(p=0;p<s.length;p+=1){let h=HS(f,s,p);l[p]?l[p].p(h,m):(l[p]=ZS(h),l[p].c(),l[p].m(i,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=s.length}m&10&&Hr(i,f[3])},i:Te,o:Te,d(f){f&&re(e),Ft(u,f),Ft(l,f),a=!1,$e(o)}}}function Nq(t,e,r){let{value:n}=e,{onValueChange:i}=e,a={},o={},c,u;$r(()=>{for(let g=0;g<=24;g++)r(0,a[g.toString()]=g.toString().padStart(2,"0"),a);for(let g=0;g<=59;g++)r(1,o[g.toString()]=g.toString().padStart(2,"0"),o);r(3,u=n.getMinute().toString()),r(2,c=n.getHour().toString())});function s(g){r(6,n=g),r(3,u=n.getMinute().toString()),r(2,c=n.getHour().toString())}function l(){n.setMinuteFromString(u),i(n)}function f(){n.setHourFromString(c),i(n)}function m(){c=ki(this),r(2,c),r(0,a)}let p=()=>f();function h(){u=ki(this),r(3,u),r(1,o)}let d=()=>l();return t.$$set=g=>{"value"in g&&r(6,n=g.value),"onValueChange"in g&&r(7,i=g.onValueChange)},[a,o,c,u,l,f,n,i,s,m,p,h,d]}var xh=class extends Ie{constructor(e){super(),Oe(this,e,Nq,Aq,Be,{value:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},YS=xh;var hf=class extends St{constructor(e){super(e)}filterValue(e){return Ba(e)}getFallbackDefaultValue(){return ii.getDefaultTime()}getSvelteComponent(){return YS}rawMapValue(e){return ii.stringify(e)}rawReverseMapValue(e){return ii.parse(e)}};function JS(t,e,r){let n=t.slice();return n[9]=e[r],n[11]=r,n}function _q(t){let e,r=t[9]+"",n;return{c(){e=X("span"),n=Ve(r)},m(i,a){ne(i,e,a),G(e,n)},p(i,a){a&1&&r!==(r=i[9]+"")&&Ke(n,r)},i:Te,o:Te,d(i){i&&re(e)}}}function Mq(t){let e,r,n;return r=new ka({props:{mdLink:Ei(`${t[9]}`)}}),{c(){e=X("span"),Qe(r.$$.fragment)},m(i,a){ne(i,e,a),Je(r,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=Ei(`${i[9]}`)),r.$set(o)},i(i){n||(ve(r.$$.fragment,i),n=!0)},o(i){we(r.$$.fragment,i),n=!1},d(i){i&&re(e),Xe(r)}}}function XS(t){let e,r,n,i,a,o,c,u,s,l,f=[Mq,_q],m=[];function p(d,g){return g&1&&(r=null),r==null&&(r=!!Ra(`${d[9]}`)),r?0:1}n=p(t,-1),i=m[n]=f[n](t),c=new Gr({props:{iconName:"x"}});function h(){return t[8](t[11])}return{c(){e=X("div"),i.c(),a=De(),o=X("button"),Qe(c.$$.fragment),U(o,"class","mb-inline-list-item-button"),U(e,"class","mb-inline-list-item")},m(d,g){ne(d,e,g),m[n].m(e,null),G(e,a),G(e,o),Je(c,o,null),u=!0,s||(l=Ae(o,"click",h),s=!0)},p(d,g){t=d;let v=n;n=p(t,g),n===v?m[n].p(t,g):(Rt(),we(m[v],1,1,()=>{m[v]=null}),Pt(),i=m[n],i?i.p(t,g):(i=m[n]=f[n](t),i.c()),ve(i,1),i.m(e,a))},i(d){u||(ve(i),ve(c.$$.fragment,d),u=!0)},o(d){we(i),we(c.$$.fragment,d),u=!1},d(d){d&&re(e),m[n].d(),Xe(c),s=!1,l()}}}function Tq(t){let e,r,n,i,a,o,c,u,s,l=tt(t[0]),f=[];for(let p=0;p<l.length;p+=1)f[p]=XS(JS(t,l,p));let m=p=>we(f[p],1,1,()=>{f[p]=null});return o=new Gr({props:{iconName:"plus"}}),{c(){e=X("div");for(let p=0;p<f.length;p+=1)f[p].c();r=De(),n=X("div"),i=X("span"),i.textContent="\u200B",a=De(),Qe(o.$$.fragment),U(n,"class","mb-inline-list-add"),U(n,"role","button"),U(n,"tabindex","0"),U(e,"class","mb-inline-list")},m(p,h){ne(p,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);G(e,r),G(e,n),G(n,i),G(n,a),Je(o,n,null),c=!0,u||(s=[Ae(n,"click",t[2]),Ae(n,"keydown",t[3])],u=!0)},p(p,[h]){if(h&3){l=tt(p[0]);let d;for(d=0;d<l.length;d+=1){let g=JS(p,l,d);f[d]?(f[d].p(g,h),ve(f[d],1)):(f[d]=XS(g),f[d].c(),ve(f[d],1),f[d].m(e,r))}for(Rt(),d=l.length;d<f.length;d+=1)m(d);Pt()}},i(p){if(!c){for(let h=0;h<l.length;h+=1)ve(f[h]);ve(o.$$.fragment,p),c=!0}},o(p){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)we(f[h]);we(o.$$.fragment,p),c=!1},d(p){p&&re(e),Ft(f,p),Xe(o),u=!1,$e(s)}}}function Iq(t,e,r){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(m){r(0,n=m)}function c(m){n.push(m),r(0,n)}function u(m){n.splice(m,1),a(n),r(0,n)}function s(m){m.target instanceof HTMLAnchorElement||i()}function l(m){m.key===" "&&i()}let f=m=>u(m);return t.$$set=m=>{"value"in m&&r(0,n=m.value),"showSuggester"in m&&r(4,i=m.showSuggester),"onValueChange"in m&&r(5,a=m.onValueChange)},[n,u,s,l,i,a,o,c,f]}var Dh=class extends Ie{constructor(e){super(),Oe(this,e,Iq,Tq,Be,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},QS=Dh;var gf=class extends St{constructor(e){super(e)}filterValue(e){return Wi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return QS}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){bs(this,e=>{let r=this.getInternalValue();r.push(e.value),this.setInternalValue(r)})}};function KS(t,e,r){let n=t.slice();return n[9]=e[r],n[11]=r,n}function Bq(t){let e,r=t[9]+"",n;return{c(){e=X("span"),n=Ve(r)},m(i,a){ne(i,e,a),G(e,n)},p(i,a){a&1&&r!==(r=i[9]+"")&&Ke(n,r)},i:Te,o:Te,d(i){i&&re(e)}}}function Oq(t){let e,r,n;return r=new ka({props:{mdLink:Ei(`${t[9]}`)}}),{c(){e=X("span"),Qe(r.$$.fragment)},m(i,a){ne(i,e,a),Je(r,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=Ei(`${i[9]}`)),r.$set(o)},i(i){n||(ve(r.$$.fragment,i),n=!0)},o(i){we(r.$$.fragment,i),n=!1},d(i){i&&re(e),Xe(r)}}}function $S(t){let e,r,n,i,a,o,c,u,s,l,f=[Oq,Bq],m=[];function p(d,g){return g&1&&(r=null),r==null&&(r=!!Ra(`${d[9]}`)),r?0:1}n=p(t,-1),i=m[n]=f[n](t),c=new Gr({props:{iconName:"x"}});function h(){return t[8](t[11])}return{c(){e=X("div"),i.c(),a=De(),o=X("button"),Qe(c.$$.fragment),U(o,"class","mb-inline-list-item-button"),U(e,"class","mb-inline-list-item")},m(d,g){ne(d,e,g),m[n].m(e,null),G(e,a),G(e,o),Je(c,o,null),u=!0,s||(l=Ae(o,"click",h),s=!0)},p(d,g){t=d;let v=n;n=p(t,g),n===v?m[n].p(t,g):(Rt(),we(m[v],1,1,()=>{m[v]=null}),Pt(),i=m[n],i?i.p(t,g):(i=m[n]=f[n](t),i.c()),ve(i,1),i.m(e,a))},i(d){u||(ve(i),ve(c.$$.fragment,d),u=!0)},o(d){we(i),we(c.$$.fragment,d),u=!1},d(d){d&&re(e),m[n].d(),Xe(c),s=!1,l()}}}function kq(t){let e,r,n,i,a,o,c,u,s,l=tt(t[0]),f=[];for(let p=0;p<l.length;p+=1)f[p]=$S(KS(t,l,p));let m=p=>we(f[p],1,1,()=>{f[p]=null});return o=new Gr({props:{iconName:"plus"}}),{c(){e=X("div");for(let p=0;p<f.length;p+=1)f[p].c();r=De(),n=X("div"),i=X("span"),i.textContent="\u200B",a=De(),Qe(o.$$.fragment),U(n,"class","mb-inline-list-add"),U(n,"role","button"),U(n,"tabindex","0"),U(e,"class","mb-inline-list")},m(p,h){ne(p,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);G(e,r),G(e,n),G(n,i),G(n,a),Je(o,n,null),c=!0,u||(s=[Ae(n,"click",t[2]),Ae(n,"keydown",t[3])],u=!0)},p(p,[h]){if(h&3){l=tt(p[0]);let d;for(d=0;d<l.length;d+=1){let g=KS(p,l,d);f[d]?(f[d].p(g,h),ve(f[d],1)):(f[d]=$S(g),f[d].c(),ve(f[d],1),f[d].m(e,r))}for(Rt(),d=l.length;d<f.length;d+=1)m(d);Pt()}},i(p){if(!c){for(let h=0;h<l.length;h+=1)ve(f[h]);ve(o.$$.fragment,p),c=!0}},o(p){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)we(f[h]);we(o.$$.fragment,p),c=!1},d(p){p&&re(e),Ft(f,p),Xe(o),u=!1,$e(s)}}}function Rq(t,e,r){let{value:n}=e,{showInput:i}=e,{onValueChange:a}=e;function o(m){r(0,n=m)}function c(m){n.push(m),r(0,n)}function u(m){n.splice(m,1),a(n),r(0,n)}function s(m){m.target instanceof HTMLAnchorElement||i()}function l(m){m.key===" "&&i()}let f=m=>u(m);return t.$$set=m=>{"value"in m&&r(0,n=m.value),"showInput"in m&&r(4,i=m.showInput),"onValueChange"in m&&r(5,a=m.onValueChange)},[n,u,s,l,i,a,o,c,f]}var wh=class extends Ie{constructor(e){super(),Oe(this,e,Rq,kq,Be,{value:0,showInput:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},e2=wh;var Bu=require("obsidian"),vf=class extends Bu.Modal{constructor(r,n,i,a,o,c,u){super(r);this.value=n,this.title=i,this.subTitle=a,this.description=o,this.onSubmit=c,this.onCancel=u}onOpen(){this.contentEl.empty(),this.contentEl.createEl("h2",{text:this.title});let r=new Bu.Setting(this.contentEl);r.setName(this.subTitle),r.setDesc(this.description),r.addText(i=>{i.setValue(this.value),i.setPlaceholder(this.subTitle),i.onChange(a=>{this.value=a})});let n=new Bu.Setting(this.contentEl);n.addButton(i=>{i.setButtonText("Apply"),i.setCta(),i.onClick(()=>{this.onSubmit(this.value),this.close()})}),n.addButton(i=>{i.setButtonText("Cancel"),i.onClick(()=>{this.onCancel(),this.close()})})}onClose(){super.onClose()}};var yf=class extends St{constructor(e){super(e)}filterValue(e){return Wi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return e2}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){new vf(this.renderChild.plugin.app,"","Meta Bind List","New List Element","",e=>{let r=this.getInternalValue();r.push(e),this.setInternalValue(r)},()=>{}).open()}};var bf=class{constructor(e){this.plugin=e}createInputField(e,r,n){if(e!=="invalid"&&this.checkRenderChildTypeAllowed(e,r),e==="toggle")return new Kc(n);if(e==="slider")return new ef(n);if(e==="text")return new $c(n);if(e==="textArea")return new _u(n);if(e==="text_area")return new _u(n);if(e==="select")return new tf(n);if(e==="multiSelect")return new Mu(n);if(e==="multi_select")return new Mu(n);if(e==="datePicker")return new Tu(n);if(e==="date_picker")return new Tu(n);if(e==="number")return new nf(n);if(e==="suggester")return new of(n);if(e==="editor")return new sf(n);if(e==="progressBar")return new uf(n);if(e==="inlineSelect")return new lf(n);if(e==="imageSuggester")return new ff(n);if(e==="list")return new mf(n);if(e==="listSuggester")return new pf(n);if(e==="date")return new df(n);if(e==="time")return new hf(n);if(e==="inlineListSuggester")return new gf(n);if(e==="inlineList")return new yf(n)}checkRenderChildTypeAllowed(e,r){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=AE[e];if(r==="block"&&!n.allowInBlock)throw new rn({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[At.linkToInputField(e)]});if(r==="inline"&&!n.allowInline)throw new rn({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[At.linkToInputField(e)]})}};var xs=class{constructor(e){this.renderChild=e,this.hidden=!1}async render(e){var r,n;this.container=e,this.container.addClass("mb-view-text"),this.hidden=(n=(r=this.renderChild.getArgument("hidden"))==null?void 0:r.value)!=null?n:!1,this.hidden&&this.container.addClass("mb-view-hidden"),await this._render(e),await this.update(this.getDefaultDisplayValue())}async update(e){var r;if(this.container)try{let n=(r=e==null?void 0:e.toString())!=null?r:"";this.hidden||(this.container.empty(),await this._update(this.container,n)),this.container.removeClass("mb-error")}catch(n){n instanceof Error&&(this.container.innerText=n.message,this.container.addClass("mb-error"))}}};function sr(){return sr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sr.apply(this,arguments)}var Eh={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function it(t){return typeof t=="number"}function nt(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function Fn(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function sa(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function sn(t){return t&&t.constructor.prototype.isUnit===!0||!1}function pr(t){return typeof t=="string"}var wt=Array.isArray;function Ge(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Sn(t){return Array.isArray(t)||Ge(t)}function Co(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Ci(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Ds(t){return t&&t.constructor.prototype.isRange===!0||!1}function La(t){return t&&t.constructor.prototype.isIndex===!0||!1}function t2(t){return typeof t=="boolean"}function r2(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function xf(t){return t&&t.constructor.prototype.isHelp===!0||!1}function n2(t){return typeof t=="function"}function i2(t){return t instanceof Date}function a2(t){return t instanceof RegExp}function Fo(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Fn(t)&&!sa(t))}function o2(t){return t===null}function s2(t){return t===void 0}function jn(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function un(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function u2(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function l2(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function c2(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function vt(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ou(t){return vt(t)||ar(t)&&t.args.length===1&&vt(t.args[0])&&"-+~".includes(t.op)}function Hi(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function An(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function ai(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function yt(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function qa(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function ar(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function ln(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function f2(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function m2(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Yt(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function Df(t){return t&&t.constructor.prototype.isChain===!0||!1}function Dt(t){var e=typeof t;return e==="object"?t===null?"null":nt(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function et(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return et(r)});if(t instanceof Date)return new Date(t.valueOf());if(nt(t))return t;if(Fo(t))return Pq(t,et);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function Pq(t,e){var r={};for(var n in t)je(t,n)&&(r[n]=e(t[n]));return r}function wf(t,e){for(var r in e)je(e,r)&&(t[r]=e[r]);return t}function Fi(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Fi(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Fi(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function p2(t,e,r){var n=!0,i;Object.defineProperty(t,e,{get:function(){return n&&(i=r(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function je(t,e){return t&&Object.hasOwnProperty.call(t,e)}function d2(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=t[i];a!==void 0&&(r[i]=a)}return r}var h2=["Matrix","Array"],g2=["number","BigNumber","Fraction"];var Ee=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Eh)};sr(Ee,Eh,{MATRIX_OPTIONS:h2,NUMBER_OPTIONS:g2});var Lh=xr(Sh(),1);function He(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var oi=Math.sign||function(t){return t>0?1:t<0?-1:0},v2=Math.log2||function(e){return Math.log(e)/Math.LN2},y2=Math.log10||function(e){return Math.log(e)/Math.LN10},Ef=Math.log1p||function(t){return Math.log(t+1)},b2=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},x2=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Ah(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!He(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!He(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(i).concat(t.toString(e)).concat(a)}function Si(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r="auto",n,i;if(e&&(e.notation&&(r=e.notation),it(e)?n=e:it(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return Nh(t,n);case"exponential":return D2(t,n);case"engineering":return Lq(t,n);case"bin":return Ah(t,2,i);case"oct":return Ah(t,8,i);case"hex":return Ah(t,16,i);case"auto":return qq(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Cf(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function Lq(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Cf(t),n=Ff(r,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(it(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var c=Math.abs(i-o)-(a.length-1),u=0;u<c;u++)a.push(0);for(var s=Math.abs(i-o),l=1;s>0;)l++,s--;var f=a.slice(l).join(""),m=it(e)&&f.length||f.match(/[1-9]/)?"."+f:"",p=a.slice(0,l).join("")+m+"e"+(i>=0?"+":"")+o.toString();return n.sign+p}function Nh(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Cf(t),n=typeof e=="number"?Ff(r,r.exponent+1+e):r,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(ws(o-i.length))),a<0&&(i=ws(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function D2(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Cf(t),n=e?Ff(r,e):r,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(ws(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function qq(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,i=r&&r.upperExp!==void 0?r.upperExp:5,a=Cf(t),o=e?Ff(a,e):a;if(o.exponent<n||o.exponent>=i)return D2(t,e);var c=o.coefficients,u=o.exponent;c.length<e&&(c=c.concat(ws(e-c.length))),c=c.concat(ws(u-c.length+1+(c.length<e?e-c.length:0))),c=ws(-u).concat(c);var s=u>0?u:0;return s<c.length-1&&c.splice(s+1,0,"."),o.sign+c.join("")}function Ff(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function ws(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function w2(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Vq=Number.EPSILON||2220446049250313e-31;function Fr(t,e,r){if(r==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<=Vq?!0:n<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}var E2=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},C2=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},F2=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},Sf=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},S2=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},Af=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function A2(t,e){var r=t>0?!0:t<0?!1:1/t===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-t:t}function _h(t,e,r){var n=t.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!He(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function _2(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",n,i;if(e!==void 0&&(e.notation&&(r=e.notation),typeof e=="number"?n=e:e.precision!==void 0&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return zq(t,n);case"exponential":return N2(t,n);case"engineering":return Uq(t,n);case"bin":return _h(t,2,i);case"oct":return _h(t,8,i);case"hex":return _h(t,16,i);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,o=e&&e.upperExp!==void 0?e.upperExp:5;if(t.isZero())return"0";var c,u=t.toSignificantDigits(n),s=u.e;return s>=a&&s<o?c=u.toFixed():c=N2(t,n),c.replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],f=arguments[4];return l!=="."?l+f:f})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Uq(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=t.constructor;a=new o(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function N2(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function zq(t,e){return t.toFixed(e)}function T2(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function at(t,e){var r=Wq(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function Wq(t,e){if(typeof t=="number")return Si(t,e);if(nt(t))return _2(t,e);if(Hq(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return I2(t,e);if(pr(t))return So(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>So(n)+": "+at(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function So(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);r+=i in M2?M2[i]:i,n++}return'"'+r+'"'}var M2={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Vr(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function I2(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=I2(t[i],e);return r+="]",r}else return at(t,e)}function Hq(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function Nf(t,e){if(!pr(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dt(t)+", index: 0)");if(!pr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dt(e)+", index: 1)");return t===e?0:t>e?1:-1}function ot(t,e,r){if(!(this instanceof ot))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ot.prototype=new RangeError;ot.prototype.constructor=RangeError;ot.prototype.name="DimensionError";ot.prototype.isDimensionError=!0;function cn(t,e,r){if(!(this instanceof cn))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}cn.prototype=new RangeError;cn.prototype.constructor=RangeError;cn.prototype.name="IndexError";cn.prototype.isIndexError=!0;function rt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function B2(t,e,r){var n,i=t.length;if(i!==e[r])throw new ot(i,e[r]);if(r<e.length-1){var a=r+1;for(n=0;n<i;n++){var o=t[n];if(!Array.isArray(o))throw new ot(e.length-1,e.length,"<");B2(t[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new ot(e.length+1,e.length,">")}function Th(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new ot(t.length,0)}else B2(t,e,0)}function ku(t,e){var r=t.isMatrix?t._size:rt(t),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==r[a])throw new ot(i,r[a])})}function Vt(t,e){if(t!==void 0){if(!it(t)||!He(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new cn(t,e)}}function Ao(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&wt(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(pr(r)&&r.length===0)return!0}return!1}function Ai(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!it(i)||!He(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+at(e)+")")}),(it(t)||nt(t))&&(t=[t]);var n=r!==void 0?r:0;return Mh(t,e,0,n),t}function Mh(t,e,r,n){var i,a,o=t.length,c=e[r],u=Math.min(o,c);if(t.length=c,r<e.length-1){var s=r+1;for(i=0;i<u;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),Mh(a,e,s,n);for(i=u;i<c;i++)a=[],t[i]=a,Mh(a,e,s,n)}else{for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<c;i++)t[i]=n}}function Ru(t,e){var r=dt(t),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ot(0,n,"!=");e=Pu(e,n);var i=O2(e);if(n!==i)throw new ot(i,n,"!=");try{return Gq(r,e)}catch(a){throw a instanceof ot?new ot(i,n,"!="):a}}function Pu(t,e){var r=O2(t),n=t.slice(),i=-1,a=t.indexOf(i),o=t.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var c=a>=0,u=e%r===0;if(c)if(u)n[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function O2(t){return t.reduce((e,r)=>e*r,1)}function Gq(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=r.length/a,c=0;c<o;c++)n.push(r.slice(c*a,(c+1)*a));r=n}return r}function Es(t,e){for(var r=e||rt(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=k2(t,n,0),r.length=n),t}function k2(t,e,r){var n,i;if(r<e){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=k2(t[n],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function _f(t,e,r,n){var i=n||rt(t);if(r)for(var a=0;a<r;a++)t=[t],i.unshift(1);for(t=R2(t,e,0);i.length<e;)i.push(1);return t}function R2(t,e,r){var n,i;if(Array.isArray(t)){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=R2(t[n],e,a)}else for(var o=r;o<e;o++)t=[t];return t}function dt(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function On(t,e){return Array.prototype.map.call(t,e)}function Va(t,e){Array.prototype.forEach.call(t,e)}function Mf(t,e){if(rt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function Cs(t,e){if(rt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function Ih(t,e){return Array.prototype.join.call(t,e)}function ua(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function Fs(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function Ua(t,e){for(var r,n=0,i=0;i<t.length;i++){var a=t[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var c=o?Ua(a,e):e(a);if(r===void 0)r=c;else if(r!==c)return"mixed"}return r}function P2(t,e,r,n){if(n<r){if(t.length!==e.length)throw new ot(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=P2(t[a],e[a],r,n+1);return i}else return t.concat(e)}function Bh(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return P2(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function jq(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(m=>m.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var c=e[o],u=n[o],s=0;s<u;s++){var l=i-u+s;c[s]>a[l]&&(a[l]=c[s])}for(var f=0;f<e.length;f++)Lu(e[f],a);return a}function Lu(t,e){for(var r=e.length,n=t.length,i=0;i<n;i++){var a=r-n+i;if(t[i]<e[a]&&t[i]>1||t[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[i]," to size ").concat(e[a]))}}function Oh(t,e){var r=rt(t);if(Fi(r,e))return t;Lu(r,e);var n=jq(r,e),i=n.length,a=[...Array(i-r.length).fill(1),...r],o=Yq(t);r.length<i&&(o=Ru(o,a),r=rt(o));for(var c=0;c<i;c++)r[c]<n[c]&&(o=Zq(o,n[c],c),r=rt(o));return o}function Zq(t,e,r){return Bh(...Array(e).fill(t),r)}function Yq(t){return sr([],t)}function A(t,e,r,n){function i(a){var o=d2(a,e.map(Qq));return Jq(t,e,a),r(o)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function Jq(t,e,r){var n=e.filter(a=>!Xq(a)).every(a=>r[a]!==void 0);if(!n){var i=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Xq(t){return t&&t[0]==="?"}function Qq(t){return t&&t[0]==="?"?t.slice(1):t}function ur(t,e){if(U2(t)&&q2(t,e))return t[e];throw typeof t[e]=="function"&&Tf(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Gi(t,e,r){if(U2(t)&&q2(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function L2(t,e){return e in t}function q2(t,e){return!t||typeof t!="object"?!1:je(Kq,e)?!0:!(e in Object.prototype||e in Function.prototype)}function V2(t,e){if(!Tf(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function Tf(t,e){return t==null||typeof t[e]!="function"||je(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:je($q,e)?!0:!(e in Object.prototype||e in Function.prototype)}function U2(t){return typeof t=="object"&&t&&t.constructor===Object}var Kq={length:!0,name:!0},$q={toString:!0,valueOf:!0,toLocaleString:!0};var qu=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return ur(this.wrappedObject,e)}set(e,r){return Gi(this.wrappedObject,e,r),this}has(e){return L2(this.wrappedObject,e)}};function ji(){return new Map}function la(t){if(!t)return ji();if(If(t))return t;if(Fo(t))return new qu(t);throw new Error("createMap can create maps from objects or Maps")}function z2(t){if(t instanceof qu)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);Gi(e,r,n)}return e}function If(t){return t?t instanceof Map||t instanceof qu||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function kh(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var i of r)if(i){if(If(i))for(var a of i.keys())t.set(a,i.get(a));else if(Fo(i))for(var o of Object.keys(i))t.set(o,i[o])}return t}var W2=function(){return W2=Lh.default.create,Lh.default},eV=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],qh=A("typed",eV,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=e,o=W2();return o.clear(),o.addTypes([{name:"number",test:it},{name:"Complex",test:Fn},{name:"BigNumber",test:nt},{name:"Fraction",test:sa},{name:"Unit",test:sn},{name:"identifier",test:c=>pr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(c)},{name:"string",test:pr},{name:"Chain",test:Df},{name:"Array",test:wt},{name:"Matrix",test:Ge},{name:"DenseMatrix",test:Co},{name:"SparseMatrix",test:Ci},{name:"Range",test:Ds},{name:"Index",test:La},{name:"boolean",test:t2},{name:"ResultSet",test:r2},{name:"Help",test:xf},{name:"function",test:n2},{name:"Date",test:i2},{name:"RegExp",test:a2},{name:"null",test:o2},{name:"undefined",test:s2},{name:"AccessorNode",test:jn},{name:"ArrayNode",test:un},{name:"AssignmentNode",test:u2},{name:"BlockNode",test:l2},{name:"ConditionalNode",test:c2},{name:"ConstantNode",test:vt},{name:"FunctionNode",test:An},{name:"FunctionAssignmentNode",test:Hi},{name:"IndexNode",test:ai},{name:"Node",test:yt},{name:"ObjectNode",test:qa},{name:"OperatorNode",test:ar},{name:"ParenthesisNode",test:ln},{name:"RangeNode",test:f2},{name:"RelationalNode",test:m2},{name:"SymbolNode",test:Yt},{name:"Map",test:If},{name:"Object",test:Fo}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(r||Rh(u),w2(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new r(u)}},{from:"number",to:"Complex",convert:function(u){return n||Bf(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||Bf(u),new n(u.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||Bf(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||Ph(u);var s=new a(u);if(s.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(u){var s=Number(u);if(isNaN(s))throw new Error('Cannot convert "'+u+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(u){r||Rh(u);try{return new r(u)}catch(s){throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(u){a||Ph(u);try{return new a(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||Bf(u);try{return new n(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return r||Rh(u),new r(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||Ph(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||tV(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),o.onMismatch=(c,u,s)=>{var l=o.createError(c,u,s);if(["wrongType","mismatch"].includes(l.data.category)&&u.length===1&&Sn(u[0])&&s.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw f.data=l.data,f}throw l},o.onMismatch=(c,u,s)=>{var l=o.createError(c,u,s);if(["wrongType","mismatch"].includes(l.data.category)&&u.length===1&&Sn(u[0])&&s.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw f.data=l.data,f}throw l},o});function Rh(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Bf(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function tV(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ph(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var rV="ResultSet",nV=[],Vh=A(rV,nV,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});var Ss=9e15,Ga=1e9,Uh="0123456789abcdef",kf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Rf="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",zh={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ss,maxE:Ss,crypto:!1},Z2,ca,bt=!0,Lf="[DecimalError] ",Ha=Lf+"Invalid argument: ",Y2=Lf+"Precision limit exceeded",J2=Lf+"crypto unavailable",X2="[object Decimal]",hn=Math.floor,Ur=Math.pow,iV=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,aV=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,oV=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Q2=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_i=1e7,ht=7,sV=9007199254740991,uV=kf.length-1,Wh=Rf.length-1,ke={toStringTag:X2};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),lt(t)};ke.ceil=function(){return lt(new this.constructor(this),this.e+1,2)};ke.clampedTo=ke.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ha+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};ke.comparedTo=ke.cmp=function(t){var e,r,n,i,a=this,o=a.d,c=(t=new a.constructor(t)).d,u=a.s,s=t.s;if(!o||!c)return!u||!s?NaN:u!==s?u:o===c?0:!o^u<0?1:-1;if(!o[0]||!c[0])return o[0]?u:c[0]?-s:0;if(u!==s)return u;if(a.e!==t.e)return a.e>t.e^u<0?1:-1;for(n=o.length,i=c.length,e=0,r=n<i?n:i;e<r;++e)if(o[e]!==c[e])return o[e]>c[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};ke.cosine=ke.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ht,n.rounding=1,r=lV(n,rA(n,r)),n.precision=t,n.rounding=e,lt(ca==2||ca==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};ke.cubeRoot=ke.cbrt=function(){var t,e,r,n,i,a,o,c,u,s,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(bt=!1,a=l.s*Ur(l.s*l,1/3),!a||Math.abs(a)==1/0?(r=fn(l.d),t=l.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=Ur(r,1/3),t=hn((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new f(r),n.s=l.s):n=new f(a.toString()),o=(t=f.precision)+3;;)if(c=n,u=c.times(c).times(c),s=u.plus(l),n=lr(s.plus(l).times(c),s.plus(u),o+2,1),fn(c.d).slice(0,o)===(r=fn(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(lt(c,t+1,0),c.times(c).times(c).eq(l))){n=c;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(lt(n,t+1,1),e=!n.times(n).times(n).eq(l));break}return bt=!0,lt(n,t,f.rounding,e)};ke.decimalPlaces=ke.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-hn(this.e/ht))*ht,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};ke.dividedBy=ke.div=function(t){return lr(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.divToInt=function(t){var e=this,r=e.constructor;return lt(lr(e,new r(t),0,1,1),r.precision,r.rounding)};ke.equals=ke.eq=function(t){return this.cmp(t)===0};ke.floor=function(){return lt(new this.constructor(this),this.e+1,3)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){var e=this.cmp(t);return e==1||e===0};ke.hyperbolicCosine=ke.cosh=function(){var t,e,r,n,i,a=this,o=a.constructor,c=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return c;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),e=(1/Vf(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=As(o,1,a.times(e),new o(1),!0);for(var u,s=t,l=new o(8);s--;)u=a.times(a),a=c.minus(u.times(l.minus(u.times(l))));return lt(a,o.precision=r,o.rounding=n,!0)};ke.hyperbolicSine=ke.sinh=function(){var t,e,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=As(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/Vf(5,t)),i=As(a,2,i,i,!0);for(var o,c=new a(5),u=new a(16),s=new a(20);t--;)o=i.times(i),i=i.times(c.plus(o.times(u.times(o).plus(s))))}return a.precision=e,a.rounding=r,lt(i,e,r,!0)};ke.hyperbolicTangent=ke.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,lr(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};ke.inverseCosine=ke.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,a=r.rounding;return n!==-1?n===0?e.isNeg()?Ni(r,i,a):new r(0):new r(NaN):e.isZero()?Ni(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=Ni(r,i+4,a).times(.5),r.precision=i,r.rounding=a,t.minus(e))};ke.inverseHyperbolicCosine=ke.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,bt=!1,r=r.times(r).minus(1).sqrt().plus(r),bt=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};ke.inverseHyperbolicSine=ke.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,bt=!1,r=r.times(r).plus(1).sqrt().plus(r),bt=!0,n.precision=t,n.rounding=e,r.ln())};ke.inverseHyperbolicTangent=ke.atanh=function(){var t,e,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?lt(new a(i),t,e,!0):(a.precision=r=n-i.e,i=lr(i.plus(1),new a(1).minus(i),r+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)};ke.inverseSine=ke.asin=function(){var t,e,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),r=a.precision,n=a.rounding,e!==-1?e===0?(t=Ni(a,r+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};ke.inverseTangent=ke.atan=function(){var t,e,r,n,i,a,o,c,u,s=this,l=s.constructor,f=l.precision,m=l.rounding;if(s.isFinite()){if(s.isZero())return new l(s);if(s.abs().eq(1)&&f+4<=Wh)return o=Ni(l,f+4,m).times(.25),o.s=s.s,o}else{if(!s.s)return new l(NaN);if(f+4<=Wh)return o=Ni(l,f+4,m).times(.5),o.s=s.s,o}for(l.precision=c=f+10,l.rounding=1,r=Math.min(28,c/ht+2|0),t=r;t;--t)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(bt=!1,e=Math.ceil(c/ht),n=1,u=s.times(s),o=new l(s),i=s;t!==-1;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===a.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),bt=!0,lt(o,l.precision=f,l.rounding=m,!0)};ke.isFinite=function(){return!!this.d};ke.isInteger=ke.isInt=function(){return!!this.d&&hn(this.e/ht)>this.d.length-2};ke.isNaN=function(){return!this.s};ke.isNegative=ke.isNeg=function(){return this.s<0};ke.isPositive=ke.isPos=function(){return this.s>0};ke.isZero=function(){return!!this.d&&this.d[0]===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,r,n,i,a,o,c,u,s=this,l=s.constructor,f=l.precision,m=l.rounding,p=5;if(t==null)t=new l(10),e=!0;else{if(t=new l(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new l(NaN);e=t.eq(10)}if(r=s.d,s.s<0||!r||!r[0]||s.eq(1))return new l(r&&!r[0]?-1/0:s.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(bt=!1,c=f+p,o=Wa(s,c),n=e?Pf(l,c+10):Wa(t,c),u=lr(o,n,c,1),Vu(u.d,i=f,m))do if(c+=10,o=Wa(s,c),n=e?Pf(l,c+10):Wa(t,c),u=lr(o,n,c,1),!a){+fn(u.d).slice(i+1,i+15)+1==1e14&&(u=lt(u,f+1,0));break}while(Vu(u.d,i+=10,m));return bt=!0,lt(u,f,m)};ke.minus=ke.sub=function(t){var e,r,n,i,a,o,c,u,s,l,f,m,p=this,h=p.constructor;if(t=new h(t),!p.d||!t.d)return!p.s||!t.s?t=new h(NaN):p.d?t.s=-t.s:t=new h(t.d||p.s!==t.s?p:NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(s=p.d,m=t.d,c=h.precision,u=h.rounding,!s[0]||!m[0]){if(m[0])t.s=-t.s;else if(s[0])t=new h(p);else return new h(u===3?-0:0);return bt?lt(t,c,u):t}if(r=hn(t.e/ht),l=hn(p.e/ht),s=s.slice(),a=l-r,a){for(f=a<0,f?(e=s,a=-a,o=m.length):(e=m,r=l,o=s.length),n=Math.max(Math.ceil(c/ht),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=s.length,o=m.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(s[n]!=m[n]){f=s[n]<m[n];break}a=0}for(f&&(e=s,s=m,m=e,t.s=-t.s),o=s.length,n=m.length-o;n>0;--n)s[o++]=0;for(n=m.length;n>a;){if(s[--n]<m[n]){for(i=n;i&&s[--i]===0;)s[i]=_i-1;--s[i],s[n]+=_i}s[n]-=m[n]}for(;s[--o]===0;)s.pop();for(;s[0]===0;s.shift())--r;return s[0]?(t.d=s,t.e=qf(s,r),bt?lt(t,c,u):t):new h(u===3?-0:0)};ke.modulo=ke.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?lt(new n(r),n.precision,n.rounding):(bt=!1,n.modulo==9?(e=lr(r,t.abs(),0,3,1),e.s*=t.s):e=lr(r,t,0,n.modulo,1),e=e.times(t),bt=!0,r.minus(e))};ke.naturalExponential=ke.exp=function(){return Hh(this)};ke.naturalLogarithm=ke.ln=function(){return Wa(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s,lt(t)};ke.plus=ke.add=function(t){var e,r,n,i,a,o,c,u,s,l,f=this,m=f.constructor;if(t=new m(t),!f.d||!t.d)return!f.s||!t.s?t=new m(NaN):f.d||(t=new m(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(s=f.d,l=t.d,c=m.precision,u=m.rounding,!s[0]||!l[0])return l[0]||(t=new m(f)),bt?lt(t,c,u):t;if(a=hn(f.e/ht),n=hn(t.e/ht),s=s.slice(),i=a-n,i){for(i<0?(r=s,i=-i,o=l.length):(r=l,n=a,o=s.length),a=Math.ceil(c/ht),o=a>o?a+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=s.length,i=l.length,o-i<0&&(i=o,r=l,l=s,s=r),e=0;i;)e=(s[--i]=s[i]+l[i]+e)/_i|0,s[i]%=_i;for(e&&(s.unshift(e),++n),o=s.length;s[--o]==0;)s.pop();return t.d=s,t.e=qf(s,n),bt?lt(t,c,u):t};ke.precision=ke.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ha+t);return r.d?(e=K2(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};ke.round=function(){var t=this,e=t.constructor;return lt(new e(t),t.e+1,e.rounding)};ke.sine=ke.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ht,n.rounding=1,r=fV(n,rA(n,r)),n.precision=t,n.rounding=e,lt(ca>2?r.neg():r,t,e,!0)):new n(NaN)};ke.squareRoot=ke.sqrt=function(){var t,e,r,n,i,a,o=this,c=o.d,u=o.e,s=o.s,l=o.constructor;if(s!==1||!c||!c[0])return new l(!s||s<0&&(!c||c[0])?NaN:c?o:1/0);for(bt=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=fn(c),(e.length+u)%2==0&&(e+="0"),s=Math.sqrt(e),u=hn((u+1)/2)-(u<0||u%2),s==1/0?e="5e"+u:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new l(e)):n=new l(s.toString()),r=(u=l.precision)+3;;)if(a=n,n=a.plus(lr(o,a,r+2,1)).times(.5),fn(a.d).slice(0,r)===(e=fn(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(lt(a,u+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(lt(n,u+1,1),t=!n.times(n).eq(o));break}return bt=!0,lt(n,u,l.rounding,t)};ke.tangent=ke.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=lr(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,lt(ca==2||ca==4?r.neg():r,t,e,!0)):new n(NaN)};ke.times=ke.mul=function(t){var e,r,n,i,a,o,c,u,s,l=this,f=l.constructor,m=l.d,p=(t=new f(t)).d;if(t.s*=l.s,!m||!m[0]||!p||!p[0])return new f(!t.s||m&&!m[0]&&!p||p&&!p[0]&&!m?NaN:!m||!p?t.s/0:t.s*0);for(r=hn(l.e/ht)+hn(t.e/ht),u=m.length,s=p.length,u<s&&(a=m,m=p,p=a,o=u,u=s,s=o),a=[],o=u+s,n=o;n--;)a.push(0);for(n=s;--n>=0;){for(e=0,i=u+n;i>n;)c=a[i]+p[n]*m[i-n-1]+e,a[i--]=c%_i|0,e=c/_i|0;a[i]=(a[i]+e)%_i|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=qf(a,r),bt?lt(t,f.precision,f.rounding):t};ke.toBinary=function(t,e){return jh(this,2,t,e)};ke.toDecimalPlaces=ke.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(kn(t,0,Ga),e===void 0?e=n.rounding:kn(e,0,8),lt(r,t+r.e+1,e))};ke.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Zi(n,!0):(kn(t,0,Ga),e===void 0?e=i.rounding:kn(e,0,8),n=lt(new i(n),t+1,e),r=Zi(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};ke.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?r=Zi(i):(kn(t,0,Ga),e===void 0?e=a.rounding:kn(e,0,8),n=lt(new a(i),t+i.e+1,e),r=Zi(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};ke.toFraction=function(t){var e,r,n,i,a,o,c,u,s,l,f,m,p=this,h=p.d,d=p.constructor;if(!h)return new d(p);if(s=r=new d(1),n=u=new d(0),e=new d(n),a=e.e=K2(h)-p.e-1,o=a%ht,e.d[0]=Ur(10,o<0?ht+o:o),t==null)t=a>0?e:s;else{if(c=new d(t),!c.isInt()||c.lt(s))throw Error(Ha+c);t=c.gt(e)?a>0?e:s:c}for(bt=!1,c=new d(fn(h)),l=d.precision,d.precision=a=h.length*ht*2;f=lr(c,e,0,1,1),i=r.plus(f.times(n)),i.cmp(t)!=1;)r=n,n=i,i=s,s=u.plus(f.times(i)),u=i,i=e,e=c.minus(f.times(i)),c=i;return i=lr(t.minus(r),n,0,1,1),u=u.plus(i.times(s)),r=r.plus(i.times(n)),u.s=s.s=p.s,m=lr(s,n,a,1).minus(p).abs().cmp(lr(u,r,a,1).minus(p).abs())<1?[s,n]:[u,r],d.precision=l,bt=!0,m};ke.toHexadecimal=ke.toHex=function(t,e){return jh(this,16,t,e)};ke.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:kn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(bt=!1,r=lr(r,t,0,e,1).times(t),bt=!0,lt(r)):(t.s=r.s,r=t),r};ke.toNumber=function(){return+this};ke.toOctal=function(t,e){return jh(this,8,t,e)};ke.toPower=ke.pow=function(t){var e,r,n,i,a,o,c=this,u=c.constructor,s=+(t=new u(t));if(!c.d||!t.d||!c.d[0]||!t.d[0])return new u(Ur(+c,s));if(c=new u(c),c.eq(1))return c;if(n=u.precision,a=u.rounding,t.eq(1))return lt(c,n,a);if(e=hn(t.e/ht),e>=t.d.length-1&&(r=s<0?-s:s)<=sV)return i=$2(u,c,r,n),t.s<0?new u(1).div(i):lt(i,n,a);if(o=c.s,o<0){if(e<t.d.length-1)return new u(NaN);if(t.d[e]&1||(o=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=o,c}return r=Ur(+c,s),e=r==0||!isFinite(r)?hn(s*(Math.log("0."+fn(c.d))/Math.LN10+c.e+1)):new u(r+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(bt=!1,u.rounding=c.s=1,r=Math.min(12,(e+"").length),i=Hh(t.times(Wa(c,n+r)),n),i.d&&(i=lt(i,n+5,1),Vu(i.d,n,a)&&(e=n+10,i=lt(Hh(t.times(Wa(c,e+r)),e),e+5,1),+fn(i.d).slice(n+1,n+15)+1==1e14&&(i=lt(i,n+1,0)))),i.s=o,bt=!0,u.rounding=a,lt(i,n,a))};ke.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Zi(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(kn(t,1,Ga),e===void 0?e=i.rounding:kn(e,0,8),n=lt(new i(n),t,e),r=Zi(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};ke.toSignificantDigits=ke.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(kn(t,1,Ga),e===void 0?e=n.rounding:kn(e,0,8)),lt(new n(r),t,e)};ke.toString=function(){var t=this,e=t.constructor,r=Zi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};ke.truncated=ke.trunc=function(){return lt(new this.constructor(this),this.e+1,1)};ke.valueOf=ke.toJSON=function(){var t=this,e=t.constructor,r=Zi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function fn(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=ht-n.length,r&&(a+=za(r)),a+=n;o=t[e],n=o+"",r=ht-n.length,r&&(a+=za(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function kn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ha+t)}function Vu(t,e,r,n){var i,a,o,c;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=ht,i=0):(i=Math.ceil((e+1)/ht),e%=ht),a=Ur(10,ht-e),c=t[i]%a|0,n==null?e<3?(e==0?c=c/100|0:e==1&&(c=c/10|0),o=r<4&&c==99999||r>3&&c==49999||c==5e4||c==0):o=(r<4&&c+1==a||r>3&&c+1==a/2)&&(t[i+1]/a/100|0)==Ur(10,e-2)-1||(c==a/2||c==0)&&(t[i+1]/a/100|0)==0:e<4?(e==0?c=c/1e3|0:e==1?c=c/100|0:e==2&&(c=c/10|0),o=(n||r<4)&&c==9999||!n&&r>3&&c==4999):o=((n||r<4)&&c+1==a||!n&&r>3&&c+1==a/2)&&(t[i+1]/a/1e3|0)==Ur(10,e-3)-1,o}function Of(t,e,r){for(var n,i=[0],a,o=0,c=t.length;o<c;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Uh.indexOf(t.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function lV(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/Vf(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=As(t,1,e.times(i),new t(1));for(var a=r;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var lr=function(){function t(n,i,a){var o,c=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+c,n[u]=o%a|0,c=o/a|0;return c&&n.unshift(c),n}function e(n,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function r(n,i,a,o){for(var c=0;a--;)n[a]-=c,c=n[a]<i[a]?1:0,n[a]=c*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,c,u){var s,l,f,m,p,h,d,g,v,C,y,D,b,x,w,S,E,F,M,B,k=n.constructor,R=n.s==i.s?1:-1,P=n.d,T=i.d;if(!P||!P[0]||!T||!T[0])return new k(!n.s||!i.s||(P?T&&P[0]==T[0]:!T)?NaN:P&&P[0]==0||!T?R*0:R/0);for(u?(p=1,l=n.e-i.e):(u=_i,p=ht,l=hn(n.e/p)-hn(i.e/p)),M=T.length,E=P.length,v=new k(R),C=v.d=[],f=0;T[f]==(P[f]||0);f++);if(T[f]>(P[f]||0)&&l--,a==null?(x=a=k.precision,o=k.rounding):c?x=a+(n.e-i.e)+1:x=a,x<0)C.push(1),h=!0;else{if(x=x/p+2|0,f=0,M==1){for(m=0,T=T[0],x++;(f<E||m)&&x--;f++)w=m*u+(P[f]||0),C[f]=w/T|0,m=w%T|0;h=m||f<E}else{for(m=u/(T[0]+1)|0,m>1&&(T=t(T,m,u),P=t(P,m,u),M=T.length,E=P.length),S=M,y=P.slice(0,M),D=y.length;D<M;)y[D++]=0;B=T.slice(),B.unshift(0),F=T[0],T[1]>=u/2&&++F;do m=0,s=e(T,y,M,D),s<0?(b=y[0],M!=D&&(b=b*u+(y[1]||0)),m=b/F|0,m>1?(m>=u&&(m=u-1),d=t(T,m,u),g=d.length,D=y.length,s=e(d,y,g,D),s==1&&(m--,r(d,M<g?B:T,g,u))):(m==0&&(s=m=1),d=T.slice()),g=d.length,g<D&&d.unshift(0),r(y,d,D,u),s==-1&&(D=y.length,s=e(T,y,M,D),s<1&&(m++,r(y,M<D?B:T,D,u))),D=y.length):s===0&&(m++,y=[0]),C[f++]=m,s&&y[0]?y[D++]=P[S]||0:(y=[P[S]],D=1);while((S++<E||y[0]!==void 0)&&x--);h=y[0]!==void 0}C[0]||C.shift()}if(p==1)v.e=l,Z2=h;else{for(f=1,m=C[0];m>=10;m/=10)f++;v.e=f+l*p-1,lt(v,c?a+v.e+1:a,o,h)}return v}}();function lt(t,e,r,n){var i,a,o,c,u,s,l,f,m,p=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(i=1,c=f[0];c>=10;c/=10)i++;if(a=e-i,a<0)a+=ht,o=e,l=f[m=0],u=l/Ur(10,i-o-1)%10|0;else if(m=Math.ceil((a+1)/ht),c=f.length,m>=c)if(n){for(;c++<=m;)f.push(0);l=u=0,i=1,a%=ht,o=a-ht+1}else break e;else{for(l=c=f[m],i=1;c>=10;c/=10)i++;a%=ht,o=a-ht+i,u=o<0?0:l/Ur(10,i-o-1)%10|0}if(n=n||e<0||f[m+1]!==void 0||(o<0?l:l%Ur(10,i-o-1)),s=r<4?(u||n)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||n||r==6&&(a>0?o>0?l/Ur(10,i-o):0:f[m-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,s?(e-=t.e+1,f[0]=Ur(10,(ht-e%ht)%ht),t.e=-e||0):f[0]=t.e=0,t;if(a==0?(f.length=m,c=1,m--):(f.length=m+1,c=Ur(10,ht-a),f[m]=o>0?(l/Ur(10,i-o)%Ur(10,o)|0)*c:0),s)for(;;)if(m==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=c,c=1;o>=10;o/=10)c++;a!=c&&(t.e++,f[0]==_i&&(f[0]=1));break}else{if(f[m]+=c,f[m]!=_i)break;f[m--]=0,c=1}for(a=f.length;f[--a]===0;)f.pop()}return bt&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function Zi(t,e,r){if(!t.isFinite())return tA(t);var n,i=t.e,a=fn(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+za(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+za(-i-1)+a,r&&(n=r-o)>0&&(a+=za(n))):i>=o?(a+=za(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+za(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=za(n))),a}function qf(t,e){var r=t[0];for(e*=ht;r>=10;r/=10)e++;return e}function Pf(t,e,r){if(e>uV)throw bt=!0,r&&(t.precision=r),Error(Y2);return lt(new t(kf),e,1,!0)}function Ni(t,e,r){if(e>Wh)throw Error(Y2);return lt(new t(Rf),e,r,!0)}function K2(t){var e=t.length-1,r=e*ht+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function za(t){for(var e="";t--;)e+="0";return e}function $2(t,e,r,n){var i,a=new t(1),o=Math.ceil(n/ht+4);for(bt=!1;;){if(r%2&&(a=a.times(e),G2(a.d,o)&&(i=!0)),r=hn(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}e=e.times(e),G2(e.d,o)}return bt=!0,a}function H2(t){return t.d[t.d.length-1]&1}function eA(t,e,r){for(var n,i=new t(e[0]),a=0;++a<e.length;)if(n=new t(e[a]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function Hh(t,e){var r,n,i,a,o,c,u,s=0,l=0,f=0,m=t.constructor,p=m.rounding,h=m.precision;if(!t.d||!t.d[0]||t.e>17)return new m(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(bt=!1,u=h):u=e,c=new m(.03125);t.e>-2;)t=t.times(c),f+=5;for(n=Math.log(Ur(2,f))/Math.LN10*2+5|0,u+=n,r=a=o=new m(1),m.precision=u;;){if(a=lt(a.times(t),u,1),r=r.times(++l),c=o.plus(lr(a,r,u,1)),fn(c.d).slice(0,u)===fn(o.d).slice(0,u)){for(i=f;i--;)o=lt(o.times(o),u,1);if(e==null)if(s<3&&Vu(o.d,u-n,p,s))m.precision=u+=10,r=a=c=new m(1),l=0,s++;else return lt(o,m.precision=h,p,bt=!0);else return m.precision=h,o}o=c}}function Wa(t,e){var r,n,i,a,o,c,u,s,l,f,m,p=1,h=10,d=t,g=d.d,v=d.constructor,C=v.rounding,y=v.precision;if(d.s<0||!g||!g[0]||!d.e&&g[0]==1&&g.length==1)return new v(g&&!g[0]?-1/0:d.s!=1?NaN:g?0:d);if(e==null?(bt=!1,l=y):l=e,v.precision=l+=h,r=fn(g),n=r.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(t),r=fn(d.d),n=r.charAt(0),p++;a=d.e,n>1?(d=new v("0."+r),a++):d=new v(n+"."+r.slice(1))}else return s=Pf(v,l+2,y).times(a+""),d=Wa(new v(n+"."+r.slice(1)),l-h).plus(s),v.precision=y,e==null?lt(d,y,C,bt=!0):d;for(f=d,u=o=d=lr(d.minus(1),d.plus(1),l,1),m=lt(d.times(d),l,1),i=3;;){if(o=lt(o.times(m),l,1),s=u.plus(lr(o,new v(i),l,1)),fn(s.d).slice(0,l)===fn(u.d).slice(0,l))if(u=u.times(2),a!==0&&(u=u.plus(Pf(v,l+2,y).times(a+""))),u=lr(u,new v(p),l,1),e==null)if(Vu(u.d,l-h,C,c))v.precision=l+=h,s=o=d=lr(f.minus(1),f.plus(1),l,1),m=lt(d.times(d),l,1),i=c=1;else return lt(u,v.precision=y,C,bt=!0);else return v.precision=y,u;u=s,i+=2}}function tA(t){return String(t.s*t.s/0)}function Gh(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%ht,r<0&&(n+=ht),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ht;n<i;)t.d.push(+e.slice(n,n+=ht));e=e.slice(n),n=ht-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),bt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function cV(t,e){var r,n,i,a,o,c,u,s,l;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Q2.test(e))return Gh(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(aV.test(e))r=16,e=e.toLowerCase();else if(iV.test(e))r=2;else if(oV.test(e))r=8;else throw Error(Ha+e);for(a=e.search(/p/i),a>0?(u=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=t.constructor,o&&(e=e.replace(".",""),c=e.length,a=c-a,i=$2(n,new n(r),a,a*2)),s=Of(e,r,_i),l=s.length-1,a=l;s[a]===0;--a)s.pop();return a<0?new n(t.s*0):(t.e=qf(s,l),t.d=s,bt=!1,o&&(t=lr(t,i,c*4)),u&&(t=t.times(Math.abs(u)<54?Ur(2,u):Uu.pow(2,u))),bt=!0,t)}function fV(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:As(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/Vf(5,r)),e=As(t,2,e,e);for(var i,a=new t(5),o=new t(16),c=new t(20);r--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(c))));return e}function As(t,e,r,n,i){var a,o,c,u,s=1,l=t.precision,f=Math.ceil(l/ht);for(bt=!1,u=r.times(r),c=new t(n);;){if(o=lr(c.times(u),new t(e++*e++),l,1),c=i?n.plus(o):n.minus(o),n=lr(o.times(u),new t(e++*e++),l,1),o=c.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===c.d[a]&&a--;);if(a==-1)break}a=c,c=n,n=o,o=a,s++}return bt=!0,o.d.length=f+1,o}function Vf(t,e){for(var r=t;--e;)r*=t;return r}function rA(t,e){var r,n=e.s<0,i=Ni(t,t.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return ca=n?4:1,e;if(r=e.divToInt(i),r.isZero())ca=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(a))return ca=H2(r)?n?2:3:n?4:1,e;ca=H2(r)?n?1:4:n?3:2}return e.minus(i).abs()}function jh(t,e,r,n){var i,a,o,c,u,s,l,f,m,p=t.constructor,h=r!==void 0;if(h?(kn(r,1,Ga),n===void 0?n=p.rounding:kn(n,0,8)):(r=p.precision,n=p.rounding),!t.isFinite())l=tA(t);else{for(l=Zi(t),o=l.indexOf("."),h?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,o>=0&&(l=l.replace(".",""),m=new p(1),m.e=l.length-o,m.d=Of(Zi(m),10,i),m.e=m.d.length),f=Of(l,10,i),a=u=f.length;f[--u]==0;)f.pop();if(!f[0])l=h?"0p+0":"0";else{if(o<0?a--:(t=new p(t),t.d=f,t.e=a,t=lr(t,m,r,n,0,i),f=t.d,a=t.e,s=Z2),o=f[r],c=i/2,s=s||f[r+1]!==void 0,s=n<4?(o!==void 0||s)&&(n===0||n===(t.s<0?3:2)):o>c||o===c&&(n===4||s||n===6&&f[r-1]&1||n===(t.s<0?8:7)),f.length=r,s)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,l="";o<u;o++)l+=Uh.charAt(f[o]);if(h){if(u>1)if(e==16||e==8){for(o=e==16?4:3,--u;u%o;u++)l+="0";for(f=Of(l,i,e),u=f.length;!f[u-1];--u);for(o=1,l="1.";o<u;o++)l+=Uh.charAt(f[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)l="0"+l;l="0."+l}else if(++a>u)for(a-=u;a--;)l+="0";else a<u&&(l=l.slice(0,a)+"."+l.slice(a))}l=(e==16?"0x":e==2?"0b":e==8?"0o":"")+l}return t.s<0?"-"+l:l}function G2(t,e){if(t.length>e)return t.length=e,!0}function mV(t){return new this(t).abs()}function pV(t){return new this(t).acos()}function dV(t){return new this(t).acosh()}function hV(t,e){return new this(t).plus(e)}function gV(t){return new this(t).asin()}function vV(t){return new this(t).asinh()}function yV(t){return new this(t).atan()}function bV(t){return new this(t).atanh()}function xV(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,a=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=Ni(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?Ni(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=Ni(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(lr(t,e,a,1)),e=Ni(this,a,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(lr(t,e,a,1)),r}function DV(t){return new this(t).cbrt()}function wV(t){return lt(t=new this(t),t.e+1,2)}function EV(t,e,r){return new this(t).clamp(e,r)}function CV(t){if(!t||typeof t!="object")throw Error(Lf+"Object expected");var e,r,n,i=t.defaults===!0,a=["precision",1,Ga,"rounding",0,8,"toExpNeg",-Ss,0,"toExpPos",0,Ss,"maxE",0,Ss,"minE",-Ss,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],i&&(this[r]=zh[r]),(n=t[r])!==void 0)if(hn(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Ha+r+": "+n);if(r="crypto",i&&(this[r]=zh[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(J2);else this[r]=!1;else throw Error(Ha+r+": "+n);return this}function FV(t){return new this(t).cos()}function SV(t){return new this(t).cosh()}function nA(t){var e,r,n;function i(a){var o,c,u,s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,j2(a)){s.s=a.s,bt?!a.d||a.e>i.maxE?(s.e=NaN,s.d=null):a.e<i.minE?(s.e=0,s.d=[0]):(s.e=a.e,s.d=a.d.slice()):(s.e=a.e,s.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){s.s=1/a<0?-1:1,s.e=0,s.d=[0];return}if(a<0?(a=-a,s.s=-1):s.s=1,a===~~a&&a<1e7){for(o=0,c=a;c>=10;c/=10)o++;bt?o>i.maxE?(s.e=NaN,s.d=null):o<i.minE?(s.e=0,s.d=[0]):(s.e=o,s.d=[a]):(s.e=o,s.d=[a]);return}else if(a*0!==0){a||(s.s=NaN),s.e=NaN,s.d=null;return}return Gh(s,a.toString())}else if(u!=="string")throw Error(Ha+a);return(c=a.charCodeAt(0))===45?(a=a.slice(1),s.s=-1):(c===43&&(a=a.slice(1)),s.s=1),Q2.test(a)?Gh(s,a):cV(s,a)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=CV,i.clone=nA,i.isDecimal=j2,i.abs=mV,i.acos=pV,i.acosh=dV,i.add=hV,i.asin=gV,i.asinh=vV,i.atan=yV,i.atanh=bV,i.atan2=xV,i.cbrt=DV,i.ceil=wV,i.clamp=EV,i.cos=FV,i.cosh=SV,i.div=AV,i.exp=NV,i.floor=_V,i.hypot=MV,i.ln=TV,i.log=IV,i.log10=OV,i.log2=BV,i.max=kV,i.min=RV,i.mod=PV,i.mul=LV,i.pow=qV,i.random=VV,i.round=UV,i.sign=zV,i.sin=WV,i.sinh=HV,i.sqrt=GV,i.sub=jV,i.sum=ZV,i.tan=YV,i.tanh=JV,i.trunc=XV,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function AV(t,e){return new this(t).div(e)}function NV(t){return new this(t).exp()}function _V(t){return lt(t=new this(t),t.e+1,3)}function MV(){var t,e,r=new this(0);for(bt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return bt=!0,new this(1/0);r=e}return bt=!0,r.sqrt()}function j2(t){return t instanceof Uu||t&&t.toStringTag===X2||!1}function TV(t){return new this(t).ln()}function IV(t,e){return new this(t).log(e)}function BV(t){return new this(t).log(2)}function OV(t){return new this(t).log(10)}function kV(){return eA(this,arguments,"lt")}function RV(){return eA(this,arguments,"gt")}function PV(t,e){return new this(t).mod(e)}function LV(t,e){return new this(t).mul(e)}function qV(t,e){return new this(t).pow(e)}function VV(t){var e,r,n,i,a=0,o=new this(1),c=[];if(t===void 0?t=this.precision:kn(t,1,Ga),n=Math.ceil(t/ht),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:c[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(c.push(i%1e7),a+=4);a=n/4}else throw Error(J2);else for(;a<n;)c[a++]=Math.random()*1e7|0;for(n=c[--a],t%=ht,n&&t&&(i=Ur(10,ht-t),c[a]=(n/i|0)*i);c[a]===0;a--)c.pop();if(a<0)r=0,c=[0];else{for(r=-1;c[0]===0;r-=ht)c.shift();for(n=1,i=c[0];i>=10;i/=10)n++;n<ht&&(r-=ht-n)}return o.e=r,o.d=c,o}function UV(t){return lt(t=new this(t),t.e+1,this.rounding)}function zV(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function WV(t){return new this(t).sin()}function HV(t){return new this(t).sinh()}function GV(t){return new this(t).sqrt()}function jV(t,e){return new this(t).sub(e)}function ZV(){var t=0,e=arguments,r=new this(e[t]);for(bt=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return bt=!0,lt(r,this.precision,this.rounding)}function YV(t){return new this(t).tan()}function JV(t){return new this(t).tanh()}function XV(t){return lt(t=new this(t),t.e+1,1)}ke[Symbol.for("nodejs.util.inspect.custom")]=ke.toString;ke[Symbol.toStringTag]="Decimal";var Uu=ke.constructor=nA(zh);kf=new Uu(kf);Rf=new Uu(Rf);var No=Uu;var QV="BigNumber",KV=["?on","config"],Zh=A(QV,KV,t=>{var{on:e,config:r}=t,n=No.clone({precision:r.precision,modulo:No.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var jr=xr(aA(),1);var $V="Complex",eU=[],Jh=A($V,eU,()=>(Object.defineProperty(jr.default,"name",{value:"Complex"}),jr.default.prototype.constructor=jr.default,jr.default.prototype.type="Complex",jr.default.prototype.isComplex=!0,jr.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},jr.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},jr.default.prototype.format=function(t){var e="",r=this.im,n=this.re,i=Si(this.re,t),a=Si(this.im,t),o=it(t)?t:t?t.precision:null;if(o!==null){var c=Math.pow(10,-o);Math.abs(n/r)<c&&(n=0),Math.abs(r/n)<c&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+a+"i",e},jr.default.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,jr.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(it(r)){if(sn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),it(n))return new jr.default({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},jr.default.prototype.valueOf=jr.default.prototype.toString,jr.default.fromJSON=function(t){return new jr.default(t)},jr.default.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},jr.default),{isClass:!0});var Yi=xr(sA(),1);var tU="Fraction",rU=[],Qh=A(tU,rU,()=>(Object.defineProperty(Yi.default,"name",{value:"Fraction"}),Yi.default.prototype.constructor=Yi.default,Yi.default.prototype.type="Fraction",Yi.default.prototype.isFraction=!0,Yi.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Yi.default.fromJSON=function(t){return new Yi.default(t)},Yi.default),{isClass:!0});var nU="Range",iU=[],Kh=A(nU,iU,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=r!=null,o=n!=null;if(i){if(nt(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(nt(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter end must be a number")}if(o){if(nt(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=o?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,i=this.end,a=i-r;return oi(n)===oi(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;r<i;)e(r,[a],this),r+=n,a++;else if(n<0)for(;r>i;)e(r,[a],this),r+=n,a++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,i,a){r[i[0]]=e(n,i,a)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=Si(this.start,e);return this.step!==1&&(r+=":"+Si(this.step,e)),r+=":"+Si(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0});var aU="Matrix",oU=[],$h=A(aU,oU,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function uA(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),a=0,o=function(u){var s=i[u];if(s&&(delete n[s],delete i[u],--e,r===s)){if(!e){a=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(u){var s=i[u],l=++a;if(n[l]=u,i[u]=l,!s)return++e,e<=t?void 0:(u=n[r],o(u),u);if(delete n[s],r===s)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:o,clear:function(){e=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function _o(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r==null?Number.POSITIVE_INFINITY:r,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:uA(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var c=t.apply(t,i);return n.cache.values.set(o,c),n.cache.values.delete(n.cache.lru.hit(o)),c}}function Uf(t){return Object.keys(t.signatures||{}).reduce(function(e,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var sU="DenseMatrix",uU=["Matrix"],eg=A(sU,uU,t=>{var{Matrix:e}=t;function r(l,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!pr(f))throw new Error("Invalid datatype: "+f);if(Ge(l))l.type==="DenseMatrix"?(this._data=et(l._data),this._size=et(l._size),this._datatype=f||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=f||l._datatype);else if(l&&wt(l.data)&&wt(l.size))this._data=l.data,this._size=l.size,Th(this._data,this._size),this._datatype=f||l.datatype;else if(wt(l))this._data=s(l),this._size=rt(this._data),Th(this._data,this._size),this._datatype=f;else{if(l)throw new TypeError("Unsupported type of data ("+Dt(l)+")");this._data=[],this._size=[0],this._datatype=f}}r.prototype=new e,r.prototype.createDenseMatrix=function(l,f){return new r(l,f)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Ua(this._data,Dt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(l,f){return new r(l,f)},r.prototype.subset=function(l,f,m){switch(arguments.length){case 1:return n(this,l);case 2:case 3:return a(this,l,f,m);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(l){if(!wt(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new ot(l.length,this._size.length);for(var f=0;f<l.length;f++)Vt(l[f],this._size[f]);for(var m=this._data,p=0,h=l.length;p<h;p++){var d=l[p];Vt(d,m.length),m=m[d]}return m},r.prototype.set=function(l,f,m){if(!wt(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new ot(l.length,this._size.length,"<");var p,h,d,g=l.map(function(C){return C+1});u(this,g,m);var v=this._data;for(p=0,h=l.length-1;p<h;p++)d=l[p],Vt(d,v.length),v=v[d];return d=l[l.length-1],Vt(d,v.length),v[d]=f,this};function n(l,f){if(!La(f))throw new TypeError("Invalid index");var m=f.isScalar();if(m)return l.get(f.min());var p=f.size();if(p.length!==l._size.length)throw new ot(p.length,l._size.length);for(var h=f.min(),d=f.max(),g=0,v=l._size.length;g<v;g++)Vt(h[g],l._size[g]),Vt(d[g],l._size[g]);return new r(i(l._data,f,p.length,0),l._datatype)}function i(l,f,m,p){var h=p===m-1,d=f.dimension(p);return h?d.map(function(g){return Vt(g,l.length),l[g]}).valueOf():d.map(function(g){Vt(g,l.length);var v=l[g];return i(v,f,m,p+1)}).valueOf()}function a(l,f,m,p){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),g;if(Ge(m)?(g=m.size(),m=m.valueOf()):g=rt(m),d){if(g.length!==0)throw new TypeError("Scalar expected");l.set(f.min(),m,p)}else{if(!Fi(g,h))try{g.length===0?m=Oh([m],h):m=Oh(m,h),g=rt(m)}catch(x){}if(h.length<l._size.length)throw new ot(h.length,l._size.length,"<");if(g.length<h.length){for(var v=0,C=0;h[v]===1&&g[v]===1;)v++;for(;h[v]===1;)C++,v++;m=_f(m,h.length,C,g)}if(!Fi(h,g))throw new ot(h,g,">");var y=f.max().map(function(x){return x+1});u(l,y,p);var D=h.length,b=0;o(l._data,f,m,D,b)}return l}function o(l,f,m,p,h){var d=h===p-1,g=f.dimension(h);d?g.forEach(function(v,C){Vt(v),l[v]=m[C[0]]}):g.forEach(function(v,C){Vt(v),o(l[v],f,m[C[0]],p,h+1)})}r.prototype.resize=function(l,f,m){if(!Sn(l))throw new TypeError("Array or Matrix expected");var p=l.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=m?this.clone():this;return c(h,p,f)};function c(l,f,m){if(f.length===0){for(var p=l._data;wt(p);)p=p[0];return p}return l._size=f.slice(0),l._data=Ai(l._data,l._size,m),l}r.prototype.reshape=function(l,f){var m=f?this.clone():this;m._data=Ru(m._data,l);var p=m._size.reduce((h,d)=>h*d);return m._size=Pu(l,p),m};function u(l,f,m){for(var p=l._size.slice(0),h=!1;p.length<f.length;)p.push(0),h=!0;for(var d=0,g=f.length;d<g;d++)f[d]>p[d]&&(p[d]=f[d],h=!0);h&&c(l,p,m)}r.prototype.clone=function(){var l=new r({data:et(this._data),size:et(this._size),datatype:this._datatype});return l},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(l){var f=this,m=Uf(l),p=function g(v,C){return wt(v)?v.map(function(y,D){return g(y,C.concat(D))}):m===1?l(v):m===2?l(v,C):l(v,C,f)},h=p(this._data,[]),d=this._datatype!==void 0?Ua(h,Dt):void 0;return new r(h,d)},r.prototype.forEach=function(l){var f=this,m=function p(h,d){wt(h)?h.forEach(function(g,v){p(g,d.concat(v))}):l(h,d,f)};m(this._data,[])},r.prototype[Symbol.iterator]=function*(){var l=function*f(m,p){if(wt(m))for(var h=0;h<m.length;h++)yield*f(m[h],p.concat(h));else yield{value:m,index:p}};yield*l(this._data,[])},r.prototype.rows=function(){var l=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var m=this._data;for(var p of m)l.push(new r([p],this._datatype));return l},r.prototype.columns=function(){var l=this,f=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,h=function(v){var C=p.map(y=>[y[v]]);f.push(new r(C,l._datatype))},d=0;d<m[1];d++)h(d);return f},r.prototype.toArray=function(){return et(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(l){return at(this._data,l)},r.prototype.toString=function(){return at(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(l){if(l){if(nt(l)&&(l=l.toNumber()),!it(l)||!He(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var f=l>0?l:0,m=l<0?-l:0,p=this._size[0],h=this._size[1],d=Math.min(p-m,h-f),g=[],v=0;v<d;v++)g[v]=this._data[v+m][v+f];return new r({data:g,size:[d],datatype:this._datatype})},r.diagonal=function(l,f,m,p){if(!wt(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(w){if(nt(w)&&(w=w.toNumber()),!it(w)||!He(w)||w<1)throw new Error("Size values must be positive integers");return w}),m){if(nt(m)&&(m=m.toNumber()),!it(m)||!He(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var h=m>0?m:0,d=m<0?-m:0,g=l[0],v=l[1],C=Math.min(g-d,v-h),y;if(wt(f)){if(f.length!==C)throw new Error("Invalid value array length");y=function(S){return f[S]}}else if(Ge(f)){var D=f.size();if(D.length!==1||D[0]!==C)throw new Error("Invalid matrix length");y=function(S){return f.get([S])}}else y=function(){return f};p||(p=nt(y(0))?y(0).mul(0):0);var b=[];if(l.length>0){b=Ai(b,l,p);for(var x=0;x<C;x++)b[x+d][x+h]=y(x)}return new r({data:b,size:[g,v]})},r.fromJSON=function(l){return new r(l)},r.prototype.swapRows=function(l,f){if(!it(l)||!He(l)||!it(f)||!He(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Vt(l,this._size[0]),Vt(f,this._size[0]),r._swapRows(l,f,this._data),this},r._swapRows=function(l,f,m){var p=m[l];m[l]=m[f],m[f]=p};function s(l){return Ge(l)?s(l.valueOf()):wt(l)?l.map(s):l}return r},{isClass:!0});var lA="clone",lU=["typed"],tg=A(lA,lU,t=>{var{typed:e}=t;return e(lA,{any:et})});function zf(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}function si(t){for(var e=0;e<t.length;e++)if(Sn(t[e]))return!0;return!1}function gn(t,e){Ge(t)&&(t=t.valueOf());for(var r=0,n=t.length;r<n;r++){var i=t[r];Array.isArray(i)?gn(i,e):e(i)}}function Ze(t,e,r){return t&&typeof t.map=="function"?t.map(function(n){return Ze(n,e,r)}):e(t)}function ja(t,e,r){var n=Array.isArray(t)?rt(t):t.size();if(e<0||e>=n.length)throw new cn(e,n.length);return Ge(t)?t.create(Wf(t.valueOf(),e,r)):Wf(t,e,r)}function Wf(t,e,r){var n,i,a,o;if(e<=0)if(Array.isArray(t[0])){for(o=zf(t),i=[],n=0;n<o.length;n++)i[n]=Wf(o[n],e-1,r);return i}else{for(a=t[0],n=1;n<t.length;n++)a=r(a,t[n]);return a}else{for(i=[],n=0;n<t.length;n++)i[n]=Wf(t[n],e-1,r);return i}}function rg(t,e,r,n,i,a,o,c,u,s,l){var f=t._values,m=t._index,p=t._ptr,h,d,g,v;if(n)for(d=p[e],g=p[e+1],h=d;h<g;h++)v=m[h],r[v]!==a?(r[v]=a,o.push(v),s?(n[v]=u?c(f[h],l):c(l,f[h]),i[v]=a):n[v]=f[h]):(n[v]=u?c(f[h],n[v]):c(n[v],f[h]),i[v]=a);else for(d=p[e],g=p[e+1],h=d;h<g;h++)v=m[h],r[v]!==a?(r[v]=a,o.push(v)):i[v]=a}var cA="isInteger",cU=["typed"],ng=A(cA,cU,t=>{var{typed:e}=t;return e(cA,{number:He,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var Rn="number",fa="number, number";function ig(t){return Math.abs(t)}ig.signature=Rn;function ag(t,e){return t+e}ag.signature=fa;function og(t,e){return t-e}og.signature=fa;function sg(t,e){return t*e}sg.signature=fa;function fU(t,e){return t/e}fU.signature=fa;function ug(t){return-t}ug.signature=Rn;function lg(t){return t}lg.signature=Rn;function Ns(t){return b2(t)}Ns.signature=Rn;function cg(t){return t*t*t}cg.signature=Rn;function fg(t){return Math.exp(t)}fg.signature=Rn;function mg(t){return x2(t)}mg.signature=Rn;function mU(t,e){if(!He(t)||!He(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;e!==0;)r=t%e,t=e,e=r;return t<0?-t:t}mU.signature=fa;function pg(t,e){if(!He(t)||!He(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}pg.signature=fa;function fA(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function dg(t){return y2(t)}dg.signature=Rn;function hg(t){return v2(t)}hg.signature=Rn;function pU(t){return Ef(t)}pU.signature=Rn;function dU(t,e){return e===0?t:t-e*Math.floor(t/e)}dU.signature=fa;function gg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function Hf(t){return oi(t)}Hf.signature=Rn;function hU(t){return Math.sqrt(t)}hU.signature=Rn;function vg(t){return t*t}vg.signature=Rn;function yg(t,e){var r,n,i,a=0,o=1,c=1,u=0;if(!He(t)||!He(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=a,a=o-n*a,o=r,r=c,c=u-n*c,u=r,t=e,e=i;var s;return t<0?s=[-t,-o,-u]:s=[t,t?o:0,u],s}yg.signature=fa;function bg(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}bg.signature=fa;function xg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!He(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Nh(t,e))}function gU(t){return Math.abs(t)}gU.signature=Rn;var vU="number",_s="number, number";function Dg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function bitAnd");return t&e}Dg.signature=_s;function wg(t){if(!He(t))throw new Error("Integer expected in function bitNot");return~t}wg.signature=vU;function Eg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function bitOr");return t|e}Eg.signature=_s;function Cg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function bitXor");return t^e}Cg.signature=_s;function Fg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function leftShift");return t<<e}Fg.signature=_s;function Sg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function rightArithShift");return t>>e}Sg.signature=_s;function Ag(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}Ag.signature=_s;function Zn(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return Zn(t,r)*Zn(r+1,e)}function Ng(t,e){if(!He(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!He(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,a=2,o=e<r?e:r,c=i;c<=t;++c)for(n*=c;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=Zn(a,o)),n}Ng.signature="number, number";var mA=Math.PI,pA=2*Math.PI,dA=Math.E,hA=1.618033988749895;var yU="number",_g="number, number";function Mg(t){return!t}Mg.signature=yU;function Tg(t,e){return!!(t||e)}Tg.signature=_g;function Ig(t,e){return!!t!=!!e}Ig.signature=_g;function Bg(t,e){return!!(t&&e)}Bg.signature=_g;function zu(t){var e;if(He(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Zn(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*zu(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,i=n*t,a=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,e=Mo[0];for(var o=1;o<Mo.length;++o)e+=Mo[o]/(t+o);var c=t+Og+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,t+.5)*Math.exp(-c)*e}zu.signature="number";var Og=4.7421875,Mo=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],kg=.9189385332046728,bU=5,xU=7,gA=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Wu(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-Wu(1-t);t=t-1;for(var e=t+bU+.5,r=gA[0],n=xU-1;n>=1;n--)r+=gA[n]/(t+n);return kg+(t+.5)*Math.log(e)-e+Math.log(r)}Wu.signature="number";var dr="number",DU="number, number";function wU(t){return Math.acos(t)}wU.signature=dr;function Rg(t){return E2(t)}Rg.signature=dr;function Pg(t){return Math.atan(1/t)}Pg.signature=dr;function Lg(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}Lg.signature=dr;function qg(t){return Math.asin(1/t)}qg.signature=dr;function Vg(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}Vg.signature=dr;function Ug(t){return Math.acos(1/t)}Ug.signature=dr;function zg(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}zg.signature=dr;function EU(t){return Math.asin(t)}EU.signature=dr;function Wg(t){return C2(t)}Wg.signature=dr;function CU(t){return Math.atan(t)}CU.signature=dr;function FU(t,e){return Math.atan2(t,e)}FU.signature=DU;function Hg(t){return F2(t)}Hg.signature=dr;function SU(t){return Math.cos(t)}SU.signature=dr;function AU(t){return Sf(t)}AU.signature=dr;function Gg(t){return 1/Math.tan(t)}Gg.signature=dr;function jg(t){var e=Math.exp(2*t);return(e+1)/(e-1)}jg.signature=dr;function Zg(t){return 1/Math.sin(t)}Zg.signature=dr;function Yg(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*oi(t)}Yg.signature=dr;function Jg(t){return 1/Math.cos(t)}Jg.signature=dr;function Xg(t){return 2/(Math.exp(t)+Math.exp(-t))}Xg.signature=dr;function NU(t){return Math.sin(t)}NU.signature=dr;function Qg(t){return S2(t)}Qg.signature=dr;function _U(t){return Math.tan(t)}_U.signature=dr;function MU(t){return Af(t)}MU.signature=dr;var Hu="number";function TU(t){return He(t)}TU.signature=Hu;function Kg(t){return t<0}Kg.signature=Hu;function $g(t){return t>0}$g.signature=Hu;function ev(t){return t===0}ev.signature=Hu;function tv(t){return Number.isNaN(t)}tv.signature=Hu;var vA="isNegative",IU=["typed"],rv=A(vA,IU,t=>{var{typed:e}=t;return e(vA,{number:Kg,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var yA="isNumeric",BU=["typed"],nv=A(yA,BU,t=>{var{typed:e}=t;return e(yA,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var bA="hasNumericValue",OU=["typed","isNumeric"],iv=A(bA,OU,t=>{var{typed:e,isNumeric:r}=t;return e(bA,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})});var xA="isPositive",kU=["typed"],av=A(xA,kU,t=>{var{typed:e}=t;return e(xA,{number:$g,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var DA="isZero",RU=["typed"],ov=A(DA,RU,t=>{var{typed:e}=t;return e(DA,{number:ev,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var wA="isNaN",PU=["typed"],sv=A(wA,PU,t=>{var{typed:e}=t;return e(wA,{number:tv,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return Ze(n,Number.isNaN)}})});var EA="typeOf",LU=["typed"],uv=A(EA,LU,t=>{var{typed:e}=t;return e(EA,{any:Dt})});function Zr(t,e,r){if(r==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return!1}function CA(t,e,r){return Fr(t.re,e.re,r)&&Fr(t.im,e.im,r)}var ui=A("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}});var Gf="equalScalar",qU=["typed","config"],lv=A(Gf,qU,t=>{var{typed:e,config:r}=t,n=ui({typed:e});return e(Gf,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Fr(a,o,r.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Zr(a,o,r.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return CA(a,o,r.epsilon)}},n)}),Jpe=A(Gf,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Gf,{"number, number":function(i,a){return Fr(i,a,r.epsilon)}})});var VU="SparseMatrix",UU=["typed","equalScalar","Matrix"],cv=A(VU,UU,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(d,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!pr(g))throw new Error("Invalid datatype: "+g);if(Ge(d))a(this,d,g);else if(d&&wt(d.index)&&wt(d.ptr)&&wt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=g||d.datatype;else if(wt(d))o(this,d,g);else{if(d)throw new TypeError("Unsupported type of data ("+Dt(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(d,g,v){g.type==="SparseMatrix"?(d._values=g._values?et(g._values):void 0,d._index=et(g._index),d._ptr=et(g._ptr),d._size=et(g._size),d._datatype=v||g._datatype):o(d,g.valueOf(),v||g._datatype)}function o(d,g,v){d._values=[],d._index=[],d._ptr=[],d._datatype=v;var C=g.length,y=0,D=r,b=0;if(pr(v)&&(D=e.find(r,[v,v])||r,b=e.convert(0,v)),C>0){var x=0;do{d._ptr.push(d._index.length);for(var w=0;w<C;w++){var S=g[w];if(wt(S)){if(x===0&&y<S.length&&(y=S.length),x<S.length){var E=S[x];D(E,b)||(d._values.push(E),d._index.push(w))}}else x===0&&y<1&&(y=1),D(S,b)||(d._values.push(S),d._index.push(w))}x++}while(x<y)}d._ptr.push(d._index.length),d._size=[C,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,g){return new i(d,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Ua(this._values,Dt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,g){return new i(d,g)},i.prototype.density=function(){var d=this._size[0],g=this._size[1];return d!==0&&g!==0?this._index.length/(d*g):0},i.prototype.subset=function(d,g,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,d);case 2:case 3:return u(this,d,g,v);default:throw new SyntaxError("Wrong number of arguments")}};function c(d,g){if(!La(g))throw new TypeError("Invalid index");var v=g.isScalar();if(v)return d.get(g.min());var C=g.size();if(C.length!==d._size.length)throw new ot(C.length,d._size.length);var y,D,b,x,w=g.min(),S=g.max();for(y=0,D=d._size.length;y<D;y++)Vt(w[y],d._size[y]),Vt(S[y],d._size[y]);var E=d._values,F=d._index,M=d._ptr,B=g.dimension(0),k=g.dimension(1),R=[],P=[];B.forEach(function(O,J){P[O]=J[0],R[O]=!0});var T=E?[]:void 0,I=[],V=[];return k.forEach(function(O){for(V.push(I.length),b=M[O],x=M[O+1];b<x;b++)y=F[b],R[y]===!0&&(I.push(P[y]),T&&T.push(E[b]))}),V.push(I.length),new i({values:T,index:I,ptr:V,size:C,datatype:d._datatype})}function u(d,g,v,C){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var y=g.size(),D=g.isScalar(),b;if(Ge(v)?(b=v.size(),v=v.toArray()):b=rt(v),D){if(b.length!==0)throw new TypeError("Scalar expected");d.set(g.min(),v,C)}else{if(y.length!==1&&y.length!==2)throw new ot(y.length,d._size.length,"<");if(b.length<y.length){for(var x=0,w=0;y[x]===1&&b[x]===1;)x++;for(;y[x]===1;)w++,x++;v=_f(v,y.length,w,b)}if(!Fi(y,b))throw new ot(y,b,">");if(y.length===1){var S=g.dimension(0);S.forEach(function(M,B){Vt(M),d.set([M,0],v[B[0]],C)})}else{var E=g.dimension(0),F=g.dimension(1);E.forEach(function(M,B){Vt(M),F.forEach(function(k,R){Vt(k),d.set([M,k],v[B[0]][R[0]],C)})})}}return d}i.prototype.get=function(d){if(!wt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=d[0],v=d[1];Vt(g,this._size[0]),Vt(v,this._size[1]);var C=s(g,this._ptr[v],this._ptr[v+1],this._index);return C<this._ptr[v+1]&&this._index[C]===g?this._values[C]:0},i.prototype.set=function(d,g,v){if(!wt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=d[0],y=d[1],D=this._size[0],b=this._size[1],x=r,w=0;pr(this._datatype)&&(x=e.find(r,[this._datatype,this._datatype])||r,w=e.convert(0,this._datatype)),(C>D-1||y>b-1)&&(m(this,Math.max(C+1,D),Math.max(y+1,b),v),D=this._size[0],b=this._size[1]),Vt(C,D),Vt(y,b);var S=s(C,this._ptr[y],this._ptr[y+1],this._index);return S<this._ptr[y+1]&&this._index[S]===C?x(g,w)?l(S,y,this._values,this._index,this._ptr):this._values[S]=g:x(g,w)||f(S,C,y,g,this._values,this._index,this._ptr),this};function s(d,g,v,C){if(v-g===0)return v;for(var y=g;y<v;y++)if(C[y]===d)return y;return g}function l(d,g,v,C,y){v.splice(d,1),C.splice(d,1);for(var D=g+1;D<y.length;D++)y[D]--}function f(d,g,v,C,y,D,b){y.splice(d,0,C),D.splice(d,0,g);for(var x=v+1;x<b.length;x++)b[x]++}i.prototype.resize=function(d,g,v){if(!Sn(d))throw new TypeError("Array or Matrix expected");var C=d.valueOf().map(D=>Array.isArray(D)&&D.length===1?D[0]:D);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(D){if(!it(D)||!He(D)||D<0)throw new TypeError("Invalid size, must contain positive integers (size: "+at(C)+")")});var y=v?this.clone():this;return m(y,C[0],C[1],g)};function m(d,g,v,C){var y=C||0,D=r,b=0;pr(d._datatype)&&(D=e.find(r,[d._datatype,d._datatype])||r,b=e.convert(0,d._datatype),y=e.convert(y,d._datatype));var x=!D(y,b),w=d._size[0],S=d._size[1],E,F,M;if(v>S){for(F=S;F<v;F++)if(d._ptr[F]=d._values.length,x)for(E=0;E<w;E++)d._values.push(y),d._index.push(E);d._ptr[v]=d._values.length}else v<S&&(d._ptr.splice(v+1,S-v),d._values.splice(d._ptr[v],d._values.length),d._index.splice(d._ptr[v],d._index.length));if(S=v,g>w){if(x){var B=0;for(F=0;F<S;F++){d._ptr[F]=d._ptr[F]+B,M=d._ptr[F+1]+B;var k=0;for(E=w;E<g;E++,k++)d._values.splice(M+k,0,y),d._index.splice(M+k,0,E),B++}d._ptr[S]=d._values.length}}else if(g<w){var R=0;for(F=0;F<S;F++){d._ptr[F]=d._ptr[F]-R;var P=d._ptr[F],T=d._ptr[F+1]-R;for(M=P;M<T;M++)E=d._index[M],E>g-1&&(d._values.splice(M,1),d._index.splice(M,1),R++)}d._ptr[F]=d._values.length}return d._size[0]=g,d._size[1]=v,d}i.prototype.reshape=function(d,g){if(!wt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(O){if(!it(O)||!He(O)||O<=-2||O===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+at(d)+")")});var v=this._size[0]*this._size[1];d=Pu(d,v);var C=d[0]*d[1];if(v!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=g?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return y;for(var D=[],b=0;b<y._ptr.length;b++)for(var x=0;x<y._ptr[b+1]-y._ptr[b];x++)D.push(b);for(var w=y._values.slice(),S=y._index.slice(),E=0;E<y._index.length;E++){var F=S[E],M=D[E],B=F*y._size[1]+M;D[E]=B%d[1],S[E]=Math.floor(B/d[1])}y._values.length=0,y._index.length=0,y._ptr.length=d[1]+1,y._size=d.slice();for(var k=0;k<y._ptr.length;k++)y._ptr[k]=0;for(var R=0;R<w.length;R++){var P=S[R],T=D[R],I=w[R],V=s(P,y._ptr[T],y._ptr[T+1],y._index);f(V,P,T,I,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var d=new i({values:this._values?et(this._values):void 0,index:et(this._index),ptr:et(this._ptr),size:et(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,C=this._size[0],y=this._size[1],D=Uf(d),b=function(w,S,E){return D===1?d(w):D===2?d(w,[S,E]):d(w,[S,E],v)};return p(this,0,C-1,0,y-1,b,g)};function p(d,g,v,C,y,D,b){var x=[],w=[],S=[],E=r,F=0;pr(d._datatype)&&(E=e.find(r,[d._datatype,d._datatype])||r,F=e.convert(0,d._datatype));for(var M=function(q,te,ge){q=D(q,te,ge),E(q,F)||(x.push(q),w.push(te))},B=C;B<=y;B++){S.push(x.length);var k=d._ptr[B],R=d._ptr[B+1];if(b)for(var P=k;P<R;P++){var T=d._index[P];T>=g&&T<=v&&M(d._values[P],T-g,B-C)}else{for(var I={},V=k;V<R;V++){var O=d._index[V];I[O]=d._values[V]}for(var J=g;J<=v;J++){var $=J in I?I[J]:0;M($,J-g,B-C)}}}return S.push(x.length),new i({values:x,index:w,ptr:S,size:[v-g+1,y-C+1]})}i.prototype.forEach=function(d,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,C=this._size[0],y=this._size[1],D=0;D<y;D++){var b=this._ptr[D],x=this._ptr[D+1];if(g)for(var w=b;w<x;w++){var S=this._index[w];d(this._values[w],[S,D],v)}else{for(var E={},F=b;F<x;F++){var M=this._index[F];E[M]=this._values[F]}for(var B=0;B<C;B++){var k=B in E?E[B]:0;d(k,[B,D],v)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],g=0;g<d;g++)for(var v=this._ptr[g],C=this._ptr[g+1],y=v;y<C;y++){var D=this._index[y];yield{value:this._values[y],index:[D,g]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,g,v,C,y){var D=C[0],b=C[1],x=[],w,S;for(w=0;w<D;w++)for(x[w]=[],S=0;S<b;S++)x[w][S]=0;for(S=0;S<b;S++)for(var E=v[S],F=v[S+1],M=E;M<F;M++)w=g[M],x[w][S]=d?y?et(d[M]):d[M]:1;return x}return i.prototype.format=function(d){for(var g=this._size[0],v=this._size[1],C=this.density(),y="Sparse Matrix ["+at(g,d)+" x "+at(v,d)+"] density: "+at(C,d)+`
`,D=0;D<v;D++)for(var b=this._ptr[D],x=this._ptr[D+1],w=b;w<x;w++){var S=this._index[w];y+=`
    (`+at(S,d)+", "+at(D,d)+") ==> "+(this._values?at(this._values[w],d):"X")}return y},i.prototype.toString=function(){return at(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(nt(d)&&(d=d.toNumber()),!it(d)||!He(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var g=d>0?d:0,v=d<0?-d:0,C=this._size[0],y=this._size[1],D=Math.min(C-v,y-g),b=[],x=[],w=[];w[0]=0;for(var S=g;S<y&&b.length<D;S++)for(var E=this._ptr[S],F=this._ptr[S+1],M=E;M<F;M++){var B=this._index[M];if(B===S-g+v){b.push(this._values[M]),x[b.length-1]=B-v;break}}return w.push(b.length),new i({values:b,index:x,ptr:w,size:[D,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,g,v,C,y){if(!wt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(O){if(nt(O)&&(O=O.toNumber()),!it(O)||!He(O)||O<1)throw new Error("Size values must be positive integers");return O}),v){if(nt(v)&&(v=v.toNumber()),!it(v)||!He(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var D=r,b=0;pr(y)&&(D=e.find(r,[y,y])||r,b=e.convert(0,y));var x=v>0?v:0,w=v<0?-v:0,S=d[0],E=d[1],F=Math.min(S-w,E-x),M;if(wt(g)){if(g.length!==F)throw new Error("Invalid value array length");M=function(J){return g[J]}}else if(Ge(g)){var B=g.size();if(B.length!==1||B[0]!==F)throw new Error("Invalid matrix length");M=function(J){return g.get([J])}}else M=function(){return g};for(var k=[],R=[],P=[],T=0;T<E;T++){P.push(k.length);var I=T-x;if(I>=0&&I<F){var V=M(I);D(V,b)||(R.push(I+w),k.push(V))}}return P.push(k.length),new i({values:k,index:R,ptr:P,size:[S,E]})},i.prototype.swapRows=function(d,g){if(!it(d)||!He(d)||!it(g)||!He(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Vt(d,this._size[0]),Vt(g,this._size[0]),i._swapRows(d,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,g,v,C,y){for(var D=C[d],b=C[d+1],x=D;x<b;x++)y(v[x],g[x])},i._swapRows=function(d,g,v,C,y,D){for(var b=0;b<v;b++){var x=D[b],w=D[b+1],S=s(d,x,w,y),E=s(g,x,w,y);if(S<w&&E<w&&y[S]===d&&y[E]===g){if(C){var F=C[S];C[S]=C[E],C[E]=F}continue}if(S<w&&y[S]===d&&(E>=w||y[E]!==g)){var M=C?C[S]:void 0;y.splice(E,0,g),C&&C.splice(E,0,M),y.splice(E<=S?S+1:S,1),C&&C.splice(E<=S?S+1:S,1);continue}if(E<w&&y[E]===g&&(S>=w||y[S]!==d)){var B=C?C[E]:void 0;y.splice(S,0,d),C&&C.splice(S,0,B),y.splice(S<=E?E+1:E,1),C&&C.splice(S<=E?E+1:E,1)}}},i},{isClass:!0});var zU="number",WU=["typed"];function HU(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function GU(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var a=e+r;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is no valid number');return a}var fv=A(zU,WU,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=HU(i);if(a)return GU(a);var o=0,c=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(o=Number(c[2]),i=c[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is no valid number');if(c){if(u>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(o-1)&&(u=u-2**o)}return u},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r});var FA="string",jU=["typed"],mv=A(FA,jU,t=>{var{typed:e}=t;return e(FA,{"":function(){return""},number:Si,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r)),any:function(n){return String(n)}})});var SA="boolean",ZU=["typed"],pv=A(SA,ZU,t=>{var{typed:e}=t;return e(SA,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var YU="bignumber",JU=["typed","BigNumber"],dv=A(YU,JU,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],c=r(a[1]),u=new r(2).pow(Number(o));if(c.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new r(2).pow(Number(o)-1);return c.gte(s)?c.sub(u):c}return new r(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(i.n).div(i.d).times(i.s)},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var XU="complex",QU=["typed","Complex"],hv=A(XU,QU,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var KU="fraction",$U=["typed","Fraction"],gv=A(KU,$U,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var AA="matrix",ez=["typed","Matrix","DenseMatrix","SparseMatrix"],vv=A(AA,ez,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(AA,{"":function(){return a([])},string:function(c){return a([],c)},"string, string":function(c,u){return a([],c,u)},Array:function(c){return a(c)},Matrix:function(c){return a(c,c.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,c,u){if(c==="dense"||c==="default"||c===void 0)return new n(o,u);if(c==="sparse")return new i(o,u);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}});var NA="matrixFromFunction",tz=["typed","matrix","isZero"],yv=A(NA,tz,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(NA,{"Array | Matrix, function, string, string":function(o,c,u,s){return i(o,c,u,s)},"Array | Matrix, function, string":function(o,c,u){return i(o,c,u)},"Matrix, function":function(o,c){return i(o,c,"dense")},"Array, function":function(o,c){return i(o,c,"dense").toArray()},"Array | Matrix, string, function":function(o,c,u){return i(o,u,c)},"Array | Matrix, string, string, function":function(o,c,u,s){return i(o,s,c,u)}});function i(a,o,c,u){var s;return u!==void 0?s=r(c,u):s=r(c),s.resize(a),s.forEach(function(l,f){var m=o(f);n(m)||s.set(f,m)}),s}});var _A="matrixFromRows",rz=["typed","matrix","flatten","size"],bv=A(_A,rz,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(_A,{"...Array":function(u){return a(u)},"...Matrix":function(u){return r(a(u.map(s=>s.toArray())))}});function a(c){if(c.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var u=o(c[0]),s=[];for(var l of c){var f=o(l);if(f!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(f|0));s.push(n(l))}return s}function o(c){var u=i(c);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var MA="matrixFromColumns",nz=["typed","matrix","flatten","size"],xv=A(MA,nz,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(MA,{"...Array":function(u){return a(u)},"...Matrix":function(u){return r(a(u.map(s=>s.toArray())))}});function a(c){if(c.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var u=o(c[0]),s=[],l=0;l<u;l++)s[l]=[];for(var f of c){var m=o(f);if(m!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(m|0));for(var p=n(f),h=0;h<u;h++)s[h].push(p[h])}return s}function o(c){var u=i(c);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var TA="splitUnit",iz=["typed"],Dv=A(TA,iz,t=>{var{typed:e}=t;return e(TA,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var IA="unaryMinus",az=["typed"],wv=A(IA,az,t=>{var{typed:e}=t;return e(IA,{number:ug,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r,!0))})});var BA="unaryPlus",oz=["typed","config","BigNumber"],Ev=A(BA,oz,t=>{var{typed:e,config:r,BigNumber:n}=t;return e(BA,{number:lg,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>Ze(a,i,!0)),"boolean | string":function(a){return r.number==="BigNumber"?new n(+a):+a}})});var OA="abs",sz=["typed"],Cv=A(OA,sz,t=>{var{typed:e}=t;return e(OA,{number:ig,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r,!0))})});var kA="apply",uz=["typed","isInteger"],To=A(kA,uz,t=>{var{typed:e,isInteger:r}=t;return e(kA,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!r(a))throw new TypeError("Integer number expected for dimension");var c=Array.isArray(i)?rt(i):i.size();if(a<0||a>=c.length)throw new cn(a,c.length);return Ge(i)?i.create(jf(i.valueOf(),a,o)):jf(i,a,o)}})});function jf(t,e,r){var n,i,a;if(e<=0)if(Array.isArray(t[0])){for(a=lz(t),i=[],n=0;n<a.length;n++)i[n]=jf(a[n],e-1,r);return i}else return r(t);else{for(i=[],n=0;n<t.length;n++)i[n]=jf(t[n],e-1,r);return i}}function lz(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}var RA="addScalar",cz=["typed"],Fv=A(RA,cz,t=>{var{typed:e}=t;return e(RA,{"number, number":ag,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var PA="subtractScalar",fz=["typed"],Sv=A(PA,fz,t=>{var{typed:e}=t;return e(PA,{"number, number":og,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var LA="cbrt",mz=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],Av=A(LA,mz,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:c,Fraction:u}=t;return r(LA,{number:Ns,Complex:s,"Complex, boolean":s,BigNumber:function(m){return m.cbrt()},Unit:l});function s(f,m){var p=f.arg()/3,h=f.abs(),d=new o(Ns(h),0).mul(new o(0,p).exp());if(m){var g=[d,new o(Ns(h),0).mul(new o(0,p+Math.PI*2/3).exp()),new o(Ns(h),0).mul(new o(0,p-Math.PI*2/3).exp())];return e.matrix==="Array"?g:a(g)}else return d}function l(f){if(f.value&&Fn(f.value)){var m=f.clone();return m.value=1,m=m.pow(1/3),m.value=s(f.value),m}else{var p=n(f.value);p&&(f.value=i(f.value));var h;nt(f.value)?h=new c(1).div(3):sa(f.value)?h=new u(1,3):h=1/3;var d=f.pow(h);return p&&(d.value=i(d.value)),d}}});var pz="matAlgo11xS0s",dz=["typed","equalScalar"],Ut=A(pz,dz,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,c){var u=i._values,s=i._index,l=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=r,v=0,C=o;typeof m=="string"&&(d=m,g=e.find(r,[d,d]),v=e.convert(0,d),a=e.convert(a,d),C=e.find(o,[d,d]));for(var y=[],D=[],b=[],x=0;x<h;x++){b[x]=D.length;for(var w=l[x],S=l[x+1],E=w;E<S;E++){var F=s[E],M=c?C(a,u[E]):C(u[E],a);g(M,v)||(D.push(F),y.push(M))}}return b[h]=D.length,i.createSparseMatrix({values:y,index:D,ptr:b,size:[p,h],datatype:d})}});var hz="matAlgo12xSfs",gz=["typed","DenseMatrix"],Mt=A(hz,gz,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,c){var u=i._values,s=i._index,l=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=o;typeof m=="string"&&(d=m,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],C=[],y=[],D=0;D<h;D++){for(var b=D+1,x=l[D],w=l[D+1],S=x;S<w;S++){var E=s[S];C[E]=u[S],y[E]=b}for(var F=0;F<p;F++)D===0&&(v[F]=[]),y[F]===b?v[F][D]=c?g(a,C[F]):g(C[F],a):v[F][D]=c?g(a,0):g(0,a)}return new r({data:v,size:[p,h],datatype:d})}});var vz="matAlgo14xDs",yz=["typed"],Sr=A(vz,yz,t=>{var{typed:e}=t;return function(i,a,o,c){var u=i._data,s=i._size,l=i._datatype,f,m=o;typeof l=="string"&&(f=l,a=e.convert(a,f),m=e.find(o,[f,f]));var p=s.length>0?r(m,0,s,s[0],u,a,c):[];return i.createDenseMatrix({data:p,size:et(s),datatype:f})};function r(n,i,a,o,c,u,s){var l=[];if(i===a.length-1)for(var f=0;f<o;f++)l[f]=s?n(u,c[f]):n(c[f],u);else for(var m=0;m<o;m++)l[m]=r(n,i+1,a,a[i+1],c[m],u,s);return l}});var Nv="ceil",bz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],xz=A(Nv,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(Nv,{number:function(a){return Fr(a,n(a),r.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(Fr(a,n(a,o),r.epsilon))return n(a,o);var[c,u]="".concat(a,"e").split("e"),s=Math.ceil(Number("".concat(c,"e").concat(Number(u)+o)));return[c,u]="".concat(s,"e").split("e"),Number("".concat(c,"e").concat(Number(u)-o))}})}),_v=A(Nv,bz,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}=t,u=Ut({typed:e,equalScalar:a}),s=Mt({typed:e,DenseMatrix:c}),l=Sr({typed:e}),f=xz({typed:e,config:r,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,h){return p.ceil(h)},"Complex, BigNumber":function(p,h){return p.ceil(h.toNumber())},BigNumber:function(p){return Zr(p,n(p),r.epsilon)?n(p):p.ceil()},"BigNumber, BigNumber":function(p,h){return Zr(p,n(p,h),r.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),No.ROUND_CEIL)},Fraction:function(p){return p.ceil()},"Fraction, number":function(p,h){return p.ceil(h)},"Fraction, BigNumber":function(p,h){return p.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(m=>p=>Ze(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>Ze(p,d=>m(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>u(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>l(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>l(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?l(h,p,m,!0):s(h,p,m,!0))})});var qA="cube",Dz=["typed"],Mv=A(qA,Dz,t=>{var{typed:e}=t;return e(qA,{number:cg,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var VA="exp",wz=["typed"],Tv=A(VA,wz,t=>{var{typed:e}=t;return e(VA,{number:fg,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var UA="expm1",Ez=["typed","Complex"],Iv=A(UA,Ez,t=>{var{typed:e,Complex:r}=t;return e(UA,{number:mg,Complex:function(i){var a=Math.exp(i.re);return new r(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var Bv="fix",Cz=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Fz=A(Bv,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e(Bv,{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,o){return a>0?n(a,o):r(a,o)}})}),Ov=A(Bv,Cz,t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:c,DenseMatrix:u}=t,s=Mt({typed:e,DenseMatrix:u}),l=Sr({typed:e}),f=Fz({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(p){return new r(p.re>0?Math.floor(p.re):Math.ceil(p.re),p.im>0?Math.floor(p.im):Math.ceil(p.im))},"Complex, number":function(p,h){return new r(p.re>0?a(p.re,h):i(p.re,h),p.im>0?a(p.im,h):i(p.im,h))},"Complex, BigNumber":function(p,h){var d=h.toNumber();return new r(p.re>0?a(p.re,d):i(p.re,d),p.im>0?a(p.im,d):i(p.im,d))},BigNumber:function(p){return p.isNegative()?i(p):a(p)},"BigNumber, number | BigNumber":function(p,h){return p.isNegative()?i(p,h):a(p,h)},Fraction:function(p){return p.s<0?p.ceil():p.floor()},"Fraction, number | BigNumber":function(p,h){return p.s<0?i(p,h):a(p,h)},"Array | Matrix":e.referToSelf(m=>p=>Ze(p,m,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(m=>(p,h)=>Ze(p,d=>m(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>l(n(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>o(p,0)?c(h.size(),h.storage()):h.storage()==="dense"?l(h,p,m,!0):s(h,p,m,!0))})});var kv="floor",Sz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Az=A(kv,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(kv,{number:function(a){return Fr(a,n(a),r.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(Fr(a,n(a,o),r.epsilon))return n(a,o);var[c,u]="".concat(a,"e").split("e"),s=Math.floor(Number("".concat(c,"e").concat(Number(u)+o)));return[c,u]="".concat(s,"e").split("e"),Number("".concat(c,"e").concat(Number(u)-o))}})}),Gu=A(kv,Sz,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}=t,u=Ut({typed:e,equalScalar:a}),s=Mt({typed:e,DenseMatrix:c}),l=Sr({typed:e}),f=Az({typed:e,config:r,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,h){return p.floor(h)},"Complex, BigNumber":function(p,h){return p.floor(h.toNumber())},BigNumber:function(p){return Zr(p,n(p),r.epsilon)?n(p):p.floor()},"BigNumber, BigNumber":function(p,h){return Zr(p,n(p,h),r.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),No.ROUND_FLOOR)},Fraction:function(p){return p.floor()},"Fraction, number":function(p,h){return p.floor(h)},"Fraction, BigNumber":function(p,h){return p.floor(h.toNumber())},"Array | Matrix":e.referToSelf(m=>p=>Ze(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>Ze(p,d=>m(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>u(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>l(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>l(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?l(h,p,m,!0):s(h,p,m,!0))})});var Nz="matAlgo02xDS0",_z=["typed","equalScalar"],Ar=A(Nz,_z,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,c){var u=i._data,s=i._size,l=i._datatype,f=a._values,m=a._index,p=a._ptr,h=a._size,d=a._datatype;if(s.length!==h.length)throw new ot(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=s[0],v=s[1],C,y=r,D=0,b=o;typeof l=="string"&&l===d&&(C=l,y=e.find(r,[C,C]),D=e.convert(0,C),b=e.find(o,[C,C]));for(var x=[],w=[],S=[],E=0;E<v;E++){S[E]=w.length;for(var F=p[E],M=p[E+1],B=F;B<M;B++){var k=m[B],R=c?b(f[B],u[k][E]):b(u[k][E],f[B]);y(R,D)||(w.push(k),x.push(R))}}return S[v]=w.length,a.createSparseMatrix({values:x,index:w,ptr:S,size:[g,v],datatype:C})}});var Mz="matAlgo03xDSf",Tz=["typed"],Qt=A(Mz,Tz,t=>{var{typed:e}=t;return function(n,i,a,o){var c=n._data,u=n._size,s=n._datatype,l=i._values,f=i._index,m=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v,C=0,y=a;typeof s=="string"&&s===h&&(v=s,C=e.convert(0,v),y=e.find(a,[v,v]));for(var D=[],b=0;b<d;b++)D[b]=[];for(var x=[],w=[],S=0;S<g;S++){for(var E=S+1,F=m[S],M=m[S+1],B=F;B<M;B++){var k=f[B];x[k]=o?y(l[B],c[k][S]):y(c[k][S],l[B]),w[k]=E}for(var R=0;R<d;R++)w[R]===E?D[R][S]=x[R]:D[R][S]=o?y(C,c[R][S]):y(c[R][S],C)}return n.createDenseMatrix({data:D,size:[d,g],datatype:v})}});var Iz="matAlgo05xSfSf",Bz=["typed","equalScalar"],Za=A(Iz,Bz,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(l.length!==d.length)throw new ot(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var v=l[0],C=l[1],y,D=r,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));var w=c&&m?[]:void 0,S=[],E=[],F=w?[]:void 0,M=w?[]:void 0,B=[],k=[],R,P,T,I;for(P=0;P<C;P++){E[P]=S.length;var V=P+1;for(T=s[P],I=s[P+1];T<I;T++)R=u[T],S.push(R),B[R]=V,F&&(F[R]=c[T]);for(T=h[P],I=h[P+1];T<I;T++)R=p[T],B[R]!==V&&S.push(R),k[R]=V,M&&(M[R]=m[T]);if(w)for(T=E[P];T<S.length;){R=S[T];var O=B[R],J=k[R];if(O===V||J===V){var $=O===V?F[R]:b,W=J===V?M[R]:b,q=x($,W);D(q,b)?S.splice(T,1):(w.push(q),T++)}}}return E[C]=S.length,i.createSparseMatrix({values:w,index:S,ptr:E,size:[v,C],datatype:y})}});var Oz="matAlgo13xDD",kz=["typed"],zA=A(Oz,kz,t=>{var{typed:e}=t;return function(i,a,o){var c=i._data,u=i._size,s=i._datatype,l=a._data,f=a._size,m=a._datatype,p=[];if(u.length!==f.length)throw new ot(u.length,f.length);for(var h=0;h<u.length;h++){if(u[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");p[h]=u[h]}var d,g=o;typeof s=="string"&&s===m&&(d=s,g=e.find(o,[d,d]));var v=p.length>0?r(g,0,p,p[0],c,l):[];return i.createDenseMatrix({data:v,size:p,datatype:d})};function r(n,i,a,o,c,u){var s=[];if(i===a.length-1)for(var l=0;l<o;l++)s[l]=n(c[l],u[l]);else for(var f=0;f<o;f++)s[f]=r(n,i+1,a,a[i+1],c[f],u[f]);return s}});var Rz="broadcast",Pz=["concat"],WA=A(Rz,Pz,t=>{var{concat:e}=t;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var c=r(i._size,o,0),u=r(a._size,o,0),s=[],l=0;l<o;l++)s[l]=Math.max(c[l],u[l]);Lu(c,s),Lu(u,s);var f=i.clone(),m=a.clone();f._size.length<o?f.reshape(r(f._size,o,1)):m._size.length<o&&m.reshape(r(m._size,o,1));for(var p=0;p<o;p++)f._size[p]<s[p]&&(f=n(f,s[p],p)),m._size[p]<s[p]&&(m=n(m,s[p],p));return[f,m]};function r(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return e(...Array(a).fill(i),o)}});var Lz="matrixAlgorithmSuite",qz=["typed","matrix","concat"],ct=A(Lz,qz,t=>{var{typed:e,matrix:r,concat:n}=t,i=zA({typed:e}),a=Sr({typed:e}),o=WA({concat:n});return function(u){var s=u.elop,l=u.SD||u.DS,f;s?(f={"DenseMatrix, DenseMatrix":(d,g)=>i(...o(d,g),s),"Array, Array":(d,g)=>i(...o(r(d),r(g)),s).valueOf(),"Array, DenseMatrix":(d,g)=>i(...o(r(d),g),s),"DenseMatrix, Array":(d,g)=>i(...o(d,r(g)),s)},u.SS&&(f["SparseMatrix, SparseMatrix"]=(d,g)=>u.SS(...o(d,g),s,!1)),u.DS&&(f["DenseMatrix, SparseMatrix"]=(d,g)=>u.DS(...o(d,g),s,!1),f["Array, SparseMatrix"]=(d,g)=>u.DS(...o(r(d),g),s,!1)),l&&(f["SparseMatrix, DenseMatrix"]=(d,g)=>l(...o(g,d),s,!0),f["SparseMatrix, Array"]=(d,g)=>l(...o(r(g),d),s,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(g,v),d)),"Array, Array":e.referToSelf(d=>(g,v)=>i(...o(r(g),r(v)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(r(g),v),d)),"DenseMatrix, Array":e.referToSelf(d=>(g,v)=>i(...o(g,r(v)),d))},u.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.SS(...o(g,v),d,!1))),u.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(g,v),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(r(g),v),d,!1))),l&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(g,v)=>l(...o(v,g),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(g,v)=>l(...o(r(v),g),d,!0))));var m=u.scalar||"any",p=u.Ds||u.Ss;p&&(s?(f["DenseMatrix,"+m]=(d,g)=>a(d,g,s,!1),f[m+", DenseMatrix"]=(d,g)=>a(g,d,s,!0),f["Array,"+m]=(d,g)=>a(r(d),g,s,!1).valueOf(),f[m+", Array"]=(d,g)=>a(r(g),d,s,!0).valueOf()):(f["DenseMatrix,"+m]=e.referToSelf(d=>(g,v)=>a(g,v,d,!1)),f[m+", DenseMatrix"]=e.referToSelf(d=>(g,v)=>a(v,g,d,!0)),f["Array,"+m]=e.referToSelf(d=>(g,v)=>a(r(g),v,d,!1).valueOf()),f[m+", Array"]=e.referToSelf(d=>(g,v)=>a(r(v),g,d,!0).valueOf())));var h=u.sS!==void 0?u.sS:u.Ss;return s?(u.Ss&&(f["SparseMatrix,"+m]=(d,g)=>u.Ss(d,g,s,!1)),h&&(f[m+", SparseMatrix"]=(d,g)=>h(g,d,s,!0))):(u.Ss&&(f["SparseMatrix,"+m]=e.referToSelf(d=>(g,v)=>u.Ss(g,v,d,!1))),h&&(f[m+", SparseMatrix"]=e.referToSelf(d=>(g,v)=>h(v,g,d,!0)))),s&&s.signatures&&wf(f,s.signatures),f}});var HA="mod",Vz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],ju=A(HA,Vz,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c,concat:u}=t,s=Gu({typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}),l=Ar({typed:e,equalScalar:a}),f=Qt({typed:e}),m=Za({typed:e,equalScalar:a}),p=Ut({typed:e,equalScalar:a}),h=Mt({typed:e,DenseMatrix:c}),d=ct({typed:e,matrix:i,concat:u});return e(HA,{"number, number":g,"BigNumber, BigNumber":function(C,y){if(y.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return y.isZero()?C:C.mod(y)},"Fraction, Fraction":function(C,y){if(y.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return C.compare(0)>=0?C.mod(y):C.mod(y).add(y).mod(y)}},d({SS:m,DS:f,SD:l,Ss:p,sS:h}));function g(v,C){return C===0?v:v-C*s(v/C)}});var Uz="matAlgo01xDSid",zz=["typed"],vn=A(Uz,zz,t=>{var{typed:e}=t;return function(n,i,a,o){var c=n._data,u=n._size,s=n._datatype,l=i._values,f=i._index,m=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v=typeof s=="string"&&s===h?s:void 0,C=v?e.find(a,[v,v]):a,y,D,b=[];for(y=0;y<d;y++)b[y]=[];var x=[],w=[];for(D=0;D<g;D++){for(var S=D+1,E=m[D],F=m[D+1],M=E;M<F;M++)y=f[M],x[y]=o?C(l[M],c[y][D]):C(c[y][D],l[M]),w[y]=S;for(y=0;y<d;y++)w[y]===S?b[y][D]=x[y]:b[y][D]=c[y][D]}return n.createDenseMatrix({data:b,size:[d,g],datatype:v})}});var Wz="matAlgo04xSidSid",Hz=["typed","equalScalar"],Ms=A(Wz,Hz,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(l.length!==d.length)throw new ot(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var v=l[0],C=l[1],y,D=r,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));var w=c&&m?[]:void 0,S=[],E=[],F=c&&m?[]:void 0,M=c&&m?[]:void 0,B=[],k=[],R,P,T,I,V;for(P=0;P<C;P++){E[P]=S.length;var O=P+1;for(I=s[P],V=s[P+1],T=I;T<V;T++)R=u[T],S.push(R),B[R]=O,F&&(F[R]=c[T]);for(I=h[P],V=h[P+1],T=I;T<V;T++)if(R=p[T],B[R]===O){if(F){var J=x(F[R],m[T]);D(J,b)?B[R]=null:F[R]=J}}else S.push(R),k[R]=O,M&&(M[R]=m[T]);if(F&&M)for(T=E[P];T<S.length;)R=S[T],B[R]===O?(w[T]=F[R],T++):k[R]===O?(w[T]=M[R],T++):S.splice(T,1)}return E[C]=S.length,i.createSparseMatrix({values:w,index:S,ptr:E,size:[v,C],datatype:y})}});var Gz="matAlgo10xSids",jz=["typed","DenseMatrix"],Pn=A(Gz,jz,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,c){var u=i._values,s=i._index,l=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=o;typeof m=="string"&&(d=m,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],C=[],y=[],D=0;D<h;D++){for(var b=D+1,x=l[D],w=l[D+1],S=x;S<w;S++){var E=s[S];C[E]=u[S],y[E]=b}for(var F=0;F<p;F++)D===0&&(v[F]=[]),y[F]===b?v[F][D]=c?g(a,C[F]):g(C[F],a):v[F][D]=a}return new r({data:v,size:[p,h],datatype:d})}});function ma(t,e,r,n){if(!(this instanceof ma))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}ma.prototype=new Error;ma.prototype.constructor=Error;ma.prototype.name="ArgumentsError";ma.prototype.isArgumentsError=!0;var GA="gcd",Zz=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Rv="number | BigNumber | Fraction | Matrix | Array",Yz="".concat(Rv,", ").concat(Rv,", ...").concat(Rv);function jA(t){return!t.some(e=>Array.isArray(e))}var Pv=A(GA,Zz,t=>{var{typed:e,matrix:r,config:n,round:i,equalScalar:a,zeros:o,BigNumber:c,DenseMatrix:u,concat:s}=t,l=ju({typed:e,config:n,round:i,matrix:r,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}),f=vn({typed:e}),m=Ms({typed:e,equalScalar:a}),p=Pn({typed:e,DenseMatrix:u}),h=ct({typed:e,matrix:r,concat:s});return e(GA,{"number, number":d,"BigNumber, BigNumber":g,"Fraction, Fraction":(v,C)=>v.gcd(C)},h({SS:m,DS:f,Ss:p}),{[Yz]:e.referToSelf(v=>(C,y,D)=>{for(var b=v(C,y),x=0;x<D.length;x++)b=v(b,D[x]);return b}),Array:e.referToSelf(v=>C=>{if(C.length===1&&Array.isArray(C[0])&&jA(C[0]))return v(...C[0]);if(jA(C))return v(...C);throw new ma("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(v=>C=>v(C.toArray()))});function d(v,C){if(!He(v)||!He(C))throw new Error("Parameters in function gcd must be integer numbers");for(var y;C!==0;)y=l(v,C),v=C,C=y;return v<0?-v:v}function g(v,C){if(!v.isInt()||!C.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new c(0);!C.isZero();){var D=l(v,C);v=C,C=D}return v.lt(y)?v.neg():v}});var Jz="matAlgo06xS0S0",Xz=["typed","equalScalar"],Ya=A(Jz,Xz,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,u=i._size,s=i._datatype,l=a._values,f=a._size,m=a._datatype;if(u.length!==f.length)throw new ot(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var p=u[0],h=u[1],d,g=r,v=0,C=o;typeof s=="string"&&s===m&&(d=s,g=e.find(r,[d,d]),v=e.convert(0,d),C=e.find(o,[d,d]));for(var y=c&&l?[]:void 0,D=[],b=[],x=y?[]:void 0,w=[],S=[],E=0;E<h;E++){b[E]=D.length;var F=E+1;if(rg(i,E,w,x,S,F,D,C),rg(a,E,w,x,S,F,D,C),x)for(var M=b[E];M<D.length;){var B=D[M];if(S[B]===F){var k=x[B];g(k,v)?D.splice(M,1):(y.push(k),M++)}else D.splice(M,1)}else for(var R=b[E];R<D.length;){var P=D[R];S[P]!==F?D.splice(R,1):R++}}return b[h]=D.length,i.createSparseMatrix({values:y,index:D,ptr:b,size:[p,h],datatype:d})}});var ZA="lcm",Qz=["typed","matrix","equalScalar","concat"],Lv=A(ZA,Qz,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=Ar({typed:e,equalScalar:n}),o=Ya({typed:e,equalScalar:n}),c=Ut({typed:e,equalScalar:n}),u=ct({typed:e,matrix:r,concat:i}),s="number | BigNumber | Fraction | Matrix | Array",l={};return l["".concat(s,", ").concat(s,", ...").concat(s)]=e.referToSelf(m=>(p,h,d)=>{for(var g=m(p,h),v=0;v<d.length;v++)g=m(g,d[v]);return g}),e(ZA,{"number, number":pg,"BigNumber, BigNumber":f,"Fraction, Fraction":(m,p)=>m.lcm(p)},u({SS:o,DS:a,Ss:c}),l);function f(m,p){if(!m.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(m.isZero())return m;if(p.isZero())return p;for(var h=m.times(p);!p.isZero();){var d=p;p=m.mod(d),m=d}return h.div(m).abs()}});var YA="log10",Kz=["typed","config","Complex"],qv=A(YA,Kz,t=>{var{typed:e,config:r,Complex:n}=t;return e(YA,{number:function(a){return a>=0||r.predictable?dg(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||r.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>Ze(a,i))})});var JA="log2",$z=["typed","config","Complex"],Vv=A(JA,$z,t=>{var{typed:e,config:r,Complex:n}=t;return e(JA,{number:function(o){return o>=0||r.predictable?hg(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var eW="multiplyScalar",tW=["typed"],Uv=A(eW,tW,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":sg,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})});var XA="multiply",rW=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],zv=A(XA,rW,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=t,c=Ut({typed:e,equalScalar:a}),u=Sr({typed:e});function s(b,x){switch(b.length){case 1:switch(x.length){case 1:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+b[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+b[1]+") must match Vector length ("+x[0]+")");break;case 2:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+b[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+b.length+" dimensions)")}}function l(b,x,w){if(w===0)throw new Error("Cannot multiply two empty vectors");return o(b,x)}function f(b,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return m(b,x)}function m(b,x){var w=b._data,S=b._size,E=b._datatype,F=x._data,M=x._size,B=x._datatype,k=S[0],R=M[1],P,T=n,I=i;E&&B&&E===B&&typeof E=="string"&&(P=E,T=e.find(n,[P,P]),I=e.find(i,[P,P]));for(var V=[],O=0;O<R;O++){for(var J=I(w[0],F[0][O]),$=1;$<k;$++)J=T(J,I(w[$],F[$][O]));V[O]=J}return b.createDenseMatrix({data:V,size:[R],datatype:P})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":C}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":D});function d(b,x){var w=b._data,S=b._size,E=b._datatype,F=x._data,M=x._datatype,B=S[0],k=S[1],R,P=n,T=i;E&&M&&E===M&&typeof E=="string"&&(R=E,P=e.find(n,[R,R]),T=e.find(i,[R,R]));for(var I=[],V=0;V<B;V++){for(var O=w[V],J=T(O[0],F[0]),$=1;$<k;$++)J=P(J,T(O[$],F[$]));I[V]=J}return b.createDenseMatrix({data:I,size:[B],datatype:R})}function g(b,x){var w=b._data,S=b._size,E=b._datatype,F=x._data,M=x._size,B=x._datatype,k=S[0],R=S[1],P=M[1],T,I=n,V=i;E&&B&&E===B&&typeof E=="string"&&(T=E,I=e.find(n,[T,T]),V=e.find(i,[T,T]));for(var O=[],J=0;J<k;J++){var $=w[J];O[J]=[];for(var W=0;W<P;W++){for(var q=V($[0],F[0][W]),te=1;te<R;te++)q=I(q,V($[te],F[te][W]));O[J][W]=q}}return b.createDenseMatrix({data:O,size:[k,P],datatype:T})}function v(b,x){var w=b._data,S=b._size,E=b._datatype,F=x._values,M=x._index,B=x._ptr,k=x._size,R=x._datatype;if(!F)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P=S[0],T=k[1],I,V=n,O=i,J=a,$=0;E&&R&&E===R&&typeof E=="string"&&(I=E,V=e.find(n,[I,I]),O=e.find(i,[I,I]),J=e.find(a,[I,I]),$=e.convert(0,I));for(var W=[],q=[],te=[],ge=x.createSparseMatrix({values:W,index:q,ptr:te,size:[P,T],datatype:I}),oe=0;oe<T;oe++){te[oe]=q.length;var ce=B[oe],pe=B[oe+1];if(pe>ce)for(var ue=0,ae=0;ae<P;ae++){for(var me=ae+1,xe=void 0,Re=ce;Re<pe;Re++){var We=M[Re];ue!==me?(xe=O(w[ae][We],F[Re]),ue=me):xe=V(xe,O(w[ae][We],F[Re]))}ue===me&&!J(xe,$)&&(q.push(ae),W.push(xe))}}return te[T]=q.length,ge}function C(b,x){var w=b._values,S=b._index,E=b._ptr,F=b._datatype;if(!w)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=x._data,B=x._datatype,k=b._size[0],R=x._size[0],P=[],T=[],I=[],V,O=n,J=i,$=a,W=0;F&&B&&F===B&&typeof F=="string"&&(V=F,O=e.find(n,[V,V]),J=e.find(i,[V,V]),$=e.find(a,[V,V]),W=e.convert(0,V));var q=[],te=[];I[0]=0;for(var ge=0;ge<R;ge++){var oe=M[ge];if(!$(oe,W))for(var ce=E[ge],pe=E[ge+1],ue=ce;ue<pe;ue++){var ae=S[ue];te[ae]?q[ae]=O(q[ae],J(oe,w[ue])):(te[ae]=!0,T.push(ae),q[ae]=J(oe,w[ue]))}}for(var me=T.length,xe=0;xe<me;xe++){var Re=T[xe];P[xe]=q[Re]}return I[1]=T.length,b.createSparseMatrix({values:P,index:T,ptr:I,size:[k,1],datatype:V})}function y(b,x){var w=b._values,S=b._index,E=b._ptr,F=b._datatype;if(!w)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=x._data,B=x._datatype,k=b._size[0],R=x._size[0],P=x._size[1],T,I=n,V=i,O=a,J=0;F&&B&&F===B&&typeof F=="string"&&(T=F,I=e.find(n,[T,T]),V=e.find(i,[T,T]),O=e.find(a,[T,T]),J=e.convert(0,T));for(var $=[],W=[],q=[],te=b.createSparseMatrix({values:$,index:W,ptr:q,size:[k,P],datatype:T}),ge=[],oe=[],ce=0;ce<P;ce++){q[ce]=W.length;for(var pe=ce+1,ue=0;ue<R;ue++){var ae=M[ue][ce];if(!O(ae,J))for(var me=E[ue],xe=E[ue+1],Re=me;Re<xe;Re++){var We=S[Re];oe[We]!==pe?(oe[We]=pe,W.push(We),ge[We]=V(ae,w[Re])):ge[We]=I(ge[We],V(ae,w[Re]))}}for(var z=q[ce],Z=W.length,fe=z;fe<Z;fe++){var H=W[fe];$[fe]=ge[H]}}return q[P]=W.length,te}function D(b,x){var w=b._values,S=b._index,E=b._ptr,F=b._datatype,M=x._values,B=x._index,k=x._ptr,R=x._datatype,P=b._size[0],T=x._size[1],I=w&&M,V,O=n,J=i;F&&R&&F===R&&typeof F=="string"&&(V=F,O=e.find(n,[V,V]),J=e.find(i,[V,V]));for(var $=I?[]:void 0,W=[],q=[],te=b.createSparseMatrix({values:$,index:W,ptr:q,size:[P,T],datatype:V}),ge=I?[]:void 0,oe=[],ce,pe,ue,ae,me,xe,Re,We,z=0;z<T;z++){q[z]=W.length;var Z=z+1;for(me=k[z],xe=k[z+1],ae=me;ae<xe;ae++)if(We=B[ae],I)for(pe=E[We],ue=E[We+1],ce=pe;ce<ue;ce++)Re=S[ce],oe[Re]!==Z?(oe[Re]=Z,W.push(Re),ge[Re]=J(M[ae],w[ce])):ge[Re]=O(ge[Re],J(M[ae],w[ce]));else for(pe=E[We],ue=E[We+1],ce=pe;ce<ue;ce++)Re=S[ce],oe[Re]!==Z&&(oe[Re]=Z,W.push(Re));if(I)for(var fe=q[z],H=W.length,K=fe;K<H;K++){var ie=W[K];$[K]=ge[ie]}}return q[T]=W.length,te}return e(XA,i,{"Array, Array":e.referTo("Matrix, Matrix",b=>(x,w)=>{s(rt(x),rt(w));var S=b(r(x),r(w));return Ge(S)?S.valueOf():S}),"Matrix, Matrix":function(x,w){var S=x.size(),E=w.size();return s(S,E),S.length===1?E.length===1?l(x,w,S[0]):f(x,w):E.length===1?p(x,w):h(x,w)},"Matrix, Array":e.referTo("Matrix,Matrix",b=>(x,w)=>b(x,r(w))),"Array, Matrix":e.referToSelf(b=>(x,w)=>b(r(x,w.storage()),w)),"SparseMatrix, any":function(x,w){return c(x,w,i,!1)},"DenseMatrix, any":function(x,w){return u(x,w,i,!1)},"any, SparseMatrix":function(x,w){return c(w,x,i,!0)},"any, DenseMatrix":function(x,w){return u(w,x,i,!0)},"Array, any":function(x,w){return u(r(x),w,i,!1).valueOf()},"any, Array":function(x,w){return u(r(w),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(b=>(x,w,S)=>{for(var E=b(x,w),F=0;F<S.length;F++)E=b(E,S[F]);return E})})});var QA="nthRoot",nW=["typed","matrix","equalScalar","BigNumber","concat"],Wv=A(QA,nW,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,concat:a}=t,o=vn({typed:e}),c=Ar({typed:e,equalScalar:n}),u=Ya({typed:e,equalScalar:n}),s=Ut({typed:e,equalScalar:n}),l=ct({typed:e,matrix:r,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(QA,{number:gg,"number, number":gg,BigNumber:p=>m(p,new i(2)),"BigNumber, BigNumber":m,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",p=>h=>p(r(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",p=>h=>p(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",p=>h=>p(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return u(h,d,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return o(h,d,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",p=>(h,d)=>p(r(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return s(d,h,p,!0);throw new Error("Root must be non-zero")})},l({scalar:"number | BigNumber",SD:c,Ss:s,sS:!1}));function m(p,h){var d=i.precision,g=i.clone({precision:d+2}),v=new i(0),C=new g(1),y=h.isNegative();if(y&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return y?new g(1/0):0;if(!p.isFinite())return y?v:p;var D=p.abs().pow(C.div(h));return D=p.isNeg()?D.neg():D,new i((y?C.div(D):D).toPrecision(d))}});var KA="sign",iW=["typed","BigNumber","Fraction","complex"],Hv=A(KA,iW,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e(KA,{number:Hf,Complex:function(o){return o.im===0?n(Hf(o.re)):o.sign()},BigNumber:function(o){return new r(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var aW="sqrt",oW=["config","typed","Complex"],Gv=A(aW,oW,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var $A="square",sW=["typed"],jv=A($A,sW,t=>{var{typed:e}=t;return e($A,{number:vg,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var eN="subtract",uW=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Zv=A(eN,uW,t=>{var{typed:e,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:c}=t,u=vn({typed:e}),s=Qt({typed:e}),l=Za({typed:e,equalScalar:n}),f=Pn({typed:e,DenseMatrix:o}),m=Mt({typed:e,DenseMatrix:o}),p=ct({typed:e,matrix:r,concat:c});return e(eN,{"any, any":i},p({elop:i,SS:l,DS:u,SD:s,Ss:m,sS:f}))});var tN="xgcd",lW=["typed","config","matrix","BigNumber"],Yv=A(tN,lW,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(tN,{"number, number":function(c,u){var s=yg(c,u);return r.matrix==="Array"?s:n(s)},"BigNumber, BigNumber":a});function a(o,c){var u,s,l,f=new i(0),m=new i(1),p=f,h=m,d=m,g=f;if(!o.isInt()||!c.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!c.isZero();)s=o.div(c).floor(),l=o.mod(c),u=p,p=h.minus(s.times(p)),h=u,u=d,d=g.minus(s.times(d)),g=u,o=c,c=l;var v;return o.lt(f)?v=[o.neg(),h.neg(),g.neg()]:v=[o,o.isZero()?0:h,g],r.matrix==="Array"?v:n(v)}});var rN="invmod",cW=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Jv=A(rN,cW,t=>{var{typed:e,config:r,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:c,add:u,isInteger:s}=t;return e(rN,{"number, number":l,"BigNumber, BigNumber":l});function l(f,m){if(!s(f)||!s(m))throw new Error("Parameters in function invmod must be integer numbers");if(f=c(f,m),a(m,0))throw new Error("Divisor must be non zero");var p=i(f,m);p=p.valueOf();var[h,d]=p;return a(h,n(1))?(d=c(d,m),o(d,n(0))&&(d=u(d,m)),d):NaN}});var fW="matAlgo09xS0Sf",mW=["typed","equalScalar"],Zf=A(fW,mW,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(l.length!==d.length)throw new ot(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var v=l[0],C=l[1],y,D=r,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));var w=c&&m?[]:void 0,S=[],E=[],F=w?[]:void 0,M=[],B,k,R,P,T;for(k=0;k<C;k++){E[k]=S.length;var I=k+1;if(F)for(P=h[k],T=h[k+1],R=P;R<T;R++)B=p[R],M[B]=I,F[B]=m[R];for(P=s[k],T=s[k+1],R=P;R<T;R++)if(B=u[R],F){var V=M[B]===I?F[B]:b,O=x(c[R],V);D(O,b)||(S.push(B),w.push(O))}else S.push(B)}return E[C]=S.length,i.createSparseMatrix({values:w,index:S,ptr:E,size:[v,C],datatype:y})}});var nN="dotMultiply",pW=["typed","matrix","equalScalar","multiplyScalar","concat"],Xv=A(nN,pW,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:i,concat:a}=t,o=Ar({typed:e,equalScalar:n}),c=Zf({typed:e,equalScalar:n}),u=Ut({typed:e,equalScalar:n}),s=ct({typed:e,matrix:r,concat:a});return e(nN,s({elop:i,SS:c,DS:o,Ss:u}))});function iN(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return Qv(t,e,function(n,i){return n&i})}function Ts(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function aN(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:Qv(t,e,function(i,a){return i|a})}function Qv(t,e,r){var n=t.constructor,i,a,o=+(t.s<0),c=+(e.s<0);if(o){i=Yf(Ts(t));for(var u=0;u<i.length;++u)i[u]^=1}else i=Yf(t);if(c){a=Yf(Ts(e));for(var s=0;s<a.length;++s)a[s]^=1}else a=Yf(e);var l,f,m;i.length<=a.length?(l=i,f=a,m=o):(l=a,f=i,m=c);var p=l.length,h=f.length,d=r(o,c)^1,g=new n(d^1),v=new n(1),C=new n(2),y=n.precision;for(n.config({precision:1e9});p>0;)r(l[--p],f[--h])===d&&(g=g.plus(v)),v=v.times(C);for(;h>0;)r(m,f[--h])===d&&(g=g.plus(v)),v=v.times(C);return n.config({precision:y}),d===0&&(g.s=-g.s),g}function Yf(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;r.charAt(o)==="0";)o--;var c=t.e,u=r.slice(0,o+1||1),s=u.length;if(c>0)if(++c>s)for(c-=s;c--;)u+="0";else c<s&&(u=u.slice(0,c)+"."+u.slice(c));for(var l=[0],f=0;f<u.length;){for(var m=l.length;m--;)l[m]*=10;l[0]+=parseInt(u.charAt(f++));for(var p=0;p<l.length;++p)l[p]>1&&((l[p+1]===null||l[p+1]===void 0)&&(l[p+1]=0),l[p+1]+=l[p]>>1,l[p]&=1)}return l.reverse()}function oN(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?Ts(e):e.eq(n)?Ts(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):Qv(t,e,function(i,a){return i^a})}function sN(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function uN(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var lN="bitAnd",dW=["typed","matrix","equalScalar","concat"],Kv=A(lN,dW,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=Ar({typed:e,equalScalar:n}),o=Ya({typed:e,equalScalar:n}),c=Ut({typed:e,equalScalar:n}),u=ct({typed:e,matrix:r,concat:i});return e(lN,{"number, number":Dg,"BigNumber, BigNumber":iN},u({SS:o,DS:a,Ss:c}))});var cN="bitNot",hW=["typed"],$v=A(cN,hW,t=>{var{typed:e}=t;return e(cN,{number:wg,BigNumber:Ts,"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var fN="bitOr",gW=["typed","matrix","equalScalar","DenseMatrix","concat"],e0=A(fN,gW,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=vn({typed:e}),c=Ms({typed:e,equalScalar:n}),u=Pn({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:r,concat:a});return e(fN,{"number, number":Eg,"BigNumber, BigNumber":aN},s({SS:c,DS:o,Ss:u}))});var vW="matAlgo07xSSf",yW=["typed","DenseMatrix"],Or=A(vW,yW,t=>{var{typed:e,DenseMatrix:r}=t;return function(a,o,c){var u=a._size,s=a._datatype,l=o._size,f=o._datatype;if(u.length!==l.length)throw new ot(u.length,l.length);if(u[0]!==l[0]||u[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+l+")");var m=u[0],p=u[1],h,d=0,g=c;typeof s=="string"&&s===f&&(h=s,d=e.convert(0,h),g=e.find(c,[h,h]));var v,C,y=[];for(v=0;v<m;v++)y[v]=[];var D=[],b=[],x=[],w=[];for(C=0;C<p;C++){var S=C+1;for(n(a,C,x,D,S),n(o,C,w,b,S),v=0;v<m;v++){var E=x[v]===S?D[v]:d,F=w[v]===S?b[v]:d;y[v][C]=g(E,F)}}return new r({data:y,size:[m,p],datatype:h})};function n(i,a,o,c,u){for(var s=i._values,l=i._index,f=i._ptr,m=f[a],p=f[a+1];m<p;m++){var h=l[m];o[h]=u,c[h]=s[m]}}});var mN="bitXor",bW=["typed","matrix","DenseMatrix","concat"],t0=A(mN,bW,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i}=t,a=Qt({typed:e}),o=Or({typed:e,DenseMatrix:n}),c=Mt({typed:e,DenseMatrix:n}),u=ct({typed:e,matrix:r,concat:i});return e(mN,{"number, number":Cg,"BigNumber, BigNumber":oN},u({SS:o,DS:a,Ss:c}))});var pN="arg",xW=["typed"],r0=A(pN,xW,t=>{var{typed:e}=t;return e(pN,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var dN="conj",DW=["typed"],n0=A(dN,DW,t=>{var{typed:e}=t;return e(dN,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var hN="im",wW=["typed"],i0=A(hN,wW,t=>{var{typed:e}=t;return e(hN,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var gN="re",EW=["typed"],a0=A(gN,EW,t=>{var{typed:e}=t;return e(gN,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var vN="not",CW=["typed"],o0=A(vN,CW,t=>{var{typed:e}=t;return e(vN,{"null | undefined":()=>!0,number:Mg,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var yN="or",FW=["typed","matrix","equalScalar","DenseMatrix","concat"],s0=A(yN,FW,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Qt({typed:e}),c=Za({typed:e,equalScalar:n}),u=Mt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:r,concat:a});return e(yN,{"number, number":Tg,"Complex, Complex":function(f,m){return f.re!==0||f.im!==0||m.re!==0||m.im!==0},"BigNumber, BigNumber":function(f,m){return!f.isZero()&&!f.isNaN()||!m.isZero()&&!m.isNaN()},"Unit, Unit":e.referToSelf(l=>(f,m)=>l(f.value||0,m.value||0))},s({SS:c,DS:o,Ss:u}))});var bN="xor",SW=["typed","matrix","DenseMatrix","concat"],u0=A(bN,SW,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i}=t,a=Qt({typed:e}),o=Or({typed:e,DenseMatrix:n}),c=Mt({typed:e,DenseMatrix:n}),u=ct({typed:e,matrix:r,concat:i});return e(bN,{"number, number":Ig,"Complex, Complex":function(l,f){return(l.re!==0||l.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(l,f){return(!l.isZero()&&!l.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(s=>(l,f)=>s(l.value||0,f.value||0))},u({SS:o,DS:a,Ss:c}))});var xN="concat",AW=["typed","matrix","isInteger"],Zu=A(xN,AW,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(xN,{"...Array | Matrix | number | BigNumber":function(a){var o,c=a.length,u=-1,s,l=!1,f=[];for(o=0;o<c;o++){var m=a[o];if(Ge(m)&&(l=!0),it(m)||nt(m)){if(o!==c-1)throw new Error("Dimension must be specified as last argument");if(s=u,u=m.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||o>0&&u>s)throw new cn(u,s+1)}else{var p=et(m).valueOf(),h=rt(p);if(f[o]=p,s=u,u=h.length-1,o>0&&u!==s)throw new ot(s+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=Bh(d,f.shift(),u);return l?r(d):d},"...string":function(a){return a.join("")}})});var DN="column",NW=["typed","Index","matrix","range"],Yu=A(DN,NW,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(DN,{"Matrix, number":a,"Array, number":function(c,u){return a(n(et(c)),u).valueOf()}});function a(o,c){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Vt(c,o.size()[1]);var u=i(0,o.size()[0]),s=new r(u,c),l=o.subset(s);return Ge(l)?l:n([[l]])}});var wN="count",_W=["typed","size","prod"],l0=A(wN,_W,t=>{var{typed:e,size:r,prod:n}=t;return e(wN,{string:function(a){return a.length},"Matrix | Array":function(a){return n(r(a))}})});var EN="cross",MW=["typed","matrix","subtract","multiply"],c0=A(EN,MW,t=>{var{typed:e,matrix:r,subtract:n,multiply:i}=t;return e(EN,{"Matrix, Matrix":function(c,u){return r(a(c.toArray(),u.toArray()))},"Matrix, Array":function(c,u){return r(a(c.toArray(),u))},"Array, Matrix":function(c,u){return r(a(c,u.toArray()))},"Array, Array":a});function a(o,c){var u=Math.max(rt(o).length,rt(c).length);o=Es(o),c=Es(c);var s=rt(o),l=rt(c);if(s.length!==1||l.length!==1||s[0]!==3||l[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+s.join(", ")+"], B = ["+l.join(", ")+"])");var f=[n(i(o[1],c[2]),i(o[2],c[1])),n(i(o[2],c[0]),i(o[0],c[2])),n(i(o[0],c[1]),i(o[1],c[0]))];return u>1?[f]:f}});var CN="diag",TW=["typed","matrix","DenseMatrix","SparseMatrix"],f0=A(CN,TW,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(CN,{Array:function(s){return a(s,0,rt(s),null)},"Array, number":function(s,l){return a(s,l,rt(s),null)},"Array, BigNumber":function(s,l){return a(s,l.toNumber(),rt(s),null)},"Array, string":function(s,l){return a(s,0,rt(s),l)},"Array, number, string":function(s,l,f){return a(s,l,rt(s),f)},"Array, BigNumber, string":function(s,l,f){return a(s,l.toNumber(),rt(s),f)},Matrix:function(s){return a(s,0,s.size(),s.storage())},"Matrix, number":function(s,l){return a(s,l,s.size(),s.storage())},"Matrix, BigNumber":function(s,l){return a(s,l.toNumber(),s.size(),s.storage())},"Matrix, string":function(s,l){return a(s,0,s.size(),l)},"Matrix, number, string":function(s,l,f){return a(s,l,s.size(),f)},"Matrix, BigNumber, string":function(s,l,f){return a(s,l.toNumber(),s.size(),f)}});function a(u,s,l,f){if(!He(s))throw new TypeError("Second parameter in function diag must be an integer");var m=s>0?s:0,p=s<0?-s:0;switch(l.length){case 1:return o(u,s,f,l[0],p,m);case 2:return c(u,s,f,l,p,m)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(u,s,l,f,m,p){var h=[f+m,f+p];if(l&&l!=="sparse"&&l!=="dense")throw new TypeError("Unknown matrix type ".concat(l,'"'));var d=l==="sparse"?i.diagonal(h,u,s):n.diagonal(h,u,s);return l!==null?d:d.valueOf()}function c(u,s,l,f,m,p){if(Ge(u)){var h=u.diagonal(s);return l!==null?l!==h.storage()?r(h,l):h:h.valueOf()}for(var d=Math.min(f[0]-m,f[1]-p),g=[],v=0;v<d;v++)g[v]=u[v+m][v+p];return l!==null?r(g):g}});var Ju=xr(Sh(),1);function li(t,e,r,n,i){if(Ju.default.isTypedFunction(t)){var a=[e,r,n],o=Ju.default.resolve(t,a);if(o)return f(o.implementation,a);var c=[e,r],u=Ju.default.resolve(t,c);if(u)return f(u.implementation,c);var s=[e],l=Ju.default.resolve(t,s);return l?f(l.implementation,s):f(t,a)}else return t(e,r,n);function f(m,p){try{return m.apply(m,p)}catch(g){var h;if(g instanceof TypeError&&((h=g.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat(Dt(e))),p.length>=2&&d.push("index: ".concat(Dt(r))),p.length>=3&&d.push("array: ".concat(Dt(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(t.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(r)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(t.name,": ").concat(g.message))}}}var IW="filter",BW=["typed"],m0=A(IW,BW,t=>{var{typed:e}=t;return e("filter",{"Array, function":FN,"Matrix, function":function(n,i){return n.create(FN(n.toArray(),i))},"Array, RegExp":Cs,"Matrix, RegExp":function(n,i){return n.create(Cs(n.toArray(),i))}})});function FN(t,e){return Mf(t,function(r,n,i){return li(e,r,[n],i,"filter")})}var SN="flatten",OW=["typed","matrix"],p0=A(SN,OW,t=>{var{typed:e,matrix:r}=t;return e(SN,{Array:function(i){return dt(i)},Matrix:function(i){var a=dt(i.toArray());return r(a)}})});var AN="forEach",kW=["typed"],d0=A(AN,kW,t=>{var{typed:e}=t;return e(AN,{"Array, function":RW,"Matrix, function":function(n,i){n.forEach(i)}})});function RW(t,e){var r=function n(i,a){if(Array.isArray(i))Va(i,function(o,c){n(o,a.concat(c))});else return li(e,i,a,t,"forEach")};r(t,[])}var NN="getMatrixDataType",PW=["typed"],h0=A(NN,PW,t=>{var{typed:e}=t;return e(NN,{Array:function(n){return Ua(n,Dt)},Matrix:function(n){return n.getDataType()}})});var _N="identity",LW=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],g0=A(_N,LW,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=t;return e(_N,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(l){return n(l)},"number | BigNumber":function(l){return u(l,l,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(l,f){return u(l,l,f)},"number | BigNumber, number | BigNumber":function(l,f){return u(l,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(l,f,m){return u(l,f,m)},Array:function(l){return c(l)},"Array, string":function(l,f){return c(l,f)},Matrix:function(l){return c(l.valueOf(),l.storage())},"Matrix, string":function(l,f){return c(l.valueOf(),f)}});function c(s,l){switch(s.length){case 0:return l?n(l):[];case 1:return u(s[0],s[0],l);case 2:return u(s[0],s[1],l);default:throw new Error("Vector containing two values expected")}}function u(s,l,f){var m=nt(s)||nt(l)?i:null;if(nt(s)&&(s=s.toNumber()),nt(l)&&(l=l.toNumber()),!He(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!He(l)||l<1)throw new Error("Parameters in function identity must be positive integers");var p=m?new i(1):1,h=m?new m(0):0,d=[s,l];if(f){if(f==="sparse")return o.diagonal(d,p,0,h);if(f==="dense")return a.diagonal(d,p,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=Ai([],d,h),v=s<l?s:l,C=0;C<v;C++)g[C][C]=p;return g}});var MN="kron",qW=["typed","matrix","multiplyScalar"],v0=A(MN,qW,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(MN,{"Matrix, Matrix":function(o,c){return r(i(o.toArray(),c.toArray()))},"Matrix, Array":function(o,c){return r(i(o.toArray(),c))},"Array, Matrix":function(o,c){return r(i(o,c.toArray()))},"Array, Array":i});function i(a,o){if(rt(a).length===1&&(a=[a]),rt(o).length===1&&(o=[o]),rt(a).length>2||rt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var c=[],u=[];return a.map(function(s){return o.map(function(l){return u=[],c.push(u),s.map(function(f){return l.map(function(m){return u.push(n(f,m))})})})})&&c}});var TN="map",VW=["typed"],y0=A(TN,VW,t=>{var{typed:e}=t;return e(TN,{"Array, function":UW,"Matrix, function":function(n,i){return n.map(i)}})});function UW(t,e){var r=function n(i,a){return Array.isArray(i)?i.map(function(o,c){return n(o,a.concat(c))}):li(e,i,a,t,"map")};return r(t,[])}var IN="diff",zW=["typed","matrix","subtract","number"],Xu=A(IN,zW,t=>{var{typed:e,matrix:r,subtract:n,number:i}=t;return e(IN,{"Array | Matrix":function(l){return Ge(l)?r(o(l.toArray())):o(l)},"Array | Matrix, number":function(l,f){if(!He(f))throw new RangeError("Dimension must be a whole number");return Ge(l)?r(a(l.toArray(),f)):a(l,f)},"Array, BigNumber":e.referTo("Array,number",s=>(l,f)=>s(l,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",s=>(l,f)=>s(l,i(f)))});function a(s,l){if(Ge(s)&&(s=s.toArray()),!Array.isArray(s))throw RangeError("Array/Matrix does not have that many dimensions");if(l>0){var f=[];return s.forEach(m=>{f.push(a(m,l-1))}),f}else{if(l===0)return o(s);throw RangeError("Cannot have negative dimension")}}function o(s){for(var l=[],f=s.length,m=1;m<f;m++)l.push(c(s[m-1],s[m]));return l}function c(s,l){Ge(s)&&(s=s.toArray()),Ge(l)&&(l=l.toArray());var f=Array.isArray(s),m=Array.isArray(l);if(f&&m)return u(s,l);if(!f&&!m)return n(l,s);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function u(s,l){if(s.length!==l.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],m=s.length,p=0;p<m;p++)f.push(c(s[p],l[p]));return f}});var WW="ones",HW=["typed","config","matrix","BigNumber"],b0=A(WW,HW,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var l=s[s.length-1];if(typeof l=="string"){var f=s.pop();return a(s,f)}else return r.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var l=s.storage();return a(s.valueOf(),l)},"Array | Matrix, string":function(s,l){return a(s.valueOf(),l)}});function a(u,s){var l=o(u),f=l?new i(1):1;if(c(u),s){var m=n(s);return u.length>0?m.resize(u,f):m}else{var p=[];return u.length>0?Ai(p,u,f):p}}function o(u){var s=!1;return u.forEach(function(l,f,m){nt(l)&&(s=!0,m[f]=l.toNumber())}),s}function c(u){u.forEach(function(s){if(typeof s!="number"||!He(s)||s<0)throw new Error("Parameters in function ones must be positive integers")})}});function Is(){throw new Error('No "bignumber" implementation available')}function Jf(){throw new Error('No "fraction" implementation available')}function Xf(){throw new Error('No "matrix" implementation available')}var BN="range",GW=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Qu=A(BN,GW,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:u,add:s,isPositive:l}=t;return e(BN,{string:m,"string, boolean":m,"number, number":function(g,v){return f(p(g,v,1,!1))},"number, number, number":function(g,v,C){return f(p(g,v,C,!1))},"number, number, boolean":function(g,v,C){return f(p(g,v,1,C))},"number, number, number, boolean":function(g,v,C,y){return f(p(g,v,C,y))},"BigNumber, BigNumber":function(g,v){var C=g.constructor;return f(p(g,v,new C(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,v,C){return f(p(g,v,C,!1))},"BigNumber, BigNumber, boolean":function(g,v,C){var y=g.constructor;return f(p(g,v,new y(1),C))},"BigNumber, BigNumber, BigNumber, boolean":function(g,v,C,y){return f(p(g,v,C,y))},"Unit, Unit, Unit":function(g,v,C){return f(p(g,v,C,!1))},"Unit, Unit, Unit, boolean":function(g,v,C,y){return f(p(g,v,C,y))}});function f(d){return r.matrix==="Matrix"?n?n(d):Xf():d}function m(d,g){var v=h(d);if(!v)throw new SyntaxError('String "'+d+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&Is(),f(p(i(v.start),i(v.end),i(v.step)),g)):f(p(v.start,v.end,v.step,g))}function p(d,g,v,C){for(var y=[],D=l(v)?C?o:a:C?u:c,b=d;D(b,g);)y.push(b),b=s(b,v);return y}function h(d){var g=d.split(":"),v=g.map(function(y){return Number(y)}),C=v.some(function(y){return isNaN(y)});if(C)return null;switch(v.length){case 2:return{start:v[0],end:v[1],step:1};case 3:return{start:v[0],end:v[2],step:v[1]};default:return null}}});var ON="reshape",jW=["typed","isInteger","matrix"],x0=A(ON,jW,t=>{var{typed:e,isInteger:r}=t;return e(ON,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!r(o))throw new TypeError("Invalid size for dimension: "+o)}),Ru(i,a)}})});var ZW="resize",YW=["config","matrix"],D0=A(ZW,YW,t=>{var{config:e,matrix:r}=t;return function(a,o,c){if(arguments.length!==2&&arguments.length!==3)throw new ma("resize",arguments.length,2,3);if(Ge(o)&&(o=o.valueOf()),nt(o[0])&&(o=o.map(function(l){return nt(l)?l.toNumber():l})),Ge(a))return a.resize(o,c,!0);if(typeof a=="string")return n(a,o,c);var u=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return et(a)}else{Array.isArray(a)||(a=[a]),a=et(a);var s=Ai(a,o,c);return u?r(s):s}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new ot(a.length,1);var c=a[0];if(typeof c!="number"||!He(c))throw new TypeError("Invalid size, must contain positive integers (size: "+at(a)+")");if(i.length>c)return i.substring(0,c);if(i.length<c){for(var u=i,s=0,l=c-i.length;s<l;s++)u+=o;return u}else return i}});var kN="rotate",JW=["typed","multiply","rotationMatrix"],w0=A(kN,JW,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(kN,{"Array , number | BigNumber | Complex | Unit":function(o,c){i(o,2);var u=r(n(c),o);return u.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,c){return i(o,2),r(n(c),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,c,u){i(o,3);var s=r(n(c,u),o);return s},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,c,u){return i(o,3),r(n(c,u),o)}});function i(a,o){var c=Array.isArray(a)?rt(a):a.size();if(c.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(c.length===2&&c[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(c[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var RN="rotationMatrix",XW=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],E0=A(RN,XW,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:c,matrix:u,DenseMatrix:s,SparseMatrix:l,cos:f,sin:m}=t;return e(RN,{"":function(){return r.matrix==="Matrix"?u([]):[]},string:function(y){return u(y)},"number | BigNumber | Complex | Unit":function(y){return p(y,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,D){return p(y,D)},"number | BigNumber | Complex | Unit, Array":function(y,D){var b=u(D);return h(b),v(y,b,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,D){h(D);var b=D.storage()||(r.matrix==="Matrix"?"dense":void 0);return v(y,D,b)},"number | BigNumber | Complex | Unit, Array, string":function(y,D,b){var x=u(D);return h(x),v(y,x,b)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,D,b){return h(D),v(y,D,b)}});function p(C,y){var D=nt(C),b=D?new c(-1):-1,x=f(C),w=m(C),S=[[x,n(b,w)],[w,x]];return g(S,y)}function h(C){var y=C.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(C){return C.reduce((y,D)=>n(y,D))}function g(C,y){if(y){if(y==="sparse")return new l(C);if(y==="dense")return new s(C);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return C}function v(C,y,D){var b=o(y);if(b===0)throw new RangeError("Rotation around zero vector");var x=nt(C)?c:null,w=x?new x(1):1,S=x?new x(-1):-1,E=x?new x(y.get([0])/b):y.get([0])/b,F=x?new x(y.get([1])/b):y.get([1])/b,M=x?new x(y.get([2])/b):y.get([2])/b,B=f(C),k=i(w,a(B)),R=m(C),P=i(B,d([E,E,k])),T=i(d([E,F,k]),d([S,M,R])),I=i(d([E,M,k]),d([F,R])),V=i(d([E,F,k]),d([M,R])),O=i(B,d([F,F,k])),J=i(d([F,M,k]),d([S,E,R])),$=i(d([E,M,k]),d([S,F,R])),W=i(d([F,M,k]),d([E,R])),q=i(B,d([M,M,k])),te=[[P,T,I],[V,O,J],[$,W,q]];return g(te,D)}});var PN="row",QW=["typed","Index","matrix","range"],Ku=A(PN,QW,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(PN,{"Matrix, number":a,"Array, number":function(c,u){return a(n(et(c)),u).valueOf()}});function a(o,c){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Vt(c,o.size()[0]);var u=i(0,o.size()[1]),s=new r(c,u),l=o.subset(s);return Ge(l)?l:n([[l]])}});var LN="size",KW=["typed","config","?matrix"],C0=A(LN,KW,t=>{var{typed:e,config:r,matrix:n}=t;return e(LN,{Matrix:function(a){return a.create(a.size())},Array:rt,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([]):Xf()}})});var qN="squeeze",$W=["typed","matrix"],F0=A(qN,$W,t=>{var{typed:e,matrix:r}=t;return e(qN,{Array:function(i){return Es(et(i))},Matrix:function(i){var a=Es(i.toArray());return Array.isArray(a)?r(a):a},any:function(i){return et(i)}})});var VN="subset",eH=["typed","matrix","zeros","add"],$u=A(VN,eH,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t;return e(VN,{"Matrix, Index":function(c,u){return Ao(u)?r():(ku(c,u),c.subset(u))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(c,u){var s=o(r(c),u);return u.isScalar()?s:s.valueOf()}}),"Object, Index":rH,"string, Index":tH,"Matrix, Index, any, any":function(c,u,s,l){return Ao(u)?c:(ku(c,u),c.clone().subset(u,a(s,u),l))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,u,s,l){var f=o(r(c),u,s,l);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,u,s){return o(r(c),u,s,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,u,s){return o(c,u,s,void 0)}}),"string, Index, string":UN,"string, Index, string, string":UN,"Object, Index, any":nH});function a(o,c){if(typeof o=="string")throw new Error("can't boradcast a string");if(c._isScalar)return o;var u=c.size();if(u.every(s=>s>0))try{return i(o,n(u))}catch(s){return o}else return o}});function tH(t,e){if(!La(e))throw new TypeError("Index expected");if(Ao(e))return"";if(ku(Array.from(t),e),e.size().length!==1)throw new ot(e.size().length,1);var r=t.length;Vt(e.min()[0],r),Vt(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(a){i+=t.charAt(a)}),i}function UN(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Ao(e))return t;if(ku(Array.from(t),e),e.size().length!==1)throw new ot(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==r.length)throw new ot(i.size()[0],r.length);var o=t.length;Vt(e.min()[0]),Vt(e.max()[0]);for(var c=[],u=0;u<o;u++)c[u]=t.charAt(u);if(i.forEach(function(f,m){c[f]=r.charAt(m[0])}),c.length>o)for(var s=o-1,l=c.length;s<l;s++)c[s]||(c[s]=n);return c.join("")}function rH(t,e){if(!Ao(e)){if(e.size().length!==1)throw new ot(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return ur(t,r)}}function nH(t,e,r){if(Ao(e))return t;if(e.size().length!==1)throw new ot(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=et(t);return Gi(i,n,r),i}var zN="transpose",iH=["typed","matrix"],S0=A(zN,iH,t=>{var{typed:e,matrix:r}=t;return e(zN,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:et});function n(o){var c=o.size(),u;switch(c.length){case 1:u=o.clone();break;case 2:{var s=c[0],l=c[1];if(l===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+at(c)+")");switch(o.storage()){case"dense":u=i(o,s,l);break;case"sparse":u=a(o,s,l);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+at(c)+")")}return u}function i(o,c,u){for(var s=o._data,l=[],f,m=0;m<u;m++){f=l[m]=[];for(var p=0;p<c;p++)f[p]=et(s[p][m])}return o.createDenseMatrix({data:l,size:[u,c],datatype:o._datatype})}function a(o,c,u){for(var s=o._values,l=o._index,f=o._ptr,m=s?[]:void 0,p=[],h=[],d=[],g=0;g<c;g++)d[g]=0;var v,C,y;for(v=0,C=l.length;v<C;v++)d[l[v]]++;for(var D=0,b=0;b<c;b++)h.push(D),D+=d[b],d[b]=h[b];for(h.push(D),y=0;y<u;y++)for(var x=f[y],w=f[y+1],S=x;S<w;S++){var E=d[l[S]]++;p[E]=y,s&&(m[E]=et(s[S]))}return o.createSparseMatrix({values:m,index:p,ptr:h,size:[u,c],datatype:o._datatype})}});var WN="ctranspose",aH=["typed","transpose","conj"],A0=A(WN,aH,t=>{var{typed:e,transpose:r,conj:n}=t;return e(WN,{any:function(a){return n(r(a))}})});var HN="zeros",oH=["typed","config","matrix","BigNumber"],N0=A(HN,oH,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(HN,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var l=s[s.length-1];if(typeof l=="string"){var f=s.pop();return a(s,f)}else return r.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var l=s.storage();return a(s.valueOf(),l)},"Array | Matrix, string":function(s,l){return a(s.valueOf(),l)}});function a(u,s){var l=o(u),f=l?new i(0):0;if(c(u),s){var m=n(s);return u.length>0?m.resize(u,f):m}else{var p=[];return u.length>0?Ai(p,u,f):p}}function o(u){var s=!1;return u.forEach(function(l,f,m){nt(l)&&(s=!0,m[f]=l.toNumber())}),s}function c(u){u.forEach(function(s){if(typeof s!="number"||!He(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});var GN="fft",sH=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],_0=A(GN,sH,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:c,i:u,dotDivide:s,conj:l,pow:f,ceil:m,log2:p}=t;return e(GN,{Array:h,Matrix:function(y){return y.create(h(y.toArray()))}});function h(C){var y=rt(C);return y.length===1?v(C,y[0]):d(C.map(D=>h(D,y.slice(1))),0)}function d(C,y){var D=rt(C);if(y!==0)return new Array(D[0]).fill(0).map((x,w)=>d(C[w],y-1));if(D.length===1)return v(C);function b(x){var w=rt(x);return new Array(w[1]).fill(0).map((S,E)=>new Array(w[0]).fill(0).map((F,M)=>x[M][E]))}return b(d(b(C),1))}function g(C){for(var y=C.length,D=o(a(i(-1,i(u,c)),y)),b=[],x=1-y;x<y;x++)b.push(f(D,a(f(x,2),2)));for(var w=f(2,m(p(y+y-1))),S=[...new Array(y).fill(0).map((T,I)=>i(C[I],b[y-1+I])),...new Array(w-y).fill(0)],E=[...new Array(y+y-1).fill(0).map((T,I)=>a(1,b[I])),...new Array(w-(y+y-1)).fill(0)],F=v(S),M=v(E),B=new Array(w).fill(0).map((T,I)=>i(F[I],M[I])),k=s(l(h(l(B))),w),R=[],P=y-1;P<y+y-1;P++)R.push(i(k[P],b[P]));return R}function v(C){var y=C.length;if(y===1)return[C[0]];if(y%2===0){for(var D=[...v(C.filter((S,E)=>E%2===0),y/2),...v(C.filter((S,E)=>E%2===1),y/2)],b=0;b<y/2;b++){var x=D[b],w=i(D[b+y/2],o(i(i(c,u),a(-b,y))));D[b]=n(x,w),D[b+y/2]=n(x,i(-1,w))}return D}else return g(C)}});var jN="ifft",uH=["typed","fft","dotDivide","conj"],M0=A(jN,uH,t=>{var{typed:e,fft:r,dotDivide:n,conj:i}=t;return e(jN,{"Array | Matrix":function(o){var c=Ge(o)?o.size():rt(o);return n(i(r(i(o))),c.reduce((u,s)=>u*s,1))}})});function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function T0(t,e){if(Ja(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ja(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0(t){var e=T0(t,"string");return Ja(e)==="symbol"?e:String(e)}function Bt(t,e,r){return e=I0(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(r),!0).forEach(function(n){Bt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var cH="solveODE",fH=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],B0=A(cH,fH,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,max:o,map:c,abs:u,isPositive:s,isNegative:l,larger:f,smaller:m,matrix:p,bignumber:h,unaryMinus:d}=t;function g(S){return function(E,F,M,B){var k=!(F.length===2&&(F.every(x)||F.every(sn)));if(k)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var R=F[0],P=F[1],T=f(P,R),I=B.firstStep;if(I!==void 0&&!s(I))throw new Error('"firstStep" must be positive');var V=B.maxStep;if(V!==void 0&&!s(V))throw new Error('"maxStep" must be positive');var O=B.minStep;if(O&&l(O))throw new Error('"minStep" must be positive or zero');var J=[R,P,I,O,V].filter(Le=>Le!==void 0);if(!(J.every(x)||J.every(sn)))throw new Error('Inconsistent type of "t" dependant variables');for(var $=1,W=B.tol?B.tol:1e-4,q=B.minDelta?B.minDelta:.2,te=B.maxDelta?B.maxDelta:5,ge=B.maxIter?B.maxIter:1e4,oe=[R,P,...M,V,O].some(nt),[ce,pe,ue,ae]=oe?[h(S.a),h(S.c),h(S.b),h(S.bp)]:[S.a,S.c,S.b,S.bp],me=I?T?I:d(I):a(n(P,R),$),xe=[R],Re=[M],We=n(ue,ae),z=0,Z=0,fe=D(T),H=b(T);fe(xe[z],P);){var K=[];me=H(xe[z],P,me),K.push(E(xe[z],Re[z]));for(var ie=1;ie<pe.length;++ie)K.push(E(r(xe[z],i(pe[ie],me)),r(Re[z],i(me,ce[ie],K))));var be=o(u(c(i(We,K),Le=>sn(Le)?Le.value:Le)));be<W&&W/be>1/4&&(xe.push(r(xe[z],me)),Re.push(r(Re[z],i(me,ue,K))),z++);var ye=.84*(W/be)**(1/5);if(m(ye,q)?ye=q:f(ye,te)&&(ye=te),ye=oe?h(ye):ye,me=i(me,ye),V&&f(u(me),V)?me=T?V:d(V):O&&m(u(me),O)&&(me=T?O:d(O)),Z++,Z>ge)throw new Error("Maximum number of iterations reached, try changing options")}return{t:xe,y:Re}}}function v(S,E,F,M){var B=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],k=[null,1/2,3/4,1],R=[2/9,1/3,4/9,0],P=[7/24,1/4,1/3,1/8],T={a:B,c:k,b:R,bp:P};return g(T)(S,E,F,M)}function C(S,E,F,M){var B=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],k=[null,1/5,3/10,4/5,8/9,1,1],R=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],P=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],T={a:B,c:k,b:R,bp:P};return g(T)(S,E,F,M)}function y(S,E,F,M){var B=M.method?M.method:"RK45",k={RK23:v,RK45:C};if(B.toUpperCase()in k){var R=lH({},M);return delete R.method,k[B.toUpperCase()](S,E,F,R)}else{var P=Object.keys(k).map(I=>'"'.concat(I,'"')),T="".concat(P.slice(0,-1).join(", ")," and ").concat(P.slice(-1));throw new Error('Unavailable method "'.concat(B,'". Available methods are ').concat(T))}}function D(S){return S?m:f}function b(S){var E=S?f:m;return function(F,M,B){var k=r(F,B);return E(k,M)?n(M,F):B}}function x(S){return nt(S)||it(S)}function w(S,E,F,M){var B=y(S,E.toArray(),F.toArray(),M);return{t:p(B.t),y:p(B.y)}}return e("solveODE",{"function, Array, Array, Object":y,"function, Matrix, Matrix, Object":w,"function, Array, Array":(S,E,F)=>y(S,E,F,{}),"function, Matrix, Matrix":(S,E,F)=>w(S,E,F,{}),"function, Array, number | BigNumber | Unit":(S,E,F)=>{var M=y(S,E,[F],{});return{t:M.t,y:M.y.map(B=>B[0])}},"function, Matrix, number | BigNumber | Unit":(S,E,F)=>{var M=y(S,E.toArray(),[F],{});return{t:p(M.t),y:p(M.y.map(B=>B[0]))}},"function, Array, number | BigNumber | Unit, Object":(S,E,F,M)=>{var B=y(S,E,[F],M);return{t:B.t,y:B.y.map(k=>k[0])}},"function, Matrix, number | BigNumber | Unit, Object":(S,E,F,M)=>{var B=y(S,E.toArray(),[F],M);return{t:p(B.t),y:p(B.y.map(k=>k[0]))}}})});var mH="erf",pH=["typed"],O0=A(mH,pH,t=>{var{typed:e}=t;return e("name",{number:function(o){var c=Math.abs(o);return c>=gH?oi(o):c<=dH?oi(o)*r(c):c<=4?oi(o)*(1-n(c)):oi(o)*(1-i(c))},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a))});function r(a){var o=a*a,c=pa[0][4]*o,u=o,s;for(s=0;s<3;s+=1)c=(c+pa[0][s])*o,u=(u+Bs[0][s])*o;return a*(c+pa[0][3])/(u+Bs[0][3])}function n(a){var o=pa[1][8]*a,c=a,u;for(u=0;u<7;u+=1)o=(o+pa[1][u])*a,c=(c+Bs[1][u])*a;var s=(o+pa[1][7])/(c+Bs[1][7]),l=parseInt(a*16)/16,f=(a-l)*(a+l);return Math.exp(-l*l)*Math.exp(-f)*s}function i(a){var o=1/(a*a),c=pa[2][5]*o,u=o,s;for(s=0;s<4;s+=1)c=(c+pa[2][s])*o,u=(u+Bs[2][s])*o;var l=o*(c+pa[2][4])/(u+Bs[2][4]);l=(hH-l)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*l}}),dH=.46875,hH=.5641895835477563,pa=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Bs=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],gH=Math.pow(2,53);var YN="zeta",vH=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],k0=A(YN,vH,t=>{var{typed:e,config:r,multiply:n,pow:i,divide:a,factorial:o,equal:c,smallerEq:u,isNegative:s,gamma:l,sin:f,subtract:m,add:p,Complex:h,BigNumber:d,pi:g}=t;return e(YN,{number:x=>v(x,w=>w,()=>20),BigNumber:x=>v(x,w=>new d(w),()=>Math.abs(Math.log10(r.epsilon))),Complex:C});function v(x,w,S){return c(x,0)?w(-.5):c(x,1)?w(NaN):isFinite(x)?y(x,w,S,E=>E):s(x)?w(NaN):w(1)}function C(x){return x.re===0&&x.im===0?new h(-.5):x.re===1?new h(NaN,NaN):x.re===1/0&&x.im===0?new h(1):x.im===1/0||x.re===-1/0?new h(NaN,NaN):y(x,w=>w,w=>Math.round(1.3*15+.9*Math.abs(w.im)),w=>w.re)}function y(x,w,S,E){var F=S(x);if(E(x)>-(F-1)/2)return b(x,w(F),w);var M=n(i(2,x),i(w(g),m(x,1)));return M=n(M,f(n(a(w(g),2),x))),M=n(M,l(m(1,x))),n(M,y(m(1,x),w,S,E))}function D(x,w){for(var S=x,E=x;u(E,w);E=p(E,1)){var F=a(n(o(p(w,m(E,1))),i(4,E)),n(o(m(w,E)),o(n(2,E))));S=p(S,F)}return n(w,S)}function b(x,w,S){for(var E=a(1,n(D(S(0),w),m(1,i(2,m(1,x))))),F=S(0),M=S(1);u(M,w);M=p(M,1))F=p(F,a(n((-1)**(M-1),D(M,w)),i(M,x)));return n(E,F)}});var JN="mode",yH=["typed","isNaN","isNumeric"],R0=A(JN,yH,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(JN,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=dt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var c={},u=[],s=0,l=0;l<a.length;l++){var f=a[l];if(n(f)&&r(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in c||(c[f]=0),c[f]++,c[f]===s?u.push(f):c[f]>s&&(s=c[f],u=[f])}return u}});function hr(t,e,r){var n;return String(t).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+Dt(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+Dt(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var XN="prod",bH=["typed","config","multiplyScalar","numeric"],P0=A(XN,bH,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:i}=t;return e(XN,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(c){return a(c)}});function a(o){var c;if(gn(o,function(u){try{c=c===void 0?u:n(c,u)}catch(s){throw hr(s,"prod",u)}}),typeof c=="string"&&(c=i(c,r.number)),c===void 0)throw new Error("Cannot calculate prod of an empty array");return c}});var QN="format",xH=["typed"],L0=A(QN,xH,t=>{var{typed:e}=t;return e(QN,{any:at,"any, Object | function | number":at})});var KN="bin",DH=["typed","format"],q0=A(KN,DH,t=>{var{typed:e,format:r}=t;return e(KN,{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"bin",wordSize:a})}})});var $N="oct",wH=["typed","format"],V0=A($N,wH,t=>{var{typed:e,format:r}=t;return e($N,{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"oct",wordSize:a})}})});var e_="hex",EH=["typed","format"],U0=A(e_,EH,t=>{var{typed:e,format:r}=t;return e(e_,{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"hex",wordSize:a})}})});var Qf=/\$([\w.]+)/g;var t_="print",CH=["typed"],el=A(t_,CH,t=>{var{typed:e}=t;return e(t_,{"string, Object | Array":r_,"string, Object | Array, number | Object":r_})});function r_(t,e,r){return t.replace(Qf,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var c=a.shift();o=c?o[c]:o+"."}return o!==void 0?pr(o)?o:at(o,r):n})}var n_="to",FH=["typed","matrix","concat"],z0=A(n_,FH,t=>{var{typed:e,matrix:r,concat:n}=t,i=ct({typed:e,matrix:r,concat:n});return e(n_,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var i_="isPrime",SH=["typed"],W0=A(i_,SH,t=>{var{typed:e}=t;return e(i_,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(C,y,D){for(var b=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),C=C.mul(C).mod(D)):(y=y.sub(1),b=C.mul(b).mod(D));return b}var c=n.constructor.clone({precision:n.toFixed(0).length*2});n=new c(n);for(var u=0,s=n.sub(1);s.mod(2).eq(0);)s=s.div(2),u+=1;var l=null;if(n.lt("3317044064679887385961981"))l=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(C=>C<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));l=[];for(var m=2;m<=f;m+=1)l.push(f)}for(var p=0;p<l.length;p+=1){var h=l[p],d=o(n.sub(n).add(h),s,n);if(!d.eq(1)){for(var g=0,v=d;!v.eq(n.sub(1));g+=1,v=v.mul(v).mod(n))if(g===u-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var AH="numeric",NH=["number","?bignumber","?fraction"],H0=A(AH,NH,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:r?o=>r(o):Is,Fraction:n?o=>n(o):Jf};return function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var l=Dt(c);if(!(l in i))throw new TypeError("Cannot convert "+c+' of type "'+l+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+c+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===l?c:a[u](c)}});var a_="divideScalar",_H=["typed","numeric"],G0=A(a_,_H,t=>{var{typed:e,numeric:r}=t;return e(a_,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var o_="pow",MH=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],j0=A(o_,MH,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:a,inv:o,number:c,fraction:u,Complex:s}=t;return e(o_,{"number, number":l,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||r.predictable?h.pow(d):new s(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var g=h.pow(d);if(g!=null)return g;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return l(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(h,d){return m(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function l(p,h){if(r.predictable&&!He(h)&&p<0)try{var d=u(h),g=c(d);if((h===g||Math.abs((h-g)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-p,h)}catch(v){}return r.predictable&&(p<-1&&h===1/0||p>-1&&p<0&&h===-1/0)?NaN:He(h)||p>=0||r.predictable?bg(p,h):p*p<1&&h===1/0||p*p>1&&h===-1/0?0:new s(p,0).pow(h,0)}function f(p,h){if(!He(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=rt(p);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(p),-h)}catch(C){throw C.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):C}for(var g=n(d[0]).valueOf(),v=p;h>=1;)(h&1)===1&&(g=i(v,g)),h>>=1,v=i(v,v);return g}function m(p,h){return a(f(p.valueOf(),h))}});var Os="Number of decimals in function round must be an integer",s_="round",TH=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Z0=A(s_,TH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:a,DenseMatrix:o}=t,c=Ut({typed:e,equalScalar:n}),u=Mt({typed:e,DenseMatrix:o}),s=Sr({typed:e});return e(s_,{number:xg,"number, number":xg,"number, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Os);return new a(f).toDecimalPlaces(m.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,m){if(m%1)throw new TypeError(Os);return f.round(m)},"Complex, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Os);var p=m.toNumber();return f.round(p)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Os);return f.toDecimalPlaces(m.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,m){if(m%1)throw new TypeError(Os);return f.round(m)},"Fraction, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Os);return f.round(m.toNumber())},"Array | Matrix":e.referToSelf(l=>f=>Ze(f,l,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(l=>(f,m)=>c(f,m,l,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(l=>(f,m)=>s(f,m,l,!1)),"Array, number | BigNumber":e.referToSelf(l=>(f,m)=>s(r(f),m,l,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(l=>(f,m)=>n(f,0)?i(m.size(),m.storage()):u(m,f,l,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(l=>(f,m)=>n(f,0)?i(m.size(),m.storage()):s(m,f,l,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(l=>(f,m)=>s(r(m),f,l,!0).valueOf())})});var u_="log",IH=["config","typed","divideScalar","Complex"],Y0=A(u_,IH,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t;return e(u_,{number:function(o){return o>=0||r.predictable?fA(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||r.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,c)=>n(a(o),a(c)))})});var l_="log1p",BH=["typed","config","divideScalar","log","Complex"],J0=A(l_,BH,t=>{var{typed:e,config:r,divideScalar:n,log:i,Complex:a}=t;return e(l_,{number:function(u){return u>=-1||r.predictable?Ef(u):o(new a(u,0))},Complex:o,BigNumber:function(u){var s=u.plus(1);return!s.isNegative()||r.predictable?s.ln():o(new a(u.toNumber(),0))},"Array | Matrix":e.referToSelf(c=>u=>Ze(u,c)),"any, any":e.referToSelf(c=>(u,s)=>n(c(u),i(s)))});function o(c){var u=c.re+1;return new a(Math.log(Math.sqrt(u*u+c.im*c.im)),Math.atan2(c.im,u))}});var c_="nthRoots",OH=["config","typed","divideScalar","Complex"],X0=A(c_,OH,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t,a=[function(u){return new i(u,0)},function(u){return new i(0,u)},function(u){return new i(-u,0)},function(u){return new i(0,-u)}];function o(c,u){if(u<0)throw new Error("Root must be greater than zero");if(u===0)throw new Error("Root must be non-zero");if(u%1!==0)throw new Error("Root must be an integer");if(c===0||c.abs()===0)return[new i(0,0)];var s=typeof c=="number",l;(s||c.re===0||c.im===0)&&(s?l=2*+(c<0):c.im===0?l=2*+(c.re<0):l=2*+(c.im<0)+1);for(var f=c.arg(),m=c.abs(),p=[],h=Math.pow(m,1/u),d=0;d<u;d++){var g=(l+4*d)/u;if(g===Math.round(g)){p.push(a[g%4](h));continue}p.push(new i({r:h,phi:(f+2*Math.PI*d)/u}))}return p}return e(c_,{Complex:function(u){return o(u,2)},"Complex, number":o})});var f_="dotPow",kH=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],Q0=A(f_,kH,t=>{var{typed:e,equalScalar:r,matrix:n,pow:i,DenseMatrix:a,concat:o}=t,c=Qt({typed:e}),u=Or({typed:e,DenseMatrix:a}),s=Ut({typed:e,equalScalar:r}),l=Mt({typed:e,DenseMatrix:a}),f=ct({typed:e,matrix:n,concat:o}),m={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(m[p]=i.signatures[p]);var h=e(m);return e(f_,f({elop:h,SS:u,DS:c,Ss:s,sS:l}))});var m_="dotDivide",RH=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],K0=A(m_,RH,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=t,c=Ar({typed:e,equalScalar:n}),u=Qt({typed:e}),s=Or({typed:e,DenseMatrix:a}),l=Ut({typed:e,equalScalar:n}),f=Mt({typed:e,DenseMatrix:a}),m=ct({typed:e,matrix:r,concat:o});return e(m_,m({elop:i,SS:s,DS:u,SD:c,Ss:l,sS:f}))});function Ji(t){var{DenseMatrix:e}=t;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+at(o)+")");var c=o[0],u=o[1];if(c!==u)throw new RangeError("Matrix must be square (size: "+at(o)+")");var s=[];if(Ge(i)){var l=i.size(),f=i._data;if(l.length===1){if(l[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var m=0;m<c;m++)s[m]=[f[m]];return new e({data:s,size:[c,1],datatype:i._datatype})}if(l.length===2){if(l[0]!==c||l[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Co(i)){if(a){s=[];for(var p=0;p<c;p++)s[p]=[f[p][0]];return new e({data:s,size:[c,1],datatype:i._datatype})}return i}if(Ci(i)){for(var h=0;h<c;h++)s[h]=[0];for(var d=i._values,g=i._index,v=i._ptr,C=v[1],y=v[0];y<C;y++){var D=g[y];s[D][0]=d[y]}return new e({data:s,size:[c,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(wt(i)){var b=rt(i);if(b.length===1){if(b[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<c;x++)s[x]=[i[x]];return new e({data:s,size:[c,1]})}if(b.length===2){if(b[0]!==c||b[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var w=0;w<c;w++)s[w]=[i[w][0]];return new e({data:s,size:[c,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var p_="lsolve",PH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],$0=A(p_,PH,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=t,u=Ji({DenseMatrix:c});return e(p_,{"SparseMatrix, Array | Matrix":function(m,p){return l(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=r(m),d=s(h,p);return d.valueOf()}});function s(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=[],v=f._data,C=0;C<d;C++){var y=p[C][0]||0,D=void 0;if(o(y,0))D=0;else{var b=v[C][C];if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(y,b);for(var x=C+1;x<h;x++)p[x]=[a(p[x][0]||0,i(D,v[x][C]))]}g[C]=[D]}return new c({data:g,size:[h,1]})}function l(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,C=f._ptr,y=[],D=0;D<d;D++){var b=p[D][0]||0;if(o(b,0))y[D]=[0];else{for(var x=0,w=[],S=[],E=C[D],F=C[D+1],M=E;M<F;M++){var B=v[M];B===D?x=g[M]:B>D&&(w.push(g[M]),S.push(B))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(b,x),R=0,P=S.length;R<P;R++){var T=S[R];p[T]=[a(p[T][0]||0,i(k,w[R]))]}y[D]=[k]}}return new c({data:y,size:[h,1]})}});var d_="usolve",LH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ey=A(d_,LH,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=t,u=Ji({DenseMatrix:c});return e(d_,{"SparseMatrix, Array | Matrix":function(m,p){return l(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=r(m),d=s(h,p);return d.valueOf()}});function s(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=[],v=f._data,C=d-1;C>=0;C--){var y=p[C][0]||0,D=void 0;if(o(y,0))D=0;else{var b=v[C][C];if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(y,b);for(var x=C-1;x>=0;x--)p[x]=[a(p[x][0]||0,i(D,v[x][C]))]}g[C]=[D]}return new c({data:g,size:[h,1]})}function l(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,C=f._ptr,y=[],D=d-1;D>=0;D--){var b=p[D][0]||0;if(o(b,0))y[D]=[0];else{for(var x=0,w=[],S=[],E=C[D],F=C[D+1],M=F-1;M>=E;M--){var B=v[M];B===D?x=g[M]:B<D&&(w.push(g[M]),S.push(B))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(b,x),R=0,P=S.length;R<P;R++){var T=S[R];p[T]=[a(p[T][0],i(k,w[R]))]}y[D]=[k]}}return new c({data:y,size:[h,1]})}});var h_="lsolveAll",qH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ty=A(h_,qH,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=t,u=Ji({DenseMatrix:c});return e(h_,{"SparseMatrix, Array | Matrix":function(m,p){return l(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=r(m),d=s(h,p);return d.map(g=>g.valueOf())}});function s(f,m){for(var p=[u(f,m,!0)._data.map(S=>S[0])],h=f._data,d=f._size[0],g=f._size[1],v=0;v<g;v++)for(var C=p.length,y=0;y<C;y++){var D=p[y];if(o(h[v][v],0))if(o(D[v],0)){if(y===0){var x=[...D];x[v]=1;for(var w=v+1;w<g;w++)x[w]=a(x[w],h[w][v]);p.push(x)}}else{if(y===0)return[];p.splice(y,1),y-=1,C-=1}else{D[v]=n(D[v],h[v][v]);for(var b=v+1;b<g;b++)D[b]=a(D[b],i(D[v],h[b][v]))}}return p.map(S=>new c({data:S.map(E=>[E]),size:[d,1]}))}function l(f,m){for(var p=[u(f,m,!0)._data.map($=>$[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,C=f._ptr,y=0;y<d;y++)for(var D=p.length,b=0;b<D;b++){for(var x=p[b],w=[],S=[],E=C[y],F=C[y+1],M=0,B=E;B<F;B++){var k=v[B];k===y?M=g[B]:k>y&&(w.push(g[B]),S.push(k))}if(o(M,0))if(o(x[y],0)){if(b===0){var I=[...x];I[y]=1;for(var V=0,O=S.length;V<O;V++){var J=S[V];I[J]=a(I[J],w[V])}p.push(I)}}else{if(b===0)return[];p.splice(b,1),b-=1,D-=1}else{x[y]=n(x[y],M);for(var R=0,P=S.length;R<P;R++){var T=S[R];x[T]=a(x[T],i(x[y],w[R]))}}}return p.map($=>new c({data:$.map(W=>[W]),size:[h,1]}))}});var g_="usolveAll",VH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ry=A(g_,VH,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=t,u=Ji({DenseMatrix:c});return e(g_,{"SparseMatrix, Array | Matrix":function(m,p){return l(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=r(m),d=s(h,p);return d.map(g=>g.valueOf())}});function s(f,m){for(var p=[u(f,m,!0)._data.map(S=>S[0])],h=f._data,d=f._size[0],g=f._size[1],v=g-1;v>=0;v--)for(var C=p.length,y=0;y<C;y++){var D=p[y];if(o(h[v][v],0))if(o(D[v],0)){if(y===0){var x=[...D];x[v]=1;for(var w=v-1;w>=0;w--)x[w]=a(x[w],h[w][v]);p.push(x)}}else{if(y===0)return[];p.splice(y,1),y-=1,C-=1}else{D[v]=n(D[v],h[v][v]);for(var b=v-1;b>=0;b--)D[b]=a(D[b],i(D[v],h[b][v]))}}return p.map(S=>new c({data:S.map(E=>[E]),size:[d,1]}))}function l(f,m){for(var p=[u(f,m,!0)._data.map($=>$[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,C=f._ptr,y=d-1;y>=0;y--)for(var D=p.length,b=0;b<D;b++){for(var x=p[b],w=[],S=[],E=C[y],F=C[y+1],M=0,B=F-1;B>=E;B--){var k=v[B];k===y?M=g[B]:k<y&&(w.push(g[B]),S.push(k))}if(o(M,0))if(o(x[y],0)){if(b===0){var I=[...x];I[y]=1;for(var V=0,O=S.length;V<O;V++){var J=S[V];I[J]=a(I[J],w[V])}p.push(I)}}else{if(b===0)return[];p.splice(b,1),b-=1,D-=1}else{x[y]=n(x[y],M);for(var R=0,P=S.length;R<P;R++){var T=S[R];x[T]=a(x[T],i(x[y],w[R]))}}}return p.map($=>new c({data:$.map(W=>[W]),size:[h,1]}))}});var UH="matAlgo08xS0Sid",zH=["typed","equalScalar"],ks=A(UH,zH,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(l.length!==d.length)throw new ot(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!c||!m)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v=l[0],C=l[1],y,D=r,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));for(var w=[],S=[],E=[],F=[],M=[],B,k,R,P,T=0;T<C;T++){E[T]=S.length;var I=T+1;for(k=s[T],R=s[T+1],B=k;B<R;B++)P=u[B],M[P]=I,F[P]=c[B],S.push(P);for(k=h[T],R=h[T+1],B=k;B<R;B++)P=p[B],M[P]===I&&(F[P]=x(F[P],m[B]));for(B=E[T];B<S.length;){P=S[B];var V=F[P];D(V,b)?S.splice(B,1):(w.push(V),B++)}}return E[C]=S.length,i.createSparseMatrix({values:w,index:S,ptr:E,size:[v,C],datatype:y})}});var Rs=A("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(r(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(r(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf())}});var v_="leftShift",WH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],ny=A(v_,WH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,c=vn({typed:e}),u=Ar({typed:e,equalScalar:n}),s=ks({typed:e,equalScalar:n}),l=Pn({typed:e,DenseMatrix:a}),f=Ut({typed:e,equalScalar:n}),m=Sr({typed:e}),p=ct({typed:e,matrix:r,concat:o}),h=Rs({typed:e,matrix:r});return e(v_,{"number, number":Fg,"BigNumber, BigNumber":sN,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):l(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:c,SD:u}))});var y_="rightArithShift",HH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],iy=A(y_,HH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,c=vn({typed:e}),u=Ar({typed:e,equalScalar:n}),s=ks({typed:e,equalScalar:n}),l=Pn({typed:e,DenseMatrix:a}),f=Ut({typed:e,equalScalar:n}),m=Sr({typed:e}),p=ct({typed:e,matrix:r,concat:o}),h=Rs({typed:e,matrix:r});return e(y_,{"number, number":Sg,"BigNumber, BigNumber":uN,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):l(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:c,SD:u}))});var b_="rightLogShift",GH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],ay=A(b_,GH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,c=vn({typed:e}),u=Ar({typed:e,equalScalar:n}),s=ks({typed:e,equalScalar:n}),l=Pn({typed:e,DenseMatrix:a}),f=Ut({typed:e,equalScalar:n}),m=Sr({typed:e}),p=ct({typed:e,matrix:r,concat:o}),h=Rs({typed:e,matrix:r});return e(b_,{"number, number":Ag,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):l(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:c,SD:u}))});var x_="and",jH=["typed","matrix","equalScalar","zeros","not","concat"],oy=A(x_,jH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,c=Ar({typed:e,equalScalar:n}),u=Ya({typed:e,equalScalar:n}),s=Ut({typed:e,equalScalar:n}),l=Sr({typed:e}),f=ct({typed:e,matrix:r,concat:o});return e(x_,{"number, number":Bg,"Complex, Complex":function(p,h){return(p.re!==0||p.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(p,h){return!p.isZero()&&!h.isZero()&&!p.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(m=>(p,h)=>m(p.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(m=>(p,h)=>a(h)?i(p.size(),p.storage()):s(p,h,m,!1)),"DenseMatrix, any":e.referToSelf(m=>(p,h)=>a(h)?i(p.size(),p.storage()):l(p,h,m,!1)),"any, SparseMatrix":e.referToSelf(m=>(p,h)=>a(p)?i(p.size(),p.storage()):s(h,p,m,!0)),"any, DenseMatrix":e.referToSelf(m=>(p,h)=>a(p)?i(p.size(),p.storage()):l(h,p,m,!0)),"Array, any":e.referToSelf(m=>(p,h)=>m(r(p),h).valueOf()),"any, Array":e.referToSelf(m=>(p,h)=>m(p,r(h)).valueOf())},f({SS:u,DS:c}))});var Kf="compare",ZH=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],sy=A(Kf,ZH,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:c,concat:u}=t,s=Qt({typed:e}),l=Za({typed:e,equalScalar:n}),f=Mt({typed:e,DenseMatrix:c}),m=ct({typed:e,matrix:i,concat:u}),p=ui({typed:e});return e(Kf,YH({typed:e,config:r}),{"boolean, boolean":function(d,g){return d===g?0:d>g?1:-1},"BigNumber, BigNumber":function(d,g){return Zr(d,g,r.epsilon)?new a(0):new a(d.cmp(g))},"Fraction, Fraction":function(d,g){return new o(d.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,m({SS:l,DS:s,Ss:f}))}),YH=A(Kf,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Kf,{"number, number":function(i,a){return Fr(i,a,r.epsilon)?0:i>a?1:-1}})});var Io=xr(w_(),1);var E_="compareNatural",JH=["typed","compare"],uy=A(E_,JH,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(E_,{"any, any":i});function i(u,s){var l=Dt(u),f=Dt(s),m;if((l==="number"||l==="BigNumber"||l==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return m=r(u,s),m.toString()!=="0"?m>0?1:-1:(0,Io.default)(l,f);var p=["Array","DenseMatrix","SparseMatrix"];if(p.includes(l)||p.includes(f))return m=a(i,u,s),m!==0?m:(0,Io.default)(l,f);if(l!==f)return(0,Io.default)(l,f);if(l==="Complex")return XH(u,s);if(l==="Unit")return u.equalBase(s)?i(u.value,s.value):o(i,u.formatUnits(),s.formatUnits());if(l==="boolean")return n(u,s);if(l==="string")return(0,Io.default)(u,s);if(l==="Object")return c(i,u,s);if(l==="null"||l==="undefined")return 0;throw new TypeError('Unsupported type of value "'+l+'"')}function a(u,s,l){return Ci(s)&&Ci(l)?o(u,s.toJSON().values,l.toJSON().values):Ci(s)?a(u,s.toArray(),l):Ci(l)?a(u,s,l.toArray()):Co(s)?a(u,s.toJSON().data,l):Co(l)?a(u,s,l.toJSON().data):Array.isArray(s)?Array.isArray(l)?o(u,s,l):a(u,s,[l]):a(u,[s],l)}function o(u,s,l){for(var f=0,m=Math.min(s.length,l.length);f<m;f++){var p=u(s[f],l[f]);if(p!==0)return p}return s.length>l.length?1:s.length<l.length?-1:0}function c(u,s,l){var f=Object.keys(s),m=Object.keys(l);f.sort(Io.default),m.sort(Io.default);var p=o(u,f,m);if(p!==0)return p;for(var h=0;h<f.length;h++){var d=u(s[f[h]],l[m[h]]);if(d!==0)return d}return 0}});function XH(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var C_="compareText",QH=["typed","matrix","concat"];Nf.signature="any, any";var ly=A(C_,QH,t=>{var{typed:e,matrix:r,concat:n}=t,i=ct({typed:e,matrix:r,concat:n});return e(C_,Nf,i({elop:Nf,Ds:!0}))});var $f="equal",KH=["typed","matrix","equalScalar","DenseMatrix","concat"],cy=A($f,KH,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Qt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=Mt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:r,concat:a});return e($f,$H({typed:e,equalScalar:n}),s({elop:n,SS:c,DS:o,Ss:u}))}),$H=A($f,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e($f,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})});var F_="equalText",eG=["typed","compareText","isZero"],fy=A(F_,eG,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(F_,{"any, any":function(a,o){return n(r(a,o))}})});var em="smaller",tG=["typed","config","matrix","DenseMatrix","concat"],my=A(em,tG,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=Qt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=Mt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),l=ui({typed:e});return e(em,rG({typed:e,config:r}),{"boolean, boolean":(f,m)=>f<m,"BigNumber, BigNumber":function(m,p){return m.lt(p)&&!Zr(m,p,r.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)===-1,"Complex, Complex":function(m,p){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),rG=A(em,["typed","config"],t=>{var{typed:e,config:r}=t;return e(em,{"number, number":function(i,a){return i<a&&!Fr(i,a,r.epsilon)}})});var tm="smallerEq",nG=["typed","config","matrix","DenseMatrix","concat"],py=A(tm,nG,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=Qt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=Mt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),l=ui({typed:e});return e(tm,iG({typed:e,config:r}),{"boolean, boolean":(f,m)=>f<=m,"BigNumber, BigNumber":function(m,p){return m.lte(p)||Zr(m,p,r.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),iG=A(tm,["typed","config"],t=>{var{typed:e,config:r}=t;return e(tm,{"number, number":function(i,a){return i<=a||Fr(i,a,r.epsilon)}})});var rm="larger",aG=["typed","config","matrix","DenseMatrix","concat"],dy=A(rm,aG,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=Qt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=Mt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),l=ui({typed:e});return e(rm,oG({typed:e,config:r}),{"boolean, boolean":(f,m)=>f>m,"BigNumber, BigNumber":function(m,p){return m.gt(p)&&!Zr(m,p,r.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),oG=A(rm,["typed","config"],t=>{var{typed:e,config:r}=t;return e(rm,{"number, number":function(i,a){return i>a&&!Fr(i,a,r.epsilon)}})});var nm="largerEq",sG=["typed","config","matrix","DenseMatrix","concat"],hy=A(nm,sG,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=Qt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=Mt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),l=ui({typed:e});return e(nm,uG({typed:e,config:r}),{"boolean, boolean":(f,m)=>f>=m,"BigNumber, BigNumber":function(m,p){return m.gte(p)||Zr(m,p,r.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),uG=A(nm,["typed","config"],t=>{var{typed:e,config:r}=t;return e(nm,{"number, number":function(i,a){return i>=a||Fr(i,a,r.epsilon)}})});var S_="deepEqual",lG=["typed","equal"],gy=A(S_,lG,t=>{var{typed:e,equal:r}=t;return e(S_,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var c=0;c<o;c++)if(!n(i[c],a[c]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:r(i,a)}});var im="unequal",cG=["typed","config","equalScalar","matrix","DenseMatrix","concat"],vy=A(im,cG,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=t,c=Qt({typed:e}),u=Or({typed:e,DenseMatrix:a}),s=Mt({typed:e,DenseMatrix:a}),l=ct({typed:e,matrix:i,concat:o});return e(im,fG({typed:e,equalScalar:n}),l({elop:f,SS:u,DS:c,Ss:s}));function f(m,p){return!n(m,p)}}),fG=A(im,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(im,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!r(i,a)}})});var A_="partitionSelect",mG=["typed","isNumeric","isNaN","compare"],yy=A(A_,mG,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:i}=t,a=i,o=(s,l)=>-i(s,l);return e(A_,{"Array | Matrix, number":function(l,f){return c(l,f,a)},"Array | Matrix, number, string":function(l,f,m){if(m==="asc")return c(l,f,a);if(m==="desc")return c(l,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":c});function c(s,l,f){if(!He(l)||l<0)throw new Error("k must be a non-negative integer");if(Ge(s)){var m=s.size();if(m.length>1)throw new Error("Only one dimensional matrices supported");return u(s.valueOf(),l,f)}if(Array.isArray(s))return u(s,l,f)}function u(s,l,f){if(l>=s.length)throw new Error("k out of bounds");for(var m=0;m<s.length;m++)if(r(s[m])&&n(s[m]))return s[m];for(var p=0,h=s.length-1;p<h;){for(var d=p,g=h,v=s[Math.floor(Math.random()*(h-p+1))+p];d<g;)if(f(s[d],v)>=0){var C=s[g];s[g]=s[d],s[d]=C,--g}else++d;f(s[d],v)>0&&--d,l<=d?h=d:p=d+1}return s[l]}});var N_="sort",pG=["typed","matrix","compare","compareNatural"],by=A(N_,pG,t=>{var{typed:e,matrix:r,compare:n,compareNatural:i}=t,a=n,o=(l,f)=>-n(l,f);return e(N_,{Array:function(f){return u(f),f.sort(a)},Matrix:function(f){return s(f),r(f.toArray().sort(a),f.storage())},"Array, function":function(f,m){return u(f),f.sort(m)},"Matrix, function":function(f,m){return s(f),r(f.toArray().sort(m),f.storage())},"Array, string":function(f,m){return u(f),f.sort(c(m))},"Matrix, string":function(f,m){return s(f),r(f.toArray().sort(c(m)),f.storage())}});function c(l){if(l==="asc")return a;if(l==="desc")return o;if(l==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(l){if(rt(l).length!==1)throw new Error("One dimensional array expected")}function s(l){if(l.size().length!==1)throw new Error("One dimensional matrix expected")}});var __="max",dG=["typed","config","numeric","larger"],tl=A(__,dG,t=>{var{typed:e,config:r,numeric:n,larger:i}=t;return e(__,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return ja(u,s.valueOf(),a)},"...":function(u){if(si(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function a(c,u){try{return i(c,u)?c:u}catch(s){throw hr(s,"max",u)}}function o(c){var u;if(gn(c,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(l){throw hr(l,"max",s)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,r.number)),u}});var M_="min",hG=["typed","config","numeric","smaller"],rl=A(M_,hG,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t;return e(M_,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return ja(u,s.valueOf(),a)},"...":function(u){if(si(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function a(c,u){try{return i(c,u)?c:u}catch(s){throw hr(s,"min",u)}}function o(c){var u;if(gn(c,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(l){throw hr(l,"min",s)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,r.number)),u}});var gG="ImmutableDenseMatrix",vG=["smaller","DenseMatrix"],xy=A(gG,vG,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!pr(a))throw new Error("Invalid datatype: "+a);if(Ge(i)||wt(i)){var o=new r(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&wt(i.data)&&wt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Dt(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return Ge(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:et(this._data),size:et(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var yG="Index",bG=["ImmutableDenseMatrix","getMatrixDataType"],Dy=A(yG,bG,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,c=arguments.length;o<c;o++){var u=arguments[o],s=wt(u),l=Ge(u),f=null;if(Ds(u))this._dimensions.push(u),this._isScalar=!1;else if(s||l){var m=void 0;r(u)==="boolean"?(s&&(m=i(T_(u).valueOf())),l&&(m=i(T_(u._data).valueOf())),f=u.valueOf().length):m=i(u.valueOf()),this._dimensions.push(m);var p=m.size();(p.length!==1||p[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(i([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,c=a.length;o<c;o++)if(typeof a[o]!="number"||!He(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=et(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?1:u.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.max()}return a},n.prototype.min=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.min()}return a},n.prototype.forEach=function(a){for(var o=0,c=this._dimensions.length;o<c;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a.push(typeof u=="string"?u:u.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function T_(t){var e=[];return t.forEach((r,n)=>{r&&e.push(n)}),e}var xG="FibonacciHeap",DG=["smaller","larger"],wy=A(xG,DG,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(l,f){var m={key:l,value:f,degree:0};if(this._minimum){var p=this._minimum;m.left=p,m.right=p.right,p.right=m,m.right.left=m,e(l,p.key)&&(this._minimum=m)}else m.left=m,m.right=m,this._minimum=m;return this._size++,m},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var l=this._minimum;if(l===null)return l;for(var f=this._minimum,m=l.degree,p=l.child;m>0;){var h=p.right;p.left.right=p.right,p.right.left=p.left,p.left=f,p.right=f.right,f.right=p,p.right.left=p,p.parent=null,p=h,m--}return l.left.right=l.right,l.right.left=l.left,l===l.right?f=null:(f=l.right,f=s(f,this._size)),this._size--,this._minimum=f,l},i.prototype.remove=function(l){this._minimum=a(this._minimum,l,-1),this.extractMinimum()};function a(l,f,m){f.key=m;var p=f.parent;return p&&e(f.key,p.key)&&(o(l,f,p),c(l,p)),e(f.key,l.key)&&(l=f),l}function o(l,f,m){f.left.right=f.right,f.right.left=f.left,m.degree--,m.child===f&&(m.child=f.right),m.degree===0&&(m.child=null),f.left=l,f.right=l.right,l.right=f,f.right.left=f,f.parent=null,f.mark=!1}function c(l,f){var m=f.parent;m&&(f.mark?(o(l,f,m),c(m)):f.mark=!0)}var u=function(f,m){f.left.right=f.right,f.right.left=f.left,f.parent=m,m.child?(f.left=m.child,f.right=m.child.right,m.child.right=f,f.right.left=f):(m.child=f,f.right=f,f.left=f),m.degree++,f.mark=!1};function s(l,f){var m=Math.floor(Math.log(f)*n)+1,p=new Array(m),h=0,d=l;if(d)for(h++,d=d.right;d!==l;)h++,d=d.right;for(var g;h>0;){for(var v=d.degree,C=d.right;g=p[v],!!g;){if(r(d.key,g.key)){var y=g;g=d,d=y}u(g,d),p[v]=null,v++}p[v]=d,d=C,h--}l=null;for(var D=0;D<m;D++)g=p[D],g&&(l?(g.left.right=g.right,g.right.left=g.left,g.left=l,g.right=l.right,l.right=g,g.right.left=g,e(g.key,l.key)&&(l=g)):l=g);return l}return i},{isClass:!0});var wG="Spa",EG=["addScalar","equalScalar","FibonacciHeap"],Ey=A(wG,EG,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var c=this._heap.insert(a,o);this._values[a]=c}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var c=this._values[a];c?c.value=e(c.value,o):(c=this._heap.insert(a,o),this._values[a]=c)},i.prototype.forEach=function(a,o,c){var u=this._heap,s=this._values,l=[],f=u.extractMinimum();for(f&&l.push(f);f&&f.key<=o;)f.key>=a&&(r(f.value,0)||c(f.key,f.value,this)),f=u.extractMinimum(),f&&l.push(f);for(var m=0;m<l.length;m++){var p=l[m];f=u.insert(p.key,p.value),s[f.key]=f}},i.prototype.swap=function(a,o){var c=this._values[a],u=this._values[o];if(!c&&u)c=this._heap.insert(a,u.value),this._heap.remove(u),this._values[a]=c,this._values[o]=void 0;else if(c&&!u)u=this._heap.insert(o,c.value),this._heap.remove(c),this._values[o]=u,this._values[a]=void 0;else if(c&&u){var s=c.value;c.value=u.value,u.value=s}},i},{isClass:!0});var I_=_o(function(t){return new t(1).exp()},{hasher:am}),B_=_o(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:am}),nl=_o(function(t){return t.acos(-1)},{hasher:am}),O_=_o(function(t){return nl(t).times(2)},{hasher:am});function am(t){return t[0].precision}function k_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(r),!0).forEach(function(n){Bt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var CG="Unit",FG=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],Fy=A(CG,FG,t=>{var{on:e,config:r,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:c,abs:u,fix:s,round:l,equal:f,isNumeric:m,format:p,number:h,Complex:d,BigNumber:g,Fraction:v}=t,C=h;function y(z,Z){if(!(this instanceof y))throw new Error("Constructor must be called with the new operator");if(!(z==null||m(z)||Fn(z)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,Z===void 0)this.units=[],this.dimensions=V.map(H=>0);else if(typeof Z=="string"){var fe=y.parse(Z);this.units=fe.units,this.dimensions=fe.dimensions}else if(sn(Z)&&Z.value===null)this.fixPrefix=Z.fixPrefix,this.skipAutomaticSimplification=Z.skipAutomaticSimplification,this.dimensions=Z.dimensions.slice(0),this.units=Z.units.map(H=>sr({},H));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(z)}Object.defineProperty(y,"name",{value:"Unit"}),y.prototype.constructor=y,y.prototype.type="Unit",y.prototype.isUnit=!0;var D,b,x;function w(){for(;x===" "||x==="	";)F()}function S(z){return z>="0"&&z<="9"||z==="."}function E(z){return z>="0"&&z<="9"}function F(){b++,x=D.charAt(b)}function M(z){b=z,x=D.charAt(b)}function B(){var z="",Z=b;if(x==="+"?F():x==="-"&&(z+=x,F()),!S(x))return M(Z),null;if(x==="."){if(z+=x,F(),!E(x))return M(Z),null}else{for(;E(x);)z+=x,F();x==="."&&(z+=x,F())}for(;E(x);)z+=x,F();if(x==="E"||x==="e"){var fe="",H=b;if(fe+=x,F(),(x==="+"||x==="-")&&(fe+=x,F()),!E(x))return M(H),z;for(z=z+fe;E(x);)z+=x,F()}return z}function k(){for(var z="";E(x)||y.isValidAlpha(x);)z+=x,F();var Z=z.charAt(0);return y.isValidAlpha(Z)?z:null}function R(z){return x===z?(F(),z):null}y.parse=function(z,Z){if(Z=Z||{},D=z,b=-1,x="",typeof D!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var fe=new y;fe.units=[];var H=1,K=!1;F(),w();var ie=B(),be=null;if(ie){if(r.number==="BigNumber")be=new g(ie);else if(r.number==="Fraction")try{be=new v(ie)}catch(de){be=parseFloat(ie)}else be=parseFloat(ie);w(),R("*")?(H=1,K=!0):R("/")&&(H=-1,K=!0)}for(var ye=[],Le=1;;){for(w();x==="(";)ye.push(H),Le*=H,H=1,F(),w();var Se=void 0;if(x){var ft=x;if(Se=k(),Se===null)throw new SyntaxError('Unexpected "'+ft+'" in "'+D+'" at index '+b.toString())}else break;var pt=P(Se);if(pt===null)throw new SyntaxError('Unit "'+Se+'" not found.');var _t=H*Le;if(w(),R("^")){w();var zt=B();if(zt===null)throw new SyntaxError('In "'+z+'", "^" must be followed by a floating-point number');_t*=zt}fe.units.push({unit:pt.unit,prefix:pt.prefix,power:_t});for(var j=0;j<V.length;j++)fe.dimensions[j]+=(pt.unit.dimensions[j]||0)*_t;for(w();x===")";){if(ye.length===0)throw new SyntaxError('Unmatched ")" in "'+D+'" at index '+b.toString());Le/=ye.pop(),F(),w()}if(K=!1,R("*")?(H=1,K=!0):R("/")?(H=-1,K=!0):H=1,pt.unit.base){var se=pt.unit.base.key;oe.auto[se]={unit:pt.unit,prefix:pt.prefix}}}if(w(),x)throw new SyntaxError('Could not parse: "'+z+'"');if(K)throw new SyntaxError('Trailing characters: "'+z+'"');if(ye.length!==0)throw new SyntaxError('Unmatched "(" in "'+D+'"');if(fe.units.length===0&&!Z.allowNoUnits)throw new SyntaxError('"'+z+'" contains no units');return fe.value=be!==void 0?fe._normalize(be):null,fe},y.prototype.clone=function(){var z=new y;z.fixPrefix=this.fixPrefix,z.skipAutomaticSimplification=this.skipAutomaticSimplification,z.value=et(this.value),z.dimensions=this.dimensions.slice(0),z.units=[];for(var Z=0;Z<this.units.length;Z++){z.units[Z]={};for(var fe in this.units[Z])je(this.units[Z],fe)&&(z.units[Z][fe]=this.units[Z][fe])}return z},y.prototype.valueType=function(){return Dt(this.value)},y.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},y.prototype._normalize=function(z){if(z==null||this.units.length===0)return z;for(var Z=z,fe=y._getNumberConverter(Dt(z)),H=0;H<this.units.length;H++){var K=fe(this.units[H].unit.value),ie=fe(this.units[H].prefix.value),be=fe(this.units[H].power);Z=a(Z,c(a(K,ie),be))}return Z},y.prototype._denormalize=function(z,Z){if(z==null||this.units.length===0)return z;for(var fe=z,H=y._getNumberConverter(Dt(z)),K=0;K<this.units.length;K++){var ie=H(this.units[K].unit.value),be=H(this.units[K].prefix.value),ye=H(this.units[K].power);fe=o(fe,c(a(ie,be),ye))}return fe};var P=_o(z=>{if(je(q,z)){var Z=q[z],fe=Z.prefixes[""];return{unit:Z,prefix:fe}}for(var H in q)if(je(q,H)&&T2(z,H)){var K=q[H],ie=z.length-H.length,be=z.substring(0,ie),ye=je(K.prefixes,be)?K.prefixes[be]:void 0;if(ye!==void 0)return{unit:K,prefix:ye}}return null},{hasher:z=>z[0],limit:100});y.isValuelessUnit=function(z){return P(z)!==null},y.prototype.hasBase=function(z){if(typeof z=="string"&&(z=O[z]),!z)return!1;for(var Z=0;Z<V.length;Z++)if(Math.abs((this.dimensions[Z]||0)-(z.dimensions[Z]||0))>1e-12)return!1;return!0},y.prototype.equalBase=function(z){for(var Z=0;Z<V.length;Z++)if(Math.abs((this.dimensions[Z]||0)-(z.dimensions[Z]||0))>1e-12)return!1;return!0},y.prototype.equals=function(z){return this.equalBase(z)&&f(this.value,z.value)},y.prototype.multiply=function(z){for(var Z=this.clone(),fe=sn(z)?z:new y(z),H=0;H<V.length;H++)Z.dimensions[H]=(this.dimensions[H]||0)+(fe.dimensions[H]||0);for(var K=0;K<fe.units.length;K++){var ie=Cy({},fe.units[K]);Z.units.push(ie)}if(this.value!==null||fe.value!==null){var be=this.value===null?this._normalize(1):this.value,ye=fe.value===null?fe._normalize(1):fe.value;Z.value=a(be,ye)}else Z.value=null;return sn(z)&&(Z.skipAutomaticSimplification=!1),T(Z)},y.prototype.divideInto=function(z){return new y(z).divide(this)},y.prototype.divide=function(z){for(var Z=this.clone(),fe=sn(z)?z:new y(z),H=0;H<V.length;H++)Z.dimensions[H]=(this.dimensions[H]||0)-(fe.dimensions[H]||0);for(var K=0;K<fe.units.length;K++){var ie=Cy(Cy({},fe.units[K]),{},{power:-fe.units[K].power});Z.units.push(ie)}if(this.value!==null||fe.value!==null){var be=this.value===null?this._normalize(1):this.value,ye=fe.value===null?fe._normalize(1):fe.value;Z.value=o(be,ye)}else Z.value=null;return sn(z)&&(Z.skipAutomaticSimplification=!1),T(Z)},y.prototype.pow=function(z){for(var Z=this.clone(),fe=0;fe<V.length;fe++)Z.dimensions[fe]=(this.dimensions[fe]||0)*z;for(var H=0;H<Z.units.length;H++)Z.units[H].power*=z;return Z.value!==null?Z.value=c(Z.value,z):Z.value=null,Z.skipAutomaticSimplification=!1,T(Z)};function T(z){return z.equalBase(O.NONE)&&z.value!==null&&!r.predictable?z.value:z}y.prototype.abs=function(){var z=this.clone();if(z.value!==null)if(z._isDerived()||z.units[0].unit.offset===0)z.value=u(z.value);else{var Z=z._numberConverter(),fe=Z(z.units[0].unit.value),H=Z(z.units[0].unit.offset),K=a(fe,H);z.value=i(u(n(z.value,K)),K)}for(var ie in z.units)(z.units[ie].unit.name==="VA"||z.units[ie].unit.name==="VAR")&&(z.units[ie].unit=q.W);return z},y.prototype.to=function(z){var Z=this.value===null?this._normalize(1):this.value,fe;if(typeof z=="string")fe=y.parse(z);else if(sn(z))fe=z.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(fe))throw new Error("Units do not match ('".concat(fe.toString(),"' != '").concat(this.toString(),"')"));if(fe.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===fe.units[0].unit.offset)fe.value=et(Z);else{var H=y._getNumberConverter(Dt(Z)),K=this.units[0].unit.value,ie=this.units[0].unit.offset,be=a(K,ie),ye=fe.units[0].unit.value,Le=fe.units[0].unit.offset,Se=a(ye,Le);fe.value=n(Z,H(i(be,Se)))}return fe.fixPrefix=!0,fe.skipAutomaticSimplification=!0,fe},y.prototype.toNumber=function(z){return C(this.toNumeric(z))},y.prototype.toNumeric=function(z){var Z;return z?Z=this.to(z):Z=this.clone(),Z._isDerived()||Z.units.length===0?Z._denormalize(Z.value):Z._denormalize(Z.value,Z.units[0].prefix.value)},y.prototype.toString=function(){return this.format()},y.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},y.fromJSON=function(z){var Z=new y(z.value,z.unit);return Z.fixPrefix=z.fixPrefix||!1,Z},y.prototype.valueOf=y.prototype.toString,y.prototype.simplify=function(){var z=this.clone(),Z=[],fe;for(var H in ce)if(je(ce,H)&&z.hasBase(O[H])){fe=H;break}if(fe==="NONE")z.units=[];else{var K;if(fe&&je(ce,fe)&&(K=ce[fe]),K)z.units=[{unit:K.unit,prefix:K.prefix,power:1}];else{for(var ie=!1,be=0;be<V.length;be++){var ye=V[be];Math.abs(z.dimensions[be]||0)>1e-12&&(je(ce,ye)?Z.push({unit:ce[ye].unit,prefix:ce[ye].prefix,power:z.dimensions[be]||0}):ie=!0)}Z.length<z.units.length&&!ie&&(z.units=Z)}}return z},y.prototype.toSI=function(){for(var z=this.clone(),Z=[],fe=0;fe<V.length;fe++){var H=V[fe];if(Math.abs(z.dimensions[fe]||0)>1e-12)if(je(oe.si,H))Z.push({unit:oe.si[H].unit,prefix:oe.si[H].prefix,power:z.dimensions[fe]||0});else throw new Error("Cannot express custom unit "+H+" in SI units")}return z.units=Z,z.fixPrefix=!0,z.skipAutomaticSimplification=!0,z},y.prototype.formatUnits=function(){for(var z="",Z="",fe=0,H=0,K=0;K<this.units.length;K++)this.units[K].power>0?(fe++,z+=" "+this.units[K].prefix.name+this.units[K].unit.name,Math.abs(this.units[K].power-1)>1e-15&&(z+="^"+this.units[K].power)):this.units[K].power<0&&H++;if(H>0)for(var ie=0;ie<this.units.length;ie++)this.units[ie].power<0&&(fe>0?(Z+=" "+this.units[ie].prefix.name+this.units[ie].unit.name,Math.abs(this.units[ie].power+1)>1e-15&&(Z+="^"+-this.units[ie].power)):(Z+=" "+this.units[ie].prefix.name+this.units[ie].unit.name,Z+="^"+this.units[ie].power));z=z.substr(1),Z=Z.substr(1),fe>1&&H>0&&(z="("+z+")"),H>1&&fe>0&&(Z="("+Z+")");var be=z;return fe>0&&H>0&&(be+=" / "),be+=Z,be},y.prototype.format=function(z){var Z=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),fe=!1;typeof Z.value!="undefined"&&Z.value!==null&&Fn(Z.value)&&(fe=Math.abs(Z.value.re)<1e-14);for(var H in Z.units)je(Z.units,H)&&Z.units[H].unit&&(Z.units[H].unit.name==="VA"&&fe?Z.units[H].unit=q.VAR:Z.units[H].unit.name==="VAR"&&!fe&&(Z.units[H].unit=q.VA));Z.units.length===1&&!Z.fixPrefix&&Math.abs(Z.units[0].power-Math.round(Z.units[0].power))<1e-14&&(Z.units[0].prefix=Z._bestPrefix());var K=Z._denormalize(Z.value),ie=Z.value!==null?p(K,z||{}):"",be=Z.formatUnits();return Z.value&&Fn(Z.value)&&(ie="("+ie+")"),be.length>0&&ie.length>0&&(ie+=" "),ie+=be,ie},y.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var z=this.value!==null?u(this.value):0,Z=u(this.units[0].unit.value),fe=this.units[0].prefix;if(z===0)return fe;var H=this.units[0].power,K=Math.log(z/Math.pow(fe.value*Z,H))/Math.LN10-1.2;if(K>-2.200001&&K<1.800001)return fe;K=Math.abs(K);var ie=this.units[0].unit.prefixes;for(var be in ie)if(je(ie,be)){var ye=ie[be];if(ye.scientific){var Le=Math.abs(Math.log(z/Math.pow(ye.value*Z,H))/Math.LN10-1.2);(Le<K||Le===K&&ye.name.length<fe.name.length)&&(fe=ye,K=Le)}}return fe},y.prototype.splitUnit=function(z){for(var Z=this.clone(),fe=[],H=0;H<z.length&&(Z=Z.to(z[H]),H!==z.length-1);H++){var K=Z.toNumeric(),ie=l(K),be=void 0,ye=f(ie,K);ye?be=ie:be=s(Z.toNumeric());var Le=new y(be,z[H].toString());fe.push(Le),Z=i(Z,Le)}for(var Se=0,ft=0;ft<fe.length;ft++)Se=n(Se,fe[ft].value);return f(Se,this.value)&&(Z.value=0),fe.push(Z),fe};var I={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};I.SHORTLONG=sr({},I.SHORT,I.LONG),I.BINARY_SHORT=sr({},I.BINARY_SHORT_SI,I.BINARY_SHORT_IEC),I.BINARY_LONG=sr({},I.BINARY_LONG_SI,I.BINARY_LONG_IEC);var V=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],O={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var J in O)je(O,J)&&(O[J].key=J);var $={},W={name:"",base:$,value:1,offset:0,dimensions:V.map(z=>0)},q={meter:{name:"meter",base:O.LENGTH,prefixes:I.LONG,value:1,offset:0},inch:{name:"inch",base:O.LENGTH,prefixes:I.NONE,value:.0254,offset:0},foot:{name:"foot",base:O.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yard:{name:"yard",base:O.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mile:{name:"mile",base:O.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},link:{name:"link",base:O.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rod:{name:"rod",base:O.LENGTH,prefixes:I.NONE,value:5.0292,offset:0},chain:{name:"chain",base:O.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:O.LENGTH,prefixes:I.NONE,value:1e-10,offset:0},m:{name:"m",base:O.LENGTH,prefixes:I.SHORT,value:1,offset:0},in:{name:"in",base:O.LENGTH,prefixes:I.NONE,value:.0254,offset:0},ft:{name:"ft",base:O.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yd:{name:"yd",base:O.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mi:{name:"mi",base:O.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},li:{name:"li",base:O.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rd:{name:"rd",base:O.LENGTH,prefixes:I.NONE,value:5.02921,offset:0},ch:{name:"ch",base:O.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},mil:{name:"mil",base:O.LENGTH,prefixes:I.NONE,value:254e-7,offset:0},m2:{name:"m2",base:O.SURFACE,prefixes:I.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:O.SURFACE,prefixes:I.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:O.SURFACE,prefixes:I.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:O.SURFACE,prefixes:I.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:O.SURFACE,prefixes:I.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:O.SURFACE,prefixes:I.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:O.SURFACE,prefixes:I.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:O.SURFACE,prefixes:I.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:O.SURFACE,prefixes:I.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:O.SURFACE,prefixes:I.NONE,value:1e4,offset:0},m3:{name:"m3",base:O.VOLUME,prefixes:I.CUBIC,value:1,offset:0},L:{name:"L",base:O.VOLUME,prefixes:I.SHORT,value:.001,offset:0},l:{name:"l",base:O.VOLUME,prefixes:I.SHORT,value:.001,offset:0},litre:{name:"litre",base:O.VOLUME,prefixes:I.LONG,value:.001,offset:0},cuin:{name:"cuin",base:O.VOLUME,prefixes:I.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:O.VOLUME,prefixes:I.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:O.VOLUME,prefixes:I.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:O.VOLUME,prefixes:I.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:O.VOLUME,prefixes:I.NONE,value:15e-6,offset:0},drop:{name:"drop",base:O.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:O.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},minim:{name:"minim",base:O.VOLUME,prefixes:I.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:O.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:O.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:O.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:O.VOLUME,prefixes:I.NONE,value:1e-6,offset:0},cup:{name:"cup",base:O.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:O.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:O.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:O.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:O.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:O.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:O.VOLUME,prefixes:I.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:O.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:O.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:O.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:O.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:O.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:O.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:O.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:O.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},obl:{name:"obl",base:O.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},g:{name:"g",base:O.MASS,prefixes:I.SHORT,value:.001,offset:0},gram:{name:"gram",base:O.MASS,prefixes:I.LONG,value:.001,offset:0},ton:{name:"ton",base:O.MASS,prefixes:I.SHORT,value:907.18474,offset:0},t:{name:"t",base:O.MASS,prefixes:I.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:O.MASS,prefixes:I.LONG,value:1e3,offset:0},grain:{name:"grain",base:O.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:O.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:O.MASS,prefixes:I.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:O.MASS,prefixes:I.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:O.MASS,prefixes:I.NONE,value:45.359237,offset:0},stick:{name:"stick",base:O.MASS,prefixes:I.NONE,value:.115,offset:0},stone:{name:"stone",base:O.MASS,prefixes:I.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:O.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:O.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:O.MASS,prefixes:I.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:O.MASS,prefixes:I.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:O.MASS,prefixes:I.NONE,value:45.359237,offset:0},s:{name:"s",base:O.TIME,prefixes:I.SHORT,value:1,offset:0},min:{name:"min",base:O.TIME,prefixes:I.NONE,value:60,offset:0},h:{name:"h",base:O.TIME,prefixes:I.NONE,value:3600,offset:0},second:{name:"second",base:O.TIME,prefixes:I.LONG,value:1,offset:0},sec:{name:"sec",base:O.TIME,prefixes:I.LONG,value:1,offset:0},minute:{name:"minute",base:O.TIME,prefixes:I.NONE,value:60,offset:0},hour:{name:"hour",base:O.TIME,prefixes:I.NONE,value:3600,offset:0},day:{name:"day",base:O.TIME,prefixes:I.NONE,value:86400,offset:0},week:{name:"week",base:O.TIME,prefixes:I.NONE,value:7*86400,offset:0},month:{name:"month",base:O.TIME,prefixes:I.NONE,value:2629800,offset:0},year:{name:"year",base:O.TIME,prefixes:I.NONE,value:31557600,offset:0},decade:{name:"decade",base:O.TIME,prefixes:I.NONE,value:315576e3,offset:0},century:{name:"century",base:O.TIME,prefixes:I.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:O.TIME,prefixes:I.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:O.FREQUENCY,prefixes:I.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:O.FREQUENCY,prefixes:I.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:O.ANGLE,prefixes:I.SHORT,value:1,offset:0},radian:{name:"radian",base:O.ANGLE,prefixes:I.LONG,value:1,offset:0},deg:{name:"deg",base:O.ANGLE,prefixes:I.SHORT,value:null,offset:0},degree:{name:"degree",base:O.ANGLE,prefixes:I.LONG,value:null,offset:0},grad:{name:"grad",base:O.ANGLE,prefixes:I.SHORT,value:null,offset:0},gradian:{name:"gradian",base:O.ANGLE,prefixes:I.LONG,value:null,offset:0},cycle:{name:"cycle",base:O.ANGLE,prefixes:I.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:O.ANGLE,prefixes:I.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:O.ANGLE,prefixes:I.NONE,value:null,offset:0},A:{name:"A",base:O.CURRENT,prefixes:I.SHORT,value:1,offset:0},ampere:{name:"ampere",base:O.CURRENT,prefixes:I.LONG,value:1,offset:0},K:{name:"K",base:O.TEMPERATURE,prefixes:I.SHORT,value:1,offset:0},degC:{name:"degC",base:O.TEMPERATURE,prefixes:I.SHORT,value:1,offset:273.15},degF:{name:"degF",base:O.TEMPERATURE,prefixes:I.SHORT,value:new v(5,9),offset:459.67},degR:{name:"degR",base:O.TEMPERATURE,prefixes:I.SHORT,value:new v(5,9),offset:0},kelvin:{name:"kelvin",base:O.TEMPERATURE,prefixes:I.LONG,value:1,offset:0},celsius:{name:"celsius",base:O.TEMPERATURE,prefixes:I.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:O.TEMPERATURE,prefixes:I.LONG,value:new v(5,9),offset:459.67},rankine:{name:"rankine",base:O.TEMPERATURE,prefixes:I.LONG,value:new v(5,9),offset:0},mol:{name:"mol",base:O.AMOUNT_OF_SUBSTANCE,prefixes:I.SHORT,value:1,offset:0},mole:{name:"mole",base:O.AMOUNT_OF_SUBSTANCE,prefixes:I.LONG,value:1,offset:0},cd:{name:"cd",base:O.LUMINOUS_INTENSITY,prefixes:I.SHORT,value:1,offset:0},candela:{name:"candela",base:O.LUMINOUS_INTENSITY,prefixes:I.LONG,value:1,offset:0},N:{name:"N",base:O.FORCE,prefixes:I.SHORT,value:1,offset:0},newton:{name:"newton",base:O.FORCE,prefixes:I.LONG,value:1,offset:0},dyn:{name:"dyn",base:O.FORCE,prefixes:I.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:O.FORCE,prefixes:I.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:O.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:O.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:O.FORCE,prefixes:I.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:O.FORCE,prefixes:I.NONE,value:9.80665,offset:0},J:{name:"J",base:O.ENERGY,prefixes:I.SHORT,value:1,offset:0},joule:{name:"joule",base:O.ENERGY,prefixes:I.LONG,value:1,offset:0},erg:{name:"erg",base:O.ENERGY,prefixes:I.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:O.ENERGY,prefixes:I.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:O.ENERGY,prefixes:I.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:O.ENERGY,prefixes:I.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:O.ENERGY,prefixes:I.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:O.POWER,prefixes:I.SHORT,value:1,offset:0},watt:{name:"watt",base:O.POWER,prefixes:I.LONG,value:1,offset:0},hp:{name:"hp",base:O.POWER,prefixes:I.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:O.POWER,prefixes:I.SHORT,value:d.I,offset:0},VA:{name:"VA",base:O.POWER,prefixes:I.SHORT,value:1,offset:0},Pa:{name:"Pa",base:O.PRESSURE,prefixes:I.SHORT,value:1,offset:0},psi:{name:"psi",base:O.PRESSURE,prefixes:I.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:O.PRESSURE,prefixes:I.NONE,value:101325,offset:0},bar:{name:"bar",base:O.PRESSURE,prefixes:I.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:O.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:O.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:O.PRESSURE,prefixes:I.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:O.PRESSURE,prefixes:I.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:O.ELECTRIC_CHARGE,prefixes:I.LONG,value:1,offset:0},C:{name:"C",base:O.ELECTRIC_CHARGE,prefixes:I.SHORT,value:1,offset:0},farad:{name:"farad",base:O.ELECTRIC_CAPACITANCE,prefixes:I.LONG,value:1,offset:0},F:{name:"F",base:O.ELECTRIC_CAPACITANCE,prefixes:I.SHORT,value:1,offset:0},volt:{name:"volt",base:O.ELECTRIC_POTENTIAL,prefixes:I.LONG,value:1,offset:0},V:{name:"V",base:O.ELECTRIC_POTENTIAL,prefixes:I.SHORT,value:1,offset:0},ohm:{name:"ohm",base:O.ELECTRIC_RESISTANCE,prefixes:I.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:O.ELECTRIC_INDUCTANCE,prefixes:I.LONG,value:1,offset:0},H:{name:"H",base:O.ELECTRIC_INDUCTANCE,prefixes:I.SHORT,value:1,offset:0},siemens:{name:"siemens",base:O.ELECTRIC_CONDUCTANCE,prefixes:I.LONG,value:1,offset:0},S:{name:"S",base:O.ELECTRIC_CONDUCTANCE,prefixes:I.SHORT,value:1,offset:0},weber:{name:"weber",base:O.MAGNETIC_FLUX,prefixes:I.LONG,value:1,offset:0},Wb:{name:"Wb",base:O.MAGNETIC_FLUX,prefixes:I.SHORT,value:1,offset:0},tesla:{name:"tesla",base:O.MAGNETIC_FLUX_DENSITY,prefixes:I.LONG,value:1,offset:0},T:{name:"T",base:O.MAGNETIC_FLUX_DENSITY,prefixes:I.SHORT,value:1,offset:0},b:{name:"b",base:O.BIT,prefixes:I.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:O.BIT,prefixes:I.BINARY_LONG,value:1,offset:0},B:{name:"B",base:O.BIT,prefixes:I.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:O.BIT,prefixes:I.BINARY_LONG,value:8,offset:0}},te={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ge(z){if(z.number==="BigNumber"){var Z=nl(g);q.rad.value=new g(1),q.deg.value=Z.div(180),q.grad.value=Z.div(200),q.cycle.value=Z.times(2),q.arcsec.value=Z.div(648e3),q.arcmin.value=Z.div(10800)}else q.rad.value=1,q.deg.value=Math.PI/180,q.grad.value=Math.PI/200,q.cycle.value=Math.PI*2,q.arcsec.value=Math.PI/648e3,q.arcmin.value=Math.PI/10800;q.radian.value=q.rad.value,q.degree.value=q.deg.value,q.gradian.value=q.grad.value}ge(r),e&&e("config",function(z,Z){z.number!==Z.number&&ge(z)});var oe={si:{NONE:{unit:W,prefix:I.NONE[""]},LENGTH:{unit:q.m,prefix:I.SHORT[""]},MASS:{unit:q.g,prefix:I.SHORT.k},TIME:{unit:q.s,prefix:I.SHORT[""]},CURRENT:{unit:q.A,prefix:I.SHORT[""]},TEMPERATURE:{unit:q.K,prefix:I.SHORT[""]},LUMINOUS_INTENSITY:{unit:q.cd,prefix:I.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:q.mol,prefix:I.SHORT[""]},ANGLE:{unit:q.rad,prefix:I.SHORT[""]},BIT:{unit:q.bits,prefix:I.SHORT[""]},FORCE:{unit:q.N,prefix:I.SHORT[""]},ENERGY:{unit:q.J,prefix:I.SHORT[""]},POWER:{unit:q.W,prefix:I.SHORT[""]},PRESSURE:{unit:q.Pa,prefix:I.SHORT[""]},ELECTRIC_CHARGE:{unit:q.C,prefix:I.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:q.F,prefix:I.SHORT[""]},ELECTRIC_POTENTIAL:{unit:q.V,prefix:I.SHORT[""]},ELECTRIC_RESISTANCE:{unit:q.ohm,prefix:I.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:q.H,prefix:I.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:q.S,prefix:I.SHORT[""]},MAGNETIC_FLUX:{unit:q.Wb,prefix:I.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:q.T,prefix:I.SHORT[""]},FREQUENCY:{unit:q.Hz,prefix:I.SHORT[""]}}};oe.cgs=JSON.parse(JSON.stringify(oe.si)),oe.cgs.LENGTH={unit:q.m,prefix:I.SHORT.c},oe.cgs.MASS={unit:q.g,prefix:I.SHORT[""]},oe.cgs.FORCE={unit:q.dyn,prefix:I.SHORT[""]},oe.cgs.ENERGY={unit:q.erg,prefix:I.NONE[""]},oe.us=JSON.parse(JSON.stringify(oe.si)),oe.us.LENGTH={unit:q.ft,prefix:I.NONE[""]},oe.us.MASS={unit:q.lbm,prefix:I.NONE[""]},oe.us.TEMPERATURE={unit:q.degF,prefix:I.NONE[""]},oe.us.FORCE={unit:q.lbf,prefix:I.NONE[""]},oe.us.ENERGY={unit:q.BTU,prefix:I.BTU[""]},oe.us.POWER={unit:q.hp,prefix:I.NONE[""]},oe.us.PRESSURE={unit:q.psi,prefix:I.NONE[""]},oe.auto=JSON.parse(JSON.stringify(oe.si));var ce=oe.auto;y.setUnitSystem=function(z){if(je(oe,z))ce=oe[z];else throw new Error("Unit system "+z+" does not exist. Choices are: "+Object.keys(oe).join(", "))},y.getUnitSystem=function(){for(var z in oe)if(je(oe,z)&&oe[z]===ce)return z},y.typeConverters={BigNumber:function(Z){return Z!=null&&Z.isFraction?new g(Z.n).div(Z.d).times(Z.s):new g(Z+"")},Fraction:function(Z){return new v(Z)},Complex:function(Z){return Z},number:function(Z){return Z!=null&&Z.isFraction?h(Z):Z}},y.prototype._numberConverter=function(){var z=y.typeConverters[this.valueType()];if(z)return z;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},y._getNumberConverter=function(z){if(!y.typeConverters[z])throw new TypeError('Unsupported type "'+z+'"');return y.typeConverters[z]};for(var pe in q)if(je(q,pe)){var ue=q[pe];ue.dimensions=ue.base.dimensions}for(var ae in te)if(je(te,ae)){var me=q[te[ae]],xe={};for(var Re in me)je(me,Re)&&(xe[Re]=me[Re]);xe.name=ae,q[ae]=xe}y.isValidAlpha=function(Z){return/^[a-zA-Z]$/.test(Z)};function We(z){for(var Z=0;Z<z.length;Z++){if(x=z.charAt(Z),Z===0&&!y.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+z+'"');if(Z>0&&!(y.isValidAlpha(x)||E(x)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+z+'"')}}return y.createUnit=function(z,Z){if(typeof z!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(Z&&Z.override){for(var fe in z)if(je(z,fe)&&y.deleteUnit(fe),z[fe].aliases)for(var H=0;H<z[fe].aliases.length;H++)y.deleteUnit(z[fe].aliases[H])}var K;for(var ie in z)je(z,ie)&&(K=y.createUnitSingle(ie,z[ie]));return K},y.createUnitSingle=function(z,Z){if((typeof Z=="undefined"||Z===null)&&(Z={}),typeof z!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(je(q,z))throw new Error('Cannot create unit "'+z+'": a unit with that name already exists');We(z);var fe=null,H=[],K=0,ie,be,ye;if(Z&&Z.type==="Unit")fe=Z.clone();else if(typeof Z=="string")Z!==""&&(ie=Z);else if(typeof Z=="object")ie=Z.definition,be=Z.prefixes,K=Z.offset,ye=Z.baseName,Z.aliases&&(H=Z.aliases.valueOf());else throw new TypeError('Cannot create unit "'+z+'" from "'+Z.toString()+'": expecting "string" or "Unit" or "Object"');if(H){for(var Le=0;Le<H.length;Le++)if(je(q,H[Le]))throw new Error('Cannot create alias "'+H[Le]+'": a unit with that name already exists')}if(ie&&typeof ie=="string"&&!fe)try{fe=y.parse(ie,{allowNoUnits:!0})}catch(_){throw _.message='Could not create unit "'+z+'" from "'+ie+'": '+_.message,_}else ie&&ie.type==="Unit"&&(fe=ie.clone());H=H||[],K=K||0,be&&be.toUpperCase?be=I[be.toUpperCase()]||I.NONE:be=I.NONE;var Se={};if(fe){Se={name:z,value:fe.value,dimensions:fe.dimensions.slice(0),prefixes:be,offset:K};var zt=!1;for(var j in O)if(je(O,j)){for(var se=!0,de=0;de<V.length;de++)if(Math.abs((Se.dimensions[de]||0)-(O[j].dimensions[de]||0))>1e-12){se=!1;break}if(se){zt=!0,Se.base=O[j];break}}if(!zt){ye=ye||z+"_STUFF";var Ce={dimensions:fe.dimensions.slice(0)};Ce.key=ye,O[ye]=Ce,ce[ye]={unit:Se,prefix:I.NONE[""]},Se.base=O[ye]}}else{if(ye=ye||z+"_STUFF",V.indexOf(ye)>=0)throw new Error('Cannot create new base unit "'+z+'": a base unit with that name already exists (and cannot be overridden)');V.push(ye);for(var ft in O)je(O,ft)&&(O[ft].dimensions[V.length-1]=0);for(var pt={dimensions:[]},_t=0;_t<V.length;_t++)pt.dimensions[_t]=0;pt.dimensions[V.length-1]=1,pt.key=ye,O[ye]=pt,Se={name:z,value:1,dimensions:O[ye].dimensions.slice(0),prefixes:be,offset:K,base:O[ye]},ce[ye]={unit:Se,prefix:I.NONE[""]}}y.UNITS[z]=Se;for(var Me=0;Me<H.length;Me++){var Fe=H[Me],Ne={};for(var Pe in Se)je(Se,Pe)&&(Ne[Pe]=Se[Pe]);Ne.name=Fe,y.UNITS[Fe]=Ne}return delete P.cache,new y(null,z)},y.deleteUnit=function(z){delete y.UNITS[z]},y.PREFIXES=I,y.BASE_DIMENSIONS=V,y.BASE_UNITS=O,y.UNIT_SYSTEMS=oe,y.UNITS=q,y},{isClass:!0});var R_="unit",SG=["typed","Unit"],Sy=A(R_,SG,t=>{var{typed:e,Unit:r}=t;return e(R_,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var P_="sparse",AG=["typed","SparseMatrix"],Ay=A(P_,AG,t=>{var{typed:e,SparseMatrix:r}=t;return e(P_,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})});var L_="createUnit",NG=["typed","Unit"],Ny=A(L_,NG,t=>{var{typed:e,Unit:r}=t;return e(L_,{"Object, Object":function(i,a){return r.createUnit(i,a)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var c={};return c[i]=a,r.createUnit(c,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,r.createUnit(o,{})},string:function(i){var a={};return a[i]={},r.createUnit(a,{})}})});var q_="acos",_G=["typed","config","Complex"],_y=A(q_,_G,t=>{var{typed:e,config:r,Complex:n}=t;return e(q_,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var V_="acosh",MG=["typed","config","Complex"],My=A(V_,MG,t=>{var{typed:e,config:r,Complex:n}=t;return e(V_,{number:function(a){return a>=1||r.predictable?Rg(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var U_="acot",TG=["typed","BigNumber"],Ty=A(U_,TG,t=>{var{typed:e,BigNumber:r}=t;return e(U_,{number:Pg,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})});var z_="acoth",IG=["typed","config","Complex","BigNumber"],Iy=A(z_,IG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(z_,{number:function(o){return o>=1||o<=-1||r.predictable?Lg(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var W_="acsc",BG=["typed","config","Complex","BigNumber"],By=A(W_,BG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(W_,{number:function(o){return o<=-1||o>=1||r.predictable?qg(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var H_="acsch",OG=["typed","BigNumber"],Oy=A(H_,OG,t=>{var{typed:e,BigNumber:r}=t;return e(H_,{number:Vg,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})});var G_="asec",kG=["typed","config","Complex","BigNumber"],ky=A(G_,kG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(G_,{number:function(o){return o<=-1||o>=1||r.predictable?Ug(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var j_="asech",RG=["typed","config","Complex","BigNumber"],Ry=A(j_,RG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(j_,{number:function(o){if(o<=1&&o>=-1||r.predictable){var c=1/o;if(c>0||r.predictable)return zg(o);var u=Math.sqrt(c*c-1);return new n(Math.log(u-c),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var Z_="asin",PG=["typed","config","Complex"],Py=A(Z_,PG,t=>{var{typed:e,config:r,Complex:n}=t;return e(Z_,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var LG="asinh",qG=["typed"],Ly=A(LG,qG,t=>{var{typed:e}=t;return e("asinh",{number:Wg,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var VG="atan",UG=["typed"],qy=A(VG,UG,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var Y_="atan2",zG=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Vy=A(Y_,zG,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=t,c=Ar({typed:e,equalScalar:n}),u=Qt({typed:e}),s=Zf({typed:e,equalScalar:n}),l=Ut({typed:e,equalScalar:n}),f=Mt({typed:e,DenseMatrix:a}),m=ct({typed:e,matrix:r,concat:o});return e(Y_,{"number, number":Math.atan2,"BigNumber, BigNumber":(p,h)=>i.atan2(p,h)},m({scalar:"number | BigNumber",SS:s,DS:u,SD:c,Ss:l,sS:f}))});var J_="atanh",WG=["typed","config","Complex"],Uy=A(J_,WG,t=>{var{typed:e,config:r,Complex:n}=t;return e(J_,{number:function(a){return a<=1&&a>=-1||r.predictable?Hg(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var ci=A("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}});var X_="cos",HG=["typed"],zy=A(X_,HG,t=>{var{typed:e}=t,r=ci({typed:e});return e(X_,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)});var Q_="cosh",GG=["typed"],Wy=A(Q_,GG,t=>{var{typed:e}=t;return e(Q_,{number:Sf,"Complex | BigNumber":r=>r.cosh()})});var K_="cot",jG=["typed","BigNumber"],Hy=A(K_,jG,t=>{var{typed:e,BigNumber:r}=t,n=ci({typed:e});return e(K_,{number:Gg,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},n)});var $_="coth",ZG=["typed","BigNumber"],Gy=A($_,ZG,t=>{var{typed:e,BigNumber:r}=t;return e($_,{number:jg,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})});var eM="csc",YG=["typed","BigNumber"],jy=A(eM,YG,t=>{var{typed:e,BigNumber:r}=t,n=ci({typed:e});return e(eM,{number:Zg,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},n)});var tM="csch",JG=["typed","BigNumber"],Zy=A(tM,JG,t=>{var{typed:e,BigNumber:r}=t;return e(tM,{number:Yg,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})});var rM="sec",XG=["typed","BigNumber"],Yy=A(rM,XG,t=>{var{typed:e,BigNumber:r}=t,n=ci({typed:e});return e(rM,{number:Jg,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},n)});var nM="sech",QG=["typed","BigNumber"],Jy=A(nM,QG,t=>{var{typed:e,BigNumber:r}=t;return e(nM,{number:Xg,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})});var iM="sin",KG=["typed"],Xy=A(iM,KG,t=>{var{typed:e}=t,r=ci({typed:e});return e(iM,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)});var aM="sinh",$G=["typed"],Qy=A(aM,$G,t=>{var{typed:e}=t;return e(aM,{number:Qg,"Complex | BigNumber":r=>r.sinh()})});var oM="tan",ej=["typed"],Ky=A(oM,ej,t=>{var{typed:e}=t,r=ci({typed:e});return e(oM,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)});var tj="tanh",rj=["typed"],$y=A(tj,rj,t=>{var{typed:e}=t;return e("tanh",{number:Af,"Complex | BigNumber":r=>r.tanh()})});var sM="setCartesian",nj=["typed","size","subset","compareNatural","Index","DenseMatrix"],e1=A(sM,nj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(sM,{"Array | Matrix, Array | Matrix":function(u,s){var l=[];if(n(r(u),new a(0))!==0&&n(r(s),new a(0))!==0){var f=dt(Array.isArray(u)?u:u.toArray()).sort(i),m=dt(Array.isArray(s)?s:s.toArray()).sort(i);l=[];for(var p=0;p<f.length;p++)for(var h=0;h<m.length;h++)l.push([f[p],m[h]])}return Array.isArray(u)&&Array.isArray(s)?l:new o(l)}})});var uM="setDifference",ij=["typed","size","subset","compareNatural","Index","DenseMatrix"],t1=A(uM,ij,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(uM,{"Array | Matrix, Array | Matrix":function(u,s){var l;if(n(r(u),new a(0))===0)l=[];else{if(n(r(s),new a(0))===0)return dt(u.toArray());var f=ua(dt(Array.isArray(u)?u:u.toArray()).sort(i)),m=ua(dt(Array.isArray(s)?s:s.toArray()).sort(i));l=[];for(var p,h=0;h<f.length;h++){p=!1;for(var d=0;d<m.length;d++)if(i(f[h].value,m[d].value)===0&&f[h].identifier===m[d].identifier){p=!0;break}p||l.push(f[h])}}return Array.isArray(u)&&Array.isArray(s)?Fs(l):new o(Fs(l))}})});var lM="setDistinct",aj=["typed","size","subset","compareNatural","Index","DenseMatrix"],r1=A(lM,aj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(lM,{"Array | Matrix":function(u){var s;if(n(r(u),new a(0))===0)s=[];else{var l=dt(Array.isArray(u)?u:u.toArray()).sort(i);s=[],s.push(l[0]);for(var f=1;f<l.length;f++)i(l[f],l[f-1])!==0&&s.push(l[f])}return Array.isArray(u)?s:new o(s)}})});var cM="setIntersect",oj=["typed","size","subset","compareNatural","Index","DenseMatrix"],n1=A(cM,oj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(cM,{"Array | Matrix, Array | Matrix":function(u,s){var l;if(n(r(u),new a(0))===0||n(r(s),new a(0))===0)l=[];else{var f=ua(dt(Array.isArray(u)?u:u.toArray()).sort(i)),m=ua(dt(Array.isArray(s)?s:s.toArray()).sort(i));l=[];for(var p=0;p<f.length;p++)for(var h=0;h<m.length;h++)if(i(f[p].value,m[h].value)===0&&f[p].identifier===m[h].identifier){l.push(f[p]);break}}return Array.isArray(u)&&Array.isArray(s)?Fs(l):new o(Fs(l))}})});var fM="setIsSubset",sj=["typed","size","subset","compareNatural","Index"],i1=A(fM,sj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(fM,{"Array | Matrix, Array | Matrix":function(c,u){if(n(r(c),new a(0))===0)return!0;if(n(r(u),new a(0))===0)return!1;for(var s=ua(dt(Array.isArray(c)?c:c.toArray()).sort(i)),l=ua(dt(Array.isArray(u)?u:u.toArray()).sort(i)),f,m=0;m<s.length;m++){f=!1;for(var p=0;p<l.length;p++)if(i(s[m].value,l[p].value)===0&&s[m].identifier===l[p].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var mM="setMultiplicity",uj=["typed","size","subset","compareNatural","Index"],a1=A(mM,uj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(mM,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(c,u){if(n(r(u),new a(0))===0)return 0;for(var s=dt(Array.isArray(u)?u:u.toArray()),l=0,f=0;f<s.length;f++)i(s[f],c)===0&&l++;return l}})});var pM="setPowerset",lj=["typed","size","subset","compareNatural","Index"],o1=A(pM,lj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(pM,{"Array | Matrix":function(s){if(n(r(s),new a(0))===0)return[];for(var l=dt(Array.isArray(s)?s:s.toArray()).sort(i),f=[],m=0;m.toString(2).length<=l.length;)f.push(o(l,m.toString(2).split("").reverse())),m++;return c(f)}});function o(u,s){for(var l=[],f=0;f<s.length;f++)s[f]==="1"&&l.push(u[f]);return l}function c(u){for(var s=[],l=u.length-1;l>0;l--)for(var f=0;f<l;f++)u[f].length>u[f+1].length&&(s=u[f],u[f]=u[f+1],u[f+1]=s);return u}});var dM="setSize",cj=["typed","compareNatural"],s1=A(dM,cj,t=>{var{typed:e,compareNatural:r}=t;return e(dM,{"Array | Matrix":function(i){return Array.isArray(i)?dt(i).length:dt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?dt(i).length:dt(i.toArray()).length;for(var o=dt(Array.isArray(i)?i:i.toArray()).sort(r),c=1,u=1;u<o.length;u++)r(o[u],o[u-1])!==0&&c++;return c}})});var hM="setSymDifference",fj=["typed","size","concat","subset","setDifference","Index"],u1=A(hM,fj,t=>{var{typed:e,size:r,concat:n,subset:i,setDifference:a,Index:o}=t;return e(hM,{"Array | Matrix, Array | Matrix":function(u,s){if(i(r(u),new o(0))===0)return dt(s);if(i(r(s),new o(0))===0)return dt(u);var l=dt(u),f=dt(s);return n(a(l,f),a(f,l))}})});var gM="setUnion",mj=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],l1=A(gM,mj,t=>{var{typed:e,size:r,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:c}=t;return e(gM,{"Array | Matrix, Array | Matrix":function(s,l){if(i(r(s),new c(0))===0)return dt(l);if(i(r(l),new c(0))===0)return dt(s);var f=dt(s),m=dt(l);return n(o(f,m),a(f,m))}})});var vM="add",pj=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],c1=A(vM,pj,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:c}=t,u=vn({typed:e}),s=Ms({typed:e,equalScalar:i}),l=Pn({typed:e,DenseMatrix:a}),f=ct({typed:e,matrix:r,concat:c});return e(vM,{"any, any":n,"any, any, ...any":e.referToSelf(m=>(p,h,d)=>{for(var g=m(p,h),v=0;v<d.length;v++)g=m(g,d[v]);return g})},f({elop:n,DS:u,SS:s,Ss:l}))});var yM="hypot",dj=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],f1=A(yM,dj,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:c,isPositive:u}=t;return e(yM,{"... number | BigNumber":s,Array:s,Matrix:l=>s(dt(l.toArray()))});function s(l){for(var f=0,m=0,p=0;p<l.length;p++){if(Fn(l[p]))throw new TypeError("Unexpected type of argument to hypot");var h=r(l[p]);c(m,h)?(f=a(f,a(i(m,h),i(m,h))),f=n(f,1),m=h):f=n(f,u(h)?a(i(h,m),i(h,m)):h)}return a(m,o(f))}});var bM="norm",hj=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],m1=A(bM,hj,t=>{var{typed:e,abs:r,add:n,pow:i,conj:a,sqrt:o,multiply:c,equalScalar:u,larger:s,smaller:l,matrix:f,ctranspose:m,eigs:p}=t;return e(bM,{number:Math.abs,Complex:function(S){return S.abs()},BigNumber:function(S){return S.abs()},boolean:function(S){return Math.abs(S)},Array:function(S){return x(f(S),2)},Matrix:function(S){return x(S,2)},"Array, number | BigNumber | string":function(S,E){return x(f(S),E)},"Matrix, number | BigNumber | string":function(S,E){return x(S,E)}});function h(w){var S=0;return w.forEach(function(E){var F=r(E);s(F,S)&&(S=F)},!0),S}function d(w){var S;return w.forEach(function(E){var F=r(E);(!S||l(F,S))&&(S=F)},!0),S||0}function g(w,S){if(S===Number.POSITIVE_INFINITY||S==="inf")return h(w);if(S===Number.NEGATIVE_INFINITY||S==="-inf")return d(w);if(S==="fro")return x(w,2);if(typeof S=="number"&&!isNaN(S)){if(!u(S,0)){var E=0;return w.forEach(function(F){E=n(i(r(F),S),E)},!0),i(E,1/S)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function v(w){var S=0;return w.forEach(function(E,F){S=n(S,c(E,a(E)))}),r(o(S))}function C(w){var S=[],E=0;return w.forEach(function(F,M){var B=M[1],k=n(S[B]||0,r(F));s(k,E)&&(E=k),S[B]=k},!0),E}function y(w){var S=w.size();if(S[0]!==S[1])throw new RangeError("Invalid matrix dimensions");var E=m(w),F=c(E,w),M=p(F).values.toArray(),B=M[M.length-1];return r(o(B))}function D(w){var S=[],E=0;return w.forEach(function(F,M){var B=M[0],k=n(S[B]||0,r(F));s(k,E)&&(E=k),S[B]=k},!0),E}function b(w,S){if(S===1)return C(w);if(S===Number.POSITIVE_INFINITY||S==="inf")return D(w);if(S==="fro")return v(w);if(S===2)return y(w);throw new Error("Unsupported parameter value "+S)}function x(w,S){var E=w.size();if(E.length===1)return g(w,S);if(E.length===2){if(E[0]&&E[1])return b(w,S);throw new RangeError("Invalid matrix dimensions")}}});var xM="dot",gj=["typed","addScalar","multiplyScalar","conj","size"],p1=A(xM,gj,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:a}=t;return e(xM,{"Array | DenseMatrix, Array | DenseMatrix":c,"SparseMatrix, SparseMatrix":u});function o(l,f){var m=s(l),p=s(f),h,d;if(m.length===1)h=m[0];else if(m.length===2&&m[1]===1)h=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(p.length===1)d=p[0];else if(p.length===2&&p[1]===1)d=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function c(l,f){var m=o(l,f),p=Ge(l)?l._data:l,h=Ge(l)?l._datatype:void 0,d=Ge(f)?f._data:f,g=Ge(f)?f._datatype:void 0,v=s(l).length===2,C=s(f).length===2,y=r,D=n;if(h&&g&&h===g&&typeof h=="string"){var b=h;y=e.find(r,[b,b]),D=e.find(n,[b,b])}if(!v&&!C){for(var x=D(i(p[0]),d[0]),w=1;w<m;w++)x=y(x,D(i(p[w]),d[w]));return x}if(!v&&C){for(var S=D(i(p[0]),d[0][0]),E=1;E<m;E++)S=y(S,D(i(p[E]),d[E][0]));return S}if(v&&!C){for(var F=D(i(p[0][0]),d[0]),M=1;M<m;M++)F=y(F,D(i(p[M][0]),d[M]));return F}if(v&&C){for(var B=D(i(p[0][0]),d[0][0]),k=1;k<m;k++)B=y(B,D(i(p[k][0]),d[k][0]));return B}}function u(l,f){o(l,f);for(var m=l._index,p=l._values,h=f._index,d=f._values,g=0,v=r,C=n,y=0,D=0;y<m.length&&D<h.length;){var b=m[y],x=h[D];if(b<x){y++;continue}if(b>x){D++;continue}b===x&&(g=v(g,C(p[y],d[D])),y++,D++)}return g}function s(l){return Ge(l)?l.size():a(l)}});var vj="trace",yj=["typed","matrix","add"],d1=A(vj,yj,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(c){return i(r(c))},SparseMatrix:a,DenseMatrix:i,any:et});function i(o){var c=o._size,u=o._data;switch(c.length){case 1:if(c[0]===1)return et(u[0]);throw new RangeError("Matrix must be square (size: "+at(c)+")");case 2:{var s=c[0],l=c[1];if(s===l){for(var f=0,m=0;m<s;m++)f=n(f,u[m][m]);return f}else throw new RangeError("Matrix must be square (size: "+at(c)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+at(c)+")")}}function a(o){var c=o._values,u=o._index,s=o._ptr,l=o._size,f=l[0],m=l[1];if(f===m){var p=0;if(c.length>0)for(var h=0;h<m;h++)for(var d=s[h],g=s[h+1],v=d;v<g;v++){var C=u[v];if(C===h){p=n(p,c[v]);break}if(C>h)break}return p}throw new RangeError("Matrix must be square (size: "+at(l)+")")}});var DM="index",bj=["typed","Index"],h1=A(DM,bj,t=>{var{typed:e,Index:r}=t;return e(DM,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(c){return nt(c)?c.toNumber():wt(c)||Ge(c)?c.map(function(u){return nt(u)?u.toNumber():u}):c}),o=new r;return r.apply(o,a),o}})});var om=new Set(["end"]);var xj="Node",Dj=["mathWithTransform"],g1=A(xj,Dj,t=>{var{mathWithTransform:e}=t;function r(i){for(var a of[...om])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},c=null;function u(s){var l=la(s);return r(l),a(l,o,c)}return{evaluate:u}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!yt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(c,u){c.forEach(function(s,l,f){u(s,l,f),o(s,u)})}o(this,a)}transform(a){function o(c,u,s){var l=a(c,u,s);return l!==c?l:c.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(c,u,s){a(c,u,s)&&o.push(c)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Fi(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this.toHTML(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Kt(t){return t&&t.isIndexError?new cn(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function sm(t){var{subset:e}=t;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ur(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Kt(a)}}}var um="AccessorNode",wj=["subset","Node"],v1=A(um,wj,t=>{var{subset:e,Node:r}=t,n=sm({subset:e});function i(o){return!(jn(o)||un(o)||vt(o)||An(o)||qa(o)||ln(o)||Yt(o))}class a extends r{constructor(c,u){if(super(),!yt(c))throw new TypeError('Node expected for parameter "object"');if(!ai(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=c,this.index=u}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return um}get isAccessorNode(){return!0}_compile(c,u){var s=this.object._compile(c,u),l=this.index._compile(c,u);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(p,h,d){return ur(s(p,h,d),f)}}else return function(p,h,d){var g=s(p,h,d),v=l(p,h,g);return n(g,v)}}forEach(c){c(this.object,"object",this),c(this.index,"index",this)}map(c){return new a(this._ifNode(c(this.object,"object",this)),this._ifNode(c(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(c){var u=this.object.toString(c);return i(this.object)&&(u="("+u+")"),u+this.index.toString(c)}toHTML(c){var u=this.object.toHTML(c);return i(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(c)}_toTex(c){var u=this.object.toTex(c);return i(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(c)}toJSON(){return{mathjs:um,object:this.object,index:this.index}}static fromJSON(c){return new a(c.object,c.index)}}return Bt(a,"name",um),a},{isClass:!0,isNode:!0});var lm="ArrayNode",Ej=["Node"],y1=A(lm,Ej,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(yt))throw new TypeError("Array containing Nodes expected")}get type(){return lm}get isArrayNode(){return!0}_compile(i,a){var o=On(this.items,function(s){return s._compile(i,a)}),c=i.config.matrix!=="Array";if(c){var u=i.matrix;return function(l,f,m){return u(On(o,function(p){return p(l,f,m)}))}}else return function(l,f,m){return On(o,function(p){return p(l,f,m)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:lm,items:this.items}}static fromJSON(i){return new r(i.items)}toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,c){var u=o.some(un)&&!o.every(un),s=c||u,l=s?"&":"\\\\",f=o.map(function(m){return m.items?a(m.items,!c):m.toTex(i)}).join(l);return u||!s||s&&!c?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return Bt(r,"name",lm),r},{isClass:!0,isNode:!0});function wM(t){var{subset:e,matrix:r}=t;return function(i,a,o){try{if(Array.isArray(i)){var c=r(i).subset(a,o).valueOf();return c.forEach((u,s)=>{i[s]=u}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Gi(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(u){throw Kt(u)}}}var fi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function cm(t,e){if(!e||e!=="auto")return t;for(var r=t;ln(r);)r=r.content;return r}function Lt(t,e,r,n){var i=t;e!=="keep"&&(i=t.getContent());for(var a=i.getIdentifier(),o=null,c=0;c<fi.length;c++)if(a in fi[c]){o=c;break}if(a==="OperatorNode:multiply"&&i.implicit&&r!=="show"){var u=cm(i.args[0],e);!(vt(u)&&n&&n.getIdentifier()==="OperatorNode:divide"&&Ou(cm(n.args[0],e)))&&!(u.getIdentifier()==="OperatorNode:divide"&&Ou(cm(u.args[0],e))&&vt(cm(u.args[1])))&&(o+=1)}return o}function Ps(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),i=Lt(r,e);if(i===null)return null;var a=fi[i][n];if(je(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function fm(t,e,r){var n=r!=="keep"?t.getContent():t,i=r!=="keep"?t.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),c=Lt(n,r);if(c===null)return null;var u=fi[c][a];if(je(u,"associativeWith")&&u.associativeWith instanceof Array){for(var s=0;s<u.associativeWith.length;s++)if(u.associativeWith[s]===o)return!0;return!1}return null}function EM(t){var e="OperatorNode:"+t;for(var r of fi)if(e in r)return r[e].op;return null}var mm="AssignmentNode",Cj=["subset","?matrix","Node"],b1=A(mm,Cj,t=>{var{subset:e,matrix:r,Node:n}=t,i=sm({subset:e}),a=wM({subset:e,matrix:r});function o(u,s,l){s||(s="keep");var f=Lt(u,s,l),m=Lt(u.value,s,l);return s==="all"||m!==null&&m<=f}class c extends n{constructor(s,l,f){if(super(),this.object=s,this.index=f?l:null,this.value=f||l,!Yt(s)&&!jn(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Yt(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!ai(this.index))throw new TypeError('IndexNode expected as "index"');if(!yt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return mm}get isAssignmentNode(){return!0}_compile(s,l){var f=this.object._compile(s,l),m=this.index?this.index._compile(s,l):null,p=this.value._compile(s,l),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(D,b,x){var w=f(D,b,x),S=p(D,b,x);return Gi(w,d,S),S}}else{if(Yt(this.object))return function(D,b,x){var w=f(D,b,x),S=p(D,b,x),E=m(D,b,w);return D.set(h,a(w,E,S)),S};var g=this.object.object._compile(s,l);if(this.object.index.isObjectProperty()){var v=this.object.index.getObjectProperty();return function(D,b,x){var w=g(D,b,x),S=ur(w,v),E=m(D,b,S),F=p(D,b,x);return Gi(w,v,a(S,E,F)),F}}else{var C=this.object.index._compile(s,l);return function(D,b,x){var w=g(D,b,x),S=C(D,b,w),E=i(w,S),F=m(D,b,E),M=p(D,b,x);return a(w,S,a(E,F,M)),M}}}else{if(!Yt(this.object))throw new TypeError("SymbolNode expected as object");return function(D,b,x){var w=p(D,b,x);return D.set(h,w),w}}}forEach(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)}map(s){var l=this._ifNode(s(this.object,"object",this)),f=this.index?this._ifNode(s(this.index,"index",this)):null,m=this._ifNode(s(this.value,"value",this));return new c(l,f,m)}clone(){return new c(this.object,this.index,this.value)}_toString(s){var l=this.object.toString(s),f=this.index?this.index.toString(s):"",m=this.value.toString(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m="("+m+")"),l+f+" = "+m}toJSON(){return{mathjs:mm,object:this.object,index:this.index,value:this.value}}static fromJSON(s){return new c(s.object,s.index,s.value)}toHTML(s){var l=this.object.toHTML(s),f=this.index?this.index.toHTML(s):"",m=this.value.toHTML(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m='<span class="math-paranthesis math-round-parenthesis">(</span>'+m+'<span class="math-paranthesis math-round-parenthesis">)</span>'),l+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+m}_toTex(s){var l=this.object.toTex(s),f=this.index?this.index.toTex(s):"",m=this.value.toTex(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m="\\left(".concat(m,"\\right)")),l+f+"="+m}}return Bt(c,"name",mm),c},{isClass:!0,isNode:!0});var pm="BlockNode",Fj=["ResultSet","Node"],x1=A(pm,Fj,t=>{var{ResultSet:e,Node:r}=t;class n extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var c=o&&o.node,u=o&&o.visible!==void 0?o.visible:!0;if(!yt(c))throw new TypeError('Property "node" must be a Node');if(typeof u!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:c,visible:u}})}get type(){return pm}get isBlockNode(){return!0}_compile(a,o){var c=On(this.blocks,function(u){return{evaluate:u.node._compile(a,o),visible:u.visible}});return function(s,l,f){var m=[];return Va(c,function(h){var d=h.evaluate(s,l,f);h.visible&&m.push(d)}),new e(m)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],c=0;c<this.blocks.length;c++){var u=this.blocks[c],s=this._ifNode(a(u.node,"blocks["+c+"].node",this));o[c]={node:s,visible:u.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:pm,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return Bt(n,"name",pm),n},{isClass:!0,isNode:!0});var dm="ConditionalNode",Sj=["Node"],D1=A(dm,Sj,t=>{var{Node:e}=t;function r(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(nt(i))return!i.isZero();if(Fn(i))return!!(i.re||i.im);if(sn(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Dt(i)+'"')}class n extends e{constructor(a,o,c){if(super(),!yt(a))throw new TypeError("Parameter condition must be a Node");if(!yt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!yt(c))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=c}get type(){return dm}get isConditionalNode(){return!0}_compile(a,o){var c=this.condition._compile(a,o),u=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(f,m,p){return r(c(f,m,p))?u(f,m,p):s(f,m,p)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.condition.toString(a),s=Lt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=c)&&(u="("+u+")");var l=this.trueExpr.toString(a),f=Lt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=c)&&(l="("+l+")");var m=this.falseExpr.toString(a),p=Lt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=c)&&(m="("+m+")"),u+" ? "+l+" : "+m}toJSON(){return{mathjs:dm,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.condition.toHTML(a),s=Lt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=c)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var l=this.trueExpr.toHTML(a),f=Lt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=c)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var m=this.falseExpr.toHTML(a),p=Lt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=c)&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+l+'<span class="math-operator math-conditional-operator">:</span>'+m}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Bt(n,"name",dm),n},{isClass:!0,isNode:!0});var AM=xr(FM(),1);var E1={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Ot={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},C1={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Ot.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Ot.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Ot.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Ot.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Ot.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Ot.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Ot.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Ot.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Ot.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Ot.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Ot.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Ot.bitAnd,"${args[1]}\\right)")},bitNot:{1:Ot.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Ot.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Ot.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Ot.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Ot.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Ot.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Ot.and,"${args[1]}\\right)")},not:{1:Ot.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Ot.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Ot.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Ot.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Ot.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Ot.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Ot.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Ot.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Ot.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Ot.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Ot.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Ot.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Ot.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Ot.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(E1.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},NM="\\mathrm{${name}}\\left(${args}\\right)",SM={deg:"^\\circ"};function hm(t){return(0,AM.default)(t,{preserveFormatting:!0})}function gm(t,e){return e=typeof e=="undefined"?!1:e,e?je(SM,t)?SM[t]:"\\mathrm{"+hm(t)+"}":je(E1,t)?E1[t]:hm(t)}var vm="ConstantNode",Mj=["Node"],F1=A(vm,Mj,t=>{var{Node:e}=t;class r extends e{constructor(i){super(),this.value=i}get type(){return vm}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return at(this.value,i)}toHTML(i){var a=this._toString(i);switch(Dt(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:vm,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var a=this._toString(i);switch(Dt(this.value)){case"string":return"\\mathtt{"+hm(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return Bt(r,"name",vm),r},{isClass:!0,isNode:!0});var ym="FunctionAssignmentNode",Tj=["typed","Node"],S1=A(ym,Tj,t=>{var{typed:e,Node:r}=t;function n(a,o,c){var u=Lt(a,o,c),s=Lt(a.expr,o,c);return o==="all"||s!==null&&s<=u}class i extends r{constructor(o,c,u){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(c))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!yt(u))throw new TypeError('Node expected for parameter "expr"');if(om.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var s=new Set;for(var l of c){var f=typeof l=="string"?l:l.name;if(s.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));s.add(f)}this.name=o,this.params=c.map(function(m){return m&&m.name||m}),this.types=c.map(function(m){return m&&m.type||"any"}),this.expr=u}get type(){return ym}get isFunctionAssignmentNode(){return!0}_compile(o,c){var u=Object.create(c);Va(this.params,function(h){u[h]=!0});var s=this.expr._compile(o,u),l=this.name,f=this.params,m=Ih(this.types,","),p=l+"("+Ih(this.params,", ")+")";return function(d,g,v){var C={};C[m]=function(){for(var D=Object.create(g),b=0;b<f.length;b++)D[f[b]]=arguments[b];return s(d,D,v)};var y=e(l,C);return y.syntax=p,d.set(l,y),y}}forEach(o){o(this.expr,"expr",this)}map(o){var c=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),c)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toString(o);return n(this,c,o&&o.implicit)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u}toJSON(){var o=this.types;return{mathjs:ym,name:this.name,params:this.params.map(function(c,u){return{name:c,type:o[u]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}toHTML(o){for(var c=o&&o.parenthesis?o.parenthesis:"keep",u=[],s=0;s<this.params.length;s++)u.push('<span class="math-symbol math-parameter">'+Vr(this.params[s])+"</span>");var l=this.expr.toHTML(o);return n(this,c,o&&o.implicit)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Vr(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+l}_toTex(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toTex(o);return n(this,c,o&&o.implicit)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(gm).join(",")+"\\right)="+u}}return Bt(i,"name",ym),i},{isClass:!0,isNode:!0});var bm="IndexNode",Ij=["Node","size"],A1=A(bm,Ij,t=>{var{Node:e,size:r}=t;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(yt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return bm}get isIndexNode(){return!0}_compile(a,o){var c=On(this.dimensions,function(s,l){var f=s.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var m=Object.create(o);m.end=!0;var p=s._compile(a,m);return function(d,g,v){if(!Ge(v)&&!wt(v)&&!pr(v))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Dt(v));var C=r(v).valueOf(),y=Object.create(g);return y.end=C[l],p(d,y,v)}}else return s._compile(a,o)}),u=ur(a,"index");return function(l,f,m){var p=On(c,function(h){return h(l,f,m)});return u(...p)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],c=0;c<this.dimensions.length;c++)o[c]=this._ifNode(a(this.dimensions[c],"dimensions["+c+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&vt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:bm,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}toHTML(a){for(var o=[],c=0;c<this.dimensions.length;c++)o[c]=this.dimensions[c].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Vr(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(c){return c.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Bt(n,"name",bm),n},{isClass:!0,isNode:!0});var xm="ObjectNode",Bj=["Node"],N1=A(xm,Bj,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return yt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return xm}get isObjectNode(){return!0}_compile(i,a){var o={};for(var c in this.properties)if(je(this.properties,c)){var u=So(c),s=JSON.parse(u),l=ur(this.properties,c);o[s]=l._compile(i,a)}return function(m,p,h){var d={};for(var g in o)je(o,g)&&(d[g]=o[g](m,p,h));return d}}forEach(i){for(var a in this.properties)je(this.properties,a)&&i(this.properties[a],"properties["+So(a)+"]",this)}map(i){var a={};for(var o in this.properties)je(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+So(o)+"]",this)));return new r(a)}clone(){var i={};for(var a in this.properties)je(this.properties,a)&&(i[a]=this.properties[a]);return new r(i)}_toString(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push(So(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:xm,properties:this.properties}}static fromJSON(i){return new r(i.properties)}toHTML(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push('<span class="math-symbol math-property">'+Vr(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var c="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return c}}return Bt(r,"name",xm),r},{isClass:!0,isNode:!0});var Dm="OperatorNode",Oj=["Node"],_1=A(Dm,Oj,t=>{var{Node:e}=t;function r(a,o){var c=a;if(o==="auto")for(;ln(c);)c=c.content;return vt(c)?!0:ar(c)?r(c.args[0],o):!1}function n(a,o,c,u,s){var l=Lt(a,o,c),f=Ps(a,o);if(o==="all"||u.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return u.map(function(F){switch(F.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var m;switch(u.length){case 0:m=[];break;case 1:{var p=Lt(u[0],o,c,a);if(s&&p!==null){var h,d;if(o==="keep"?(h=u[0].getIdentifier(),d=a.getIdentifier()):(h=u[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),fi[l][d].latexLeftParens===!1){m=[!1];break}if(fi[p][h].latexParens===!1){m=[!1];break}}if(p===null){m=[!1];break}if(p<=l){m=[!0];break}m=[!1]}break;case 2:{var g,v=Lt(u[0],o,c,a),C=fm(a,u[0],o);v===null?g=!1:v===l&&f==="right"&&!C||v<l?g=!0:g=!1;var y,D=Lt(u[1],o,c,a),b=fm(a,u[1],o);if(D===null?y=!1:D===l&&f==="left"&&!b||D<l?y=!0:y=!1,s){var x,w,S;o==="keep"?(x=a.getIdentifier(),w=a.args[0].getIdentifier(),S=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),w=a.args[0].getContent().getIdentifier(),S=a.args[1].getContent().getIdentifier()),v!==null&&(fi[l][x].latexLeftParens===!1&&(g=!1),fi[v][w].latexParens===!1&&(g=!1)),D!==null&&(fi[l][x].latexRightParens===!1&&(y=!1),fi[D][S].latexParens===!1&&(y=!1))}m=[g,y]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(m=u.map(function(F){var M=Lt(F,o,c,a),B=fm(a,F,o),k=Ps(F,o);return M===null?!1:l===M&&f===k&&!B?!0:M<l}));break}if(u.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&c==="hide")for(var E=1;E<m.length;++E)r(u[E],o)&&!m[E-1]&&(o!=="keep"||!ln(u[E-1]))&&(m[E]=!0);return m}class i extends e{constructor(o,c,u,s,l){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof c!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(yt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=s===!0,this.isPercentage=l===!0,this.op=o,this.fn=c,this.args=u||[]}get type(){return Dm}get isOperatorNode(){return!0}_compile(o,c){if(typeof this.fn!="string"||!Tf(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=ur(o,this.fn),s=On(this.args,function(p){return p._compile(o,c)});if(s.length===1){var l=s[0];return function(h,d,g){return u(l(h,d,g))}}else if(s.length===2){var f=s[0],m=s[1];return function(h,d,g){return u(f(h,d,g),m(h,d,g))}}else return function(h,d,g){return u.apply(null,On(s,function(v){return v(h,d,g)}))}}forEach(o){for(var c=0;c<this.args.length;c++)o(this.args[c],"args["+c+"]",this)}map(o){for(var c=[],u=0;u<this.args.length;u++)c[u]=this._ifNode(o(this.args[u],"args["+u+"]",this));return new i(this.op,this.fn,c,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,l=n(this,c,u,s,!1);if(s.length===1){var f=Ps(this,c),m=s[0].toString(o);l[0]&&(m="("+m+")");var p=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(p?" ":"")+m:f==="left"?m+(p?" ":"")+this.op:m+this.op}else if(s.length===2){var h=s[0].toString(o),d=s[1].toString(o);return l[0]&&(h="("+h+")"),l[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=s.map(function(v,C){return v=v.toString(o),l[C]&&(v="("+v+")"),v});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Dm,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}toHTML(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,l=n(this,c,u,s,!1);if(s.length===1){var f=Ps(this,c),m=s[0].toHTML(o);return l[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Vr(this.op)+"</span>"+m:m+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Vr(this.op)+"</span>"}else if(s.length===2){var p=s[0].toHTML(o),h=s[1].toHTML(o);return l[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(this.op)+"</span>"+h}else{var d=s.map(function(g,v){return g=g.toHTML(o),l[v]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(this.op)+"</span>"):'<span class="math-function">'+Vr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,l=n(this,c,u,s,!0),f=Ot[this.fn];if(f=typeof f=="undefined"?this.op:f,s.length===1){var m=Ps(this,c),p=s[0].toTex(o);return l[0]&&(p="\\left(".concat(p,"\\right)")),m==="right"?f+p:p+f}else if(s.length===2){var h=s[0],d=h.toTex(o);l[0]&&(d="\\left(".concat(d,"\\right)"));var g=s[1],v=g.toTex(o);l[1]&&(v="\\left(".concat(v,"\\right)"));var C;switch(c==="keep"?C=h.getIdentifier():C=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+v+"}";case"OperatorNode:pow":switch(d="{"+d+"}",v="{"+v+"}",C){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&u==="hide")return d+"~"+v}return d+f+v}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=s.map(function(D,b){return D=D.toTex(o),l[b]&&(D="\\left(".concat(D,"\\right)")),D});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&u==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+s.map(function(D){return D.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Bt(i,"name",Dm),i},{isClass:!0,isNode:!0});var wm="ParenthesisNode",kj=["Node"],M1=A(wm,kj,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),!yt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return wm}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:wm,content:this.content}}static fromJSON(i){return new r(i.content)}toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Bt(r,"name",wm),r},{isClass:!0,isNode:!0});var Em="RangeNode",Rj=["Node"],T1=A(Em,Rj,t=>{var{Node:e}=t;function r(i,a,o){var c=Lt(i,a,o),u={},s=Lt(i.start,a,o);if(u.start=s!==null&&s<=c||a==="all",i.step){var l=Lt(i.step,a,o);u.step=l!==null&&l<=c||a==="all"}var f=Lt(i.end,a,o);return u.end=f!==null&&f<=c||a==="all",u}class n extends e{constructor(a,o,c){if(super(),!yt(a))throw new TypeError("Node expected");if(!yt(o))throw new TypeError("Node expected");if(c&&!yt(c))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=c||null}get type(){return Em}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return Yt(o)&&o.name==="end"});return a.length>0}_compile(a,o){var c=a.range,u=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var l=this.step._compile(a,o);return function(m,p,h){return c(u(m,p,h),s(m,p,h),l(m,p,h))}}else return function(m,p,h){return c(u(m,p,h),s(m,p,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=r(this,o,a&&a.implicit),u,s=this.start.toString(a);if(c.start&&(s="("+s+")"),u=s,this.step){var l=this.step.toString(a);c.step&&(l="("+l+")"),u+=":"+l}var f=this.end.toString(a);return c.end&&(f="("+f+")"),u+=":"+f,u}toJSON(){return{mathjs:Em,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=r(this,o,a&&a.implicit),u,s=this.start.toHTML(a);if(c.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=s,this.step){var l=this.step.toHTML(a);c.step&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+l}var f=this.end.toHTML(a);return c.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+f,u}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=r(this,o,a&&a.implicit),u=this.start.toTex(a);if(c.start&&(u="\\left(".concat(u,"\\right)")),this.step){var s=this.step.toTex(a);c.step&&(s="\\left(".concat(s,"\\right)")),u+=":"+s}var l=this.end.toTex(a);return c.end&&(l="\\left(".concat(l,"\\right)")),u+=":"+l,u}}return Bt(n,"name",Em),n},{isClass:!0,isNode:!0});var Cm="RelationalNode",Pj=["Node"],I1=A(Cm,Pj,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return Cm}get isRelationalNode(){return!0}_compile(a,o){var c=this,u=this.params.map(s=>s._compile(a,o));return function(l,f,m){for(var p,h=u[0](l,f,m),d=0;d<c.conditionals.length;d++){p=h,h=u[d+1](l,f,m);var g=ur(a,c.conditionals[d]);if(!g(p,h))return!1}return!0}}forEach(a){this.params.forEach((o,c)=>a(o,"params["+c+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,c)=>this._ifNode(a(o,"params["+c+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=Lt(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=c?"("+f.toString(a)+")":f.toString(a)}),s=u[0],l=0;l<this.conditionals.length;l++)s+=" "+r[this.conditionals[l]],s+=" "+u[l+1];return s}toJSON(){return{mathjs:Cm,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=Lt(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=c?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),s=u[0],l=0;l<this.conditionals.length;l++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(r[this.conditionals[l]])+"</span>"+u[l+1];return s}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=Lt(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=c?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),s=u[0],l=0;l<this.conditionals.length;l++)s+=Ot[this.conditionals[l]]+u[l+1];return s}}return Bt(n,"name",Cm),n},{isClass:!0,isNode:!0});var Lj="SymbolNode",qj=["math","?Unit","Node"],B1=A(Lj,qj,t=>{var{math:e,Unit:r,Node:n}=t;function i(o){return r?r.isValuelessUnit(o):!1}class a extends n{constructor(c){if(super(),typeof c!="string")throw new TypeError('String expected for parameter "name"');this.name=c}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(c,u){var s=this.name;if(u[s]===!0)return function(f,m,p){return ur(m,s)};if(s in c)return function(f,m,p){return f.has(s)?f.get(s):ur(c,s)};var l=i(s);return function(f,m,p){return f.has(s)?f.get(s):l?new r(null,s):a.onUndefinedSymbol(s)}}forEach(c){}map(c){return this.clone()}static onUndefinedSymbol(c){throw new Error("Undefined symbol "+c)}clone(){return new a(this.name)}_toString(c){return this.name}toHTML(c){var u=Vr(this.name);return u==="true"||u==="false"?'<span class="math-symbol math-boolean">'+u+"</span>":u==="i"?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":u==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":u==="NaN"?'<span class="math-symbol math-nan-symbol">'+u+"</span>":u==="null"?'<span class="math-symbol math-null-symbol">'+u+"</span>":u==="undefined"?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(c){return new a(c.name)}_toTex(c){var u=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(u=!0);var s=gm(this.name,u);return s[0]==="\\"?s:" "+s}}return a},{isClass:!0,isNode:!0});function Bo(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return typeof t.createSubScope=="function"?kh(t.createSubScope(),...r):kh(ji(),t,...r)}var Fm="FunctionNode",Vj=["math","Node","SymbolNode"],O1=A(Fm,Vj,t=>{var e,{math:r,Node:n,SymbolNode:i}=t,a=u=>at(u,{truncate:78});function o(u,s,l){for(var f="",m=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0,h;(h=m.exec(u))!==null;)if(f+=u.substring(p,h.index),p=h.index,h[0]==="$$")f+="$",p++;else{p+=h[0].length;var d=s[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(yt(d))f+=d.toTex(l);else if(Array.isArray(d))f+=d.map(function(g,v){if(yt(g))return g.toTex(l);throw new TypeError("Template: "+h[1]+"["+v+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(yt(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(l);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=u.slice(p),f}class c extends n{constructor(s,l){if(super(),typeof s=="string"&&(s=new i(s)),!yt(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(l)||!l.every(yt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=l||[]}get name(){return this.fn.name||""}get type(){return Fm}get isFunctionNode(){return!0}_compile(s,l){var f=this.args.map(S=>S._compile(s,l));if(Yt(this.fn)){var m=this.fn.name;if(l[m]){var v=this.args;return function(E,F,M){var B=ur(F,m);if(typeof B!="function")throw new TypeError("Argument '".concat(m,"' was not a function; received: ").concat(a(B)));if(B.rawArgs)return B(v,s,Bo(E,F),E);var k=f.map(R=>R(E,F,M));return B.apply(B,k)}}else{var p=m in s?ur(s,m):void 0,h=typeof p=="function"&&p.rawArgs===!0,d=S=>{var E;if(S.has(m))E=S.get(m);else if(m in s)E=ur(s,m);else return c.onUndefinedFunction(m);if(typeof E=="function")return E;throw new TypeError("'".concat(m,`' is not a function; its value is:
  `).concat(a(E)))};if(h){var g=this.args;return function(E,F,M){var B=d(E);return B(g,s,Bo(E,F),E)}}else switch(f.length){case 0:return function(E,F,M){var B=d(E);return B()};case 1:return function(E,F,M){var B=d(E),k=f[0];return B(k(E,F,M))};case 2:return function(E,F,M){var B=d(E),k=f[0],R=f[1];return B(k(E,F,M),R(E,F,M))};default:return function(E,F,M){var B=d(E),k=f.map(R=>R(E,F,M));return B(...k)}}}}else if(jn(this.fn)&&ai(this.fn.index)&&this.fn.index.isObjectProperty()){var C=this.fn.object._compile(s,l),y=this.fn.index.getObjectProperty(),D=this.args;return function(E,F,M){var B=C(E,F,M),k=V2(B,y);if(k!=null&&k.rawArgs)return k(D,s,Bo(E,F),E);var R=f.map(P=>P(E,F,M));return k.apply(B,R)}}else{var b=this.fn.toString(),x=this.fn._compile(s,l),w=this.args;return function(E,F,M){var B=x(E,F,M);if(typeof B!="function")throw new TypeError("Expression '".concat(b,"' did not evaluate to a function; value is:")+`
  `.concat(a(B)));if(B.rawArgs)return B(w,s,Bo(E,F),E);var k=f.map(R=>R(E,F,M));return B.apply(B,k)}}}forEach(s){s(this.fn,"fn",this);for(var l=0;l<this.args.length;l++)s(this.args[l],"args["+l+"]",this)}map(s){for(var l=this._ifNode(s(this.fn,"fn",this)),f=[],m=0;m<this.args.length;m++)f[m]=this._ifNode(s(this.args[m],"args["+m+"]",this));return new c(l,f)}clone(){return new c(this.fn,this.args.slice(0))}toString(s){var l,f=this.fn.toString(s);return s&&typeof s.handler=="object"&&je(s.handler,f)&&(l=s.handler[f](this,s)),typeof l!="undefined"?l:super.toString(s)}_toString(s){var l=this.args.map(function(m){return m.toString(s)}),f=Hi(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return f+"("+l.join(", ")+")"}toJSON(){return{mathjs:Fm,fn:this.fn,args:this.args}}toHTML(s){var l=this.args.map(function(f){return f.toHTML(s)});return'<span class="math-function">'+Vr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(s){var l;return s&&typeof s.handler=="object"&&je(s.handler,this.name)&&(l=s.handler[this.name](this,s)),typeof l!="undefined"?l:super.toTex(s)}_toTex(s){var l=this.args.map(function(p){return p.toTex(s)}),f;C1[this.name]&&(f=C1[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(f=r[this.name].toTex);var m;switch(typeof f){case"function":m=f(this,s);break;case"string":m=o(f,this,s);break;case"object":switch(typeof f[l.length]){case"function":m=f[l.length](this,s);break;case"string":m=o(f[l.length],this,s);break}}return typeof m!="undefined"?m:o(NM,this,s)}getIdentifier(){return this.type+":"+this.name}}return e=c,Bt(c,"name",Fm),Bt(c,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),Bt(c,"fromJSON",function(u){return new e(u.fn,u.args)}),c},{isClass:!0,isNode:!0});var _M="parse",Uj=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],k1=A(_M,Uj,t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:c,ConditionalNode:u,ConstantNode:s,FunctionAssignmentNode:l,FunctionNode:f,IndexNode:m,ObjectNode:p,OperatorNode:h,ParenthesisNode:d,RangeNode:g,RelationalNode:v,SymbolNode:C}=t,y=e(_M,{string:function(N){return $(N,{})},"Array | Matrix":function(N){return D(N,{})},"string, Object":function(N,L){var Y=L.nodes!==void 0?L.nodes:{};return $(N,Y)},"Array | Matrix, Object":D});function D(_){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=N.nodes!==void 0?N.nodes:{};return Ze(_,function(Y){if(typeof Y!="string")throw new TypeError("String expected");return $(Y,L)})}var b={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},w={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},S={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"],F={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function M(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b.NULL,nestingLevel:0,conditionalLevel:null}}function B(_,N){return _.expression.substr(_.index,N)}function k(_){return B(_,1)}function R(_){_.index++}function P(_){return _.expression.charAt(_.index-1)}function T(_){return _.expression.charAt(_.index+1)}function I(_){for(_.tokenType=b.NULL,_.token="",_.comment="";;){if(k(_)==="#")for(;k(_)!==`
`&&k(_)!=="";)_.comment+=k(_),R(_);if(y.isWhitespace(k(_),_.nestingLevel))R(_);else break}if(k(_)===""){_.tokenType=b.DELIMITER;return}if(k(_)===`
`&&!_.nestingLevel){_.tokenType=b.DELIMITER,_.token=k(_),R(_);return}var N=k(_),L=B(_,2),Y=B(_,3);if(Y.length===3&&x[Y]){_.tokenType=b.DELIMITER,_.token=Y,R(_),R(_),R(_);return}if(L.length===2&&x[L]){_.tokenType=b.DELIMITER,_.token=L,R(_),R(_);return}if(x[N]){_.tokenType=b.DELIMITER,_.token=N,R(_);return}if(y.isDigitDot(N)){_.tokenType=b.NUMBER;var le=B(_,2);if(le==="0b"||le==="0o"||le==="0x"){for(_.token+=k(_),R(_),_.token+=k(_),R(_);y.isHexDigit(k(_));)_.token+=k(_),R(_);if(k(_)===".")for(_.token+=".",R(_);y.isHexDigit(k(_));)_.token+=k(_),R(_);else if(k(_)==="i")for(_.token+="i",R(_);y.isDigit(k(_));)_.token+=k(_),R(_);return}if(k(_)==="."){if(_.token+=k(_),R(_),!y.isDigit(k(_))){_.tokenType=b.DELIMITER;return}}else{for(;y.isDigit(k(_));)_.token+=k(_),R(_);y.isDecimalMark(k(_),T(_))&&(_.token+=k(_),R(_))}for(;y.isDigit(k(_));)_.token+=k(_),R(_);if(k(_)==="E"||k(_)==="e"){if(y.isDigit(T(_))||T(_)==="-"||T(_)==="+"){if(_.token+=k(_),R(_),(k(_)==="+"||k(_)==="-")&&(_.token+=k(_),R(_)),!y.isDigit(k(_)))throw Ne(_,'Digit expected, got "'+k(_)+'"');for(;y.isDigit(k(_));)_.token+=k(_),R(_);if(y.isDecimalMark(k(_),T(_)))throw Ne(_,'Digit expected, got "'+k(_)+'"')}else if(T(_)===".")throw R(_),Ne(_,'Digit expected, got "'+k(_)+'"')}return}if(y.isAlpha(k(_),P(_),T(_))){for(;y.isAlpha(k(_),P(_),T(_))||y.isDigit(k(_));)_.token+=k(_),R(_);je(w,_.token)?_.tokenType=b.DELIMITER:_.tokenType=b.SYMBOL;return}for(_.tokenType=b.UNKNOWN;k(_)!=="";)_.token+=k(_),R(_);throw Ne(_,'Syntax error in part "'+_.token+'"')}function V(_){do I(_);while(_.token===`
`)}function O(_){_.nestingLevel++}function J(_){_.nestingLevel--}y.isAlpha=function(N,L,Y){return y.isValidLatinOrGreek(N)||y.isValidMathSymbol(N,Y)||y.isValidMathSymbol(L,N)},y.isValidLatinOrGreek=function(N){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(N)},y.isValidMathSymbol=function(N,L){return/^[\uD835]$/.test(N)&&/^[\uDC00-\uDFFF]$/.test(L)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(L)},y.isWhitespace=function(N,L){return N===" "||N==="	"||N===`
`&&L>0},y.isDecimalMark=function(N,L){return N==="."&&L!=="/"&&L!=="*"&&L!=="^"},y.isDigitDot=function(N){return N>="0"&&N<="9"||N==="."},y.isDigit=function(N){return N>="0"&&N<="9"},y.isHexDigit=function(N){return N>="0"&&N<="9"||N>="a"&&N<="f"||N>="A"&&N<="F"};function $(_,N){var L=M();sr(L,{expression:_,extraNodes:N}),I(L);var Y=W(L);if(L.token!=="")throw L.tokenType===b.DELIMITER?Pe(L,"Unexpected operator "+L.token):Ne(L,'Unexpected part "'+L.token+'"');return Y}function W(_){var N,L=[],Y;for(_.token!==""&&_.token!==`
`&&_.token!==";"&&(N=q(_),_.comment&&(N.comment=_.comment));_.token===`
`||_.token===";";)L.length===0&&N&&(Y=_.token!==";",L.push({node:N,visible:Y})),I(_),_.token!==`
`&&_.token!==";"&&_.token!==""&&(N=q(_),_.comment&&(N.comment=_.comment),Y=_.token!==";",L.push({node:N,visible:Y}));return L.length>0?new c(L):(N||(N=new s(void 0),_.comment&&(N.comment=_.comment)),N)}function q(_){var N,L,Y,le,he=te(_);if(_.token==="="){if(Yt(he))return N=he.name,V(_),Y=q(_),new o(new C(N),Y);if(jn(he))return V(_),Y=q(_),new o(he.object,he.index,Y);if(An(he)&&Yt(he.fn)&&(le=!0,L=[],N=he.name,he.args.forEach(function(_e,qe){Yt(_e)?L[qe]=_e.name:le=!1}),le))return V(_),Y=q(_),new l(N,L,Y);throw Ne(_,"Invalid left hand side of assignment operator =")}return he}function te(_){for(var N=ge(_);_.token==="?";){var L=_.conditionalLevel;_.conditionalLevel=_.nestingLevel,V(_);var Y=N,le=q(_);if(_.token!==":")throw Ne(_,"False part of conditional expression expected");_.conditionalLevel=null,V(_);var he=q(_);N=new u(Y,le,he),_.conditionalLevel=L}return N}function ge(_){for(var N=oe(_);_.token==="or";)V(_),N=new h("or","or",[N,oe(_)]);return N}function oe(_){for(var N=ce(_);_.token==="xor";)V(_),N=new h("xor","xor",[N,ce(_)]);return N}function ce(_){for(var N=pe(_);_.token==="and";)V(_),N=new h("and","and",[N,pe(_)]);return N}function pe(_){for(var N=ue(_);_.token==="|";)V(_),N=new h("|","bitOr",[N,ue(_)]);return N}function ue(_){for(var N=ae(_);_.token==="^|";)V(_),N=new h("^|","bitXor",[N,ae(_)]);return N}function ae(_){for(var N=me(_);_.token==="&";)V(_),N=new h("&","bitAnd",[N,me(_)]);return N}function me(_){for(var N=[xe(_)],L=[],Y={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};je(Y,_.token);){var le={name:_.token,fn:Y[_.token]};L.push(le),V(_),N.push(xe(_))}return N.length===1?N[0]:N.length===2?new h(L[0].name,L[0].fn,N):new v(L.map(he=>he.fn),N)}function xe(_){var N,L,Y,le;N=Re(_);for(var he={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};je(he,_.token);)L=_.token,Y=he[L],V(_),le=[N,Re(_)],N=new h(L,Y,le);return N}function Re(_){var N,L,Y,le;N=We(_);for(var he={to:"to",in:"to"};je(he,_.token);)L=_.token,Y=he[L],V(_),L==="in"&&_.token===""?N=new h("*","multiply",[N,new C("in")],!0):(le=[N,We(_)],N=new h(L,Y,le));return N}function We(_){var N,L=[];if(_.token===":"?N=new s(1):N=z(_),_.token===":"&&_.conditionalLevel!==_.nestingLevel){for(L.push(N);_.token===":"&&L.length<3;)V(_),_.token===")"||_.token==="]"||_.token===","||_.token===""?L.push(new C("end")):L.push(z(_));L.length===3?N=new g(L[0],L[2],L[1]):N=new g(L[0],L[1])}return N}function z(_){var N,L,Y,le;N=Z(_);for(var he={"+":"add","-":"subtract"};je(he,_.token);){L=_.token,Y=he[L],V(_);var _e=Z(_);_e.isPercentage?le=[N,new h("*","multiply",[N,_e])]:le=[N,_e],N=new h(L,Y,le)}return N}function Z(_){var N,L,Y,le;N=fe(_),L=N;for(var he={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};je(he,_.token);)Y=_.token,le=he[Y],V(_),L=fe(_),N=new h(Y,le,[N,L]);return N}function fe(_){var N,L;for(N=H(_),L=N;_.tokenType===b.SYMBOL||_.token==="in"&&vt(N)||_.tokenType===b.NUMBER&&!vt(L)&&(!ar(L)||L.op==="!")||_.token==="(";)L=H(_),N=new h("*","multiply",[N,L],!0);return N}function H(_){for(var N=K(_),L=N,Y=[];_.token==="/"&&Ou(L);)if(Y.push(sr({},_)),V(_),_.tokenType===b.NUMBER)if(Y.push(sr({},_)),V(_),_.tokenType===b.SYMBOL||_.token==="(")sr(_,Y.pop()),Y.pop(),L=K(_),N=new h("/","divide",[N,L]);else{Y.pop(),sr(_,Y.pop());break}else{sr(_,Y.pop());break}return N}function K(_){var N,L,Y,le;N=ie(_);for(var he={"%":"mod",mod:"mod"};je(he,_.token);)L=_.token,Y=he[L],V(_),L==="%"&&_.tokenType===b.DELIMITER&&_.token!=="("?N=new h("/","divide",[N,new s(100)],!1,!0):(le=[N,ie(_)],N=new h(L,Y,le));return N}function ie(_){var N,L,Y,le={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return je(le,_.token)?(Y=le[_.token],N=_.token,V(_),L=[ie(_)],new h(N,Y,L)):be(_)}function be(_){var N,L,Y,le;return N=ye(_),(_.token==="^"||_.token===".^")&&(L=_.token,Y=L==="^"?"pow":"dotPow",V(_),le=[N,ie(_)],N=new h(L,Y,le)),N}function ye(_){var N,L,Y,le;N=Le(_);for(var he={"!":"factorial","'":"ctranspose"};je(he,_.token);)L=_.token,Y=he[L],I(_),le=[N],N=new h(L,Y,le),N=ft(_,N);return N}function Le(_){var N=[];if(_.tokenType===b.SYMBOL&&je(_.extraNodes,_.token)){var L=_.extraNodes[_.token];if(I(_),_.token==="("){if(N=[],O(_),I(_),_.token!==")")for(N.push(q(_));_.token===",";)I(_),N.push(q(_));if(_.token!==")")throw Ne(_,"Parenthesis ) expected");J(_),I(_)}return new L(N)}return Se(_)}function Se(_){var N,L;return _.tokenType===b.SYMBOL||_.tokenType===b.DELIMITER&&_.token in w?(L=_.token,I(_),je(S,L)?N=new s(S[L]):E.indexOf(L)!==-1?N=new s(r(L,"number")):N=new C(L),N=ft(_,N),N):pt(_)}function ft(_,N,L){for(var Y;(_.token==="("||_.token==="["||_.token===".")&&(!L||L.indexOf(_.token)!==-1);)if(Y=[],_.token==="(")if(Yt(N)||jn(N)){if(O(_),I(_),_.token!==")")for(Y.push(q(_));_.token===",";)I(_),Y.push(q(_));if(_.token!==")")throw Ne(_,"Parenthesis ) expected");J(_),I(_),N=new f(N,Y)}else return N;else if(_.token==="["){if(O(_),I(_),_.token!=="]")for(Y.push(q(_));_.token===",";)I(_),Y.push(q(_));if(_.token!=="]")throw Ne(_,"Parenthesis ] expected");J(_),I(_),N=new i(N,new m(Y))}else{I(_);var le=_.tokenType===b.SYMBOL||_.tokenType===b.DELIMITER&&_.token in w;if(!le)throw Ne(_,"Property name expected after dot");Y.push(new s(_.token)),I(_);var he=!0;N=new i(N,new m(Y,he))}return N}function pt(_){var N,L;return _.token==='"'||_.token==="'"?(L=_t(_,_.token),N=new s(L),N=ft(_,N),N):zt(_)}function _t(_,N){for(var L="";k(_)!==""&&k(_)!==N;)if(k(_)==="\\"){R(_);var Y=k(_),le=F[Y];if(le!==void 0)L+=le,_.index+=1;else if(Y==="u"){var he=_.expression.slice(_.index+1,_.index+5);if(/^[0-9A-Fa-f]{4}$/.test(he))L+=String.fromCharCode(parseInt(he,16)),_.index+=5;else throw Ne(_,"Invalid unicode character \\u".concat(he))}else throw Ne(_,"Bad escape character \\".concat(Y))}else L+=k(_),R(_);if(I(_),_.token!==N)throw Ne(_,"End of string ".concat(N," expected"));return I(_),L}function zt(_){var N,L,Y,le;if(_.token==="["){if(O(_),I(_),_.token!=="]"){var he=j(_);if(_.token===";"){for(Y=1,L=[he];_.token===";";)I(_),L[Y]=j(_),Y++;if(_.token!=="]")throw Ne(_,"End of matrix ] expected");J(_),I(_),le=L[0].items.length;for(var _e=1;_e<Y;_e++)if(L[_e].items.length!==le)throw Pe(_,"Column dimensions mismatch ("+L[_e].items.length+" !== "+le+")");N=new a(L)}else{if(_.token!=="]")throw Ne(_,"End of matrix ] expected");J(_),I(_),N=he}}else J(_),I(_),N=new a([]);return ft(_,N)}return se(_)}function j(_){for(var N=[q(_)],L=1;_.token===",";)I(_),N[L]=q(_),L++;return new a(N)}function se(_){if(_.token==="{"){O(_);var N,L={};do if(I(_),_.token!=="}"){if(_.token==='"'||_.token==="'")N=_t(_,_.token);else if(_.tokenType===b.SYMBOL||_.tokenType===b.DELIMITER&&_.token in w)N=_.token,I(_);else throw Ne(_,"Symbol or string expected as object key");if(_.token!==":")throw Ne(_,"Colon : expected after object key");I(_),L[N]=q(_)}while(_.token===",");if(_.token!=="}")throw Ne(_,"Comma , or bracket } expected after object value");J(_),I(_);var Y=new p(L);return Y=ft(_,Y),Y}return de(_)}function de(_){var N;return _.tokenType===b.NUMBER?(N=_.token,I(_),new s(r(N,n.number))):Ce(_)}function Ce(_){var N;if(_.token==="("){if(O(_),I(_),N=q(_),_.token!==")")throw Ne(_,"Parenthesis ) expected");return J(_),I(_),N=new d(N),N=ft(_,N),N}return Me(_)}function Me(_){throw _.token===""?Ne(_,"Unexpected end of expression"):Ne(_,"Value expected")}function Fe(_){return _.index-_.token.length+1}function Ne(_,N){var L=Fe(_),Y=new SyntaxError(N+" (char "+L+")");return Y.char=L,Y}function Pe(_,N){var L=Fe(_),Y=new SyntaxError(N+" (char "+L+")");return Y.char=L,Y}return e.addConversion({from:"string",to:"Node",convert:y}),y});var MM="compile",zj=["typed","parse"],R1=A(MM,zj,t=>{var{typed:e,parse:r}=t;return e(MM,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return Ze(i,function(a){return r(a).compile()})}})});var TM="evaluate",Wj=["typed","parse"],P1=A(TM,Wj,t=>{var{typed:e,parse:r}=t;return e(TM,{string:function(i){var a=ji();return r(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return r(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=ji();return Ze(i,function(o){return r(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return Ze(i,function(o){return r(o).compile().evaluate(a)})}})});var Hj="Parser",Gj=["evaluate"],L1=A(Hj,Gj,t=>{var{evaluate:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:ji(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(n){return e(n,this.scope)},r.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},r.prototype.getAll=function(){return z2(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(n,i){return this.scope.set(n,i),i},r.prototype.remove=function(n){this.scope.delete(n)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0});var IM="parser",jj=["typed","Parser"],q1=A(IM,jj,t=>{var{typed:e,Parser:r}=t;return e(IM,{"":function(){return new r}})});var BM="lup",Zj=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],V1=A(BM,Zj,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:c,larger:u,equalScalar:s,unaryMinus:l,DenseMatrix:f,SparseMatrix:m,Spa:p}=t;return e(BM,{DenseMatrix:function(v){return h(v)},SparseMatrix:function(v){return d(v)},Array:function(v){var C=r(v),y=h(C);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function h(g){var v=g._size[0],C=g._size[1],y=Math.min(v,C),D=et(g._data),b=[],x=[v,y],w=[],S=[y,C],E,F,M,B=[];for(E=0;E<v;E++)B[E]=E;for(F=0;F<C;F++){if(F>0)for(E=0;E<v;E++){var k=Math.min(E,F),R=0;for(M=0;M<k;M++)R=i(R,o(D[E][M],D[M][F]));D[E][F]=c(D[E][F],R)}var P=F,T=0,I=0;for(E=F;E<v;E++){var V=D[E][F],O=n(V);u(O,T)&&(P=E,T=O,I=V)}if(F!==P&&(B[F]=[B[P],B[P]=B[F]][0],f._swapRows(F,P,D)),F<v)for(E=F+1;E<v;E++){var J=D[E][F];s(J,0)||(D[E][F]=a(D[E][F],I))}}for(F=0;F<C;F++)for(E=0;E<v;E++){if(F===0&&(E<C&&(w[E]=[]),b[E]=[]),E<F){E<C&&(w[E][F]=D[E][F]),F<v&&(b[E][F]=0);continue}if(E===F){E<C&&(w[E][F]=D[E][F]),F<v&&(b[E][F]=1);continue}E<C&&(w[E][F]=0),F<v&&(b[E][F]=D[E][F])}var $=new f({data:b,size:x}),W=new f({data:w,size:S}),q=[];for(E=0,y=B.length;E<y;E++)q[B[E]]=E;return{L:$,U:W,p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(g){var v=g._size[0],C=g._size[1],y=Math.min(v,C),D=g._values,b=g._index,x=g._ptr,w=[],S=[],E=[],F=[v,y],M=[],B=[],k=[],R=[y,C],P,T,I,V=[],O=[];for(P=0;P<v;P++)V[P]=P,O[P]=P;var J=function(q,te){var ge=O[q],oe=O[te];V[ge]=te,V[oe]=q,O[q]=oe,O[te]=ge},$=function(){var q=new p;T<v&&(E.push(w.length),w.push(1),S.push(T)),k.push(M.length);var te=x[T],ge=x[T+1];for(I=te;I<ge;I++)P=b[I],q.set(V[P],D[I]);T>0&&q.forEach(0,T-1,function(ue,ae){m._forEachRow(ue,w,S,E,function(me,xe){me>ue&&q.accumulate(me,l(o(xe,ae)))})});var oe=T,ce=q.get(T),pe=n(ce);q.forEach(T+1,v-1,function(ue,ae){var me=n(ae);u(me,pe)&&(oe=ue,pe=me,ce=ae)}),T!==oe&&(m._swapRows(T,oe,F[1],w,S,E),m._swapRows(T,oe,R[1],M,B,k),q.swap(T,oe),J(T,oe)),q.forEach(0,v-1,function(ue,ae){ue<=T?(M.push(ae),B.push(ue)):(ae=a(ae,ce),s(ae,0)||(w.push(ae),S.push(ue)))})};for(T=0;T<C;T++)$();return k.push(M.length),E.push(w.length),{L:new m({values:w,index:S,ptr:E,size:F}),U:new m({values:M,index:B,ptr:k,size:R}),p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var OM="qr",Yj=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],U1=A(OM,Yj,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:a,equal:o,sign:c,sqrt:u,conj:s,unaryMinus:l,addScalar:f,divideScalar:m,multiplyScalar:p,subtractScalar:h,complex:d}=t;return sr(e(OM,{DenseMatrix:function(D){return v(D)},SparseMatrix:function(D){return C(D)},Array:function(D){var b=r(D),x=v(b);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:g});function g(y){var D=y._size[0],b=y._size[1],x=i([D],"dense"),w=x._data,S=y.clone(),E=S._data,F,M,B,k=n([D],"");for(B=0;B<Math.min(b,D);++B){var R=E[B][B],P=l(o(R,0)?1:c(R)),T=s(P),I=0;for(F=B;F<D;F++)I=f(I,p(E[F][B],s(E[F][B])));var V=p(P,u(I));if(!a(V)){var O=h(R,V);for(k[B]=1,F=B+1;F<D;F++)k[F]=m(E[F][B],O);var J=l(s(m(O,V))),$=void 0;for(M=B;M<b;M++){for($=0,F=B;F<D;F++)$=f($,p(s(k[F]),E[F][M]));for($=p($,J),F=B;F<D;F++)E[F][M]=p(h(E[F][M],p(k[F],$)),T)}for(F=0;F<D;F++){for($=0,M=B;M<D;M++)$=f($,p(w[F][M],k[M]));for($=p($,J),M=B;M<D;++M)w[F][M]=m(h(w[F][M],p($,s(k[M]))),T)}}}return{Q:x,R:S,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function v(y){var D=g(y),b=D.R._data;if(y._data.length>0)for(var x=b[0][0].type==="Complex"?d(0):0,w=0;w<b.length;++w)for(var S=0;S<w&&S<(b[0]||[]).length;++S)b[w][S]=x;return D}function C(y){throw new Error("qr not implemented for sparse matrices yet")}});function kM(t,e,r,n){for(var i=t._values,a=t._index,o=t._ptr,c=t._size,u=t._datatype,s=c[0],l=c[1],f=n&&t._values?[]:null,m=[],p=[],h=0,d=0;d<l;d++){p[d]=h;for(var g=r?r[d]:d,v=o[g],C=o[g+1],y=v;y<C;y++){var D=e?e[a[y]]:a[y];m[h]=D,f&&(f[h]=i[y]),h++}}return p[l]=h,t.createSparseMatrix({values:f,index:m,ptr:p,size:[s,l],datatype:u})}function Sm(t,e,r,n,i,a,o){var c=0;for(r[o]=t;c>=0;){var u=r[o+c],s=r[n+u];s===-1?(c--,a[e++]=u):(r[n+u]=r[i+s],++c,r[o+c]=s)}return e}function RM(t,e){if(!t)return null;var r=0,n,i=[],a=[],o=0,c=e,u=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(a[c+n]=a[o+t[n]],a[o+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=Sm(n,r,a,o,c,i,u));return i}function PM(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,a=i[0],o=i[1],c=[],u=[],s=0,l=o,f,m;if(e)for(f=0;f<a;f++)u[l+f]=-1;for(var p=0;p<o;p++){c[p]=-1,u[s+p]=-1;for(var h=n[p],d=n[p+1],g=h;g<d;g++){var v=r[g];for(f=e?u[l+v]:v;f!==-1&&f<p;f=m)m=u[s+f],u[s+f]=p,m===-1&&(c[f]=p);e&&(u[l+v]=p)}}return c}function LM(t,e,r){for(var n=t._values,i=t._index,a=t._ptr,o=t._size,c=o[1],u=0,s=0;s<c;s++){var l=a[s];for(a[s]=u;l<a[s+1];l++)e(i[l],s,n?n[l]:1,r)&&(i[u]=i[l],n&&(n[u]=n[l]),u++)}return a[c]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u),u}function Mi(t){return-t-2}var Jj="csAmd",Xj=["add","multiply","transpose"],qM=A(Jj,Xj,t=>{var{add:e,multiply:r,transpose:n}=t;return function(l,f){if(!f||l<=0||l>3)return null;var m=f._size,p=m[0],h=m[1],d=0,g=Math.max(16,10*Math.sqrt(h));g=Math.min(h-2,g);var v=i(l,f,p,h,g);LM(v,u,null);for(var C=v._index,y=v._ptr,D=y[h],b=[],x=[],w=0,S=h+1,E=2*(h+1),F=3*(h+1),M=4*(h+1),B=5*(h+1),k=6*(h+1),R=7*(h+1),P=b,T=a(h,y,x,w,F,P,E,R,S,k,M,B),I=o(h,y,x,B,M,k,g,S,F,P,E),V=0,O,J,$,W,q,te,ge,oe,ce,pe,ue,ae,me,xe,Re,We;I<h;){for($=-1;V<h&&($=x[F+V])===-1;V++);x[E+$]!==-1&&(P[x[E+$]]=-1),x[F+V]=x[E+$];var z=x[M+$],Z=x[S+$];I+=Z;var fe=0;x[S+$]=-Z;var H=y[$],K=z===0?H:D,ie=K;for(W=1;W<=z+1;W++){for(W>z?(te=$,ge=H,oe=x[w+$]-z):(te=C[H++],ge=y[te],oe=x[w+te]),q=1;q<=oe;q++)O=C[ge++],!((ce=x[S+O])<=0)&&(fe+=ce,x[S+O]=-ce,C[ie++]=O,x[E+O]!==-1&&(P[x[E+O]]=P[O]),P[O]!==-1?x[E+P[O]]=x[E+O]:x[F+x[B+O]]=x[E+O]);te!==$&&(y[te]=Mi($),x[k+te]=0)}for(z!==0&&(D=ie),x[B+$]=fe,y[$]=K,x[w+$]=ie-K,x[M+$]=-2,T=c(T,d,x,k,h),pe=K;pe<ie;pe++)if(O=C[pe],!((ue=x[M+O])<=0)){ce=-x[S+O];var be=T-ce;for(H=y[O],ae=y[O]+ue-1;H<=ae;H++)te=C[H],x[k+te]>=T?x[k+te]-=ce:x[k+te]!==0&&(x[k+te]=x[B+te]+be)}for(pe=K;pe<ie;pe++){for(O=C[pe],ae=y[O],me=ae+x[M+O]-1,xe=ae,Re=0,We=0,H=ae;H<=me;H++)if(te=C[H],x[k+te]!==0){var ye=x[k+te]-T;ye>0?(We+=ye,C[xe++]=te,Re+=te):(y[te]=Mi($),x[k+te]=0)}x[M+O]=xe-ae+1;var Le=xe,Se=ae+x[w+O];for(H=me+1;H<Se;H++){J=C[H];var ft=x[S+J];ft<=0||(We+=ft,C[xe++]=J,Re+=J)}We===0?(y[O]=Mi($),ce=-x[S+O],fe-=ce,Z+=ce,I+=ce,x[S+O]=0,x[M+O]=-1):(x[B+O]=Math.min(x[B+O],We),C[xe]=C[Le],C[Le]=C[ae],C[ae]=$,x[w+O]=xe-ae+1,Re=(Re<0?-Re:Re)%h,x[E+O]=x[R+Re],x[R+Re]=O,P[O]=Re)}for(x[B+$]=fe,d=Math.max(d,fe),T=c(T+d,d,x,k,h),pe=K;pe<ie;pe++)if(O=C[pe],!(x[S+O]>=0))for(Re=P[O],O=x[R+Re],x[R+Re]=-1;O!==-1&&x[E+O]!==-1;O=x[E+O],T++){for(oe=x[w+O],ue=x[M+O],H=y[O]+1;H<=y[O]+oe-1;H++)x[k+C[H]]=T;var pt=O;for(J=x[E+O];J!==-1;){var _t=x[w+J]===oe&&x[M+J]===ue;for(H=y[J]+1;_t&&H<=y[J]+oe-1;H++)x[k+C[H]]!==T&&(_t=0);_t?(y[J]=Mi(O),x[S+O]+=x[S+J],x[S+J]=0,x[M+J]=-1,J=x[E+J],x[E+pt]=J):(pt=J,J=x[E+J])}}for(H=K,pe=K;pe<ie;pe++)O=C[pe],!((ce=-x[S+O])<=0)&&(x[S+O]=ce,We=x[B+O]+fe-ce,We=Math.min(We,h-I-ce),x[F+We]!==-1&&(P[x[F+We]]=O),x[E+O]=x[F+We],P[O]=-1,x[F+We]=O,V=Math.min(V,We),x[B+O]=We,C[H++]=O);x[S+$]=Z,(x[w+$]=H-K)===0&&(y[$]=-1,x[k+$]=0),z!==0&&(D=H)}for(O=0;O<h;O++)y[O]=Mi(y[O]);for(J=0;J<=h;J++)x[F+J]=-1;for(J=h;J>=0;J--)x[S+J]>0||(x[E+J]=x[F+y[J]],x[F+y[J]]=J);for(te=h;te>=0;te--)x[S+te]<=0||y[te]!==-1&&(x[E+te]=x[F+y[te]],x[F+y[te]]=te);for($=0,O=0;O<=h;O++)y[O]===-1&&($=Sm(O,$,x,F,E,b,k));return b.splice(b.length-1,1),b};function i(s,l,f,m,p){var h=n(l);if(s===1&&m===f)return e(l,h);if(s===2){for(var d=h._index,g=h._ptr,v=0,C=0;C<f;C++){var y=g[C];if(g[C]=v,!(g[C+1]-y>p))for(var D=g[C+1];y<D;y++)d[v++]=d[y]}return g[f]=v,l=n(h),r(h,l)}return r(h,l)}function a(s,l,f,m,p,h,d,g,v,C,y,D){for(var b=0;b<s;b++)f[m+b]=l[b+1]-l[b];f[m+s]=0;for(var x=0;x<=s;x++)f[p+x]=-1,h[x]=-1,f[d+x]=-1,f[g+x]=-1,f[v+x]=1,f[C+x]=1,f[y+x]=0,f[D+x]=f[m+x];var w=c(0,0,f,C,s);return f[y+s]=-2,l[s]=-1,f[C+s]=0,w}function o(s,l,f,m,p,h,d,g,v,C,y){for(var D=0,b=0;b<s;b++){var x=f[m+b];if(x===0)f[p+b]=-2,D++,l[b]=-1,f[h+b]=0;else if(x>d)f[g+b]=0,f[p+b]=-1,D++,l[b]=Mi(s),f[g+s]++;else{var w=f[v+x];w!==-1&&(C[w]=b),f[y+b]=f[v+x],f[v+x]=b}}return D}function c(s,l,f,m,p){if(s<2||s+l<0){for(var h=0;h<p;h++)f[m+h]!==0&&(f[m+h]=1);s=2}return s}function u(s,l){return s!==l}});function VM(t,e,r,n,i,a,o){var c,u,s=0,l;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var f=r[a+t];if(r[a+t]=e,f===-1)s=1,l=t;else{for(s=2,l=f;l!==r[o+l];l=r[o+l]);for(c=f;c!==l;c=u)u=r[o+c],r[o+c]=l}return{jleaf:s,q:l}}var Qj="csCounts",Kj=["transpose"],UM=A(Qj,Kj,t=>{var{transpose:e}=t;return function(r,n,i,a){if(!r||!n||!i)return null;var o=r._size,c=o[0],u=o[1],s,l,f,m,p,h,d,g=4*u+(a?u+c+1:0),v=[],C=0,y=u,D=2*u,b=3*u,x=4*u,w=5*u+1;for(f=0;f<g;f++)v[f]=-1;var S=[],E=e(r),F=E._index,M=E._ptr;for(f=0;f<u;f++)for(l=i[f],S[l]=v[b+l]===-1?1:0;l!==-1&&v[b+l]===-1;l=n[l])v[b+l]=f;if(a){for(f=0;f<u;f++)v[i[f]]=f;for(s=0;s<c;s++){for(f=u,h=M[s],d=M[s+1],p=h;p<d;p++)f=Math.min(f,v[F[p]]);v[w+s]=v[x+f],v[x+f]=s}}for(s=0;s<u;s++)v[C+s]=s;for(f=0;f<u;f++){for(l=i[f],n[l]!==-1&&S[n[l]]--,m=a?v[x+f]:l;m!==-1;m=a?v[w+m]:-1)for(p=M[m];p<M[m+1];p++){s=F[p];var B=VM(s,l,v,b,y,D,C);B.jleaf>=1&&S[l]++,B.jleaf===2&&S[B.q]--}n[l]!==-1&&(v[C+l]=n[l])}for(l=0;l<u;l++)n[l]!==-1&&(S[n[l]]+=S[l]);return S}});var $j="csSqr",eZ=["add","multiply","transpose"],zM=A($j,eZ,t=>{var{add:e,multiply:r,transpose:n}=t,i=qM({add:e,multiply:r,transpose:n}),a=UM({transpose:n});return function(u,s,l){var f=s._ptr,m=s._size,p=m[1],h,d={};if(d.q=i(u,s),u&&!d.q)return null;if(l){var g=u?kM(s,null,d.q,0):s;d.parent=PM(g,1);var v=RM(d.parent,p);if(d.cp=a(g,d.parent,v,1),g&&d.parent&&d.cp&&o(g,d))for(d.unz=0,h=0;h<p;h++)d.unz+=d.cp[h]}else d.unz=4*f[p]+p,d.lnz=d.unz;return d};function o(c,u){var s=c._ptr,l=c._index,f=c._size,m=f[0],p=f[1];u.pinv=[],u.leftmost=[];var h=u.parent,d=u.pinv,g=u.leftmost,v=[],C=0,y=m,D=m+p,b=m+2*p,x,w,S,E,F;for(w=0;w<p;w++)v[y+w]=-1,v[D+w]=-1,v[b+w]=0;for(x=0;x<m;x++)g[x]=-1;for(w=p-1;w>=0;w--)for(E=s[w],F=s[w+1],S=E;S<F;S++)g[l[S]]=w;for(x=m-1;x>=0;x--)d[x]=-1,w=g[x],w!==-1&&(v[b+w]++===0&&(v[D+w]=x),v[C+x]=v[y+w],v[y+w]=x);for(u.lnz=0,u.m2=m,w=0;w<p;w++)if(x=v[y+w],u.lnz++,x<0&&(x=u.m2++),d[x]=w,!(--b[w]<=0)){u.lnz+=v[b+w];var M=h[w];M!==-1&&(v[b+M]===0&&(v[D+M]=v[D+w]),v[C+v[D+w]]=v[y+M],v[y+M]=v[C+x],v[b+M]+=v[b+w])}for(x=0;x<m;x++)d[x]<0&&(d[x]=w++);return!0}});function il(t,e){return t[e]<0}function Am(t,e){t[e]=Mi(t[e])}function z1(t){return t<0?Mi(t):t}function WM(t,e,r,n,i){var a=e._index,o=e._ptr,c=e._size,u=c[1],s,l,f,m=0;for(n[0]=t;m>=0;){t=n[m];var p=i?i[t]:t;il(o,t)||(Am(o,t),n[u+m]=p<0?0:z1(o[p]));var h=1;for(l=n[u+m],f=p<0?0:z1(o[p+1]);l<f;l++)if(s=a[l],!il(o,s)){n[u+m]=l,n[++m]=s,h=0;break}h&&(m--,n[--r]=t)}return r}function HM(t,e,r,n,i){var a=t._ptr,o=t._size,c=e._index,u=e._ptr,s=o[1],l,f,m,p=s;for(f=u[r],m=u[r+1],l=f;l<m;l++){var h=c[l];il(a,h)||(p=WM(h,t,p,n,i))}for(l=p;l<s;l++)Am(a,n[l]);return p}var tZ="csSpsolve",rZ=["divideScalar","multiply","subtract"],GM=A(tZ,rZ,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(a,o,c,u,s,l,f){var m=a._values,p=a._index,h=a._ptr,d=a._size,g=d[1],v=o._values,C=o._index,y=o._ptr,D,b,x,w,S=HM(a,o,c,u,l);for(D=S;D<g;D++)s[u[D]]=0;for(b=y[c],x=y[c+1],D=b;D<x;D++)s[C[D]]=v[D];for(var E=S;E<g;E++){var F=u[E],M=l?l[F]:F;if(!(M<0))for(b=h[M],x=h[M+1],s[F]=e(s[F],m[f?b:x-1]),D=f?b+1:b,w=f?x:x-1;D<w;D++){var B=p[D];s[B]=n(s[B],r(m[D],s[F]))}}return S}});var nZ="csLu",iZ=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],jM=A(nZ,iZ,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:c}=t,u=GM({divideScalar:r,multiply:n,subtract:i});return function(l,f,m){if(!l)return null;var p=l._size,h=p[1],d,g=100,v=100;f&&(d=f.q,g=f.lnz||g,v=f.unz||v);var C=[],y=[],D=[],b=new c({values:C,index:y,ptr:D,size:[h,h]}),x=[],w=[],S=[],E=new c({values:x,index:w,ptr:S,size:[h,h]}),F=[],M,B,k=[],R=[];for(M=0;M<h;M++)k[M]=0,F[M]=-1,D[M+1]=0;g=0,v=0;for(var P=0;P<h;P++){D[P]=g,S[P]=v;var T=d?d[P]:P,I=u(b,l,T,R,k,F,1),V=-1,O=-1;for(B=I;B<h;B++)if(M=R[B],F[M]<0){var J=e(k[M]);a(J,O)&&(O=J,V=M)}else w[v]=F[M],x[v++]=k[M];if(V===-1||O<=0)return null;F[T]<0&&o(e(k[T]),n(O,m))&&(V=T);var $=k[V];for(w[v]=P,x[v++]=$,F[V]=P,y[g]=V,C[g++]=1,B=I;B<h;B++)M=R[B],F[M]<0&&(y[g]=M,C[g++]=r(k[M],$)),k[M]=0}for(D[h]=g,S[h]=v,B=0;B<g;B++)y[B]=F[y[B]];return C.splice(g,C.length-g),y.splice(g,y.length-g),x.splice(v,x.length-v),w.splice(v,w.length-v),{L:b,U:E,pinv:F}}});var ZM="slu",aZ=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],W1=A(ZM,aZ,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:a,divideScalar:o,subtract:c,larger:u,largerEq:s,SparseMatrix:l}=t,f=zM({add:n,multiply:i,transpose:a}),m=jM({abs:r,divideScalar:o,multiply:i,subtract:c,larger:u,largerEq:s,SparseMatrix:l});return e(ZM,{"SparseMatrix, number, number":function(h,d,g){if(!He(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var v=f(d,h,!1),C=m(h,v,g);return{L:C.L,U:C.U,p:C.pinv,q:v.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function H1(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var YM="lusolve",oZ=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],G1=A(YM,oZ,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:c}=t,u=Ji({DenseMatrix:c});return e(YM,{"Array, Array | Matrix":function(m,p){m=r(m);var h=n(m),d=l(h.L,h.U,h.p,null,p);return d.valueOf()},"DenseMatrix, Array | Matrix":function(m,p){var h=n(m);return l(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix":function(m,p){var h=n(m);return l(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(m,p,h,d){var g=i(m,h,d);return l(g.L,g.U,g.p,g.q,p)},"Object, Array | Matrix":function(m,p){return l(m.L,m.U,m.p,m.q,p)}});function s(f){if(Ge(f))return f;if(wt(f))return r(f);throw new TypeError("Invalid Matrix LU decomposition")}function l(f,m,p,h,d){f=s(f),m=s(m),p&&(d=u(f,d,!0),d._data=H1(p,d._data));var g=o(f,d),v=a(m,g);return h&&(v._data=H1(h,v._data)),v}});var JM="polynomialRoot",sZ=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],j1=A(JM,sZ,t=>{var{typed:e,isZero:r,equalScalar:n,add:i,subtract:a,multiply:o,divide:c,sqrt:u,unaryMinus:s,cbrt:l,typeOf:f,im:m,re:p}=t;return e(JM,{"number|Complex, ...number|Complex":(h,d)=>{for(var g=[h,...d];g.length>0&&r(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[s(c(g[0],g[1]))];case 3:{var[v,C,y]=g,D=o(2,y),b=o(C,C),x=o(4,y,v);if(n(b,x))return[c(s(C),D)];var w=u(a(b,x));return[c(a(w,C),D),c(a(s(w),C),D)]}case 4:{var[S,E,F,M]=g,B=s(o(3,M)),k=o(F,F),R=o(3,M,E),P=i(o(2,F,F,F),o(27,M,M,S)),T=o(9,M,F,E);if(n(k,R)&&n(P,T))return[c(F,B)];var I=a(k,R),V=a(P,T),O=i(o(18,M,F,E,S),o(F,F,E,E)),J=i(o(4,F,F,F,S),o(4,M,E,E,E),o(27,M,M,S,S));if(n(O,J))return[c(a(o(4,M,F,E),i(o(9,M,M,S),o(F,F,F))),o(M,I)),c(a(o(9,M,S),o(F,E)),o(2,I))];var $;n(k,R)?$=V:$=c(i(V,u(a(o(V,V),o(4,I,I,I)))),2);var W=!0,q=l($,W).toArray().map(te=>c(i(F,te,c(I,te)),B));return q.map(te=>f(te)==="Complex"&&n(p(te),p(te)+m(te))?p(te):te)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})});var uZ="Help",lZ=["parse"],Z1=A(uZ,lZ,t=>{var{parse:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a={},o=0;o<n.examples.length;o++){var c=n.examples[o];i+="    "+c+`
`;var u=void 0;try{u=e(c).compile().evaluate(a)}catch(s){u=s}u!==void 0&&!xf(u)&&(i+="        "+at(u,{precision:14})+`
`)}i+=`
`}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},r.prototype.toJSON=function(){var n=et(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0});var cZ="Chain",fZ=["?on","math","typed"],Y1=A(cZ,fZ,t=>{var{on:e,math:r,typed:n}=t;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");Df(s)?this.value=s.value:this.value=s}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return at(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)};function a(s,l){typeof l=="function"&&(i.prototype[s]=c(l))}function o(s,l){p2(i.prototype,s,function(){var m=l();if(typeof m=="function")return c(m)})}function c(s){return function(){if(arguments.length===0)return new i(s(this.value));for(var l=[this.value],f=0;f<arguments.length;f++)l[f+1]=arguments[f];if(n.isTypedFunction(s)){var m=n.resolve(s,l);if(m.params.length===1)throw new Error("chain function "+s.name+" cannot match rest parameter between chain value and additional arguments.");return new i(m.implementation.apply(s,l))}return new i(s.apply(s,l))}}i.createProxy=function(s,l){if(typeof s=="string")a(s,l);else{var f=function(h){je(s,h)&&u[h]===void 0&&o(h,()=>s[h])};for(var m in s)f(m)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),e&&e("import",function(s,l,f){f||o(s,l)}),i},{isClass:!0});var J1={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var XM={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var QM={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var KM={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var $M={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var eT={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var tT={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var rT={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var nT={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var iT={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var aT={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var X1={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var oT={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var sT={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var uT={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var lT={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var cT={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var fT={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var mT={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var pT={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var dT={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var hT={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var gT={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var vT={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var yT={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var bT={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var xT={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var DT={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var wT={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var ET={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var CT={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var FT={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var ST={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var AT={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var NT={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var _T={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var MT={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var TT={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var IT={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var BT={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var OT={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var kT={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var RT={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var PT={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var LT={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var qT={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var VT={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var UT={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var zT={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var WT={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var HT={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var GT={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var jT={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var ZT={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var YT={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var JT={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var XT={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var QT={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var KT={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var $T={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var eI={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var tI={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var rI={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var nI={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var iI={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var aI={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var oI={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var sI={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var uI={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var lI={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var cI={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var fI={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var mI={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var pI={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var dI={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var hI={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var gI={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var vI={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]};var yI={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var bI={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var xI={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var DI={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var wI={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var EI={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var CI={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var FI={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var SI={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var AI={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var NI={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var _I={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var MI={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var TI={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var II={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var BI={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var OI={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var kI={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var RI={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var PI={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var LI={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var qI={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var VI={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var UI={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var zI={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var WI={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var HI={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var GI={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var jI={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var ZI={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var YI={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var JI={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var XI={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var QI={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var KI={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var $I={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var e3={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var t3={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var r3={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var n3={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var i3={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var a3={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var o3={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var s3={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false }"],seealso:["inv"]};var u3={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var l3={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var c3={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var f3={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var m3={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var p3={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var d3={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var h3={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var g3={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var v3={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var y3={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var b3={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var x3={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var D3={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var w3={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var E3={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var C3={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var F3={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var S3={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var A3={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var N3={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var _3={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var M3={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var T3={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var I3={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var B3={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var O3={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var k3={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var R3={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var P3={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var L3={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var q3={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var V3={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var U3={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var z3={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var W3={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var H3={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var G3={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var j3={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var Z3={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var Y3={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var J3={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var X3={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var Q3={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var K3={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var $3={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var eB={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var tB={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var rB={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var nB={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var iB={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var aB={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var oB={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var sB={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var uB={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var lB={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var cB={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var fB={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var mB={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var pB={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var dB={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var hB={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var gB={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var vB={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var yB={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var bB={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var xB={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var DB={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var wB={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var EB={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var CB={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var FB={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var SB={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var AB={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var NB={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var _B={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var MB={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var TB={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var IB={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var BB={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var OB={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var kB={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var RB={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var PB={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var LB={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var qB={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var VB={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var UB={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var zB={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var WB={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var HB={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var GB={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var jB={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var ZB={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var YB={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var JB={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var XB={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var QB={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var KB={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var $B={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var eO={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var tO={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var rO={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var nO={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var iO={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var aO={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var oO={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var sO={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var uO={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var lO={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var cO={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var fO={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var mO={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var pO={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var dO={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var hO={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var gO={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var vO={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var yO={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var bO={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var xO={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var DO={bignumber:fT,boolean:mT,complex:pT,createUnit:dT,fraction:hT,index:gT,matrix:vT,number:yT,sparse:bT,splitUnit:xT,string:DT,unit:wT,e:J1,E:J1,false:XM,i:QM,Infinity:KM,LN2:eT,LN10:$M,LOG2E:rT,LOG10E:tT,NaN:nT,null:iT,pi:X1,PI:X1,phi:aT,SQRT1_2:oT,SQRT2:sT,tau:uT,true:lT,version:cT,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:ST,lsolve:NT,lsolveAll:_T,lup:MT,lusolve:TT,leafCount:AT,polynomialRoot:IT,resolve:kT,simplify:RT,simplifyConstant:PT,simplifyCore:LT,symbolicEqual:VT,rationalize:OT,slu:qT,usolve:UT,usolveAll:zT,qr:BT,abs:WT,add:HT,cbrt:GT,ceil:jT,cube:ZT,divide:YT,dotDivide:JT,dotMultiply:XT,dotPow:QT,exp:KT,expm:$T,expm1:eI,fix:tI,floor:rI,gcd:nI,hypot:iI,lcm:oI,log:sI,log2:cI,log1p:lI,log10:uI,mod:fI,multiply:mI,norm:pI,nthRoot:dI,nthRoots:hI,pow:gI,round:vI,sign:yI,sqrt:bI,sqrtm:xI,square:CI,subtract:FI,unaryMinus:SI,unaryPlus:AI,xgcd:NI,invmod:aI,bitAnd:_I,bitNot:MI,bitOr:TI,bitXor:II,leftShift:BI,rightArithShift:OI,rightLogShift:kI,bellNumbers:RI,catalan:PI,composition:LI,stirlingS2:qI,config:ET,import:CT,typed:FT,arg:VI,conj:UI,re:WI,im:zI,evaluate:HI,help:GI,distance:jI,intersect:ZI,and:YI,not:JI,or:XI,xor:QI,concat:$I,count:e3,cross:t3,column:KI,ctranspose:r3,det:n3,diag:i3,diff:a3,dot:o3,getMatrixDataType:f3,identity:m3,filter:u3,flatten:l3,forEach:c3,inv:p3,pinv:d3,eigs:s3,kron:h3,matrixFromFunction:y3,matrixFromRows:b3,matrixFromColumns:v3,map:g3,ones:x3,partitionSelect:D3,range:w3,resize:C3,reshape:E3,rotate:F3,rotationMatrix:S3,row:A3,size:N3,sort:_3,squeeze:M3,subset:T3,trace:I3,transpose:B3,zeros:O3,fft:k3,ifft:R3,sylvester:DI,schur:wI,lyap:EI,solveODE:xO,combinations:P3,combinationsWithRep:L3,factorial:q3,gamma:V3,kldivergence:z3,lgamma:U3,multinomial:W3,permutations:H3,pickRandom:G3,random:j3,randomInt:Z3,compare:Y3,compareNatural:J3,compareText:X3,deepEqual:Q3,equal:K3,equalText:$3,larger:eB,largerEq:tB,smaller:rB,smallerEq:nB,unequal:iB,setCartesian:aB,setDifference:oB,setDistinct:sB,setIntersect:uB,setIsSubset:lB,setMultiplicity:cB,setPowerset:fB,setSize:mB,setSymDifference:pB,setUnion:dB,zpk2tf:hB,freqz:gB,erf:vB,zeta:yB,cumsum:NB,mad:bB,max:xB,mean:DB,median:wB,min:EB,mode:CB,prod:FB,quantileSeq:SB,std:AB,sum:_B,variance:MB,corr:TB,acos:IB,acosh:BB,acot:OB,acoth:kB,acsc:RB,acsch:PB,asec:LB,asech:qB,asin:VB,asinh:UB,atan:zB,atanh:HB,atan2:WB,cos:GB,cosh:jB,cot:ZB,coth:YB,csc:JB,csch:XB,sec:QB,sech:KB,sin:$B,sinh:eO,tan:tO,tanh:rO,to:nO,clone:aO,format:oO,bin:iO,oct:vO,hex:uO,isNaN:cO,isInteger:lO,isNegative:fO,isNumeric:mO,hasNumericValue:sO,isPositive:pO,isPrime:dO,isZero:hO,print:yO,typeOf:bO,numeric:gO};var wO="help",mZ=["typed","mathWithTransform","Help"],Q1=A(wO,mZ,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(wO,{any:function(a){var o,c=a;if(typeof a!="string"){for(o in r)if(je(r,o)&&a===r[o]){c=o;break}}var u=ur(DO,c);if(!u){var s=typeof c=="function"?c.name:c;throw new Error('No documentation found on "'+s+'"')}return new n(u)}})});var EO="chain",pZ=["typed","Chain"],K1=A(EO,pZ,t=>{var{typed:e,Chain:r}=t;return e(EO,{"":function(){return new r},any:function(i){return new r(i)}})});var CO="det",dZ=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],$1=A(CO,dZ,t=>{var{typed:e,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:c}=t;return e(CO,{any:function(l){return et(l)},"Array | Matrix":function(l){var f;switch(Ge(l)?f=l.size():Array.isArray(l)?(l=r(l),f=l.size()):f=[],f.length){case 0:return et(l);case 1:if(f[0]===1)return et(l.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+at(f)+")");case 2:{var m=f[0],p=f[1];if(m===p)return u(l.clone().valueOf(),m,p);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+at(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+at(f)+")")}}});function u(s,l,f){if(l===1)return et(s[0][0]);if(l===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var m=!1,p=new Array(l).fill(0).map((w,S)=>S),h=0;h<l;h++){var d=p[h];if(o(s[d][h])){var g=void 0;for(g=h+1;g<l;g++)if(!o(s[p[g]][h])){d=p[g],p[g]=p[h],p[h]=d,m=!m;break}if(g===l)return s[d][h]}for(var v=s[d][h],C=h===0?1:s[p[h-1]][h-1],y=h+1;y<l;y++)for(var D=p[y],b=h+1;b<l;b++)s[D][b]=a(n(i(s[D][b],v),i(s[D][h],s[d][b])),C)}var x=s[p[l-1]][l-1];return m?c(x):x}});var FO="inv",hZ=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],eb=A(FO,hZ,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:c,identity:u,abs:s}=t;return e(FO,{"Array | Matrix":function(m){var p=Ge(m)?m.size():rt(m);switch(p.length){case 1:if(p[0]===1)return Ge(m)?r([n(1,m.valueOf()[0])]):[n(1,m[0])];throw new RangeError("Matrix must be square (size: "+at(p)+")");case 2:{var h=p[0],d=p[1];if(h===d)return Ge(m)?r(l(m.valueOf(),h,d),m.storage()):l(m,h,d);throw new RangeError("Matrix must be square (size: "+at(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+at(p)+")")}},any:function(m){return n(1,m)}});function l(f,m,p){var h,d,g,v,C;if(m===1){if(v=f[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,v)]]}else if(m===2){var y=c(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],y),n(o(f[0][1]),y)],[n(o(f[1][0]),y),n(f[0][0],y)]]}else{var D=f.concat();for(h=0;h<m;h++)D[h]=D[h].concat();for(var b=u(m).valueOf(),x=0;x<p;x++){var w=s(D[x][x]),S=x;for(h=x+1;h<m;)s(D[h][x])>w&&(w=s(D[h][x]),S=h),h++;if(w===0)throw Error("Cannot calculate inverse, determinant is zero");h=S,h!==x&&(C=D[x],D[x]=D[h],D[h]=C,C=b[x],b[x]=b[h],b[h]=C);var E=D[x],F=b[x];for(h=0;h<m;h++){var M=D[h],B=b[h];if(h!==x){if(M[x]!==0){for(g=n(o(M[x]),E[x]),d=x;d<p;d++)M[d]=i(M[d],a(g,E[d]));for(d=0;d<p;d++)B[d]=i(B[d],a(g,F[d]))}}else{for(g=E[x],d=x;d<p;d++)M[d]=n(M[d],g);for(d=0;d<p;d++)B[d]=n(B[d],g)}}}return b}}});var SO="pinv",gZ=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],tb=A(SO,gZ,t=>{var{typed:e,matrix:r,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:c,ctranspose:u,divideScalar:s,multiply:l,add:f,Complex:m}=t;return e(SO,{"Array | Matrix":function(y){var D=Ge(y)?y.size():rt(y);switch(D.length){case 1:return v(y)?u(y):D[0]===1?n(y):o(u(y),c(y,y));case 2:{if(v(y))return u(y);var b=D[0],x=D[1];if(b===x)try{return n(y)}catch(w){if(!(w instanceof Error&&w.message.match(/Cannot calculate inverse, determinant is zero/)))throw w}return Ge(y)?r(p(y.valueOf(),b,x),y.storage()):p(y,b,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+at(D)+")")}},any:function(y){return a(y,0)?et(y):s(1,y)}});function p(C,y,D){var{C:b,F:x}=d(C,y,D),w=l(n(l(u(b),b)),u(b)),S=l(u(x),n(l(x,u(x))));return l(S,w)}function h(C,y,D){for(var b=et(C),x=0,w=0;w<y;w++){if(D<=x)return b;for(var S=w;g(b[S][x]);)if(S++,y===S&&(S=w,x++,D===x))return b;[b[S],b[w]]=[b[w],b[S]];for(var E=b[w][x],F=0;F<D;F++)b[w][F]=o(b[w][F],E);for(var M=0;M<y;M++)if(M!==w){E=b[M][x];for(var B=0;B<D;B++)b[M][B]=f(b[M][B],l(-1,l(E,b[w][B])))}x++}return b}function d(C,y,D){var b=h(C,y,D),x=C.map((S,E)=>S.filter((F,M)=>M<y&&!g(c(b[M],b[M])))),w=b.filter((S,E)=>!g(c(b[E],b[E])));return{C:x,F:w}}function g(C){return a(f(C,m(1,1)),f(0,m(1,1)))}function v(C){return i(f(C,m(1,1)),f(l(C,0),m(1,1)))}});function AO(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:c,abs:u,bignumber:s,diag:l,size:f,reshape:m,inv:p,qr:h,usolve:d,usolveAll:g,equal:v,complex:C,larger:y,smaller:D,matrixFromColumns:b,dot:x}=t;function w(W,q,te,ge){var oe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ce=S(W,q,te,ge,oe);E(W,q,te,ge,oe,ce);var{values:pe,C:ue}=F(W,q,te,ge,oe);if(oe){var ae=M(W,q,ue,ce,pe,te,ge);return{values:pe,eigenvectors:ae}}return{values:pe}}function S(W,q,te,ge,oe){var ce=ge==="BigNumber",pe=ge==="Complex",ue=ce?s(0):0,ae=ce?s(1):pe?C(1):1,me=ce?s(1):1,xe=ce?s(10):2,Re=a(xe,xe),We;oe&&(We=Array(q).fill(ae));for(var z=!1;!z;){z=!0;for(var Z=0;Z<q;Z++){for(var fe=ue,H=ue,K=0;K<q;K++)Z!==K&&(fe=e(fe,u(W[K][Z])),H=e(H,u(W[Z][K])));if(!v(fe,0)&&!v(H,0)){for(var ie=me,be=fe,ye=o(H,xe),Le=a(H,xe);D(be,ye);)be=a(be,Re),ie=a(ie,xe);for(;y(be,Le);)be=o(be,Re),ie=o(ie,xe);var Se=D(o(e(be,H),ie),a(e(fe,H),.95));if(Se){z=!1;for(var ft=o(1,ie),pt=0;pt<q;pt++)Z!==pt&&(W[Z][pt]=a(W[Z][pt],ft),W[pt][Z]=a(W[pt][Z],ie));oe&&(We[Z]=a(We[Z],ft))}}}}return oe?l(We):null}function E(W,q,te,ge,oe,ce){var pe=ge==="BigNumber",ue=ge==="Complex",ae=pe?s(0):ue?C(0):0;pe&&(te=s(te));for(var me=0;me<q-2;me++){for(var xe=0,Re=ae,We=me+1;We<q;We++){var z=W[We][me];D(u(Re),u(z))&&(Re=z,xe=We)}if(!D(u(Re),te)){if(xe!==me+1){var Z=W[xe];W[xe]=W[me+1],W[me+1]=Z;for(var fe=0;fe<q;fe++){var H=W[fe][xe];W[fe][xe]=W[fe][me+1],W[fe][me+1]=H}if(oe){var K=ce[xe];ce[xe]=ce[me+1],ce[me+1]=K}}for(var ie=me+2;ie<q;ie++){var be=o(W[ie][me],Re);if(be!==0){for(var ye=0;ye<q;ye++)W[ie][ye]=r(W[ie][ye],a(be,W[me+1][ye]));for(var Le=0;Le<q;Le++)W[Le][me+1]=e(W[Le][me+1],a(be,W[Le][ie]));if(oe)for(var Se=0;Se<q;Se++)ce[ie][Se]=r(ce[ie][Se],a(be,ce[me+1][Se]))}}}}return ce}function F(W,q,te,ge,oe){var ce=ge==="BigNumber",pe=ge==="Complex",ue=ce?s(1):pe?C(1):1;ce&&(te=s(te));for(var ae=et(W),me=[],xe=q,Re=[],We=oe?l(Array(q).fill(ue)):void 0,z=oe?l(Array(xe).fill(ue)):void 0,Z=0;Z<=100;){Z+=1;for(var fe=ae[xe-1][xe-1],H=0;H<xe;H++)ae[H][H]=r(ae[H][H],fe);var{Q:K,R:ie}=h(ae);ae=i(ie,K);for(var be=0;be<xe;be++)ae[be][be]=e(ae[be][be],fe);if(oe&&(z=i(z,K)),xe===1||D(u(ae[xe-1][xe-2]),te)){Z=0,me.push(ae[xe-1][xe-1]),oe&&(Re.unshift([[1]]),R(z,q),We=i(We,z),xe>1&&(z=l(Array(xe-1).fill(ue)))),xe-=1,ae.pop();for(var ye=0;ye<xe;ye++)ae[ye].pop()}else if(xe===2||D(u(ae[xe-2][xe-3]),te)){Z=0;var Le=B(ae[xe-2][xe-2],ae[xe-2][xe-1],ae[xe-1][xe-2],ae[xe-1][xe-1]);me.push(...Le),oe&&(Re.unshift(k(ae[xe-2][xe-2],ae[xe-2][xe-1],ae[xe-1][xe-2],ae[xe-1][xe-1],Le[0],Le[1],te,ge)),R(z,q),We=i(We,z),xe>2&&(z=l(Array(xe-2).fill(ue)))),xe-=2,ae.pop(),ae.pop();for(var Se=0;Se<xe;Se++)ae[Se].pop(),ae[Se].pop()}if(xe===0)break}if(me.sort((_t,zt)=>+r(u(_t),u(zt))),Z>100){var ft=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+me.join(", "));throw ft.values=me,ft.vectors=[],ft}var pt=oe?i(We,P(Re,q)):void 0;return{values:me,C:pt}}function M(W,q,te,ge,oe,ce,pe){var ue=p(te),ae=i(ue,W,te),me=pe==="BigNumber",xe=pe==="Complex",Re=me?s(0):xe?C(0):0,We=me?s(1):xe?C(1):1,z=[],Z=[];for(var fe of oe){var H=T(z,fe,v);H===-1?(z.push(fe),Z.push(1)):Z[H]+=1}for(var K=[],ie=z.length,be=Array(q).fill(Re),ye=l(Array(q).fill(We)),Le=function(){var pt=z[Se],_t=r(ae,i(pt,ye)),zt=g(_t,be);for(zt.shift();zt.length<Z[Se];){var j=I(_t,q,zt,ce,pe);if(j===null)break;zt.push(j)}var se=i(p(ge),te);zt=zt.map(de=>i(se,de)),K.push(...zt.map(de=>({value:pt,vector:n(de)})))},Se=0;Se<ie;Se++)Le();return K}function B(W,q,te,ge){var oe=e(W,ge),ce=r(a(W,ge),a(q,te)),pe=a(oe,.5),ue=a(c(r(a(oe,oe),a(4,ce))),.5);return[e(pe,ue),r(pe,ue)]}function k(W,q,te,ge,oe,ce,pe,ue){var ae=ue==="BigNumber",me=ue==="Complex",xe=ae?s(0):me?C(0):0,Re=ae?s(1):me?C(1):1;if(D(u(te),pe))return[[Re,xe],[xe,Re]];if(y(u(r(oe,ce)),pe))return[[r(oe,ge),r(ce,ge)],[te,te]];var We=r(W,oe),z=r(ge,oe);return D(u(q),pe)&&D(u(z),pe)?[[We,Re],[te,xe]]:[[q,xe],[z,Re]]}function R(W,q){for(var te=0;te<W.length;te++)W[te].push(...Array(q-W[te].length).fill(0));for(var ge=W.length;ge<q;ge++)W.push(Array(q).fill(0)),W[ge][ge]=1;return W}function P(W,q){for(var te=[],ge=0;ge<q;ge++)te[ge]=Array(q).fill(0);var oe=0;for(var ce of W){for(var pe=ce.length,ue=0;ue<pe;ue++)for(var ae=0;ae<pe;ae++)te[oe+ue][oe+ae]=ce[ue][ae];oe+=pe}return te}function T(W,q,te){for(var ge=0;ge<W.length;ge++)if(te(W[ge],q))return ge;return-1}function I(W,q,te,ge,oe){for(var ce=oe==="BigNumber"?s(1e3):1e3,pe,ue=0;ue<5;++ue){pe=V(q,te,oe);try{pe=d(W,pe)}catch(me){continue}if(y(J(pe),ce))break}if(ue>=5)return null;for(ue=0;;){var ae=d(W,pe);if(D(J(O(pe,[ae])),ge))break;if(++ue>=10)return null;pe=$(ae)}return pe}function V(W,q,te){var ge=te==="BigNumber",oe=te==="Complex",ce=Array(W).fill(0).map(pe=>2*Math.random()-1);return ge&&(ce=ce.map(pe=>s(pe))),oe&&(ce=ce.map(pe=>C(pe))),ce=O(ce,q),$(ce,te)}function O(W,q){var te=f(W);for(var ge of q)ge=m(ge,te),W=r(W,i(o(x(ge,W),x(ge,ge)),ge));return W}function J(W){return u(c(x(W,W)))}function $(W,q){var te=q==="BigNumber",ge=q==="Complex",oe=te?s(1):ge?C(1):1;return i(o(oe,J(W)),W)}return w}function NO(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:c,multiplyScalar:u,inv:s,bignumber:l,multiply:f,add:m}=t;function p(E,F){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,B=arguments.length>3?arguments[3]:void 0,k=arguments.length>4?arguments[4]:void 0;if(B==="number")return h(E,M,k);if(B==="BigNumber")return d(E,M,k);throw TypeError("Unsupported data type: "+B)}function h(E,F,M){var B=E.length,k=Math.abs(F/B),R,P;if(M){P=new Array(B);for(var T=0;T<B;T++)P[T]=Array(B).fill(0),P[T][T]=1}for(var I=x(E);Math.abs(I[1])>=Math.abs(k);){var V=I[0][0],O=I[0][1];R=g(E[V][V],E[O][O],E[V][O]),E=b(E,R,V,O),M&&(P=C(P,R,V,O)),I=x(E)}for(var J=Array(B).fill(0),$=0;$<B;$++)J[$]=E[$][$];return S(et(J),P,M)}function d(E,F,M){var B=E.length,k=i(F/B),R,P;if(M){P=new Array(B);for(var T=0;T<B;T++)P[T]=Array(B).fill(0),P[T][T]=1}for(var I=w(E);i(I[1])>=i(k);){var V=I[0][0],O=I[0][1];R=v(E[V][V],E[O][O],E[V][O]),E=D(E,R,V,O),M&&(P=y(P,R,V,O)),I=w(E)}for(var J=Array(B).fill(0),$=0;$<B;$++)J[$]=E[$][$];return S(et(J),P,M)}function g(E,F,M){var B=F-E;return Math.abs(B)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(F-E))}function v(E,F,M){var B=n(F,E);return i(B)<=e.epsilon?l(-1).acos().div(4):u(.5,a(f(2,M,s(B))))}function C(E,F,M,B){for(var k=E.length,R=Math.cos(F),P=Math.sin(F),T=Array(k).fill(0),I=Array(k).fill(0),V=0;V<k;V++)T[V]=R*E[V][M]-P*E[V][B],I[V]=P*E[V][M]+R*E[V][B];for(var O=0;O<k;O++)E[O][M]=T[O],E[O][B]=I[O];return E}function y(E,F,M,B){for(var k=E.length,R=o(F),P=c(F),T=Array(k).fill(l(0)),I=Array(k).fill(l(0)),V=0;V<k;V++)T[V]=n(u(R,E[V][M]),u(P,E[V][B])),I[V]=r(u(P,E[V][M]),u(R,E[V][B]));for(var O=0;O<k;O++)E[O][M]=T[O],E[O][B]=I[O];return E}function D(E,F,M,B){for(var k=E.length,R=l(o(F)),P=l(c(F)),T=u(R,R),I=u(P,P),V=Array(k).fill(l(0)),O=Array(k).fill(l(0)),J=f(l(2),R,P,E[M][B]),$=r(n(u(T,E[M][M]),J),u(I,E[B][B])),W=m(u(I,E[M][M]),J,u(T,E[B][B])),q=0;q<k;q++)V[q]=n(u(R,E[M][q]),u(P,E[B][q])),O[q]=r(u(P,E[M][q]),u(R,E[B][q]));E[M][M]=$,E[B][B]=W,E[M][B]=l(0),E[B][M]=l(0);for(var te=0;te<k;te++)te!==M&&te!==B&&(E[M][te]=V[te],E[te][M]=V[te],E[B][te]=O[te],E[te][B]=O[te]);return E}function b(E,F,M,B){for(var k=E.length,R=Math.cos(F),P=Math.sin(F),T=R*R,I=P*P,V=Array(k).fill(0),O=Array(k).fill(0),J=T*E[M][M]-2*R*P*E[M][B]+I*E[B][B],$=I*E[M][M]+2*R*P*E[M][B]+T*E[B][B],W=0;W<k;W++)V[W]=R*E[M][W]-P*E[B][W],O[W]=P*E[M][W]+R*E[B][W];E[M][M]=J,E[B][B]=$,E[M][B]=0,E[B][M]=0;for(var q=0;q<k;q++)q!==M&&q!==B&&(E[M][q]=V[q],E[q][M]=V[q],E[B][q]=O[q],E[q][B]=O[q]);return E}function x(E){for(var F=E.length,M=0,B=[0,1],k=0;k<F;k++)for(var R=k+1;R<F;R++)Math.abs(M)<Math.abs(E[k][R])&&(M=Math.abs(E[k][R]),B=[k,R]);return[B,M]}function w(E){for(var F=E.length,M=0,B=[0,1],k=0;k<F;k++)for(var R=k+1;R<F;R++)i(M)<i(E[k][R])&&(M=i(E[k][R]),B=[k,R]);return[B,M]}function S(E,F,M){var B=E.length,k=Array(B),R;if(M){R=Array(B);for(var P=0;P<B;P++)R[P]=Array(B)}for(var T=0;T<B;T++){for(var I=0,V=E[0],O=0;O<E.length;O++)i(E[O])<i(V)&&(I=O,V=E[I]);if(k[T]=E.splice(I,1)[0],M)for(var J=0;J<B;J++)R[T][J]=F[J][I],F[J].splice(I,1)}if(!M)return{values:k};var $=R.map((W,q)=>({value:k[q],vector:W}));return{values:k,eigenvectors:$}}return p}var vZ="eigs",yZ=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],rb=A(vZ,yZ,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:a,equal:o,abs:c,atan:u,cos:s,sin:l,multiplyScalar:f,divideScalar:m,inv:p,bignumber:h,multiply:d,add:g,larger:v,column:C,flatten:y,number:D,complex:b,sqrt:x,diag:w,size:S,reshape:E,qr:F,usolve:M,usolveAll:B,im:k,re:R,smaller:P,matrixFromColumns:T,dot:I}=t,V=NO({config:e,addScalar:i,subtract:a,column:C,flatten:y,equal:o,abs:c,atan:u,cos:s,sin:l,multiplyScalar:f,inv:p,bignumber:h,complex:b,multiply:d,add:g}),O=AO({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:y,divideScalar:m,sqrt:x,abs:c,bignumber:h,diag:w,size:S,reshape:E,qr:F,inv:p,usolve:M,usolveAll:B,equal:o,complex:b,larger:v,smaller:P,matrixFromColumns:T,dot:I});return r("eigs",{Array:function(ce){return J(n(ce))},"Array, number|BigNumber":function(ce,pe){return J(n(ce),{precision:pe})},"Array, Object"(oe,ce){return J(n(oe),ce)},Matrix:function(ce){return J(ce,{matricize:!0})},"Matrix, number|BigNumber":function(ce,pe){return J(ce,{precision:pe,matricize:!0})},"Matrix, Object":function(ce,pe){var ue={matricize:!0};return sr(ue,pe),J(ce,ue)}});function J(oe){var ce,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue="eigenvectors"in pe?pe.eigenvectors:!0,ae=(ce=pe.precision)!==null&&ce!==void 0?ce:e.epsilon,me=$(oe,ae,ue);return pe.matricize&&(me.values=n(me.values),ue&&(me.eigenvectors=me.eigenvectors.map(xe=>{var{value:Re,vector:We}=xe;return{value:Re,vector:n(We)}}))),ue&&Object.defineProperty(me,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),me}function $(oe,ce,pe){var ue=oe.toArray(),ae=oe.size();if(ae.length!==2||ae[0]!==ae[1])throw new RangeError("Matrix must be square (size: ".concat(at(ae),")"));var me=ae[0];if(q(ue,me,ce)&&(te(ue,me),W(ue,me,ce))){var xe=ge(oe,ue,me);return V(ue,me,ce,xe,pe)}var Re=ge(oe,ue,me);return O(ue,me,ce,Re,pe)}function W(oe,ce,pe){for(var ue=0;ue<ce;ue++)for(var ae=ue;ae<ce;ae++)if(v(h(c(a(oe[ue][ae],oe[ae][ue]))),pe))return!1;return!0}function q(oe,ce,pe){for(var ue=0;ue<ce;ue++)for(var ae=0;ae<ce;ae++)if(v(h(c(k(oe[ue][ae]))),pe))return!1;return!0}function te(oe,ce){for(var pe=0;pe<ce;pe++)for(var ue=0;ue<ce;ue++)oe[pe][ue]=R(oe[pe][ue])}function ge(oe,ce,pe){var ue=oe.datatype();if(ue==="number"||ue==="BigNumber"||ue==="Complex")return ue;for(var ae=!1,me=!1,xe=!1,Re=0;Re<pe;Re++)for(var We=0;We<pe;We++){var z=ce[Re][We];if(it(z)||sa(z))ae=!0;else if(nt(z))me=!0;else if(Fn(z))xe=!0;else throw TypeError("Unsupported type in Matrix: "+Dt(z))}if(me&&xe&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),xe){for(var Z=0;Z<pe;Z++)for(var fe=0;fe<pe;fe++)ce[Z][fe]=b(ce[Z][fe]);return"Complex"}if(me){for(var H=0;H<pe;H++)for(var K=0;K<pe;K++)ce[H][K]=h(ce[H][K]);return"BigNumber"}if(ae){for(var ie=0;ie<pe;ie++)for(var be=0;be<pe;be++)ce[ie][be]=D(ce[ie][be]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var _O="expm",bZ=["typed","abs","add","identity","inv","multiply"],nb=A(_O,bZ,t=>{var{typed:e,abs:r,add:n,identity:i,inv:a,multiply:o}=t;return e(_O,{Matrix:function(f){var m=f.size();if(m.length!==2||m[0]!==m[1])throw new RangeError("Matrix must be square (size: "+at(m)+")");for(var p=m[0],h=1e-15,d=c(f),g=u(d,h),v=g.q,C=g.j,y=o(f,Math.pow(2,-C)),D=i(p),b=i(p),x=1,w=y,S=-1,E=1;E<=v;E++)E>1&&(w=o(w,y),S=-S),x=x*(v-E+1)/((2*v-E+1)*E),D=n(D,o(x,w)),b=n(b,o(x*S,w));for(var F=o(a(b),D),M=0;M<C;M++)F=o(F,F);return Ci(f)?f.createSparseMatrix(F):F}});function c(l){for(var f=l.size()[0],m=0,p=0;p<f;p++){for(var h=0,d=0;d<f;d++)h+=r(l.get([p,d]));m=Math.max(h,m)}return m}function u(l,f){for(var m=30,p=0;p<m;p++)for(var h=0;h<=p;h++){var d=p-h;if(s(l,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function s(l,f,m){for(var p=1,h=2;h<=f;h++)p*=h;for(var d=p,g=f+1;g<=2*f;g++)d*=g;var v=d*(2*f+1);return 8*Math.pow(l/Math.pow(2,m),2*f)*p*p/(d*v)}});var MO="sqrtm",xZ=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],ib=A(MO,xZ,t=>{var{typed:e,abs:r,add:n,multiply:i,map:a,sqrt:o,subtract:c,inv:u,size:s,max:l,identity:f}=t,m=1e3,p=1e-6;function h(d){var g,v=0,C=d,y=f(s(d));do{var D=C;if(C=i(.5,n(D,u(y))),y=i(.5,n(y,u(D))),g=l(r(c(C,D))),g>p&&++v>m)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>p);return C}return e(MO,{"Array | Matrix":function(g){var v=Ge(g)?g.size():rt(g);switch(v.length){case 1:if(v[0]===1)return a(g,o);throw new RangeError("Matrix must be square (size: "+at(v)+")");case 2:{var C=v[0],y=v[1];if(C===y)return h(g);throw new RangeError("Matrix must be square (size: "+at(v)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+at(v)+")")}}})});var TO="sylvester",DZ=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],ab=A(TO,DZ,t=>{var{typed:e,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:c,transpose:u,index:s,subset:l,add:f,subtract:m,identity:p,lusolve:h,abs:d}=t;return e(TO,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(C,y,D){return g(i(C),y,D)},"Array, Array, Matrix":function(C,y,D){return g(i(C),i(y),D)},"Array, Matrix, Array":function(C,y,D){return g(i(C),y,i(D))},"Matrix, Array, Matrix":function(C,y,D){return g(C,i(y),D)},"Matrix, Array, Array":function(C,y,D){return g(C,i(y),i(D))},"Matrix, Matrix, Array":function(C,y,D){return g(C,y,i(D))},"Array, Array, Array":function(C,y,D){return g(i(C),i(y),i(D)).toArray()}});function g(v,C,y){for(var D=C.size()[0],b=v.size()[0],x=r(v),w=x.T,S=x.U,E=r(a(-1,C)),F=E.T,M=E.U,B=a(a(u(S),y),M),k=o(0,b),R=[],P=(xe,Re)=>c(xe,Re,1),T=(xe,Re)=>c(xe,Re,0),I=0;I<D;I++)if(I<D-1&&d(l(F,s(I+1,I)))>1e-5){for(var V=T(l(B,s(k,I)),l(B,s(k,I+1))),O=0;O<I;O++)V=f(V,T(a(R[O],l(F,s(O,I))),a(R[O],l(F,s(O,I+1)))));var J=a(p(b),a(-1,l(F,s(I,I)))),$=a(p(b),a(-1,l(F,s(I+1,I)))),W=a(p(b),a(-1,l(F,s(I,I+1)))),q=a(p(b),a(-1,l(F,s(I+1,I+1)))),te=T(P(f(w,J),$),P(W,f(w,q))),ge=h(te,V);R[I]=ge.subset(s(o(0,b),0)),R[I+1]=ge.subset(s(o(b,2*b),0)),I++}else{for(var oe=l(B,s(k,I)),ce=0;ce<I;ce++)oe=f(oe,a(R[ce],l(F,s(ce,I))));var pe=l(F,s(I,I)),ue=m(w,a(pe,p(b)));R[I]=h(ue,oe)}var ae=i(n(...R)),me=a(S,a(ae,u(M)));return me}});var IO="schur",wZ=["typed","matrix","identity","multiply","qr","norm","subtract"],ob=A(IO,wZ,t=>{var{typed:e,matrix:r,identity:n,multiply:i,qr:a,norm:o,subtract:c}=t;return e(IO,{Array:function(l){var f=u(r(l));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(l){return u(l)}});function u(s){var l=s.size()[0],f=s,m=n(l),p=0,h;do{h=f;var d=a(f),g=d.Q,v=d.R;if(f=i(v,g),m=i(m,g),p++>100)break}while(o(c(f,h))>1e-4);return{U:m,T:f}}});var BO="lyap",EZ=["typed","matrix","sylvester","multiply","transpose"],sb=A(BO,EZ,t=>{var{typed:e,matrix:r,sylvester:n,multiply:i,transpose:a}=t;return e(BO,{"Matrix, Matrix":function(c,u){return n(c,a(c),i(-1,u))},"Array, Matrix":function(c,u){return n(r(c),a(r(c)),i(-1,u))},"Matrix, Array":function(c,u){return n(c,a(r(c)),r(i(-1,u)))},"Array, Array":function(c,u){return n(r(c),a(r(c)),r(i(-1,u))).toArray()}})});var CZ="divide",FZ=["typed","matrix","multiply","equalScalar","divideScalar","inv"],ub=A(CZ,FZ,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:o}=t,c=Ut({typed:e,equalScalar:i}),u=Sr({typed:e});return e("divide",wf({"Array | Matrix, Array | Matrix":function(l,f){return n(l,o(f))},"DenseMatrix, any":function(l,f){return u(l,f,a,!1)},"SparseMatrix, any":function(l,f){return c(l,f,a,!1)},"Array, any":function(l,f){return u(r(l),f,a,!1).valueOf()},"any, Array | Matrix":function(l,f){return n(l,o(f))}},a.signatures))});var OO="distance",SZ=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],lb=A(OO,SZ,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:c,abs:u}=t;return e(OO,{"Array, Array, Array":function(b,x,w){if(b.length===2&&x.length===2&&w.length===2){if(!l(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(x,w))throw new TypeError("LinePoint1 should not be same with LinePoint2");var S=n(w[1],x[1]),E=n(x[0],w[0]),F=n(i(w[0],x[1]),i(x[0],w[1]));return g(b[0],b[1],S,E,F)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(b,x,w){if(Object.keys(b).length===2&&Object.keys(x).length===2&&Object.keys(w).length===2){if(!l(b))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(w))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(x),h(w)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in b&&"pointY"in b&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in w&&"lineTwoPtY"in w){var S=n(w.lineTwoPtY,x.lineOnePtY),E=n(x.lineOnePtX,w.lineTwoPtX),F=n(i(w.lineTwoPtX,x.lineOnePtY),i(x.lineOnePtX,w.lineTwoPtY));return g(b.pointX,b.pointY,S,E,F)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(b,x){if(b.length===2&&x.length===3){if(!l(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(b[0],b[1],x[0],x[1],x[2])}else if(b.length===3&&x.length===6){if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(b[0],b[1],b[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(b.length===x.length&&b.length>0){if(!m(b))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!m(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return C(b,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(b,x){if(Object.keys(b).length===2&&Object.keys(x).length===3){if(!l(b))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in b&&"pointY"in b&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return g(b.pointX,b.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(b).length===3&&Object.keys(x).length===6){if(!f(b))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in b&&"pointY"in b&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return v(b.pointX,b.pointY,b.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(b).length===2&&Object.keys(x).length===2){if(!l(b))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in b&&"pointOneY"in b&&"pointTwoX"in x&&"pointTwoY"in x)return C([b.pointOneX,b.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(b).length===3&&Object.keys(x).length===3){if(!f(b))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in b&&"pointOneY"in b&&"pointOneZ"in b&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return C([b.pointOneX,b.pointOneY,b.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(b){if(!d(b))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(b)}});function s(D){return typeof D=="number"||nt(D)}function l(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])}function f(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])&&s(D[2])}function m(D){return Array.isArray(D)||(D=h(D)),D.every(s)}function p(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])&&s(D[2])&&s(D[3])&&s(D[4])&&s(D[5])}function h(D){for(var b=Object.keys(D),x=[],w=0;w<b.length;w++)x.push(D[b[w]]);return x}function d(D){if(D[0].length===2&&s(D[0][0])&&s(D[0][1])){if(D.some(b=>b.length!==2||!s(b[0])||!s(b[1])))return!1}else if(D[0].length===3&&s(D[0][0])&&s(D[0][1])&&s(D[0][2])){if(D.some(b=>b.length!==3||!s(b[0])||!s(b[1])||!s(b[2])))return!1}else return!1;return!0}function g(D,b,x,w,S){var E=u(r(r(i(x,D),i(w,b)),S)),F=c(r(i(x,x),i(w,w)));return a(E,F)}function v(D,b,x,w,S,E,F,M,B){var k=[n(i(n(S,b),B),i(n(E,x),M)),n(i(n(E,x),F),i(n(w,D),B)),n(i(n(w,D),M),i(n(S,b),F))];k=c(r(r(i(k[0],k[0]),i(k[1],k[1])),i(k[2],k[2])));var R=c(r(r(i(F,F),i(M,M)),i(B,B)));return a(k,R)}function C(D,b){for(var x=D.length,w=0,S=0,E=0;E<x;E++)S=n(D[E],b[E]),w=r(i(S,S),w);return c(w)}function y(D){for(var b=[],x=[],w=[],S=0;S<D.length-1;S++)for(var E=S+1;E<D.length;E++)D[0].length===2?(x=[D[S][0],D[S][1]],w=[D[E][0],D[E][1]]):D[0].length===3&&(x=[D[S][0],D[S][1],D[S][2]],w=[D[E][0],D[E][1],D[E][2]]),b.push(C(x,w));return b}});var AZ="intersect",NZ=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],cb=A(AZ,NZ,t=>{var{typed:e,config:r,abs:n,add:i,addScalar:a,matrix:o,multiply:c,multiplyScalar:u,divideScalar:s,subtract:l,smaller:f,equalScalar:m,flatten:p,isZero:h,isNumeric:d}=t;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":v,"Matrix, Matrix, Matrix":function(M,B,k){var R=g(M.valueOf(),B.valueOf(),k.valueOf());return R===null?null:o(R)},"Matrix, Matrix, Matrix, Matrix":function(M,B,k,R){var P=v(M.valueOf(),B.valueOf(),k.valueOf(),R.valueOf());return P===null?null:o(P)}});function g(F,M,B){if(F=C(F),M=C(M),B=C(B),!D(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!b(B))throw new TypeError("Array with 4 numbers expected as third argument");return E(F[0],F[1],F[2],M[0],M[1],M[2],B[0],B[1],B[2],B[3])}function v(F,M,B,k){if(F=C(F),M=C(M),B=C(B),k=C(k),F.length===2){if(!y(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(F,M,B,k)}else if(F.length===3){if(!D(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!D(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!D(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return S(F[0],F[1],F[2],M[0],M[1],M[2],B[0],B[1],B[2],k[0],k[1],k[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function C(F){return F.length===1?F[0]:F.length>1&&Array.isArray(F[0])&&F.every(M=>Array.isArray(M)&&M.length===1)?p(F):F}function y(F){return F.length===2&&d(F[0])&&d(F[1])}function D(F){return F.length===3&&d(F[0])&&d(F[1])&&d(F[2])}function b(F){return F.length===4&&d(F[0])&&d(F[1])&&d(F[2])&&d(F[3])}function x(F,M,B,k){var R=F,P=B,T=l(R,M),I=l(P,k),V=l(u(T[0],I[1]),u(I[0],T[1]));if(h(V)||f(n(V),r.epsilon))return null;var O=u(I[0],R[1]),J=u(I[1],R[0]),$=u(I[0],P[1]),W=u(I[1],P[0]),q=s(a(l(l(O,J),$),W),V);return i(c(T,q),R)}function w(F,M,B,k,R,P,T,I,V,O,J,$){var W=u(l(F,M),l(B,k)),q=u(l(R,P),l(T,I)),te=u(l(V,O),l(J,$));return a(a(W,q),te)}function S(F,M,B,k,R,P,T,I,V,O,J,$){var W=w(F,T,O,T,M,I,J,I,B,V,$,V),q=w(O,T,k,F,J,I,R,M,$,V,P,B),te=w(F,T,k,F,M,I,R,M,B,V,P,B),ge=w(O,T,O,T,J,I,J,I,$,V,$,V),oe=w(k,F,k,F,R,M,R,M,P,B,P,B),ce=l(u(W,q),u(te,ge)),pe=l(u(oe,ge),u(q,q));if(h(pe))return null;var ue=s(ce,pe),ae=s(a(W,u(ue,q)),ge),me=a(F,u(ue,l(k,F))),xe=a(M,u(ue,l(R,M))),Re=a(B,u(ue,l(P,B))),We=a(T,u(ae,l(O,T))),z=a(I,u(ae,l(J,I))),Z=a(V,u(ae,l($,V)));return m(me,We)&&m(xe,z)&&m(Re,Z)?[me,xe,Re]:null}function E(F,M,B,k,R,P,T,I,V,O){var J=u(F,T),$=u(k,T),W=u(M,I),q=u(R,I),te=u(B,V),ge=u(P,V),oe=l(l(l(O,J),W),te),ce=l(l(l(a(a($,q),ge),J),W),te),pe=s(oe,ce),ue=a(F,u(pe,l(k,F))),ae=a(M,u(pe,l(R,M))),me=a(B,u(pe,l(P,B)));return[ue,ae,me]}});var kO="sum",_Z=["typed","config","add","numeric"],al=A(kO,_Z,t=>{var{typed:e,config:r,add:n,numeric:i}=t;return e(kO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(u){if(si(u))throw new TypeError("Scalar values expected in function sum");return a(u)}});function a(c){var u;return gn(c,function(s){try{u=u===void 0?s:n(u,s)}catch(l){throw hr(l,"sum",s)}}),u===void 0&&(u=i(0,r.number)),typeof u=="string"&&(u=i(u,r.number)),u}function o(c,u){try{var s=ja(c,u,n);return s}catch(l){throw hr(l,"sum")}}});var Nm="cumsum",MZ=["typed","add","unaryPlus"],ol=A(Nm,MZ,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(Nm,{Array:i,Matrix:function(s){return s.create(i(s.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(s,l){return s.create(o(s.valueOf(),l))},"...":function(s){if(si(s))throw new TypeError("All values expected to be scalar in function cumsum");return i(s)}});function i(u){try{return a(u)}catch(s){throw hr(s,Nm)}}function a(u){if(u.length===0)return[];for(var s=[n(u[0])],l=1;l<u.length;++l)s.push(r(s[l-1],u[l]));return s}function o(u,s){var l=rt(u);if(s<0||s>=l.length)throw new cn(s,l.length);try{return c(u,s)}catch(f){throw hr(f,Nm)}}function c(u,s){var l,f,m;if(s<=0){var p=u[0][0];if(Array.isArray(p)){for(m=zf(u),f=[],l=0;l<m.length;l++)f[l]=c(m[l],s-1);return f}else return a(u)}else{for(f=[],l=0;l<u.length;l++)f[l]=c(u[l],s-1);return f}}});var RO="mean",TZ=["typed","add","divide"],sl=A(RO,TZ,t=>{var{typed:e,add:r,divide:n}=t;return e(RO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(c){if(si(c))throw new TypeError("Scalar values expected in function mean");return a(c)}});function i(o,c){try{var u=ja(o,c,r),s=Array.isArray(o)?rt(o):o.size();return n(u,s[c])}catch(l){throw hr(l,"mean")}}function a(o){var c,u=0;if(gn(o,function(s){try{c=c===void 0?s:r(c,s),u++}catch(l){throw hr(l,"mean",s)}}),u===0)throw new Error("Cannot calculate the mean of an empty array");return n(c,u)}});var PO="median",IZ=["typed","add","divide","compare","partitionSelect"],fb=A(PO,IZ,t=>{var{typed:e,add:r,divide:n,compare:i,partitionSelect:a}=t;function o(s){try{s=dt(s.valueOf());var l=s.length;if(l===0)throw new Error("Cannot calculate median of an empty array");if(l%2===0){for(var f=l/2-1,m=a(s,f+1),p=s[f],h=0;h<f;++h)i(s[h],p)>0&&(p=s[h]);return u(p,m)}else{var d=a(s,(l-1)/2);return c(d)}}catch(g){throw hr(g,"median")}}var c=e({"number | BigNumber | Complex | Unit":function(l){return l}}),u=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(l,f){return n(r(l,f),2)}});return e(PO,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,f){throw new Error("median(A, dim) is not yet supported")},"...":function(l){if(si(l))throw new TypeError("Scalar values expected in function median");return o(l)}})});var LO="mad",BZ=["typed","abs","map","median","subtract"],mb=A(LO,BZ,t=>{var{typed:e,abs:r,map:n,median:i,subtract:a}=t;return e(LO,{"Array | Matrix":o,"...":function(u){return o(u)}});function o(c){if(c=dt(c.valueOf()),c.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var u=i(c);return i(n(c,function(s){return r(a(s,u))}))}catch(s){throw s instanceof TypeError&&s.message.indexOf("median")!==-1?new TypeError(s.message.replace("median","mad")):hr(s,"mad")}}});var pb="unbiased",qO="variance",OZ=["typed","add","subtract","multiply","divide","apply","isNaN"],ul=A(qO,OZ,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:c}=t;return e(qO,{"Array | Matrix":function(f){return u(f,pb)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(f,m){return s(f,m,pb)},"Array | Matrix, number | BigNumber, string":s,"...":function(f){return u(f,pb)}});function u(l,f){var m,p=0;if(l.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(gn(l,function(g){try{m=m===void 0?g:r(m,g),p++}catch(v){throw hr(v,"variance",g)}}),p===0)throw new Error("Cannot calculate variance of an empty array");var h=a(m,p);if(m=void 0,gn(l,function(g){var v=n(g,h);m=m===void 0?i(v,v):r(m,i(v,v))}),c(m))return m;switch(f){case"uncorrected":return a(m,p);case"biased":return a(m,p+1);case"unbiased":{var d=nt(m)?m.mul(0):0;return p===1?d:a(m,p-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function s(l,f,m){try{if(l.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(l,f,p=>u(p,m))}catch(p){throw hr(p,"variance")}}});var VO="quantileSeq",kZ=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],ll=A(VO,kZ,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:u,isInteger:s,smaller:l,smallerEq:f,larger:m}=t,p=To({typed:e,isInteger:s});return e(VO,{"Array | Matrix, number | BigNumber":(C,y)=>d(C,y,!1),"Array | Matrix, number | BigNumber, number":(C,y,D)=>h(C,y,!1,D,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(C,y,D,b)=>h(C,y,D,b,d),"Array | Matrix, Array | Matrix":(C,y)=>g(C,y,!1),"Array | Matrix, Array | Matrix, number":(C,y,D)=>h(C,y,!1,D,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(C,y,D,b)=>h(C,y,D,b,g)});function h(C,y,D,b,x){return p(C,b,w=>x(w,y,D))}function d(C,y,D){var b,x=C.valueOf();if(l(y,0))throw new Error("N/prob must be non-negative");if(f(y,1))return it(y)?v(x,y,D):r(v(x,y,D));if(m(y,1)){if(!s(y))throw new Error("N must be a positive integer");if(m(y,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var w=n(y,1);b=[];for(var S=0;l(S,y);S++){var E=a(S+1,w);b.push(v(x,E,D))}return it(y)?b:r(b)}}function g(C,y,D){for(var b=C.valueOf(),x=y.valueOf(),w=[],S=0;S<x.length;++S)w.push(v(b,x[S],D));return w}function v(C,y,D){var b=dt(C),x=b.length;if(x===0)throw new Error("Cannot calculate quantile of an empty sequence");var w=it(y)?y*(x-1):y.times(x-1),S=it(y)?Math.floor(w):w.floor().toNumber(),E=it(y)?w%1:w.minus(S);if(s(w))return D?b[w]:c(b,it(y)?w:w.valueOf());var F,M;if(D)F=b[S],M=b[S+1];else{M=c(b,S+1),F=b[S];for(var B=0;B<S;++B)u(b[B],F)>0&&(F=b[B])}return n(o(F,i(1,E)),o(M,E))}});var UO="std",RZ=["typed","map","sqrt","variance"],cl=A(UO,RZ,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t;return e(UO,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(c){return a(c)}});function a(o,c){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var u=i.apply(null,arguments);return Sn(u)?r(u,n):n(u)}catch(s){throw s instanceof TypeError&&s.message.indexOf(" variance")!==-1?new TypeError(s.message.replace(" variance"," std")):s}}});var zO="corr",PZ=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],db=A(zO,PZ,t=>{var{typed:e,matrix:r,sqrt:n,sum:i,add:a,subtract:o,multiply:c,pow:u,divide:s}=t;return e(zO,{"Array, Array":function(p,h){return l(p,h)},"Matrix, Matrix":function(p,h){var d=l(p.toArray(),h.toArray());return Array.isArray(d)?r(d):d}});function l(m,p){var h=[];if(Array.isArray(m[0])&&Array.isArray(p[0])){if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<m.length;d++){if(m[d].length!==p[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(m[d],p[d]))}return h}else{if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(m,p)}}function f(m,p){var h=m.length,d=i(m),g=i(p),v=m.reduce((x,w,S)=>a(x,c(w,p[S])),0),C=i(m.map(x=>u(x,2))),y=i(p.map(x=>u(x,2))),D=o(c(h,v),c(d,g)),b=n(c(o(c(h,C),u(d,2)),o(c(h,y),u(g,2))));return s(D,b)}});var WO="combinations",LZ=["typed"],hb=A(WO,LZ,t=>{var{typed:e}=t;return e(WO,{"number, number":Ng,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,c,u=n.minus(i),s=new a(1);if(!HO(n)||!HO(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=s,i.lt(u))for(c=s;c.lte(u);c=c.plus(s))o=o.times(i.plus(c)).dividedBy(c);else for(c=s;c.lte(i);c=c.plus(s))o=o.times(u.plus(c)).dividedBy(c);return o}})});function HO(t){return t.isInteger()&&t.gte(0)}var GO="combinationsWithRep",qZ=["typed"],gb=A(GO,qZ,t=>{var{typed:e}=t;return e(GO,{"number, number":function(n,i){if(!He(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!He(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Zn(n,n+i-1);return a/Zn(1,i)}var o=Zn(i+1,n+i-1);return o/Zn(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,c,u=new a(1),s=n.minus(u);if(!jO(n)||!jO(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(u))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=u,i.lt(s))for(c=u;c.lte(s);c=c.plus(u))o=o.times(i.plus(c)).dividedBy(c);else for(c=u;c.lte(i);c=c.plus(u))o=o.times(s.plus(c)).dividedBy(c);return o}})});function jO(t){return t.isInteger()&&t.gte(0)}var ZO="gamma",VZ=["typed","config","multiplyScalar","pow","BigNumber","Complex"],vb=A(ZO,VZ,t=>{var{typed:e,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=t;function c(s){if(s.im===0)return zu(s.re);if(s.re<.5){var l=new o(1-s.re,-s.im),f=new o(Math.PI*s.re,Math.PI*s.im);return new o(Math.PI).div(f.sin()).div(c(l))}s=new o(s.re-1,s.im);for(var m=new o(Mo[0],0),p=1;p<Mo.length;++p){var h=new o(Mo[p],0);m=m.add(h.div(s.add(p)))}var d=new o(s.re+Og+.5,s.im),g=Math.sqrt(2*Math.PI),v=d.pow(s.add(.5)),C=d.neg().exp();return m.mul(g).mul(v).mul(C)}return e(ZO,{number:zu,Complex:c,BigNumber:function(l){if(l.isInteger())return l.isNegative()||l.isZero()?new a(1/0):u(l.minus(1));if(!l.isFinite())return new a(l.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function u(s){if(s<8)return new a([1,1,2,6,24,120,720,5040][s]);var l=r.precision+(Math.log(s.toNumber())|0),f=a.clone({precision:l});if(s%2===1)return s.times(u(new a(s-1)));for(var m=s,p=new f(s),h=s.toNumber();m>2;)m-=2,h+=m,p=p.times(h);return new a(p.toPrecision(a.precision))}});var YO="lgamma",UZ=["Complex","typed"],yb=A(YO,UZ,t=>{var{Complex:e,typed:r}=t,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(YO,{number:Wu,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(s){var l=6.283185307179586,f=1.1447298858494002,m=.1;if(s.isNaN())return new e(NaN,NaN);if(s.im===0)return new e(Wu(s.re),0);if(s.re>=n||Math.abs(s.im)>=i)return c(s);if(s.re<=m){var p=A2(l,s.im)*Math.floor(.5*s.re+.25),h=s.mul(Math.PI).sin().log(),d=o(new e(1-s.re,-s.im));return new e(f,p).sub(h).sub(d)}else return s.im>=0?u(s):u(s.conjugate()).conjugate()}function c(s){for(var l=s.sub(.5).mul(s.log()).sub(s).add(kg),f=new e(1,0).div(s),m=f.div(s),p=a[0],h=a[1],d=2*m.re,g=m.re*m.re+m.im*m.im,v=2;v<8;v++){var C=h;h=-g*p+a[v],p=d*p+C}var y=f.mul(m.mul(p).add(h));return l.add(y)}function u(s){var l=0,f=0,m=s;for(s=s.add(1);s.re<=n;){m=m.mul(s);var p=m.im<0?1:0;p!==0&&f===0&&l++,f=p,s=s.add(1)}return c(s).sub(m.log()).sub(new e(0,l*2*Math.PI*1))}});var JO="factorial",zZ=["typed","gamma"],bb=A(JO,zZ,t=>{var{typed:e,gamma:r}=t;return e(JO,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var XO="kldivergence",WZ=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],xb=A(XO,WZ,t=>{var{typed:e,matrix:r,divide:n,sum:i,multiply:a,map:o,dotDivide:c,log:u,isNumeric:s}=t;return e(XO,{"Array, Array":function(m,p){return l(r(m),r(p))},"Matrix, Array":function(m,p){return l(m,r(p))},"Array, Matrix":function(m,p){return l(r(m),p)},"Matrix, Matrix":function(m,p){return l(m,p)}});function l(f,m){var p=m.size().length,h=f.size().length;if(p>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(p!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var g=i(m);if(g===0)throw new Error("Sum of elements in second object must be non zero");var v=n(f,i(f)),C=n(m,i(m)),y=i(a(v,o(c(v,C),D=>u(D))));return s(y)?y:Number.NaN}});var QO="multinomial",HZ=["typed","add","divide","multiply","factorial","isInteger","isPositive"],Db=A(QO,HZ,t=>{var{typed:e,add:r,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:c}=t;return e(QO,{"Array | Matrix":function(s){var l=0,f=1;return gn(s,function(m){if(!o(m)||!c(m))throw new TypeError("Positive integer value expected in function multinomial");l=r(l,m),f=i(f,a(m))}),n(a(l),f)}})});var KO="permutations",GZ=["typed","factorial"],wb=A(KO,GZ,t=>{var{typed:e,factorial:r}=t;return e(KO,{"number | BigNumber":r,"number, number":function(i,a){if(!He(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!He(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Zn(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,c;if(!$O(i)||!$O(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var u=i.mul(0).add(1);for(o=u,c=i.minus(a).plus(1);c.lte(i);c=c.plus(1))o=o.times(c);return o}})});function $O(t){return t.isInteger()&&t.gte(0)}var _b=xr(h4(),1),KZ=(0,_b.default)(Date.now());function da(t){var e;function r(i){e=i===null?KZ:(0,_b.default)(String(i))}r(t);function n(){return e()}return n}var g4="pickRandom",$Z=["typed","config","?on"],Mb=A(g4,$Z,t=>{var{typed:e,config:r,on:n}=t,i=da(r.randomSeed);return n&&n("config",function(o,c){o.randomSeed!==c.randomSeed&&(i=da(o.randomSeed))}),e(g4,{"Array | Matrix":function(c){return a(c,{})},"Array | Matrix, Object":function(c,u){return a(c,u)},"Array | Matrix, number":function(c,u){return a(c,{number:u})},"Array | Matrix, Array | Matrix":function(c,u){return a(c,{weights:u})},"Array | Matrix, Array | Matrix, number":function(c,u,s){return a(c,{number:s,weights:u})},"Array | Matrix, number, Array | Matrix":function(c,u,s){return a(c,{number:u,weights:s})}});function a(o,c){var{number:u,weights:s,elementWise:l=!0}=c,f=typeof u=="undefined";f&&(u=1);var m=Ge(o)?o.create:Ge(s)?s.create:null;o=o.valueOf(),s&&(s=s.valueOf()),l===!0&&(o=dt(o),s=dt(s));var p=0;if(typeof s!="undefined"){if(s.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=s.length;h<d;h++){if(!it(s[h])||s[h]<0)throw new Error("Weights must be an array of positive numbers");p+=s[h]}}for(var g=o.length,v=[],C;v.length<u;){if(typeof s=="undefined")C=o[Math.floor(i()*g)];else for(var y=i()*p,D=0,b=o.length;D<b;D++)if(y-=s[D],y<0){C=o[D];break}v.push(C)}return f?v[0]:m?m(v):v}});function fl(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,i=t.shift();n<i;n++)r.push(fl(t,e));else for(var a=0,o=t.shift();a<o;a++)r.push(e());return r}var v4="random",eY=["typed","config","?on"],Tb=A(v4,eY,t=>{var{typed:e,config:r,on:n}=t,i=da(r.randomSeed);return n&&n("config",function(c,u){c.randomSeed!==u.randomSeed&&(i=da(c.randomSeed))}),e(v4,{"":()=>o(0,1),number:c=>o(0,c),"number, number":(c,u)=>o(c,u),"Array | Matrix":c=>a(c,0,1),"Array | Matrix, number":(c,u)=>a(c,0,u),"Array | Matrix, number, number":(c,u,s)=>a(c,u,s)});function a(c,u,s){var l=fl(c.valueOf(),()=>o(u,s));return Ge(c)?c.create(l):l}function o(c,u){return c+i()*(u-c)}});var y4="randomInt",tY=["typed","config","?on"],Ib=A(y4,tY,t=>{var{typed:e,config:r,on:n}=t,i=da(r.randomSeed);return n&&n("config",function(c,u){c.randomSeed!==u.randomSeed&&(i=da(c.randomSeed))}),e(y4,{"":()=>o(0,1),number:c=>o(0,c),"number, number":(c,u)=>o(c,u),"Array | Matrix":c=>a(c,0,1),"Array | Matrix, number":(c,u)=>a(c,0,u),"Array | Matrix, number, number":(c,u,s)=>a(c,u,s)});function a(c,u,s){var l=fl(c.valueOf(),()=>o(u,s));return Ge(c)?c.create(l):l}function o(c,u){return Math.floor(c+i()*(u-c))}});var b4="stirlingS2",rY=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Bb=A(b4,rY,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:c,combinations:u,isNegative:s,isInteger:l,number:f,bignumber:m,larger:p}=t,h=[],d=[];return e(b4,{"number | BigNumber, number | BigNumber":function(v,C){if(!l(v)||s(v)||!l(C)||s(C))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(C,v))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(it(v)&&it(C)),D=y?d:h,b=y?m:f,x=f(v),w=f(C);if(D[x]&&D[x].length>w)return D[x][w];for(var S=0;S<=x;++S)if(D[S]||(D[S]=[b(S===0?1:0)]),S!==0)for(var E=D[S],F=D[S-1],M=E.length;M<=S&&M<=w;++M)M===S?E[M]=1:E[M]=r(i(b(M),F[M]),F[M-1]);return D[x][w]}})});var x4="bellNumbers",nY=["typed","addScalar","isNegative","isInteger","stirlingS2"],Ob=A(x4,nY,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:i,stirlingS2:a}=t;return e(x4,{"number | BigNumber":function(c){if(!i(c)||n(c))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var u=0,s=0;s<=c;s++)u=r(u,a(c,s));return u}})});var D4="catalan",iY=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],kb=A(D4,iY,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:c}=t;return e(D4,{"number | BigNumber":function(s){if(!c(s)||o(s))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(s,2),s),r(s,1))}})});var w4="composition",aY=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Rb=A(w4,aY,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:c}=t;return e(w4,{"number | BigNumber, number | BigNumber":function(s,l){if(!o(s)||!i(s)||!o(l)||!i(l))throw new TypeError("Positive integer value expected in function composition");if(c(l,s))throw new TypeError("k must be less than or equal to n in function composition");return n(r(s,-1),r(l,-1))}})});var E4="leafCount",oY=["parse","typed"],Pb=A(E4,oY,t=>{var{parse:e,typed:r}=t;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return r(E4,{Node:function(a){return n(a)}})});function Lb(t){return vt(t)||ar(t)&&t.isUnary()&&vt(t.args[0])}function ml(t){return!!(vt(t)||(An(t)||ar(t))&&t.args.every(ml)||ln(t)&&ml(t.content))}function C4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(r),!0).forEach(function(n){Bt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var sY="simplifyUtil",uY=["FunctionNode","OperatorNode","SymbolNode"],Ls=A(sY,uY,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,i=!0,a=!1,o="defaultF",c={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},u={divide:{total:a},log:{total:a}},s={subtract:{total:a},abs:{trivial:i},log:{total:i}};function l(y,D){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c,x=o;if(typeof y=="string"?x=y:ar(y)?x=y.fn.toString():An(y)?x=y.name:ln(y)&&(x="paren"),je(b,x)){var w=b[x];if(je(w,D))return w[D];if(je(c,x))return c[x][D]}if(je(b,o)){var S=b[o];return je(S,D)?S[D]:c[o][D]}if(je(c,x)){var E=c[x];if(je(E,D))return E[D]}return c[o][D]}function f(y){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return l(y,"commutative",D)}function m(y){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return l(y,"associative",D)}function p(y,D){var b=qb({},y);for(var x in D)je(y,x)?b[x]=qb(qb({},D[x]),y[x]):b[x]=D[x];return b}function h(y,D){if(!y.args||y.args.length===0)return y;y.args=d(y,D);for(var b=0;b<y.args.length;b++)h(y.args[b],D)}function d(y,D){var b,x=[],w=function S(E){for(var F=0;F<E.args.length;F++){var M=E.args[F];ar(M)&&b===M.op?S(M):x.push(M)}};return m(y,D)?(b=y.op,w(y),x):y.args}function g(y,D){if(!(!y.args||y.args.length===0)){for(var b=C(y),x=y.args.length,w=0;w<x;w++)g(y.args[w],D);if(x>2&&m(y,D)){for(var S=y.args.pop();y.args.length>0;)S=b([y.args.pop(),S]);y.args=S.args}}}function v(y,D){if(!(!y.args||y.args.length===0)){for(var b=C(y),x=y.args.length,w=0;w<x;w++)v(y.args[w],D);if(x>2&&m(y,D)){for(var S=y.args.shift();y.args.length>0;)S=b([S,y.args.shift()]);y.args=S.args}}}function C(y){return ar(y)?function(D){try{return new r(y.op,y.fn,D,y.implicit)}catch(b){return console.error(b),[]}}:function(D){return new e(new n(y.name),D)}}return{createMakeNodeFunction:C,hasProperty:l,isCommutative:f,isAssociative:m,mergeContext:p,flatten:h,allChildren:d,unflattenr:g,unflattenl:v,defaultContext:c,realContext:u,positiveContext:s}});var lY="simplify",cY=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Vb=A(lY,cY,t=>{var{config:e,typed:r,parse:n,add:i,subtract:a,multiply:o,divide:c,pow:u,isZero:s,equal:l,resolve:f,simplifyConstant:m,simplifyCore:p,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:C,ArrayNode:y,ConstantNode:D,FunctionNode:b,IndexNode:x,ObjectNode:w,OperatorNode:S,ParenthesisNode:E,SymbolNode:F}=t,{hasProperty:M,isCommutative:B,isAssociative:k,mergeContext:R,flatten:P,unflattenr:T,unflattenl:I,createMakeNodeFunction:V,defaultContext:O,realContext:J,positiveContext:$}=Ls({FunctionNode:b,OperatorNode:S,SymbolNode:F});r.addConversion({from:"Object",to:"Map",convert:la});var W=r("simplify",{Node:ue,"Node, Map":(H,K)=>ue(H,!1,K),"Node, Map, Object":(H,K,ie)=>ue(H,!1,K,ie),"Node, Array":ue,"Node, Array, Map":ue,"Node, Array, Map, Object":ue});r.removeConversion({from:"Object",to:"Map",convert:la}),W.defaultContext=O,W.realContext=J,W.positiveContext=$;function q(H){return H.transform(function(K,ie,be){return ln(K)?q(K.content):K})}var te={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};W.rules=[p,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},m,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},m,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function ge(H,K){var ie={};if(H.s){var be=H.s.split("->");if(be.length===2)ie.l=be[0],ie.r=be[1];else throw SyntaxError("Could not parse rule: "+H.s)}else ie.l=H.l,ie.r=H.r;ie.l=q(n(ie.l)),ie.r=q(n(ie.r));for(var ye of["imposeContext","repeat","assuming"])ye in H&&(ie[ye]=H[ye]);if(H.evaluate&&(ie.evaluate=n(H.evaluate)),k(ie.l,K)){var Le=!B(ie.l,K),Se;Le&&(Se=pe());var ft=V(ie.l),pt=pe();ie.expanded={},ie.expanded.l=ft([ie.l,pt]),P(ie.expanded.l,K),T(ie.expanded.l,K),ie.expanded.r=ft([ie.r,pt]),Le&&(ie.expandedNC1={},ie.expandedNC1.l=ft([Se,ie.l]),ie.expandedNC1.r=ft([Se,ie.r]),ie.expandedNC2={},ie.expandedNC2.l=ft([Se,ie.expanded.l]),ie.expandedNC2.r=ft([Se,ie.expanded.r]))}return ie}function oe(H,K){for(var ie=[],be=0;be<H.length;be++){var ye=H[be],Le=void 0,Se=typeof ye;switch(Se){case"string":ye={s:ye};case"object":Le=ge(ye,K);break;case"function":Le=ye;break;default:throw TypeError("Unsupported type of rule: "+Se)}ie.push(Le)}return ie}var ce=0;function pe(){return new F("_p"+ce++)}function ue(H,K){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ji(),be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ye=be.consoleDebug;K=oe(K||W.rules,be.context);var Le=f(H,ie);Le=q(Le);for(var Se={},ft=Le.toString({parenthesis:"all"});!Se[ft];){Se[ft]=!0,ce=0;var pt=ft;ye&&console.log("Working on: ",ft);for(var _t=0;_t<K.length;_t++){var zt="";if(typeof K[_t]=="function"?(Le=K[_t](Le,be),ye&&(zt=K[_t].name)):(P(Le,be.context),Le=me(Le,K[_t],be.context),ye&&(zt="".concat(K[_t].l.toString()," -> ").concat(K[_t].r.toString()))),ye){var j=Le.toString({parenthesis:"all"});j!==pt&&(console.log("Applying",zt,"produced",j),pt=j)}I(Le,be.context)}ft=Le.toString({parenthesis:"all"})}return Le}function ae(H,K,ie){var be=H;if(H)for(var ye=0;ye<H.length;++ye){var Le=me(H[ye],K,ie);Le!==H[ye]&&(be===H&&(be=H.slice()),be[ye]=Le)}return be}function me(H,K,ie){if(K.assuming){for(var be in K.assuming)for(var ye in K.assuming[be])if(M(be,ye,ie)!==K.assuming[be][ye])return H}var Le=R(K.imposeContext,ie),Se=H;if(Se instanceof S||Se instanceof b){var ft=ae(Se.args,K,ie);ft!==Se.args&&(Se=Se.clone(),Se.args=ft)}else if(Se instanceof E){if(Se.content){var pt=me(Se.content,K,ie);pt!==Se.content&&(Se=new E(pt))}}else if(Se instanceof y){var _t=ae(Se.items,K,ie);_t!==Se.items&&(Se=new y(_t))}else if(Se instanceof C){var zt=Se.object;Se.object&&(zt=me(Se.object,K,ie));var j=Se.index;Se.index&&(j=me(Se.index,K,ie)),(zt!==Se.object||j!==Se.index)&&(Se=new C(zt,j))}else if(Se instanceof x){var se=ae(Se.dimensions,K,ie);se!==Se.dimensions&&(Se=new x(se))}else if(Se instanceof w){var de=!1,Ce={};for(var Me in Se.properties)Ce[Me]=me(Se.properties[Me],K,ie),Ce[Me]!==Se.properties[Me]&&(de=!0);de&&(Se=new w(Ce))}var Fe=K.r,Ne=Z(K.l,Se,Le)[0];if(!Ne&&K.expanded&&(Fe=K.expanded.r,Ne=Z(K.expanded.l,Se,Le)[0]),!Ne&&K.expandedNC1&&(Fe=K.expandedNC1.r,Ne=Z(K.expandedNC1.l,Se,Le)[0],Ne||(Fe=K.expandedNC2.r,Ne=Z(K.expandedNC2.l,Se,Le)[0])),Ne){var Pe=Se.implicit;Se=Fe.clone(),Pe&&"implicit"in Fe&&(Se.implicit=!0),Se=Se.transform(function(_){return _.isSymbolNode&&je(Ne.placeholders,_.name)?Ne.placeholders[_.name].clone():_})}return K.repeat&&Se!==H&&(Se=me(Se,K,ie)),Se}function xe(H,K){var ie=[],be,ye,Le=V(H);if(B(H,K))for(var Se=0;Se<H.args.length;Se++)ye=H.args.slice(0),ye.splice(Se,1),be=ye.length===1?ye[0]:Le(ye),ie.push(Le([H.args[Se],be]));else for(var ft=1;ft<H.args.length;ft++){var pt=H.args[0];ft>1&&(pt=Le(H.args.slice(0,ft))),ye=H.args.slice(ft),be=ye.length===1?ye[0]:Le(ye),ie.push(Le([pt,be]))}return ie}function Re(H,K){var ie={placeholders:{}};if(!H.placeholders&&!K.placeholders)return ie;if(H.placeholders){if(!K.placeholders)return H}else return K;for(var be in H.placeholders)if(je(H.placeholders,be)&&(ie.placeholders[be]=H.placeholders[be],je(K.placeholders,be)&&!fe(H.placeholders[be],K.placeholders[be])))return null;for(var ye in K.placeholders)je(K.placeholders,ye)&&(ie.placeholders[ye]=K.placeholders[ye]);return ie}function We(H,K){var ie=[];if(H.length===0||K.length===0)return ie;for(var be,ye=0;ye<H.length;ye++)for(var Le=0;Le<K.length;Le++)be=Re(H[ye],K[Le]),be&&ie.push(be);return ie}function z(H){if(H.length===0)return H;for(var K=H.reduce(We),ie=[],be={},ye=0;ye<K.length;ye++){var Le=JSON.stringify(K[ye]);be[Le]||(be[Le]=!0,ie.push(K[ye]))}return ie}function Z(H,K,ie,be){var ye=[{placeholders:{}}];if(H instanceof S&&K instanceof S||H instanceof b&&K instanceof b){if(H instanceof S){if(H.op!==K.op||H.fn!==K.fn)return[]}else if(H instanceof b&&H.name!==K.name)return[];if(K.args.length===1&&H.args.length===1||!k(K,ie)&&K.args.length===H.args.length||be){for(var Le=[],Se=0;Se<H.args.length;Se++){var ft=Z(H.args[Se],K.args[Se],ie);if(ft.length===0)break;Le.push(ft)}if(Le.length!==H.args.length){if(!B(K,ie)||H.args.length===1)return[];if(H.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var pt=Z(H.args[0],K.args[1],ie);if(pt.length===0)return[];var _t=Z(H.args[1],K.args[0],ie);if(_t.length===0)return[];Le=[pt,_t]}ye=z(Le)}else if(K.args.length>=2&&H.args.length===2){for(var zt=xe(K,ie),j=[],se=0;se<zt.length;se++){var de=Z(H,zt[se],ie,!0);j=j.concat(de)}return j}else{if(H.args.length>2)throw Error("Unexpected non-binary associative function: "+H.toString());return[]}}else if(H instanceof F){if(H.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(te[H.name]){if(H.name!==K.name)return[]}else switch(H.name[1]>="a"&&H.name[1]<="z"?H.name.substring(0,2):H.name[0]){case"n":case"_p":ye[0].placeholders[H.name]=K;break;case"c":case"cl":if(vt(K))ye[0].placeholders[H.name]=K;else return[];break;case"v":if(!vt(K))ye[0].placeholders[H.name]=K;else return[];break;case"vl":if(Yt(K))ye[0].placeholders[H.name]=K;else return[];break;case"cd":if(Lb(K))ye[0].placeholders[H.name]=K;else return[];break;case"vd":if(!Lb(K))ye[0].placeholders[H.name]=K;else return[];break;case"ce":if(ml(K))ye[0].placeholders[H.name]=K;else return[];break;case"ve":if(!ml(K))ye[0].placeholders[H.name]=K;else return[];break;default:throw new Error("Invalid symbol in rule: "+H.name)}}else if(H instanceof D){if(!l(H.value,K.value))return[]}else return[];return ye}function fe(H,K){if(H instanceof D&&K instanceof D){if(!l(H.value,K.value))return!1}else if(H instanceof F&&K instanceof F){if(H.name!==K.name)return!1}else if(H instanceof S&&K instanceof S||H instanceof b&&K instanceof b){if(H instanceof S){if(H.op!==K.op||H.fn!==K.fn)return!1}else if(H instanceof b&&H.name!==K.name)return!1;if(H.args.length!==K.args.length)return!1;for(var ie=0;ie<H.args.length;ie++)if(!fe(H.args[ie],K.args[ie]))return!1}else return!1;return!0}return W});var fY="simplifyConstant",mY=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Ub=A(fY,mY,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:c,ArrayNode:u,ConstantNode:s,FunctionNode:l,IndexNode:f,ObjectNode:m,OperatorNode:p,SymbolNode:h}=t,{isCommutative:d,isAssociative:g,allChildren:v,createMakeNodeFunction:C}=Ls({FunctionNode:l,OperatorNode:p,SymbolNode:h}),y=e("simplifyConstant",{Node:P=>w(R(P,{})),"Node, Object":function(T,I){return w(R(T,I))}});function D(P){return sa(P)?P.valueOf():P instanceof Array?P.map(D):Ge(P)?i(D(P.valueOf())):P}function b(P,T,I){try{return n[P].apply(null,T)}catch(V){return T=T.map(D),E(n[P].apply(null,T),I)}}var x=e({Fraction:M,number:function(T){return T<0?F(new s(-T)):new s(T)},BigNumber:function(T){return T<0?F(new s(-T)):new s(T)},Complex:function(T){throw new Error("Cannot convert Complex number to Node")},string:function(T){return new s(T)},Matrix:function(T){return new u(T.valueOf().map(I=>x(I)))}});function w(P){return yt(P)?P:x(P)}function S(P,T){var I=T&&T.exactFractions!==!1;if(I&&isFinite(P)&&a){var V=a(P),O=T&&typeof T.fractionsLimit=="number"?T.fractionsLimit:1/0;if(V.valueOf()===P&&V.n<O&&V.d<O)return V}return P}var E=e({"string, Object":function(T,I){if(r.number==="BigNumber")return o===void 0&&Is(),o(T);if(r.number==="Fraction")return a===void 0&&Jf(),a(T);var V=parseFloat(T);return S(V,I)},"Fraction, Object":function(T,I){return T},"BigNumber, Object":function(T,I){return T},"number, Object":function(T,I){return S(T,I)},"Complex, Object":function(T,I){return T.im!==0?T:S(T.re,I)},"Matrix, Object":function(T,I){return i(S(T.valueOf()))},"Array, Object":function(T,I){return T.map(S)}});function F(P){return new p("-","unaryMinus",[P])}function M(P){var T,I=P.s*P.n;return I<0?T=new p("-","unaryMinus",[new s(-I)]):T=new s(I),P.d===1?T:new p("/","divide",[T,new s(P.d)])}function B(P,T,I){if(!ai(T))return new c(w(P),w(T));if(un(P)||Ge(P)){for(var V=Array.from(T.dimensions);V.length>0;)if(vt(V[0])&&typeof V[0].value!="string"){var O=E(V.shift().value,I);un(P)?P=P.items[O-1]:(P=P.valueOf()[O-1],P instanceof Array&&(P=i(P)))}else if(V.length>1&&vt(V[1])&&typeof V[1].value!="string"){var J=E(V[1].value,I),$=[],W=un(P)?P.items:P.valueOf();for(var q of W)if(un(q))$.push(q.items[J-1]);else if(Ge(P))$.push(q[J-1]);else break;if($.length===W.length)un(P)?P=new u($):P=i($),V.splice(1,1);else break}else break;return V.length===T.dimensions.length?new c(w(P),T):V.length>0?(T=new f(V),new c(w(P),T)):P}if(qa(P)&&T.dimensions.length===1&&vt(T.dimensions[0])){var te=T.dimensions[0].value;return te in P.properties?P.properties[te]:new s}return new c(w(P),T)}function k(P,T,I,V){var O=T.shift(),J=T.reduce(($,W)=>{if(!yt(W)){var q=$.pop();if(yt(q))return[q,W];try{return $.push(b(P,[q,W],V)),$}catch(ge){$.push(q)}}$.push(w($.pop()));var te=$.length===1?$[0]:I($);return[I([te,w(W)])]},[O]);return J.length===1?J[0]:I([J[0],x(J[1])])}function R(P,T){switch(P.type){case"SymbolNode":return P;case"ConstantNode":switch(typeof P.value){case"number":return E(P.value,T);case"string":return P.value;default:if(!isNaN(P.value))return E(P.value,T)}return P;case"FunctionNode":if(n[P.name]&&n[P.name].rawArgs)return P;{var I=["add","multiply"];if(I.indexOf(P.name)===-1){var V=P.args.map(me=>R(me,T));if(!V.some(yt))try{return b(P.name,V,T)}catch(me){}if(P.name==="size"&&V.length===1&&un(V[0])){for(var O=[],J=V[0];un(J);)O.push(J.items.length),J=J.items[0];return i(O)}return new l(P.name,V.map(w))}}case"OperatorNode":{var $=P.fn.toString(),W,q,te=C(P);if(ar(P)&&P.isUnary())W=[R(P.args[0],T)],yt(W[0])?q=te(W):q=b($,W,T);else if(g(P,T.context))if(W=v(P,T.context),W=W.map(me=>R(me,T)),d($,T.context)){for(var ge=[],oe=[],ce=0;ce<W.length;ce++)yt(W[ce])?oe.push(W[ce]):ge.push(W[ce]);ge.length>1?(q=k($,ge,te,T),oe.unshift(q),q=k($,oe,te,T)):q=k($,W,te,T)}else q=k($,W,te,T);else W=P.args.map(me=>R(me,T)),q=k($,W,te,T);return q}case"ParenthesisNode":return R(P.content,T);case"AccessorNode":return B(R(P.object,T),R(P.index,T),T);case"ArrayNode":{var pe=P.items.map(me=>R(me,T));return pe.some(yt)?new u(pe.map(w)):i(pe)}case"IndexNode":return new f(P.dimensions.map(me=>y(me,T)));case"ObjectNode":{var ue={};for(var ae in P.properties)ue[ae]=y(P.properties[ae],T);return new m(ue)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(P.type))}}return y});var F4="simplifyCore",pY=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],zb=A(F4,pY,t=>{var{typed:e,parse:r,equal:n,isZero:i,add:a,subtract:o,multiply:c,divide:u,pow:s,AccessorNode:l,ArrayNode:f,ConstantNode:m,FunctionNode:p,IndexNode:h,ObjectNode:d,OperatorNode:g,ParenthesisNode:v,SymbolNode:C}=t,y=new m(0),D=new m(1),b=new m(!0),x=new m(!1);function w(M){return ar(M)&&["and","not","or"].includes(M.op)}var{hasProperty:S,isCommutative:E}=Ls({FunctionNode:p,OperatorNode:g,SymbolNode:C});function F(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=B?B.context:void 0;if(S(M,"trivial",k)){if(An(M)&&M.args.length===1)return F(M.args[0],B);var R=!1,P=0;if(M.forEach(oe=>{++P,P===1&&(R=F(oe,B))}),P===1)return R}var T=M;if(An(T)){var I=EM(T.name);if(I){if(T.args.length>2&&S(T,"associative",k))for(;T.args.length>2;){var V=T.args.pop(),O=T.args.pop();T.args.push(new g(I,T.name,[V,O]))}T=new g(I,T.name,T.args)}else return new p(F(T.fn),T.args.map(oe=>F(oe,B)))}if(ar(T)&&T.isUnary()){var J=F(T.args[0],B);if(T.op==="~"&&ar(J)&&J.isUnary()&&J.op==="~"||T.op==="not"&&ar(J)&&J.isUnary()&&J.op==="not"&&w(J.args[0]))return J.args[0];var $=!0;if(T.op==="-"&&ar(J)&&(J.isBinary()&&J.fn==="subtract"&&(T=new g("-","subtract",[J.args[1],J.args[0]]),$=!1),J.isUnary()&&J.op==="-"))return J.args[0];if($)return new g(T.op,T.fn,[J])}if(ar(T)&&T.isBinary()){var W=F(T.args[0],B),q=F(T.args[1],B);if(T.op==="+"){if(vt(W)&&i(W.value))return q;if(vt(q)&&i(q.value))return W;ar(q)&&q.isUnary()&&q.op==="-"&&(q=q.args[0],T=new g("-","subtract",[W,q]))}if(T.op==="-")return ar(q)&&q.isUnary()&&q.op==="-"?F(new g("+","add",[W,q.args[0]]),B):vt(W)&&i(W.value)?F(new g("-","unaryMinus",[q])):vt(q)&&i(q.value)?W:new g(T.op,T.fn,[W,q]);if(T.op==="*"){if(vt(W)){if(i(W.value))return y;if(n(W.value,1))return q}if(vt(q)){if(i(q.value))return y;if(n(q.value,1))return W;if(E(T,k))return new g(T.op,T.fn,[q,W],T.implicit)}return new g(T.op,T.fn,[W,q],T.implicit)}if(T.op==="/")return vt(W)&&i(W.value)?y:vt(q)&&n(q.value,1)?W:new g(T.op,T.fn,[W,q]);if(T.op==="^"&&vt(q)){if(i(q.value))return D;if(n(q.value,1))return W}if(T.op==="and"){if(vt(W))if(W.value){if(w(q))return q}else return x;if(vt(q))if(q.value){if(w(W))return W}else return x}if(T.op==="or"){if(vt(W)){if(W.value)return b;if(w(q))return q}if(vt(q)){if(q.value)return b;if(w(W))return W}}return new g(T.op,T.fn,[W,q])}if(ar(T))return new g(T.op,T.fn,T.args.map(oe=>F(oe,B)));if(un(T))return new f(T.items.map(oe=>F(oe,B)));if(jn(T))return new l(F(T.object,B),F(T.index,B));if(ai(T))return new h(T.dimensions.map(oe=>F(oe,B)));if(qa(T)){var te={};for(var ge in T.properties)te[ge]=F(T.properties[ge],B);return new d(te)}return T}return e(F4,{Node:F,"Node,Object":F})});var dY="resolve",hY=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],Wb=A(dY,hY,t=>{var{typed:e,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=t;function c(u,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!s)return u;if(Yt(u)){if(l.has(u.name)){var f=Array.from(l).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var m=s.get(u.name);if(yt(m)){var p=new Set(l);return p.add(u.name),c(m,s,p)}else return typeof m=="number"?r(String(m)):m!==void 0?new n(m):u}else if(ar(u)){var h=u.args.map(function(g){return c(g,s,l)});return new a(u.op,u.fn,h,u.implicit)}else{if(ln(u))return new o(c(u.content,s,l));if(An(u)){var d=u.args.map(function(g){return c(g,s,l)});return new i(u.name,d)}}return u.map(g=>c(g,s,l))}return e("resolve",{Node:c,"Node, Map | null | undefined":c,"Node, Object":(u,s)=>c(u,la(s)),"Array | Matrix":e.referToSelf(u=>s=>s.map(l=>u(l))),"Array | Matrix, null | undefined":e.referToSelf(u=>s=>s.map(l=>u(l))),"Array, Object":e.referTo("Array,Map",u=>(s,l)=>u(s,la(l))),"Matrix, Object":e.referTo("Matrix,Map",u=>(s,l)=>u(s,la(l))),"Array | Matrix, Map":e.referToSelf(u=>(s,l)=>s.map(f=>u(f,l)))})});var S4="symbolicEqual",gY=["parse","simplify","typed","OperatorNode"],Hb=A(S4,gY,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:i}=t;function a(o,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new i("-","subtract",[o,c]),l=r(s,{},u);return vt(l)&&!l.value}return n(S4,{"Node, Node":a,"Node, Node, Object":a})});var A4="derivative",vY=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],Gb=A(A4,vY,t=>{var{typed:e,config:r,parse:n,simplify:i,equal:a,isZero:o,numeric:c,ConstantNode:u,FunctionNode:s,OperatorNode:l,ParenthesisNode:f,SymbolNode:m}=t;function p(D,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},w={};g(w,D,b.name);var S=v(D,w);return x.simplify?i(S):S}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var h=e(A4,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),h._simplify=!0,h.toTex=function(D){return d.apply(null,D.args)};var d=e("_derivTex",{"Node, SymbolNode":function(b,x){return vt(b)&&Dt(b.value)==="string"?d(n(b.value).toString(),x.toString(),1):d(b.toTex(),x.toString(),1)},"Node, ConstantNode":function(b,x){if(Dt(x.value)==="string")return d(b,n(x.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(b,x,w){return d(b.toString(),x.name,w.value)},"string, string, number":function(b,x,w){var S;return w===1?S="{d\\over d"+x+"}":S="{d^{"+w+"}\\over d"+x+"^{"+w+"}}",S+"\\left[".concat(b,"\\right]")}}),g=e("constTag",{"Object, ConstantNode, string":function(b,x){return b[x]=!0,!0},"Object, SymbolNode, string":function(b,x,w){return x.name!==w?(b[x]=!0,!0):!1},"Object, ParenthesisNode, string":function(b,x,w){return g(b,x.content,w)},"Object, FunctionAssignmentNode, string":function(b,x,w){return x.params.indexOf(w)===-1?(b[x]=!0,!0):g(b,x.expr,w)},"Object, FunctionNode | OperatorNode, string":function(b,x,w){if(x.args.length>0){for(var S=g(b,x.args[0],w),E=1;E<x.args.length;++E)S=g(b,x.args[E],w)&&S;if(S)return b[x]=!0,!0}return!1}}),v=e("_derivative",{"ConstantNode, Object":function(b){return y(0)},"SymbolNode, Object":function(b,x){return x[b]!==void 0?y(0):y(1)},"ParenthesisNode, Object":function(b,x){return new f(v(b.content,x))},"FunctionAssignmentNode, Object":function(b,x){return x[b]!==void 0?y(0):v(b.expr,x)},"FunctionNode, Object":function(b,x){if(b.args.length!==1&&C(b),x[b]!==void 0)return y(0);var w=b.args[0],S,E=!1,F=!1,M;switch(b.name){case"cbrt":E=!0,M=new l("*","multiply",[y(3),new l("^","pow",[w,new l("/","divide",[y(2),y(3)])])]);break;case"sqrt":case"nthRoot":if(b.args.length===1)E=!0,M=new l("*","multiply",[y(2),new s("sqrt",[w])]);else if(b.args.length===2)return S=new l("/","divide",[y(1),b.args[1]]),x[S]=x[b.args[1]],v(new l("^","pow",[w,S]),x);break;case"log10":S=y(10);case"log":if(!S&&b.args.length===1)M=w.clone(),E=!0;else if(b.args.length===1&&S||b.args.length===2&&x[b.args[1]]!==void 0)M=new l("*","multiply",[w.clone(),new s("log",[S||b.args[1]])]),E=!0;else if(b.args.length===2)return v(new l("/","divide",[new s("log",[w]),new s("log",[b.args[1]])]),x);break;case"pow":return x[S]=x[b.args[1]],v(new l("^","pow",[w,b.args[1]]),x);case"exp":M=new s("exp",[w.clone()]);break;case"sin":M=new s("cos",[w.clone()]);break;case"cos":M=new l("-","unaryMinus",[new s("sin",[w.clone()])]);break;case"tan":M=new l("^","pow",[new s("sec",[w.clone()]),y(2)]);break;case"sec":M=new l("*","multiply",[b,new s("tan",[w.clone()])]);break;case"csc":F=!0,M=new l("*","multiply",[b,new s("cot",[w.clone()])]);break;case"cot":F=!0,M=new l("^","pow",[new s("csc",[w.clone()]),y(2)]);break;case"asin":E=!0,M=new s("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])])]);break;case"acos":E=!0,F=!0,M=new s("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])])]);break;case"atan":E=!0,M=new l("+","add",[new l("^","pow",[w.clone(),y(2)]),y(1)]);break;case"asec":E=!0,M=new l("*","multiply",[new s("abs",[w.clone()]),new s("sqrt",[new l("-","subtract",[new l("^","pow",[w.clone(),y(2)]),y(1)])])]);break;case"acsc":E=!0,F=!0,M=new l("*","multiply",[new s("abs",[w.clone()]),new s("sqrt",[new l("-","subtract",[new l("^","pow",[w.clone(),y(2)]),y(1)])])]);break;case"acot":E=!0,F=!0,M=new l("+","add",[new l("^","pow",[w.clone(),y(2)]),y(1)]);break;case"sinh":M=new s("cosh",[w.clone()]);break;case"cosh":M=new s("sinh",[w.clone()]);break;case"tanh":M=new l("^","pow",[new s("sech",[w.clone()]),y(2)]);break;case"sech":F=!0,M=new l("*","multiply",[b,new s("tanh",[w.clone()])]);break;case"csch":F=!0,M=new l("*","multiply",[b,new s("coth",[w.clone()])]);break;case"coth":F=!0,M=new l("^","pow",[new s("csch",[w.clone()]),y(2)]);break;case"asinh":E=!0,M=new s("sqrt",[new l("+","add",[new l("^","pow",[w.clone(),y(2)]),y(1)])]);break;case"acosh":E=!0,M=new s("sqrt",[new l("-","subtract",[new l("^","pow",[w.clone(),y(2)]),y(1)])]);break;case"atanh":E=!0,M=new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])]);break;case"asech":E=!0,F=!0,M=new l("*","multiply",[w.clone(),new s("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])])])]);break;case"acsch":E=!0,F=!0,M=new l("*","multiply",[new s("abs",[w.clone()]),new s("sqrt",[new l("+","add",[new l("^","pow",[w.clone(),y(2)]),y(1)])])]);break;case"acoth":E=!0,F=!0,M=new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])]);break;case"abs":M=new l("/","divide",[new s(new m("abs"),[w.clone()]),w.clone()]);break;case"gamma":default:throw new Error('Function "'+b.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var B,k;E?(B="/",k="divide"):(B="*",k="multiply");var R=v(w,x);return F&&(R=new l("-","unaryMinus",[R])),new l(B,k,[R,M])},"OperatorNode, Object":function(b,x){if(x[b]!==void 0)return y(0);if(b.op==="+")return new l(b.op,b.fn,b.args.map(function(T){return v(T,x)}));if(b.op==="-"){if(b.isUnary())return new l(b.op,b.fn,[v(b.args[0],x)]);if(b.isBinary())return new l(b.op,b.fn,[v(b.args[0],x),v(b.args[1],x)])}if(b.op==="*"){var w=b.args.filter(function(T){return x[T]!==void 0});if(w.length>0){var S=b.args.filter(function(T){return x[T]===void 0}),E=S.length===1?S[0]:new l("*","multiply",S),F=w.concat(v(E,x));return new l("*","multiply",F)}return new l("+","add",b.args.map(function(T){return new l("*","multiply",b.args.map(function(I){return I===T?v(I,x):I.clone()}))}))}if(b.op==="/"&&b.isBinary()){var M=b.args[0],B=b.args[1];return x[B]!==void 0?new l("/","divide",[v(M,x),B]):x[M]!==void 0?new l("*","multiply",[new l("-","unaryMinus",[M]),new l("/","divide",[v(B,x),new l("^","pow",[B.clone(),y(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[v(M,x),B.clone()]),new l("*","multiply",[M.clone(),v(B,x)])]),new l("^","pow",[B.clone(),y(2)])])}if(b.op==="^"&&b.isBinary()){var k=b.args[0],R=b.args[1];if(x[k]!==void 0)return vt(k)&&(o(k.value)||a(k.value,1))?y(0):new l("*","multiply",[b,new l("*","multiply",[new s("log",[k.clone()]),v(R.clone(),x)])]);if(x[R]!==void 0){if(vt(R)){if(o(R.value))return y(0);if(a(R.value,1))return v(k,x)}var P=new l("^","pow",[k.clone(),new l("-","subtract",[R,y(1)])]);return new l("*","multiply",[R.clone(),new l("*","multiply",[v(k,x),P])])}return new l("*","multiply",[new l("^","pow",[k.clone(),R.clone()]),new l("+","add",[new l("*","multiply",[v(k,x),new l("/","divide",[R.clone(),k.clone()])]),new l("*","multiply",[v(R,x),new s("log",[k.clone()])])])])}throw new Error('Operator "'+b.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function C(D){if(!((D.name==="log"||D.name==="nthRoot"||D.name==="pow")&&D.args.length===2)){for(var b=0;b<D.args.length;++b)D.args[b]=y(0);throw D.compile().evaluate(),new Error('Function "'+D.name+'" is not supported by derivative, or a wrong number of arguments is passed')}}function y(D,b){return new u(c(D,b||r.number))}return h});var N4="rationalize",yY=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],jb=A(N4,yY,t=>{var{config:e,typed:r,equal:n,isZero:i,add:a,subtract:o,multiply:c,divide:u,pow:s,parse:l,simplifyConstant:f,simplifyCore:m,simplify:p,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:C,ArrayNode:y,ConstantNode:D,FunctionNode:b,IndexNode:x,ObjectNode:w,OperatorNode:S,SymbolNode:E,ParenthesisNode:F}=t;function M(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=k(),J=B(T,I,!0,O.firstRules),$=J.variables.length,W={exactFractions:!1},q={exactFractions:!0};if(T=J.expression,$>=1){T=R(T);var te,ge,oe=!0,ce=!1;T=p(T,O.firstRules,{},W);for(var pe;ge=oe?O.distrDivRules:O.sucDivRules,T=p(T,ge,{},q),oe=!oe,pe=T.toString(),pe!==te;)ce=!0,te=pe;ce&&(T=p(T,O.firstRulesAgain,{},W)),T=p(T,O.finalRules,{},W)}var ue=[],ae={};return T.type==="OperatorNode"&&T.isBinary()&&T.op==="/"?($===1&&(T.args[0]=P(T.args[0],ue),T.args[1]=P(T.args[1])),V&&(ae.numerator=T.args[0],ae.denominator=T.args[1])):($===1&&(T=P(T,ue)),V&&(ae.numerator=T,ae.denominator=null)),V?(ae.coefficients=ue,ae.variables=J.variables,ae.expression=T,ae):T}return r(N4,{Node:M,"Node, boolean":(T,I)=>M(T,{},I),"Node, Object":M,"Node, Object, boolean":M});function B(T,I,V,O){var J=[],$=p(T,O,I,{exactFractions:!1});V=!!V;var W="+-*"+(V?"/":"");te($);var q={};return q.expression=$,q.variables=J,q;function te(ge){var oe=ge.type;if(oe==="FunctionNode")throw new Error("There is an unsolved function call");if(oe==="OperatorNode")if(ge.op==="^"){if(ge.args[1].type!=="ConstantNode"||!He(parseFloat(ge.args[1].value)))throw new Error("There is a non-integer exponent");te(ge.args[0])}else{if(W.indexOf(ge.op)===-1)throw new Error("Operator "+ge.op+" invalid in polynomial expression");for(var ce=0;ce<ge.args.length;ce++)te(ge.args[ce])}else if(oe==="SymbolNode"){var pe=ge.name,ue=J.indexOf(pe);ue===-1&&J.push(pe)}else if(oe==="ParenthesisNode")te(ge.content);else if(oe!=="ConstantNode")throw new Error("type "+oe+" is not allowed in polynomial expression")}}function k(){var T=[m,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],I=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],V=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],O=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],J={};return J.firstRules=T.concat(I,O),J.distrDivRules=V,J.sucDivRules=O,J.firstRulesAgain=T.concat(I),J.finalRules=[m,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],J}function R(T,I,V){var O=T.type,J=arguments.length>1;if(O==="OperatorNode"&&T.isBinary()){var $=!1,W;if(T.op==="^"&&(T.args[0].type==="ParenthesisNode"||T.args[0].type==="OperatorNode")&&T.args[1].type==="ConstantNode"&&(W=parseFloat(T.args[1].value),$=W>=2&&He(W)),$){if(W>2){var q=T.args[0],te=new S("^","pow",[T.args[0].cloneDeep(),new D(W-1)]);T=new S("*","multiply",[q,te])}else T=new S("*","multiply",[T.args[0],T.args[0].cloneDeep()]);J&&(V==="content"?I.content=T:I.args[V]=T)}}if(O==="ParenthesisNode")R(T.content,T,"content");else if(O!=="ConstantNode"&&O!=="SymbolNode")for(var ge=0;ge<T.args.length;ge++)R(T.args[ge],T,ge);if(!J)return T}function P(T,I){I===void 0&&(I=[]),I[0]=0;var V={};V.cte=1,V.oper="+",V.fire="";var O=0,J="";pe(T,null,V),O=I.length-1;for(var $=!0,W,q=O;q>=0;q--)if(I[q]!==0){var te=new D($?I[q]:Math.abs(I[q])),ge=I[q]<0?"-":"+";if(q>0){var oe=new E(J);if(q>1){var ce=new D(q);oe=new S("^","pow",[oe,ce])}I[q]===-1&&$?te=new S("-","unaryMinus",[oe]):Math.abs(I[q])===1?te=oe:te=new S("*","multiply",[te,oe])}$?W=te:ge==="+"?W=new S("+","add",[W,te]):W=new S("-","subtract",[W,te]),$=!1}if($)return new D(0);return W;function pe(ue,ae,me){var xe=ue.type;if(xe==="FunctionNode")throw new Error("There is an unsolved function call");if(xe==="OperatorNode"){if("+-*^".indexOf(ue.op)===-1)throw new Error("Operator "+ue.op+" invalid");if(ae!==null){if((ue.fn==="unaryMinus"||ue.fn==="pow")&&ae.fn!=="add"&&ae.fn!=="subtract"&&ae.fn!=="multiply")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="multiply")&&ae.fn!=="add"&&ae.fn!=="subtract")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="unaryMinus")&&me.noFil!==0)throw new Error("Invalid "+ue.op+" placing")}(ue.op==="^"||ue.op==="*")&&(me.fire=ue.op);for(var Re=0;Re<ue.args.length;Re++)ue.fn==="unaryMinus"&&(me.oper="-"),(ue.op==="+"||ue.fn==="subtract")&&(me.fire="",me.cte=1,me.oper=Re===0?"+":ue.op),me.noFil=Re,pe(ue.args[Re],ue,me)}else if(xe==="SymbolNode"){if(ue.name!==J&&J!=="")throw new Error("There is more than one variable");if(J=ue.name,ae===null){I[1]=1;return}if(ae.op==="^"&&me.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ae.op==="*"&&me.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(me.fire===""||me.fire==="*")&&(O<1&&(I[1]=0),I[1]+=me.cte*(me.oper==="+"?1:-1),O=Math.max(1,O))}else if(xe==="ConstantNode"){var We=parseFloat(ue.value);if(ae===null){I[0]=We;return}if(ae.op==="^"){if(me.noFil!==1)throw new Error("Constant cannot be powered");if(!He(We)||We<=0)throw new Error("Non-integer exponent is not allowed");for(var z=O+1;z<We;z++)I[z]=0;We>O&&(I[We]=0),I[We]+=me.cte*(me.oper==="+"?1:-1),O=Math.max(We,O);return}me.cte=We,me.fire===""&&(I[0]+=me.cte*(me.oper==="+"?1:-1))}else throw new Error("Type "+xe+" is not allowed")}}});var _4="zpk2tf",bY=["typed","add","multiply","Complex","number"],Zb=A(_4,bY,t=>{var{typed:e,add:r,multiply:n,Complex:i,number:a}=t;return e(_4,{"Array,Array,number":function(s,l,f){return o(s,l,f)},"Array,Array":function(s,l){return o(s,l,1)},"Matrix,Matrix,number":function(s,l,f){return o(s.valueOf(),l.valueOf(),f)},"Matrix,Matrix":function(s,l){return o(s.valueOf(),l.valueOf(),1)}});function o(u,s,l){u.some(C=>C.type==="BigNumber")&&(u=u.map(C=>a(C))),s.some(C=>C.type==="BigNumber")&&(s=s.map(C=>a(C)));for(var f=[i(1,0)],m=[i(1,0)],p=0;p<u.length;p++){var h=u[p];typeof h=="number"&&(h=i(h,0)),f=c(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<s.length;d++){var g=s[d];typeof g=="number"&&(g=i(g,0)),m=c(m,[i(1,0),i(-g.re,-g.im)])}for(var v=0;v<f.length;v++)f[v]=n(f[v],l);return[f,m]}function c(u,s){for(var l=[],f=0;f<u.length+s.length-1;f++){l[f]=i(0,0);for(var m=0;m<u.length;m++)f-m>=0&&f-m<s.length&&(l[f]=r(l[f],n(u[m],s[f-m])))}return l}});var M4="freqz",xY=["typed","add","multiply","Complex","divide","matrix"],Yb=A(M4,xY,t=>{var{typed:e,add:r,multiply:n,Complex:i,divide:a,matrix:o}=t;return e(M4,{"Array, Array":function(l,f){var m=u(512);return c(l,f,m)},"Array, Array, Array":function(l,f,m){return c(l,f,m)},"Array, Array, number":function(l,f,m){if(m<0)throw new Error("w must be a positive number");var p=u(m);return c(l,f,p)},"Matrix, Matrix":function(l,f){var m=u(512),{w:p,h}=c(l.valueOf(),f.valueOf(),m);return{w:o(p),h:o(h)}},"Matrix, Matrix, Matrix":function(l,f,m){var{h:p}=c(l.valueOf(),f.valueOf(),m.valueOf());return{h:o(p),w:o(m)}},"Matrix, Matrix, number":function(l,f,m){if(m<0)throw new Error("w must be a positive number");var p=u(m),{h}=c(l.valueOf(),f.valueOf(),p);return{h:o(h),w:o(p)}}});function c(s,l,f){for(var m=[],p=[],h=0;h<f.length;h++){for(var d=i(0,0),g=i(0,0),v=0;v<s.length;v++)d=r(d,n(s[v],i(Math.cos(-v*f[h]),Math.sin(-v*f[h]))));for(var C=0;C<l.length;C++)g=r(g,n(l[C],i(Math.cos(-C*f[h]),Math.sin(-C*f[h]))));m.push(d),p.push(g)}for(var y=[],D=0;D<m.length;D++)y.push(a(m[D],p[D]));return{h:y,w:f}}function u(s){for(var l=[],f=0;f<s;f++)l.push(f/s*Math.PI);return l}});var DY="reviver",wY=["classes"],Jb=A(DY,wY,t=>{var{classes:e}=t;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var EY="replacer",CY=[],Xb=A(EY,CY,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:r});var T4="12.0.0";var Qb=A("true",[],()=>!0),Kb=A("false",[],()=>!1),$b=A("null",[],()=>null),ex=Yn("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),tx=Yn("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),rx=Yn("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?nl(r):mA}),nx=Yn("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?O_(r):pA}),ix=Yn("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?I_(r):dA}),ax=Yn("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?B_(r):hA}),ox=Yn("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),sx=Yn("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),ux=Yn("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),lx=Yn("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),cx=Yn("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),fx=Yn("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),mx=Yn("i",["Complex"],t=>{var{Complex:e}=t;return e.I});var px=A("version",[],()=>T4);function Yn(t,e,r){return A(t,e,r,{recreateOnConfigChange:!0})}var dx=xt("speedOfLight","299792458","m s^-1"),hx=xt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),gx=xt("planckConstant","6.62607015e-34","J s"),vx=xt("reducedPlanckConstant","1.0545718176461565e-34","J s"),yx=xt("magneticConstant","1.25663706212e-6","N A^-2"),bx=xt("electricConstant","8.8541878128e-12","F m^-1"),xx=xt("vacuumImpedance","376.730313667","ohm"),Dx=xt("coulomb","8.987551792261171e9","N m^2 C^-2"),wx=xt("elementaryCharge","1.602176634e-19","C"),Ex=xt("bohrMagneton","9.2740100783e-24","J T^-1"),Cx=xt("conductanceQuantum","7.748091729863649e-5","S"),Fx=xt("inverseConductanceQuantum","12906.403729652257","ohm"),Sx=xt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Ax=xt("nuclearMagneton","5.0507837461e-27","J T^-1"),Nx=xt("klitzing","25812.807459304513","ohm");var _x=xt("bohrRadius","5.29177210903e-11","m"),Mx=xt("classicalElectronRadius","2.8179403262e-15","m"),Tx=xt("electronMass","9.1093837015e-31","kg"),Ix=xt("fermiCoupling","1.1663787e-5","GeV^-2"),Bx=Mm("fineStructure",.0072973525693),Ox=xt("hartreeEnergy","4.3597447222071e-18","J"),kx=xt("protonMass","1.67262192369e-27","kg"),Rx=xt("deuteronMass","3.3435830926e-27","kg"),Px=xt("neutronMass","1.6749271613e-27","kg"),Lx=xt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),qx=xt("rydberg","10973731.568160","m^-1"),Vx=xt("thomsonCrossSection","6.6524587321e-29","m^2"),Ux=Mm("weakMixingAngle",.2229),zx=Mm("efimovFactor",22.7),Wx=xt("atomicMass","1.66053906660e-27","kg"),Hx=xt("avogadro","6.02214076e23","mol^-1"),Gx=xt("boltzmann","1.380649e-23","J K^-1"),jx=xt("faraday","96485.33212331001","C mol^-1"),Zx=xt("firstRadiation","3.7417718521927573e-16","W m^2"),Yx=xt("loschmidt","2.686780111798444e25","m^-3"),Jx=xt("gasConstant","8.31446261815324","J K^-1 mol^-1"),Xx=xt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),Qx=xt("molarVolume","0.022413969545014137","m^3 mol^-1"),Kx=Mm("sackurTetrode",-1.16487052358),$x=xt("secondRadiation","0.014387768775039337","m K"),eD=xt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),tD=xt("wienDisplacement","2.897771955e-3","m K"),rD=xt("molarMass","0.99999999965e-3","kg mol^-1"),nD=xt("molarMassC12","11.9999999958e-3","kg mol^-1"),iD=xt("gravity","9.80665","m s^-2"),aD=xt("planckLength","1.616255e-35","m"),oD=xt("planckMass","2.176435e-8","kg"),sD=xt("planckTime","5.391245e-44","s"),uD=xt("planckCharge","1.87554603778e-18","C"),lD=xt("planckTemperature","1.416785e+32","K");function xt(t,e,r){var n=["config","Unit","BigNumber"];return A(t,n,i=>{var{config:a,Unit:o,BigNumber:c}=i,u=a.number==="BigNumber"?new c(e):parseFloat(e),s=new o(u,r);return s.fixPrefix=!0,s})}function Mm(t,e){var r=["config","BigNumber"];return A(t,r,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var FY="apply",SY=["typed","isInteger"],cD=A(FY,SY,t=>{var{typed:e,isInteger:r}=t,n=To({typed:e,isInteger:r});return e("apply",{"...any":function(a){var o=a[1];it(o)?a[1]=o-1:nt(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(c){throw Kt(c)}}})},{isTransformFunction:!0});var AY="column",NY=["typed","Index","matrix","range"],fD=A(AY,NY,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=Yu({typed:e,Index:r,matrix:n,range:i});return e("column",{"...any":function(c){var u=c.length-1,s=c[u];it(s)&&(c[u]=s-1);try{return a.apply(null,c)}catch(l){throw Kt(l)}}})},{isTransformFunction:!0});function qs(t,e,r){var n=t.filter(function(c){return Yt(c)&&!(c.name in e)&&!r.has(c.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=n.name,a=Bo(r),o=t.compile();return function(u){return a.set(i,u),o.evaluate(a)}}var _Y="filter",MY=["typed"],mD=A(_Y,MY,t=>{var{typed:e}=t;function r(i,a,o){var c,u;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(Yt(i[1])||Hi(i[1])?u=i[1].compile().evaluate(o):u=qs(i[1],a,o)),n(c,u)}r.rawArgs=!0;var n=e("filter",{"Array, function":I4,"Matrix, function":function(a,o){return a.create(I4(a.toArray(),o))},"Array, RegExp":Cs,"Matrix, RegExp":function(a,o){return a.create(Cs(a.toArray(),o))}});return r},{isTransformFunction:!0});function I4(t,e){return Mf(t,function(r,n,i){return li(e,r,[n+1],i,"filter")})}var TY="forEach",IY=["typed"],pD=A(TY,IY,t=>{var{typed:e}=t;function r(i,a,o){var c,u;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(Yt(i[1])||Hi(i[1])?u=i[1].compile().evaluate(o):u=qs(i[1],a,o)),n(c,u)}r.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var c=function u(s,l){if(Array.isArray(s))Va(s,function(f,m){u(f,l.concat(m+1))});else return li(o,s,l,a,"forEach")};c(a.valueOf(),[])}});return r},{isTransformFunction:!0});var BY="index",OY=["Index","getMatrixDataType"],dD=A(BY,OY,t=>{var{Index:e,getMatrixDataType:r}=t;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var c=arguments[a];if(Ds(c))c.start--,c.end-=c.step>0?0:2;else if(c&&c.isSet===!0)c=c.map(function(s){return s-1});else if(wt(c)||Ge(c))r(c)!=="boolean"&&(c=c.map(function(s){return s-1}));else if(it(c))c--;else if(nt(c))c=c.toNumber()-1;else if(typeof c!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=c}var u=new e;return e.apply(u,i),u}},{isTransformFunction:!0});var kY="map",RY=["typed"],hD=A(kY,RY,t=>{var{typed:e}=t;function r(i,a,o){var c,u;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(Yt(i[1])||Hi(i[1])?u=i[1].compile().evaluate(o):u=qs(i[1],a,o)),n(c,u)}r.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return B4(a,o,a)},"Matrix, function":function(a,o){return a.create(B4(a.valueOf(),o,a))}});return r},{isTransformFunction:!0});function B4(t,e,r){function n(i,a){return Array.isArray(i)?On(i,function(o,c){return n(o,a.concat(c+1))}):li(e,i,a,r,"map")}return n(t,[])}function yn(t){if(t.length===2&&Sn(t[0])){t=t.slice();var e=t[1];it(e)?t[1]=e-1:nt(e)&&(t[1]=e.minus(1))}return t}var PY="max",LY=["typed","config","numeric","larger"],gD=A(PY,LY,t=>{var{typed:e,config:r,numeric:n,larger:i}=t,a=tl({typed:e,config:r,numeric:n,larger:i});return e("max",{"...any":function(c){c=yn(c);try{return a.apply(null,c)}catch(u){throw Kt(u)}}})},{isTransformFunction:!0});var qY="mean",VY=["typed","add","divide"],vD=A(qY,VY,t=>{var{typed:e,add:r,divide:n}=t,i=sl({typed:e,add:r,divide:n});return e("mean",{"...any":function(o){o=yn(o);try{return i.apply(null,o)}catch(c){throw Kt(c)}}})},{isTransformFunction:!0});var UY="min",zY=["typed","config","numeric","smaller"],yD=A(UY,zY,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t,a=rl({typed:e,config:r,numeric:n,smaller:i});return e("min",{"...any":function(c){c=yn(c);try{return a.apply(null,c)}catch(u){throw Kt(u)}}})},{isTransformFunction:!0});var WY="range",HY=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],bD=A(WY,HY,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:u,add:s,isPositive:l}=t,f=Qu({typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:u,add:s,isPositive:l});return e("range",{"...any":function(p){var h=p.length-1,d=p[h];return typeof d!="boolean"&&p.push(!0),f.apply(null,p)}})},{isTransformFunction:!0});var GY="row",jY=["typed","Index","matrix","range"],xD=A(GY,jY,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=Ku({typed:e,Index:r,matrix:n,range:i});return e("row",{"...any":function(c){var u=c.length-1,s=c[u];it(s)&&(c[u]=s-1);try{return a.apply(null,c)}catch(l){throw Kt(l)}}})},{isTransformFunction:!0});var ZY="subset",YY=["typed","matrix","zeros","add"],DD=A(ZY,YY,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=$u({typed:e,matrix:r,zeros:n,add:i});return e("subset",{"...any":function(c){try{return a.apply(null,c)}catch(u){throw Kt(u)}}})},{isTransformFunction:!0});var JY="concat",XY=["typed","matrix","isInteger"],wD=A(JY,XY,t=>{var{typed:e,matrix:r,isInteger:n}=t,i=Zu({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(o){var c=o.length-1,u=o[c];it(u)?o[c]=u-1:nt(u)&&(o[c]=u.minus(1));try{return i.apply(null,o)}catch(s){throw Kt(s)}}})},{isTransformFunction:!0});var O4="diff",QY=["typed","matrix","subtract","number","bignumber"],ED=A(O4,QY,t=>{var{typed:e,matrix:r,subtract:n,number:i,bignumber:a}=t,o=Xu({typed:e,matrix:r,subtract:n,number:i,bignumber:a});return e(O4,{"...any":function(u){u=yn(u);try{return o.apply(null,u)}catch(s){throw Kt(s)}}})},{isTransformFunction:!0});var KY="std",$Y=["typed","map","sqrt","variance"],CD=A(KY,$Y,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t,a=cl({typed:e,map:r,sqrt:n,variance:i});return e("std",{"...any":function(c){c=yn(c);try{return a.apply(null,c)}catch(u){throw Kt(u)}}})},{isTransformFunction:!0});var k4="sum",eJ=["typed","config","add","numeric"],FD=A(k4,eJ,t=>{var{typed:e,config:r,add:n,numeric:i}=t,a=al({typed:e,config:r,add:n,numeric:i});return e(k4,{"...any":function(c){c=yn(c);try{return a.apply(null,c)}catch(u){throw Kt(u)}}})},{isTransformFunction:!0});var tJ="quantileSeq",rJ=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],SD=A(tJ,rJ,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:u,isInteger:s,smaller:l,smallerEq:f,larger:m}=t,p=ll({typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:u,isInteger:s,smaller:l,smallerEq:f,larger:m});return e("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(d,g,v)=>p(d,g,h(v)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(d,g,v,C)=>p(d,g,v,h(C)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(d,g,v)=>p(d,g,h(v)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(d,g,v,C)=>p(d,g,v,h(C))});function h(d){return yn([[],d])[1]}},{isTransformFunction:!0});var R4="cumsum",nJ=["typed","add","unaryPlus"],AD=A(R4,nJ,t=>{var{typed:e,add:r,unaryPlus:n}=t,i=ol({typed:e,add:r,unaryPlus:n});return e(R4,{"...any":function(o){if(o.length===2&&Sn(o[0])){var c=o[1];it(c)?o[1]=c-1:nt(c)&&(o[1]=c.minus(1))}try{return i.apply(null,o)}catch(u){throw Kt(u)}}})},{isTransformFunction:!0});var P4="variance",iJ=["typed","add","subtract","multiply","divide","apply","isNaN"],ND=A(P4,iJ,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:c}=t,u=ul({typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:c});return e(P4,{"...any":function(l){l=yn(l);try{return u.apply(null,l)}catch(f){throw Kt(f)}}})},{isTransformFunction:!0});var L4="print",aJ=["typed","matrix","zeros","add"],_D=A(L4,aJ,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=el({typed:e,matrix:r,zeros:n,add:i});return e(L4,{"string, Object | Array":function(u,s){return a(o(u),s)},"string, Object | Array, number | Object":function(u,s,l){return a(o(u),s,l)}});function o(c){return c.replace(Qf,u=>{var s=u.slice(1).split("."),l=s.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+l.join(".")})}},{isTransformFunction:!0});var Ue=Zh({config:Ee}),$t=Jh({}),MD=ix({BigNumber:Ue,config:Ee}),q4=Kb({}),V4=Bx({BigNumber:Ue,config:Ee}),Xa=Qh({}),TD=mx({Complex:$t}),U4=ex({BigNumber:Ue,config:Ee}),z4=sx({BigNumber:Ue,config:Ee}),W4=lx({BigNumber:Ue,config:Ee}),pl=$h({}),H4=tx({BigNumber:Ue,config:Ee}),G4=$b({}),j4=ax({BigNumber:Ue,config:Ee}),Z4=Kh({}),ID=Vh({}),Y4=cx({BigNumber:Ue,config:Ee}),J4=Kx({BigNumber:Ue,config:Ee}),BD=nx({BigNumber:Ue,config:Ee}),X4=Qb({}),Q4=px({}),Ct=eg({Matrix:pl}),K4=zx({BigNumber:Ue,config:Ee}),$4=ox({BigNumber:Ue,config:Ee}),Tm=rx({BigNumber:Ue,config:Ee}),ek=Xb({}),tk=fx({BigNumber:Ue,config:Ee}),Q=qh({BigNumber:Ue,Complex:$t,DenseMatrix:Ct,Fraction:Xa}),Im=Ev({BigNumber:Ue,config:Ee,typed:Q}),rk=Ux({BigNumber:Ue,config:Ee}),bn=Cv({typed:Q}),nk=_y({Complex:$t,config:Ee,typed:Q}),ik=Ty({BigNumber:Ue,typed:Q}),ak=By({BigNumber:Ue,Complex:$t,config:Ee,typed:Q}),kr=Fv({typed:Q}),ok=r0({typed:Q}),sk=Ry({BigNumber:Ue,Complex:$t,config:Ee,typed:Q}),uk=Ly({typed:Q}),OD=qy({typed:Q}),lk=Uy({Complex:$t,config:Ee,typed:Q}),Ln=dv({BigNumber:Ue,typed:Q}),ck=$v({typed:Q}),fk=pv({typed:Q}),mk=tg({typed:Q}),dl=hb({typed:Q}),hl=hv({Complex:$t,typed:Q}),Qa=n0({typed:Q}),Bm=zy({typed:Q}),pk=Hy({BigNumber:Ue,typed:Q}),dk=jy({BigNumber:Ue,typed:Q}),hk=Mv({typed:Q}),Tt=lv({config:Ee,typed:Q}),gk=O0({typed:Q}),kD=Tv({typed:Q}),vk=Iv({Complex:$t,typed:Q}),yk=m0({typed:Q}),bk=d0({typed:Q}),Vs=L0({typed:Q}),Om=h0({typed:Q}),xk=U0({format:Vs,typed:Q}),km=i0({typed:Q}),Nn=ng({typed:Q}),ha=rv({typed:Q}),Ka=av({typed:Q}),mi=ov({typed:Q}),Dk=ux({BigNumber:Ue,config:Ee}),wk=yb({Complex:$t,typed:Q}),Ek=qv({Complex:$t,config:Ee,typed:Q}),RD=Vv({Complex:$t,config:Ee,typed:Q}),$a=y0({typed:Q}),yr=Uv({typed:Q}),PD=o0({typed:Q}),Xi=fv({typed:Q}),Ck=V0({format:Vs,typed:Q}),Fk=Mb({config:Ee,typed:Q}),Sk=el({typed:Q}),Ak=Tb({config:Ee,typed:Q}),Rm=a0({typed:Q}),Nk=Yy({BigNumber:Ue,typed:Q}),LD=Hv({BigNumber:Ue,Fraction:Xa,complex:hl,typed:Q}),gl=Xy({typed:Q}),Qi=cv({Matrix:pl,equalScalar:Tt,typed:Q}),_k=Dv({typed:Q}),Mk=jv({typed:Q}),Tk=mv({typed:Q}),Jn=Sv({typed:Q}),Ik=Ky({typed:Q}),qD=uv({typed:Q}),Bk=My({Complex:$t,config:Ee,typed:Q}),Ok=Oy({BigNumber:Ue,typed:Q}),Pm=To({isInteger:Nn,typed:Q}),kk=ky({BigNumber:Ue,Complex:$t,config:Ee,typed:Q}),Rk=q0({format:Vs,typed:Q}),Pk=gb({typed:Q}),Lk=Wy({typed:Q}),qk=Zy({BigNumber:Ue,typed:Q}),Us=sv({typed:Q}),Vk=W0({typed:Q}),Uk=Ib({config:Ee,typed:Q}),zk=Jy({BigNumber:Ue,typed:Q}),Wk=Qy({typed:Q}),Hk=Ay({SparseMatrix:Qi,typed:Q}),pi=Gv({Complex:$t,config:Ee,typed:Q}),Gk=$y({typed:Q}),Ti=wv({typed:Q}),jk=Iy({BigNumber:Ue,Complex:$t,config:Ee,typed:Q}),Zk=Gy({BigNumber:Ue,typed:Q}),ko=gv({Fraction:Xa,typed:Q}),eo=nv({typed:Q}),ze=vv({DenseMatrix:Ct,Matrix:pl,SparseMatrix:Qi,typed:Q}),Yk=yv({isZero:mi,matrix:ze,typed:Q}),Jk=R0({isNaN:Us,isNumeric:eo,typed:Q}),di=H0({bignumber:Ln,fraction:ko,number:Xi}),VD=P0({config:Ee,multiplyScalar:yr,numeric:di,typed:Q}),UD=x0({isInteger:Nn,matrix:ze,typed:Q}),Yr=C0({matrix:ze,config:Ee,typed:Q}),Xk=F0({matrix:ze,typed:Q}),zs=S0({matrix:ze,typed:Q}),zD=Yv({BigNumber:Ue,config:Ee,matrix:ze,typed:Q}),xn=N0({BigNumber:Ue,config:Ee,matrix:ze,typed:Q}),Qk=Py({Complex:$t,config:Ee,typed:Q}),WD=Av({BigNumber:Ue,Complex:$t,Fraction:Xa,config:Ee,isNegative:ha,matrix:ze,typed:Q,unaryMinus:Ti}),Ht=Zu({isInteger:Nn,matrix:ze,typed:Q}),Kk=l0({prod:VD,size:Yr,typed:Q}),Lm=A0({conj:Qa,transpose:zs,typed:Q}),HD=f0({DenseMatrix:Ct,SparseMatrix:Qi,matrix:ze,typed:Q}),mr=G0({numeric:di,typed:Q}),Ws=K0({DenseMatrix:Ct,concat:Ht,divideScalar:mr,equalScalar:Tt,matrix:ze,typed:Q}),Xn=cy({DenseMatrix:Ct,concat:Ht,equalScalar:Tt,matrix:ze,typed:Q}),Hs=p0({matrix:ze,typed:Q}),$k=iv({isNumeric:eo,typed:Q}),ga=g0({BigNumber:Ue,DenseMatrix:Ct,SparseMatrix:Qi,config:Ee,matrix:ze,typed:Q}),eR=v0({matrix:ze,multiplyScalar:yr,typed:Q}),vl=hy({DenseMatrix:Ct,concat:Ht,config:Ee,matrix:ze,typed:Q}),tR=ny({DenseMatrix:Ct,concat:Ht,equalScalar:Tt,matrix:ze,typed:Q,zeros:xn}),GD=$0({DenseMatrix:Ct,divideScalar:mr,equalScalar:Tt,matrix:ze,multiplyScalar:yr,subtractScalar:Jn,typed:Q}),qm=xv({flatten:Hs,matrix:ze,size:Yr,typed:Q}),rR=Wv({BigNumber:Ue,concat:Ht,equalScalar:Tt,matrix:ze,typed:Q}),nR=b0({BigNumber:Ue,config:Ee,matrix:ze,typed:Q}),Vm=U1({addScalar:kr,complex:hl,conj:Qa,divideScalar:mr,equal:Xn,identity:ga,isZero:mi,matrix:ze,multiplyScalar:yr,sign:LD,sqrt:pi,subtractScalar:Jn,typed:Q,unaryMinus:Ti,zeros:xn}),iR=D0({config:Ee,matrix:ze}),aR=iy({DenseMatrix:Ct,concat:Ht,equalScalar:Tt,matrix:ze,typed:Q,zeros:xn}),Ro=Z0({BigNumber:Ue,DenseMatrix:Ct,equalScalar:Tt,matrix:ze,typed:Q,zeros:xn}),Dn=my({DenseMatrix:Ct,concat:Ht,config:Ee,matrix:ze,typed:Q}),br=Zv({DenseMatrix:Ct,concat:Ht,equalScalar:Tt,matrix:ze,subtractScalar:Jn,typed:Q,unaryMinus:Ti}),oR=z0({concat:Ht,matrix:ze,typed:Q}),sR=vy({DenseMatrix:Ct,concat:Ht,config:Ee,equalScalar:Tt,matrix:ze,typed:Q}),Um=ey({DenseMatrix:Ct,divideScalar:mr,equalScalar:Tt,matrix:ze,multiplyScalar:yr,subtractScalar:Jn,typed:Q}),uR=u0({DenseMatrix:Ct,concat:Ht,matrix:ze,typed:Q}),It=c1({DenseMatrix:Ct,SparseMatrix:Qi,addScalar:kr,concat:Ht,equalScalar:Tt,matrix:ze,typed:Q}),lR=Vy({BigNumber:Ue,DenseMatrix:Ct,concat:Ht,equalScalar:Tt,matrix:ze,typed:Q}),cR=Kv({concat:Ht,equalScalar:Tt,matrix:ze,typed:Q}),fR=t0({DenseMatrix:Ct,concat:Ht,matrix:ze,typed:Q}),mR=kb({addScalar:kr,combinations:dl,divideScalar:mr,isInteger:Nn,isNegative:ha,multiplyScalar:yr,typed:Q}),to=sy({BigNumber:Ue,DenseMatrix:Ct,Fraction:Xa,concat:Ht,config:Ee,equalScalar:Tt,matrix:ze,typed:Q}),jD=ly({concat:Ht,matrix:ze,typed:Q}),pR=ol({add:It,typed:Q,unaryPlus:Im}),zm=gy({equal:Xn,typed:Q}),dR=Xu({matrix:ze,number:Xi,subtract:br,typed:Q}),hR=lb({abs:bn,addScalar:kr,deepEqual:zm,divideScalar:mr,multiplyScalar:yr,sqrt:pi,subtractScalar:Jn,typed:Q}),yl=p1({addScalar:kr,conj:Qa,multiplyScalar:yr,size:Yr,typed:Q}),gR=fy({compareText:jD,isZero:mi,typed:Q}),ZD=Gu({DenseMatrix:Ct,config:Ee,equalScalar:Tt,matrix:ze,round:Ro,typed:Q,zeros:xn}),vR=Pv({BigNumber:Ue,DenseMatrix:Ct,concat:Ht,config:Ee,equalScalar:Tt,matrix:ze,round:Ro,typed:Q,zeros:xn}),yR=f1({abs:bn,addScalar:kr,divideScalar:mr,isPositive:Ka,multiplyScalar:yr,smaller:Dn,sqrt:pi,typed:Q}),YD=xy({DenseMatrix:Ct,smaller:Dn}),mn=Dy({ImmutableDenseMatrix:YD,getMatrixDataType:Om}),wn=dy({DenseMatrix:Ct,concat:Ht,config:Ee,matrix:ze,typed:Q}),Wm=Y0({Complex:$t,config:Ee,divideScalar:mr,typed:Q}),bR=ty({DenseMatrix:Ct,divideScalar:mr,equalScalar:Tt,matrix:ze,multiplyScalar:yr,subtractScalar:Jn,typed:Q}),xR=bv({flatten:Hs,matrix:ze,size:Yr,typed:Q}),DR=rl({config:Ee,numeric:di,smaller:Dn,typed:Q}),JD=ju({DenseMatrix:Ct,concat:Ht,config:Ee,equalScalar:Tt,matrix:ze,round:Ro,typed:Q,zeros:xn}),Gt=zv({addScalar:kr,dot:yl,equalScalar:Tt,matrix:ze,multiplyScalar:yr,typed:Q}),wR=X0({Complex:$t,config:Ee,divideScalar:mr,typed:Q}),ER=s0({DenseMatrix:Ct,concat:Ht,equalScalar:Tt,matrix:ze,typed:Q}),bl=yy({compare:to,isNaN:Us,isNumeric:eo,typed:Q}),CR=ay({DenseMatrix:Ct,concat:Ht,equalScalar:Tt,matrix:ze,typed:Q,zeros:xn}),XD=W1({SparseMatrix:Qi,abs:bn,add:It,divideScalar:mr,larger:wn,largerEq:vl,multiply:Gt,subtract:br,transpose:zs,typed:Q}),qn=$u({add:It,matrix:ze,typed:Q,zeros:xn}),Hm=al({add:It,config:Ee,numeric:di,typed:Q}),FR=d1({add:It,matrix:ze,typed:Q}),QD=ry({DenseMatrix:Ct,divideScalar:mr,equalScalar:Tt,matrix:ze,multiplyScalar:yr,subtractScalar:Jn,typed:Q}),SR=Zb({Complex:$t,add:It,multiply:Gt,number:Xi,typed:Q}),AR=e0({DenseMatrix:Ct,concat:Ht,equalScalar:Tt,matrix:ze,typed:Q}),Gm=_v({DenseMatrix:Ct,config:Ee,equalScalar:Tt,matrix:ze,round:Ro,typed:Q,zeros:xn}),Ii=uy({compare:to,typed:Q}),NR=Rb({addScalar:kr,combinations:dl,isInteger:Nn,isNegative:ha,isPositive:Ka,larger:wn,typed:Q}),_R=c0({matrix:ze,multiply:Gt,subtract:br,typed:Q}),KD=$1({divideScalar:mr,isZero:mi,matrix:ze,multiply:Gt,subtractScalar:Jn,typed:Q,unaryMinus:Ti}),MR=Xv({concat:Ht,equalScalar:Tt,matrix:ze,multiplyScalar:yr,typed:Q}),$D=wy({larger:wn,smaller:Dn}),ew=Ov({Complex:$t,DenseMatrix:Ct,ceil:Gm,equalScalar:Tt,floor:ZD,matrix:ze,typed:Q,zeros:xn}),tw=h1({Index:mn,typed:Q}),TR=cb({abs:bn,add:It,addScalar:kr,config:Ee,divideScalar:mr,equalScalar:Tt,flatten:Hs,isNumeric:eo,isZero:mi,matrix:ze,multiply:Gt,multiplyScalar:yr,smaller:Dn,subtract:br,typed:Q}),IR=Jv({BigNumber:Ue,add:It,config:Ee,equal:Xn,isInteger:Nn,mod:JD,smaller:Dn,typed:Q,xgcd:zD}),BR=Lv({concat:Ht,equalScalar:Tt,matrix:ze,typed:Q}),OR=J0({Complex:$t,config:Ee,divideScalar:mr,log:Wm,typed:Q}),jm=tl({config:Ee,larger:wn,numeric:di,typed:Q}),kR=e1({DenseMatrix:Ct,Index:mn,compareNatural:Ii,size:Yr,subset:qn,typed:Q}),RR=r1({DenseMatrix:Ct,Index:mn,compareNatural:Ii,size:Yr,subset:qn,typed:Q}),PR=i1({Index:mn,compareNatural:Ii,size:Yr,subset:qn,typed:Q}),LR=o1({Index:mn,compareNatural:Ii,size:Yr,subset:qn,typed:Q}),Po=py({DenseMatrix:Ct,concat:Ht,config:Ee,matrix:ze,typed:Q}),qR=by({compare:to,compareNatural:Ii,matrix:ze,typed:Q}),VR=oy({concat:Ht,equalScalar:Tt,matrix:ze,not:PD,typed:Q,zeros:xn}),Lo=Qu({bignumber:Ln,matrix:ze,add:It,config:Ee,isPositive:Ka,larger:wn,largerEq:vl,smaller:Dn,smallerEq:Po,typed:Q}),UR=Ku({Index:mn,matrix:ze,range:Lo,typed:Q}),rw=t1({DenseMatrix:Ct,Index:mn,compareNatural:Ii,size:Yr,subset:qn,typed:Q}),zR=a1({Index:mn,compareNatural:Ii,size:Yr,subset:qn,typed:Q}),nw=u1({Index:mn,concat:Ht,setDifference:rw,size:Yr,subset:qn,typed:Q}),iw=Ey({FibonacciHeap:$D,addScalar:kr,equalScalar:Tt}),aw=Yu({Index:mn,matrix:ze,range:Lo,typed:Q}),ro=eb({abs:bn,addScalar:kr,det:KD,divideScalar:mr,identity:ga,matrix:ze,multiply:Gt,typed:Q,unaryMinus:Ti}),ow=V1({DenseMatrix:Ct,Spa:iw,SparseMatrix:Qi,abs:bn,addScalar:kr,divideScalar:mr,equalScalar:Tt,larger:wn,matrix:ze,multiplyScalar:yr,subtractScalar:Jn,typed:Q,unaryMinus:Ti}),WR=tb({Complex:$t,add:It,ctranspose:Lm,deepEqual:zm,divideScalar:mr,dot:yl,dotDivide:Ws,equal:Xn,inv:ro,matrix:ze,multiply:Gt,typed:Q}),Qn=j0({Complex:$t,config:Ee,fraction:ko,identity:ga,inv:ro,matrix:ze,multiply:Gt,number:Xi,typed:Q}),sw=n1({DenseMatrix:Ct,Index:mn,compareNatural:Ii,size:Yr,subset:qn,typed:Q}),HR=l1({Index:mn,concat:Ht,setIntersect:sw,setSymDifference:nw,size:Yr,subset:qn,typed:Q}),GR=ib({abs:bn,add:It,identity:ga,inv:ro,map:$a,max:jm,multiply:Gt,size:Yr,sqrt:pi,subtract:br,typed:Q}),gt=Fy({BigNumber:Ue,Complex:$t,Fraction:Xa,abs:bn,addScalar:kr,config:Ee,divideScalar:mr,equal:Xn,fix:ew,format:Vs,isNumeric:eo,multiplyScalar:yr,number:Xi,pow:Qn,round:Ro,subtractScalar:Jn}),jR=xx({BigNumber:Ue,Unit:gt,config:Ee}),ZR=tD({BigNumber:Ue,Unit:gt,config:Ee}),YR=Wx({BigNumber:Ue,Unit:gt,config:Ee}),JR=Ex({BigNumber:Ue,Unit:gt,config:Ee}),XR=Gx({BigNumber:Ue,Unit:gt,config:Ee}),QR=Cx({BigNumber:Ue,Unit:gt,config:Ee}),KR=Dx({BigNumber:Ue,Unit:gt,config:Ee}),$R=Rx({BigNumber:Ue,Unit:gt,config:Ee}),e8=Q0({DenseMatrix:Ct,concat:Ht,equalScalar:Tt,matrix:ze,pow:Qn,typed:Q}),t8=bx({BigNumber:Ue,Unit:gt,config:Ee}),r8=wx({BigNumber:Ue,Unit:gt,config:Ee}),n8=nb({abs:bn,add:It,identity:ga,inv:ro,multiply:Gt,typed:Q}),i8=jx({BigNumber:Ue,Unit:gt,config:Ee}),uw=_0({addScalar:kr,ceil:Gm,conj:Qa,divideScalar:mr,dotDivide:Ws,exp:kD,i:TD,log2:RD,matrix:ze,multiplyScalar:yr,pow:Qn,tau:BD,typed:Q}),Zm=vb({BigNumber:Ue,Complex:$t,config:Ee,multiplyScalar:yr,pow:Qn,typed:Q}),a8=hx({BigNumber:Ue,Unit:gt,config:Ee}),o8=Ox({BigNumber:Ue,Unit:gt,config:Ee}),s8=M0({conj:Qa,dotDivide:Ws,fft:uw,typed:Q}),u8=Nx({BigNumber:Ue,Unit:gt,config:Ee}),l8=Yx({BigNumber:Ue,Unit:gt,config:Ee}),c8=yx({BigNumber:Ue,Unit:gt,config:Ee}),f8=rD({BigNumber:Ue,Unit:gt,config:Ee}),m8=Xx({BigNumber:Ue,Unit:gt,config:Ee}),p8=Px({BigNumber:Ue,Unit:gt,config:Ee}),d8=Ax({BigNumber:Ue,Unit:gt,config:Ee}),h8=uD({BigNumber:Ue,Unit:gt,config:Ee}),g8=aD({BigNumber:Ue,Unit:gt,config:Ee}),v8=lD({BigNumber:Ue,Unit:gt,config:Ee}),y8=kx({BigNumber:Ue,Unit:gt,config:Ee}),b8=Lx({BigNumber:Ue,Unit:gt,config:Ee}),x8=vx({BigNumber:Ue,Unit:gt,config:Ee}),D8=qx({BigNumber:Ue,Unit:gt,config:Ee}),w8=$x({BigNumber:Ue,Unit:gt,config:Ee}),E8=dx({BigNumber:Ue,Unit:gt,config:Ee}),C8=eD({BigNumber:Ue,Unit:gt,config:Ee}),F8=Vx({BigNumber:Ue,Unit:gt,config:Ee}),S8=Hx({BigNumber:Ue,Unit:gt,config:Ee}),A8=_x({BigNumber:Ue,Unit:gt,config:Ee}),N8=Ny({Unit:gt,typed:Q}),zr=ub({divideScalar:mr,equalScalar:Tt,inv:ro,matrix:ze,multiply:Gt,typed:Q}),_8=Tx({BigNumber:Ue,Unit:gt,config:Ee}),Gs=bb({gamma:Zm,typed:Q}),M8=Zx({BigNumber:Ue,Unit:gt,config:Ee}),T8=iD({BigNumber:Ue,Unit:gt,config:Ee}),I8=Fx({BigNumber:Ue,Unit:gt,config:Ee}),lw=G1({DenseMatrix:Ct,lsolve:GD,lup:ow,matrix:ze,slu:XD,typed:Q,usolve:Um}),B8=Sx({BigNumber:Ue,Unit:gt,config:Ee}),O8=nD({BigNumber:Ue,Unit:gt,config:Ee}),k8=Db({add:It,divide:zr,factorial:Gs,isInteger:Nn,isPositive:Ka,multiply:Gt,typed:Q}),R8=wb({factorial:Gs,typed:Q}),P8=oD({BigNumber:Ue,Unit:gt,config:Ee}),L8=j1({add:It,cbrt:WD,divide:zr,equalScalar:Tt,im:km,isZero:mi,multiply:Gt,re:Rm,sqrt:pi,subtract:br,typeOf:qD,typed:Q,unaryMinus:Ti}),q8=s1({compareNatural:Ii,typed:Q}),V8=B0({abs:bn,add:It,bignumber:Ln,divide:zr,isNegative:ha,isPositive:Ka,larger:wn,map:$a,matrix:ze,max:jm,multiply:Gt,smaller:Dn,subtract:br,typed:Q,unaryMinus:Ti}),cw=Bb({bignumber:Ln,addScalar:kr,combinations:dl,divideScalar:mr,factorial:Gs,isInteger:Nn,isNegative:ha,larger:wn,multiplyScalar:yr,number:Xi,pow:Qn,subtractScalar:Jn,typed:Q}),U8=Sy({Unit:gt,typed:Q}),z8=Ob({addScalar:kr,isInteger:Nn,isNegative:ha,stirlingS2:cw,typed:Q}),fw=rb({abs:bn,add:It,addScalar:kr,atan:OD,bignumber:Ln,column:aw,complex:hl,config:Ee,cos:Bm,diag:HD,divideScalar:mr,dot:yl,equal:Xn,flatten:Hs,im:km,inv:ro,larger:wn,matrix:ze,matrixFromColumns:qm,multiply:Gt,multiplyScalar:yr,number:Xi,qr:Vm,re:Rm,reshape:UD,sin:gl,size:Yr,smaller:Dn,sqrt:pi,subtract:br,typed:Q,usolve:Um,usolveAll:QD}),W8=Ix({BigNumber:Ue,Unit:gt,config:Ee}),H8=Jx({BigNumber:Ue,Unit:gt,config:Ee}),mw=sl({add:It,divide:zr,typed:Q}),G8=Qx({BigNumber:Ue,Unit:gt,config:Ee}),j8=gx({BigNumber:Ue,Unit:gt,config:Ee}),Z8=ll({bignumber:Ln,add:It,compare:to,divide:zr,isInteger:Nn,larger:wn,multiply:Gt,partitionSelect:bl,smaller:Dn,smallerEq:Po,subtract:br,typed:Q}),Ym=ul({add:It,apply:Pm,divide:zr,isNaN:Us,multiply:Gt,subtract:br,typed:Q}),Y8=Mx({BigNumber:Ue,Unit:gt,config:Ee}),pw=fb({add:It,compare:to,divide:zr,partitionSelect:bl,typed:Q}),J8=db({add:It,divide:zr,matrix:ze,mean:mw,multiply:Gt,pow:Qn,sqrt:pi,subtract:br,sum:Hm,typed:Q}),X8=Yb({Complex:$t,add:It,divide:zr,matrix:ze,multiply:Gt,typed:Q}),Q8=mb({abs:bn,map:$a,median:pw,subtract:br,typed:Q}),K8=cl({map:$a,sqrt:pi,typed:Q,variance:Ym}),$8=k0({BigNumber:Ue,Complex:$t,add:It,config:Ee,divide:zr,equal:Xn,factorial:Gs,gamma:Zm,isNegative:ha,multiply:Gt,pi:Tm,pow:Qn,sin:gl,smallerEq:Po,subtract:br,typed:Q}),Jm=m1({abs:bn,add:It,conj:Qa,ctranspose:Lm,eigs:fw,equalScalar:Tt,larger:wn,matrix:ze,multiply:Gt,pow:Qn,smaller:Dn,sqrt:pi,typed:Q}),dw=E0({BigNumber:Ue,DenseMatrix:Ct,SparseMatrix:Qi,addScalar:kr,config:Ee,cos:Bm,matrix:ze,multiplyScalar:yr,norm:Jm,sin:gl,typed:Q,unaryMinus:Ti}),e6=xb({divide:zr,dotDivide:Ws,isNumeric:eo,log:Wm,map:$a,matrix:ze,multiply:Gt,sum:Hm,typed:Q}),t6=sD({BigNumber:Ue,Unit:gt,config:Ee}),hw=ob({identity:ga,matrix:ze,multiply:Gt,norm:Jm,qr:Vm,subtract:br,typed:Q}),r6=w0({multiply:Gt,rotationMatrix:dw,typed:Q}),gw=ab({abs:bn,add:It,concat:Ht,identity:ga,index:tw,lusolve:lw,matrix:ze,matrixFromColumns:qm,multiply:Gt,range:Lo,schur:hw,subset:qn,subtract:br,transpose:zs,typed:Q}),n6=sb({matrix:ze,multiply:Gt,sylvester:gw,transpose:zs,typed:Q});var js={},Zs={},i6={},En=g1({mathWithTransform:Zs}),Ys=N1({Node:En}),va=_1({Node:En}),qo=M1({Node:En}),a6=I1({Node:En}),Js=y1({Node:En}),o6=x1({Node:En,ResultSet:ID}),s6=D1({Node:En}),no=F1({Node:En}),u6=T1({Node:En}),oJ=Jb({classes:i6}),vw=Y1({math:js,typed:Q}),l6=S1({Node:En,typed:Q}),sJ=K1({Chain:vw,typed:Q}),Xs=A1({Node:En,size:Yr}),Qs=v1({Node:En,subset:qn}),c6=b1({matrix:ze,Node:En,subset:qn}),io=B1({Unit:gt,Node:En,math:js}),ao=O1({Node:En,SymbolNode:io,math:js}),Bi=k1({AccessorNode:Qs,ArrayNode:Js,AssignmentNode:c6,BlockNode:o6,ConditionalNode:s6,ConstantNode:no,FunctionAssignmentNode:l6,FunctionNode:ao,IndexNode:Xs,ObjectNode:Ys,OperatorNode:va,ParenthesisNode:qo,RangeNode:u6,RelationalNode:a6,SymbolNode:io,config:Ee,numeric:di,typed:Q}),f6=Wb({ConstantNode:no,FunctionNode:ao,OperatorNode:va,ParenthesisNode:qo,parse:Bi,typed:Q}),yw=Ub({bignumber:Ln,fraction:ko,AccessorNode:Qs,ArrayNode:Js,ConstantNode:no,FunctionNode:ao,IndexNode:Xs,ObjectNode:Ys,OperatorNode:va,SymbolNode:io,config:Ee,mathWithTransform:Zs,matrix:ze,typed:Q}),bw=R1({parse:Bi,typed:Q}),m6=Z1({parse:Bi}),uJ=Pb({parse:Bi,typed:Q}),xw=zb({AccessorNode:Qs,ArrayNode:Js,ConstantNode:no,FunctionNode:ao,IndexNode:Xs,ObjectNode:Ys,OperatorNode:va,ParenthesisNode:qo,SymbolNode:io,add:It,divide:zr,equal:Xn,isZero:mi,multiply:Gt,parse:Bi,pow:Qn,subtract:br,typed:Q}),p6=P1({parse:Bi,typed:Q}),lJ=Q1({Help:m6,mathWithTransform:Zs,typed:Q}),d6=L1({evaluate:p6}),Xm=Vb({bignumber:Ln,fraction:ko,AccessorNode:Qs,ArrayNode:Js,ConstantNode:no,FunctionNode:ao,IndexNode:Xs,ObjectNode:Ys,OperatorNode:va,ParenthesisNode:qo,SymbolNode:io,add:It,config:Ee,divide:zr,equal:Xn,isZero:mi,mathWithTransform:Zs,matrix:ze,multiply:Gt,parse:Bi,pow:Qn,resolve:f6,simplifyConstant:yw,simplifyCore:xw,subtract:br,typed:Q}),cJ=Hb({OperatorNode:va,parse:Bi,simplify:Xm,typed:Q}),fJ=q1({Parser:d6,typed:Q}),mJ=jb({bignumber:Ln,fraction:ko,AccessorNode:Qs,ArrayNode:Js,ConstantNode:no,FunctionNode:ao,IndexNode:Xs,ObjectNode:Ys,OperatorNode:va,ParenthesisNode:qo,SymbolNode:io,add:It,config:Ee,divide:zr,equal:Xn,isZero:mi,mathWithTransform:Zs,matrix:ze,multiply:Gt,parse:Bi,pow:Qn,simplify:Xm,simplifyConstant:yw,simplifyCore:xw,subtract:br,typed:Q}),pJ=Gb({ConstantNode:no,FunctionNode:ao,OperatorNode:va,ParenthesisNode:qo,SymbolNode:io,config:Ee,equal:Xn,isZero:mi,numeric:di,parse:Bi,simplify:Xm,typed:Q});sr(js,{e:MD,false:q4,fineStructure:V4,i:TD,Infinity:U4,LN10:z4,LOG10E:W4,NaN:H4,null:G4,phi:j4,SQRT1_2:Y4,sackurTetrode:J4,tau:BD,true:X4,E:MD,version:Q4,efimovFactor:K4,LN2:$4,pi:Tm,replacer:ek,reviver:oJ,SQRT2:tk,typed:Q,unaryPlus:Im,PI:Tm,weakMixingAngle:rk,abs:bn,acos:nk,acot:ik,acsc:ak,addScalar:kr,arg:ok,asech:sk,asinh:uk,atan:OD,atanh:lk,bignumber:Ln,bitNot:ck,boolean:fk,clone:mk,combinations:dl,complex:hl,conj:Qa,cos:Bm,cot:pk,csc:dk,cube:hk,equalScalar:Tt,erf:gk,exp:kD,expm1:vk,filter:yk,forEach:bk,format:Vs,getMatrixDataType:Om,hex:xk,im:km,isInteger:Nn,isNegative:ha,isPositive:Ka,isZero:mi,LOG2E:Dk,lgamma:wk,log10:Ek,log2:RD,map:$a,multiplyScalar:yr,not:PD,number:Xi,oct:Ck,pickRandom:Fk,print:Sk,random:Ak,re:Rm,sec:Nk,sign:LD,sin:gl,splitUnit:_k,square:Mk,string:Tk,subtractScalar:Jn,tan:Ik,typeOf:qD,acosh:Bk,acsch:Ok,apply:Pm,asec:kk,bin:Rk,chain:sJ,combinationsWithRep:Pk,cosh:Lk,csch:qk,isNaN:Us,isPrime:Vk,randomInt:Uk,sech:zk,sinh:Wk,sparse:Hk,sqrt:pi,tanh:Gk,unaryMinus:Ti,acoth:jk,coth:Zk,fraction:ko,isNumeric:eo,matrix:ze,matrixFromFunction:Yk,mode:Jk,numeric:di,prod:VD,reshape:UD,size:Yr,squeeze:Xk,transpose:zs,xgcd:zD,zeros:xn,asin:Qk,cbrt:WD,concat:Ht,count:Kk,ctranspose:Lm,diag:HD,divideScalar:mr,dotDivide:Ws,equal:Xn,flatten:Hs,hasNumericValue:$k,identity:ga,kron:eR,largerEq:vl,leftShift:tR,lsolve:GD,matrixFromColumns:qm,nthRoot:rR,ones:nR,qr:Vm,resize:iR,rightArithShift:aR,round:Ro,smaller:Dn,subtract:br,to:oR,unequal:sR,usolve:Um,xor:uR,add:It,atan2:lR,bitAnd:cR,bitXor:fR,catalan:mR,compare:to,compareText:jD,cumsum:pR,deepEqual:zm,diff:dR,distance:hR,dot:yl,equalText:gR,floor:ZD,gcd:vR,hypot:yR,larger:wn,log:Wm,lsolveAll:bR,matrixFromRows:xR,min:DR,mod:JD,multiply:Gt,nthRoots:wR,or:ER,partitionSelect:bl,rightLogShift:CR,slu:XD,subset:qn,sum:Hm,trace:FR,usolveAll:QD,zpk2tf:SR,bitOr:AR,ceil:Gm,compareNatural:Ii,composition:NR,cross:_R,det:KD,dotMultiply:MR,fix:ew,index:tw,intersect:TR,invmod:IR,lcm:BR,log1p:OR,max:jm,setCartesian:kR,setDistinct:RR,setIsSubset:PR,setPowerset:LR,smallerEq:Po,sort:qR,and:VR,range:Lo,row:UR,setDifference:rw,setMultiplicity:zR,setSymDifference:nw,column:aw,inv:ro,lup:ow,pinv:WR,pow:Qn,setIntersect:sw,setUnion:HR,sqrtm:GR,vacuumImpedance:jR,wienDisplacement:ZR,atomicMass:YR,bohrMagneton:JR,boltzmann:XR,conductanceQuantum:QR,coulomb:KR,deuteronMass:$R,dotPow:e8,electricConstant:t8,elementaryCharge:r8,expm:n8,faraday:i8,fft:uw,gamma:Zm,gravitationConstant:a8,hartreeEnergy:o8,ifft:s8,klitzing:u8,loschmidt:l8,magneticConstant:c8,molarMass:f8,molarPlanckConstant:m8,neutronMass:p8,nuclearMagneton:d8,planckCharge:h8,planckLength:g8,planckTemperature:v8,protonMass:y8,quantumOfCirculation:b8,reducedPlanckConstant:x8,rydberg:D8,secondRadiation:w8,speedOfLight:E8,stefanBoltzmann:C8,thomsonCrossSection:F8,avogadro:S8,bohrRadius:A8,createUnit:N8,divide:zr,electronMass:_8,factorial:Gs,firstRadiation:M8,gravity:T8,inverseConductanceQuantum:I8,lusolve:lw,magneticFluxQuantum:B8,molarMassC12:O8,multinomial:k8,parse:Bi,permutations:R8,planckMass:P8,polynomialRoot:L8,resolve:f6,setSize:q8,simplifyConstant:yw,solveODE:V8,stirlingS2:cw,unit:U8,bellNumbers:z8,compile:bw,eigs:fw,fermiCoupling:W8,gasConstant:H8,leafCount:uJ,mean:mw,molarVolume:G8,planckConstant:j8,quantileSeq:Z8,simplifyCore:xw,variance:Ym,classicalElectronRadius:Y8,evaluate:p6,help:lJ,median:pw,simplify:Xm,symbolicEqual:cJ,corr:J8,freqz:X8,mad:Q8,parser:fJ,rationalize:mJ,std:K8,zeta:$8,derivative:pJ,norm:Jm,rotationMatrix:dw,kldivergence:e6,planckTime:t6,schur:hw,rotate:r6,sylvester:gw,lyap:n6,config:Ee});sr(Zs,js,{filter:mD({typed:Q}),forEach:pD({typed:Q}),map:hD({typed:Q}),apply:cD({isInteger:Nn,typed:Q}),concat:wD({isInteger:Nn,matrix:ze,typed:Q}),max:gD({config:Ee,larger:wn,numeric:di,typed:Q}),print:_D({add:It,matrix:ze,typed:Q,zeros:xn}),diff:ED({bignumber:Ln,matrix:ze,number:Xi,subtract:br,typed:Q}),min:yD({config:Ee,numeric:di,smaller:Dn,typed:Q}),subset:DD({add:It,matrix:ze,typed:Q,zeros:xn}),cumsum:AD({add:It,typed:Q,unaryPlus:Im}),index:dD({Index:mn,getMatrixDataType:Om}),sum:FD({add:It,config:Ee,numeric:di,typed:Q}),range:bD({bignumber:Ln,matrix:ze,add:It,config:Ee,isPositive:Ka,larger:wn,largerEq:vl,smaller:Dn,smallerEq:Po,typed:Q}),row:xD({Index:mn,matrix:ze,range:Lo,typed:Q}),column:fD({Index:mn,matrix:ze,range:Lo,typed:Q}),mean:vD({add:It,divide:zr,typed:Q}),quantileSeq:SD({add:It,bignumber:Ln,compare:to,divide:zr,isInteger:Nn,larger:wn,multiply:Gt,partitionSelect:bl,smaller:Dn,smallerEq:Po,subtract:br,typed:Q}),variance:ND({add:It,apply:Pm,divide:zr,isNaN:Us,multiply:Gt,subtract:br,typed:Q}),std:CD({map:$a,sqrt:pi,typed:Q,variance:Ym})});sr(i6,{BigNumber:Ue,Complex:$t,Fraction:Xa,Matrix:pl,Node:En,ObjectNode:Ys,OperatorNode:va,ParenthesisNode:qo,Range:Z4,RelationalNode:a6,ResultSet:ID,ArrayNode:Js,BlockNode:o6,ConditionalNode:s6,ConstantNode:no,DenseMatrix:Ct,RangeNode:u6,Chain:vw,FunctionAssignmentNode:l6,SparseMatrix:Qi,IndexNode:Xs,ImmutableDenseMatrix:YD,Index:mn,AccessorNode:Qs,AssignmentNode:c6,FibonacciHeap:$D,Spa:iw,Unit:gt,SymbolNode:io,FunctionNode:ao,Help:m6,Parser:d6});vw.createProxy(js);var Qm=class extends xs{constructor(r){super(r);this.hidden=!1}buildVariables(r){var a;let n=0;this.expressionStr="";let i=[];for(let o of(a=r.templateDeclaration)!=null?a:[])if(typeof o!="string"){let c={bindTargetDeclaration:o,inputSignal:new Lr(void 0),uuid:Ir(),contextName:`MB_VAR_${n}`};i.push(c),this.expressionStr+=c.contextName,n+=1}else this.expressionStr+=o;return this.expression=bw(this.expressionStr),i}_render(r){}_update(r,n){r.innerText=n}destroy(){}buildContext(r){var i;let n={};for(let a of r!=null?r:[])!a.contextName||!a.inputSignal||(n[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return n}async computeValue(r){if(!this.expression)throw new ta({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"});let n=this.buildContext(r);try{return this.expression.evaluate(n)}catch(i){throw i instanceof Error?new ta({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:i,context:{expression:this.expressionStr,context:n}}):new Error("failed to evaluate js expression because of: unexpected thrown value")}}getDefaultDisplayValue(){return""}};var $m=require("obsidian");var Km=class extends xs{constructor(r){super(r);this.renderMarkdown=!1,this.markdownComponent=new $m.Component}buildVariables(r){var a;this.textParts=[];let n=0,i=[];for(let o of(a=r.templateDeclaration)!=null?a:[])if(typeof o!="string"){let c={bindTargetDeclaration:o,inputSignal:new Lr(void 0),uuid:Ir(),contextName:`MB_VAR_${n}`};i.push(c),this.textParts.push(n),n+=1}else this.textParts.push(o);return i}_render(r){var n,i;this.renderMarkdown=(i=(n=this.renderChild.getArgument("renderMarkdown"))==null?void 0:n.value)!=null?i:!1,this.markdownComponent.load(),this.renderMarkdown&&r.addClass("mb-view-markdown")}async _update(r,n){this.renderMarkdown?(this.markdownComponent.unload(),this.markdownComponent.load(),await $m.MarkdownRenderer.render(this.renderChild.plugin.app,n,r,this.renderChild.filePath,this.markdownComponent)):r.innerText=n}destroy(){this.markdownComponent.unload()}computeValue(r){if(!this.textParts)throw new ta({errorLevel:"ERROR",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(n=>typeof n=="number"?yF(r[n].inputSignal.get(),this.renderChild.plugin.settings.viewFieldDisplayNullAsEmpty):n).join("")}getDefaultDisplayValue(){return""}};var ep=class{constructor(e){this.plugin=e}createViewField(e,r){if(e==="math")return new Qm(r);if(e==="text")return new Km(r)}};var tp=class{constructor(e){this.plugin=e,this.inputField=new jc(this),this.inputFieldParser=new Gc(this.plugin),this.viewFieldParser=new sc(this.plugin),this.bindTargetParser=new uc(this.plugin),this.inputFieldFactory=new bf(this.plugin),this.viewFieldFactory=new ep(this.plugin)}createInputField(e,r,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.inputFieldParser.validateDeclaration(e),c=new po(i,r,o,this.plugin,n,Ir());return a.addChild(c),c}createInputFieldFromString(e,r,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let c=this.inputFieldParser.parseString(e,o),u=new po(i,r,c,this.plugin,n,Ir());return a.addChild(u),u}createViewFieldFromString(e,r,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.viewFieldParser.parseString(e),c=new as(i,r,o,this.plugin,n,Ir());return a.addChild(c),c}createJsViewFieldFromString(e,r,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.viewFieldParser.parseJsString(e),c=new Ac(i,r,o,this.plugin,n,Ir());return a.addChild(c),c}createExcludedField(e,r,n){let i=new Zc(e,"inline",this.plugin,r,Ir());return n.addChild(i),i}createSignal(e){return new Lr(e)}listenToMetadata(e,r,n,i=!1){let a=Ir(),o=this.plugin.metadataManager.subscribe(a,e,{filePath:r,metadataPath:n,listenToChildren:i,boundToLocalScope:!1});return()=>{o.unsubscribe()}}createTable(e,r,n,i,a,o){let c=new Jc(e,"inline",this.plugin,r,Ir(),i,a,o);return n.addChild(c),c}createBindTarget(e){return this.bindTargetParser.parseAndValidateBindTarget(e)}};var oo=require("@codemirror/view"),ww=require("@codemirror/language"),ap=require("obsidian");var g6=require("obsidian");var h6=require("@codemirror/view");var rp=class extends h6.WidgetType{constructor(r,n,i,a){super();this.content=r,this.filePath=n,this.parentComponent=i,this.plugin=a}eq(r){return r.content===this.content}toDOM(r){let n=document.createElement("span");return n.addClass("cm-inline-code"),this.renderChild=this.createRenderChild(n,this.parentComponent),n}destroy(r){var n;(n=this.renderChild)==null||n.unload(),super.destroy(r)}},np=class extends rp{createRenderChild(e,r){return this.plugin.api.createViewFieldFromString(this.content,"inline",this.filePath,e,r)}},ip=class extends rp{createRenderChild(e,r){return this.plugin.api.createInputFieldFromString(this.content,"inline",this.filePath,e,r,void 0)}},Dw=(r=>(r.INPUT_FIELD_WIDGET="INPUT_FIELD_WIDGET",r.VIEW_FIELD_WIDGET="VIEW_FIELD_WIDGET",r))(Dw||{});var Ki=class t{static checkSelectionOverlap(e,r,n){if(!e)return!1;for(let i of e.ranges)if(i.to>=r&&i.from<=n)return!0;return!1}static getContent(e,r,n){return e.sliceDoc(r,n)}static constructMarkdownRenderChildWidget(e,r,n,i,a){if(e==="INPUT_FIELD_WIDGET")return new ip(r,n,i,a);if(e==="VIEW_FIELD_WIDGET")return new np(r,n,i,a)}static getDeclarationPrefix(e){if(e==="INPUT_FIELD_WIDGET")return"INPUT";if(e==="VIEW_FIELD_WIDGET")return"VIEW";throw new vr({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid widget type "${e}"`})}static isDeclaration(e,r){let n=t.getDeclarationPrefix(e)+"[",i="]";return r.startsWith(n)&&r.endsWith(i)}static isDeclarationAndGetWidgetType(e){if(e.endsWith("]"))for(let r of Object.values(Dw)){let n=t.getDeclarationPrefix(r)+"[";if(e.startsWith(n))return r}}static getCurrentFile(e){return e.state.field(g6.editorInfoField).file}static existsDecorationBetween(e,r,n){let i=!1;return e.between(r,n,()=>{i=!0}),i}};function v6(t){return oo.ViewPlugin.fromClass(class{constructor(e){var r;this.component=new ap.Component,this.component.load(),this.decorations=(r=this.renderWidgets(e))!=null?r:oo.Decoration.none}update(e){var r;if(!e.state.field(ap.editorLivePreviewField)){this.decorations=oo.Decoration.none;return}e.docChanged?(this.decorations=this.decorations.map(e.changes),this.updateTree(e.view)):e.selectionSet?this.updateTree(e.view):e.viewportChanged&&(this.decorations=(r=this.renderWidgets(e.view))!=null?r:oo.Decoration.none)}updateTree(e){for(let{from:r,to:n}of e.visibleRanges)(0,ww.syntaxTree)(e.state).iterate({from:r,to:n,enter:i=>{let a=i.node,{shouldRender:o,content:c,widgetType:u}=this.getRenderInfo(e,a);o?u!==void 0&&c!==void 0&&this.addDecoration(a,e,c,u):u!==void 0&&c!==void 0&&this.removeDecoration(a)}})}removeDecoration(e){this.decorations.between(e.from-1,e.to+1,(r,n,i)=>{this.decorations=this.decorations.update({filterFrom:r,filterTo:n,filter:()=>!1})})}addDecoration(e,r,n,i){var s;let a=e.from-1,o=e.to+1;if(Ki.existsDecorationBetween(this.decorations,a,o))return;let c=Ki.getCurrentFile(r);if(!c)return;let u=(s=this.renderWidget(e,i,n,c))==null?void 0:s.value;u&&(this.decorations=this.decorations.update({add:[{from:a,to:o,value:u}]}))}getRenderInfo(e,r){var i;let n=new Set((i=r.type.name)==null?void 0:i.split("_"));if(n.has("inline-code")&&!n.has("formatting")){let a=e.state.selection,o=Ki.checkSelectionOverlap(a,r.from-1,r.to+1),c=this.readNode(e,r.from,r.to);return{shouldRender:!o,content:c.content,widgetType:c.widgetType}}return{shouldRender:!1,content:void 0,widgetType:void 0}}readNode(e,r,n){let i=Ki.getContent(e.state,r,n);return{content:i,widgetType:Ki.isDeclarationAndGetWidgetType(i)}}renderWidgets(e){let r=Ki.getCurrentFile(e);if(!r)return;let n=[];for(let i of e.visibleRanges)(0,ww.syntaxTree)(e.state).iterate({from:i.from,to:i.to,enter:a=>{let o=a.node,c=this.getRenderInfo(e,o);if(!c.shouldRender||!c.widgetType||!c.content)return;let u=this.renderWidget(o,c.widgetType,c.content,r);u&&n.push(u)}});return oo.Decoration.set(n,!0)}renderWidget(e,r,n,i){let a=Ki.constructMarkdownRenderChildWidget(r,n,i.path,this.component,t);if(a)return oo.Decoration.replace({widget:a}).range(e.from-1,e.to+1)}destroy(){this.component.unload()}},{decorations:e=>e.decorations})}var op=class{constructor(){this.activeMDRCs=new Map}unload(){for(let e of this.activeMDRCs.values())console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),e.unload()}registerMDRC(e){console.debug(`meta-bind | MDRCManager >> registered MDRC ${e.uuid}`),this.activeMDRCs.set(e.uuid,e)}unregisterMDRC(e){console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),this.activeMDRCs.delete(e.uuid)}};var y6=require("obsidian");var sp=class{constructor(e){this.app=e.app,this.plugin=e}getMetadataAndExtraCache(e){var i,a;if(e.bindTarget===void 0)throw new mo({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"subscription bind target undefined"});let r=this.plugin.app.vault.getAbstractFileByPath(e.bindTarget.filePath);if(!(r instanceof y6.TFile))throw new mo({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"bind target file path does not point to a tFile"});let n=(i=this.plugin.app.metadataCache.getFileCache(r))==null?void 0:i.frontmatter;return{extraCache:{file:r},metadata:(a=structuredClone(n))!=null?a:{}}}setManagerInstance(e){this.manager=e}async updateMetadata(e,r){let n=r.extraCache.file;await this.plugin.app.fileManager.processFrontMatter(n,i=>{r.changed=!1,Object.assign(i,r.metadata)})}load(){this.plugin.registerEvent(this.plugin.app.metadataCache.on("changed",(e,r,n)=>{var i,a;(a=this.manager)==null||a.updateCacheOnExternalUpdate(e.path,(i=n.frontmatter)!=null?i:{})})),this.manager!==void 0&&(this.interval=window.setInterval(()=>{var e;return(e=this.manager)==null?void 0:e.update()},this.plugin.settings.syncInterval))}unload(){this.interval!==void 0&&window.clearInterval(this.interval)}};var up=class extends b6.Plugin{async onload(){console.log("meta-bind | Main >> load"),await this.loadSettings(),await this.saveSettings(),this.api=new tp(this);let r=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);r.hasErrors()&&console.warn("meta-bind | failed to parse templates",r),this.mdrcManager=new op;let n=new sp(this);this.metadataManager=new Zl(n),this.registerMarkdownPostProcessor((i,a)=>{let o=i.querySelectorAll("code");for(let c=0;c<o.length;c++){let u=o.item(c);if(u.hasClass("mb-none"))continue;let s=u.innerText,l=s.startsWith("INPUT[")&&s.endsWith("]"),f=s.startsWith("VIEW[")&&s.endsWith("]");l&&this.api.createInputFieldFromString(s,"inline",a.sourcePath,u,a,void 0),f&&this.api.createViewFieldFromString(s,"inline",a.sourcePath,u,a)}},100),this.registerMarkdownCodeBlockProcessor("meta-bind",(i,a,o)=>{let c=a,u=i.trim(),s=u.startsWith("INPUT[")&&u.endsWith("]"),l=u.startsWith("VIEW[")&&u.endsWith("]");s&&this.api.createInputFieldFromString(u,"block",o.sourcePath,c,o,void 0),l&&this.api.createViewFieldFromString(u,"inline",o.sourcePath,c,o)}),this.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(i,a,o)=>{this.api.createJsViewFieldFromString(i,"block",o.sourcePath,a,o)}),this.registerEditorExtension(v6(this)),this.addCommand({id:"mb-open-docs",name:"Open Meta Bind Docs",callback:()=>{window.open("https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/","_blank")}}),this.addCommand({id:"mb-open-faq",name:"Open Meta Bind FAQ",callback:()=>{this.activateView(jo)}}),this.registerView(jo,i=>new Ol(i)),this.addSettingTab(new kl(this.app,this))}onunload(){console.log("meta-bind | Main >> unload"),this.mdrcManager.unload(),this.metadataManager.unload()}getFilePathsByName(r){let n=this.app.metadataCache.getFirstLinkpathDest(r,"");return n===null?[]:[n.path]}isFilePathExcluded(r){for(let n of this.settings.excludedFolders)if(r.startsWith(n))return!0;return!1}async loadSettings(){console.log("meta-bind | Main >> settings load");let r=await this.loadData();r=this.applyTemplatesMigration(Object.assign({},vi,r)),this.settings=r,await this.saveSettings()}async saveSettings(){console.log("meta-bind | Main >> settings save"),nn.dateFormat=this.settings.preferredDateFormat,ZF(this.settings.firstWeekday),await this.saveData(this.settings)}applyTemplatesMigration(r){if(r.inputTemplates!==void 0){let n=r.inputTemplates,i=[];try{let a=n?Eo.split(n,`
`,new wo("[","]")):[];a=a.map(o=>o.trim()).filter(o=>o.length>0);for(let o of a){let c=Eo.split(o,"->",new wo("[","]"));if(c=c.map(u=>u.trim()),c.length===1)throw new rn({errorLevel:"CRITICAL",effect:"failed to parse template declaration",cause:'template must include one "->"'});c.length===2&&i.push({name:c[0],declaration:c[1]})}}catch(a){console.warn("failed to migrate templates",a)}delete r.inputTemplates,r.inputFieldTemplates=i}return r}async activateView(r){let{workspace:n}=this.app,i=null,a=n.getLeavesOfType(r);a.length>0?i=a[0]:(i=n.getLeaf("tab"),await i.setViewState({type:r,active:!0})),n.revealLeaf(i)}};
/*! Bundled license information:

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
