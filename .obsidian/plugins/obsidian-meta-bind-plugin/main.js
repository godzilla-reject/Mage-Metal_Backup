/*
-------------------------------------------
Meta Bind Plugin - Release Build
-------------------------------------------
By: Moritz Jung (https://mprojectscode.github.io/)
Time: Thu, 16 Nov 2023 16:39:45 GMT
Version: 0.8.0
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var P6=Object.create;var eu=Object.defineProperty;var R6=Object.getOwnPropertyDescriptor;var L6=Object.getOwnPropertyNames;var q6=Object.getPrototypeOf,V6=Object.prototype.hasOwnProperty;var U6=(r,e,t)=>e in r?eu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var vr=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),z6=(r,e)=>{for(var t in e)eu(r,t,{get:e[t],enumerable:!0})},hw=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of L6(e))!V6.call(r,i)&&i!==t&&eu(r,i,{get:()=>e[i],enumerable:!(n=R6(e,i))||n.enumerable});return r};var fr=(r,e,t)=>(t=r!=null?P6(q6(r)):{},hw(e||!r||!r.__esModule?eu(t,"default",{value:r,enumerable:!0}):t,r)),H6=r=>hw(eu({},"__esModule",{value:!0}),r);var Hr=(r,e,t)=>(U6(r,typeof e!="symbol"?e+"":e,t),t);var kw=vr((pp,dp)=>{(function(r,e){typeof pp=="object"&&typeof dp!="undefined"?dp.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=e()})(pp,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",i="second",a="minute",o="hour",c="day",u="week",s="month",l="quarter",f="year",m="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var k=["th","st","nd","rd"],P=B%100;return"["+B+(k[(P-20)%10]||k[P]||k[0])+"]"}},v=function(B,k,P){var R=String(B);return!R||R.length>=k?B:""+Array(k+1-R.length).join(P)+B},C={s:v,z:function(B){var k=-B.utcOffset(),P=Math.abs(k),R=Math.floor(P/60),T=P%60;return(k<=0?"+":"-")+v(R,2,"0")+":"+v(T,2,"0")},m:function B(k,P){if(k.date()<P.date())return-B(P,k);var R=12*(P.year()-k.year())+(P.month()-k.month()),T=k.clone().add(R,s),I=P-T<0,V=k.clone().add(R+(I?-1:1),s);return+(-(R+(P-T)/(I?T-V:V-T))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:s,y:f,w:u,d:c,D:m,h:o,m:a,s:i,ms:n,Q:l}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},y="en",D={};D[y]=g;var b="$isDayjsObject",x=function(B){return B instanceof F||!(!B||!B[b])},w=function B(k,P,R){var T;if(!k)return y;if(typeof k=="string"){var I=k.toLowerCase();D[I]&&(T=I),P&&(D[I]=P,T=I);var V=k.split("-");if(!T&&V.length>1)return B(V[0])}else{var O=k.name;D[O]=k,T=O}return!R&&T&&(y=T),T||!R&&y},A=function(B,k){if(x(B))return B.clone();var P=typeof k=="object"?k:{};return P.date=B,P.args=arguments,new F(P)},E=C;E.l=w,E.i=x,E.w=function(B,k){return A(B,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var F=function(){function B(P){this.$L=w(P.locale,null,!0),this.parse(P),this.$x=this.$x||P.x||{},this[b]=!0}var k=B.prototype;return k.parse=function(P){this.$d=function(R){var T=R.date,I=R.utc;if(T===null)return new Date(NaN);if(E.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var V=T.match(h);if(V){var O=V[2]-1||0,J=(V[7]||"0").substring(0,3);return I?new Date(Date.UTC(V[1],O,V[3]||1,V[4]||0,V[5]||0,V[6]||0,J)):new Date(V[1],O,V[3]||1,V[4]||0,V[5]||0,V[6]||0,J)}}return new Date(T)}(P),this.init()},k.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},k.$utils=function(){return E},k.isValid=function(){return this.$d.toString()!==p},k.isSame=function(P,R){var T=A(P);return this.startOf(R)<=T&&T<=this.endOf(R)},k.isAfter=function(P,R){return A(P)<this.startOf(R)},k.isBefore=function(P,R){return this.endOf(R)<A(P)},k.$g=function(P,R,T){return E.u(P)?this[R]:this.set(T,P)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(P,R){var T=this,I=!!E.u(R)||R,V=E.p(P),O=function(ue,me){var se=E.w(T.$u?Date.UTC(T.$y,me,ue):new Date(T.$y,me,ue),T);return I?se:se.endOf(c)},J=function(ue,me){return E.w(T.toDate()[ue].apply(T.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(me)),T)},$=this.$W,H=this.$M,q=this.$D,ne="set"+(this.$u?"UTC":"");switch(V){case f:return I?O(1,0):O(31,11);case s:return I?O(1,H):O(0,H+1);case u:var be=this.$locale().weekStart||0,oe=($<be?$+7:$)-be;return O(I?q-oe:q+(6-oe),H);case c:case m:return J(ne+"Hours",0);case o:return J(ne+"Minutes",1);case a:return J(ne+"Seconds",2);case i:return J(ne+"Milliseconds",3);default:return this.clone()}},k.endOf=function(P){return this.startOf(P,!1)},k.$set=function(P,R){var T,I=E.p(P),V="set"+(this.$u?"UTC":""),O=(T={},T[c]=V+"Date",T[m]=V+"Date",T[s]=V+"Month",T[f]=V+"FullYear",T[o]=V+"Hours",T[a]=V+"Minutes",T[i]=V+"Seconds",T[n]=V+"Milliseconds",T)[I],J=I===c?this.$D+(R-this.$W):R;if(I===s||I===f){var $=this.clone().set(m,1);$.$d[O](J),$.init(),this.$d=$.set(m,Math.min(this.$D,$.daysInMonth())).$d}else O&&this.$d[O](J);return this.init(),this},k.set=function(P,R){return this.clone().$set(P,R)},k.get=function(P){return this[E.p(P)]()},k.add=function(P,R){var T,I=this;P=Number(P);var V=E.p(R),O=function(H){var q=A(I);return E.w(q.date(q.date()+Math.round(H*P)),I)};if(V===s)return this.set(s,this.$M+P);if(V===f)return this.set(f,this.$y+P);if(V===c)return O(1);if(V===u)return O(7);var J=(T={},T[a]=e,T[o]=t,T[i]=r,T)[V]||1,$=this.$d.getTime()+P*J;return E.w($,this)},k.subtract=function(P,R){return this.add(-1*P,R)},k.format=function(P){var R=this,T=this.$locale();if(!this.isValid())return T.invalidDate||p;var I=P||"YYYY-MM-DDTHH:mm:ssZ",V=E.z(this),O=this.$H,J=this.$m,$=this.$M,H=T.weekdays,q=T.months,ne=T.meridiem,be=function(me,se,ce,pe){return me&&(me[se]||me(R,I))||ce[se].slice(0,pe)},oe=function(me){return E.s(O%12||12,me,"0")},ue=ne||function(me,se,ce){var pe=me<12?"AM":"PM";return ce?pe.toLowerCase():pe};return I.replace(d,function(me,se){return se||function(ce){switch(ce){case"YY":return String(R.$y).slice(-2);case"YYYY":return E.s(R.$y,4,"0");case"M":return $+1;case"MM":return E.s($+1,2,"0");case"MMM":return be(T.monthsShort,$,q,3);case"MMMM":return be(q,$);case"D":return R.$D;case"DD":return E.s(R.$D,2,"0");case"d":return String(R.$W);case"dd":return be(T.weekdaysMin,R.$W,H,2);case"ddd":return be(T.weekdaysShort,R.$W,H,3);case"dddd":return H[R.$W];case"H":return String(O);case"HH":return E.s(O,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return ue(O,J,!0);case"A":return ue(O,J,!1);case"m":return String(J);case"mm":return E.s(J,2,"0");case"s":return String(R.$s);case"ss":return E.s(R.$s,2,"0");case"SSS":return E.s(R.$ms,3,"0");case"Z":return V}return null}(me)||V.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(P,R,T){var I,V=this,O=E.p(R),J=A(P),$=(J.utcOffset()-this.utcOffset())*e,H=this-J,q=function(){return E.m(V,J)};switch(O){case f:I=q()/12;break;case s:I=q();break;case l:I=q()/3;break;case u:I=(H-$)/6048e5;break;case c:I=(H-$)/864e5;break;case o:I=H/t;break;case a:I=H/e;break;case i:I=H/r;break;default:I=H}return T?I:E.a(I)},k.daysInMonth=function(){return this.endOf(s).$D},k.$locale=function(){return D[this.$L]},k.locale=function(P,R){if(!P)return this.$L;var T=this.clone(),I=w(P,R,!0);return I&&(T.$L=I),T},k.clone=function(){return E.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},B}(),M=F.prototype;return A.prototype=M,[["$ms",n],["$s",i],["$m",a],["$H",o],["$W",c],["$M",s],["$y",f],["$D",m]].forEach(function(B){M[B[1]]=function(k){return this.$g(k,B[0],B[1])}}),A.extend=function(B,k){return B.$i||(B(k,F,A),B.$i=!0),A},A.locale=w,A.isDayjs=x,A.unix=function(B){return A(1e3*B)},A.en=D[y],A.Ls=D,A.p={},A})});var cE=vr(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.OPDUtilsObjectTraversalError=Qo.OPDUtilsParsingError=void 0;var Cp=class extends Error{constructor(e){super(e)}};Qo.OPDUtilsParsingError=Cp;var Fp=class extends Error{constructor(e){super(e)}};Qo.OPDUtilsObjectTraversalError=Fp});var _p=vr(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.validatePath=Kn.parsePath=Kn.traverseObjectByPath=Kn.traverseObjectToParent=Kn.traverseObject=void 0;var oa=cE();function pL(r,e){let t=Sp(r);return Ap(t,e)}Kn.traverseObject=pL;function dL(r,e){var t;let n=Sp(r);if(n[0]==="")throw new oa.OPDUtilsObjectTraversalError("can not traverse to parent on self reference");let i=n.slice(0,-1),a=(t=n.at(-1))!==null&&t!==void 0?t:"",o=Ap(i,e);return{parent:{key:i,value:o},child:{key:a,value:o[a]}}}Kn.traverseObjectToParent=dL;function Ap(r,e){for(let t of r){if(t==="")return e;if(e===void 0)return;e=e[t]}return e}Kn.traverseObjectByPath=Ap;function Sp(r){return r=r.replace(/'/g,'"'),fE(r),r.split(".").map(e=>e.split("[").map(t=>(t.endsWith("]")&&(t=t.slice(0,-1)),t.startsWith('"')&&t.endsWith('"')&&(t=t.slice(1,-1)),t))).flat()}Kn.parsePath=Sp;function fE(r){let e="0123456789",t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=!1,i=!1;for(let a=0;a<r.length;a++){let o=r[a],c=r[a+1];if(o==="."){if(a===0)throw new oa.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${r}", path may not start with '.'`);if(!(t.includes(c)||c==="_"||c==="$"))throw new oa.OPDUtilsObjectTraversalError(`Invalid character '${c}' at position ${a+1} in "${r}", expected a letter, '_' or '$' to follow '.'`)}if(o==="[")if(e.includes(c)){i=!0;continue}else if(c==='"'){if(r[a+2]==='"')throw new oa.OPDUtilsObjectTraversalError(`Invalid character '${r[a+2]}' at position ${a+2} in "${r}", the string between the quotation-marks may not be empty`);n=!0,a+=1;continue}else throw new oa.OPDUtilsObjectTraversalError(`Invalid character '${c}' at position ${a+1} in "${r}", expected number or '"' to follow a '['`);if(n&&o==='"')if(c==="]"){n=!1,a+=1;continue}else throw new oa.OPDUtilsObjectTraversalError(`Invalid character '${c}' at position ${a+1} in "${r}", expected ']' to follow a '"'`);if(i&&o==="]"){i=!1;continue}if(n&&(o==="."||o==="]"||o==="["))throw new oa.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${r}"`);if(i&&!e.includes(o))throw new oa.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${r}", number expected inside of brackets`);if(!i&&!n&&o==="]")throw new oa.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${r}", expected '[' to proceed`)}}Kn.validatePath=fE});var ql=vr(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.P_HELPERS=Mn.ParserHelpers=Mn.validateRegexFlags=Mn.validateRange=Mn.getIndex=Mn.arrayUnion=void 0;var Rp=Vl();function AL(r,e){if(!(r===void 0&&e===void 0)){if(r===void 0)return e;if(e===void 0)return r;for(let t of e)r.includes(t)||r.push(t);return r}}Mn.arrayUnion=AL;function SL(r){return r===void 0?-1:r.index}Mn.getIndex=SL;function _L(r,e){if(e<r)throw new Error(`Invalid Range: max might not be smaller than min. Received [${r}, ${e}].`);if(r<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${r}, ${e}].`);if(r===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${r}, ${e}].`);if(!Number.isInteger(r)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${r}, ${e}].`)}Mn.validateRange=_L;function NL(r){for(let e of r)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}Mn.validateRegexFlags=NL;var Ll=class{followedBy(e){return new Rp.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new Rp.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new Rp.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};Mn.ParserHelpers=Ll;Mn.P_HELPERS=new Ll});var CE=vr(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.ParserContext=void 0;var Lp=ql(),qp=class r{constructor(e,t){this.input=e,this.position=t}moveToPosition(e){return this.position=e,this}copy(){return new r(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let t=this.position.index;t<e;t++)this.input[t]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,t){return this.succeedAt(this.position.index+e,t)}failOffset(e,t){return this.failAt(this.position.index+e,t)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,t){return this.advanceTo(e),{success:!0,value:t,furthest:void 0,expected:void 0}}failAt(e,t){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(t)?t:[t]}}merge(e,t){if(e===void 0)return t;let n=(0,Lp.getIndex)(e.furthest),i=(0,Lp.getIndex)(t.furthest);if(i>n)return t;let a=i===n?(0,Lp.arrayUnion)(e.expected,t.expected):e.expected;return t.furthest=e.furthest,t.expected=a,t}};Ul.ParserContext=qp});var sa=vr(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.P_UTILS=void 0;var zl=Vl(),ir=zi(),Vp=class r{static position(){return new zl.Parser(e=>e.succeed(e.getPosition()))}static any(){return new zl.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new zl.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new zl.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return ir.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return ir.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return ir.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return ir.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return ir.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return ir.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return ir.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return ir.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return ir.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return ir.P.regexp(/^\s+/).describe("whitespace")}static cr(){return ir.P.string("\r")}static lf(){return ir.P.string(`
`)}static crlf(){return ir.P.string(`\r
`)}static newline(){return ir.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,t,n){return ir.P.sequenceMap((i,a)=>i.reduce((o,c)=>n(c,o),a),e.many(),t)}static postfix(e,t,n){return ir.P.sequenceMap((i,a)=>a.reduce((o,c)=>n(c,o),i),t,e.many())}static binaryRight(e,t,n){return ir.P.sequenceMap((i,a)=>i.reverse().reduce((o,c)=>{let[u,s]=c;return n(u,s,o)},a),ir.P.sequence(t,e.trim(this.optionalWhitespace())).many(),t)}static binaryLeft(e,t,n){return ir.P.sequenceMap((i,a)=>a.reduce((o,c)=>{let[u,s]=c;return n(o,u,s)},i),t,ir.P.sequence(e.trim(this.optionalWhitespace()),t).many())}static binaryRightRange(e,t,n){return ir.P.sequenceMap((i,a,o)=>i.reverse().reduce((c,u)=>{let[s,l,f]=u;return n({from:s,to:o},l,f,c)},a),ir.P.sequence(r.position(),t,e.trim(this.optionalWhitespace())).many(),t,r.position())}static binaryLeftRange(e,t,n){return ir.P.sequenceMap((i,a,o)=>o.reduce((c,u)=>{let[s,l,f]=u;return n({from:i,to:f},c,s,l)},a),r.position(),t,ir.P.sequence(e.trim(this.optionalWhitespace()),t,r.position()).many())}static func(e,t,n){let i=typeof e=="string"?ir.P.string(e):e;return ir.P.sequenceMap((a,o,c,u,s,l)=>n(a,u),i,ir.P.string("("),this.optionalWhitespace(),t,this.optionalWhitespace(),ir.P.string(")"))}};Hl.P_UTILS=Vp});var AE=vr(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.ParsingError=Ko.createParsingErrorMessage=void 0;function FE(r,e,t){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(t){let o=r.split(`
`)[e.furthest.line-1],c=`${e.furthest.line} |   `;i+=`

${c}${o}`,i+=`
${" ".repeat(e.furthest.column-1+c.length)}^ (${n})`}return i}Ko.createParsingErrorMessage=FE;var Up=class extends Error{constructor(e,t){super(FE(e,t,!0))}};Ko.ParsingError=Up});var Vl=vr(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.Parser=void 0;var ML=CE(),$n=zi(),zp=ql(),$o=sa(),TL=AE(),Hp=class r{constructor(e){this.p=e}tryParse(e){return this.p(new ML.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let t=this.tryParse(e);if(t.success)return t.value;throw new TL.ParsingError(e,t)}or(e){return $n.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim($n.P.string(e))}wrap(e,t){let n=this;return new r(function(a){let o=e.p(a);if(!o.success)return o;let c=a.merge(o,n.p(a));if(!c.success)return c;let u=a.merge(c,t.p(a));return u.success?a.merge(u,a.succeed(c.value)):u})}wrapString(e,t){return this.wrap($n.P.string(e),$n.P.string(t))}then(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return $n.P.sequence(this,e)}many(){let e=this;return new r(function(n){let i,a=n.position.index,o=[];for(;;){let c=n.copy(),u=e.p(c);if(i=n.merge(i,u),i.success){if(c.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(c.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,t){(0,zp.validateRange)(e,t);let n=this;return new r(function(a){let o,c,u=[],s=0;for(;s<e;s++)if(o=n.p(a),c=a.merge(c,o),o.success)u.push(o.value);else return c;for(;s<t;s++){let l=a.copy();if(o=n.p(l),c=a.merge(c,o),o.success)a.moveToPosition(l.position),u.push(o.value);else break}return a.merge(c,a.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return $n.P.sequenceMap((t,n)=>t.concat(n),this.repeat(e,e),this.many())}separateBy(e){return $n.P.separateBy(this,e)}separateByNotEmpty(e){return $n.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let t=this;return new r(function(i){let a=t.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return $n.P.sequenceMap(function(t,n,i){return{value:n,range:{from:t,to:i}}},$o.P_UTILS.position(),this,$o.P_UTILS.position())}namedMarker(e){return $n.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},$o.P_UTILS.position(),this,$o.P_UTILS.position())}node(e){return $n.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},$o.P_UTILS.position(),this,$o.P_UTILS.position())}followedBy(e){return this.skip(zp.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(zp.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let t=this;return new r(function(i){let a=t.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let t=this;return new r(function(i){var a;let o=t.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or($n.P.succeed(e))}chain(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let c=e(a.value).p(i);return i.merge(a,c)})}thenEof(){let e=this;return new r(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,t="",n=new Map,i=new Map;return new r(function(o){let c=o.position.index;if(o.input!==t)t=o.input,n.clear(),i.clear();else{let s=n.get(c),l=i.get(c);if(s!==void 0&&l!==void 0)return o.moveToPosition(Object.assign({},l)),Object.assign({},s)}let u=e.p(o);return n.set(c,Object.assign({},u)),i.set(c,o.getPosition()),u})}};Wl.Parser=Hp});var zi=vr(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.P=void 0;var Un=Vl(),Gl=ql(),Wp=class r{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new Un.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let u=e[o].p(n);if(i=n.merge(i,u),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...t){if(t.length===0)throw new Error("sequenceMap must have at least one parser argument");return new Un.Parser(function(i){let a,o=new Array(t.length);for(let c=0;c<t.length;c++){let s=t[c].p(i);if(a=i.merge(a,s),!a.success)return a;o[c]=a.value}return a.value=e(...o),a})}static createLanguage(e){let t={},n={},i={};for(let a in e)i[a]=r.reference(()=>e[a](t,i)),Object.defineProperty(n,a,{get:()=>{if(t[a]!==void 0)return t[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)t[a]=e[a](n,i);return t}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new Un.Parser(function(n){let i;for(let a of e){let o=a,c=n.copy(),u=o.p(c);if(i=n.merge(i,u),i.success)return n.moveToPosition(c.position),i}return i})}static separateBy(e,t){return this.separateByNotEmpty(e,t).or(r.succeed([]))}static separateByNotEmpty(e,t){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,t.then(e).many())}static string(e){let t="'"+e+"'";return new Un.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(t);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,t){(0,Gl.validateRegexFlags)(e.flags);let n=e.source;return t!==void 0?new Un.Parser(function(a){let o=a.input.slice(a.position.index),c=e.exec(o);if(c!==null){let u=t!=null?t:0;if(u>=0&&u<=c.length){let l=c[0],f=c[u];return a.succeedOffset(l.length,f)}let s="expected valid match group (0 to "+c.length+") in "+n;return a.fail(s)}else return a.fail(n)}):new Un.Parser(function(a){let o=a.input.slice(a.position.index),c=e.exec(o);if(c!==null){let u=c[0];return a.succeedOffset(u.length,u)}else return a.fail(n)})}static succeed(e){return new Un.Parser(function(n){return n.succeed(e)})}static fail(e){return new Un.Parser(function(n){return n.fail(e)})}static oneOf(e){return Gl.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return Gl.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(t=>this.string(t))).describe(e.map(t=>`'${t}'`).join(" or "))}static manyOf(e){return new Un.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new Un.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new Un.Parser(e)}static range(e,t){let n=e.charCodeAt(0),i=t.charCodeAt(0);return Gl.P_HELPERS.test(function(o){let c=o.charCodeAt(0);return n<=c&&c<=i}).describe(`${e}-${t}`)}static takeWhile(e){return new Un.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new Un.Parser(function(n){return e().p(n)})}};jl.P=Wp});var e2=vr(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});require("obsidian");var fa=class extends Error{},Cd=class extends fa{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Fd=class extends fa{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Ad=class extends fa{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Eo=class extends fa{},kc=class extends fa{constructor(e){super(`Invalid unit ${e}`)}},Tn=class extends fa{},Wi=class extends fa{constructor(){super("Zone is an abstract class")}},Qe="numeric",Ai="short",Gn="long",Pc={year:Qe,month:Qe,day:Qe},tF={year:Qe,month:Ai,day:Qe},V5={year:Qe,month:Ai,day:Qe,weekday:Ai},rF={year:Qe,month:Gn,day:Qe},nF={year:Qe,month:Gn,day:Qe,weekday:Gn},iF={hour:Qe,minute:Qe},aF={hour:Qe,minute:Qe,second:Qe},oF={hour:Qe,minute:Qe,second:Qe,timeZoneName:Ai},sF={hour:Qe,minute:Qe,second:Qe,timeZoneName:Gn},uF={hour:Qe,minute:Qe,hourCycle:"h23"},lF={hour:Qe,minute:Qe,second:Qe,hourCycle:"h23"},cF={hour:Qe,minute:Qe,second:Qe,hourCycle:"h23",timeZoneName:Ai},fF={hour:Qe,minute:Qe,second:Qe,hourCycle:"h23",timeZoneName:Gn},mF={year:Qe,month:Qe,day:Qe,hour:Qe,minute:Qe},pF={year:Qe,month:Qe,day:Qe,hour:Qe,minute:Qe,second:Qe},dF={year:Qe,month:Ai,day:Qe,hour:Qe,minute:Qe},hF={year:Qe,month:Ai,day:Qe,hour:Qe,minute:Qe,second:Qe},U5={year:Qe,month:Ai,day:Qe,weekday:Ai,hour:Qe,minute:Qe},gF={year:Qe,month:Gn,day:Qe,hour:Qe,minute:Qe,timeZoneName:Ai},vF={year:Qe,month:Gn,day:Qe,hour:Qe,minute:Qe,second:Qe,timeZoneName:Ai},yF={year:Qe,month:Gn,day:Qe,weekday:Gn,hour:Qe,minute:Qe,timeZoneName:Gn},bF={year:Qe,month:Gn,day:Qe,weekday:Gn,hour:Qe,minute:Qe,second:Qe,timeZoneName:Gn},Fo=class{get type(){throw new Wi}get name(){throw new Wi}get ianaName(){return this.name}get isUniversal(){throw new Wi}offsetName(e,t){throw new Wi}formatOffset(e,t){throw new Wi}offset(e){throw new Wi}equals(e){throw new Wi}get isValid(){throw new Wi}},gd=null,Rc=class r extends Fo{static get instance(){return gd===null&&(gd=new r),gd}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return DF(e,t,n)}formatOffset(e,t){return wu(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},Bc={};function z5(r){return Bc[r]||(Bc[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Bc[r]}var H5={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function W5(r,e){let t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,a,o,c,u,s,l]=n;return[o,i,a,c,u,s,l]}function G5(r,e){let t=r.formatToParts(e),n=[];for(let i=0;i<t.length;i++){let{type:a,value:o}=t[i],c=H5[a];a==="era"?n[c]=o:qt(c)||(n[c]=parseInt(o,10))}return n}var Nc={},La=class r extends Fo{static create(e){return Nc[e]||(Nc[e]=new r(e)),Nc[e]}static resetCache(){Nc={},Bc={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=r.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return DF(e,t,n,this.name)}formatOffset(e,t){return wu(this.offset(e),t)}offset(e){let t=new Date(e);if(isNaN(t))return NaN;let n=z5(this.name),[i,a,o,c,u,s,l]=n.formatToParts?G5(n,t):W5(n,t);c==="BC"&&(i=-Math.abs(i)+1);let m=jd({year:i,month:a,day:o,hour:u===24?0:u,minute:s,second:l,millisecond:0}),p=+t,h=p%1e3;return p-=h>=0?h:1e3+h,(m-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},AC={};function j5(r,e={}){let t=JSON.stringify([r,e]),n=AC[t];return n||(n=new Intl.ListFormat(r,e),AC[t]=n),n}var Sd={};function _d(r,e={}){let t=JSON.stringify([r,e]),n=Sd[t];return n||(n=new Intl.DateTimeFormat(r,e),Sd[t]=n),n}var Nd={};function Z5(r,e={}){let t=JSON.stringify([r,e]),n=Nd[t];return n||(n=new Intl.NumberFormat(r,e),Nd[t]=n),n}var Md={};function Y5(r,e={}){let{base:t,...n}=e,i=JSON.stringify([r,n]),a=Md[i];return a||(a=new Intl.RelativeTimeFormat(r,e),Md[i]=a),a}var xu=null;function J5(){return xu||(xu=new Intl.DateTimeFormat().resolvedOptions().locale,xu)}function X5(r){let e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));let t=r.indexOf("-u-");if(t===-1)return[r];{let n,i;try{n=_d(r).resolvedOptions(),i=r}catch(c){let u=r.substring(0,t);n=_d(u).resolvedOptions(),i=u}let{numberingSystem:a,calendar:o}=n;return[i,a,o]}}function Q5(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function K5(r){let e=[];for(let t=1;t<=12;t++){let n=Mt.utc(2016,t,1);e.push(r(n))}return e}function $5(r){let e=[];for(let t=1;t<=7;t++){let n=Mt.utc(2016,11,13+t);e.push(r(n))}return e}function Mc(r,e,t,n,i){let a=r.listingMode(t);return a==="error"?null:a==="en"?n(e):i(e)}function e7(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}var Td=class{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:i,floor:a,...o}=n;if(!t||Object.keys(o).length>0){let c={useGrouping:!1,...n};n.padTo>0&&(c.minimumIntegerDigits=n.padTo),this.inf=Z5(e,c)}}format(e){if(this.inf){let t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{let t=this.floor?Math.floor(e):Gd(e,3);return Br(t,this.padTo)}}},Id=class{constructor(e,t,n){this.opts=n;let i;if(e.zone.isUniversal){let o=-1*(e.offset/60),c=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&La.create(c).valid?(i=c,this.dt=e):(i="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Mt.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);let a={...this.opts};a.timeZone=a.timeZone||i,this.dtf=_d(t,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},Bd=class{constructor(e,t,n){this.opts={style:"long",...n},!t&&xF()&&(this.rtf=Y5(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):g7(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}},Fr=class r{static fromOpts(e){return r.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,n,i=!1){let a=e||Cr.defaultLocale,o=a||(i?"en-US":J5()),c=t||Cr.defaultNumberingSystem,u=n||Cr.defaultOutputCalendar;return new r(o,c,u,a)}static resetCache(){xu=null,Sd={},Nd={},Md={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n}={}){return r.create(e,t,n)}constructor(e,t,n,i){let[a,o,c]=X5(e);this.locale=a,this.numberingSystem=t||o||null,this.outputCalendar=n||c||null,this.intl=Q5(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=e7(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:r.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,n=!0){return Mc(this,e,n,CF,()=>{let i=t?{month:e,day:"numeric"}:{month:e},a=t?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=K5(o=>this.extract(o,i,"month"))),this.monthsCache[a][e]})}weekdays(e,t=!1,n=!0){return Mc(this,e,n,SF,()=>{let i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=t?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=$5(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return Mc(this,void 0,e,()=>_F,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Mt.utc(2016,11,13,9),Mt.utc(2016,11,13,19)].map(n=>this.extract(n,t,"dayperiod"))}return this.meridiemCache})}eras(e,t=!0){return Mc(this,e,t,NF,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Mt.utc(-40,1,1),Mt.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,t,n){let i=this.dtFormatter(e,t),a=i.formatToParts(),o=a.find(c=>c.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new Td(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Id(e,this.intl,t)}relFormatter(e={}){return new Bd(this.intl,this.isEnglish(),e)}listFormatter(e={}){return j5(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},vd=null,ii=class r extends Fo{static get utcInstance(){return vd===null&&(vd=new r(0)),vd}static instance(e){return e===0?r.utcInstance:new r(e)}static parseSpecifier(e){if(e){let t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new r(Gc(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${wu(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${wu(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return wu(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},Od=class extends Fo{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Ra(r,e){if(qt(r)||r===null)return e;if(r instanceof Fo)return r;if(t7(r)){let t=r.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Rc.instance:t==="utc"||t==="gmt"?ii.utcInstance:ii.parseSpecifier(t)||La.create(r)}else return Co(r)?ii.instance(r):typeof r=="object"&&r.offset&&typeof r.offset=="number"?r:new Od(r)}var SC=()=>Date.now(),_C="system",NC=null,MC=null,TC=null,IC=60,BC,Cr=class{static get now(){return SC}static set now(e){SC=e}static set defaultZone(e){_C=e}static get defaultZone(){return Ra(_C,Rc.instance)}static get defaultLocale(){return NC}static set defaultLocale(e){NC=e}static get defaultNumberingSystem(){return MC}static set defaultNumberingSystem(e){MC=e}static get defaultOutputCalendar(){return TC}static set defaultOutputCalendar(e){TC=e}static get twoDigitCutoffYear(){return IC}static set twoDigitCutoffYear(e){IC=e%100}static get throwOnInvalid(){return BC}static set throwOnInvalid(e){BC=e}static resetCaches(){Fr.resetCache(),La.resetCache()}};function qt(r){return typeof r=="undefined"}function Co(r){return typeof r=="number"}function Wc(r){return typeof r=="number"&&r%1===0}function t7(r){return typeof r=="string"}function r7(r){return Object.prototype.toString.call(r)==="[object Date]"}function xF(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(r){return!1}}function n7(r){return Array.isArray(r)?r:[r]}function OC(r,e,t){if(r.length!==0)return r.reduce((n,i)=>{let a=[e(i),i];return n&&t(n[0],a[0])===n[0]?n:a},null)[1]}function i7(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function ds(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function ca(r,e,t){return Wc(r)&&r>=e&&r<=t}function a7(r,e){return r-e*Math.floor(r/e)}function Br(r,e=2){let t=r<0,n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function Pa(r){if(!(qt(r)||r===null||r===""))return parseInt(r,10)}function Do(r){if(!(qt(r)||r===null||r===""))return parseFloat(r)}function Wd(r){if(!(qt(r)||r===null||r==="")){let e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function Gd(r,e,t=!1){let n=10**e;return(t?Math.trunc:Math.round)(r*n)/n}function Fu(r){return r%4===0&&(r%100!==0||r%400===0)}function Du(r){return Fu(r)?366:365}function Lc(r,e){let t=a7(e-1,12)+1,n=r+(e-t)/12;return t===2?Fu(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function jd(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function qc(r){let e=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7,t=r-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||n===3?53:52}function kd(r){return r>99?r:r>Cr.twoDigitCutoffYear?1900+r:2e3+r}function DF(r,e,t,n=null){let i=new Date(r),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let o={timeZoneName:e,...a},c=new Intl.DateTimeFormat(t,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return c?c.value:null}function Gc(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);let n=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-n:n;return t*60+i}function wF(r){let e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new Tn(`Invalid unit value ${r}`);return e}function Vc(r,e){let t={};for(let n in r)if(ds(r,n)){let i=r[n];if(i==null)continue;t[e(n)]=wF(i)}return t}function wu(r,e){let t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),i=r>=0?"+":"-";switch(e){case"short":return`${i}${Br(t,2)}:${Br(n,2)}`;case"narrow":return`${i}${t}${n>0?`:${n}`:""}`;case"techie":return`${i}${Br(t,2)}${Br(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function jc(r){return i7(r,["hour","minute","second","millisecond"])}var o7=["January","February","March","April","May","June","July","August","September","October","November","December"],EF=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s7=["J","F","M","A","M","J","J","A","S","O","N","D"];function CF(r){switch(r){case"narrow":return[...s7];case"short":return[...EF];case"long":return[...o7];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var FF=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],AF=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],u7=["M","T","W","T","F","S","S"];function SF(r){switch(r){case"narrow":return[...u7];case"short":return[...AF];case"long":return[...FF];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var _F=["AM","PM"],l7=["Before Christ","Anno Domini"],c7=["BC","AD"],f7=["B","A"];function NF(r){switch(r){case"narrow":return[...f7];case"short":return[...c7];case"long":return[...l7];default:return null}}function m7(r){return _F[r.hour<12?0:1]}function p7(r,e){return SF(e)[r.weekday-1]}function d7(r,e){return CF(e)[r.month-1]}function h7(r,e){return NF(e)[r.year<0?0:1]}function g7(r,e,t="always",n=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&a){let f=r==="days";switch(e){case 1:return f?"tomorrow":`next ${i[r][0]}`;case-1:return f?"yesterday":`last ${i[r][0]}`;case 0:return f?"today":`this ${i[r][0]}`}}let o=Object.is(e,-0)||e<0,c=Math.abs(e),u=c===1,s=i[r],l=n?u?s[1]:s[2]||s[1]:u?i[r][0]:r;return o?`${c} ${l} ago`:`in ${c} ${l}`}function kC(r,e){let t="";for(let n of r)n.literal?t+=n.val:t+=e(n.val);return t}var v7={D:Pc,DD:tF,DDD:rF,DDDD:nF,t:iF,tt:aF,ttt:oF,tttt:sF,T:uF,TT:lF,TTT:cF,TTTT:fF,f:mF,ff:dF,fff:gF,ffff:yF,F:pF,FF:hF,FFF:vF,FFFF:bF},Hn=class r{static create(e,t={}){return new r(e,t)}static parseFormat(e){let t=null,n="",i=!1,a=[];for(let o=0;o<e.length;o++){let c=e.charAt(o);c==="'"?(n.length>0&&a.push({literal:i,val:n}),t=null,n="",i=!i):i||c===t?n+=c:(n.length>0&&a.push({literal:!1,val:n}),n=c,t=c)}return n.length>0&&a.push({literal:i,val:n}),a}static macroTokenToFormatOpts(e){return v7[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}formatInterval(e,t={}){return this.loc.dtFormatter(e.start,{...this.opts,...t}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Br(e,t);let n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){let n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(p,h)=>this.loc.extract(e,p,h),o=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",c=()=>n?m7(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(p,h)=>n?d7(e,p):a(h?{month:p}:{month:p,day:"numeric"},"month"),s=(p,h)=>n?p7(e,p):a(h?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),l=p=>{let h=r.macroTokenToFormatOpts(p);return h?this.formatWithSystemDefault(e,h):p},f=p=>n?h7(e,p):a({era:p},"era"),m=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return s("short",!0);case"cccc":return s("long",!0);case"ccccc":return s("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return s("short",!1);case"EEEE":return s("long",!1);case"EEEEE":return s("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return l(p)}};return kC(r.parseFormat(t),m)}formatDurationFromString(e,t){let n=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>s=>{let l=n(s);return l?this.num(u.get(l),s.length):s},a=r.parseFormat(t),o=a.reduce((u,{literal:s,val:l})=>s?u:u.concat(l),[]),c=e.shiftTo(...o.map(n).filter(u=>u));return kC(a,i(c))}},Wn=class{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},MF=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function hs(...r){let e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function gs(...r){return e=>r.reduce(([t,n,i],a)=>{let[o,c,u]=a(e,i);return[{...t,...o},c||n,u]},[{},null,1]).slice(0,2)}function vs(r,...e){if(r==null)return[null,null];for(let[t,n]of e){let i=t.exec(r);if(i)return n(i)}return[null,null]}function TF(...r){return(e,t)=>{let n={},i;for(i=0;i<r.length;i++)n[r[i]]=Pa(e[t+i]);return[n,null,t+i]}}var IF=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,y7=`(?:${IF.source}?(?:\\[(${MF.source})\\])?)?`,Zd=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,BF=RegExp(`${Zd.source}${y7}`),Yd=RegExp(`(?:T${BF.source})?`),b7=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,x7=/(\d{4})-?W(\d\d)(?:-?(\d))?/,D7=/(\d{4})-?(\d{3})/,w7=TF("weekYear","weekNumber","weekDay"),E7=TF("year","ordinal"),C7=/(\d{4})-(\d\d)-(\d\d)/,OF=RegExp(`${Zd.source} ?(?:${IF.source}|(${MF.source}))?`),F7=RegExp(`(?: ${OF.source})?`);function ms(r,e,t){let n=r[e];return qt(n)?t:Pa(n)}function A7(r,e){return[{year:ms(r,e),month:ms(r,e+1,1),day:ms(r,e+2,1)},null,e+3]}function ys(r,e){return[{hours:ms(r,e,0),minutes:ms(r,e+1,0),seconds:ms(r,e+2,0),milliseconds:Wd(r[e+3])},null,e+4]}function Au(r,e){let t=!r[e]&&!r[e+1],n=Gc(r[e+1],r[e+2]),i=t?null:ii.instance(n);return[{},i,e+3]}function Su(r,e){let t=r[e]?La.create(r[e]):null;return[{},t,e+1]}var S7=RegExp(`^T?${Zd.source}$`),_7=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function N7(r){let[e,t,n,i,a,o,c,u,s]=r,l=e[0]==="-",f=u&&u[0]==="-",m=(p,h=!1)=>p!==void 0&&(h||p&&l)?-p:p;return[{years:m(Do(t)),months:m(Do(n)),weeks:m(Do(i)),days:m(Do(a)),hours:m(Do(o)),minutes:m(Do(c)),seconds:m(Do(u),u==="-0"),milliseconds:m(Wd(s),f)}]}var M7={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Jd(r,e,t,n,i,a,o){let c={year:e.length===2?kd(Pa(e)):Pa(e),month:EF.indexOf(t)+1,day:Pa(n),hour:Pa(i),minute:Pa(a)};return o&&(c.second=Pa(o)),r&&(c.weekday=r.length>3?FF.indexOf(r)+1:AF.indexOf(r)+1),c}var T7=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function I7(r){let[,e,t,n,i,a,o,c,u,s,l,f]=r,m=Jd(e,i,n,t,a,o,c),p;return u?p=M7[u]:s?p=0:p=Gc(l,f),[m,new ii(p)]}function B7(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var O7=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,k7=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,P7=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function PC(r){let[,e,t,n,i,a,o,c]=r;return[Jd(e,i,n,t,a,o,c),ii.utcInstance]}function R7(r){let[,e,t,n,i,a,o,c]=r;return[Jd(e,c,t,n,i,a,o),ii.utcInstance]}var L7=hs(b7,Yd),q7=hs(x7,Yd),V7=hs(D7,Yd),U7=hs(BF),kF=gs(A7,ys,Au,Su),z7=gs(w7,ys,Au,Su),H7=gs(E7,ys,Au,Su),W7=gs(ys,Au,Su);function G7(r){return vs(r,[L7,kF],[q7,z7],[V7,H7],[U7,W7])}function j7(r){return vs(B7(r),[T7,I7])}function Z7(r){return vs(r,[O7,PC],[k7,PC],[P7,R7])}function Y7(r){return vs(r,[_7,N7])}var J7=gs(ys);function X7(r){return vs(r,[S7,J7])}var Q7=hs(C7,F7),K7=hs(OF),$7=gs(ys,Au,Su);function e9(r){return vs(r,[Q7,kF],[K7,$7])}var t9="Invalid Duration",PF={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},r9={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...PF},ri=146097/400,ls=146097/4800,n9={years:{quarters:4,months:12,weeks:ri/7,days:ri,hours:ri*24,minutes:ri*24*60,seconds:ri*24*60*60,milliseconds:ri*24*60*60*1e3},quarters:{months:3,weeks:ri/28,days:ri/4,hours:ri*24/4,minutes:ri*24*60/4,seconds:ri*24*60*60/4,milliseconds:ri*24*60*60*1e3/4},months:{weeks:ls/7,days:ls,hours:ls*24,minutes:ls*24*60,seconds:ls*24*60*60,milliseconds:ls*24*60*60*1e3},...PF},wo=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],i9=wo.slice(0).reverse();function ka(r,e,t=!1){let n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new mt(n)}function a9(r){return r<0?Math.floor(r):Math.ceil(r)}function RF(r,e,t,n,i){let a=r[i][t],o=e[t]/a,c=Math.sign(o)===Math.sign(n[i]),u=!c&&n[i]!==0&&Math.abs(o)<=1?a9(o):Math.trunc(o);n[i]+=u,e[t]-=u*a}function o9(r,e){i9.reduce((t,n)=>qt(e[n])?t:(t&&RF(r,e,t,e,n),n),null)}function s9(r){let e={};for(let[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}var mt=class r{constructor(e){let t=e.conversionAccuracy==="longterm"||!1,n=t?n9:r9;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Fr.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return r.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new Tn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new r({values:Vc(e,r.normalizeUnit),loc:Fr.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Co(e))return r.fromMillis(e);if(r.isDuration(e))return e;if(typeof e=="object")return r.fromObject(e);throw new Tn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){let[n]=Y7(e);return n?r.fromObject(n,t):r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){let[n]=X7(e);return n?r.fromObject(n,t):r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new Tn("need to specify a reason the Duration is invalid");let n=e instanceof Wn?e:new Wn(e,t);if(Cr.throwOnInvalid)throw new Ad(n);return new r({invalid:n})}static normalizeUnit(e){let t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new kc(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){let n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Hn.create(this.loc,n).formatDurationFromString(this,e):t9}toHuman(e={}){let t=wo.map(n=>{let i=this.values[n];return qt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Gd(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let n=this.shiftTo("hours","minutes","seconds","milliseconds"),i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let a=n.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let t=r.fromDurationLike(e),n={};for(let i of wo)(ds(t.values,i)||ds(this.values,i))&&(n[i]=t.get(i)+this.get(i));return ka(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let t=r.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;let t={};for(let n of Object.keys(this.values))t[n]=wF(e(this.values[n],n));return ka(this,{values:t},!0)}get(e){return this[r.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let t={...this.values,...Vc(e,r.normalizeUnit)};return ka(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:i}={}){let o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:n};return ka(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return o9(this.matrix,e),ka(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=s9(this.normalize().shiftToAll().toObject());return ka(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>r.normalizeUnit(o));let t={},n={},i=this.toObject(),a;for(let o of wo)if(e.indexOf(o)>=0){a=o;let c=0;for(let s in n)c+=this.matrix[s][o]*n[s],n[s]=0;Co(i[o])&&(c+=i[o]);let u=Math.trunc(c);t[o]=u,n[o]=(c*1e3-u*1e3)/1e3;for(let s in i)wo.indexOf(s)>wo.indexOf(o)&&RF(this.matrix,i,s,t,o)}else Co(i[o])&&(n[o]=i[o]);for(let o in n)n[o]!==0&&(t[a]+=o===a?n[o]:n[o]/this.matrix[a][o]);return ka(this,{values:t},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return ka(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(let n of wo)if(!t(this.values[n],e.values[n]))return!1;return!0}},cs="Invalid Interval";function u9(r,e){return!r||!r.isValid?ps.invalid("missing or invalid start"):!e||!e.isValid?ps.invalid("missing or invalid end"):e<r?ps.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}var ps=class r{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new Tn("need to specify a reason the Interval is invalid");let n=e instanceof Wn?e:new Wn(e,t);if(Cr.throwOnInvalid)throw new Fd(n);return new r({invalid:n})}static fromDateTimes(e,t){let n=yu(e),i=yu(t),a=u9(n,i);return a==null?new r({start:n,end:i}):a}static after(e,t){let n=mt.fromDurationLike(t),i=yu(e);return r.fromDateTimes(i,i.plus(n))}static before(e,t){let n=mt.fromDurationLike(t),i=yu(e);return r.fromDateTimes(i.minus(n),i)}static fromISO(e,t){let[n,i]=(e||"").split("/",2);if(n&&i){let a,o;try{a=Mt.fromISO(n,t),o=a.isValid}catch(s){o=!1}let c,u;try{c=Mt.fromISO(i,t),u=c.isValid}catch(s){u=!1}if(o&&u)return r.fromDateTimes(a,c);if(o){let s=mt.fromISO(i,t);if(s.isValid)return r.after(a,s)}else if(u){let s=mt.fromISO(n,t);if(s.isValid)return r.before(c,s)}}return r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?r.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];let t=e.map(yu).filter(o=>this.contains(o)).sort(),n=[],{s:i}=this,a=0;for(;i<this.e;){let o=t[a]||this.e,c=+o>+this.e?this.e:o;n.push(r.fromDateTimes(i,c)),i=c,a+=1}return n}splitBy(e){let t=mt.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,i=1,a,o=[];for(;n<this.e;){let c=this.start.plus(t.mapUnits(u=>u*i));a=+c>+this.e?this.e:c,o.push(r.fromDateTimes(n,a)),n=a,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:r.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;let t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return r.fromDateTimes(t,n)}static merge(e){let[t,n]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[i,a.union(o)]:[i.concat([a]),o]:[i,o],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0,i=[],a=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...a),c=o.sort((u,s)=>u.time-s.time);for(let u of c)n+=u.type==="s"?1:-1,n===1?t=u.time:(t&&+t!=+u.time&&i.push(r.fromDateTimes(t,u.time)),t=null);return r.merge(i)}difference(...e){return r.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:cs}toLocaleString(e=Pc,t={}){return this.isValid?Hn.create(this.s.loc.clone(t),e).formatInterval(this):cs}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:cs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cs}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:cs}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:cs}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):mt.invalid(this.invalidReason)}mapEndpoints(e){return r.fromDateTimes(e(this.s),e(this.e))}},fs=class{static hasDST(e=Cr.defaultZone){let t=Mt.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return La.isValidZone(e)}static normalizeZone(e){return Ra(e,Cr.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Fr.create(t,n,a)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Fr.create(t,n,a)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Fr.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Fr.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Fr.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return Fr.create(t,null,"gregory").eras(e)}static features(){return{relative:xF()}}};function RC(r,e){let t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(mt.fromMillis(n).as("days"))}function l9(r,e,t){let n=[["years",(u,s)=>s.year-u.year],["quarters",(u,s)=>s.quarter-u.quarter+(s.year-u.year)*4],["months",(u,s)=>s.month-u.month+(s.year-u.year)*12],["weeks",(u,s)=>{let l=RC(u,s);return(l-l%7)/7}],["days",RC]],i={},a=r,o,c;for(let[u,s]of n)t.indexOf(u)>=0&&(o=u,i[u]=s(r,e),c=a.plus(i),c>e?(i[u]--,r=a.plus(i)):r=c);return[r,i,c,o]}function c9(r,e,t,n){let[i,a,o,c]=l9(r,e,t),u=e-i,s=t.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);s.length===0&&(o<e&&(o=i.plus({[c]:1})),o!==i&&(a[c]=(a[c]||0)+u/(o-i)));let l=mt.fromObject(a,n);return s.length>0?mt.fromMillis(u,n).shiftTo(...s).plus(l):l}var Xd={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},LC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},f9=Xd.hanidec.replace(/[\[|\]]/g,"").split("");function m9(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(r[t].search(Xd.hanidec)!==-1)e+=f9.indexOf(r[t]);else for(let i in LC){let[a,o]=LC[i];n>=a&&n<=o&&(e+=n-a)}}return parseInt(e,10)}else return e}function Ei({numberingSystem:r},e=""){return new RegExp(`${Xd[r||"latn"]}${e}`)}var p9="missing Intl.DateTimeFormat.formatToParts support";function Zt(r,e=t=>t){return{regex:r,deser:([t])=>e(m9(t))}}var d9=String.fromCharCode(160),LF=`[ ${d9}]`,qF=new RegExp(LF,"g");function h9(r){return r.replace(/\./g,"\\.?").replace(qF,LF)}function qC(r){return r.replace(/\./g,"").replace(qF," ").toLowerCase()}function Ci(r,e){return r===null?null:{regex:RegExp(r.map(h9).join("|")),deser:([t])=>r.findIndex(n=>qC(t)===qC(n))+e}}function VC(r,e){return{regex:r,deser:([,t,n])=>Gc(t,n),groups:e}}function yd(r){return{regex:r,deser:([e])=>e}}function g9(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function v9(r,e){let t=Ei(e),n=Ei(e,"{2}"),i=Ei(e,"{3}"),a=Ei(e,"{4}"),o=Ei(e,"{6}"),c=Ei(e,"{1,2}"),u=Ei(e,"{1,3}"),s=Ei(e,"{1,6}"),l=Ei(e,"{1,9}"),f=Ei(e,"{2,4}"),m=Ei(e,"{4,6}"),p=g=>({regex:RegExp(g9(g.val)),deser:([v])=>v,literal:!0}),d=(g=>{if(r.literal)return p(g);switch(g.val){case"G":return Ci(e.eras("short",!1),0);case"GG":return Ci(e.eras("long",!1),0);case"y":return Zt(s);case"yy":return Zt(f,kd);case"yyyy":return Zt(a);case"yyyyy":return Zt(m);case"yyyyyy":return Zt(o);case"M":return Zt(c);case"MM":return Zt(n);case"MMM":return Ci(e.months("short",!0,!1),1);case"MMMM":return Ci(e.months("long",!0,!1),1);case"L":return Zt(c);case"LL":return Zt(n);case"LLL":return Ci(e.months("short",!1,!1),1);case"LLLL":return Ci(e.months("long",!1,!1),1);case"d":return Zt(c);case"dd":return Zt(n);case"o":return Zt(u);case"ooo":return Zt(i);case"HH":return Zt(n);case"H":return Zt(c);case"hh":return Zt(n);case"h":return Zt(c);case"mm":return Zt(n);case"m":return Zt(c);case"q":return Zt(c);case"qq":return Zt(n);case"s":return Zt(c);case"ss":return Zt(n);case"S":return Zt(u);case"SSS":return Zt(i);case"u":return yd(l);case"uu":return yd(c);case"uuu":return Zt(t);case"a":return Ci(e.meridiems(),0);case"kkkk":return Zt(a);case"kk":return Zt(f,kd);case"W":return Zt(c);case"WW":return Zt(n);case"E":case"c":return Zt(t);case"EEE":return Ci(e.weekdays("short",!1,!1),1);case"EEEE":return Ci(e.weekdays("long",!1,!1),1);case"ccc":return Ci(e.weekdays("short",!0,!1),1);case"cccc":return Ci(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return VC(new RegExp(`([+-]${c.source})(?::(${n.source}))?`),2);case"ZZZ":return VC(new RegExp(`([+-]${c.source})(${n.source})?`),2);case"z":return yd(/[a-z_+-/]{1,256}?/i);default:return p(g)}})(r)||{invalidReason:p9};return d.token=r,d}var y9={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function b9(r,e){let{type:t,value:n}=r;if(t==="literal")return{literal:!0,val:n};let i=e[t],a=y9[t];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function x9(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function D9(r,e,t){let n=r.match(e);if(n){let i={},a=1;for(let o in t)if(ds(t,o)){let c=t[o],u=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(n.slice(a,a+u))),a+=u}return[n,i]}else return[n,{}]}function w9(r){let e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t=null,n;return qt(r.z)||(t=La.create(r.z)),qt(r.Z)||(t||(t=new ii(r.Z)),n=r.Z),qt(r.q)||(r.M=(r.q-1)*3+1),qt(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),qt(r.u)||(r.S=Wd(r.u)),[Object.keys(r).reduce((a,o)=>{let c=e(o);return c&&(a[c]=r[o]),a},{}),t,n]}var bd=null;function E9(){return bd||(bd=Mt.fromMillis(1555555555555)),bd}function C9(r,e){if(r.literal)return r;let t=Hn.macroTokenToFormatOpts(r.val),n=zF(t,e);return n==null||n.includes(void 0)?r:n}function VF(r,e){return Array.prototype.concat(...r.map(t=>C9(t,e)))}function UF(r,e,t){let n=VF(Hn.parseFormat(t),r),i=n.map(o=>v9(o,r)),a=i.find(o=>o.invalidReason);if(a)return{input:e,tokens:n,invalidReason:a.invalidReason};{let[o,c]=x9(i),u=RegExp(o,"i"),[s,l]=D9(e,u,c),[f,m,p]=l?w9(l):[null,null,void 0];if(ds(l,"a")&&ds(l,"H"))throw new Eo("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:u,rawMatches:s,matches:l,result:f,zone:m,specificOffset:p}}}function F9(r,e,t){let{result:n,zone:i,specificOffset:a,invalidReason:o}=UF(r,e,t);return[n,i,a,o]}function zF(r,e){return r?Hn.create(e,r).formatDateTimeParts(E9()).map(i=>b9(i,r)):null}var HF=[0,31,59,90,120,151,181,212,243,273,304,334],WF=[0,31,60,91,121,152,182,213,244,274,305,335];function ni(r,e){return new Wn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function GF(r,e,t){let n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let i=n.getUTCDay();return i===0?7:i}function jF(r,e,t){return t+(Fu(r)?WF:HF)[e-1]}function ZF(r,e){let t=Fu(r)?WF:HF,n=t.findIndex(a=>a<e),i=e-t[n];return{month:n+1,day:i}}function Pd(r){let{year:e,month:t,day:n}=r,i=jF(e,t,n),a=GF(e,t,n),o=Math.floor((i-a+10)/7),c;return o<1?(c=e-1,o=qc(c)):o>qc(e)?(c=e+1,o=1):c=e,{weekYear:c,weekNumber:o,weekday:a,...jc(r)}}function UC(r){let{weekYear:e,weekNumber:t,weekday:n}=r,i=GF(e,1,4),a=Du(e),o=t*7+n-i-3,c;o<1?(c=e-1,o+=Du(c)):o>a?(c=e+1,o-=Du(e)):c=e;let{month:u,day:s}=ZF(c,o);return{year:c,month:u,day:s,...jc(r)}}function xd(r){let{year:e,month:t,day:n}=r,i=jF(e,t,n);return{year:e,ordinal:i,...jc(r)}}function zC(r){let{year:e,ordinal:t}=r,{month:n,day:i}=ZF(e,t);return{year:e,month:n,day:i,...jc(r)}}function A9(r){let e=Wc(r.weekYear),t=ca(r.weekNumber,1,qc(r.weekYear)),n=ca(r.weekday,1,7);return e?t?n?!1:ni("weekday",r.weekday):ni("week",r.week):ni("weekYear",r.weekYear)}function S9(r){let e=Wc(r.year),t=ca(r.ordinal,1,Du(r.year));return e?t?!1:ni("ordinal",r.ordinal):ni("year",r.year)}function YF(r){let e=Wc(r.year),t=ca(r.month,1,12),n=ca(r.day,1,Lc(r.year,r.month));return e?t?n?!1:ni("day",r.day):ni("month",r.month):ni("year",r.year)}function JF(r){let{hour:e,minute:t,second:n,millisecond:i}=r,a=ca(e,0,23)||e===24&&t===0&&n===0&&i===0,o=ca(t,0,59),c=ca(n,0,59),u=ca(i,0,999);return a?o?c?u?!1:ni("millisecond",i):ni("second",n):ni("minute",t):ni("hour",e)}var Dd="Invalid DateTime",HC=864e13;function Tc(r){return new Wn("unsupported zone",`the zone "${r.name}" is not supported`)}function wd(r){return r.weekData===null&&(r.weekData=Pd(r.c)),r.weekData}function gu(r,e){let t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new Mt({...t,...e,old:t})}function XF(r,e,t){let n=r-e*60*1e3,i=t.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;let a=t.offset(n);return i===a?[n,i]:[r-Math.min(i,a)*60*1e3,Math.max(i,a)]}function WC(r,e){r+=e*60*1e3;let t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Oc(r,e,t){return XF(jd(r),e,t)}function GC(r,e){let t=r.o,n=r.c.year+Math.trunc(e.years),i=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...r.c,year:n,month:i,day:Math.min(r.c.day,Lc(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=mt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=jd(a),[u,s]=XF(c,t,r.zone);return o!==0&&(u+=o,s=r.zone.offset(u)),{ts:u,o:s}}function vu(r,e,t,n,i,a){let{setZone:o,zone:c}=t;if(r&&Object.keys(r).length!==0){let u=e||c,s=Mt.fromObject(r,{...t,zone:u,specificOffset:a});return o?s:s.setZone(c)}else return Mt.invalid(new Wn("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Ic(r,e,t=!0){return r.isValid?Hn.create(Fr.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function Ed(r,e){let t=r.c.year>9999||r.c.year<0,n="";return t&&r.c.year>=0&&(n+="+"),n+=Br(r.c.year,t?6:4),e?(n+="-",n+=Br(r.c.month),n+="-",n+=Br(r.c.day)):(n+=Br(r.c.month),n+=Br(r.c.day)),n}function jC(r,e,t,n,i,a){let o=Br(r.c.hour);return e?(o+=":",o+=Br(r.c.minute),(r.c.second!==0||!t)&&(o+=":")):o+=Br(r.c.minute),(r.c.second!==0||!t)&&(o+=Br(r.c.second),(r.c.millisecond!==0||!n)&&(o+=".",o+=Br(r.c.millisecond,3))),i&&(r.isOffsetFixed&&r.offset===0&&!a?o+="Z":r.o<0?(o+="-",o+=Br(Math.trunc(-r.o/60)),o+=":",o+=Br(Math.trunc(-r.o%60))):(o+="+",o+=Br(Math.trunc(r.o/60)),o+=":",o+=Br(Math.trunc(r.o%60)))),a&&(o+="["+r.zone.ianaName+"]"),o}var QF={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},_9={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},N9={ordinal:1,hour:0,minute:0,second:0,millisecond:0},KF=["year","month","day","hour","minute","second","millisecond"],M9=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],T9=["year","ordinal","hour","minute","second","millisecond"];function ZC(r){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new kc(r);return e}function YC(r,e){let t=Ra(e.zone,Cr.defaultZone),n=Fr.fromObject(e),i=Cr.now(),a,o;if(qt(r.year))a=i;else{for(let s of KF)qt(r[s])&&(r[s]=QF[s]);let c=YF(r)||JF(r);if(c)return Mt.invalid(c);let u=t.offset(i);[a,o]=Oc(r,u,t)}return new Mt({ts:a,zone:t,loc:n,o})}function JC(r,e,t){let n=qt(t.round)?!0:t.round,i=(o,c)=>(o=Gd(o,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,c)),a=o=>t.calendary?e.hasSame(r,o)?0:e.startOf(o).diff(r.startOf(o),o).get(o):e.diff(r,o).get(o);if(t.unit)return i(a(t.unit),t.unit);for(let o of t.units){let c=a(o);if(Math.abs(c)>=1)return i(c,o)}return i(r>e?-0:0,t.units[t.units.length-1])}function XC(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}var Mt=class r{constructor(e){let t=e.zone||Cr.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Wn("invalid input"):null)||(t.isValid?null:Tc(t));this.ts=qt(e.ts)?Cr.now():e.ts;let i=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,a]=[e.old.c,e.old.o];else{let c=t.offset(this.ts);i=WC(this.ts,c),n=Number.isNaN(i.year)?new Wn("invalid input"):null,i=n?null:i,a=n?null:c}this._zone=t,this.loc=e.loc||Fr.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new r({})}static local(){let[e,t]=XC(arguments),[n,i,a,o,c,u,s]=t;return YC({year:n,month:i,day:a,hour:o,minute:c,second:u,millisecond:s},e)}static utc(){let[e,t]=XC(arguments),[n,i,a,o,c,u,s]=t;return e.zone=ii.utcInstance,YC({year:n,month:i,day:a,hour:o,minute:c,second:u,millisecond:s},e)}static fromJSDate(e,t={}){let n=r7(e)?e.valueOf():NaN;if(Number.isNaN(n))return r.invalid("invalid input");let i=Ra(t.zone,Cr.defaultZone);return i.isValid?new r({ts:n,zone:i,loc:Fr.fromObject(t)}):r.invalid(Tc(i))}static fromMillis(e,t={}){if(Co(e))return e<-HC||e>HC?r.invalid("Timestamp out of range"):new r({ts:e,zone:Ra(t.zone,Cr.defaultZone),loc:Fr.fromObject(t)});throw new Tn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Co(e))return new r({ts:e*1e3,zone:Ra(t.zone,Cr.defaultZone),loc:Fr.fromObject(t)});throw new Tn("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};let n=Ra(t.zone,Cr.defaultZone);if(!n.isValid)return r.invalid(Tc(n));let i=Cr.now(),a=qt(t.specificOffset)?n.offset(i):t.specificOffset,o=Vc(e,ZC),c=!qt(o.ordinal),u=!qt(o.year),s=!qt(o.month)||!qt(o.day),l=u||s,f=o.weekYear||o.weekNumber,m=Fr.fromObject(t);if((l||c)&&f)throw new Eo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&c)throw new Eo("Can't mix ordinal dates with month/day");let p=f||o.weekday&&!l,h,d,g=WC(i,a);p?(h=M9,d=_9,g=Pd(g)):c?(h=T9,d=N9,g=xd(g)):(h=KF,d=QF);let v=!1;for(let A of h){let E=o[A];qt(E)?v?o[A]=d[A]:o[A]=g[A]:v=!0}let C=p?A9(o):c?S9(o):YF(o),y=C||JF(o);if(y)return r.invalid(y);let D=p?UC(o):c?zC(o):o,[b,x]=Oc(D,a,n),w=new r({ts:b,zone:n,o:x,loc:m});return o.weekday&&l&&e.weekday!==w.weekday?r.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${w.toISO()}`):w}static fromISO(e,t={}){let[n,i]=G7(e);return vu(n,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){let[n,i]=j7(e);return vu(n,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){let[n,i]=Z7(e);return vu(n,i,t,"HTTP",t)}static fromFormat(e,t,n={}){if(qt(e)||qt(t))throw new Tn("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:a=null}=n,o=Fr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[c,u,s,l]=F9(o,e,t);return l?r.invalid(l):vu(c,u,n,`format ${t}`,e,s)}static fromString(e,t,n={}){return r.fromFormat(e,t,n)}static fromSQL(e,t={}){let[n,i]=e9(e);return vu(n,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new Tn("need to specify a reason the DateTime is invalid");let n=e instanceof Wn?e:new Wn(e,t);if(Cr.throwOnInvalid)throw new Cd(n);return new r({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){let n=zF(e,Fr.fromObject(t));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return VF(Hn.parseFormat(e),Fr.fromObject(t)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?wd(this).weekYear:NaN}get weekNumber(){return this.isValid?wd(this).weekNumber:NaN}get weekday(){return this.isValid?wd(this).weekday:NaN}get ordinal(){return this.isValid?xd(this.c).ordinal:NaN}get monthShort(){return this.isValid?fs.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?fs.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?fs.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?fs.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Fu(this.year)}get daysInMonth(){return Lc(this.year,this.month)}get daysInYear(){return this.isValid?Du(this.year):NaN}get weeksInWeekYear(){return this.isValid?qc(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:t,numberingSystem:n,calendar:i}=Hn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(ii.instance(e),t)}toLocal(){return this.setZone(Cr.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=Ra(e,Cr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||n){let a=e.offset(this.ts),o=this.toObject();[i]=Oc(o,a,e)}return gu(this,{ts:i,zone:e})}else return r.invalid(Tc(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){let i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return gu(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let t=Vc(e,ZC),n=!qt(t.weekYear)||!qt(t.weekNumber)||!qt(t.weekday),i=!qt(t.ordinal),a=!qt(t.year),o=!qt(t.month)||!qt(t.day),c=a||o,u=t.weekYear||t.weekNumber;if((c||i)&&u)throw new Eo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new Eo("Can't mix ordinal dates with month/day");let s;n?s=UC({...Pd(this.c),...t}):qt(t.ordinal)?(s={...this.toObject(),...t},qt(t.day)&&(s.day=Math.min(Lc(s.year,s.month),s.day))):s=zC({...xd(this.c),...t});let[l,f]=Oc(s,this.o,this.zone);return gu(this,{ts:l,o:f})}plus(e){if(!this.isValid)return this;let t=mt.fromDurationLike(e);return gu(this,GC(this,t))}minus(e){if(!this.isValid)return this;let t=mt.fromDurationLike(e).negate();return gu(this,GC(this,t))}startOf(e){if(!this.isValid)return this;let t={},n=mt.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(n==="weeks"&&(t.weekday=1),n==="quarters"){let i=Math.ceil(this.month/3);t.month=(i-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?Hn.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Dd}toLocaleString(e=Pc,t={}){return this.isValid?Hn.create(this.loc.clone(t),e).formatDateTime(this):Dd}toLocaleParts(e={}){return this.isValid?Hn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;let o=e==="extended",c=Ed(this,o);return c+="T",c+=jC(this,o,t,n,i,a),c}toISODate({format:e="extended"}={}){return this.isValid?Ed(this,e==="extended"):null}toISOWeekDate(){return Ic(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:a=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+jC(this,o==="extended",t,e,n,a):null}toRFC2822(){return Ic(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ic(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ed(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(n&&(i+=" "),t?i+="z":e&&(i+="ZZ")),Ic(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Dd}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return mt.invalid("created by diffing an invalid DateTime");let i={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=n7(t).map(mt.normalizeUnit),o=e.valueOf()>this.valueOf(),c=o?this:e,u=o?e:this,s=c9(c,u,a,i);return o?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(r.now(),e,t)}until(e){return this.isValid?ps.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;let n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t)<=n&&n<=i.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let t=e.base||r.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),JC(t,this.plus(n),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?JC(e.base||r.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(r.isDateTime))throw new Tn("min requires all arguments be DateTimes");return OC(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(r.isDateTime))throw new Tn("max requires all arguments be DateTimes");return OC(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){let{locale:i=null,numberingSystem:a=null}=n,o=Fr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return UF(o,e,t)}static fromStringExplain(e,t,n={}){return r.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return Pc}static get DATE_MED(){return tF}static get DATE_MED_WITH_WEEKDAY(){return V5}static get DATE_FULL(){return rF}static get DATE_HUGE(){return nF}static get TIME_SIMPLE(){return iF}static get TIME_WITH_SECONDS(){return aF}static get TIME_WITH_SHORT_OFFSET(){return oF}static get TIME_WITH_LONG_OFFSET(){return sF}static get TIME_24_SIMPLE(){return uF}static get TIME_24_WITH_SECONDS(){return lF}static get TIME_24_WITH_SHORT_OFFSET(){return cF}static get TIME_24_WITH_LONG_OFFSET(){return fF}static get DATETIME_SHORT(){return mF}static get DATETIME_SHORT_WITH_SECONDS(){return pF}static get DATETIME_MED(){return dF}static get DATETIME_MED_WITH_SECONDS(){return hF}static get DATETIME_MED_WITH_WEEKDAY(){return U5}static get DATETIME_FULL(){return gF}static get DATETIME_FULL_WITH_SECONDS(){return vF}static get DATETIME_HUGE(){return yF}static get DATETIME_HUGE_WITH_SECONDS(){return bF}};function yu(r){if(Mt.isDateTime(r))return r;if(r&&r.valueOf&&Co(r.valueOf()))return Mt.fromJSDate(r);if(r&&typeof r=="object")return Mt.fromObject(r);throw new Tn(`Unknown datetime argument: ${r}, of type ${typeof r}`)}var Qd={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},I9={allowHtml:!0};({...Qd,...I9});var Rd=class r{constructor(e){this.value=e,this.successful=!0}map(e){return new r(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,t){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},Ld=class r{constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new r(e(this.error))}bimap(e,t){return this.mapErr(t)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},Uc;(function(r){function e(a){return new Rd(a)}r.success=e;function t(a){return new Ld(a)}r.failure=t;function n(a,o,c){return a.successful?o.successful?c(a.value,o.value):t(o.error):t(a.error)}r.flatMap2=n;function i(a,o,c){return n(a,o,(u,s)=>e(c(u,s)))}r.map2=i})(Uc||(Uc={}));var B9=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ee={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(typeof self!="undefined"?self:B9,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=n,i.d=function(a,o,c){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},i.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=0)}([function(t,n,i){function a(_){if(!(this instanceof a))return new a(_);this._=_}var o=a.prototype;function c(_,L){for(var Y=0;Y<_;Y++)L(Y)}function u(_,L,Y){return function(le,ye){c(ye.length,function(Te){le(ye[Te],Te,ye)})}(function(le,ye,Te){L=_(L,le,ye,Te)},Y),L}function s(_,L){return u(function(Y,le,ye,Te){return Y.concat([_(le,ye,Te)])},[],L)}function l(_,L){var Y={v:0,buf:L};return c(_,function(){var le;Y={v:Y.v<<1|(le=Y.buf,le[0]>>7),buf:function(ye){var Te=u(function(Ve,st,Ht,Ir){return Ve.concat(Ht===Ir.length-1?Buffer.from([st,0]).readUInt16BE(0):Ir.readUInt16BE(Ht))},[],ye);return Buffer.from(s(function(Ve){return(Ve<<1&65535)>>8},Te))}(Y.buf)}}),Y}function f(){return typeof Buffer!="undefined"}function m(){if(!f())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function p(_){m();var L=u(function(Te,Ve){return Te+Ve},0,_);if(L%8!=0)throw new Error("The bits ["+_.join(", ")+"] add up to "+L+" which is not an even number of bytes; the total should be divisible by 8");var Y,le=L/8,ye=(Y=function(Te){return Te>48},u(function(Te,Ve){return Te||(Y(Ve)?Ve:Te)},null,_));if(ye)throw new Error(ye+" bit range requested exceeds 48 bit (6 byte) Number max.");return new a(function(Te,Ve){var st=le+Ve;return st>Te.length?A(Ve,le.toString()+" bytes"):w(st,u(function(Ht,Ir){var Pr=l(Ir,Ht.buf);return{coll:Ht.coll.concat(Pr.v),buf:Pr.buf}},{coll:[],buf:Te.slice(Ve,st)},_).coll)})}function h(_,L){return new a(function(Y,le){return m(),le+L>Y.length?A(le,L+" bytes for "+_):w(le+L,Y.slice(le,le+L))})}function d(_,L){if(typeof(Y=L)!="number"||Math.floor(Y)!==Y||L<0||L>6)throw new Error(_+" requires integer length in range [0, 6].");var Y}function g(_){return d("uintBE",_),h("uintBE("+_+")",_).map(function(L){return L.readUIntBE(0,_)})}function v(_){return d("uintLE",_),h("uintLE("+_+")",_).map(function(L){return L.readUIntLE(0,_)})}function C(_){return d("intBE",_),h("intBE("+_+")",_).map(function(L){return L.readIntBE(0,_)})}function y(_){return d("intLE",_),h("intLE("+_+")",_).map(function(L){return L.readIntLE(0,_)})}function D(_){return _ instanceof a}function b(_){return{}.toString.call(_)==="[object Array]"}function x(_){return f()&&Buffer.isBuffer(_)}function w(_,L){return{status:!0,index:_,value:L,furthest:-1,expected:[]}}function A(_,L){return b(L)||(L=[L]),{status:!1,index:-1,value:null,furthest:_,expected:L}}function E(_,L){if(!L||_.furthest>L.furthest)return _;var Y=_.furthest===L.furthest?function(le,ye){if(function(){if(a._supportsSet!==void 0)return a._supportsSet;var vi=typeof Set!="undefined";return a._supportsSet=vi,vi}()&&Array.from){for(var Te=new Set(le),Ve=0;Ve<ye.length;Ve++)Te.add(ye[Ve]);var st=Array.from(Te);return st.sort(),st}for(var Ht={},Ir=0;Ir<le.length;Ir++)Ht[le[Ir]]=!0;for(var Pr=0;Pr<ye.length;Pr++)Ht[ye[Pr]]=!0;var gi=[];for(var wn in Ht)({}).hasOwnProperty.call(Ht,wn)&&gi.push(wn);return gi.sort(),gi}(_.expected,L.expected):L.expected;return{status:_.status,index:_.index,value:_.value,furthest:L.furthest,expected:Y}}var F={};function M(_,L){if(x(_))return{offset:L,line:-1,column:-1};_ in F||(F[_]={});for(var Y=F[_],le=0,ye=0,Te=0,Ve=L;Ve>=0;){if(Ve in Y){le=Y[Ve].line,Te===0&&(Te=Y[Ve].lineStart);break}(_.charAt(Ve)===`
`||_.charAt(Ve)==="\r"&&_.charAt(Ve+1)!==`
`)&&(ye++,Te===0&&(Te=Ve+1)),Ve--}var st=le+ye,Ht=L-Te;return Y[L]={line:st,lineStart:Te},{offset:L,line:st+1,column:Ht+1}}function B(_){if(!D(_))throw new Error("not a parser: "+_)}function k(_,L){return typeof _=="string"?_.charAt(L):_[L]}function P(_){if(typeof _!="number")throw new Error("not a number: "+_)}function R(_){if(typeof _!="function")throw new Error("not a function: "+_)}function T(_){if(typeof _!="string")throw new Error("not a string: "+_)}var I=2,V=3,O=8,J=5*O,$=4*O,H="  ";function q(_,L){return new Array(L+1).join(_)}function ne(_,L,Y){var le=L-_.length;return le<=0?_:q(Y,le)+_}function be(_,L,Y,le){return{from:_-L>0?_-L:0,to:_+Y>le?le:_+Y}}function oe(_,L){var Y,le,ye,Te,Ve,st=L.index,Ht=st.offset,Ir=1;if(Ht===_.length)return"Got the end of the input";if(x(_)){var Pr=Ht-Ht%O,gi=Ht-Pr,wn=be(Pr,J,$+O,_.length),vi=s(function(Nr){return s(function(Ca){return ne(Ca.toString(16),2,"0")},Nr)},function(Nr,Ca){var Fa=Nr.length,ra=[],Aa=0;if(Fa<=Ca)return[Nr.slice()];for(var Sa=0;Sa<Fa;Sa++)ra[Aa]||ra.push([]),ra[Aa].push(Nr[Sa]),(Sa+1)%Ca==0&&Aa++;return ra}(_.slice(wn.from,wn.to).toJSON().data,O));Te=function(Nr){return Nr.from===0&&Nr.to===1?{from:Nr.from,to:Nr.to}:{from:Nr.from/O,to:Math.floor(Nr.to/O)}}(wn),le=Pr/O,Y=3*gi,gi>=4&&(Y+=1),Ir=2,ye=s(function(Nr){return Nr.length<=4?Nr.join(" "):Nr.slice(0,4).join(" ")+"  "+Nr.slice(4).join(" ")},vi),(Ve=(8*(Te.to>0?Te.to-1:Te.to)).toString(16).length)<2&&(Ve=2)}else{var Ea=_.split(/\r\n|[\n\r\u2028\u2029]/);Y=st.column-1,le=st.line-1,Te=be(le,I,V,Ea.length),ye=Ea.slice(Te.from,Te.to),Ve=Te.to.toString().length}var $m=le-Te.from;return x(_)&&(Ve=(8*(Te.to>0?Te.to-1:Te.to)).toString(16).length)<2&&(Ve=2),u(function(Nr,Ca,Fa){var ra,Aa=Fa===$m,Sa=Aa?"> ":H;return ra=x(_)?ne((8*(Te.from+Fa)).toString(16),Ve,"0"):ne((Te.from+Fa+1).toString(),Ve," "),[].concat(Nr,[Sa+ra+" | "+Ca],Aa?[H+q(" ",Ve)+" | "+ne("",Y," ")+q("^",Ir)]:[])},[],ye).join(`
`)}function ue(_,L){return[`
`,"-- PARSING FAILED "+q("-",50),`

`,oe(_,L),`

`,(Y=L.expected,Y.length===1?`Expected:

`+Y[0]:`Expected one of the following: 

`+Y.join(", ")),`
`].join("");var Y}function me(_){return _.flags!==void 0?_.flags:[_.global?"g":"",_.ignoreCase?"i":"",_.multiline?"m":"",_.unicode?"u":"",_.sticky?"y":""].join("")}function se(){for(var _=[].slice.call(arguments),L=_.length,Y=0;Y<L;Y+=1)B(_[Y]);return a(function(le,ye){for(var Te,Ve=new Array(L),st=0;st<L;st+=1){if(!(Te=E(_[st]._(le,ye),Te)).status)return Te;Ve[st]=Te.value,ye=Te.index}return E(w(ye,Ve),Te)})}function ce(){var _=[].slice.call(arguments);if(_.length===0)throw new Error("seqMap needs at least one argument");var L=_.pop();return R(L),se.apply(null,_).map(function(Y){return L.apply(null,Y)})}function pe(){var _=[].slice.call(arguments),L=_.length;if(L===0)return fe("zero alternates");for(var Y=0;Y<L;Y+=1)B(_[Y]);return a(function(le,ye){for(var Te,Ve=0;Ve<_.length;Ve+=1)if((Te=E(_[Ve]._(le,ye),Te)).status)return Te;return Te})}function ge(_,L){return Re(_,L).or(j([]))}function Re(_,L){return B(_),B(L),ce(_,L.then(_).many(),function(Y,le){return[Y].concat(le)})}function Ee(_){T(_);var L="'"+_+"'";return a(function(Y,le){var ye=le+_.length,Te=Y.slice(le,ye);return Te===_?w(ye,Te):A(le,L)})}function z(_,L){(function(ye){if(!(ye instanceof RegExp))throw new Error("not a regexp: "+ye);for(var Te=me(ye),Ve=0;Ve<Te.length;Ve++){var st=Te.charAt(Ve);if(st!=="i"&&st!=="m"&&st!=="u"&&st!=="s")throw new Error('unsupported regexp flag "'+st+'": '+ye)}})(_),arguments.length>=2?P(L):L=0;var Y=function(ye){return RegExp("^(?:"+ye.source+")",me(ye))}(_),le=""+_;return a(function(ye,Te){var Ve=Y.exec(ye.slice(Te));if(Ve){if(0<=L&&L<=Ve.length){var st=Ve[0],Ht=Ve[L];return w(Te+st.length,Ht)}return A(Te,"valid match group (0 to "+Ve.length+") in "+le)}return A(Te,le)})}function j(_){return a(function(L,Y){return w(Y,_)})}function fe(_){return a(function(L,Y){return A(Y,_)})}function W(_){if(D(_))return a(function(L,Y){var le=_._(L,Y);return le.index=Y,le.value="",le});if(typeof _=="string")return W(Ee(_));if(_ instanceof RegExp)return W(z(_));throw new Error("not a string, regexp, or parser: "+_)}function K(_){return B(_),a(function(L,Y){var le=_._(L,Y),ye=L.slice(Y,le.index);return le.status?A(Y,'not "'+ye+'"'):w(Y,null)})}function ie(_){return R(_),a(function(L,Y){var le=k(L,Y);return Y<L.length&&_(le)?w(Y+1,le):A(Y,"a character/byte matching "+_)})}function ve(_,L){arguments.length<2&&(L=_,_=void 0);var Y=a(function(le,ye){return Y._=L()._,Y._(le,ye)});return _?Y.desc(_):Y}function xe(){return fe("fantasy-land/empty")}o.parse=function(_){if(typeof _!="string"&&!x(_))throw new Error(".parse must be called with a string or Buffer as its argument");var L,Y=this.skip(pt)._(_,0);return L=Y.status?{status:!0,value:Y.value}:{status:!1,index:M(_,Y.furthest),expected:Y.expected},delete F[_],L},o.tryParse=function(_){var L=this.parse(_);if(L.status)return L.value;var Y=ue(_,L),le=new Error(Y);throw le.type="ParsimmonError",le.result=L,le},o.assert=function(_,L){return this.chain(function(Y){return _(Y)?j(Y):fe(L)})},o.or=function(_){return pe(this,_)},o.trim=function(_){return this.wrap(_,_)},o.wrap=function(_,L){return ce(_,this,L,function(Y,le){return le})},o.thru=function(_){return _(this)},o.then=function(_){return B(_),se(this,_).map(function(L){return L[1]})},o.many=function(){var _=this;return a(function(L,Y){for(var le=[],ye=void 0;;){if(!(ye=E(_._(L,Y),ye)).status)return E(w(Y,le),ye);if(Y===ye.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");Y=ye.index,le.push(ye.value)}})},o.tieWith=function(_){return T(_),this.map(function(L){if(function(ye){if(!b(ye))throw new Error("not an array: "+ye)}(L),L.length){T(L[0]);for(var Y=L[0],le=1;le<L.length;le++)T(L[le]),Y+=_+L[le];return Y}return""})},o.tie=function(){return this.tieWith("")},o.times=function(_,L){var Y=this;return arguments.length<2&&(L=_),P(_),P(L),a(function(le,ye){for(var Te=[],Ve=void 0,st=void 0,Ht=0;Ht<_;Ht+=1){if(st=E(Ve=Y._(le,ye),st),!Ve.status)return st;ye=Ve.index,Te.push(Ve.value)}for(;Ht<L&&(st=E(Ve=Y._(le,ye),st),Ve.status);Ht+=1)ye=Ve.index,Te.push(Ve.value);return E(w(ye,Te),st)})},o.result=function(_){return this.map(function(){return _})},o.atMost=function(_){return this.times(0,_)},o.atLeast=function(_){return ce(this.times(_),this.many(),function(L,Y){return L.concat(Y)})},o.map=function(_){R(_);var L=this;return a(function(Y,le){var ye=L._(Y,le);return ye.status?E(w(ye.index,_(ye.value)),ye):ye})},o.contramap=function(_){R(_);var L=this;return a(function(Y,le){var ye=L.parse(_(Y.slice(le)));return ye.status?w(le+Y.length,ye.value):ye})},o.promap=function(_,L){return R(_),R(L),this.contramap(_).map(L)},o.skip=function(_){return se(this,_).map(function(L){return L[0]})},o.mark=function(){return ce(qe,this,qe,function(_,L,Y){return{start:_,value:L,end:Y}})},o.node=function(_){return ce(qe,this,qe,function(L,Y,le){return{name:_,value:Y,start:L,end:le}})},o.sepBy=function(_){return ge(this,_)},o.sepBy1=function(_){return Re(this,_)},o.lookahead=function(_){return this.skip(W(_))},o.notFollowedBy=function(_){return this.skip(K(_))},o.desc=function(_){b(_)||(_=[_]);var L=this;return a(function(Y,le){var ye=L._(Y,le);return ye.status||(ye.expected=_),ye})},o.fallback=function(_){return this.or(j(_))},o.ap=function(_){return ce(_,this,function(L,Y){return L(Y)})},o.chain=function(_){var L=this;return a(function(Y,le){var ye=L._(Y,le);return ye.status?E(_(ye.value)._(Y,ye.index),ye):ye})},o.concat=o.or,o.empty=xe,o.of=j,o["fantasy-land/ap"]=o.ap,o["fantasy-land/chain"]=o.chain,o["fantasy-land/concat"]=o.concat,o["fantasy-land/empty"]=o.empty,o["fantasy-land/of"]=o.of,o["fantasy-land/map"]=o.map;var qe=a(function(_,L){return w(L,M(_,L))}),Se=a(function(_,L){return L>=_.length?A(L,"any character/byte"):w(L+1,k(_,L))}),ft=a(function(_,L){return w(_.length,_.slice(L))}),pt=a(function(_,L){return L<_.length?A(L,"EOF"):w(L,null)}),Tt=z(/[0-9]/).desc("a digit"),zt=z(/[0-9]*/).desc("optional digits"),Z=z(/[a-z]/i).desc("a letter"),ae=z(/[a-z]*/i).desc("optional letters"),de=z(/\s*/).desc("optional whitespace"),Fe=z(/\s+/).desc("whitespace"),Be=Ee("\r"),Ae=Ee(`
`),Me=Ee(`\r
`),Le=pe(Me,Ae,Be).desc("newline"),N=pe(Le,pt);a.all=ft,a.alt=pe,a.any=Se,a.cr=Be,a.createLanguage=function(_){var L={};for(var Y in _)({}).hasOwnProperty.call(_,Y)&&function(le){L[le]=ve(function(){return _[le](L)})}(Y);return L},a.crlf=Me,a.custom=function(_){return a(_(w,A))},a.digit=Tt,a.digits=zt,a.empty=xe,a.end=N,a.eof=pt,a.fail=fe,a.formatError=ue,a.index=qe,a.isParser=D,a.lazy=ve,a.letter=Z,a.letters=ae,a.lf=Ae,a.lookahead=W,a.makeFailure=A,a.makeSuccess=w,a.newline=Le,a.noneOf=function(_){return ie(function(L){return _.indexOf(L)<0}).desc("none of '"+_+"'")},a.notFollowedBy=K,a.of=j,a.oneOf=function(_){for(var L=_.split(""),Y=0;Y<L.length;Y++)L[Y]="'"+L[Y]+"'";return ie(function(le){return _.indexOf(le)>=0}).desc(L)},a.optWhitespace=de,a.Parser=a,a.range=function(_,L){return ie(function(Y){return _<=Y&&Y<=L}).desc(_+"-"+L)},a.regex=z,a.regexp=z,a.sepBy=ge,a.sepBy1=Re,a.seq=se,a.seqMap=ce,a.seqObj=function(){for(var _,L={},Y=0,le=(_=arguments,Array.prototype.slice.call(_)),ye=le.length,Te=0;Te<ye;Te+=1){var Ve=le[Te];if(!D(Ve)){if(b(Ve)&&Ve.length===2&&typeof Ve[0]=="string"&&D(Ve[1])){var st=Ve[0];if(Object.prototype.hasOwnProperty.call(L,st))throw new Error("seqObj: duplicate key "+st);L[st]=!0,Y++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(Y===0)throw new Error("seqObj expects at least one named parser, found zero");return a(function(Ht,Ir){for(var Pr,gi={},wn=0;wn<ye;wn+=1){var vi,Ea;if(b(le[wn])?(vi=le[wn][0],Ea=le[wn][1]):(vi=null,Ea=le[wn]),!(Pr=E(Ea._(Ht,Ir),Pr)).status)return Pr;vi&&(gi[vi]=Pr.value),Ir=Pr.index}return E(w(Ir,gi),Pr)})},a.string=Ee,a.succeed=j,a.takeWhile=function(_){return R(_),a(function(L,Y){for(var le=Y;le<L.length&&_(k(L,le));)le++;return w(le,L.slice(Y,le))})},a.test=ie,a.whitespace=Fe,a["fantasy-land/empty"]=xe,a["fantasy-land/of"]=j,a.Binary={bitSeq:p,bitSeqObj:function(_){m();var L={},Y=0,le=s(function(Te){if(b(Te)){var Ve=Te;if(Ve.length!==2)throw new Error("["+Ve.join(", ")+"] should be length 2, got length "+Ve.length);if(T(Ve[0]),P(Ve[1]),Object.prototype.hasOwnProperty.call(L,Ve[0]))throw new Error("duplicate key in bitSeqObj: "+Ve[0]);return L[Ve[0]]=!0,Y++,Ve}return P(Te),[null,Te]},_);if(Y<1)throw new Error("bitSeqObj expects at least one named pair, got ["+_.join(", ")+"]");var ye=s(function(Te){return Te[0]},le);return p(s(function(Te){return Te[1]},le)).map(function(Te){return u(function(Ve,st){return st[0]!==null&&(Ve[st[0]]=st[1]),Ve},{},s(function(Ve,st){return[Ve,Te[st]]},ye))})},byte:function(_){if(m(),P(_),_>255)throw new Error("Value specified to byte constructor ("+_+"=0x"+_.toString(16)+") is larger in value than a single byte.");var L=(_>15?"0x":"0x0")+_.toString(16);return a(function(Y,le){var ye=k(Y,le);return ye===_?w(le+1,ye):A(le,L)})},buffer:function(_){return h("buffer",_).map(function(L){return Buffer.from(L)})},encodedString:function(_,L){return h("string",L).map(function(Y){return Y.toString(_)})},uintBE:g,uint8BE:g(1),uint16BE:g(2),uint32BE:g(4),uintLE:v,uint8LE:v(1),uint16LE:v(2),uint32LE:v(4),intBE:C,int8BE:C(1),int16BE:C(2),int32BE:C(4),intLE:y,int8LE:y(1),int16LE:y(2),int32LE:y(4),floatBE:h("floatBE",4).map(function(_){return _.readFloatBE(0)}),floatLE:h("floatLE",4).map(function(_){return _.readFloatLE(0)}),doubleBE:h("doubleBE",8).map(function(_){return _.readDoubleBE(0)}),doubleLE:h("doubleLE",8).map(function(_){return _.readDoubleLE(0)})},t.exports=a}])})})(ee);var Kd=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function $F(r){return r==null?r:r.shiftToAll().normalize()}function QC(r){return r.includes("/")&&(r=r.substring(r.lastIndexOf("/")+1)),r.endsWith(".md")&&(r=r.substring(0,r.length-3)),r}ee.exports.alt(ee.exports.regex(new RegExp(Kd(),"")),ee.exports.regex(/[0-9\p{Letter}_-]+/u).map(r=>r.toLocaleLowerCase()),ee.exports.whitespace.map(r=>"-"),ee.exports.any.map(r=>"")).many().map(r=>r.join(""));var O9=ee.exports.alt(ee.exports.regex(new RegExp(Kd(),"")),ee.exports.regex(/[0-9\p{Letter}_-]+/u),ee.exports.whitespace.map(r=>" "),ee.exports.any.map(r=>" ")).many().map(r=>r.join("").split(/\s+/).join(" ").trim());function k9(r){return O9.tryParse(r)}function P9(r){return r=$F(r),r=mt.fromObject(Object.fromEntries(Object.entries(r.toObject()).filter(([,e])=>e>0))),r.toHuman()}var Eu;(function(r){function e(D,b=Qd,x=!1){let w=t(D);if(!w)return b.renderNullAs;switch(w.type){case"null":return b.renderNullAs;case"string":return w.value;case"number":case"boolean":return""+w.value;case"html":return w.value.outerHTML;case"widget":return w.value.markdown();case"link":return w.value.markdown();case"function":return"<function>";case"array":let A="";return x&&(A+="["),A+=w.value.map(E=>e(E,b,!0)).join(", "),x&&(A+="]"),A;case"object":return"{ "+Object.entries(w.value).map(E=>E[0]+": "+e(E[1],b,!0)).join(", ")+" }";case"date":return w.value.second==0&&w.value.hour==0&&w.value.minute==0?w.value.toFormat(b.defaultDateFormat):w.value.toFormat(b.defaultDateTimeFormat);case"duration":return P9(w.value)}}r.toString=e;function t(D){return m(D)?{type:"null",value:D}:s(D)?{type:"number",value:D}:u(D)?{type:"string",value:D}:h(D)?{type:"boolean",value:D}:f(D)?{type:"duration",value:D}:l(D)?{type:"date",value:D}:g(D)?{type:"widget",value:D}:p(D)?{type:"array",value:D}:d(D)?{type:"link",value:D}:y(D)?{type:"function",value:D}:v(D)?{type:"html",value:D}:C(D)?{type:"object",value:D}:void 0}r.wrapValue=t;function n(D,b){if(C(D)){let x={};for(let[w,A]of Object.entries(D))x[w]=n(A,b);return x}else if(p(D)){let x=[];for(let w of D)x.push(n(w,b));return x}else return b(D)}r.mapLeaves=n;function i(D,b,x){var w,A;if(D===void 0&&(D=null),b===void 0&&(b=null),D===null&&b===null)return 0;if(D===null)return-1;if(b===null)return 1;let E=t(D),F=t(b);if(E===void 0&&F===void 0)return 0;if(E===void 0)return-1;if(F===void 0)return 1;if(E.type!=F.type)return E.type.localeCompare(F.type);if(E.value===F.value)return 0;switch(E.type){case"string":return E.value.localeCompare(F.value);case"number":return E.value<F.value?-1:E.value==F.value?0:1;case"null":return 0;case"boolean":return E.value==F.value?0:E.value?1:-1;case"link":let M=E.value,B=F.value,k=x!=null?x:q=>q,P=k(M.path).localeCompare(k(B.path));if(P!=0)return P;let R=M.type.localeCompare(B.type);return R!=0?R:M.subpath&&!B.subpath?1:!M.subpath&&B.subpath?-1:!M.subpath&&!B.subpath?0:((w=M.subpath)!==null&&w!==void 0?w:"").localeCompare((A=B.subpath)!==null&&A!==void 0?A:"");case"date":return E.value<F.value?-1:E.value.equals(F.value)?0:1;case"duration":return E.value<F.value?-1:E.value.equals(F.value)?0:1;case"array":let T=E.value,I=F.value;for(let q=0;q<Math.min(T.length,I.length);q++){let ne=i(T[q],I[q]);if(ne!=0)return ne}return T.length-I.length;case"object":let V=E.value,O=F.value,J=Array.from(Object.keys(V)),$=Array.from(Object.keys(O));J.sort(),$.sort();let H=i(J,$);if(H!=0)return H;for(let q of J){let ne=i(V[q],O[q]);if(ne!=0)return ne}return 0;case"widget":case"html":case"function":return 0}}r.compareValue=i;function a(D){var b;return(b=t(D))===null||b===void 0?void 0:b.type}r.typeOf=a;function o(D){let b=t(D);if(!b)return!1;switch(b.type){case"number":return b.value!=0;case"string":return b.value.length>0;case"boolean":return b.value;case"link":return!!b.value.path;case"date":return b.value.toMillis()!=0;case"duration":return b.value.as("seconds")!=0;case"object":return Object.keys(b.value).length>0;case"array":return b.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}r.isTruthy=o;function c(D){if(D==null)return D;if(r.isArray(D))return[].concat(D.map(b=>c(b)));if(r.isObject(D)){let b={};for(let[x,w]of Object.entries(D))b[x]=c(w);return b}else return D}r.deepCopy=c;function u(D){return typeof D=="string"}r.isString=u;function s(D){return typeof D=="number"}r.isNumber=s;function l(D){return D instanceof Mt}r.isDate=l;function f(D){return D instanceof mt}r.isDuration=f;function m(D){return D==null}r.isNull=m;function p(D){return Array.isArray(D)}r.isArray=p;function h(D){return typeof D=="boolean"}r.isBoolean=h;function d(D){return D instanceof zc}r.isLink=d;function g(D){return D instanceof Cu}r.isWidget=g;function v(D){return typeof HTMLElement!="undefined"?D instanceof HTMLElement:!1}r.isHtml=v;function C(D){return typeof D=="object"&&!v(D)&&!g(D)&&!p(D)&&!f(D)&&!l(D)&&!d(D)&&D!==void 0&&!m(D)}r.isObject=C;function y(D){return typeof D=="function"}r.isFunction=y})(Eu||(Eu={}));var KC;(function(r){function e(i){return Eu.isObject(i)&&Object.keys(i).length==2&&"key"in i&&"rows"in i}r.isElementGroup=e;function t(i){for(let a of i)if(!e(a))return!1;return!0}r.isGrouping=t;function n(i){if(t(i)){let a=0;for(let o of i)a+=n(o.rows);return a}else return i.length}r.count=n})(KC||(KC={}));var zc=class r{constructor(e){Object.assign(this,e)}static file(e,t=!1,n){return new r({path:e,embed:t,display:n,subpath:void 0,type:"file"})}static infer(e,t=!1,n){if(e.includes("#^")){let i=e.split("#^");return r.block(i[0],i[1],t,n)}else if(e.includes("#")){let i=e.split("#");return r.header(i[0],i[1],t,n)}else return r.file(e,t,n)}static header(e,t,n,i){return new r({path:e,embed:n,display:i,subpath:k9(t),type:"header"})}static block(e,t,n,i){return new r({path:e,embed:n,display:i,subpath:t,type:"block"})}static fromObject(e){return new r(e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new r(Object.assign({},this,{path:e}))}withDisplay(e){return new r(Object.assign({},this,{display:e}))}withHeader(e){return r.header(this.path,e,this.embed,this.display)}toFile(){return r.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new r(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new r(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+QC(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var e,t;let n=this.path.replace("|","\\|");return this.type=="header"?n+"#"+((e=this.subpath)===null||e===void 0?void 0:e.replace("|","\\|")):this.type=="block"?n+"#^"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):n}fileName(){return QC(this.path).replace(".md","")}},Cu=class{constructor(e){this.$widget=e}},qd=class extends Cu{constructor(e,t){super("dataview:list-pair"),this.key=e,this.value=t}markdown(){return`${Eu.toString(this.key)}: ${Eu.toString(this.value)}`}},Vd=class extends Cu{constructor(e,t){super("dataview:external-link"),this.url=e,this.display=t}markdown(){var e;return`[${(e=this.display)!==null&&e!==void 0?e:this.url}](${this.url})`}},$C;(function(r){function e(o,c){return new qd(o,c)}r.listPair=e;function t(o,c){return new Vd(o,c)}r.externalLink=t;function n(o){return o.$widget==="dataview:list-pair"}r.isListPair=n;function i(o){return o.$widget==="dataview:external-link"}r.isExternalLink=i;function a(o){return n(o)||i(o)}r.isBuiltin=a})($C||($C={}));var Er;(function(r){function e(m){return{type:"variable",name:m}}r.variable=e;function t(m){return{type:"literal",value:m}}r.literal=t;function n(m,p,h){return{type:"binaryop",left:m,op:p,right:h}}r.binaryOp=n;function i(m,p){return{type:"index",object:m,index:p}}r.index=i;function a(m){let p=m.split("."),h=r.variable(p[0]);for(let d=1;d<p.length;d++)h=r.index(h,r.literal(p[d]));return h}r.indexVariable=a;function o(m,p){return{type:"lambda",arguments:m,value:p}}r.lambda=o;function c(m,p){return{type:"function",func:m,arguments:p}}r.func=c;function u(m){return{type:"list",values:m}}r.list=u;function s(m){return{type:"object",values:m}}r.object=s;function l(m){return{type:"negated",child:m}}r.negate=l;function f(m){return m=="<="||m=="<"||m==">"||m==">="||m=="!="||m=="="}r.isCompareOp=f,r.NULL=r.literal(null)})(Er||(Er={}));var Gi;(function(r){function e(l){return{type:"tag",tag:l}}r.tag=e;function t(l){return{type:"csv",path:l}}r.csv=t;function n(l){return{type:"folder",folder:l}}r.folder=n;function i(l,f){return{type:"link",file:l,direction:f?"incoming":"outgoing"}}r.link=i;function a(l,f,m){return{type:"binaryop",left:l,op:f,right:m}}r.binaryOp=a;function o(l,f){return{type:"binaryop",left:l,op:"&",right:f}}r.and=o;function c(l,f){return{type:"binaryop",left:l,op:"|",right:f}}r.or=c;function u(l){return{type:"negate",child:l}}r.negate=u;function s(){return{type:"empty"}}r.empty=s})(Gi||(Gi={}));var eF=new RegExp(Kd(),""),Ud={year:mt.fromObject({years:1}),years:mt.fromObject({years:1}),yr:mt.fromObject({years:1}),yrs:mt.fromObject({years:1}),month:mt.fromObject({months:1}),months:mt.fromObject({months:1}),mo:mt.fromObject({months:1}),mos:mt.fromObject({months:1}),week:mt.fromObject({weeks:1}),weeks:mt.fromObject({weeks:1}),wk:mt.fromObject({weeks:1}),wks:mt.fromObject({weeks:1}),w:mt.fromObject({weeks:1}),day:mt.fromObject({days:1}),days:mt.fromObject({days:1}),d:mt.fromObject({days:1}),hour:mt.fromObject({hours:1}),hours:mt.fromObject({hours:1}),hr:mt.fromObject({hours:1}),hrs:mt.fromObject({hours:1}),h:mt.fromObject({hours:1}),minute:mt.fromObject({minutes:1}),minutes:mt.fromObject({minutes:1}),min:mt.fromObject({minutes:1}),mins:mt.fromObject({minutes:1}),m:mt.fromObject({minutes:1}),second:mt.fromObject({seconds:1}),seconds:mt.fromObject({seconds:1}),sec:mt.fromObject({seconds:1}),secs:mt.fromObject({seconds:1}),s:mt.fromObject({seconds:1})},zd={now:()=>Mt.local(),today:()=>Mt.local().startOf("day"),yesterday:()=>Mt.local().startOf("day").minus(mt.fromObject({days:1})),tomorrow:()=>Mt.local().startOf("day").plus(mt.fromObject({days:1})),sow:()=>Mt.local().startOf("week"),"start-of-week":()=>Mt.local().startOf("week"),eow:()=>Mt.local().endOf("week"),"end-of-week":()=>Mt.local().endOf("week"),soy:()=>Mt.local().startOf("year"),"start-of-year":()=>Mt.local().startOf("year"),eoy:()=>Mt.local().endOf("year"),"end-of-year":()=>Mt.local().endOf("year"),som:()=>Mt.local().startOf("month"),"start-of-month":()=>Mt.local().startOf("month"),eom:()=>Mt.local().endOf("month"),"end-of-month":()=>Mt.local().endOf("month")},Hd=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function R9(r){let e=-1;for(;(e=r.indexOf("|",e+1))>=0;)if(!(e>0&&r[e-1]=="\\"))return[r.substring(0,e).replace(/\\\|/g,"|"),r.substring(e+1)];return[r.replace(/\\\|/g,"|"),void 0]}function L9(r){let[e,t]=R9(r);return zc.infer(e,!1,t)}function bu(r,e,t){return ee.exports.seqMap(r,ee.exports.seq(ee.exports.optWhitespace,e,ee.exports.optWhitespace,r).many(),(n,i)=>{if(i.length==0)return n;let a=t(n,i[0][1],i[0][3]);for(let o=1;o<i.length;o++)a=t(a,i[o][1],i[o][3]);return a})}function q9(r,...e){return ee.exports.custom((t,n)=>(i,a)=>{let o=r._(i,a);if(!o.status)return o;for(let c of e){let u=c(o.value)._(i,o.index);if(!u.status)return o;o=u}return o})}var Fi=ee.exports.createLanguage({number:r=>ee.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:r=>ee.exports.string('"').then(ee.exports.alt(r.escapeCharacter,ee.exports.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(ee.exports.string('"')).desc("string"),escapeCharacter:r=>ee.exports.string("\\").then(ee.exports.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:r=>ee.exports.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:r=>ee.exports.seqMap(ee.exports.string("#"),ee.exports.alt(ee.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,t)=>e+t.join("")).desc("tag ('#hello/stuff')"),identifier:r=>ee.exports.seqMap(ee.exports.alt(ee.exports.regexp(/\p{Letter}/u),ee.exports.regexp(eF).desc("text")),ee.exports.alt(ee.exports.regexp(/[0-9\p{Letter}_-]/u),ee.exports.regexp(eF).desc("text")).many(),(e,t)=>e+t.join("")).desc("variable identifier"),link:r=>ee.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>L9(e)).desc("file link"),embedLink:r=>ee.exports.seqMap(ee.exports.string("!").atMost(1),r.link,(e,t)=>(e.length>0&&(t.embed=!0),t)).desc("file link"),binaryPlusMinus:r=>ee.exports.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:r=>ee.exports.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:r=>ee.exports.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:r=>ee.exports.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:r=>ee.exports.seqMap(ee.exports.regexp(/\d{4}/),ee.exports.string("-"),ee.exports.regexp(/\d{2}/),(e,t,n)=>Mt.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:r=>ee.exports.alt(...Object.keys(zd).sort((e,t)=>t.length-e.length).map(ee.exports.string)),date:r=>q9(r.rootDate,e=>ee.exports.seqMap(ee.exports.string("-"),ee.exports.regexp(/\d{2}/),(t,n)=>e.set({day:Number.parseInt(n)})),e=>ee.exports.seqMap(ee.exports.string("T"),ee.exports.regexp(/\d{2}/),(t,n)=>e.set({hour:Number.parseInt(n)})),e=>ee.exports.seqMap(ee.exports.string(":"),ee.exports.regexp(/\d{2}/),(t,n)=>e.set({minute:Number.parseInt(n)})),e=>ee.exports.seqMap(ee.exports.string(":"),ee.exports.regexp(/\d{2}/),(t,n)=>e.set({second:Number.parseInt(n)})),e=>ee.exports.alt(ee.exports.seqMap(ee.exports.string("."),ee.exports.regexp(/\d{3}/),(t,n)=>e.set({millisecond:Number.parseInt(n)})),ee.exports.succeed(e)),e=>ee.exports.alt(ee.exports.seqMap(ee.exports.string("+").or(ee.exports.string("-")),ee.exports.regexp(/\d{1,2}(:\d{2})?/),(t,n)=>e.setZone("UTC"+t+n,{keepLocalTime:!0})),ee.exports.seqMap(ee.exports.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),ee.exports.seqMap(ee.exports.string("["),ee.exports.regexp(/[0-9A-Za-z+-\/]+/u),ee.exports.string("]"),(t,n,i)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:r=>ee.exports.alt(r.dateShorthand.map(e=>zd[e]()),r.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:r=>ee.exports.alt(...Object.keys(Ud).sort((e,t)=>t.length-e.length).map(ee.exports.string)),duration:r=>ee.exports.seqMap(r.number,ee.exports.optWhitespace,r.durationType,(e,t,n)=>Ud[n].mapUnits(i=>i*e)).sepBy1(ee.exports.string(",").trim(ee.exports.optWhitespace).or(ee.exports.optWhitespace)).map(e=>e.reduce((t,n)=>t.plus(n))).desc("duration like 4hr2min"),rawNull:r=>ee.exports.string("null"),tagSource:r=>r.tag.map(e=>Gi.tag(e)),csvSource:r=>ee.exports.seqMap(ee.exports.string("csv(").skip(ee.exports.optWhitespace),r.string,ee.exports.string(")"),(e,t,n)=>Gi.csv(t)),linkIncomingSource:r=>r.link.map(e=>Gi.link(e.path,!0)),linkOutgoingSource:r=>ee.exports.seqMap(ee.exports.string("outgoing(").skip(ee.exports.optWhitespace),r.link,ee.exports.string(")"),(e,t,n)=>Gi.link(t.path,!1)),folderSource:r=>r.string.map(e=>Gi.folder(e)),parensSource:r=>ee.exports.seqMap(ee.exports.string("("),ee.exports.optWhitespace,r.source,ee.exports.optWhitespace,ee.exports.string(")"),(e,t,n,i,a)=>n),negateSource:r=>ee.exports.seqMap(ee.exports.alt(ee.exports.string("-"),ee.exports.string("!")),r.atomSource,(e,t)=>Gi.negate(t)),atomSource:r=>ee.exports.alt(r.parensSource,r.negateSource,r.linkOutgoingSource,r.linkIncomingSource,r.folderSource,r.tagSource,r.csvSource),binaryOpSource:r=>bu(r.atomSource,r.binaryBooleanOp.map(e=>e),Gi.binaryOp),source:r=>r.binaryOpSource,variableField:r=>r.identifier.chain(e=>Hd.includes(e.toUpperCase())?ee.exports.fail("Variable fields cannot be a keyword ("+Hd.join(" or ")+")"):ee.exports.succeed(Er.variable(e))).desc("variable"),numberField:r=>r.number.map(e=>Er.literal(e)).desc("number"),stringField:r=>r.string.map(e=>Er.literal(e)).desc("string"),boolField:r=>r.bool.map(e=>Er.literal(e)).desc("boolean"),dateField:r=>ee.exports.seqMap(ee.exports.string("date("),ee.exports.optWhitespace,r.datePlus,ee.exports.optWhitespace,ee.exports.string(")"),(e,t,n,i,a)=>Er.literal(n)).desc("date"),durationField:r=>ee.exports.seqMap(ee.exports.string("dur("),ee.exports.optWhitespace,r.duration,ee.exports.optWhitespace,ee.exports.string(")"),(e,t,n,i,a)=>Er.literal(n)).desc("duration"),nullField:r=>r.rawNull.map(e=>Er.NULL),linkField:r=>r.link.map(e=>Er.literal(e)),listField:r=>r.field.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)).wrap(ee.exports.string("[").skip(ee.exports.optWhitespace),ee.exports.optWhitespace.then(ee.exports.string("]"))).map(e=>Er.list(e)).desc("list ('[1, 2, 3]')"),objectField:r=>ee.exports.seqMap(r.identifier.or(r.string),ee.exports.string(":").trim(ee.exports.optWhitespace),r.field,(e,t,n)=>({name:e,value:n})).sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)).wrap(ee.exports.string("{").skip(ee.exports.optWhitespace),ee.exports.optWhitespace.then(ee.exports.string("}"))).map(e=>{let t={};for(let n of e)t[n.name]=n.value;return Er.object(t)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:r=>ee.exports.alt(r.date,r.duration.map(e=>$F(e)),r.string,r.tag,r.embedLink,r.bool,r.number,r.rawNull),inlineFieldList:r=>r.atomInlineField.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace).lookahead(r.atomInlineField)),inlineField:r=>ee.exports.alt(ee.exports.seqMap(r.atomInlineField,ee.exports.string(",").trim(ee.exports.optWhitespace),r.inlineFieldList,(e,t,n)=>[e].concat(n)),r.atomInlineField),atomField:r=>ee.exports.alt(r.embedLink.map(e=>Er.literal(e)),r.negatedField,r.linkField,r.listField,r.objectField,r.lambdaField,r.parensField,r.boolField,r.numberField,r.stringField,r.dateField,r.durationField,r.nullField,r.variableField),indexField:r=>ee.exports.seqMap(r.atomField,ee.exports.alt(r.dotPostfix,r.indexPostfix,r.functionPostfix).many(),(e,t)=>{let n=e;for(let i of t)switch(i.type){case"dot":n=Er.index(n,Er.literal(i.field));break;case"index":n=Er.index(n,i.field);break;case"function":n=Er.func(n,i.fields);break}return n}),negatedField:r=>ee.exports.seqMap(ee.exports.string("!"),r.indexField,(e,t)=>Er.negate(t)).desc("negated field"),parensField:r=>ee.exports.seqMap(ee.exports.string("("),ee.exports.optWhitespace,r.field,ee.exports.optWhitespace,ee.exports.string(")"),(e,t,n,i,a)=>n),lambdaField:r=>ee.exports.seqMap(r.identifier.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)).wrap(ee.exports.string("(").trim(ee.exports.optWhitespace),ee.exports.string(")").trim(ee.exports.optWhitespace)),ee.exports.string("=>").trim(ee.exports.optWhitespace),r.field,(e,t,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:r=>ee.exports.seqMap(ee.exports.string("."),r.identifier,(e,t)=>({type:"dot",field:t})),indexPostfix:r=>ee.exports.seqMap(ee.exports.string("["),ee.exports.optWhitespace,r.field,ee.exports.optWhitespace,ee.exports.string("]"),(e,t,n,i,a)=>({type:"index",field:n})),functionPostfix:r=>ee.exports.seqMap(ee.exports.string("("),ee.exports.optWhitespace,r.field.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)),ee.exports.optWhitespace,ee.exports.string(")"),(e,t,n,i,a)=>({type:"function",fields:n})),binaryMulDivField:r=>bu(r.indexField,r.binaryMulDiv,Er.binaryOp),binaryPlusMinusField:r=>bu(r.binaryMulDivField,r.binaryPlusMinus,Er.binaryOp),binaryCompareField:r=>bu(r.binaryPlusMinusField,r.binaryCompareOp,Er.binaryOp),binaryBooleanField:r=>bu(r.binaryCompareField,r.binaryBooleanOp,Er.binaryOp),binaryOpField:r=>r.binaryBooleanField,field:r=>r.binaryOpField});function V9(r){try{return Uc.success(Fi.field.tryParse(r))}catch(e){return Uc.failure(""+e)}}var Hc;(function(r){function e(n,i){return{name:n,field:i}}r.named=e;function t(n,i){return{field:n,direction:i}}r.sortBy=t})(Hc||(Hc={}));function U9(r){return ee.exports.custom((e,t)=>(n,i)=>{let a=r._(n,i);return a.status?Object.assign({},a,{value:[a.value,n.substring(i,a.index)]}):a})}function z9(r){return r.split(/[\r\n]+/).map(e=>e.trim()).join("")}var H9=ee.exports.createLanguage({queryType:r=>ee.exports.alt(ee.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:r=>ee.exports.seqMap(Fi.field.skip(ee.exports.whitespace),ee.exports.regexp(/AS/i).skip(ee.exports.whitespace),Fi.identifier.or(Fi.string),(e,t,n)=>Hc.named(n,e)),namedField:r=>ee.exports.alt(r.explicitNamedField,U9(Fi.field).map(([e,t])=>Hc.named(z9(t),e))),sortField:r=>ee.exports.seqMap(Fi.field.skip(ee.exports.optWhitespace),ee.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,t)=>{let n=t.length==0?"ascending":t[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:r=>r.queryType.skip(ee.exports.whitespace).chain(e=>{switch(e){case"table":return ee.exports.seqMap(ee.exports.regexp(/WITHOUT\s+ID/i).skip(ee.exports.optWhitespace).atMost(1),ee.exports.sepBy(r.namedField,ee.exports.string(",").trim(ee.exports.optWhitespace)),(t,n)=>({type:"table",fields:n,showId:t.length==0}));case"list":return ee.exports.seqMap(ee.exports.regexp(/WITHOUT\s+ID/i).skip(ee.exports.optWhitespace).atMost(1),Fi.field.atMost(1),(t,n)=>({type:"list",format:n.length==1?n[0]:void 0,showId:t.length==0}));case"task":return ee.exports.succeed({type:"task"});case"calendar":return ee.exports.seqMap(r.namedField,t=>({type:"calendar",showId:!0,field:t}));default:return ee.exports.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:r=>ee.exports.seqMap(ee.exports.regexp(/FROM/i),ee.exports.whitespace,Fi.source,(e,t,n)=>n),whereClause:r=>ee.exports.seqMap(ee.exports.regexp(/WHERE/i),ee.exports.whitespace,Fi.field,(e,t,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:r=>ee.exports.seqMap(ee.exports.regexp(/SORT/i),ee.exports.whitespace,r.sortField.sepBy1(ee.exports.string(",").trim(ee.exports.optWhitespace)),(e,t,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:r=>ee.exports.seqMap(ee.exports.regexp(/LIMIT/i),ee.exports.whitespace,Fi.field,(e,t,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:r=>ee.exports.seqMap(ee.exports.regexp(/FLATTEN/i).skip(ee.exports.whitespace),r.namedField,(e,t)=>({type:"flatten",field:t})).desc("FLATTEN <value> [AS <name>]"),groupByClause:r=>ee.exports.seqMap(ee.exports.regexp(/GROUP BY/i).skip(ee.exports.whitespace),r.namedField,(e,t)=>({type:"group",field:t})).desc("GROUP BY <value> [AS <name>]"),clause:r=>ee.exports.alt(r.fromClause,r.whereClause,r.sortByClause,r.limitClause,r.groupByClause,r.flattenClause),query:r=>ee.exports.seqMap(r.headerClause.trim(ee.exports.optWhitespace),r.fromClause.trim(ee.exports.optWhitespace).atMost(1),r.clause.trim(ee.exports.optWhitespace).many(),(e,t,n)=>({header:e,source:t.length==0?Gi.folder(""):t[0],operations:n,settings:Qd}))}),W9=r=>{var e;return r?(e=r.plugins.plugins.dataview)===null||e===void 0?void 0:e.api:window.DataviewAPI},G9=r=>r.plugins.enabledPlugins.has("dataview");ji.DATE_SHORTHANDS=zd;ji.DURATION_TYPES=Ud;ji.EXPRESSION=Fi;ji.KEYWORDS=Hd;ji.QUERY_LANGUAGE=H9;ji.getAPI=W9;ji.isPluginEnabled=G9;ji.parseField=V9});var gh=vr((dh,hh)=>{(function(r,e){typeof dh=="object"&&typeof hh!="undefined"?hh.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self,r["'typed'"]=e())})(dh,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let n="Argument is not a typed-function.";function i(){function o(Z){return typeof Z=="object"&&Z!==null&&Z.constructor===Object}let c=[{name:"number",test:function(Z){return typeof Z=="number"}},{name:"string",test:function(Z){return typeof Z=="string"}},{name:"boolean",test:function(Z){return typeof Z=="boolean"}},{name:"Function",test:function(Z){return typeof Z=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Z){return Z instanceof Date}},{name:"RegExp",test:function(Z){return Z instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(Z){return Z===null}},{name:"undefined",test:function(Z){return Z===void 0}}],u={name:"any",test:r,isAny:!0},s,l,f=0,m={createCount:0};function p(Z){let ae=s.get(Z);if(ae)return ae;let de='Unknown type "'+Z+'"',Fe=Z.toLowerCase(),Be;for(Be of l)if(Be.toLowerCase()===Fe){de+='. Did you mean "'+Be+'" ?';break}throw new TypeError(de)}function h(Z){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",de=ae?p(ae).index:l.length,Fe=[];for(let Ae=0;Ae<Z.length;++Ae){if(!Z[Ae]||typeof Z[Ae].name!="string"||typeof Z[Ae].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Me=Z[Ae].name;if(s.has(Me))throw new TypeError('Duplicate type name "'+Me+'"');Fe.push(Me),s.set(Me,{name:Me,test:Z[Ae].test,isAny:Z[Ae].isAny,index:de+Ae,conversionsTo:[]})}let Be=l.slice(de);l=l.slice(0,de).concat(Fe).concat(Be);for(let Ae=de+Fe.length;Ae<l.length;++Ae)s.get(l[Ae]).index=Ae}function d(){s=new Map,l=[],f=0,h([u],!1)}d(),h(c);function g(){let Z;for(Z of l)s.get(Z).conversionsTo=[];f=0}function v(Z){let ae=l.filter(de=>{let Fe=s.get(de);return!Fe.isAny&&Fe.test(Z)});return ae.length?ae:["any"]}function C(Z){return Z&&typeof Z=="function"&&"_typedFunctionData"in Z}function y(Z,ae,de){if(!C(Z))throw new TypeError(n);let Fe=de&&de.exact,Be=Array.isArray(ae)?ae.join(","):ae,Ae=F(Be),Me=x(Ae);if(!Fe||Me in Z.signatures){let L=Z._typedFunctionData.signatureMap.get(Me);if(L)return L}let Le=Ae.length,N;if(Fe){N=[];let L;for(L in Z.signatures)N.push(Z._typedFunctionData.signatureMap.get(L))}else N=Z._typedFunctionData.signatures;for(let L=0;L<Le;++L){let Y=Ae[L],le=[],ye;for(ye of N){let Te=P(ye.params,L);if(!(!Te||Y.restParam&&!Te.restParam)){if(!Te.hasAny){let Ve=E(Te);if(Y.types.some(st=>!Ve.has(st.name)))continue}le.push(ye)}}if(N=le,N.length===0)break}let _;for(_ of N)if(_.params.length<=Le)return _;throw new TypeError("Signature not found (signature: "+(Z.name||"unnamed")+"("+x(Ae,", ")+"))")}function D(Z,ae,de){return y(Z,ae,de).implementation}function b(Z,ae){let de=p(ae);if(de.test(Z))return Z;let Fe=de.conversionsTo;if(Fe.length===0)throw new Error("There are no conversions to "+ae+" defined.");for(let Be=0;Be<Fe.length;Be++)if(p(Fe[Be].from).test(Z))return Fe[Be].convert(Z);throw new Error("Cannot convert "+Z+" to "+ae)}function x(Z){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Z.map(de=>de.name).join(ae)}function w(Z){let ae=Z.indexOf("...")===0,Fe=(ae?Z.length>3?Z.slice(3):"any":Z).split("|").map(Le=>p(Le.trim())),Be=!1,Ae=ae?"...":"";return{types:Fe.map(function(Le){return Be=Le.isAny||Be,Ae+=Le.name+"|",{name:Le.name,typeIndex:Le.index,test:Le.test,isAny:Le.isAny,conversion:null,conversionIndex:-1}}),name:Ae.slice(0,-1),hasAny:Be,hasConversion:!1,restParam:ae}}function A(Z){let ae=Z.types.map(Me=>Me.name),de=q(ae),Fe=Z.hasAny,Be=Z.name,Ae=de.map(function(Me){let Le=p(Me.from);return Fe=Le.isAny||Fe,Be+="|"+Me.from,{name:Me.from,typeIndex:Le.index,test:Le.test,isAny:Le.isAny,conversion:Me,conversionIndex:Me.index}});return{types:Z.types.concat(Ae),name:Be,hasAny:Fe,hasConversion:Ae.length>0,restParam:Z.restParam}}function E(Z){return Z.typeSet||(Z.typeSet=new Set,Z.types.forEach(ae=>Z.typeSet.add(ae.name))),Z.typeSet}function F(Z){let ae=[];if(typeof Z!="string")throw new TypeError("Signatures must be strings");let de=Z.trim();if(de==="")return ae;let Fe=de.split(",");for(let Be=0;Be<Fe.length;++Be){let Ae=w(Fe[Be].trim());if(Ae.restParam&&Be!==Fe.length-1)throw new SyntaxError('Unexpected rest parameter "'+Fe[Be]+'": only allowed for the last parameter');if(Ae.types.length===0)return null;ae.push(Ae)}return ae}function M(Z){let ae=z(Z);return ae?ae.restParam:!1}function B(Z){if(!Z||Z.types.length===0)return r;if(Z.types.length===1)return p(Z.types[0].name).test;if(Z.types.length===2){let ae=p(Z.types[0].name).test,de=p(Z.types[1].name).test;return function(Be){return ae(Be)||de(Be)}}else{let ae=Z.types.map(function(de){return p(de.name).test});return function(Fe){for(let Be=0;Be<ae.length;Be++)if(ae[Be](Fe))return!0;return!1}}}function k(Z){let ae,de,Fe;if(M(Z)){ae=Ee(Z).map(B);let Be=ae.length,Ae=B(z(Z)),Me=function(Le){for(let N=Be;N<Le.length;N++)if(!Ae(Le[N]))return!1;return!0};return function(N){for(let _=0;_<ae.length;_++)if(!ae[_](N[_]))return!1;return Me(N)&&N.length>=Be+1}}else return Z.length===0?function(Ae){return Ae.length===0}:Z.length===1?(de=B(Z[0]),function(Ae){return de(Ae[0])&&Ae.length===1}):Z.length===2?(de=B(Z[0]),Fe=B(Z[1]),function(Ae){return de(Ae[0])&&Fe(Ae[1])&&Ae.length===2}):(ae=Z.map(B),function(Ae){for(let Me=0;Me<ae.length;Me++)if(!ae[Me](Ae[Me]))return!1;return Ae.length===ae.length})}function P(Z,ae){return ae<Z.length?Z[ae]:M(Z)?z(Z):null}function R(Z,ae){let de=P(Z,ae);return de?E(de):new Set}function T(Z){return Z.conversion===null||Z.conversion===void 0}function I(Z,ae){let de=new Set;return Z.forEach(Fe=>{let Be=R(Fe.params,ae),Ae;for(Ae of Be)de.add(Ae)}),de.has("any")?["any"]:Array.from(de)}function V(Z,ae,de){let Fe,Be,Ae=Z||"unnamed",Me=de,Le;for(Le=0;Le<ae.length;Le++){let Y=[];if(Me.forEach(le=>{let ye=P(le.params,Le),Te=B(ye);(Le<le.params.length||M(le.params))&&Te(ae[Le])&&Y.push(le)}),Y.length===0){if(Be=I(Me,Le),Be.length>0){let le=v(ae[Le]);return Fe=new TypeError("Unexpected type of argument in function "+Ae+" (expected: "+Be.join(" or ")+", actual: "+le.join(" | ")+", index: "+Le+")"),Fe.data={category:"wrongType",fn:Ae,index:Le,actual:le,expected:Be},Fe}}else Me=Y}let N=Me.map(function(Y){return M(Y.params)?1/0:Y.params.length});if(ae.length<Math.min.apply(null,N))return Be=I(Me,Le),Fe=new TypeError("Too few arguments in function "+Ae+" (expected: "+Be.join(" or ")+", index: "+ae.length+")"),Fe.data={category:"tooFewArgs",fn:Ae,index:ae.length,expected:Be},Fe;let _=Math.max.apply(null,N);if(ae.length>_)return Fe=new TypeError("Too many arguments in function "+Ae+" (expected: "+_+", actual: "+ae.length+")"),Fe.data={category:"tooManyArgs",fn:Ae,index:ae.length,expectedLength:_},Fe;let L=[];for(let Y=0;Y<ae.length;++Y)L.push(v(ae[Y]).join("|"));return Fe=new TypeError('Arguments of type "'+L.join(", ")+'" do not match any of the defined signatures of function '+Ae+"."),Fe.data={category:"mismatch",actual:L},Fe}function O(Z){let ae=l.length+1;for(let de=0;de<Z.types.length;de++)T(Z.types[de])&&(ae=Math.min(ae,Z.types[de].typeIndex));return ae}function J(Z){let ae=f+1;for(let de=0;de<Z.types.length;de++)T(Z.types[de])||(ae=Math.min(ae,Z.types[de].conversionIndex));return ae}function $(Z,ae){if(Z.hasAny){if(!ae.hasAny)return 1}else if(ae.hasAny)return-1;if(Z.restParam){if(!ae.restParam)return 1}else if(ae.restParam)return-1;if(Z.hasConversion){if(!ae.hasConversion)return 1}else if(ae.hasConversion)return-1;let de=O(Z)-O(ae);if(de<0)return-1;if(de>0)return 1;let Fe=J(Z)-J(ae);return Fe<0?-1:Fe>0?1:0}function H(Z,ae){let de=Z.params,Fe=ae.params,Be=z(de),Ae=z(Fe),Me=M(de),Le=M(Fe);if(Me&&Be.hasAny){if(!Le||!Ae.hasAny)return 1}else if(Le&&Ae.hasAny)return-1;let N=0,_=0,L;for(L of de)L.hasAny&&++N,L.hasConversion&&++_;let Y=0,le=0;for(L of Fe)L.hasAny&&++Y,L.hasConversion&&++le;if(N!==Y)return N-Y;if(Me&&Be.hasConversion){if(!Le||!Ae.hasConversion)return 1}else if(Le&&Ae.hasConversion)return-1;if(_!==le)return _-le;if(Me){if(!Le)return 1}else if(Le)return-1;let ye=(de.length-Fe.length)*(Me?-1:1);if(ye!==0)return ye;let Te=[],Ve=0;for(let Ht=0;Ht<de.length;++Ht){let Ir=$(de[Ht],Fe[Ht]);Te.push(Ir),Ve+=Ir}if(Ve!==0)return Ve;let st;for(st of Te)if(st!==0)return st;return 0}function q(Z){if(Z.length===0)return[];let ae=Z.map(p);Z.length>1&&ae.sort((Be,Ae)=>Be.index-Ae.index);let de=ae[0].conversionsTo;if(Z.length===1)return de;de=de.concat([]);let Fe=new Set(Z);for(let Be=1;Be<ae.length;++Be){let Ae;for(Ae of ae[Be].conversionsTo)Fe.has(Ae.from)||(de.push(Ae),Fe.add(Ae.from))}return de}function ne(Z,ae){let de=ae;if(Z.some(Be=>Be.hasConversion)){let Be=M(Z),Ae=Z.map(be);de=function(){let Le=[],N=Be?arguments.length-1:arguments.length;for(let _=0;_<N;_++)Le[_]=Ae[_](arguments[_]);return Be&&(Le[N]=arguments[N].map(Ae[N])),ae.apply(this,Le)}}let Fe=de;if(M(Z)){let Be=Z.length-1;Fe=function(){return de.apply(this,j(arguments,0,Be).concat([j(arguments,Be)]))}}return Fe}function be(Z){let ae,de,Fe,Be,Ae=[],Me=[];switch(Z.types.forEach(function(Le){Le.conversion&&(Ae.push(p(Le.conversion.from).test),Me.push(Le.conversion.convert))}),Me.length){case 0:return function(N){return N};case 1:return ae=Ae[0],Fe=Me[0],function(N){return ae(N)?Fe(N):N};case 2:return ae=Ae[0],de=Ae[1],Fe=Me[0],Be=Me[1],function(N){return ae(N)?Fe(N):de(N)?Be(N):N};default:return function(N){for(let _=0;_<Me.length;_++)if(Ae[_](N))return Me[_](N);return N}}}function oe(Z){function ae(de,Fe,Be){if(Fe<de.length){let Ae=de[Fe],Me=[];if(Ae.restParam){let Le=Ae.types.filter(T);Le.length<Ae.types.length&&Me.push({types:Le,name:"..."+Le.map(N=>N.name).join("|"),hasAny:Le.some(N=>N.isAny),hasConversion:!1,restParam:!0}),Me.push(Ae)}else Me=Ae.types.map(function(Le){return{types:[Le],name:Le.name,hasAny:Le.isAny,hasConversion:Le.conversion,restParam:!1}});return W(Me,function(Le){return ae(de,Fe+1,Be.concat([Le]))})}else return[Be]}return ae(Z,0,[])}function ue(Z,ae){let de=Math.max(Z.length,ae.length);for(let Le=0;Le<de;Le++){let N=R(Z,Le),_=R(ae,Le),L=!1,Y;for(Y of _)if(N.has(Y)){L=!0;break}if(!L)return!1}let Fe=Z.length,Be=ae.length,Ae=M(Z),Me=M(ae);return Ae?Me?Fe===Be:Be>=Fe:Me?Fe>=Be:Fe===Be}function me(Z){return Z.map(ae=>qe(ae)?ve(ae.referToSelf.callback):xe(ae)?ie(ae.referTo.references,ae.referTo.callback):ae)}function se(Z,ae,de){let Fe=[],Be;for(Be of Z){let Ae=de[Be];if(typeof Ae!="number")throw new TypeError('No definition for referenced signature "'+Be+'"');if(Ae=ae[Ae],typeof Ae!="function")return!1;Fe.push(Ae)}return Fe}function ce(Z,ae,de){let Fe=me(Z),Be=new Array(Fe.length).fill(!1),Ae=!0;for(;Ae;){Ae=!1;let Me=!0;for(let Le=0;Le<Fe.length;++Le){if(Be[Le])continue;let N=Fe[Le];if(qe(N))Fe[Le]=N.referToSelf.callback(de),Fe[Le].referToSelf=N.referToSelf,Be[Le]=!0,Me=!1;else if(xe(N)){let _=se(N.referTo.references,Fe,ae);_?(Fe[Le]=N.referTo.callback.apply(this,_),Fe[Le].referTo=N.referTo,Be[Le]=!0,Me=!1):Ae=!0}}if(Me&&Ae)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Fe}function pe(Z){let ae=/\bthis(\(|\.signatures\b)/;Object.keys(Z).forEach(de=>{let Fe=Z[de];if(ae.test(Fe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ge(Z,ae){if(m.createCount++,Object.keys(ae).length===0)throw new SyntaxError("No signatures provided");m.warnAgainstDeprecatedThis&&pe(ae);let de=[],Fe=[],Be={},Ae=[],Me;for(Me in ae){if(!Object.prototype.hasOwnProperty.call(ae,Me))continue;let $t=F(Me);if(!$t)continue;de.forEach(function($s){if(ue($s,$t))throw new TypeError('Conflicting signatures "'+x($s)+'" and "'+x($t)+'".')}),de.push($t);let _n=Fe.length;Fe.push(ae[Me]);let O6=$t.map(A),vl;for(vl of oe(O6)){let $s=x(vl);Ae.push({params:vl,name:$s,fn:_n}),vl.every(k6=>!k6.hasConversion)&&(Be[$s]=_n)}}Ae.sort(H);let Le=ce(Fe,Be,Ks),N;for(N in Be)Object.prototype.hasOwnProperty.call(Be,N)&&(Be[N]=Le[Be[N]]);let _=[],L=new Map;for(N of Ae)L.has(N.name)||(N.fn=Le[N.fn],_.push(N),L.set(N.name,N));let Y=_[0]&&_[0].params.length<=2&&!M(_[0].params),le=_[1]&&_[1].params.length<=2&&!M(_[1].params),ye=_[2]&&_[2].params.length<=2&&!M(_[2].params),Te=_[3]&&_[3].params.length<=2&&!M(_[3].params),Ve=_[4]&&_[4].params.length<=2&&!M(_[4].params),st=_[5]&&_[5].params.length<=2&&!M(_[5].params),Ht=Y&&le&&ye&&Te&&Ve&&st;for(let $t=0;$t<_.length;++$t)_[$t].test=k(_[$t].params);let Ir=Y?B(_[0].params[0]):e,Pr=le?B(_[1].params[0]):e,gi=ye?B(_[2].params[0]):e,wn=Te?B(_[3].params[0]):e,vi=Ve?B(_[4].params[0]):e,Ea=st?B(_[5].params[0]):e,$m=Y?B(_[0].params[1]):e,Nr=le?B(_[1].params[1]):e,Ca=ye?B(_[2].params[1]):e,Fa=Te?B(_[3].params[1]):e,ra=Ve?B(_[4].params[1]):e,Aa=st?B(_[5].params[1]):e;for(let $t=0;$t<_.length;++$t)_[$t].implementation=ne(_[$t].params,_[$t].fn);let Sa=Y?_[0].implementation:t,y6=le?_[1].implementation:t,b6=ye?_[2].implementation:t,x6=Te?_[3].implementation:t,D6=Ve?_[4].implementation:t,w6=st?_[5].implementation:t,E6=Y?_[0].params.length:-1,C6=le?_[1].params.length:-1,F6=ye?_[2].params.length:-1,A6=Te?_[3].params.length:-1,S6=Ve?_[4].params.length:-1,_6=st?_[5].params.length:-1,N6=Ht?6:0,M6=_.length,T6=_.map($t=>$t.test),I6=_.map($t=>$t.implementation),B6=function(){for(let _n=N6;_n<M6;_n++)if(T6[_n](arguments))return I6[_n].apply(this,arguments);return m.onMismatch(Z,arguments,_)};function Ks($t,_n){return arguments.length===E6&&Ir($t)&&$m(_n)?Sa.apply(this,arguments):arguments.length===C6&&Pr($t)&&Nr(_n)?y6.apply(this,arguments):arguments.length===F6&&gi($t)&&Ca(_n)?b6.apply(this,arguments):arguments.length===A6&&wn($t)&&Fa(_n)?x6.apply(this,arguments):arguments.length===S6&&vi($t)&&ra(_n)?D6.apply(this,arguments):arguments.length===_6&&Ea($t)&&Aa(_n)?w6.apply(this,arguments):B6.apply(this,arguments)}try{Object.defineProperty(Ks,"name",{value:Z})}catch($t){}return Ks.signatures=Be,Ks._typedFunctionData={signatures:_,signatureMap:L},Ks}function Re(Z,ae,de){throw V(Z,ae,de)}function Ee(Z){return j(Z,0,Z.length-1)}function z(Z){return Z[Z.length-1]}function j(Z,ae,de){return Array.prototype.slice.call(Z,ae,de)}function fe(Z,ae){for(let de=0;de<Z.length;de++)if(ae(Z[de]))return Z[de]}function W(Z,ae){return Array.prototype.concat.apply([],Z.map(ae))}function K(){let Z=Ee(arguments).map(de=>x(F(de))),ae=z(arguments);if(typeof ae!="function")throw new TypeError("Callback function expected as last argument");return ie(Z,ae)}function ie(Z,ae){return{referTo:{references:Z,callback:ae}}}function ve(Z){if(typeof Z!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Z}}}function xe(Z){return Z&&typeof Z.referTo=="object"&&Array.isArray(Z.referTo.references)&&typeof Z.referTo.callback=="function"}function qe(Z){return Z&&typeof Z.referToSelf=="object"&&typeof Z.referToSelf.callback=="function"}function Se(Z,ae){if(!Z)return ae;if(ae&&ae!==Z){let de=new Error("Function names do not match (expected: "+Z+", actual: "+ae+")");throw de.data={actual:ae,expected:Z},de}return Z}function ft(Z){let ae;for(let de in Z)Object.prototype.hasOwnProperty.call(Z,de)&&(C(Z[de])||typeof Z[de].signature=="string")&&(ae=Se(ae,Z[de].name));return ae}function pt(Z,ae){let de;for(de in ae)if(Object.prototype.hasOwnProperty.call(ae,de)){if(de in Z&&ae[de]!==Z[de]){let Fe=new Error('Signature "'+de+'" is defined twice');throw Fe.data={signature:de,sourceFunction:ae[de],destFunction:Z[de]},Fe}Z[de]=ae[de]}}let Tt=m;m=function(Z){let ae=typeof Z=="string",de=ae?1:0,Fe=ae?Z:"",Be={};for(let Ae=de;Ae<arguments.length;++Ae){let Me=arguments[Ae],Le={},N;if(typeof Me=="function"?(N=Me.name,typeof Me.signature=="string"?Le[Me.signature]=Me:C(Me)&&(Le=Me.signatures)):o(Me)&&(Le=Me,ae||(N=ft(Me))),Object.keys(Le).length===0){let _=new TypeError("Argument to 'typed' at index "+Ae+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw _.data={index:Ae,argument:Me},_}ae||(Fe=Se(Fe,N)),pt(Be,Le)}return ge(Fe||"",Be)},m.create=i,m.createCount=Tt.createCount,m.onMismatch=Re,m.throwMismatchError=Re,m.createError=V,m.clear=d,m.clearConversions=g,m.addTypes=h,m._findType=p,m.referTo=K,m.referToSelf=ve,m.convert=b,m.findSignature=y,m.find=D,m.isTypedFunction=C,m.warnAgainstDeprecatedThis=!0,m.addType=function(Z,ae){let de="any";ae!==!1&&s.has("Object")&&(de="Object"),m.addTypes([Z],de)};function zt(Z){if(!Z||typeof Z.from!="string"||typeof Z.to!="string"||typeof Z.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Z.to===Z.from)throw new SyntaxError('Illegal to define conversion from "'+Z.from+'" to itself.')}return m.addConversion=function(Z){zt(Z);let ae=p(Z.to);if(ae.conversionsTo.every(function(de){return de.from!==Z.from}))ae.conversionsTo.push({from:Z.from,convert:Z.convert,index:f++});else throw new Error('There is already a conversion from "'+Z.from+'" to "'+ae.name+'"')},m.addConversions=function(Z){Z.forEach(m.addConversion)},m.removeConversion=function(Z){zt(Z);let ae=p(Z.to),de=fe(ae.conversionsTo,Be=>Be.from===Z.from);if(!de)throw new Error("Attempt to remove nonexistent conversion from "+Z.from+" to "+Z.to);if(de.convert!==Z.convert)throw new Error("Conversion to remove does not match existing conversion");let Fe=ae.conversionsTo.indexOf(de);ae.conversionsTo.splice(Fe,1)},m.resolve=function(Z,ae){if(!C(Z))throw new TypeError(n);let de=Z._typedFunctionData.signatures;for(let Fe=0;Fe<de.length;++Fe)if(de[Fe].test(ae))return de[Fe];return null},m}var a=i();return a})});var tS=vr((Lh,eS)=>{(function(r){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},t=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var l=Math.PI/4;if(-l>s||s>l)return Math.cos(s)-1;var f=s*s;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,l){var f=Math.abs(s),m=Math.abs(l);return f<3e3&&m<3e3?Math.sqrt(f*f+m*m):(f<m?(f=m,m=s/l):m=l/s,f*Math.sqrt(1+m*m))},a=function(){throw SyntaxError("Invalid Param")};function o(s,l){var f=Math.abs(s),m=Math.abs(l);return s===0?Math.log(m):l===0?Math.log(f):f<3e3&&m<3e3?Math.log(s*s+l*l)*.5:(s=s/2,l=l/2,.5*Math.log(s*s+l*l)+Math.LN2)}var c=function(s,l){var f={re:0,im:0};if(s==null)f.re=f.im=0;else if(l!==void 0)f.re=s,f.im=l;else switch(typeof s){case"object":if("im"in s&&"re"in s)f.re=s.re,f.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return u.INFINITY;f.re=s.abs*Math.cos(s.arg),f.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return u.INFINITY;f.re=s.r*Math.cos(s.phi),f.im=s.r*Math.sin(s.phi)}else s.length===2?(f.re=s[0],f.im=s[1]):a();break;case"string":f.im=f.re=0;var m=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,h=0;m===null&&a();for(var d=0;d<m.length;d++){var g=m[d];g===" "||g==="	"||g===`
`||(g==="+"?p++:g==="-"?h++:g==="i"||g==="I"?(p+h===0&&a(),m[d+1]!==" "&&!isNaN(m[d+1])?(f.im+=parseFloat((h%2?"-":"")+m[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),p=h=0):((p+h===0||isNaN(g))&&a(),m[d+1]==="i"||m[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+g),d++):f.re+=parseFloat((h%2?"-":"")+g),p=h=0))}p+h>0&&a();break;case"number":f.im=0,f.re=s;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function u(s,l){if(!(this instanceof u))return new u(s,l);var f=c(s,l);this.re=f.re,this.im=f.im}u.prototype={re:0,im:0,sign:function(){var s=this.abs();return new u(this.re/s,this.im/s)},add:function(s,l){var f=new u(s,l);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re+f.re,this.im+f.im)},sub:function(s,l){var f=new u(s,l);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re-f.re,this.im-f.im)},mul:function(s,l){var f=new u(s,l);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:f.im===0&&this.im===0?new u(this.re*f.re,0):new u(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(s,l){var f=new u(s,l);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return u.NAN;if(this.isInfinite()||f.isZero())return u.INFINITY;if(this.isZero()||f.isInfinite())return u.ZERO;s=this.re,l=this.im;var m=f.re,p=f.im,h,d;return p===0?new u(s/m,l/m):Math.abs(m)<Math.abs(p)?(d=m/p,h=m*d+p,new u((s*d+l)/h,(l*d-s)/h)):(d=p/m,h=p*d+m,new u((s+l*d)/h,(l-s*d)/h))},pow:function(s,l){var f=new u(s,l);if(s=this.re,l=this.im,f.isZero())return u.ONE;if(f.im===0){if(l===0&&s>0)return new u(Math.pow(s,f.re),0);if(s===0)switch((f.re%4+4)%4){case 0:return new u(Math.pow(l,f.re),0);case 1:return new u(0,Math.pow(l,f.re));case 2:return new u(-Math.pow(l,f.re),0);case 3:return new u(0,-Math.pow(l,f.re))}}if(s===0&&l===0&&f.re>0&&f.im>=0)return u.ZERO;var m=Math.atan2(l,s),p=o(s,l);return s=Math.exp(f.re*p-f.im*m),l=f.im*p+f.re*m,new u(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){var s=this.re,l=this.im,f=this.abs(),m,p;if(s>=0){if(l===0)return new u(Math.sqrt(s),0);m=.5*Math.sqrt(2*(f+s))}else m=Math.abs(l)/Math.sqrt(2*(f-s));return s<=0?p=.5*Math.sqrt(2*(f-s)):p=Math.abs(l)/Math.sqrt(2*(f+s)),new u(m,l<0?-p:p)},exp:function(){var s=Math.exp(this.re);return this.im,new u(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,l=this.im;return new u(Math.expm1(s)*Math.cos(l)+n(l),Math.exp(s)*Math.sin(l))},log:function(){var s=this.re,l=this.im;return l===0&&s>0,new u(o(s,l),Math.atan2(l,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,l=this.im;return new u(Math.sin(s)*e(l),Math.cos(s)*t(l))},cos:function(){var s=this.re,l=this.im;return new u(Math.cos(s)*e(l),-Math.sin(s)*t(l))},tan:function(){var s=2*this.re,l=2*this.im,f=Math.cos(s)+e(l);return new u(Math.sin(s)/f,t(l)/f)},cot:function(){var s=2*this.re,l=2*this.im,f=Math.cos(s)-e(l);return new u(-Math.sin(s)/f,t(l)/f)},sec:function(){var s=this.re,l=this.im,f=.5*e(2*l)+.5*Math.cos(2*s);return new u(Math.cos(s)*e(l)/f,Math.sin(s)*t(l)/f)},csc:function(){var s=this.re,l=this.im,f=.5*e(2*l)-.5*Math.cos(2*s);return new u(Math.sin(s)*e(l)/f,-Math.cos(s)*t(l)/f)},asin:function(){var s=this.re,l=this.im,f=new u(l*l-s*s+1,-2*s*l).sqrt(),m=new u(f.re-l,f.im+s).log();return new u(m.im,-m.re)},acos:function(){var s=this.re,l=this.im,f=new u(l*l-s*s+1,-2*s*l).sqrt(),m=new u(f.re-l,f.im+s).log();return new u(Math.PI/2-m.im,m.re)},atan:function(){var s=this.re,l=this.im;if(s===0){if(l===1)return new u(0,1/0);if(l===-1)return new u(0,-1/0)}var f=s*s+(1-l)*(1-l),m=new u((1-l*l-s*s)/f,-2*s/f).log();return new u(-.5*m.im,.5*m.re)},acot:function(){var s=this.re,l=this.im;if(l===0)return new u(Math.atan2(1,s),0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).atan():new u(s!==0?s/0:0,l!==0?-l/0:0).atan()},asec:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new u(0,1/0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).acos():new u(s!==0?s/0:0,l!==0?-l/0:0).acos()},acsc:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new u(Math.PI/2,1/0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).asin():new u(s!==0?s/0:0,l!==0?-l/0:0).asin()},sinh:function(){var s=this.re,l=this.im;return new u(t(s)*Math.cos(l),e(s)*Math.sin(l))},cosh:function(){var s=this.re,l=this.im;return new u(e(s)*Math.cos(l),t(s)*Math.sin(l))},tanh:function(){var s=2*this.re,l=2*this.im,f=e(s)+Math.cos(l);return new u(t(s)/f,Math.sin(l)/f)},coth:function(){var s=2*this.re,l=2*this.im,f=e(s)-Math.cos(l);return new u(t(s)/f,-Math.sin(l)/f)},csch:function(){var s=this.re,l=this.im,f=Math.cos(2*l)-e(2*s);return new u(-2*t(s)*Math.cos(l)/f,2*e(s)*Math.sin(l)/f)},sech:function(){var s=this.re,l=this.im,f=Math.cos(2*l)+e(2*s);return new u(2*e(s)*Math.cos(l)/f,-2*t(s)*Math.sin(l)/f)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var l=this.asin();return this.re=-this.im,this.im=s,s=l.re,l.re=-l.im,l.im=s,l},acosh:function(){var s=this.acos();if(s.im<=0){var l=s.re;s.re=-s.im,s.im=l}else{var l=s.im;s.im=-s.re,s.re=l}return s},atanh:function(){var s=this.re,l=this.im,f=s>1&&l===0,m=1-s,p=1+s,h=m*m+l*l,d=h!==0?new u((p*m-l*l)/h,(l*m+p*l)/h):new u(s!==-1?s/0:0,l!==0?l/0:0),g=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,g)/2,f&&(d.im=-d.im),d},acoth:function(){var s=this.re,l=this.im;if(s===0&&l===0)return new u(0,Math.PI/2);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).atanh():new u(s!==0?s/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var s=this.re,l=this.im;if(l===0)return new u(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var f=s*s+l*l;return f!==0?new u(s/f,-l/f).asinh():new u(s!==0?s/0:0,l!==0?-l/0:0).asinh()},asech:function(){var s=this.re,l=this.im;if(this.isZero())return u.INFINITY;var f=s*s+l*l;return f!==0?new u(s/f,-l/f).acosh():new u(s!==0?s/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var s=this.re,l=this.im,f=s*s+l*l;return new u(s/f,-l/f)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new u(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new u(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new u(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,l){var f=new u(s,l);return Math.abs(f.re-this.re)<=u.EPSILON&&Math.abs(f.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var s=this.re,l=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<u.EPSILON&&(s=0),Math.abs(l)<u.EPSILON&&(l=0),l===0?f+s:(s!==0?(f+=s,f+=" ",l<0?(l=-l,f+="-"):f+="+",f+=" "):l<0&&(l=-l,f+="-"),l!==1&&(f+=l),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return u}):typeof Lh=="object"?(Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,eS.exports=u):r.Complex=u})(Lh)});var nS=vr((Vh,rS)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function n(d,g){if(isNaN(d=parseInt(d,10)))throw p();return d*g}function i(d,g){if(g===0)throw m();var v=Object.create(f.prototype);v.s=d<0?-1:1,d=d<0?-d:d;var C=l(d,g);return v.n=d/C,v.d=g/C,v}function a(d){for(var g={},v=d,C=2,y=4;y<=v;){for(;v%C===0;)v/=C,g[C]=(g[C]||0)+1;y+=1+2*C++}return v!==d?v>1&&(g[v]=(g[v]||0)+1):g[d]=(g[d]||0)+1,g}var o=function(d,g){var v=0,C=1,y=1,D=0,b=0,x=0,w=1,A=1,E=0,F=1,M=1,B=1,k=1e7,P;if(d!=null)if(g!==void 0){if(v=d,C=g,y=v*C,v%1!==0||C%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)v=d.n,C=d.d,"s"in d&&(v*=d.s);else if(0 in d)v=d[0],1 in d&&(C=d[1]);else throw p();y=v*C;break}case"number":{if(d<0&&(y=d,d=-d),d%1===0)v=d;else if(d>0){for(d>=1&&(A=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=A);F<=k&&B<=k;)if(P=(E+M)/(F+B),d===P){F+B<=k?(v=E+M,C=F+B):B>F?(v=M,C=B):(v=E,C=F);break}else d>P?(E+=M,F+=B):(M+=E,B+=F),F>k?(v=M,C=B):(v=E,C=F);v*=A}else(isNaN(d)||isNaN(g))&&(C=v=NaN);break}case"string":{if(F=d.match(/\d+|./g),F===null)throw p();if(F[E]==="-"?(y=-1,E++):F[E]==="+"&&E++,F.length===E+1?b=n(F[E++],y):F[E+1]==="."||F[E]==="."?(F[E]!=="."&&(D=n(F[E++],y)),E++,(E+1===F.length||F[E+1]==="("&&F[E+3]===")"||F[E+1]==="'"&&F[E+3]==="'")&&(b=n(F[E],y),w=Math.pow(10,F[E].length),E++),(F[E]==="("&&F[E+2]===")"||F[E]==="'"&&F[E+2]==="'")&&(x=n(F[E+1],y),A=Math.pow(10,F[E+1].length)-1,E+=3)):F[E+1]==="/"||F[E+1]===":"?(b=n(F[E],y),w=n(F[E+2],1),E+=3):F[E+3]==="/"&&F[E+1]===" "&&(D=n(F[E],y),b=n(F[E+2],y),w=n(F[E+4],1),E+=5),F.length<=E){C=w*A,y=v=x+C*D+A*b;break}}default:throw p()}if(C===0)throw m();t.s=y<0?-1:1,t.n=Math.abs(v),t.d=Math.abs(C)};function c(d,g,v){for(var C=1;g>0;d=d*d%v,g>>=1)g&1&&(C=C*d%v);return C}function u(d,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var v=10%g,C=1;v!==1;C++)if(v=v*10%g,C>e)return 0;return C}function s(d,g,v){for(var C=1,y=c(10,v,g),D=0;D<300;D++){if(C===y)return D;C=C*10%g,y=y*10%g}return 0}function l(d,g){if(!d)return g;if(!g)return d;for(;;){if(d%=g,!d)return g;if(g%=d,!g)return d}}function f(d,g){if(o(d,g),this instanceof f)d=l(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return i(t.s*t.n,t.d)}var m=function(){return new Error("Division by Zero")},p=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,g){return o(d,g),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,g){return o(d,g),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,g){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,g),t.n===0&&this.d===0)throw m();return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,g){return o(d,g),i(l(t.n,this.n)*l(t.d,this.d),t.d*this.d)},lcm:function(d,g){return o(d,g),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,l(t.n,this.n)*l(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,g){if(o(d,g),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var v=a(this.n),C=a(this.d),y=1,D=1;for(var b in v)if(b!=="1"){if(b==="0"){y=0;break}if(v[b]*=t.n,v[b]%t.d===0)v[b]/=t.d;else return null;y*=Math.pow(b,v[b])}for(var b in C)if(b!=="1"){if(C[b]*=t.n,C[b]%t.d===0)C[b]/=t.d;else return null;D*=Math.pow(b,C[b])}return t.s<0?i(D,y):i(y,D)},equals:function(d,g){return o(d,g),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,g){o(d,g);var v=this.s*this.n*t.d-t.s*t.n*this.d;return(0<v)-(v<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var g=this.abs(),v=g.toContinued(),C=1;C<v.length;C++){for(var y=i(v[C-1],1),D=C-2;D>=0;D--)y=y.inverse().add(v[D]);if(Math.abs(y.sub(g).valueOf())<d)return y.mul(this.s)}return this},divisible:function(d,g){return o(d,g),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var g,v="",C=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=C:(d&&(g=Math.floor(C/y))>0&&(v+=g,v+=" ",C%=y),v+=C,v+="/",v+=y),v},toLatex:function(d){var g,v="",C=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=C:(d&&(g=Math.floor(C/y))>0&&(v+=g,C%=y),v+="\\frac{",v+=C,v+="}{",v+=y,v+="}"),v},toContinued:function(){var d,g=this.n,v=this.d,C=[];if(isNaN(g)||isNaN(v))return C;do C.push(Math.floor(g/v)),d=g%v,g=v,v=d;while(g!==1);return C},toString:function(d){var g=this.n,v=this.d;if(isNaN(g)||isNaN(v))return"NaN";d=d||15;var C=u(g,v),y=s(g,v,C),D=this.s<0?"-":"";if(D+=g/v|0,g%=v,g*=10,g&&(D+="."),C){for(var b=y;b--;)D+=g/v|0,g%=v,g*=10;D+="(";for(var b=C;b--;)D+=g/v|0,g%=v,g*=10;D+=")"}else for(var b=d;g&&b--;)D+=g/v|0,g%=v,g*=10;return D}},typeof Vh=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,rS.exports=f):r.Fraction=f})(Vh)});var yN=vr((Cwe,vN)=>{vN.exports=function r(e,t){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,c=/^0/,u=function(y){return r.insensitive&&(""+y).toLowerCase()||""+y},s=u(e).replace(i,"")||"",l=u(t).replace(i,"")||"",f=s.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=l.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(s.match(o),16)||f.length!==1&&s.match(a)&&Date.parse(s),h=parseInt(l.match(o),16)||p&&l.match(a)&&Date.parse(l)||null,d,g;if(h){if(p<h)return-1;if(p>h)return 1}for(var v=0,C=Math.max(f.length,m.length);v<C;v++){if(d=!(f[v]||"").match(c)&&parseFloat(f[v])||f[v]||0,g=!(m[v]||"").match(c)&&parseFloat(m[v])||m[v]||0,isNaN(d)!==isNaN(g))return isNaN(d)?1:-1;if(typeof d!=typeof g&&(d+="",g+=""),d<g)return-1;if(d>g)return 1}return 0}});var DM=vr((UAe,xM)=>{"use strict";var m1=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Aj={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Sj={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},_j=function(e,t){return m1({},e,t)};xM.exports=function(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,n=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?_j:i,o=String(r),c="",u=a(m1({},Aj),n?m1({},Sj):{}),s=Object.keys(u),l=function(){var m=!1;s.forEach(function(p,h){m||o.length>=p.length&&o.slice(0,p.length)===p&&(c+=u[s[h]],o=o.slice(p.length,o.length),m=!0)}),m||(c+=o.slice(0,1),o=o.slice(1,o.length))};o;)l();return c}});var QO=vr((XO,pb)=>{(function(r,e,t){function n(c){var u=this,s=o();u.next=function(){var l=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=l-(u.c=l|0)},u.c=1,u.s0=s(" "),u.s1=s(" "),u.s2=s(" "),u.s0-=s(c),u.s0<0&&(u.s0+=1),u.s1-=s(c),u.s1<0&&(u.s1+=1),u.s2-=s(c),u.s2<0&&(u.s2+=1),s=null}function i(c,u){return u.c=c.c,u.s0=c.s0,u.s1=c.s1,u.s2=c.s2,u}function a(c,u){var s=new n(c),l=u&&u.state,f=s.next;return f.int32=function(){return s.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,l&&(typeof l=="object"&&i(l,s),f.state=function(){return i(s,{})}),f}function o(){var c=4022871197,u=function(s){s=String(s);for(var l=0;l<s.length;l++){c+=s.charCodeAt(l);var f=.02519603282416938*c;c=f>>>0,f-=c,f*=c,c=f>>>0,f-=c,c+=f*4294967296}return(c>>>0)*23283064365386963e-26};return u}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(XO,typeof pb=="object"&&pb,typeof define=="function"&&define)});var $O=vr((KO,db)=>{(function(r,e,t){function n(o){var c=this,u="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var l=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^l^l>>>8},o===(o|0)?c.x=o:u+=o;for(var s=0;s<u.length+64;s++)c.x^=u.charCodeAt(s)|0,c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c}function a(o,c){var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(typeof s=="object"&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(KO,typeof db=="object"&&db,typeof define=="function"&&define)});var tk=vr((ek,hb)=>{(function(r,e,t){function n(o){var c=this,u="";c.next=function(){var l=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(l^l<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,o===(o|0)?c.x=o:u+=o;for(var s=0;s<u.length+64;s++)c.x^=u.charCodeAt(s)|0,s==u.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function i(o,c){return c.x=o.x,c.y=o.y,c.z=o.z,c.w=o.w,c.v=o.v,c.d=o.d,c}function a(o,c){var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(typeof s=="object"&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(ek,typeof hb=="object"&&hb,typeof define=="function"&&define)});var nk=vr((rk,gb)=>{(function(r,e,t){function n(o){var c=this;c.next=function(){var s=c.x,l=c.i,f,m,p;return f=s[l],f^=f>>>7,m=f^f<<24,f=s[l+1&7],m^=f^f>>>10,f=s[l+3&7],m^=f^f>>>3,f=s[l+4&7],m^=f^f<<7,f=s[l+7&7],f=f^f<<13,m^=f^f<<9,s[l]=m,c.i=l+1&7,m};function u(s,l){var f,m,p=[];if(l===(l|0))m=p[0]=l;else for(l=""+l,f=0;f<l.length;++f)p[f&7]=p[f&7]<<15^l.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?m=p[7]=-1:m=p[f],s.x=p,s.i=0,f=256;f>0;--f)s.next()}u(c,o)}function i(o,c){return c.x=o.x.slice(),c.i=o.i,c}function a(o,c){o==null&&(o=+new Date);var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(s.x&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})(rk,typeof gb=="object"&&gb,typeof define=="function"&&define)});var ak=vr((ik,vb)=>{(function(r,e,t){function n(o){var c=this;c.next=function(){var s=c.w,l=c.X,f=c.i,m,p;return c.w=s=s+1640531527|0,p=l[f+34&127],m=l[f=f+1&127],p^=p<<13,m^=m<<17,p^=p>>>15,m^=m>>>12,p=l[f]=p^m,c.i=f,p+(s^s>>>16)|0};function u(s,l){var f,m,p,h,d,g=[],v=128;for(l===(l|0)?(m=l,l=null):(l=l+"\0",m=0,v=Math.max(v,l.length)),p=0,h=-32;h<v;++h)l&&(m^=l.charCodeAt((h+32)%l.length)),h===0&&(d=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,h>=0&&(d=d+1640531527|0,f=g[h&127]^=m+d,p=f==0?p+1:0);for(p>=128&&(g[(l&&l.length||0)&127]=-1),p=127,h=4*128;h>0;--h)m=g[p+34&127],f=g[p=p+1&127],m^=m<<13,f^=f<<17,m^=m>>>15,f^=f>>>12,g[p]=m^f;s.w=d,s.X=g,s.i=p}u(c,o)}function i(o,c){return c.i=o.i,c.w=o.w,c.X=o.X.slice(),c}function a(o,c){o==null&&(o=+new Date);var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(s.X&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(ik,typeof vb=="object"&&vb,typeof define=="function"&&define)});var sk=vr((ok,yb)=>{(function(r,e,t){function n(o){var c=this,u="";c.next=function(){var l=c.b,f=c.c,m=c.d,p=c.a;return l=l<<25^l>>>7^f,f=f-m|0,m=m<<24^m>>>8^p,p=p-l|0,c.b=l=l<<20^l>>>12^f,c.c=f=f-m|0,c.d=m<<16^f>>>16^p,c.a=p-l|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,o===Math.floor(o)?(c.a=o/4294967296|0,c.b=o|0):u+=o;for(var s=0;s<u.length+20;s++)c.b^=u.charCodeAt(s)|0,c.next()}function i(o,c){return c.a=o.a,c.b=o.b,c.c=o.c,c.d=o.d,c}function a(o,c){var u=new n(o),s=c&&c.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},l.int32=u.next,l.quick=l,s&&(typeof s=="object"&&i(s,u),l.state=function(){return i(u,{})}),l}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(ok,typeof yb=="object"&&yb,typeof define=="function"&&define)});var lk=vr((uk,ym)=>{(function(r,e,t){var n=256,i=6,a=52,o="random",c=t.pow(n,i),u=t.pow(2,a),s=u*2,l=n-1,f;function m(y,D,b){var x=[];D=D==!0?{entropy:!0}:D||{};var w=g(d(D.entropy?[y,C(e)]:y==null?v():y,3),x),A=new p(x),E=function(){for(var F=A.g(i),M=c,B=0;F<u;)F=(F+B)*n,M*=n,B=A.g(1);for(;F>=s;)F/=2,M/=2,B>>>=1;return(F+B)/M};return E.int32=function(){return A.g(4)|0},E.quick=function(){return A.g(4)/4294967296},E.double=E,g(C(A.S),e),(D.pass||b||function(F,M,B,k){return k&&(k.S&&h(k,A),F.state=function(){return h(A,{})}),B?(t[o]=F,M):F})(E,w,"global"in D?D.global:this==t,D.state)}function p(y){var D,b=y.length,x=this,w=0,A=x.i=x.j=0,E=x.S=[];for(b||(y=[b++]);w<n;)E[w]=w++;for(w=0;w<n;w++)E[w]=E[A=l&A+y[w%b]+(D=E[w])],E[A]=D;(x.g=function(F){for(var M,B=0,k=x.i,P=x.j,R=x.S;F--;)M=R[k=l&k+1],B=B*n+R[l&(R[k]=R[P=l&P+M])+(R[P]=M)];return x.i=k,x.j=P,B})(n)}function h(y,D){return D.i=y.i,D.j=y.j,D.S=y.S.slice(),D}function d(y,D){var b=[],x=typeof y,w;if(D&&x=="object")for(w in y)try{b.push(d(y[w],D-1))}catch(A){}return b.length?b:x=="string"?y:y+"\0"}function g(y,D){for(var b=y+"",x,w=0;w<b.length;)D[l&w]=l&(x^=D[l&w]*19)+b.charCodeAt(w++);return C(D)}function v(){try{var y;return f&&(y=f.randomBytes)?y=y(n):(y=new Uint8Array(n),(r.crypto||r.msCrypto).getRandomValues(y)),C(y)}catch(x){var D=r.navigator,b=D&&D.plugins;return[+new Date,r,b,r.screen,C(e)]}}function C(y){return String.fromCharCode.apply(0,y)}if(g(t.random(),e),typeof ym=="object"&&ym.exports){ym.exports=m;try{f=require("crypto")}catch(y){}}else typeof define=="function"&&define.amd?define(function(){return m}):t["seed"+o]=m})(typeof self!="undefined"?self:uk,[],Math)});var fk=vr((aRe,ck)=>{var GZ=QO(),jZ=$O(),ZZ=tk(),YZ=nk(),JZ=ak(),XZ=sk(),Po=lk();Po.alea=GZ;Po.xor128=jZ;Po.xorwow=ZZ;Po.xorshift7=YZ;Po.xor4096=JZ;Po.tychei=XZ;ck.exports=Po});var yJ={};z6(yJ,{default:()=>Km});module.exports=H6(yJ);var v6=require("obsidian");var Nn=require("obsidian");var gw=["January","February","March","April","May","June","July","August","September","October","November","December"],co=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],yi={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",useUsDateInputOrder:!1,firstWeekday:co[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,inputFieldTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var eE=require("obsidian");function _e(){}function bl(r,e){for(let t in e)r[t]=e[t];return r}function ep(r){return r()}function xl(){return Object.create(null)}function et(r){r.forEach(ep)}function qn(r){return typeof r=="function"}function Oe(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}var yl;function zo(r,e){return r===e?!0:(yl||(yl=document.createElement("a")),yl.href=e,r===yl.href)}function vw(r){return Object.keys(r).length===0}function Jr(r,e,t,n){if(r){let i=yw(r,e,t,n);return r[0](i)}}function yw(r,e,t,n){return r[1]&&n?bl(t.ctx.slice(),r[1](n(e))):t.ctx}function Xr(r,e,t,n){if(r[2]&&n){let i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let c=0;c<o;c+=1)a[c]=e.dirty[c]|i[c];return a}return e.dirty|i}return e.dirty}function Qr(r,e,t,n,i,a){if(i){let o=yw(e,t,n,a);r.p(o,i)}}function Kr(r){if(r.ctx.length>32){let e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function fo(r){return r&&qn(r.destroy)?r.destroy:_e}var tu=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Dl=class r{constructor(e){Hr(this,"_listeners","WeakMap"in tu?new WeakMap:void 0);Hr(this,"_observer");Hr(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var n;for(let i of t)r.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};Dl.entries="WeakMap"in tu?new WeakMap:void 0;var bw=!1;function xw(){bw=!0}function Dw(){bw=!1}function G(r,e){r.appendChild(e)}function er(r,e,t){let n=ww(r);if(!n.getElementById(e)){let i=X("style");i.id=e,i.textContent=t,j6(n,i)}}function ww(r){if(!r)return document;let e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function j6(r,e){return G(r.head||r,e),e.sheet}function re(r,e,t){r.insertBefore(e,t||null)}function te(r){r.parentNode&&r.parentNode.removeChild(r)}function wt(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function X(r){return document.createElement(r)}function Vn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ue(r){return document.createTextNode(r)}function we(){return Ue(" ")}function rr(){return Ue("")}function Ne(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function U(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Ri(r){return r===""?null:+r}function Ew(r){return Array.from(r.childNodes)}function $e(r,e){e=""+e,r.data!==e&&(r.data=e)}function Ct(r,e){r.value=e==null?"":e}function ru(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Wr(r,e,t){for(let n=0;n<r.options.length;n+=1){let i=r.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function Li(r){let e=r.querySelector(":checked");return e&&e.__value}function ut(r,e,t){r.classList.toggle(e,!!t)}function wl(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}function Cw(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var _a;function na(r){_a=r}function El(){if(!_a)throw new Error("Function called outside component initialization");return _a}function Rr(r){El().$$.on_mount.push(r)}function Ho(r){El().$$.on_destroy.push(r)}function Lr(){let r=El();return(e,t,{cancelable:n=!1}={})=>{let i=r.$$.callbacks[e];if(i){let a=wl(e,t,{cancelable:n});return i.slice().forEach(o=>{o.call(r,a)}),!a.defaultPrevented}return!0}}function Mr(r,e){let t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}var mo=[];var kt=[],Go=[],np=[],Q6=Promise.resolve(),ip=!1;function Fw(){ip||(ip=!0,Q6.then(Cl))}function mn(r){Go.push(r)}function $r(r){np.push(r)}var rp=new Set,Wo=0;function Cl(){if(Wo!==0)return;let r=_a;do{try{for(;Wo<mo.length;){let e=mo[Wo];Wo++,na(e),K6(e.$$)}}catch(e){throw mo.length=0,Wo=0,e}for(na(null),mo.length=0,Wo=0;kt.length;)kt.pop()();for(let e=0;e<Go.length;e+=1){let t=Go[e];rp.has(t)||(rp.add(t),t())}Go.length=0}while(mo.length);for(;np.length;)np.pop()();ip=!1,rp.clear(),na(r)}function K6(r){if(r.fragment!==null){r.update(),et(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(mn)}}function Aw(r){let e=[],t=[];Go.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Go=e}var Fl=new Set,po;function St(){po={r:0,c:[],p:po}}function _t(){po.r||et(po.c),po=po.p}function he(r,e){r&&r.i&&(Fl.delete(r),r.i(e))}function De(r,e,t,n){if(r&&r.o){if(Fl.has(r))return;Fl.add(r),po.c.push(()=>{Fl.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Ke(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Sw(r,e){r.d(1),e.delete(r.key)}function _w(r,e){De(r,1,1,()=>{e.delete(r.key)})}function Al(r,e,t,n,i,a,o,c,u,s,l,f){let m=r.length,p=a.length,h=m,d={};for(;h--;)d[r[h].key]=h;let g=[],v=new Map,C=new Map,y=[];for(h=p;h--;){let w=f(i,a,h),A=t(w),E=o.get(A);E?n&&y.push(()=>E.p(w,e)):(E=s(A,w),E.c()),v.set(A,g[h]=E),A in d&&C.set(A,Math.abs(h-d[A]))}let D=new Set,b=new Set;function x(w){he(w,1),w.m(c,l),o.set(w.key,w),l=w.first,p--}for(;m&&p;){let w=g[p-1],A=r[m-1],E=w.key,F=A.key;w===A?(l=w.first,m--,p--):v.has(F)?!o.has(E)||D.has(E)?x(w):b.has(F)?m--:C.get(E)>C.get(F)?(b.add(E),x(w)):(D.add(F),m--):(u(A,o),m--)}for(;m--;){let w=r[m];v.has(w.key)||u(w,o)}for(;p;)x(g[p-1]);return et(y),g}var $6=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],eR=new Set([...$6]);function en(r,e,t){let n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function Xe(r){r&&r.c()}function Ze(r,e,t){let{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),mn(()=>{let a=r.$$.on_mount.map(ep).filter(qn);r.$$.on_destroy?r.$$.on_destroy.push(...a):et(a),r.$$.on_mount=[]}),i.forEach(mn)}function Ye(r,e){let t=r.$$;t.fragment!==null&&(Aw(t.after_update),et(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function rR(r,e){r.$$.dirty[0]===-1&&(mo.push(r),Fw(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ke(r,e,t,n,i,a,o=null,c=[-1]){let u=_a;na(r);let s=r.$$={fragment:null,ctx:[],props:a,update:_e,not_equal:i,bound:xl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:xl(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};o&&o(s.root);let l=!1;if(s.ctx=t?t(r,e.props||{},(f,m,...p)=>{let h=p.length?p[0]:m;return s.ctx&&i(s.ctx[f],s.ctx[f]=h)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](h),l&&rR(r,f)),m}):[],s.update(),l=!0,et(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){xw();let f=Ew(e.target);s.fragment&&s.fragment.l(f),f.forEach(te)}else s.fragment&&s.fragment.c();e.intro&&he(r.$$.fragment),Ze(r,e.target,e.anchor),Dw(),Cl()}na(u)}var nR;typeof HTMLElement=="function"&&(nR=class extends HTMLElement{constructor(e,t,n){super();Hr(this,"$$ctor");Hr(this,"$$s");Hr(this,"$$c");Hr(this,"$$cn",!1);Hr(this,"$$d",{});Hr(this,"$$r",!1);Hr(this,"$$p_d",{});Hr(this,"$$l",{});Hr(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){let i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=X("slot"),a!=="default"&&U(o,"name",a)},m:function(s,l){re(s,o,l)},d:function(s){s&&te(o)}}}};if(await Promise.resolve(),!this.$$cn)return;let t={},n=Cw(this);for(let a of this.$$s)a in n&&(t[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=ap(o,a.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=ap(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let c=this.$$c.$on(a,o);this.$$l_u.set(o,c)}this.$$l={}}}attributeChangedCallback(e,t,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=ap(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function ap(r,e,t,n){var a;let i=(a=t[r])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[r])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var Ie=class{constructor(){Hr(this,"$$");Hr(this,"$$set")}$destroy(){Ye(this,1),this.$destroy=_e}$on(e,t){if(!qn(t))return _e;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!vw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var Nw="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Nw);function aR(r){er(r,"svelte-r9r5oc",".nopadding.svelte-r9r5oc{padding:0}.icon-xs.svelte-r9r5oc{--icon-size:var(--icon-xs);--icon-stroke:var(--icon-xs-stroke-width)}.icon-sm.svelte-r9r5oc{--icon-size:var(--icon-s);--icon-stroke:var(--icon-s-stroke-width)}.icon-md.svelte-r9r5oc{--icon-size:var(--icon-m);--icon-stroke:var(--icon-m-stroke-width)}.icon-lg.svelte-r9r5oc{--icon-size:var(--icon-l);--icon-stroke:var(--icon-l-stroke-width)}")}function oR(r){let e,t,n,i;return{c(){e=X("div"),U(e,"class","clickable-icon svelte-r9r5oc"),U(e,"aria-label",r[3]),U(e,"aria-disabled",r[5]),ut(e,"nopadding",r[4]),ut(e,"is-active",r[2]),ut(e,"icon-xs",r[1]==="xs"),ut(e,"icon-sm",r[1]==="sm"),ut(e,"icon-md",r[1]==="md"),ut(e,"icon-lg",r[1]==="lg")},m(a,o){re(a,e,o),n||(i=[fo(t=ho.call(null,e,r[0])),Ne(e,"click",r[6])],n=!0)},p(a,[o]){o&8&&U(e,"aria-label",a[3]),o&32&&U(e,"aria-disabled",a[5]),t&&qn(t.update)&&o&1&&t.update.call(null,a[0]),o&16&&ut(e,"nopadding",a[4]),o&4&&ut(e,"is-active",a[2]),o&2&&ut(e,"icon-xs",a[1]==="xs"),o&2&&ut(e,"icon-sm",a[1]==="sm"),o&2&&ut(e,"icon-md",a[1]==="md"),o&2&&ut(e,"icon-lg",a[1]==="lg")},i:_e,o:_e,d(a){a&&te(e),n=!1,et(i)}}}function sR(r,e,t){let{icon:n}=e,{size:i="md"}=e,{active:a=!1}=e,{tooltip:o=""}=e,{nopadding:c=!1}=e,{disabled:u=!1}=e,{onClick:s=()=>{}}=e;function l(f){u||s(f)}return r.$$set=f=>{"icon"in f&&t(0,n=f.icon),"size"in f&&t(1,i=f.size),"active"in f&&t(2,a=f.active),"tooltip"in f&&t(3,o=f.tooltip),"nopadding"in f&&t(4,c=f.nopadding),"disabled"in f&&t(5,u=f.disabled),"onClick"in f&&t(7,s=f.onClick)},[n,i,a,o,c,u,l,s]}var sp=class extends Ie{constructor(e){super(),ke(this,e,sR,oR,Oe,{icon:0,size:1,active:2,tooltip:3,nopadding:4,disabled:5,onClick:7},aR)}},jo=sp;var up=require("obsidian");function ho(r,e){return(0,up.setIcon)(r,e),{update(t){(0,up.setIcon)(r,t)}}}function fR(r){er(r,"svelte-su9mt0",".embed.svelte-su9mt0{all:unset;box-sizing:border-box;padding:6px;font-weight:400;font-family:var(--font-default);color:var(--text-normal)}.embed.svelte-su9mt0:focus{box-shadow:none}.noPadding.svelte-su9mt0{padding:0}.error.svelte-su9mt0{border-color:var(--background-modifier-error)}.error.svelte-su9mt0:hover{border-color:var(--background-modifier-error-hover)}.error.svelte-su9mt0:focus{box-shadow:0 0 0 2px var(--background-modifier-error);border-color:var(--background-modifier-error)}small.svelte-su9mt0{margin-top:var(--size-4-1);font-size:var(--font-ui-smaller);color:var(--text-muted);display:block}.errorText.svelte-su9mt0{color:var(--text-error)}")}function Bw(r){let e,t;return{c(){e=X("small"),t=Ue(r[9]),U(e,"class","svelte-su9mt0"),ut(e,"errorText",r[6])},m(n,i){re(n,e,i),G(e,t)},p(n,i){i&512&&$e(t,n[9]),i&64&&ut(e,"errorText",n[6])},d(n){n&&te(e)}}}function mR(r){let e,t,n,i,a,o,c,u=!!r[9]&&Bw(r);return{c(){e=X("div"),t=X("input"),i=we(),u&&u.c(),t.value=r[2],U(t,"type",r[1]),U(t,"placeholder",r[4]),t.readOnly=r[3],U(t,"style",n=`width: ${r[5]}`),U(t,"class","svelte-su9mt0"),ut(t,"error",r[6]),ut(t,"embed",r[7]),ut(t,"noPadding",r[8]),U(e,"style",a=`width: ${r[5]}`)},m(s,l){re(s,e,l),G(e,t),r[16](t),G(e,i),u&&u.m(e,null),o||(c=[Ne(t,"input",r[11]),Ne(t,"focus",r[12]),Ne(t,"blur",r[13]),Ne(t,"keydown",r[14]),Ne(t,"keyup",r[15])],o=!0)},p(s,[l]){l&4&&t.value!==s[2]&&(t.value=s[2]),l&2&&U(t,"type",s[1]),l&16&&U(t,"placeholder",s[4]),l&8&&(t.readOnly=s[3]),l&32&&n!==(n=`width: ${s[5]}`)&&U(t,"style",n),l&64&&ut(t,"error",s[6]),l&128&&ut(t,"embed",s[7]),l&256&&ut(t,"noPadding",s[8]),s[9]?u?u.p(s,l):(u=Bw(s),u.c(),u.m(e,null)):u&&(u.d(1),u=null),l&32&&a!==(a=`width: ${s[5]}`)&&U(e,"style",a)},i:_e,o:_e,d(s){s&&te(e),r[16](null),u&&u.d(),o=!1,et(c)}}}function pR(r,e,t){let{type:n}=e,{value:i}=e,{ref:a=null}=e,{readonly:o=!1}=e,{placeholder:c=""}=e,{autoFocus:u=!1}=e,{width:s="auto"}=e,{error:l=!1}=e,{embed:f=!1}=e,{noPadding:m=!1}=e,{helperText:p=""}=e,h=Lr();Rr(()=>{u&&a&&a.focus()});function d(b){Mr.call(this,r,b)}function g(b){Mr.call(this,r,b)}function v(b){Mr.call(this,r,b)}function C(b){Mr.call(this,r,b)}function y(b){Mr.call(this,r,b)}function D(b){kt[b?"unshift":"push"](()=>{a=b,t(0,a)})}return r.$$set=b=>{"type"in b&&t(1,n=b.type),"value"in b&&t(2,i=b.value),"ref"in b&&t(0,a=b.ref),"readonly"in b&&t(3,o=b.readonly),"placeholder"in b&&t(4,c=b.placeholder),"autoFocus"in b&&t(10,u=b.autoFocus),"width"in b&&t(5,s=b.width),"error"in b&&t(6,l=b.error),"embed"in b&&t(7,f=b.embed),"noPadding"in b&&t(8,m=b.noPadding),"helperText"in b&&t(9,p=b.helperText)},r.$$.update=()=>{r.$$.dirty&4&&h("input",i)},[a,n,i,o,c,s,l,f,m,p,u,d,g,v,C,y,D]}var lp=class extends Ie{constructor(e){super(),ke(this,e,pR,mR,Oe,{type:1,value:2,ref:0,readonly:3,placeholder:4,autoFocus:10,width:5,error:6,embed:7,noPadding:8,helperText:9},fR)}},cp=lp;function dR(r){let e,t,n,i;function a(u){r[11](u)}function o(u){r[12](u)}let c={type:"text",readonly:r[2],noPadding:r[9],placeholder:r[3],autoFocus:r[4],width:r[5],embed:r[8],error:r[6],helperText:r[7]};return r[1]!==void 0&&(c.ref=r[1]),r[0]!==void 0&&(c.value=r[0]),e=new cp({props:c}),kt.push(()=>en(e,"ref",a)),kt.push(()=>en(e,"value",o)),e.$on("input",r[10]),e.$on("focus",r[13]),e.$on("blur",r[14]),e.$on("keydown",r[15]),e.$on("keyup",r[16]),{c(){Xe(e.$$.fragment)},m(u,s){Ze(e,u,s),i=!0},p(u,[s]){let l={};s&4&&(l.readonly=u[2]),s&512&&(l.noPadding=u[9]),s&8&&(l.placeholder=u[3]),s&16&&(l.autoFocus=u[4]),s&32&&(l.width=u[5]),s&256&&(l.embed=u[8]),s&64&&(l.error=u[6]),s&128&&(l.helperText=u[7]),!t&&s&2&&(t=!0,l.ref=u[1],$r(()=>t=!1)),!n&&s&1&&(n=!0,l.value=u[0],$r(()=>n=!1)),e.$set(l)},i(u){i||(he(e.$$.fragment,u),i=!0)},o(u){De(e.$$.fragment,u),i=!1},d(u){Ye(e,u)}}}function hR(r,e,t){let{value:n}=e,{readonly:i=!1}=e,{placeholder:a=""}=e,{autoFocus:o=!1}=e,{width:c="auto"}=e,{error:u=!1}=e,{helperText:s=""}=e,{embed:l=!1}=e,{noPadding:f=!1}=e,{ref:m=null}=e,p=Lr();function h(b){b.currentTarget instanceof HTMLInputElement&&t(0,n=b.currentTarget.value)}function d(b){m=b,t(1,m)}function g(b){n=b,t(0,n)}function v(b){Mr.call(this,r,b)}function C(b){Mr.call(this,r,b)}function y(b){Mr.call(this,r,b)}function D(b){Mr.call(this,r,b)}return r.$$set=b=>{"value"in b&&t(0,n=b.value),"readonly"in b&&t(2,i=b.readonly),"placeholder"in b&&t(3,a=b.placeholder),"autoFocus"in b&&t(4,o=b.autoFocus),"width"in b&&t(5,c=b.width),"error"in b&&t(6,u=b.error),"helperText"in b&&t(7,s=b.helperText),"embed"in b&&t(8,l=b.embed),"noPadding"in b&&t(9,f=b.noPadding),"ref"in b&&t(1,m=b.ref)},r.$$.update=()=>{r.$$.dirty&1&&p("input",n)},[n,m,i,a,o,c,u,s,l,f,h,d,g,v,C,y,D]}var fp=class extends Ie{constructor(e){super(),ke(this,e,hR,dR,Oe,{value:0,readonly:2,placeholder:3,autoFocus:4,width:5,error:6,helperText:7,embed:8,noPadding:9,ref:1})}},qi=fp;function yR(r){er(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function bR(r){let e,t,n,i,a=r[5].default,o=Jr(a,r,r[4],null);return{c(){e=X("button"),o&&o.c(),U(e,"aria-label",r[3]),e.disabled=r[2],U(e,"class","svelte-12xcpmj"),ut(e,"mod-cta",r[1]==="primary"),ut(e,"mod-warning",r[1]==="destructive"),ut(e,"mod-plain",r[1]==="plain"),ut(e,"disabled",r[2])},m(c,u){re(c,e,u),o&&o.m(e,null),r[7](e),t=!0,n||(i=Ne(e,"click",r[6]),n=!0)},p(c,[u]){o&&o.p&&(!t||u&16)&&Qr(o,a,c,c[4],t?Xr(a,c[4],u,null):Kr(c[4]),null),(!t||u&8)&&U(e,"aria-label",c[3]),(!t||u&4)&&(e.disabled=c[2]),(!t||u&2)&&ut(e,"mod-cta",c[1]==="primary"),(!t||u&2)&&ut(e,"mod-warning",c[1]==="destructive"),(!t||u&2)&&ut(e,"mod-plain",c[1]==="plain"),(!t||u&4)&&ut(e,"disabled",c[2])},i(c){t||(he(o,c),t=!0)},o(c){De(o,c),t=!1},d(c){c&&te(e),o&&o.d(c),r[7](null),n=!1,i()}}}function xR(r,e,t){let{$$slots:n={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:c=""}=e,{ref:u=null}=e;function s(f){Mr.call(this,r,f)}function l(f){kt[f?"unshift":"push"](()=>{u=f,t(0,u)})}return r.$$set=f=>{"variant"in f&&t(1,a=f.variant),"disabled"in f&&t(2,o=f.disabled),"tooltip"in f&&t(3,c=f.tooltip),"ref"in f&&t(0,u=f.ref),"$$scope"in f&&t(4,i=f.$$scope)},[u,a,o,c,i,n,s,l]}var mp=class extends Ie{constructor(e){super(),ke(this,e,xR,bR,Oe,{variant:1,disabled:2,tooltip:3,ref:0},yR)}},xr=mp;var FR=fr(kw());function IR(r){let e,t,n=r[1].default,i=Jr(n,r,r[0],null);return{c(){e=X("div"),i&&i.c(),U(e,"class","modal-button-container")},m(a,o){re(a,e,o),i&&i.m(e,null),t=!0},p(a,[o]){i&&i.p&&(!t||o&1)&&Qr(i,n,a,a[0],t?Xr(n,a[0],o,null):Kr(a[0]),null)},i(a){t||(he(i,a),t=!0)},o(a){De(i,a),t=!1},d(a){a&&te(e),i&&i.d(a)}}}function BR(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,n]}var hp=class extends Ie{constructor(e){super(),ke(this,e,BR,IR,Oe,{})}},Zo=hp;var tn=class extends Error{constructor(t){super("");this.errorLevel=t.errorLevel,this.effect=t.effect,this.cause=t.cause,this.tip=t.tip,this.docs=t.docs,this.context=t.context,this.positionContext=t.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},bi=class extends tn{getErrorType(){return"MB_INTERNAL"}},ia=class extends tn{getErrorType(){return"MB_PARSING"}},nu=class extends tn{getErrorType(){return"MB_VALIDATION"}},go=class extends tn{getErrorType(){return"MB_BIND_TARGET"}};var tr=class extends tn{getErrorType(){return"MB_ARGUMENT"}},vo=class extends tn{getErrorType(){return"MB_JS"}},aa=class extends tn{getErrorType(){return"MB_EXPRESSION"}};var iu=class extends tn{getErrorType(){return"MB_EXAMPLE"}};function Rw(r,e,t){let n=r.slice();return n[1]=e[t],n}function UR(r){let e,t,n,i=r[0].stack+"",a;return{c(){e=X("div"),t=X("pre"),n=X("code"),a=Ue(i),U(n,"class","language-none mb-none"),U(t,"class","mb-pre"),U(e,"class","mb-card")},m(o,c){re(o,e,c),G(e,t),G(t,n),G(n,a)},p(o,c){c&1&&i!==(i=o[0].stack+"")&&$e(a,i)},d(o){o&&te(e)}}}function zR(r){let e,t,n,i=r[0].errorLevel+"",a,o,c=r[0].getErrorType()+"",u,s,l,f,m=r[0].effect+"",p,h,d,g,v,C,y,D,b,x=r[0].cause+"",w,A,E,F,M,B,k=r[0].effect+"",P,R,T,I,V=r[0].positionContext&&Lw(r),O=r[0].tip&&qw(r),J=r[0].docs&&Vw(r),$=r[0].context&&zw(r);return{c(){e=X("div"),t=X("h6"),n=X("span"),a=Ue(i),o=Ue(`
				[`),u=Ue(c),s=Ue("]"),f=Ue(`
			- `),p=Ue(m),h=we(),V&&V.c(),d=we(),g=X("table"),v=X("tbody"),C=X("tr"),y=X("td"),y.textContent="Cause",D=we(),b=X("td"),w=Ue(x),A=we(),E=X("tr"),F=X("td"),F.textContent="Effect",M=we(),B=X("td"),P=Ue(k),R=we(),O&&O.c(),T=we(),J&&J.c(),I=we(),$&&$.c(),U(n,"class",l=r[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),U(e,"class","mb-card mb-card-full-width markdown-rendered")},m(H,q){re(H,e,q),G(e,t),G(t,n),G(n,a),G(n,o),G(n,u),G(n,s),G(t,f),G(t,p),G(e,h),V&&V.m(e,null),G(e,d),G(e,g),G(g,v),G(v,C),G(C,y),G(C,D),G(C,b),G(b,w),G(v,A),G(v,E),G(E,F),G(E,M),G(E,B),G(B,P),G(v,R),O&&O.m(v,null),G(v,T),J&&J.m(v,null),G(v,I),$&&$.m(v,null)},p(H,q){q&1&&i!==(i=H[0].errorLevel+"")&&$e(a,i),q&1&&c!==(c=H[0].getErrorType()+"")&&$e(u,c),q&1&&l!==(l=H[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text")&&U(n,"class",l),q&1&&m!==(m=H[0].effect+"")&&$e(p,m),H[0].positionContext?V?V.p(H,q):(V=Lw(H),V.c(),V.m(e,d)):V&&(V.d(1),V=null),q&1&&x!==(x=H[0].cause+"")&&$e(w,x),q&1&&k!==(k=H[0].effect+"")&&$e(P,k),H[0].tip?O?O.p(H,q):(O=qw(H),O.c(),O.m(v,T)):O&&(O.d(1),O=null),H[0].docs?J?J.p(H,q):(J=Vw(H),J.c(),J.m(v,I)):J&&(J.d(1),J=null),H[0].context?$?$.p(H,q):($=zw(H),$.c(),$.m(v,null)):$&&($.d(1),$=null)},d(H){H&&te(e),V&&V.d(),O&&O.d(),J&&J.d(),$&&$.d()}}}function Lw(r){let e,t,n=r[0].positionContext+"",i;return{c(){e=X("pre"),t=X("code"),i=Ue(n),U(t,"class","language-none mb-none"),U(e,"class","mb-pre")},m(a,o){re(a,e,o),G(e,t),G(t,i)},p(a,o){o&1&&n!==(n=a[0].positionContext+"")&&$e(i,n)},d(a){a&&te(e)}}}function qw(r){let e,t,n,i,a=r[0].tip+"",o;return{c(){e=X("tr"),t=X("td"),t.textContent="Tip",n=we(),i=X("td"),o=Ue(a)},m(c,u){re(c,e,u),G(e,t),G(e,n),G(e,i),G(i,o)},p(c,u){u&1&&a!==(a=c[0].tip+"")&&$e(o,a)},d(c){c&&te(e)}}}function Vw(r){let e,t,n,i,a=Ke(r[0].docs),o=[];for(let c=0;c<a.length;c+=1)o[c]=Uw(Rw(r,a,c));return{c(){e=X("tr"),t=X("td"),t.textContent="Docs",n=we(),i=X("td");for(let c=0;c<o.length;c+=1)o[c].c()},m(c,u){re(c,e,u),G(e,t),G(e,n),G(e,i);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,null)},p(c,u){if(u&1){a=Ke(c[0].docs);let s;for(s=0;s<a.length;s+=1){let l=Rw(c,a,s);o[s]?o[s].p(l,u):(o[s]=Uw(l),o[s].c(),o[s].m(i,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d(c){c&&te(e),wt(o,c)}}}function Uw(r){let e,t=r[1]+"",n,i,a;return{c(){e=X("a"),n=Ue(t),a=X("br"),U(e,"href",i=r[1])},m(o,c){re(o,e,c),G(e,n),re(o,a,c)},p(o,c){c&1&&t!==(t=o[1]+"")&&$e(n,t),c&1&&i!==(i=o[1])&&U(e,"href",i)},d(o){o&&(te(e),te(a))}}}function zw(r){let e,t,n,i,a,o,c=JSON.stringify(r[0].context,null,4)+"",u;return{c(){e=X("tr"),t=X("td"),t.textContent="Context",n=we(),i=X("td"),a=X("pre"),o=X("code"),u=Ue(c),U(o,"class","language-none mb-none"),U(a,"class","mb-pre")},m(s,l){re(s,e,l),G(e,t),G(e,n),G(e,i),G(i,a),G(a,o),G(o,u)},p(s,l){l&1&&c!==(c=JSON.stringify(s[0].context,null,4)+"")&&$e(u,c)},d(s){s&&te(e)}}}function HR(r){let e;function t(a,o){return a[0]instanceof tn?zR:UR}let n=t(r,-1),i=n(r);return{c(){i.c(),e=rr()},m(a,o){i.m(a,o),re(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:_e,o:_e,d(a){a&&te(e),i.d(a)}}}function WR(r,e,t){let{error:n}=e;return r.$$set=i=>{"error"in i&&t(0,n=i.error)},[n]}var gp=class extends Ie{constructor(e){super(),ke(this,e,WR,HR,Oe,{error:0})}},vp=gp;function Hw(r,e,t){let n=r.slice();return n[2]=e[t],n}function Ww(r,e,t){let n=r.slice();return n[5]=e[t],n}function Gw(r){let e,t,n;return{c(){e=X("p"),t=X("code"),n=Ue(r[1]),U(t,"class","language-none meta-bind-none")},m(i,a){re(i,e,a),G(e,t),G(t,n)},p(i,a){a&2&&$e(n,i[1])},d(i){i&&te(e)}}}function jw(r){let e,t,n,i,a,o,c=Ke(r[0].getErrors()),u=[];for(let l=0;l<c.length;l+=1)u[l]=Zw(Ww(r,c,l));let s=l=>De(u[l],1,1,()=>{u[l]=null});return{c(){e=X("h6"),e.textContent="Errors",t=we(),n=X("p"),n.textContent="Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",i=we();for(let l=0;l<u.length;l+=1)u[l].c();a=rr()},m(l,f){re(l,e,f),re(l,t,f),re(l,n,f),re(l,i,f);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(l,f);re(l,a,f),o=!0},p(l,f){if(f&1){c=Ke(l[0].getErrors());let m;for(m=0;m<c.length;m+=1){let p=Ww(l,c,m);u[m]?(u[m].p(p,f),he(u[m],1)):(u[m]=Zw(p),u[m].c(),he(u[m],1),u[m].m(a.parentNode,a))}for(St(),m=c.length;m<u.length;m+=1)s(m);_t()}},i(l){if(!o){for(let f=0;f<c.length;f+=1)he(u[f]);o=!0}},o(l){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)De(u[f]);o=!1},d(l){l&&(te(e),te(t),te(n),te(i),te(a)),wt(u,l)}}}function Zw(r){let e,t;return e=new vp({props:{error:r[5]}}),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[5]),e.$set(a)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function Yw(r){let e,t,n,i,a,o,c=Ke(r[0].getWarnings()),u=[];for(let l=0;l<c.length;l+=1)u[l]=Jw(Hw(r,c,l));let s=l=>De(u[l],1,1,()=>{u[l]=null});return{c(){e=X("h6"),e.textContent="Warnings",t=we(),n=X("p"),n.textContent=`Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was
		invalid or uses deprecated functionality.`,i=we();for(let l=0;l<u.length;l+=1)u[l].c();a=rr()},m(l,f){re(l,e,f),re(l,t,f),re(l,n,f),re(l,i,f);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(l,f);re(l,a,f),o=!0},p(l,f){if(f&1){c=Ke(l[0].getWarnings());let m;for(m=0;m<c.length;m+=1){let p=Hw(l,c,m);u[m]?(u[m].p(p,f),he(u[m],1)):(u[m]=Jw(p),u[m].c(),he(u[m],1),u[m].m(a.parentNode,a))}for(St(),m=c.length;m<u.length;m+=1)s(m);_t()}},i(l){if(!o){for(let f=0;f<c.length;f+=1)he(u[f]);o=!0}},o(l){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)De(u[f]);o=!1},d(l){l&&(te(e),te(t),te(n),te(i),te(a)),wt(u,l)}}}function Jw(r){let e,t;return e=new vp({props:{error:r[2]}}),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[2]),e.$set(a)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function GR(r){let e,t=r[0].hasErrors(),n,i=r[0].hasWarnings(),a,o,c=r[1]&&Gw(r),u=t&&jw(r),s=i&&Yw(r);return{c(){c&&c.c(),e=we(),u&&u.c(),n=we(),s&&s.c(),a=rr()},m(l,f){c&&c.m(l,f),re(l,e,f),u&&u.m(l,f),re(l,n,f),s&&s.m(l,f),re(l,a,f),o=!0},p(l,[f]){l[1]?c?c.p(l,f):(c=Gw(l),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),f&1&&(t=l[0].hasErrors()),t?u?(u.p(l,f),f&1&&he(u,1)):(u=jw(l),u.c(),he(u,1),u.m(n.parentNode,n)):u&&(St(),De(u,1,1,()=>{u=null}),_t()),f&1&&(i=l[0].hasWarnings()),i?s?(s.p(l,f),f&1&&he(s,1)):(s=Yw(l),s.c(),he(s,1),s.m(a.parentNode,a)):s&&(St(),De(s,1,1,()=>{s=null}),_t())},i(l){o||(he(u),he(s),o=!0)},o(l){De(u),De(s),o=!1},d(l){l&&(te(e),te(n),te(a)),c&&c.d(l),u&&u.d(l),s&&s.d(l)}}}function jR(r,e,t){let{errorCollection:n}=e,{declaration:i}=e;return r.$$set=a=>{"errorCollection"in a&&t(0,n=a.errorCollection),"declaration"in a&&t(1,i=a.declaration)},[n,i]}var yp=class extends Ie{constructor(e){super(),ke(this,e,jR,GR,Oe,{errorCollection:0,declaration:1})}},Yo=yp;function Xw(r,e,t){let n=r.slice();return n[12]=e[t],n[13]=e,n[14]=t,n}function Qw(r){let e,t,n,i,a,o,c,u,s;function l(p){r[7](p,r[12],r[13],r[14])}let f={placeholder:"INPUT[slider(addLabels)]",width:"100%"};r[12]!==void 0&&(f.value=r[12]),n=new qi({props:f}),kt.push(()=>en(n,"value",l));function m(){return r[8](r[12])}return c=new jo({props:{icon:"x",onClick:m,tooltip:"Delete"}}),{c(){e=X("tr"),t=X("td"),Xe(n.$$.fragment),a=we(),o=X("td"),Xe(c.$$.fragment),u=we(),ru(t,"width","100%")},m(p,h){re(p,e,h),G(e,t),Ze(n,t,null),G(e,a),G(e,o),Ze(c,o,null),G(e,u),s=!0},p(p,h){r=p;let d={};!i&&h&1&&(i=!0,d.value=r[12],$r(()=>i=!1)),n.$set(d);let g={};h&1&&(g.onClick=m),c.$set(g)},i(p){s||(he(n.$$.fragment,p),he(c.$$.fragment,p),s=!0)},o(p){De(n.$$.fragment,p),De(c.$$.fragment,p),s=!1},d(p){p&&te(e),Ye(n),Ye(c)}}}function ZR(r){let e;return{c(){e=Ue("Add Folder")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function Kw(r){let e,t,n,i,a;return i=new Yo({props:{errorCollection:r[1],declaration:void 0}}),{c(){e=X("div"),t=X("h3"),t.textContent="Some Folder Paths are invalid",n=we(),Xe(i.$$.fragment),U(t,"class","mod-error")},m(o,c){re(o,e,c),G(e,t),G(e,n),Ze(i,e,null),a=!0},p(o,c){let u={};c&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(he(i.$$.fragment,o),a=!0)},o(o){De(i.$$.fragment,o),a=!1},d(o){o&&te(e),Ye(i)}}}function YR(r){let e;return{c(){e=Ue("Save")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function JR(r){let e;return{c(){e=Ue("Cancel")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function XR(r){let e,t,n,i;return e=new xr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[YR]},$$scope:{ctx:r}}}),e.$on("click",r[10]),n=new xr({props:{tooltip:"Revert Changes",$$slots:{default:[JR]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){Xe(e.$$.fragment),t=we(),Xe(n.$$.fragment)},m(a,o){Ze(e,a,o),re(a,t,o),Ze(n,a,o),i=!0},p(a,o){let c={};o&32768&&(c.$$scope={dirty:o,ctx:a}),e.$set(c);let u={};o&32768&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(he(e.$$.fragment,a),he(n.$$.fragment,a),i=!0)},o(a){De(e.$$.fragment,a),De(n.$$.fragment,a),i=!1},d(a){a&&te(t),Ye(e,a),Ye(n,a)}}}function QR(r){let e,t,n,i,a,o,c,u,s,l,f,m=Ke(r[0]),p=[];for(let g=0;g<m.length;g+=1)p[g]=Qw(Xw(r,m,g));let h=g=>De(p[g],1,1,()=>{p[g]=null});c=new xr({props:{variant:"primary",tooltip:"Add new excluded Folder",$$slots:{default:[ZR]},$$scope:{ctx:r}}}),c.$on("click",r[9]);let d=r[1]&&Kw(r);return l=new Zo({props:{$$slots:{default:[XR]},$$scope:{ctx:r}}}),{c(){e=X("div"),t=X("table"),n=X("thead"),n.innerHTML="<tr><th>Folder Path</th> <th></th></tr>",i=we(),a=X("tbody");for(let g=0;g<p.length;g+=1)p[g].c();o=we(),Xe(c.$$.fragment),u=we(),d&&d.c(),s=we(),Xe(l.$$.fragment)},m(g,v){re(g,e,v),G(e,t),G(t,n),G(t,i),G(t,a);for(let C=0;C<p.length;C+=1)p[C]&&p[C].m(a,null);G(e,o),Ze(c,e,null),G(e,u),d&&d.m(e,null),G(e,s),Ze(l,e,null),f=!0},p(g,[v]){if(v&5){m=Ke(g[0]);let D;for(D=0;D<m.length;D+=1){let b=Xw(g,m,D);p[D]?(p[D].p(b,v),he(p[D],1)):(p[D]=Qw(b),p[D].c(),he(p[D],1),p[D].m(a,null))}for(St(),D=m.length;D<p.length;D+=1)h(D);_t()}let C={};v&32768&&(C.$$scope={dirty:v,ctx:g}),c.$set(C),g[1]?d?(d.p(g,v),v&2&&he(d,1)):(d=Kw(g),d.c(),he(d,1),d.m(e,s)):d&&(St(),De(d,1,1,()=>{d=null}),_t());let y={};v&32768&&(y.$$scope={dirty:v,ctx:g}),l.$set(y)},i(g){if(!f){for(let v=0;v<m.length;v+=1)he(p[v]);he(c.$$.fragment,g),he(d),he(l.$$.fragment,g),f=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)De(p[v]);De(c.$$.fragment,g),De(d),De(l.$$.fragment,g),f=!1},d(g){g&&te(e),wt(p,g),Ye(c),d&&d.d(),Ye(l)}}}function KR(r,e,t){let{excludedFolders:n}=e,{modal:i}=e,a;function o(d){t(0,n=n.filter(g=>g!==d))}function c(){n.push(""),t(0,n)}function u(){t(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}function l(d,g,v,C){v[C]=d,t(0,n)}let f=d=>o(d),m=()=>c(),p=()=>u(),h=()=>s();return r.$$set=d=>{"excludedFolders"in d&&t(0,n=d.excludedFolders),"modal"in d&&t(6,i=d.modal)},[n,a,o,c,u,s,i,l,f,m,p,h]}var bp=class extends Ie{constructor(e){super(),ke(this,e,KR,QR,Oe,{excludedFolders:0,modal:6})}},$w=bp;var mr=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof tn?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(t=>t.errorLevel==="ERROR"||t.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var Sl=class extends eE.Modal{constructor(t,n){super(t);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new $w({target:this.contentEl,props:{excludedFolders:this.plugin.settings.excludedFolders.slice(),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(t){for(let n of t)if(n===""){let i=new mr("Excluded Folders");return i.add(new Error(`Invalid Folder Path '${n}'. Folder path may not be empty.`)),i}this.plugin.settings.excludedFolders=t,this.plugin.saveSettings()}};var oE=require("obsidian");function $R(r){let e,t,n,i,a,o,c,u,s,l,f,m;function p(v){r[2](v)}let h={placeholder:"template-name"};r[0].name!==void 0&&(h.value=r[0].name),n=new qi({props:h}),kt.push(()=>en(n,"value",p));function d(v){r[3](v)}let g={placeholder:"INPUT[slider(addLabels)]",width:"100%"};return r[0].declaration!==void 0&&(g.value=r[0].declaration),c=new qi({props:g}),kt.push(()=>en(c,"value",d)),f=new jo({props:{icon:"x",onClick:r[4],tooltip:"Delete Template"}}),{c(){e=X("tr"),t=X("td"),Xe(n.$$.fragment),a=we(),o=X("td"),Xe(c.$$.fragment),s=we(),l=X("td"),Xe(f.$$.fragment),ru(o,"width","100%")},m(v,C){re(v,e,C),G(e,t),Ze(n,t,null),G(e,a),G(e,o),Ze(c,o,null),G(e,s),G(e,l),Ze(f,l,null),m=!0},p(v,[C]){let y={};!i&&C&1&&(i=!0,y.value=v[0].name,$r(()=>i=!1)),n.$set(y);let D={};!u&&C&1&&(u=!0,D.value=v[0].declaration,$r(()=>u=!1)),c.$set(D)},i(v){m||(he(n.$$.fragment,v),he(c.$$.fragment,v),he(f.$$.fragment,v),m=!0)},o(v){De(n.$$.fragment,v),De(c.$$.fragment,v),De(f.$$.fragment,v),m=!1},d(v){v&&te(e),Ye(n),Ye(c),Ye(f)}}}function eL(r,e,t){let{template:n}=e,i=Lr();function a(){console.log("dispatch"),i("delete-template",{name:n.name})}function o(s){r.$$.not_equal(n.name,s)&&(n.name=s,t(0,n))}function c(s){r.$$.not_equal(n.declaration,s)&&(n.declaration=s,t(0,n))}let u=()=>a();return r.$$set=s=>{"template"in s&&t(0,n=s.template)},[n,a,o,c,u]}var xp=class extends Ie{constructor(e){super(),ke(this,e,eL,$R,Oe,{template:0})}},tE=xp;function rE(r,e,t){let n=r.slice();return n[11]=e[t],n}function nE(r){let e,t;return e=new tE({props:{template:r[11]}}),e.$on("delete-template",r[7]),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.template=n[11]),e.$set(a)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function tL(r){let e;return{c(){e=Ue("Add Template")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function iE(r){let e,t,n,i,a;return i=new Yo({props:{errorCollection:r[1],declaration:void 0}}),{c(){e=X("div"),t=X("h3"),t.textContent="Some Templates Failed to Parse",n=we(),Xe(i.$$.fragment),U(t,"class","mod-error")},m(o,c){re(o,e,c),G(e,t),G(e,n),Ze(i,e,null),a=!0},p(o,c){let u={};c&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(he(i.$$.fragment,o),a=!0)},o(o){De(i.$$.fragment,o),a=!1},d(o){o&&te(e),Ye(i)}}}function rL(r){let e;return{c(){e=Ue("Save")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function nL(r){let e;return{c(){e=Ue("Cancel")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function iL(r){let e,t,n,i;return e=new xr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[rL]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new xr({props:{tooltip:"Revert Changes",$$slots:{default:[nL]},$$scope:{ctx:r}}}),n.$on("click",r[10]),{c(){Xe(e.$$.fragment),t=we(),Xe(n.$$.fragment)},m(a,o){Ze(e,a,o),re(a,t,o),Ze(n,a,o),i=!0},p(a,o){let c={};o&16384&&(c.$$scope={dirty:o,ctx:a}),e.$set(c);let u={};o&16384&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(he(e.$$.fragment,a),he(n.$$.fragment,a),i=!0)},o(a){De(e.$$.fragment,a),De(n.$$.fragment,a),i=!1},d(a){a&&te(t),Ye(e,a),Ye(n,a)}}}function aL(r){let e,t,n,i,a,o,c,u,s,l,f,m=Ke(r[0]),p=[];for(let g=0;g<m.length;g+=1)p[g]=nE(rE(r,m,g));let h=g=>De(p[g],1,1,()=>{p[g]=null});c=new xr({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[tL]},$$scope:{ctx:r}}}),c.$on("click",r[8]);let d=r[1]&&iE(r);return l=new Zo({props:{$$slots:{default:[iL]},$$scope:{ctx:r}}}),{c(){e=X("div"),t=X("table"),n=X("thead"),n.innerHTML="<tr><th>Template Name</th> <th>Template Declaration</th> <th></th></tr>",i=we(),a=X("tbody");for(let g=0;g<p.length;g+=1)p[g].c();o=we(),Xe(c.$$.fragment),u=we(),d&&d.c(),s=we(),Xe(l.$$.fragment)},m(g,v){re(g,e,v),G(e,t),G(t,n),G(t,i),G(t,a);for(let C=0;C<p.length;C+=1)p[C]&&p[C].m(a,null);G(e,o),Ze(c,e,null),G(e,u),d&&d.m(e,null),G(e,s),Ze(l,e,null),f=!0},p(g,[v]){if(v&5){m=Ke(g[0]);let D;for(D=0;D<m.length;D+=1){let b=rE(g,m,D);p[D]?(p[D].p(b,v),he(p[D],1)):(p[D]=nE(b),p[D].c(),he(p[D],1),p[D].m(a,null))}for(St(),D=m.length;D<p.length;D+=1)h(D);_t()}let C={};v&16384&&(C.$$scope={dirty:v,ctx:g}),c.$set(C),g[1]?d?(d.p(g,v),v&2&&he(d,1)):(d=iE(g),d.c(),he(d,1),d.m(e,s)):d&&(St(),De(d,1,1,()=>{d=null}),_t());let y={};v&16384&&(y.$$scope={dirty:v,ctx:g}),l.$set(y)},i(g){if(!f){for(let v=0;v<m.length;v+=1)he(p[v]);he(c.$$.fragment,g),he(d),he(l.$$.fragment,g),f=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)De(p[v]);De(c.$$.fragment,g),De(d),De(l.$$.fragment,g),f=!1},d(g){g&&te(e),wt(p,g),Ye(c),d&&d.d(),Ye(l)}}}function oL(r,e,t){let{inputFieldTemplates:n}=e,{modal:i}=e,a;function o(h){t(0,n=n.filter(d=>d.name!==h))}function c(){n.push({name:"",declaration:""}),t(0,n)}function u(){t(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}let l=h=>o(h.detail.name),f=()=>c(),m=()=>u(),p=()=>s();return r.$$set=h=>{"inputFieldTemplates"in h&&t(0,n=h.inputFieldTemplates),"modal"in h&&t(6,i=h.modal)},[n,a,o,c,u,s,i,l,f,m,p]}var Dp=class extends Ie{constructor(e){super(),ke(this,e,oL,aL,Oe,{inputFieldTemplates:0,modal:6})}},aE=Dp;var _l=class extends oE.Modal{constructor(t,n){super(t);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new aE({target:this.contentEl,props:{inputFieldTemplates:JSON.parse(JSON.stringify(this.plugin.settings.inputFieldTemplates)),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(t){let n=this.plugin.api.inputFieldParser.parseTemplates(t);if(n.hasErrors())return n;this.plugin.settings.inputFieldTemplates=t,this.plugin.saveSettings()}};var At=class{static linkToInputField(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToSearch(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static open(e){window.open(e,"_blank")}};var DE=require("obsidian");var sE=require("obsidian");var Nl=class extends sE.Modal{constructor(t,n,i){super(t);this.errorCollection=n,this.declaration=i}onOpen(){this.modalEl.addClass("mb-error-collection-modal"),this.titleEl.innerText="Meta Bind Field",this.component=new Yo({target:this.contentEl,props:{errorCollection:this.errorCollection,declaration:this.declaration}})}onClose(){var t;(t=this.component)==null||t.$destroy()}};function uE(r){let e,t,n,i,a;function o(s,l){return l&1&&(t=null),l&1&&(n=null),t==null&&(t=!!s[0].hasErrors()),t?lL:(n==null&&(n=!!s[0].hasWarnings()),n?uL:sL)}let c=o(r,-1),u=c(r);return{c(){e=X("div"),u.c(),U(e,"class","mb-error-collection"),U(e,"role","button"),U(e,"tabindex","0")},m(s,l){re(s,e,l),u.m(e,null),i||(a=[Ne(e,"click",r[4]),Ne(e,"keydown",r[5])],i=!0)},p(s,l){c!==(c=o(s,l))&&(u.d(1),u=c(s),u&&(u.c(),u.m(e,null)))},d(s){s&&te(e),u.d(),i=!1,et(a)}}}function sL(r){let e,t,n,i;return{c(){e=Vn("svg"),t=Vn("circle"),n=Vn("path"),i=Vn("path"),U(t,"cx","12"),U(t,"cy","12"),U(t,"r","10"),U(n,"d","M12 16v-4"),U(i,"d","M12 8h.01"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","24"),U(e,"height","24"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","2"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","lucide lucide-info")},m(a,o){re(a,e,o),G(e,t),G(e,n),G(e,i)},d(a){a&&te(e)}}}function uL(r){let e,t,n,i;return{c(){e=Vn("svg"),t=Vn("path"),n=Vn("line"),i=Vn("line"),U(t,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),U(n,"x1","12"),U(n,"x2","12"),U(n,"y1","9"),U(n,"y2","13"),U(i,"x1","12"),U(i,"x2","12.01"),U(i,"y1","17"),U(i,"y2","17"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","24"),U(e,"height","24"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","2"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","lucide lucide-alert-triangle")},m(a,o){re(a,e,o),G(e,t),G(e,n),G(e,i)},d(a){a&&te(e)}}}function lL(r){let e,t,n,i,a,o;return{c(){e=Vn("svg"),t=Vn("circle"),n=Vn("line"),i=Vn("line"),a=we(),o=X("span"),o.textContent="[META_BIND_ERROR]",U(t,"cx","12"),U(t,"cy","12"),U(t,"r","10"),U(n,"x1","12"),U(n,"x2","12"),U(n,"y1","8"),U(n,"y2","12"),U(i,"x1","12"),U(i,"x2","12.01"),U(i,"y1","16"),U(i,"y2","16"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","24"),U(e,"height","24"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","2"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","lucide lucide-alert-circle"),U(o,"class","mb-error")},m(c,u){re(c,e,u),G(e,t),G(e,n),G(e,i),re(c,a,u),re(c,o,u)},d(c){c&&(te(e),te(a),te(o))}}}function cL(r){let e=!r[0].isEmpty(),t,n=e&&uE(r);return{c(){n&&n.c(),t=rr()},m(i,a){n&&n.m(i,a),re(i,t,a)},p(i,[a]){a&1&&(e=!i[0].isEmpty()),e?n?n.p(i,a):(n=uE(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:_e,o:_e,d(i){i&&te(t),n&&n.d(i)}}}function fL(r,e,t){let{app:n}=e,{errorCollection:i}=e,{declaration:a}=e;function o(){new Nl(n,i,a).open()}let c=()=>o(),u=s=>{s.key===" "&&o()};return r.$$set=s=>{"app"in s&&t(2,n=s.app),"errorCollection"in s&&t(0,i=s.errorCollection),"declaration"in s&&t(3,a=s.declaration)},[i,o,n,a,c,u]}var wp=class extends Ie{constructor(e){super(),ke(this,e,fL,cL,Oe,{app:2,errorCollection:0,declaration:3})}},Vi=wp;var Jo=(w=>(w.TOGGLE="toggle",w.SLIDER="slider",w.TEXT="text",w.TEXT_AREA_DEPRECATED="text_area",w.TEXT_AREA="textArea",w.SELECT="select",w.MULTI_SELECT_DEPRECATED="multi_select",w.MULTI_SELECT="multiSelect",w.DATE="date",w.TIME="time",w.DATE_PICKER_DEPRECATED="date_picker",w.DATE_PICKER="datePicker",w.NUMBER="number",w.SUGGESTER="suggester",w.EDITOR="editor",w.IMAGE_SUGGESTER="imageSuggester",w.PROGRESS_BAR="progressBar",w.INLINE_SELECT="inlineSelect",w.LIST="list",w.LIST_SUGGESTER="listSuggester",w.INLINE_LIST_SUGGESTER="inlineListSuggester",w.INLINE_LIST="inlineList",w.INVALID="invalid",w))(Jo||{}),Dr=(g=>(g.CLASS="class",g.ADD_LABELS="addLabels",g.MIN_VALUE="minValue",g.MAX_VALUE="maxValue",g.STEP_SIZE="stepSize",g.OPTION="option",g.TITLE="title",g.OPTION_QUERY="optionQuery",g.SHOWCASE="showcase",g.ON_VALUE="onValue",g.OFF_VALUE="offValue",g.DEFAULT_VALUE="defaultValue",g.PLACEHOLDER="placeholder",g.USE_LINKS="useLinks",g.LIMIT="limit",g.INVALID="invalid",g))(Dr||{}),lE={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},text_area:{type:"text_area",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multi_select:{type:"multi_select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},date_picker:{type:"date_picker",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}},Jt={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multi_select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","text_area","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},au=(i=>(i.MATH="math",i.TEXT="text",i.LINK="link",i.INVALID="invalid",i))(au||{}),Xo=(n=>(n.RENDER_MARKDOWN="renderMarkdown",n.HIDDEN="hidden",n.INVALID="invalid",n))(Xo||{}),Ml={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}};var mL={date:"date",datePicker:"datePicker",editor:"editor",imageSuggester:'imageSuggester(optionQuery(""))',inlineList:"inlineList",inlineListSuggester:"inlineListSuggester(option(apple), option(banana), option(lemon))",inlineSelect:"inlineSelect(option(apple), option(banana), option(lemon))",list:"list",listSuggester:"listSuggester(option(apple), option(banana), option(lemon))",multiSelect:"multiSelect(option(apple), option(banana), option(lemon))",number:"number",progressBar:"progressBar",select:"select(option(apple), option(banana), option(lemon))",slider:"slider(addLabels)",suggester:"suggester(option(apple), option(banana), option(lemon))",text:"text",textArea:"textArea",time:"time",toggle:"toggle",date_picker:"",multi_select:"",text_area:"",invalid:""};function Ep(r){let e=[];for(let[t,n]of Object.entries(mL)){if(n==="")continue;let i=r.api.inputField.createInputFieldDeclarationFromString(`INPUT[${n}]`);i=r.api.inputField.addArgument(i,{name:"showcase",value:["true"]}),i=r.api.inputField.addArgument(i,{name:"title",value:[t]}),e.push([t,i])}return e}var gE=require("obsidian");var mE=fr(_p());function ou(r,e,t){return Math.min(Math.max(r,e),t)}function Tl(r,e,t){return r!==void 0?Math.min(Math.max(r,e),t):void 0}function Np(r,e,t,n,i){return(r-e)/(t-e)*(i-n)+n}function Mp(r,e){return(r%e+e)%e}function pE(r,e){if(r==null&&e==null)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Tp(r,e){for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function su(r){return!!r}function dE(r,e){var a;if(r[0]==="")throw new Error("can not traverse to parent on self reference");let t=r.slice(0,-1),n=(a=r.at(-1))!=null?a:"",i=(0,mE.traverseObjectByPath)(t,e);return{parent:{key:t,value:i},child:{key:n,value:i[n]}}}function Ip(r){let e=Reflect.ownKeys(r);for(let t of e){let n=r[t];(n&&typeof n=="object"||typeof n=="function")&&Ip(n)}return Object.freeze(r)}function wr(){return window.crypto.randomUUID()}var Na=class{constructor(){this.listeners=[]}registerListener(e){let t=e;return t.uuid=wr(),this.listeners.push(t),t}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(t=>t.uuid!==e)}notifyListeners(e){for(let t of this.listeners)t.callback(e)}},Tr=class extends Na{constructor(t){super();this.value=t}get(){return this.value}set(t){this.value=t,this.notifyListeners(t)}},Il=class extends Na{constructor(t,n){super();this.dependency=t,this.value=n(t.get()),this.dependencyListener=t.registerListener({callback:i=>this.set(n(i))})}get(){return this.value}set(t){this.value=t,this.notifyListeners(t)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var hE=require("obsidian");var Ui=class extends hE.MarkdownRenderChild{constructor(t,n,i,a,o){super(t);this.renderChildType=n,this.plugin=i,this.filePath=a,this.uuid=o,this.errorCollection=new mr(this.uuid)}};var yo=class extends Ui{constructor(t,n,i,a,o,c){var u;super(t,n,a,o,c);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.inputFieldDeclaration=i,this.inputSignal=new Tr(void 0),this.outputSignal=new Tr(void 0),!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this.inputFieldDeclaration.inputFieldType,n,this),(u=this.inputField)==null||u.registerListener({callback:s=>this.outputSignal.set(s)})}catch(s){this.errorCollection.add(s)}}registerSelfToMetadataManager(){var t;!((t=this.inputFieldDeclaration)!=null&&t.isBound)||!this.inputFieldDeclaration.bindTarget||(this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.inputFieldDeclaration.bindTarget,this.filePath),()=>this.unload()),this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:n=>this.updateMetadataManager(n)}))}unregisterSelfFromMetadataManager(){var t,n;!((t=this.inputFieldDeclaration)!=null&&t.isBound)||!this.inputFieldDeclaration.bindTarget||(this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(n=this.metadataSubscription)==null||n.unsubscribe())}updateMetadataManager(t){var n,i;!((n=this.inputFieldDeclaration)!=null&&n.isBound)||!this.inputFieldDeclaration.bindTarget||(i=this.metadataSubscription)==null||i.update(t)}getArguments(t){if(this.inputFieldDeclaration.errorCollection.hasErrors())throw new bi({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.inputFieldDeclaration.argumentContainer.getAll(t)}getArgument(t){return this.getArguments(t).at(0)}shouldAddCardContainer(){let t=this.inputFieldDeclaration.inputFieldType==="select"||this.inputFieldDeclaration.inputFieldType==="multi_select"||this.inputFieldDeclaration.inputFieldType==="multiSelect"||this.inputFieldDeclaration.inputFieldType==="list",n=su(this.getArgument("showcase"))||su(this.getArgument("title"));return this.renderChildType==="block"&&(t||n)}hasValidBindTarget(){var t;return su((t=this.inputFieldDeclaration)==null?void 0:t.isBound)&&su(this.inputFieldDeclaration.bindTarget)}onload(){var c;if(console.log("meta-bind | InputFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-input"),this.containerEl.empty(),!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new bi({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"})),this.errorCollection.hasErrors()){new Vi({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}});return}let t,n=this.getArgument("showcase"),i=this.getArgument("title");if(this.shouldAddCardContainer()){let u=this.containerEl.createDiv({cls:"mb-card"});i&&u.createEl("h3",{text:i.value}),t=u}else t=this.containerEl;new Vi({target:t,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.hasValidBindTarget()&&this.registerSelfToMetadataManager(),this.plugin.mdrcManager.registerMDRC(this);let a=createDiv();a.addClass("mb-input-wrapper"),(c=this.inputField)==null||c.mount(a);let o=this.getArguments("class");o&&a.addClasses(o.map(u=>u.value).flat()),this.renderChildType==="block"?this.containerEl.addClass("mb-input-block"):this.containerEl.addClass("mb-input-inline"),t.appendChild(a),this.shouldAddCardContainer()&&n&&t.createEl("code",{cls:"mb-none"}).createEl("a",{text:this.fullDeclaration,href:At.linkToInputField(this.inputFieldDeclaration.inputFieldType),cls:"mb-no-link"})}onunload(){var t;console.log("meta-bind | InputFieldMarkdownRenderChild >> unload",this),(t=this.inputField)==null||t.unmount(),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind input field",cls:"mb-error"}),super.onunload()}};function hL(r){let e;return{c(){e=X("div")},m(t,n){re(t,e,n),r[4](e)},p:_e,i:_e,o:_e,d(t){t&&te(e),r[4](null)}}}function gL(r,e,t){let{type:n}=e,{declaration:i}=e,{plugin:a}=e,o,c;Rr(()=>{o=new gE.Component,a.api.createInputField(i,"block","",c,o),o.load()}),Ho(()=>{o.unload()});function u(s){kt[s?"unshift":"push"](()=>{c=s,t(0,c)})}return r.$$set=s=>{"type"in s&&t(1,n=s.type),"declaration"in s&&t(2,i=s.declaration),"plugin"in s&&t(3,a=s.plugin)},[c,n,i,a,u]}var Bp=class extends Ie{constructor(e){super(),ke(this,e,gL,hL,Oe,{type:1,declaration:2,plugin:3})}},vE=Bp;function yE(r,e,t){let n=r.slice();return n[7]=e[t],n}function vL(r){let e;return{c(){e=Ue("Docs")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function yL(r){let e;return{c(){e=Ue("GitHub")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function bL(r){let e;return{c(){e=Ue("Report Issue")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function bE(r){let e,t;return e=new vE({props:{type:r[7][0],declaration:r[7][1],plugin:r[1]}}),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.type=n[7][0]),i&2&&(a.declaration=n[7][1]),i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function xL(r){let e,t,n,i,a,o,c,u,s,l,f,m,p,h,d,g,v,C,y,D,b,x,w,A,E,F,M,B,k,P,R,T,I,V,O,J,$,H,q,ne,be,oe,ue,me,se,ce;c=new xr({props:{variant:"primary",$$slots:{default:[vL]},$$scope:{ctx:r}}}),c.$on("click",r[4]),s=new xr({props:{variant:"default",$$slots:{default:[yL]},$$scope:{ctx:r}}}),s.$on("click",r[5]),f=new xr({props:{variant:"default",$$slots:{default:[bL]},$$scope:{ctx:r}}}),f.$on("click",r[6]),E=new Vi({props:{app:r[0],declaration:DL,errorCollection:r[2]}}),k=new Vi({props:{app:r[0],declaration:wL,errorCollection:r[3]}});let pe=Ke(Ep(r[1])),ge=[];for(let Ee=0;Ee<pe.length;Ee+=1)ge[Ee]=bE(yE(r,pe,Ee));let Re=Ee=>De(ge[Ee],1,1,()=>{ge[Ee]=null});return{c(){e=X("div"),t=X("h1"),t.textContent="Meta Bind FAQ",n=we(),i=X("h2"),i.textContent="Quick Access",a=we(),o=X("p"),Xe(c.$$.fragment),u=we(),Xe(s.$$.fragment),l=we(),Xe(f.$$.fragment),m=we(),p=X("h2"),p.textContent="Error Messages",h=we(),d=X("p"),g=Ue("When creating "),v=X("a"),v.textContent="Input Fields",y=Ue(` or
		`),D=X("a"),D.textContent="View Fields",x=we(),w=X("strong"),w.textContent="warnings",A=Ue(`
		(`),Xe(E.$$.fragment),F=Ue(") and "),M=X("strong"),M.textContent="errors",B=Ue(`
		(`),Xe(k.$$.fragment),P=Ue(") can occur. These are "),R=X("strong"),R.textContent="clickable",T=Ue(` and will show a modal with detailed
		information about the error when clicked.`),I=we(),V=X("h2"),V.textContent="Input Fields",O=we(),J=X("p"),J.innerHTML=`<a href="${At.linkToInputFields()}">Input Fields</a> let you change the frontmatter of your notes from inside
		of notes.`,$=we();for(let Ee=0;Ee<ge.length;Ee+=1)ge[Ee].c();H=we(),q=X("h2"),q.textContent="View Fields",ne=we(),be=X("p"),be.innerHTML=`<a href="${At.linkToViewFields()}">View Fields</a> let you view and perform calculations using the frontmatter
		of your notes from inside of notes. They will update instantly to reflect changes to the frontmatter made by input
		fields and as fast as obsidian allows it for changes from other sources.`,oe=we(),ue=X("h2"),ue.textContent="Bind Targets",me=we(),se=X("p"),se.innerHTML=`<a href="https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/#binding-to-metadata">Bind Targets</a>
		let the plugin know what frontmatter properties to bind
		<a href="${At.linkToInputFields()}">Input Fields</a>
		and
		<a href="${At.linkToViewFields()}">View Fields</a> to.`,U(v,"href",C=At.linkToInputFields()),U(D,"href",b=At.linkToViewFields()),U(e,"class","mb-faq-view markdown-rendered")},m(Ee,z){re(Ee,e,z),G(e,t),G(e,n),G(e,i),G(e,a),G(e,o),Ze(c,o,null),G(o,u),Ze(s,o,null),G(o,l),Ze(f,o,null),G(e,m),G(e,p),G(e,h),G(e,d),G(d,g),G(d,v),G(d,y),G(d,D),G(d,x),G(d,w),G(d,A),Ze(E,d,null),G(d,F),G(d,M),G(d,B),Ze(k,d,null),G(d,P),G(d,R),G(d,T),G(e,I),G(e,V),G(e,O),G(e,J),G(e,$);for(let j=0;j<ge.length;j+=1)ge[j]&&ge[j].m(e,null);G(e,H),G(e,q),G(e,ne),G(e,be),G(e,oe),G(e,ue),G(e,me),G(e,se),ce=!0},p(Ee,[z]){let j={};z&1024&&(j.$$scope={dirty:z,ctx:Ee}),c.$set(j);let fe={};z&1024&&(fe.$$scope={dirty:z,ctx:Ee}),s.$set(fe);let W={};z&1024&&(W.$$scope={dirty:z,ctx:Ee}),f.$set(W);let K={};z&1&&(K.app=Ee[0]),z&4&&(K.errorCollection=Ee[2]),E.$set(K);let ie={};if(z&1&&(ie.app=Ee[0]),z&8&&(ie.errorCollection=Ee[3]),k.$set(ie),z&2){pe=Ke(Ep(Ee[1]));let ve;for(ve=0;ve<pe.length;ve+=1){let xe=yE(Ee,pe,ve);ge[ve]?(ge[ve].p(xe,z),he(ge[ve],1)):(ge[ve]=bE(xe),ge[ve].c(),he(ge[ve],1),ge[ve].m(e,H))}for(St(),ve=pe.length;ve<ge.length;ve+=1)Re(ve);_t()}},i(Ee){if(!ce){he(c.$$.fragment,Ee),he(s.$$.fragment,Ee),he(f.$$.fragment,Ee),he(E.$$.fragment,Ee),he(k.$$.fragment,Ee);for(let z=0;z<pe.length;z+=1)he(ge[z]);ce=!0}},o(Ee){De(c.$$.fragment,Ee),De(s.$$.fragment,Ee),De(f.$$.fragment,Ee),De(E.$$.fragment,Ee),De(k.$$.fragment,Ee),ge=ge.filter(Boolean);for(let z=0;z<ge.length;z+=1)De(ge[z]);ce=!1},d(Ee){Ee&&te(e),Ye(c),Ye(s),Ye(f),Ye(E),Ye(k),wt(ge,Ee)}}}var DL="INPUT[someInputFieldDeclaration]",wL="INPUT[someInputFieldDeclaration]";function EL(r,e,t){let{app:n}=e,{plugin:i}=e,a=new mr("exampleWarningErrorCollection"),o=new mr("exampleErrorErrorCollection");Rr(()=>{a.add(new iu({errorLevel:"WARNING",effect:"some example warning",cause:"some example reason"})),t(2,a),o.add(new iu({errorLevel:"ERROR",effect:"some example error",cause:"some example reason"})),t(3,o)});let c=()=>{At.open(At.linkToHome())},u=()=>{At.open(At.linkToGithub())},s=()=>{At.open(At.linkToIssues())};return r.$$set=l=>{"app"in l&&t(0,n=l.app),"plugin"in l&&t(1,i=l.plugin)},[n,i,a,o,c,u,s]}var Op=class extends Ie{constructor(e){super(),ke(this,e,EL,xL,Oe,{app:0,plugin:1})}},xE=Op;var bo="mb-faq-view-type",Bl=class extends DE.ItemView{constructor(t,n){super(t);this.plugin=n}getViewType(){return bo}getDisplayText(){return"Meta Bind FAQ"}async onOpen(){let t=this.containerEl.children[1];t.empty(),this.component=new xE({target:t,props:{app:this.app,plugin:this.plugin}})}async onClose(){var t;(t=this.component)==null||t.$destroy()}};var Ol=class extends Nn.PluginSettingTab{constructor(t,n){super(t,n);this.plugin=n}display(){let{containerEl:t}=this;t.empty(),new Nn.Setting(t).setName("Quick access").addButton(n=>{n.setCta(),n.setButtonText("Docs"),n.onClick(()=>{At.open(At.linkToHome())})}).addButton(n=>{n.setButtonText("Open FAQ"),n.onClick(()=>{this.plugin.activateView(bo)})}).addButton(n=>{n.setButtonText("GitHub"),n.onClick(()=>{At.open(At.linkToGithub())})}).addButton(n=>{n.setButtonText("Report Issue"),n.onClick(()=>{At.open(At.linkToIssues())})}),new Nn.Setting(t).setName("Sync interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${yi.syncInterval}; Minimum: ${yi.minSyncInterval}; Maximum: ${yi.maxSyncInterval}`).addText(n=>{n.setValue(this.plugin.settings.syncInterval.toString()),n.onChange(i=>{this.plugin.settings.syncInterval=Number.parseInt(i),Number.isNaN(this.plugin.settings.syncInterval)&&(this.plugin.settings.syncInterval=yi.syncInterval),this.plugin.settings.syncInterval<yi.minSyncInterval&&(this.plugin.settings.syncInterval=yi.minSyncInterval),this.plugin.settings.syncInterval>yi.maxSyncInterval&&(this.plugin.settings.syncInterval=yi.maxSyncInterval),this.plugin.saveSettings()})}),new Nn.Setting(t).setName("Date format").setDesc("The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.").addText(n=>{n.setValue(this.plugin.settings.preferredDateFormat),n.onChange(i=>{this.plugin.settings.preferredDateFormat=i,this.plugin.saveSettings()})}),new Nn.Setting(t).setName("Use US date input field order").setDesc("When enabled the month input is before the day input.").addToggle(n=>{n.setValue(this.plugin.settings.useUsDateInputOrder),n.onChange(i=>{this.plugin.settings.useUsDateInputOrder=i,this.plugin.saveSettings()})}),new Nn.Setting(t).setName("First Weekday").setDesc("Specify the first weekday for the datepicker.").addDropdown(n=>{for(let i of co)n.addOption(i.name,i.name);n.setValue(this.plugin.settings.firstWeekday.name),n.onChange(i=>{this.plugin.settings.firstWeekday=co.find(a=>a.name===i),this.plugin.saveSettings()})}),new Nn.Setting(t).setName("Templates").setDesc("You can specify templates here, and access them using `INPUT[template_name][overrides (optional)]` in your notes.").addButton(n=>{n.setButtonText("Edit Templates"),n.onClick(()=>{new _l(this.app,this.plugin).open()})}),new Nn.Setting(t).setName("Excluded Folders").setDesc("You can specify excluded folders here. The plugin will not work within excluded folders.").addButton(n=>{n.setButtonText("Edit Excluded Folders"),n.onClick(()=>{new Sl(this.app,this.plugin).open()})}),new Nn.Setting(t).setName("View Fields display null as empty").setDesc("Display nothing instead of null, if the frontmatter value is empty, in text view fields.").addToggle(n=>{n.setValue(this.plugin.settings.viewFieldDisplayNullAsEmpty),n.onChange(i=>{this.plugin.settings.viewFieldDisplayNullAsEmpty=i,this.plugin.saveSettings()})}),new Nn.Setting(t).setName("Enable JS Input Fields").setDesc("Enable the processing of JavaScript input fields. This is potentially DANGEROUS, thus it's disabled by default. RESTART REQUIRED.").addToggle(n=>{n.setValue(this.plugin.settings.enableJs),n.onChange(i=>{this.plugin.settings.enableJs=i,this.plugin.saveSettings()})}),t.createEl("h2",{text:"Advanced Settings"}),new Nn.Setting(t).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle(n=>{n.setValue(this.plugin.settings.devMode),n.onChange(i=>{this.plugin.settings.devMode=i,this.plugin.saveSettings()})}),new Nn.Setting(t).setName("Disable Code Block Restrictions").setDesc("Disable restrictions on which input fields can be created in which code blocks. Not recommended unless you know what you are doing.").addToggle(n=>{n.setValue(this.plugin.settings.ignoreCodeBlockRestrictions),n.onChange(i=>{this.plugin.settings.ignoreCodeBlockRestrictions=i,this.plugin.saveSettings()})})}};var kp=require("obsidian"),rn=class r{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,kp.moment)(e,r.dateFormat)}static getDefaultDate(){return(0,kp.moment)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};var lu=fr(_p());var kl=class{constructor(e,t,n,i,a){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.onDelete=a,this.deleted=!1}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.updateCache(e,this)}notify(e){this.callbackSignal.set(e)}getDependencies(){return[]}delete(){this.deleted=!0,this.onDelete()}};var Pl=class{constructor(e,t,n,i,a,o,c){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o,this.onDelete=c,this.deleted=!1}init(){for(let e of this.dependencies){let t=this.uuid+"/"+wr();this.dependencySubscriptions.push(this.metadataManager.subscribe(t,e.callbackSignal,e.bindTarget,()=>this.delete())),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}async computeValue(){let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),t=await this.computeFunction(e);this.callbackSignal.set(t),this.metadataManager.updateCache(t,this)}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}delete(){this.deleted=!0;for(let e of this.dependencySubscriptions)e.deleted||e.delete();this.onDelete(),this.unsubscribe()}};var wE=5,CL=5*60;function Pp(r,e){return r===void 0||e===void 0||r.filePath!==e.filePath?!1:EE(r.metadataPath,e.metadataPath,e.listenToChildren)}function EE(r,e,t){return pE(r,e)||Tp(e,r)?!0:t&&Tp(r,e)}function FL(r){return r===void 0?"undefined":`${r.filePath}#${r.metadataPath}`}var Rl=class{constructor(e){this.cache=new Map,this.metadataAdapter=e,this.metadataAdapter.setManagerInstance(this),this.metadataAdapter.load()}unload(){this.metadataAdapter.unload()}subscribeSubscription(e){if(e.bindTarget===void 0)return;let t=this.getCacheForFile(e.bindTarget.filePath);if(t)console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to existing file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath}`),t.inactive=!1,t.cyclesSinceInactive=0,t.listeners.push(e),e.notify((0,lu.traverseObjectByPath)(e.bindTarget.metadataPath,t.metadata));else{console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to newly created file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath}`);let{metadata:n,extraCache:i}=this.metadataAdapter.getMetadataAndExtraCache(e),a={extraCache:i,metadata:n,listeners:[e],cyclesSinceLastChange:wE+1,cyclesSinceInactive:0,inactive:!1,changed:!1};console.log(`meta-bind | MetadataManager >> loaded metadata for file ${e.bindTarget.filePath}`,a.metadata),e.notify((0,lu.traverseObjectByPath)(e.bindTarget.metadataPath,a.metadata)),this.createCacheForFile(e.bindTarget.filePath,a)}}subscribe(e,t,n,i){let a=new kl(e,t,this,n,i);return this.subscribeSubscription(a),a}subscribeComputed(e,t,n,i,a,o){let c=new Pl(e,t,this,n,i,a,o);return this.checkForLoops(c),c.init(),this.subscribeSubscription(c),c}checkForLoops(e){for(let t of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,t])}recCheckForLoops(e){let t=e.first(),n=e.last();if(!(n===void 0||t===void 0)){if(Pp(t.bindTarget,n.bindTarget))throw new go({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${FL(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(t=>this.getAllSubscriptionsToBindTarget(t.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let t=this.getCacheForFile(e.filePath);if(!t)return[];let n=[];for(let i of t.listeners)Pp(i.bindTarget,e)&&n.push(i);return t.listeners.filter(i=>Pp(i.bindTarget,e))}unsubscribe(e){if(e.bindTarget===void 0)return;let t=e.bindTarget.filePath,n=this.getCacheForFile(t);n&&(console.debug(`meta-bind | MetadataManager >> unregistered ${e.uuid} to from file cache ${t}`),n.listeners=n.listeners.filter(i=>i.uuid!==e.uuid),n.listeners.length===0&&(console.debug(`meta-bind | MetadataManager >> marked unused file cache as inactive ${t}`),n.inactive=!0))}getCacheForFile(e){return this.cache.get(e)}createCacheForFile(e,t){if(this.cache.has(e))throw new bi({errorLevel:"CRITICAL",effect:"can not create metadata file cache",cause:"cache for file already exists"});this.cache.set(e,t)}update(){let e=[];for(let[t,n]of this.cache)n.changed&&this.updateExternal(t,n),n.cyclesSinceLastChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>CL&&e.push(t);for(let t of e)this.cache.delete(t)}async updateExternal(e,t){try{await this.metadataAdapter.updateMetadata(e,t)}catch(n){t.changed=!1,console.warn("failed to update frontmatter",n)}}updateCache(e,t){if(t.bindTarget===void 0)return;let n=t.bindTarget.metadataPath,i=t.bindTarget.filePath;console.debug(`meta-bind | MetadataManager >> updating "${JSON.stringify(n)}" in "${i}" metadata cache to`,e);let a=this.getCacheForFile(i);if(!a)return;let{parent:o,child:c}=dE(n,a.metadata);if(o.value==null)throw Error(`The parent of "${JSON.stringify(n)}" does not exist in Object, please create the parent first`);o.value[c.key]=e,a.cyclesSinceLastChange=0,a.changed=!0,this.notifyListeners(a,n,t.uuid)}updateCacheOnExternalUpdate(e,t){let n=this.getCacheForFile(e);if(!n||n.cyclesSinceLastChange<wE)return;let i=Object.assign({},t);delete i.position,console.debug(`meta-bind | MetadataManager >> updating "${e}" on frontmatter update`,i),n.metadata=i,this.notifyListeners(n)}notifyListeners(e,t,n){for(let i of e.listeners)if(!(n&&n===i.uuid)&&i.bindTarget!==void 0)if(t){if(EE(t,i.bindTarget.metadataPath,i.bindTarget.listenToChildren)){let a=(0,lu.traverseObjectByPath)(i.bindTarget.metadataPath,e.metadata);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata value`,a),i.notify(a)}}else{let a=(0,lu.traverseObjectByPath)(i.bindTarget.metadataPath,e.metadata);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata`,i.bindTarget.metadataPath,e.metadata,a),i.notify(a)}}deleteCacheInstant(e){let t=this.getCacheForFile(e);if(t!==void 0){for(let n of t.listeners)n.delete();this.cache.delete(e)}}};var ar=fr(zi()),xo=fr(sa());var nn=fr(zi()),ME=fr(sa());var qr=fr(zi()),Ma=fr(sa()),xi=qr.P.sequence(Ma.P_UTILS.unicodeLetter(),qr.P.or(Ma.P_UTILS.unicodeAlphanumeric(),qr.P.oneOf("-_")).many()).map(r=>r[0]+r[1].join("")).describe("identifier"),SE=qr.P.sequenceMap((r,e)=>r+e.map(t=>t[0]+t[1]).join(""),xi,qr.P.sequence(Ma.P_UTILS.optionalWhitespace(),xi).many()).describe("identifier with spaces"),IL=qr.P.string("\\").then(Ma.P_UTILS.any()).map(r=>r==="'"?"'":r==="\\"?"\\":"\\"+r);function _E(r){return qr.P.or(IL,qr.P.noneOf(r+"\\")).many().map(e=>e.join("")).trim(qr.P.string(r))}var BL=_E("'"),NE=_E('"');function ei(r,e){return{value:r,position:e}}var OL=qr.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),kL=qr.P.or(BL,OL).node(ei),PL=qr.P.separateBy(kL,qr.P.string(",").trim(Ma.P_UTILS.optionalWhitespace())),RL=qr.P.sequenceMap((r,e)=>({name:r,value:e}),xi.node(ei),PL.trim(Ma.P_UTILS.optionalWhitespace()).wrap(qr.P.string("("),qr.P.string(")")).optional([])),cu=qr.P.separateBy(RL,qr.P.string(",").trim(Ma.P_UTILS.optionalWhitespace()));var jp=nn.P.manyNotOf("{}[]#^|:?").box("file path"),TE=xi.node(ei),Gp=nn.P.or(ME.P_UTILS.digits(),NE).wrap(nn.P.string("["),nn.P.string("]")).node(ei),LL=nn.P.or(nn.P.sequenceMap((r,e)=>({file:void 0,boundToLocalScope:r==="^",listenToChildren:!1,path:e}),nn.P.string("^").optional(),Gp.atLeast(1)),nn.P.sequenceMap((r,e,t)=>({file:void 0,boundToLocalScope:r==="^",listenToChildren:!1,path:[e,...t]}),nn.P.string("^").skip(nn.P.string(".")).optional(),TE,Gp.many())),qL=nn.P.sequenceMap((r,e)=>[r,...e],TE,Gp.many()),VL=nn.P.sequenceMap((r,e)=>(r.path=r.path.concat(e.flat()),r),LL,nn.P.string(".").then(qL).many()),ua=nn.P.sequenceMap((r,e)=>(e.file=r==null?void 0:r[0],e),nn.P.sequence(jp.node(ei),nn.P.string("#")).optional(),VL);var UL=ar.P.string("\\").then(xo.P_UTILS.any()).map(r=>r==="["?"[":r==="]"?"]":r==="{"?"{":r==="}"?"}":r==="\\"?"\\":"\\"+r),IE=ar.P.sequenceMap((r,e)=>r+e.flat().join(""),ar.P.manyNotOf("{}[]\\"),ar.P.sequence(UL,ar.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),zL=ar.P.sequenceMap((r,e)=>[r,...e.flat()],IE,ar.P.sequence(ua.wrap(ar.P.string("{"),ar.P.string("}")),IE).many()),HL=ar.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{viewFieldType:r,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},xi.node(ei).optional().describe("input field type"),cu.trim(xo.P_UTILS.optionalWhitespace()).wrap(ar.P.string("("),ar.P.string(")")).optional([]),ar.P.sequence(ar.P.string(":"),ua).optional()),Zp=ar.P.sequenceMap((r,e,t)=>t===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(t.templateDeclaration=e,t),ar.P.string("VIEW"),zL.wrap(ar.P.string("["),ar.P.string("]")),HL.wrap(ar.P.string("["),ar.P.string("]")).optional(),xo.P_UTILS.eof()),WL=ar.P.sequenceMap((r,e,t,n)=>(e!==void 0&&(r.listenToChildren=!0),{bindTarget:r,name:n}),ua.wrap(ar.P.string("{"),ar.P.string("}")),ar.P.string(" and children").optional(),ar.P.string(" as "),xi),BE=ar.P.sequenceMap((r,e,t,n)=>({bindTargetMappings:r,code:n}),WL.separateBy(xo.P_UTILS.whitespace()),xo.P_UTILS.whitespace(),ar.P.string("---"),xo.P_UTILS.remaining());function zn(r,e){let t=r.tryParse(e);if(t.success)return t.value;throw new Yp("ERROR","parsiNOM parser",e,t)}var Yp=class extends tn{constructor(t,n,i,a){super({errorLevel:t,effect:"failed to parse",cause:`expected ${a.expected.sort().join(" or ")}`});this.str=i,this.parseFailure=a,this.source=n,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let n=this.str.split(`
`)[this.parseFailure.furthest.line-1],i=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${i}${n}`,this.positionContext+=`
${this.getUnderline(i.length)}
`,this.message+=`
`+this.positionContext}getUnderline(t){let n=" ".repeat(this.parseFailure.furthest.column+t-1),i=`^ (${this.cause})`;return n+i}},an=class extends tn{constructor(t,n,i,a,o,c){super({errorLevel:t,effect:"failed to validate parser result",cause:i,docs:c});this.str=a,this.position=o,this.source=n,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let n=this.str.split(`
`)[this.position.from.line-1],i=`${this.position.from.line} |   `;this.positionContext=`${i}${n}`,this.positionContext+=`
${this.getUnderline(i.length,n.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(t,n){if(this.position===void 0)return"";let i=" ".repeat(this.position.from.column+t-1),a=this.position.to.line===this.position.from.line?this.position.to.column:n,o="^".repeat(a-this.position.from.column);return i+o}};var es=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let t of Object.values(Dr))e[t]=0;for(let t of this.arguments){let n=t.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new tr({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${n.type}' does not allow duplicates`,docs:[At.linkToSearch(n.type)]})}}mergeByOverride(e){for(let t of e.arguments){let n=t.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(t)}return this.validate(),this}mergeByThrow(e){for(let t of e.arguments){let n=t.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new tr({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(t)}return this.validate(),this}getAll(e){return this.arguments.filter(t=>t.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var ts=class extends es{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var rs=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,t){if(t.find(n=>n.length===e.length)===void 0)throw new tr({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${t.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[At.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var ns=class extends rs{};var Zl=class extends ns{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Ml.renderMarkdown}};var Yl=class extends ns{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Ml.hidden}};var OE={renderMarkdown:Zl,hidden:Yl},Jl=class{static createViewFieldArgument(e){if(e in OE){let t=OE[e];if(t)return new t}throw new ia({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var Xl=class{constructor(e,t){this.unvalidatedDeclaration=e,this.plugin=t,this.errorCollection=new mr("view field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a=this.validateTemplateDeclaration(e),o={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,viewFieldType:t,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let t of Object.entries(au))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new an("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.writeToBindTarget,e)}validateArguments(e){let t=new ts;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Jl.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new an("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Xo))if(t[1]===e.value)return t[1];return this.errorCollection.add(new an("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}validateTemplateDeclaration(e){var t,n;try{return(n=(t=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:t.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,i,e)))!=null?n:[]}catch(i){return this.errorCollection.add(i),[]}}};var Ql=class{constructor(e){this.plugin=e}parseString(e,t){let n=new mr("ViewFieldDeclaration");try{let i=zn(Zp,e);return i.fullDeclaration=e,i.errorCollection=n,i.arguments=[...i.arguments],this.validateDeclaration(i,t)}catch(i){n.add(i)}return{fullDeclaration:e,errorCollection:n,templateDeclaration:[],viewFieldType:"invalid",argumentContainer:new ts,writeToBindTarget:void 0}}parseStringWithoutValidation(e){let t=new mr("ViewFieldDeclaration");try{let n=zn(Zp,e);return n.fullDeclaration=e,n.errorCollection=t,n.arguments=[...n.arguments],n}catch(n){t.add(n)}return{fullDeclaration:e,errorCollection:t,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}validateDeclaration(e,t){return new Xl(e,this.plugin).validate(t)}parseJsString(e){let t={};t.errorCollection=new mr("JsViewFieldDeclaration"),t.fullDeclaration=e;try{let n=zn(BE,e);t.bindTargetMappings=n.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validateBindTarget(e,i.bindTarget),name:i.name})),t.code=n.code}catch(n){t.errorCollection.add(n)}return t}};var Kl=class{constructor(e){this.plugin=e}parseAndValidateBindTarget(e,t){return this.validateBindTarget(e,this.parseBindTarget(e),t)}parseBindTarget(e){return zn(ua,e)}validateBindTarget(e,t,n){var o,c,u,s,l;let i={},a=(o=t.file)==null?void 0:o.value;if(a!==void 0){let f=this.plugin.getFilePathsByName(a);if(f.length===0)throw new an("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(c=t.file)==null?void 0:c.value}' not found.`,e,(u=t.file)==null?void 0:u.position);if(f.length===1)i.filePath=f[0];else throw new an("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(s=t.file)==null?void 0:s.value}' resolves to multiple files, please also specify the file path.`,e,(l=t.file)==null?void 0:l.position)}return i.metadataPath=t.path.map(f=>f.value),i.boundToLocalScope=t.boundToLocalScope,i.listenToChildren=t.listenToChildren,this.resolveScope(i,n)}resolveScope(e,t){if(e.boundToLocalScope){if(t===void 0)throw new an("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.filePath=t.scope.filePath,e.metadataPath=t.scope.metadataPath.concat(e.metadataPath),e}else return e}toFullDeclaration(e,t){if(e!==void 0)return e.filePath===void 0&&(e.filePath=t),e}};var is=class extends Ui{};var as=class extends is{constructor(t,n,i,a,o,c){var u,s;super(t,n,a,o,c);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.inputSignal=new Tr(void 0),this.errorCollection.isEmpty())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(i.viewFieldType,this),this.variables=(s=(u=this.viewField)==null?void 0:u.buildVariables(this.viewFieldDeclaration))!=null?s:[]}catch(l){this.errorCollection.add(l)}}registerSelfToMetadataManager(){try{this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.viewFieldDeclaration.writeToBindTarget,this.filePath),this.variables.map(t=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(t.bindTargetDeclaration,this.filePath),callbackSignal:t.inputSignal})),async()=>{var t;return await((t=this.viewField)==null?void 0:t.computeValue(this.variables))},()=>this.unload()),this.inputSignal.registerListener({callback:t=>{var n;return void((n=this.viewField)==null?void 0:n.update(t))}})}catch(t){this.errorCollection.add(t)}}unregisterSelfFromMetadataManager(){var t;(t=this.metadataSubscription)==null||t.unsubscribe()}getArguments(t){if(this.viewFieldDeclaration.errorCollection.hasErrors())throw new bi({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.viewFieldDeclaration.argumentContainer.getAll(t)}getArgument(t){return this.getArguments(t).at(0)}onload(){var n;if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),this.errorCollection.hasErrors()||this.registerSelfToMetadataManager(),new Vi({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.plugin.mdrcManager.registerMDRC(this);let t=createDiv();t.addClass("mb-view-wrapper"),(n=this.viewField)==null||n.render(t),this.containerEl.appendChild(t)}onunload(){var t;console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),(t=this.viewField)==null||t.destroy(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}};function Jp(r){var e;return(e=r.plugins.getPlugin("js-engine"))==null?void 0:e.api}var $l=class extends is{constructor(t,n,i,a,o,c){var u;super(t,n,a,o,c);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.file=this.plugin.app.vault.getAbstractFileByPath(this.filePath),this.errorCollection.isEmpty())try{for(let s of(u=this.viewFieldDeclaration.bindTargetMappings)!=null?u:[])this.variables.push({bindTargetDeclaration:s.bindTarget,inputSignal:new Tr(void 0),uuid:wr(),contextName:s.name})}catch(s){this.errorCollection.add(s)}}buildContext(){var n,i;let t={};for(let a of(n=this.variables)!=null?n:[])!a.contextName||!a.inputSignal||(t[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return t}async evaluateExpression(){if(!this.plugin.settings.enableJs)throw new vo({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});let t=Jp(this.plugin.app);if(t===void 0)throw new vo({errorLevel:"ERROR",effect:"can not evaluate js view field",cause:"js view fields need the JS Engine plugin to be installed"});return await t.internal.excute({code:this.viewFieldDeclaration.code,context:{file:this.file,line:0,metadata:this.plugin.app.metadataCache.getFileCache(this.file)},container:this.renderContainer,component:this,contextOverrides:{bound:this.buildContext()}})}registerSelfToMetadataManager(){let t=new Tr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,t,void 0,this.variables.map(n=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(n.bindTargetDeclaration,this.filePath),callbackSignal:n.inputSignal})),()=>this.update(),()=>this.unload())}unregisterSelfFromMetadataManager(){var t;(t=this.metadataSubscription)==null||t.unsubscribe()}async onload(){if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),Jp(this.plugin.app)===void 0&&this.errorCollection.add(new vo({errorLevel:"ERROR",effect:"can not create js view field",cause:"js view fields need the JS Engine plugin to be installed"})),new Vi({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.registerSelfToMetadataManager(),this.plugin.mdrcManager.registerMDRC(this);let t=createDiv();t.addClass("mb-view-wrapper"),this.renderContainer=t,await this.update(),this.containerEl.appendChild(t)}onunload(){console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}async update(){if(this.renderContainer)try{let t=Jp(this.plugin.app);if(t===void 0)throw new vo({errorLevel:"ERROR",effect:"can not evaluate js view field",cause:"js view fields need the JS Engine plugin to be installed"});let n=await this.evaluateExpression();await t.internal.createRenderer(this.renderContainer,this.filePath,this).render(n.result)}catch(t){t instanceof Error&&(this.renderContainer.innerText=t.message,this.renderContainer.addClass("mb-error"))}}};var os=class extends es{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var jt=class extends rs{};var ec=class extends jt{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return Jt.class}};var tc=class extends jt{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Jt.addLabels}};var rc=class extends jt{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new tr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Jt.minValue}};var nc=class extends jt{constructor(){super(...arguments);this.value=100}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new tr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Jt.maxValue}};var Ta=fr(zi()),fu=fr(sa()),PE=Ta.P.sequenceMap((r,e)=>r===void 0?e:-e,Ta.P.string("-").optional(),Ta.P.or(Ta.P.sequenceMap((r,e,t)=>Number(r+e+t),fu.P_UTILS.digits(),Ta.P.string("."),fu.P_UTILS.digits()),fu.P_UTILS.digits().map(r=>Number(r)))).thenEof(),Vie=Ta.P.sequenceMap((r,e)=>r===void 0?e:-e,Ta.P.string("-").optional(),fu.P_UTILS.digits().map(r=>Number(r))).thenEof();function la(r){if(r.toLowerCase()==="null")return null;if(r==="true")return!0;if(r==="false")return!1;{let e=PE.tryParse(r);return e.success?e.value:r}}function ic(r){return r===void 0?"":r===null?"null":typeof r=="string"?r:typeof r=="boolean"?r?"true":"false":r.toString()}function Ia(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"}function Hi(r){if(r!=null){if(Ia(r))return[r];if(typeof r=="object"&&Array.isArray(r))return r.filter(e=>Ia(e))}}function ss(r){if(typeof r=="number")return r;if(typeof r=="string"){let e=PE.tryParse(r);if(e.success)return e.value}}function Ba(r){return Ia(r)?r==null?void 0:r.toString():void 0}function Oa(r){return Ia(r)?r:void 0}function RE(r,e){return Array.isArray(r)?r.map(t=>kE(t,e)).join(", "):kE(r,e)}function kE(r,e){var t;return typeof r=="object"?JSON.stringify(r):(t=r==null?void 0:r.toString())!=null?t:e?"":"null"}var ac=class extends jt{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(t){t.length===1?(this.value=la(t[0].value),this.name=t[0].value):t.length===2&&(this.value=la(t[0].value),this.name=t[1].value)}getConfig(){return Jt.option}};var oc=class extends jt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return Jt.title}};var sc=class extends jt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return Jt.optionQuery}};var uc=class extends jt{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Jt.showcase}};var lc=class extends jt{constructor(){super(...arguments);this.value=!1}_parseValue(t){this.value=la(t[0].value)}getConfig(){return Jt.offValue}};var cc=class extends jt{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=la(t[0].value)}getConfig(){return Jt.onValue}};var fc=class extends jt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=la(t[0].value)}getConfig(){return Jt.defaultValue}};var mc=class extends jt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return Jt.placeholder}};var pc=class extends jt{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Jt.useLinks}};var dc=class extends jt{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new tr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new tr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Jt.stepSize}};var hc=class extends jt{constructor(){super(...arguments);this.value=void 0}_parseValue(t){if(this.value=Number.parseInt(t[0].value),Number.isNaN(this.value))throw new tr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new tr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[At.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Jt.limit}};var LE={class:ec,addLabels:tc,minValue:rc,maxValue:nc,stepSize:dc,option:ac,title:oc,optionQuery:sc,showcase:uc,offValue:lc,onValue:cc,defaultValue:fc,placeholder:mc,useLinks:pc,limit:hc},gc=class{static createInputFieldArgument(e){if(e in LE){let t=LE[e];if(t)return new t}throw new ia({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var mu=class{constructor(e,t){this.plugin=e,this.unvalidatedDeclaration=t,this.errorCollection=new mr("input field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,inputFieldType:t,isBound:n!==void 0,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let t of Object.entries(Jo))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new an("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){var t;(e.inputFieldType==="date_picker"||e.inputFieldType==="text_area"||e.inputFieldType==="multi_select")&&this.errorCollection.add(new an("WARNING","Declaration Validator",`'${e.inputFieldType}' is deprecated, as it has been renamed to be in camel case ('input_field_type' => 'inputFieldType').`,this.unvalidatedDeclaration.fullDeclaration,(t=this.unvalidatedDeclaration.inputFieldType)==null?void 0:t.position))}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.bindTarget,e)}validateArguments(e){let t=new os;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=gc.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new an("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Dr))if(t[1]===e.value)return t[1];return this.errorCollection.add(new an("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}};var sr=fr(zi());var us=fr(sa());var GL=sr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},xi.node(ei).describe("input field type"),cu.trim(us.P_UTILS.optionalWhitespace()).wrap(sr.P.string("("),sr.P.string(")")).optional([]),sr.P.sequence(sr.P.string(":"),ua).optional()),qE=sr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},xi.node(ei).optional().describe("input field type"),cu.trim(us.P_UTILS.optionalWhitespace()).wrap(sr.P.string("("),sr.P.string(")")).optional([]),sr.P.sequence(sr.P.string(":"),ua).optional()),Xp=sr.P.or(sr.P.sequenceMap((r,e,t)=>(t.templateName=e,t),sr.P.string("INPUT"),sr.P.sequenceMap((r,e,t)=>e,sr.P.string("["),SE.node(ei).describe("template name"),sr.P.string("]")),qE.wrap(sr.P.string("["),sr.P.string("]")),us.P_UTILS.eof()),sr.P.sequenceMap((r,e)=>e,sr.P.string("INPUT"),GL.wrap(sr.P.string("["),sr.P.string("]")),us.P_UTILS.eof())),VE=sr.P.sequenceMap((r,e)=>e,sr.P.string("INPUT"),qE.wrap(sr.P.string("["),sr.P.string("]")),us.P_UTILS.eof());var vc=class{constructor(e){this.plugin=e,this.templates=[]}parseString(e,t){let n=new mr("InputFieldParser");try{let i=zn(Xp,e);return i.fullDeclaration=e,i.errorCollection=n,i.arguments=[...i.arguments],i=this.applyTemplate(i),new mu(this.plugin,i).validate(t)}catch(i){n.add(i)}return{fullDeclaration:e,inputFieldType:"invalid",isBound:!1,bindTarget:void 0,argumentContainer:new os,errorCollection:n}}parseStringWithoutValidation(e){let t=new mr("InputFieldParser");try{let n=zn(Xp,e);return n.fullDeclaration=e,n.errorCollection=t,n.arguments=[...n.arguments],n}catch(n){t.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}validateDeclaration(e,t){return new mu(this.plugin,e).validate(t)}parseTemplateString(e){let t=new mr("InputFieldParser");try{let n=zn(VE,e);return n.fullDeclaration=e,n.errorCollection=t,n.arguments=[...n.arguments],n}catch(n){t.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}parseTemplates(e){this.templates=[];let t=new mr("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);t.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push(Ip(a))}return t}getTemplate(e){var t;return(t=this.templates.find(n=>n.name===e))==null?void 0:t.template}applyTemplate(e){if(e.templateName===void 0)return e;let t=this.getTemplate(e.templateName.value);return t===void 0?(e.errorCollection.add(new an("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.fullDeclaration,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.plugin.api.inputField.merge(t,e)}};var yc=class{constructor(e){this.api=e}createInputFieldDeclaration(e,t){let n=new mr("input field declaration"),i=(t!=null?t:[]).map(a=>({name:{value:a.name},value:a.value.map(o=>({value:o}))}));return{fullDeclaration:"",inputFieldType:e?{value:e}:void 0,bindTarget:void 0,arguments:i,errorCollection:n}}createInputFieldDeclarationFromString(e){return this.api.inputFieldParser.parseStringWithoutValidation(e)}setType(e,t){return e.inputFieldType={value:t},e}setArguments(e,t){return e.arguments=t.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))})),e}addArgument(e,t){return Array.isArray(t)?e.arguments=e.arguments.concat(t.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))}))):e.arguments.push({name:{value:t.name},value:t.value.map(n=>({value:n}))}),e}setBindTargetFile(e,t){return e.bindTarget?e.bindTarget.file={value:t}:e.bindTarget={file:{value:t},path:[],boundToLocalScope:!1,listenToChildren:!1},e}setBindTargetMetadataField(e,t){return typeof t=="string"&&(t=[t]),e.bindTarget?e.bindTarget.path=t.map(n=>({value:n})):e.bindTarget={file:void 0,path:t.map(n=>({value:n})),boundToLocalScope:!1,listenToChildren:!1},e}setTemplateName(e,t){return e.templateName={value:t},e}applyTemplate(e){return this.api.inputFieldParser.applyTemplate(e)}getTemplate(e){return this.api.inputFieldParser.getTemplate(e)}merge(e,t){var i,a,o;let n={};return e.bindTarget===void 0?n=t.bindTarget:(n=e.bindTarget,((i=t.bindTarget)==null?void 0:i.file)!==void 0&&(n.file=t.bindTarget.file),((a=t.bindTarget)==null?void 0:a.path)!==void 0&&(n.path=t.bindTarget.path)),{fullDeclaration:t.fullDeclaration,inputFieldType:(o=t.inputFieldType)!=null?o:e.inputFieldType,bindTarget:n,arguments:t.arguments.concat(e.arguments).reduce((c,u)=>(c.find(s=>s.name===u.name)===void 0&&c.push(u),c),[]),errorCollection:new mr("input field declaration").merge(e.errorCollection).merge(t.errorCollection)}}};var bc=class extends Ui{onload(){console.log("meta-bind | ExcludedMDRC >> load",this),this.containerEl.empty(),this.containerEl.createEl("span",{text:"this folder has been excluded in the meta bind plugin settings",cls:"meta-bind-plugin-error"})}};var xc=class{constructor(e){this.scope=e}};var UE=require("obsidian");function jL(r){let e,t;return{c(){e=X("td"),t=X("div")},m(n,i){re(n,e,i),G(e,t),r[3](t)},p:_e,i:_e,o:_e,d(n){n&&te(e),r[3](null)}}}function ZL(r,e,t){let{table:n}=e,{cell:i}=e,a,o;Rr(()=>{o=new UE.Component,o.load(),n.createCell(i,a,o)}),Ho(()=>{o.unload()});function c(u){kt[u?"unshift":"push"](()=>{a=u,t(0,a)})}return r.$$set=u=>{"table"in u&&t(1,n=u.table),"cell"in u&&t(2,i=u.cell)},[a,n,i,c]}var Qp=class extends Ie{constructor(e){super(),ke(this,e,ZL,jL,Oe,{table:1,cell:2})}},zE=Qp;var WE=require("obsidian");function HE(r){let e;return{c(){e=X("div"),U(e,"class","mb-icon-wrapper")},m(t,n){re(t,e,n),r[2](e)},p:_e,d(t){t&&te(e),r[2](null)}}}function YL(r){let e,t=r[0].length>0&&HE(r);return{c(){t&&t.c(),e=rr()},m(n,i){t&&t.m(n,i),re(n,e,i)},p(n,[i]){n[0].length>0?t?t.p(n,i):(t=HE(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:_e,o:_e,d(n){n&&te(e),t&&t.d(n)}}}function JL(r,e,t){let{iconName:n=""}=e,i;Rr(()=>{(0,WE.setIcon)(i,n)});function a(o){kt[o?"unshift":"push"](()=>{i=o,t(1,i)})}return r.$$set=o=>{"iconName"in o&&t(0,n=o.iconName)},[n,i,a]}var Kp=class extends Ie{constructor(e){super(),ke(this,e,JL,YL,Oe,{iconName:0})}},Gr=Kp;function GE(r,e,t){let n=r.slice();return n[7]=e[t],n}function jE(r,e,t){let n=r.slice();return n[10]=e[t],n[11]=e,n[12]=t,n}function ZE(r,e,t){let n=r.slice();return n[13]=e[t],n}function YE(r){let e,t=r[13]+"",n;return{c(){e=X("th"),n=Ue(t)},m(i,a){re(i,e,a),G(e,n)},p(i,a){a&2&&t!==(t=i[13]+"")&&$e(n,t)},d(i){i&&te(e)}}}function XL(r){let e,t,n;return{c(){e=X("td"),t=Ue("invalid data"),U(e,"class","meta-bind-error"),U(e,"colspan",n=r[1].length)},m(i,a){re(i,e,a),G(e,t)},p(i,a){a&2&&n!==(n=i[1].length)&&U(e,"colspan",n)},i:_e,o:_e,d(i){i&&te(e)}}}function QL(r){let e,t,n=Ke(r[7].cells),i=[];for(let o=0;o<n.length;o+=1)i[o]=JE(jE(r,n,o));let a=o=>De(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=rr()},m(o,c){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,c);re(o,e,c),t=!0},p(o,c){if(c&5){n=Ke(o[7].cells);let u;for(u=0;u<n.length;u+=1){let s=jE(o,n,u);i[u]?(i[u].p(s,c),he(i[u],1)):(i[u]=JE(s),i[u].c(),he(i[u],1),i[u].m(e.parentNode,e))}for(St(),u=n.length;u<i.length;u+=1)a(u);_t()}},i(o){if(!t){for(let c=0;c<n.length;c+=1)he(i[c]);t=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)De(i[c]);t=!1},d(o){o&&te(e),wt(i,o)}}}function JE(r){let e,t,n;function i(o){r[4](o,r[10],r[11],r[12])}let a={table:r[0]};return r[10]!==void 0&&(a.cell=r[10]),e=new zE({props:a}),kt.push(()=>en(e,"cell",i)),{c(){Xe(e.$$.fragment)},m(o,c){Ze(e,o,c),n=!0},p(o,c){r=o;let u={};c&1&&(u.table=r[0]),!t&&c&4&&(t=!0,u.cell=r[10],$r(()=>t=!1)),e.$set(u)},i(o){n||(he(e.$$.fragment,o),n=!0)},o(o){De(e.$$.fragment,o),n=!1},d(o){Ye(e,o)}}}function KL(r){let e,t;return e=new Gr({props:{iconName:"x"}}),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p:_e,i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function XE(r,e){let t,n,i,a,o,c,u,s,l=[QL,XL],f=[];function m(h,d){return h[7].isValid?0:1}n=m(e,-1),i=f[n]=l[n](e);function p(){return e[5](e[7])}return c=new xr({props:{$$slots:{default:[KL]},$$scope:{ctx:e}}}),c.$on("click",p),{key:r,first:null,c(){t=X("tr"),i.c(),a=we(),o=X("td"),Xe(c.$$.fragment),u=we(),this.first=t},m(h,d){re(h,t,d),f[n].m(t,null),G(t,a),G(t,o),Ze(c,o,null),G(t,u),s=!0},p(h,d){e=h;let g=n;n=m(e,d),n===g?f[n].p(e,d):(St(),De(f[g],1,1,()=>{f[g]=null}),_t(),i=f[n],i?i.p(e,d):(i=f[n]=l[n](e),i.c()),he(i,1),i.m(t,a));let v={};d&65536&&(v.$$scope={dirty:d,ctx:e}),c.$set(v)},i(h){s||(he(i),he(c.$$.fragment,h),s=!0)},o(h){De(i),De(c.$$.fragment,h),s=!1},d(h){h&&te(t),f[n].d(),Ye(c)}}}function $L(r){let e;return{c(){e=Ue("Add Column")},m(t,n){re(t,e,n)},d(t){t&&te(e)}}}function e5(r){let e,t,n,i,a,o,c,u=[],s=new Map,l,f,m,p=Ke(r[1]),h=[];for(let v=0;v<p.length;v+=1)h[v]=YE(ZE(r,p,v));let d=Ke(r[2]),g=v=>v[7].index;for(let v=0;v<d.length;v+=1){let C=GE(r,d,v),y=g(C);s.set(y,u[v]=XE(y,C))}return f=new xr({props:{$$slots:{default:[$L]},$$scope:{ctx:r}}}),f.$on("click",r[6]),{c(){e=X("table"),t=X("thead"),n=X("tr");for(let v=0;v<h.length;v+=1)h[v].c();i=we(),a=X("th"),o=we(),c=X("tbody");for(let v=0;v<u.length;v+=1)u[v].c();l=we(),Xe(f.$$.fragment)},m(v,C){re(v,e,C),G(e,t),G(t,n);for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(n,null);G(n,i),G(n,a),G(e,o),G(e,c);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(c,null);re(v,l,C),Ze(f,v,C),m=!0},p(v,[C]){if(C&2){p=Ke(v[1]);let D;for(D=0;D<p.length;D+=1){let b=ZE(v,p,D);h[D]?h[D].p(b,C):(h[D]=YE(b),h[D].c(),h[D].m(n,i))}for(;D<h.length;D+=1)h[D].d(1);h.length=p.length}C&7&&(d=Ke(v[2]),St(),u=Al(u,C,g,1,v,d,s,c,_w,XE,null,GE),_t());let y={};C&65536&&(y.$$scope={dirty:C,ctx:v}),f.$set(y)},i(v){if(!m){for(let C=0;C<d.length;C+=1)he(u[C]);he(f.$$.fragment,v),m=!0}},o(v){for(let C=0;C<u.length;C+=1)De(u[C]);De(f.$$.fragment,v),m=!1},d(v){v&&(te(e),te(l)),wt(h,v);for(let C=0;C<u.length;C+=1)u[C].d();Ye(f,v)}}}function t5(r,e,t){let{table:n}=e,{tableHead:i=[]}=e,a=[];function o(l){t(2,a=l)}function c(l,f,m,p){m[p]=l,t(2,a)}let u=l=>n.removeColumn(l.index),s=()=>n.addColumn();return r.$$set=l=>{"table"in l&&t(0,n=l.table),"tableHead"in l&&t(1,i=l.tableHead)},[n,i,a,o,c,u,s]}var $p=class extends Ie{constructor(e){super(),ke(this,e,t5,e5,Oe,{table:0,tableHead:1,updateTable:3})}get updateTable(){return this.$$.ctx[3]}},QE=$p;var Dc=class extends Ui{constructor(t,n,i,a,o,c,u,s){super(t,n,i,a,o);this.bindTarget=c,this.tableHead=u,this.columns=s,this.inputSignal=new Tr(void 0),this.outputSignal=new Tr(void 0)}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.bindTarget,this.filePath),()=>this.unload())}unregisterSelfFromMetadataManager(){var t;this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(t=this.metadataSubscription)==null||t.unsubscribe()}updateMetadataManager(t){var n;(n=this.metadataSubscription)==null||n.update(t)}getInitialValue(){var t;return(t=this.inputSignal.get())!=null?t:[]}updateDisplayValue(t){var i;t=t!=null?t:[];let n=[];for(let a=0;a<t.length;a++)if(typeof t[a]=="object"){let o=new xc({metadataPath:[...this.bindTarget.metadataPath,a.toString()],filePath:this.bindTarget.filePath,listenToChildren:!1,boundToLocalScope:!1}),c=this.columns.map(u=>"inputFieldType"in u?this.plugin.api.inputFieldParser.validateDeclaration(u,o):this.plugin.api.viewFieldParser.validateDeclaration(u,o));n.push({cells:c,index:a,value:t[a],isValid:!0})}else n.push({cells:[],index:a,value:t[a],isValid:!1});(i=this.tableComponent)==null||i.updateTable(n)}createCell(t,n,i){let a=wr();if("inputFieldType"in t){let o=new yo(n,"inline",t,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}else{let o=new as(n,"inline",t,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}}removeColumn(t){var i;let n=(i=this.inputSignal.get())!=null?i:[];n.splice(t,1),this.outputSignal.set(n),this.updateDisplayValue(n)}addColumn(){var n;let t=(n=this.inputSignal.get())!=null?n:[];t.push({}),this.outputSignal.set(t),this.updateDisplayValue(t)}onload(){this.registerSelfToMetadataManager(),this.tableComponent=new QE({target:this.containerEl,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:t=>{this.updateDisplayValue(t)}}),this.updateDisplayValue(this.inputSignal.get())}onunload(){var t;this.unregisterSelfFromMetadataManager(),(t=this.tableComponent)==null||t.$destroy()}};var wc=class extends Na{constructor(t){super();this.svelteComponent=t}setValue(t){var n;(n=this.svelteComponentInstance)==null||n.setValue(t)}mount(t,n,i={}){let a=Object.assign({value:n,onValueChange:o=>{this.notifyListeners(o)}},i);this.svelteComponentInstance=new this.svelteComponent({target:t,props:a})}unmount(){var t;this.listeners=[],(t=this.svelteComponentInstance)==null||t.$destroy()}};var Nt=class extends Na{constructor(t){super();this.renderChild=t,this.inputFieldComponent=new wc(this.getSvelteComponent()),this.signal=new Il(this.renderChild.inputSignal,n=>{let i=this.filterValue(n);return i!=null?i:this.getDefaultValue()}),this.signal.registerListener({callback:n=>this.inputFieldComponent.setValue(this.reverseMapValue(n))}),this.inputFieldComponent.registerListener({callback:n=>{this.notifyListeners(this.mapValue(n))}})}reverseMapValue(t){let n=this.rawReverseMapValue(t);if(n!==void 0)return n;let i=this.rawReverseMapValue(this.getDefaultValue());return i!==void 0?i:this.getFallbackDefaultValue()}mapValue(t){return this.rawMapValue(t)}getValue(){return this.signal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(t){this.signal.set(t),this.notifyListeners(t)}setInternalValue(t){this.setValue(this.mapValue(t))}getDefaultValue(){let t=this.renderChild.getArgument("defaultValue");if(!t)return this.mapValue(this.getFallbackDefaultValue());let n=this.filterValue(t.value);return n!=null?n:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}mount(t){this.inputFieldComponent.mount(t,this.reverseMapValue(this.getValue()),this.getMountArgs())}unmount(){this.inputFieldComponent.unmount()}};function r5(r){let e,t,n,i;return{c(){e=X("div"),t=X("input"),U(t,"type","checkbox"),U(t,"tabindex","-1"),t.checked=r[0],U(e,"class","checkbox-container"),U(e,"role","switch"),U(e,"tabindex","0"),U(e,"aria-checked",r[0]),ut(e,"is-enabled",r[0])},m(a,o){re(a,e,o),G(e,t),n||(i=[Ne(e,"click",r[5]),Ne(e,"keypress",r[6])],n=!0)},p(a,[o]){o&1&&(t.checked=a[0]),o&1&&U(e,"aria-checked",a[0]),o&1&&ut(e,"is-enabled",a[0])},i:_e,o:_e,d(a){a&&te(e),n=!1,et(i)}}}function n5(r,e,t){let{value:n}=e,{onValueChange:i}=e;function a(l){t(0,n=l)}function o(){t(0,n=!n),console.log("toggle"),i(n)}function c(l){l.key===" "&&o()}let u=()=>o(),s=l=>c(l);return r.$$set=l=>{"value"in l&&t(0,n=l.value),"onValueChange"in l&&t(3,i=l.onValueChange)},[n,o,c,i,a,u,s]}var ed=class extends Ie{constructor(e){super(),ke(this,e,n5,r5,Oe,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},KE=ed;var Ec=class extends Nt{constructor(t){var n,i,a,o;super(t);this.onValue=(i=(n=this.renderChild.getArgument("onValue"))==null?void 0:n.value)!=null?i:!0,this.offValue=(o=(a=this.renderChild.getArgument("offValue"))==null?void 0:a.value)!=null?o:!1}filterValue(t){return Oa(t)}getFallbackDefaultValue(){return!1}getSvelteComponent(){return KE}rawReverseMapValue(t){return t===this.onValue?!0:(t===this.offValue,!1)}rawMapValue(t){return t?this.onValue:this.offValue}};function $E(r){let e,t=eC(r[0].length,r[2])+"",n,i;return{c(){e=X("span"),n=Ue(t),U(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){re(a,e,o),G(e,n)},p(a,o){o&5&&t!==(t=eC(a[0].length,a[2])+"")&&$e(n,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&U(e,"class",i)},d(a){a&&te(e)}}}function i5(r){let e,t,n,i,a,o=r[2]!==void 0&&$E(r);return{c(){e=X("input"),t=we(),o&&o.c(),n=rr(),U(e,"type","text"),U(e,"tabindex","0"),U(e,"placeholder",r[1]),U(e,"maxlength",r[2])},m(c,u){re(c,e,u),Ct(e,r[0]),re(c,t,u),o&&o.m(c,u),re(c,n,u),i||(a=[Ne(e,"input",r[5]),Ne(e,"input",r[6])],i=!0)},p(c,[u]){u&2&&U(e,"placeholder",c[1]),u&4&&U(e,"maxlength",c[2]),u&1&&e.value!==c[0]&&Ct(e,c[0]),c[2]!==void 0?o?o.p(c,u):(o=$E(c),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:_e,o:_e,d(c){c&&(te(e),te(t),te(n)),o&&o.d(c),i=!1,et(a)}}}function eC(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function a5(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function c(l){t(0,n=l)}function u(){n=this.value,t(0,n)}let s=()=>o(n);return r.$$set=l=>{"value"in l&&t(0,n=l.value),"placeholder"in l&&t(1,i=l.placeholder),"limit"in l&&t(2,a=l.limit),"onValueChange"in l&&t(3,o=l.onValueChange)},[n,i,a,o,c,u,s]}var td=class extends Ie{constructor(e){super(),ke(this,e,a5,i5,Oe,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},tC=td;var Cc=class extends Nt{constructor(e){super(e)}filterValue(e){return Ba(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return tC}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function o5(r){let e,t,n;return{c(){e=X("input"),U(e,"class","mb-slider-input"),U(e,"type","range"),U(e,"tabindex","0"),U(e,"min",r[1]),U(e,"max",r[2]),U(e,"step",r[3])},m(i,a){re(i,e,a),Ct(e,r[0]),t||(n=[Ne(e,"change",r[9]),Ne(e,"input",r[9]),Ne(e,"input",r[10])],t=!0)},p(i,a){a&2&&U(e,"min",i[1]),a&4&&U(e,"max",i[2]),a&8&&U(e,"step",i[3]),a&1&&Ct(e,i[0])},d(i){i&&te(e),t=!1,et(n)}}}function s5(r){let e,t,n,i,a,o,c,u,s;return{c(){e=X("span"),t=Ue(r[1]),n=we(),i=X("input"),a=we(),o=X("span"),c=Ue(r[2]),U(e,"class","mb-slider-input-label"),U(i,"class","mb-slider-input"),U(i,"type","range"),U(i,"tabindex","0"),U(i,"min",r[1]),U(i,"max",r[2]),U(i,"step",r[3]),U(o,"class","mb-slider-input-label")},m(l,f){re(l,e,f),G(e,t),re(l,n,f),re(l,i,f),Ct(i,r[0]),re(l,a,f),re(l,o,f),G(o,c),u||(s=[Ne(i,"change",r[7]),Ne(i,"input",r[7]),Ne(i,"input",r[8])],u=!0)},p(l,f){f&2&&$e(t,l[1]),f&2&&U(i,"min",l[1]),f&4&&U(i,"max",l[2]),f&8&&U(i,"step",l[3]),f&1&&Ct(i,l[0]),f&4&&$e(c,l[2])},d(l){l&&(te(e),te(n),te(i),te(a),te(o)),u=!1,et(s)}}}function u5(r){let e;function t(a,o){return a[4]?s5:o5}let n=t(r,-1),i=n(r);return{c(){i.c(),e=rr()},m(a,o){i.m(a,o),re(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:_e,o:_e,d(a){a&&te(e),i.d(a)}}}function l5(r,e,t){let{value:n}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:c}=e,{onValueChange:u}=e;function s(h){t(0,n=h)}function l(){n=Ri(this.value),t(0,n)}let f=()=>u(n);function m(){n=Ri(this.value),t(0,n)}let p=()=>u(n);return r.$$set=h=>{"value"in h&&t(0,n=h.value),"minValue"in h&&t(1,i=h.minValue),"maxValue"in h&&t(2,a=h.maxValue),"stepSize"in h&&t(3,o=h.stepSize),"addLabels"in h&&t(4,c=h.addLabels),"onValueChange"in h&&t(5,u=h.onValueChange)},[n,i,a,o,c,u,s,l,f,m,p]}var rd=class extends Ie{constructor(e){super(),ke(this,e,l5,u5,Oe,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},rC=rd;var Fc=class extends Nt{constructor(t){var n,i,a,o,c,u;super(t);if(this.minValue=(i=(n=this.renderChild.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.renderChild.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(c=this.renderChild.getArgument("stepSize"))==null?void 0:c.value)!=null?u:1,this.minValue>=this.maxValue)throw new tr({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(t){return Tl(ss(t),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return rC}rawReverseMapValue(t){return t}rawMapValue(t){return t}getMountArgs(){var t;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((t=this.renderChild.getArgument("addLabels"))==null?void 0:t.value)===!0}}};function c5(r){let e,t,n;return{c(){e=X("textarea"),U(e,"tabindex","0"),U(e,"placeholder",r[1]),U(e,"maxlength",r[2])},m(i,a){re(i,e,a),Ct(e,r[0]),t||(n=[Ne(e,"input",r[5]),Ne(e,"input",r[6])],t=!0)},p(i,[a]){a&2&&U(e,"placeholder",i[1]),a&4&&U(e,"maxlength",i[2]),a&1&&Ct(e,i[0])},i:_e,o:_e,d(i){i&&te(e),t=!1,et(n)}}}function f5(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function c(l){t(0,n=l)}function u(){n=this.value,t(0,n)}let s=()=>o(n);return r.$$set=l=>{"value"in l&&t(0,n=l.value),"placeholder"in l&&t(1,i=l.placeholder),"limit"in l&&t(2,a=l.limit),"onValueChange"in l&&t(3,o=l.onValueChange)},[n,i,a,o,c,u,s]}var nd=class extends Ie{constructor(e){super(),ke(this,e,f5,c5,Oe,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},nC=nd;var pu=class extends Nt{constructor(e){super(e)}filterValue(e){return Ba(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return nC}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function iC(r,e,t){let n=r.slice();return n[8]=e[t],n}function aC(r){let e,t=r[8].name+"",n,i,a,o;function c(){return r[6](r[8])}function u(...s){return r[7](r[8],...s)}return{c(){e=X("div"),n=Ue(t),i=we(),U(e,"class","mb-select-input-element"),U(e,"role","button"),U(e,"tabindex","0"),ut(e,"is-selected",r[8].value===r[0])},m(s,l){re(s,e,l),G(e,n),G(e,i),a||(o=[Ne(e,"click",c),Ne(e,"keypress",u)],a=!0)},p(s,l){r=s,l&2&&t!==(t=r[8].name+"")&&$e(n,t),l&3&&ut(e,"is-selected",r[8].value===r[0])},d(s){s&&te(e),a=!1,et(o)}}}function m5(r){let e,t=Ke(r[1]),n=[];for(let i=0;i<t.length;i+=1)n[i]=aC(iC(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=rr()},m(i,a){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,a);re(i,e,a)},p(i,[a]){if(a&15){t=Ke(i[1]);let o;for(o=0;o<t.length;o+=1){let c=iC(i,t,o);n[o]?n[o].p(c,a):(n[o]=aC(c),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},i:_e,o:_e,d(i){i&&te(e),wt(n,i)}}}function p5(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){t(0,n=f)}function c(f){t(0,n=f),a(n)}function u(f,m){f.key===" "&&c(m)}let s=f=>c(f.value),l=(f,m)=>u(m,f.value);return r.$$set=f=>{"value"in f&&t(0,n=f.value),"options"in f&&t(1,i=f.options),"onValueChange"in f&&t(4,a=f.onValueChange)},[n,i,c,u,a,o,s,l]}var id=class extends Ie{constructor(e){super(),ke(this,e,p5,m5,Oe,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},oC=id;var Ac=class extends Nt{constructor(t){super(t);this.options=this.renderChild.getArguments("option")}filterValue(t){return Oa(t)}getFallbackDefaultValue(){return null}getSvelteComponent(){return oC}rawMapValue(t){return t}rawReverseMapValue(t){return t}getMountArgs(){return{options:this.options}}};function sC(r,e,t){let n=r.slice();return n[8]=e[t],n}function uC(r){let e,t=r[8].name+"",n,i,a,o;function c(){return r[6](r[8])}function u(...s){return r[7](r[8],...s)}return{c(){e=X("div"),n=Ue(t),i=we(),U(e,"class","mb-select-input-element"),U(e,"role","button"),U(e,"tabindex","0"),ut(e,"is-selected",r[0].includes(r[8].value))},m(s,l){re(s,e,l),G(e,n),G(e,i),a||(o=[Ne(e,"click",c),Ne(e,"keypress",u)],a=!0)},p(s,l){r=s,l&2&&t!==(t=r[8].name+"")&&$e(n,t),l&3&&ut(e,"is-selected",r[0].includes(r[8].value))},d(s){s&&te(e),a=!1,et(o)}}}function d5(r){let e,t=Ke(r[1]),n=[];for(let i=0;i<t.length;i+=1)n[i]=uC(sC(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=rr()},m(i,a){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,a);re(i,e,a)},p(i,[a]){if(a&15){t=Ke(i[1]);let o;for(o=0;o<t.length;o+=1){let c=sC(i,t,o);n[o]?n[o].p(c,a):(n[o]=uC(c),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},i:_e,o:_e,d(i){i&&te(e),wt(n,i)}}}function h5(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){t(0,n=f)}function c(f){n.includes(f)?t(0,n=n.filter(m=>m!==f)):(n.push(f),t(0,n)),a(n)}function u(f,m){f.key===" "&&c(m)}let s=f=>c(f.value),l=(f,m)=>u(m,f.value);return r.$$set=f=>{"value"in f&&t(0,n=f.value),"options"in f&&t(1,i=f.options),"onValueChange"in f&&t(4,a=f.onValueChange)},[n,i,c,u,a,o,s,l]}var ad=class extends Ie{constructor(e){super(),ke(this,e,h5,d5,Oe,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},lC=ad;var du=class extends Nt{constructor(t){super(t);this.options=this.renderChild.getArguments("option")}filterValue(t){return Hi(t)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return lC}rawMapValue(t){return t}rawReverseMapValue(t){return t}getMountArgs(){return{options:this.options}}};function g5(r){er(r,"svelte-f2wb67",".date-picker-input.svelte-f2wb67{background:var(--background-modifier-form-field);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;position:relative;color:var(--text-normal);display:inline-flex;align-items:center;gap:5px;font-size:var(--font-ui-small)}.date-picker-text.svelte-f2wb67{display:inline-block}")}function v5(r){let e,t,n=(r[0]?r[0].format(r[1]):"none")+"",i,a,o,c,u,s;return o=new Gr({props:{iconName:"calendar"}}),{c(){e=X("div"),t=X("span"),i=Ue(n),a=we(),Xe(o.$$.fragment),U(t,"class","date-picker-text svelte-f2wb67"),U(e,"class","date-picker-input svelte-f2wb67"),U(e,"role","button"),U(e,"tabindex","0")},m(l,f){re(l,e,f),G(e,t),G(t,i),G(e,a),Ze(o,e,null),c=!0,u||(s=[Ne(e,"click",r[2]),Ne(e,"keydown",r[3])],u=!0)},p(l,[f]){(!c||f&3)&&n!==(n=(l[0]?l[0].format(l[1]):"none")+"")&&$e(i,n)},i(l){c||(he(o.$$.fragment,l),c=!0)},o(l){De(o.$$.fragment,l),c=!1},d(l){l&&te(e),Ye(o),u=!1,et(s)}}}function y5(r,e,t){let{value:n}=e,{dateFormat:i}=e,{showDatePicker:a}=e,{onValueChange:o}=e;function c(l){t(0,n=l)}function u(l){a()}function s(l){l.key===" "&&a()}return r.$$set=l=>{"value"in l&&t(0,n=l.value),"dateFormat"in l&&t(1,i=l.dateFormat),"showDatePicker"in l&&t(4,a=l.showDatePicker),"onValueChange"in l&&t(5,o=l.onValueChange)},[n,i,u,s,a,o,c]}var od=class extends Ie{constructor(e){super(),ke(this,e,y5,v5,Oe,{value:0,dateFormat:1,showDatePicker:4,onValueChange:5,setValue:6},g5)}get setValue(){return this.$$.ctx[6]}},cC=od;var DC=require("obsidian");var fC=require("obsidian");var sd=co[1];function mC(r){sd=r}function ud(r){return gw[r]}function pC(r,e){let t=(0,fC.moment)(new Date(e,r)).daysInMonth(),n=new Array(42).fill(0),i=b5(new Date(e,r,1));for(let a=0;a<t;a++)n[a+i]=a+1;return n=n[n.length-7]?n:n.slice(0,-7),n=n[n.length-7]?n:n.slice(0,-7),n}function b5(r){return Mp(r.getDay()-sd.index,7)}function dC(){return co.map(e=>({index:Mp(e.index-sd.index,7),name:e.name,shortName:e.shortName})).sort((e,t)=>e.index-t.index).map(e=>e.shortName)}function hC(){let r=0;return()=>++r}var yC=require("obsidian");function x5(r){er(r,"svelte-12l82wb",".calendar.svelte-12l82wb{margin-top:10px}.calendar-header.svelte-12l82wb{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1)}.calendar-content.svelte-12l82wb{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-12l82wb{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-12l82wb{cursor:pointer}.cell-text.svelte-12l82wb{margin:auto;text-align:center}.selected.svelte-12l82wb{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-12l82wb:hover{background:var(--interactive-hover)}.selected.highlight.svelte-12l82wb:hover{background:var(--interactive-accent-hover)}")}function gC(r,e,t){let n=r.slice();return n[10]=e[t],n}function D5(r,e,t){let n=r.slice();return n[13]=e[t],n}function w5(r){let e,t,n;return{c(){e=X("div"),t=X("span"),t.textContent=`${r[13]}`,n=we(),U(t,"class","cell-text svelte-12l82wb"),U(e,"class","cell header-cell svelte-12l82wb")},m(i,a){re(i,e,a),G(e,t),G(e,n)},p:_e,d(i){i&&te(e)}}}function vC(r,e){let t,n,i=(e[10]||"")+"",a,o,c,u;function s(){return e[6](e[10])}function l(...f){return e[7](e[10],...f)}return{key:r,first:null,c(){var f,m,p;t=X("div"),n=X("span"),a=Ue(i),o=we(),U(n,"class","cell-text svelte-12l82wb"),U(t,"class","cell svelte-12l82wb"),U(t,"role","button"),U(t,"tabindex","0"),ut(t,"highlight",e[10]),ut(t,"content-cell",e[10]),ut(t,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((m=e[0])==null?void 0:m.month())===e[1]&&((p=e[0])==null?void 0:p.date())===e[10]),this.first=t},m(f,m){re(f,t,m),G(t,n),G(n,a),G(t,o),c||(u=[Ne(t,"click",s),Ne(t,"keydown",l)],c=!0)},p(f,m){var p,h,d;e=f,m&8&&i!==(i=(e[10]||"")+"")&&$e(a,i),m&8&&ut(t,"highlight",e[10]),m&8&&ut(t,"content-cell",e[10]),m&15&&ut(t,"selected",((p=e[0])==null?void 0:p.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&te(t),c=!1,et(u)}}}function E5(r){let e,t,n,i,a=[],o=new Map,c=Ke(dC()),u=[];for(let f=0;f<c.length;f+=1)u[f]=w5(D5(r,c,f));let s=Ke(r[3]),l=f=>hC();for(let f=0;f<s.length;f+=1){let m=gC(r,s,f),p=l(m);o.set(p,a[f]=vC(p,m))}return{c(){e=X("div"),t=X("div");for(let f=0;f<u.length;f+=1)u[f].c();n=we(),i=X("div");for(let f=0;f<a.length;f+=1)a[f].c();U(t,"class","calendar-header svelte-12l82wb"),U(i,"class","calendar-content svelte-12l82wb"),U(e,"class","calendar svelte-12l82wb")},m(f,m){re(f,e,m),G(e,t);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(t,null);G(e,n),G(e,i);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(i,null)},p(f,[m]){m&63&&(s=Ke(f[3]),a=Al(a,m,l,1,f,s,o,i,Sw,vC,null,gC))},i:_e,o:_e,d(f){f&&te(e),wt(u,f);for(let m=0;m<a.length;m+=1)a[m].d()}}}function C5(r,e,t){let n=Lr(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,c;function u(p){n("dateChange",(0,yC.moment)(new Date(o,a,p)))}function s(p){p&&u(p)}function l(p,h){p.key===" "&&s(h)}let f=p=>s(p),m=(p,h)=>l(h,p);return r.$$set=p=>{"selectedDate"in p&&t(0,i=p.selectedDate),"month"in p&&t(1,a=p.month),"year"in p&&t(2,o=p.year)},r.$$.update=()=>{r.$$.dirty&6&&t(3,c=pC(a,o))},[i,a,o,c,s,l,f,m]}var ld=class extends Ie{constructor(e){super(),ke(this,e,C5,E5,Oe,{selectedDate:0,month:1,year:2},x5)}},bC=ld;var cd=require("obsidian");function F5(r){er(r,"svelte-berpp6",".date-picker.svelte-berpp6{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-berpp6{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-berpp6{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-berpp6{height:min-content}.month-switch-button.svelte-berpp6{margin:0}.date-picker-footer.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-berpp6{margin:0}")}function A5(r){let e,t,n,i,a,o,c=ud(r[1])+"",u,s,l,f,m,p,h,d,g,v,C,y,D,b;return d=new bC({props:{month:r[1],year:r[2],selectedDate:r[0]}}),d.$on("dateChange",r[6]),{c(){e=X("div"),t=X("div"),n=X("button"),n.textContent="Prev",i=we(),a=X("div"),o=X("span"),u=Ue(c),s=we(),l=X("input"),m=we(),p=X("button"),p.textContent="Next",h=we(),Xe(d.$$.fragment),g=we(),v=X("div"),C=X("button"),C.textContent="Set no Date",U(n,"class","month-switch-button svelte-berpp6"),U(o,"class","date-picker-header-text-month svelte-berpp6"),U(l,"class","date-picker-header-text-year svelte-berpp6"),U(l,"type","number"),l.value=f=r[2].toString(),U(a,"class","date-picker-header-text svelte-berpp6"),U(p,"class","month-switch-button svelte-berpp6"),U(t,"class","date-picker-header svelte-berpp6"),U(C,"class","none-button svelte-berpp6"),U(v,"class","date-picker-footer svelte-berpp6"),U(e,"class","date-picker svelte-berpp6")},m(x,w){re(x,e,w),G(e,t),G(t,n),G(t,i),G(t,a),G(a,o),G(o,u),G(a,s),G(a,l),G(t,m),G(t,p),G(e,h),Ze(d,e,null),G(e,g),G(e,v),G(v,C),y=!0,D||(b=[Ne(n,"click",r[4]),Ne(l,"input",r[5]),Ne(p,"click",r[3]),Ne(C,"click",r[7])],D=!0)},p(x,[w]){(!y||w&2)&&c!==(c=ud(x[1])+"")&&$e(u,c),(!y||w&4&&f!==(f=x[2].toString())&&l.value!==f)&&(l.value=f);let A={};w&2&&(A.month=x[1]),w&4&&(A.year=x[2]),w&1&&(A.selectedDate=x[0]),d.$set(A)},i(x){y||(he(d.$$.fragment,x),y=!0)},o(x){De(d.$$.fragment,x),y=!1},d(x){x&&te(e),Ye(d),D=!1,et(b)}}}function S5(r,e,t){let{selectedDate:n=(0,cd.moment)()}=e,{dateChangeCallback:i}=e,a,o;function c(){if(a===11){t(1,a=0),t(2,o+=1);return}t(1,a=a+1)}function u(){if(a===0){t(1,a=11),t(2,o-=1);return}t(1,a-=1)}function s(m){let p=m.target.value,h=Number.parseInt(p);Number.isNaN(h)||t(2,o=h)}function l(m){t(0,n=m.detail),i(m.detail)}function f(){t(0,n=null),i(null)}return r.$$set=m=>{"selectedDate"in m&&t(0,n=m.selectedDate),"dateChangeCallback"in m&&t(8,i=m.dateChangeCallback)},r.$$.update=()=>{if(r.$$.dirty&1)if(n)t(1,a=n.month()),t(2,o=n.year());else{let m=(0,cd.moment)();t(1,a=m.month()),t(2,o=m.year())}},[n,a,o,c,u,s,l,f,i]}var fd=class extends Ie{constructor(e){super(),ke(this,e,S5,A5,Oe,{selectedDate:0,dateChangeCallback:8},F5)}},xC=fd;var Sc=class extends DC.Modal{constructor(t,n){super(t);this.datePicker=n}onOpen(){this.datePickerInput=new xC({target:this.contentEl,props:{selectedDate:this.datePicker.getInternalValue(),dateChangeCallback:t=>{this.datePicker.setInternalValue(t),this.close()}}})}onClose(){var t;(t=this.datePickerInput)==null||t.$destroy()}};var hu=class extends Nt{constructor(t){super(t);this.options=this.renderChild.getArguments("option")}filterValue(t){if(t===null)return null;if(t===void 0||typeof t!="string")return;let n=rn.parse(t);if(n.isValid())return rn.stringify(n)}getFallbackDefaultValue(){return rn.getDefaultDate()}getSvelteComponent(){return cC}rawMapValue(t){return t===null?null:rn.stringify(t)}rawReverseMapValue(t){if(t===null)return null;let n=rn.parse(t);if(n.isValid())return n}getMountArgs(){return{dateFormat:this.renderChild.plugin.settings.preferredDateFormat,showDatePicker:()=>{new Sc(this.renderChild.plugin.app,this).open()}}}};function _5(r){let e,t,n;return{c(){e=X("input"),U(e,"type","number"),U(e,"tabindex","0"),U(e,"placeholder",r[1])},m(i,a){re(i,e,a),Ct(e,r[0]),t||(n=[Ne(e,"input",r[4]),Ne(e,"input",r[5])],t=!0)},p(i,[a]){a&2&&U(e,"placeholder",i[1]),a&1&&Ri(e.value)!==i[0]&&Ct(e,i[0])},i:_e,o:_e,d(i){i&&te(e),t=!1,et(n)}}}function N5(r,e,t){let{value:n}=e,{placeholder:i}=e,{onValueChange:a}=e;function o(s){t(0,n=s)}function c(){n=Ri(this.value),t(0,n)}let u=()=>a(n);return r.$$set=s=>{"value"in s&&t(0,n=s.value),"placeholder"in s&&t(1,i=s.placeholder),"onValueChange"in s&&t(2,a=s.onValueChange)},[n,i,a,o,c,u]}var md=class extends Ie{constructor(e){super(),ke(this,e,N5,_5,Oe,{value:0,placeholder:1,onValueChange:2,setValue:3})}get setValue(){return this.$$.ctx[3]}},wC=md;var _c=class extends Nt{constructor(e){super(e)}filterValue(e){return ss(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return wC}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.renderChild.getArgument("placeholder"))!=null?e:"Number"}}};function M5(r){let e,t;return{c(){e=X("a"),t=Ue(r[2]),U(e,"data-href",r[2]),U(e,"href",r[2]),U(e,"class",r[1]),U(e,"target","_blank"),U(e,"rel","noopener")},m(n,i){re(n,e,i),G(e,t)},p(n,i){i&4&&$e(t,n[2]),i&4&&U(e,"data-href",n[2]),i&4&&U(e,"href",n[2]),i&2&&U(e,"class",n[1])},d(n){n&&te(e)}}}function T5(r){let e,t=r[0].alias+"",n;return{c(){e=X("a"),n=Ue(t),U(e,"data-href",r[2]),U(e,"href",r[2]),U(e,"class",r[1]),U(e,"target","_blank"),U(e,"rel","noopener"),U(e,"aria-label",r[2])},m(i,a){re(i,e,a),G(e,n)},p(i,a){a&1&&t!==(t=i[0].alias+"")&&$e(n,t),a&4&&U(e,"data-href",i[2]),a&4&&U(e,"href",i[2]),a&2&&U(e,"class",i[1]),a&4&&U(e,"aria-label",i[2])},d(i){i&&te(e)}}}function I5(r){let e;function t(a,o){return a[0].alias?T5:M5}let n=t(r,-1),i=n(r);return{c(){i.c(),e=rr()},m(a,o){i.m(a,o),re(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:_e,o:_e,d(a){a&&te(e),i.d(a)}}}function B5(r,e,t){let n,i,{mdLink:a}=e;return r.$$set=o=>{"mdLink"in o&&t(0,a=o.mdLink)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=a.block?`${a.target}#${a.block}`:a.target),r.$$.dirty&1&&t(1,i=a.internal?"internal-link":"external-link")},[a,i,n]}var pd=class extends Ie{constructor(e){super(),ke(this,e,B5,I5,Oe,{mdLink:0})}},ti=pd;var En=fr(zi());var EC=fr(sa()),O5=En.P.sequence(jp,En.P.string("#").then(En.P.manyNotOf("[]#|^:")).optional(),En.P.string("|").then(En.P.manyNotOf("[]")).optional()),dd=En.P.or(En.P.sequenceMap((r,e)=>({isEmbed:r!==void 0,target:e[0],block:e[1],alias:e[2],internal:!0}),En.P.string("!").optional(),O5.wrapString("[[","]]")),En.P.sequenceMap((r,e,t)=>{let n;try{new URL(t),n=!1}catch(i){n=!0}return{isEmbed:r!==void 0,target:t,block:void 0,alias:e,internal:n}},En.P.string("!").optional(),En.P.manyNotOf("[]").wrapString("[","]"),En.P.manyNotOf("()").wrapString("(",")"))),k5=En.P.separateBy(dd,En.P.string(",").trim(EC.P_UTILS.optionalWhitespace()));function Di(r){return zn(dd.thenEof(),r)}function CC(r){return zn(k5.thenEof(),r)}function wi(r){return dd.thenEof().tryParse(r).success}function P5(r){let e,t;return{c(){e=X("span"),t=Ue(r[1])},m(n,i){re(n,e,i),G(e,t)},p(n,i){i&2&&$e(t,n[1])},i:_e,o:_e,d(n){n&&te(e)}}}function R5(r){let e,t,n;function i(o){r[9](o)}let a={};return r[0]!==void 0&&(a.mdLink=r[0]),e=new ti({props:a}),kt.push(()=>en(e,"mdLink",i)),{c(){Xe(e.$$.fragment)},m(o,c){Ze(e,o,c),n=!0},p(o,c){let u={};!t&&c&1&&(t=!0,u.mdLink=o[0],$r(()=>t=!1)),e.$set(u)},i(o){n||(he(e.$$.fragment,o),n=!0)},o(o){De(e.$$.fragment,o),n=!1},d(o){Ye(e,o)}}}function L5(r){let e,t,n,i,a,o,c,u,s,l=[R5,P5],f=[];function m(p,h){return p[2]?0:1}return n=m(r,-1),i=f[n]=l[n](r),o=new Gr({props:{iconName:"list"}}),{c(){e=X("div"),t=X("div"),i.c(),a=we(),Xe(o.$$.fragment),U(t,"class","mb-suggest-text"),U(e,"class","mb-suggest-input"),U(e,"role","button"),U(e,"tabindex","0")},m(p,h){re(p,e,h),G(e,t),f[n].m(t,null),G(e,a),Ze(o,e,null),c=!0,u||(s=[Ne(e,"click",r[3]),Ne(e,"keydown",r[4])],u=!0)},p(p,[h]){let d=n;n=m(p,h),n===d?f[n].p(p,h):(St(),De(f[d],1,1,()=>{f[d]=null}),_t(),i=f[n],i?i.p(p,h):(i=f[n]=l[n](p),i.c()),he(i,1),i.m(t,null))},i(p){c||(he(i),he(o.$$.fragment,p),c=!0)},o(p){De(i),De(o.$$.fragment,p),c=!1},d(p){p&&te(e),f[n].d(),Ye(o),u=!1,et(s)}}}function q5(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e,o,c,u=!1;Rr(()=>{s(n)});function s(p){var h;let d=(h=p==null?void 0:p.toString())!==null&&h!==void 0?h:"null";if(t(2,u=wi(d)),u)try{t(0,o=Di(d))}catch(g){console.warn(g)}else t(1,c=d)}function l(p){p.target instanceof HTMLAnchorElement||i()}function f(p){p.key===" "&&i()}function m(p){o=p,t(0,o)}return r.$$set=p=>{"value"in p&&t(5,n=p.value),"showSuggester"in p&&t(6,i=p.showSuggester),"onValueChange"in p&&t(7,a=p.onValueChange)},[o,c,u,l,f,n,i,a,s,m]}var hd=class extends Ie{constructor(e){super(),ke(this,e,q5,L5,Oe,{value:5,showSuggester:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},FC=hd;var r2=fr(e2()),n2=require("obsidian");var t2=require("obsidian"),Zc=class extends t2.FuzzySuggestModal{constructor(t,n,i){super(t);this.options=n,this.onSelect=i}getItemText(t){return t.displayValue}getItems(){return this.options}onChooseItem(t,n){this.onSelect(t)}};var qa=class{constructor(e,t){this.value=e,this.displayValue=t}valueAsString(){var e,t;return(t=(e=this.value)==null?void 0:e.toString())!=null?t:"null"}};function j9(r,e,t,n,i){let a=[];for(let o of t)a.push(new qa(o.value,o.name));if(n.length>0){if(!r)return new n2.Notice("meta-bind | dataview needs to be installed and enabled to use suggest option queries"),a;for(let o of n)r.pages(o.value,e).forEach(u=>{try{let s=u.file;i?a.push(new qa(`[[${s.path}|${s.name}]]`,`file-link: ${s.name}`)):a.push(new qa(s.name,`file: ${s.name}`))}catch(s){console.warn("meta-bind | error while computing suggest options",s)}})}return a}function Z9(r){let e=r.renderChild.plugin.app,t=(0,r2.getAPI)(e),n=r.renderChild.getArguments("option"),i=r.renderChild.getArguments("optionQuery"),a=r.renderChild.getArgument("useLinks");return j9(t,r.renderChild.filePath,n,i,a===void 0||a.value)}function bs(r,e){new Zc(r.renderChild.plugin.app,Z9(r),e).open()}var Yc=class extends Nt{constructor(e){super(e)}filterValue(e){return Oa(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return FC}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){bs(this,e=>this.setInternalValue(e.value))}};function Y9(r){er(r,"svelte-1aj1f3m",".editor-input.svelte-1aj1f3m.svelte-1aj1f3m{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0}.editor-input.svelte-1aj1f3m>textarea.svelte-1aj1f3m{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none}.editor-input.svelte-1aj1f3m>div.svelte-1aj1f3m{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function J9(r){let e,t,n,i,a,o;return{c(){e=X("div"),t=X("textarea"),n=we(),i=X("div"),U(t,"class","svelte-1aj1f3m"),U(i,"class","svelte-1aj1f3m"),U(e,"class","editor-input card svelte-1aj1f3m"),U(e,"role","button"),U(e,"tabindex","0")},m(c,u){re(c,e,u),G(e,t),r[9](t),Ct(t,r[0]),G(e,n),G(e,i),r[13](i),a||(o=[Ne(t,"input",r[10]),Ne(t,"focusout",r[11]),Ne(t,"input",r[12]),Ne(e,"click",r[14]),Ne(e,"keypress",r[15])],a=!0)},p(c,[u]){u&1&&Ct(t,c[0])},i:_e,o:_e,d(c){c&&te(e),r[9](null),r[13](null),a=!1,et(o)}}}function X9(r,e,t){let{value:n}=e,{onValueChange:i}=e,{render:a}=e,o,c;Rr(()=>{o.toggleVisibility(!0),c.toggleVisibility(!1),a(o,n)});function u(y){t(0,n=y),a(o,y)}function s(){o.toggleVisibility(!0),c.toggleVisibility(!1),a(o,n)}function l(){console.log("focus in"),o.toggleVisibility(!1),c.toggleVisibility(!0),c.focus()}function f(y){y.key===" "&&l()}function m(y){kt[y?"unshift":"push"](()=>{c=y,t(3,c)})}function p(){n=this.value,t(0,n)}let h=()=>s(),d=()=>i(n);function g(y){kt[y?"unshift":"push"](()=>{o=y,t(2,o)})}let v=()=>l(),C=y=>f(y);return r.$$set=y=>{"value"in y&&t(0,n=y.value),"onValueChange"in y&&t(1,i=y.onValueChange),"render"in y&&t(7,a=y.render)},[n,i,o,c,s,l,f,a,u,m,p,h,d,g,v,C]}var $d=class extends Ie{constructor(e){super(),ke(this,e,X9,J9,Oe,{value:0,onValueChange:1,render:7,setValue:8},Y9)}get setValue(){return this.$$.ctx[8]}},i2=$d;var a2=require("obsidian");var Jc=class extends Nt{constructor(e){super(e)}filterValue(e){return Ia(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return i2}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,t)=>this.renderInElement(e,t)}}renderInElement(e,t){e.empty(),a2.MarkdownRenderer.render(this.renderChild.plugin.app,t,e,this.renderChild.filePath,this.renderChild)}};var{window:_u}=tu;function Q9(r){let e,t,n,i,a,o,c,u,s,l,f,m,p,h;return{c(){e=X("div"),t=X("div"),i=we(),a=X("span"),o=Ue(r[0]),c=we(),u=X("span"),s=Ue(r[1]),l=we(),f=X("span"),m=Ue(r[2]),U(t,"class","mb-progress-bar-progress"),U(t,"style",n=`width: ${r[5](r[0])}%`),U(t,"role","slider"),U(t,"aria-valuemin",r[1]),U(t,"aria-valuemax",r[2]),U(t,"aria-valuenow",r[0]),U(t,"tabindex","0"),U(a,"class","mb-progress-bar-value"),U(u,"class","mb-progress-bar-label-left"),U(f,"class","mb-progress-bar-label-right"),U(e,"class","mb-progress-bar-input"),U(e,"tabindex","0"),U(e,"role","button")},m(d,g){re(d,e,g),G(e,t),G(e,i),G(e,a),G(a,o),G(e,c),G(e,u),G(u,s),G(e,l),G(e,f),G(f,m),r[14](e),p||(h=[Ne(_u,"touchmove",r[8],{passive:!1}),Ne(_u,"touchcancel",r[6]),Ne(_u,"touchend",r[6]),Ne(_u,"mousemove",r[8]),Ne(_u,"mouseup",r[6]),Ne(t,"dragstart",r[13]),Ne(e,"keydown",r[9]),Ne(e,"mousedown",r[7]),Ne(e,"touchstart",r[7])],p=!0)},p(d,[g]){g&1&&n!==(n=`width: ${d[5](d[0])}%`)&&U(t,"style",n),g&2&&U(t,"aria-valuemin",d[1]),g&4&&U(t,"aria-valuemax",d[2]),g&1&&U(t,"aria-valuenow",d[0]),g&1&&$e(o,d[0]),g&2&&$e(s,d[1]),g&4&&$e(m,d[2])},i:_e,o:_e,d(d){d&&te(e),r[14](null),p=!1,et(h)}}}function K9(r,e){return Number.parseFloat((Math.round(r/e)*e).toFixed(15))}function $9(r,e,t){let{onValueChange:n}=e,{value:i}=e,{minValue:a}=e,{maxValue:o}=e,{stepSize:c}=e,u=!1,s,l=0,f;function m(w){t(0,i=w)}function p(w){t(0,i=w),n(w)}function h(w){return w=ou(w,a,o),Np(w,a,o,0,100)}function d(){t(3,u=!0)}function g(){t(3,u=!1)}function v(w){d(),C(w)}function C(w){if(!u)return;w.stopPropagation&&w.stopPropagation(),w.preventDefault&&w.preventDefault();let A=w instanceof TouchEvent?w.touches[0].clientX:w.clientX;y(A)}function y(w){let A=s.getBoundingClientRect();w=ou(w,A.left,A.right);let E=Np(w,A.left,A.right,a,o);E=K9(E,c),p(E)}function D(w){l<50&&(l+=1);let A=Math.ceil(l/5);if(w.key==="ArrowUp"||w.key==="ArrowRight"){let E=ou(i+A,a,o);p(E)}if(w.key==="ArrowDown"||w.key==="ArrowLeft"){let E=ou(i-A,a,o);p(E)}window.clearTimeout(f),f=window.setTimeout(()=>l=1,100)}let b=()=>t(3,u=!0);function x(w){kt[w?"unshift":"push"](()=>{s=w,t(4,s)})}return r.$$set=w=>{"onValueChange"in w&&t(10,n=w.onValueChange),"value"in w&&t(0,i=w.value),"minValue"in w&&t(1,a=w.minValue),"maxValue"in w&&t(2,o=w.maxValue),"stepSize"in w&&t(11,c=w.stepSize)},[i,a,o,u,s,h,g,v,C,D,n,c,m,b,x]}var eh=class extends Ie{constructor(e){super(),ke(this,e,$9,Q9,Oe,{onValueChange:10,value:0,minValue:1,maxValue:2,stepSize:11,setValue:12})}get setValue(){return this.$$.ctx[12]}},o2=eh;var Xc=class extends Nt{constructor(t){var n,i,a,o,c,u;super(t);if(this.minValue=(i=(n=this.renderChild.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.renderChild.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(c=this.renderChild.getArgument("stepSize"))==null?void 0:c.value)!=null?u:1,this.minValue>=this.maxValue)throw new tr({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(t){return Tl(ss(t),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return o2}rawReverseMapValue(t){return t}rawMapValue(t){return t}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function s2(r,e,t){let n=r.slice();return n[7]=e[t],n}function u2(r){let e,t=r[7].name+"",n,i;return{c(){e=X("option"),n=Ue(t),e.__value=i=r[7].value,Ct(e,e.__value)},m(a,o){re(a,e,o),G(e,n)},p(a,o){o&2&&t!==(t=a[7].name+"")&&$e(n,t),o&2&&i!==(i=a[7].value)&&(e.__value=i,Ct(e,e.__value))},d(a){a&&te(e)}}}function eq(r){let e,t,n,i=Ke(r[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=u2(s2(r,i,o));return{c(){e=X("select");for(let o=0;o<a.length;o+=1)a[o].c();U(e,"class","dropdown"),r[0]===void 0&&mn(()=>r[5].call(e))},m(o,c){re(o,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);Wr(e,r[0],!0),t||(n=[Ne(e,"change",r[5]),Ne(e,"change",r[6])],t=!0)},p(o,[c]){if(c&2){i=Ke(o[1]);let u;for(u=0;u<i.length;u+=1){let s=s2(o,i,u);a[u]?a[u].p(s,c):(a[u]=u2(s),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}c&3&&Wr(e,o[0])},i:_e,o:_e,d(o){o&&te(e),wt(a,o),t=!1,et(n)}}}function tq(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(l){t(0,n=l)}function c(){a(n)}function u(){n=Li(this),t(0,n),t(1,i)}let s=()=>c();return r.$$set=l=>{"value"in l&&t(0,n=l.value),"options"in l&&t(1,i=l.options),"onValueChange"in l&&t(3,a=l.onValueChange)},[n,i,c,a,o,u,s]}var th=class extends Ie{constructor(e){super(),ke(this,e,tq,eq,Oe,{value:0,options:1,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},l2=th;var Qc=class extends Nt{constructor(t){super(t);this.options=this.renderChild.getArguments("option")}filterValue(t){return Oa(t)}getFallbackDefaultValue(){return null}getSvelteComponent(){return l2}rawMapValue(t){return t}rawReverseMapValue(t){return t}getMountArgs(){return{options:this.options}}};function xs(r){return app.vault.adapter.getResourcePath(r)}function rq(r){er(r,"svelte-hrm3dz",".mb-image-suggest-input.svelte-hrm3dz{background:var(--background-secondary);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:var(--size-4-2);width:100%}.mb-image-suggest-image.svelte-hrm3dz{width:100%;height:fit-content;max-height:500px;object-fit:contain}.mb-image-suggest-footer.svelte-hrm3dz{display:flex;flex-direction:row;color:var(--text-normal);align-items:baseline}.mb-image-suggest-footer-text.svelte-hrm3dz{flex:1;margin-left:var(--size-4-2)}")}function c2(r){let e,t;return{c(){e=X("img"),U(e,"class","mb-image-suggest-image svelte-hrm3dz"),zo(e.src,t=xs(r[0]))||U(e,"src",t),U(e,"alt",r[0])},m(n,i){re(n,e,i)},p(n,i){i&1&&!zo(e.src,t=xs(n[0]))&&U(e,"src",t),i&1&&U(e,"alt",n[0])},d(n){n&&te(e)}}}function nq(r){let e,t,n,i,a=(r[0]||"no image selected")+"",o,c,u,s,l,f=r[0]&&c2(r);return{c(){e=X("div"),f&&f.c(),t=we(),n=X("div"),i=X("span"),o=Ue(a),c=we(),u=X("button"),u.textContent="Change Image",U(i,"class","mb-image-suggest-footer-text svelte-hrm3dz"),U(u,"class","btn btn-active"),U(n,"class","mb-image-suggest-footer svelte-hrm3dz"),U(e,"class","mb-image-suggest-input svelte-hrm3dz")},m(m,p){re(m,e,p),f&&f.m(e,null),G(e,t),G(e,n),G(n,i),G(i,o),G(n,c),G(n,u),s||(l=[Ne(u,"click",r[1]),Ne(u,"keydown",r[2])],s=!0)},p(m,[p]){m[0]?f?f.p(m,p):(f=c2(m),f.c(),f.m(e,t)):f&&(f.d(1),f=null),p&1&&a!==(a=(m[0]||"no image selected")+"")&&$e(o,a)},i:_e,o:_e,d(m){m&&te(e),f&&f.d(),s=!1,et(l)}}}function iq(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(s){t(0,n=s)}function c(s){i()}function u(s){s.key===" "&&i()}return r.$$set=s=>{"value"in s&&t(0,n=s.value),"showSuggester"in s&&t(3,i=s.showSuggester),"onValueChange"in s&&t(4,a=s.onValueChange)},[n,c,u,i,a,o]}var rh=class extends Ie{constructor(e){super(),ke(this,e,iq,nq,Oe,{value:0,showSuggester:3,onValueChange:4,setValue:5},rq)}get setValue(){return this.$$.ctx[5]}},f2=rh;var In=require("obsidian");var v2=require("obsidian");function aq(r){er(r,"svelte-1m4qg39",".image-card-image.svelte-1m4qg39{width:100%;height:fit-content;max-height:500px;object-fit:contain}.image-card-text.svelte-1m4qg39{display:block;margin:var(--size-4-2);margin-bottom:var(--size-4-4)}")}function oq(r){let e,t,n,i,a,o,c,u;return{c(){e=X("div"),t=X("img"),i=we(),a=X("span"),o=Ue(r[0]),U(t,"class","image-card-image svelte-1m4qg39"),zo(t.src,n=xs(r[0]))||U(t,"src",n),U(t,"alt",r[0]),U(a,"class","image-card-text svelte-1m4qg39"),U(e,"class","image-card svelte-1m4qg39"),U(e,"role","button"),U(e,"tabindex","0")},m(s,l){re(s,e,l),G(e,t),G(e,i),G(e,a),G(a,o),c||(u=[Ne(e,"click",r[3]),Ne(e,"keydown",r[4])],c=!0)},p(s,[l]){l&1&&!zo(t.src,n=xs(s[0]))&&U(t,"src",n),l&1&&U(t,"alt",s[0]),l&1&&$e(o,s[0])},i:_e,o:_e,d(s){s&&te(e),c=!1,et(u)}}}function sq(r,e,t){let{image:n}=e,{onSelect:i}=e;function a(u,s){u.key===" "&&i(s)}let o=()=>i(n),c=u=>a(u,n);return r.$$set=u=>{"image"in u&&t(0,n=u.image),"onSelect"in u&&t(1,i=u.onSelect)},[n,i,a,o,c]}var nh=class extends Ie{constructor(e){super(),ke(this,e,sq,oq,Oe,{image:0,onSelect:1},aq)}},m2=nh;var h2=require("obsidian");function p2(r,e,t){let n=r.slice();return n[6]=e[t],n}function d2(r){let e,t;return e=new m2({props:{image:r[6].value,onSelect:r[0]}}),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p(n,i){let a={};i&4&&(a.image=n[6].value),i&1&&(a.onSelect=n[0]),e.$set(a)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function uq(r){let e,t,n,i,a,o;function c(m){r[4](m)}let u={placeholder:"Search Images..."};r[1]!==void 0&&(u.value=r[1]),t=new qi({props:u}),kt.push(()=>en(t,"value",c));let s=Ke(r[2]),l=[];for(let m=0;m<s.length;m+=1)l[m]=d2(p2(r,s,m));let f=m=>De(l[m],1,1,()=>{l[m]=null});return{c(){e=X("div"),Xe(t.$$.fragment),i=we(),a=X("div");for(let m=0;m<l.length;m+=1)l[m].c();U(e,"class","mb-image-search-container"),U(a,"class","mb-image-card-grid")},m(m,p){re(m,e,p),Ze(t,e,null),re(m,i,p),re(m,a,p);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(a,null);o=!0},p(m,[p]){let h={};if(!n&&p&2&&(n=!0,h.value=m[1],$r(()=>n=!1)),t.$set(h),p&5){s=Ke(m[2]);let d;for(d=0;d<s.length;d+=1){let g=p2(m,s,d);l[d]?(l[d].p(g,p),he(l[d],1)):(l[d]=d2(g),l[d].c(),he(l[d],1),l[d].m(a,null))}for(St(),d=s.length;d<l.length;d+=1)f(d);_t()}},i(m){if(!o){he(t.$$.fragment,m);for(let p=0;p<s.length;p+=1)he(l[p]);o=!0}},o(m){De(t.$$.fragment,m),l=l.filter(Boolean);for(let p=0;p<l.length;p+=1)De(l[p]);o=!1},d(m){m&&(te(e),te(i),te(a)),Ye(t),wt(l,m)}}}function lq(r,e,t){let{options:n}=e,{onSelect:i}=e,a="",o;function c(s){var l;if(!s){t(2,o=n);return}let f=(0,h2.prepareFuzzySearch)(s),m=[];for(let p of n)((l=f(p.value))===null||l===void 0?void 0:l.score)!==void 0&&m.push(p);t(2,o=m)}function u(s){a=s,t(1,a)}return r.$$set=s=>{"options"in s&&t(3,n=s.options),"onSelect"in s&&t(0,i=s.onSelect)},r.$$.update=()=>{r.$$.dirty&2&&c(a)},[i,a,o,n,u]}var ih=class extends Ie{constructor(e){super(),ke(this,e,lq,uq,Oe,{options:3,onSelect:0})}},g2=ih;var Kc=class extends v2.Modal{constructor(t,n,i){super(t);this.options=n,this.onSelect=i}onOpen(){this.modalEl.style.width="100%",new g2({target:this.contentEl,props:{options:this.options,onSelect:t=>{this.onSelect(t),this.close()}}})}};function y2(r){let e=[];for(let t of r.children)t instanceof In.TFile&&b2(t.extension)&&e.push(new qa(t.path,t.name)),t instanceof In.TFolder&&e.push(...y2(t));return e}function cq(r,e,t){let n=[];for(let i of e){let a=i.value;if(a.startsWith('"')&&a.endsWith('"'))a=a.substring(1,a.length-1);else{let c=new tr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:"expected suggest option query for image suggester to start and end with double quotation marks"});new In.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}let o;if(a===""||a==="."?o=t.app.vault.getRoot():o=t.app.vault.getAbstractFileByPath(a),o==null){let c=new tr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${a} for image suggester to exist`});new In.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}if(!(o instanceof In.TFolder)){let c=new tr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${i.value} for image suggester to be a folder`});new In.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}n.push(...y2(o))}for(let i of r){let a=ic(i.value);if(!a){let c=new tr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} to be truthy`});new In.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}let o=t.app.vault.getAbstractFileByPath(a);if(!o){let c=new tr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to exist`});new In.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}if(!(o instanceof In.TFile)){let c=new tr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be a file`});new In.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}if(!b2(o.extension)){let c=new tr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be an image file`});new In.Notice(`meta-bind | ${c.message}`),console.warn(c);continue}n.push(new qa(o.path,o.name))}return n}function b2(r){return["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"].contains(r)}function fq(r){let e=r.renderChild.getArguments("option"),t=r.renderChild.getArguments("optionQuery");return cq(e,t,r.renderChild.plugin)}function x2(r,e){new Kc(r.renderChild.plugin.app,fq(r),e).open()}var $c=class extends Nt{constructor(e){super(e)}filterValue(e){return Ia(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return f2}rawMapValue(e){return e}rawReverseMapValue(e){return ic(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){x2(this,e=>this.setInternalValue(e))}};function D2(r,e,t){let n=r.slice();return n[11]=e[t],n[13]=t,n}function w2(r){let e;return{c(){e=X("span"),e.textContent="Empty",U(e,"class","mb-list-empty")},m(t,n){re(t,e,n)},p:_e,d(t){t&&te(e)}}}function mq(r){let e,t;return e=new Gr({props:{iconName:"x"}}),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p:_e,i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function E2(r){let e,t,n=r[11]+"",i,a,o,c,u;function s(){return r[8](r[13])}return o=new xr({props:{$$slots:{default:[mq]},$$scope:{ctx:r}}}),o.$on("click",s),{c(){e=X("div"),t=X("span"),i=Ue(n),a=we(),Xe(o.$$.fragment),c=we(),U(e,"class","mb-list-item")},m(l,f){re(l,e,f),G(e,t),G(t,i),G(e,a),Ze(o,e,null),G(e,c),u=!0},p(l,f){r=l,(!u||f&1)&&n!==(n=r[11]+"")&&$e(i,n);let m={};f&16384&&(m.$$scope={dirty:f,ctx:r}),o.$set(m)},i(l){u||(he(o.$$.fragment,l),u=!0)},o(l){De(o.$$.fragment,l),u=!1},d(l){l&&te(e),Ye(o)}}}function C2(r){let e,t=F2(r[0].length,r[1])+"",n,i;return{c(){e=X("span"),n=Ue(t),U(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[1]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){re(a,e,o),G(e,n)},p(a,o){o&3&&t!==(t=F2(a[0].length,a[1])+"")&&$e(n,t),o&3&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[1]?"mb-content-limit-indicator-overflow":""}`)&&U(e,"class",i)},d(a){a&&te(e)}}}function pq(r){let e,t;return e=new Gr({props:{iconName:"plus"}}),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p:_e,i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function dq(r){let e,t,n,i,a,o,c,u,s,l,f=Ke(r[0]),m=[];for(let g=0;g<f.length;g+=1)m[g]=E2(D2(r,f,g));let p=g=>De(m[g],1,1,()=>{m[g]=null}),h=null;f.length||(h=w2(r));let d=r[1]!==void 0&&C2(r);return c=new xr({props:{disabled:!r[3],$$slots:{default:[pq]},$$scope:{ctx:r}}}),c.$on("click",r[10]),{c(){e=X("div");for(let g=0;g<m.length;g+=1)m[g].c();h&&h.c(),t=we(),n=X("div"),i=X("input"),a=we(),d&&d.c(),o=we(),Xe(c.$$.fragment),U(e,"class","mb-list-items"),U(i,"type","text"),U(i,"tabindex","0"),U(i,"placeholder",r[2]),U(i,"maxlength",r[1]),U(n,"class","mb-list-input")},m(g,v){re(g,e,v);for(let C=0;C<m.length;C+=1)m[C]&&m[C].m(e,null);h&&h.m(e,null),re(g,t,v),re(g,n,v),G(n,i),Ct(i,r[3]),G(n,a),d&&d.m(n,null),G(n,o),Ze(c,n,null),u=!0,s||(l=Ne(i,"input",r[9]),s=!0)},p(g,[v]){if(v&33){f=Ke(g[0]);let y;for(y=0;y<f.length;y+=1){let D=D2(g,f,y);m[y]?(m[y].p(D,v),he(m[y],1)):(m[y]=E2(D),m[y].c(),he(m[y],1),m[y].m(e,null))}for(St(),y=f.length;y<m.length;y+=1)p(y);_t(),!f.length&&h?h.p(g,v):f.length?h&&(h.d(1),h=null):(h=w2(g),h.c(),h.m(e,null))}(!u||v&4)&&U(i,"placeholder",g[2]),(!u||v&2)&&U(i,"maxlength",g[1]),v&8&&i.value!==g[3]&&Ct(i,g[3]),g[1]!==void 0?d?d.p(g,v):(d=C2(g),d.c(),d.m(n,o)):d&&(d.d(1),d=null);let C={};v&8&&(C.disabled=!g[3]),v&16384&&(C.$$scope={dirty:v,ctx:g}),c.$set(C)},i(g){if(!u){for(let v=0;v<f.length;v+=1)he(m[v]);he(c.$$.fragment,g),u=!0}},o(g){m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)De(m[v]);De(c.$$.fragment,g),u=!1},d(g){g&&(te(e),te(t),te(n)),wt(m,g),h&&h.d(),d&&d.d(),Ye(c),s=!1,l()}}}function F2(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function hq(r,e,t){let{value:n}=e,{limit:i}=e,{placeholder:a}=e,{onValueChange:o}=e,c="";function u(h){t(0,n=h)}function s(){n.push(c),o(n),t(3,c=""),t(0,n)}function l(h){n.splice(h,1),o(n),t(0,n)}let f=h=>l(h);function m(){c=this.value,t(3,c)}let p=()=>s();return r.$$set=h=>{"value"in h&&t(0,n=h.value),"limit"in h&&t(1,i=h.limit),"placeholder"in h&&t(2,a=h.placeholder),"onValueChange"in h&&t(6,o=h.onValueChange)},[n,i,a,c,s,l,o,u,f,m,p]}var ah=class extends Ie{constructor(e){super(),ke(this,e,hq,dq,Oe,{value:0,limit:1,placeholder:2,onValueChange:6,setValue:7})}get setValue(){return this.$$.ctx[7]}},A2=ah;var ef=class extends Nt{constructor(e){super(e)}filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return A2}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"New Entry...",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function S2(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function _2(r){let e;return{c(){e=X("span"),e.textContent="Empty",U(e,"class","mb-list-empty")},m(t,n){re(t,e,n)},p:_e,d(t){t&&te(e)}}}function gq(r){let e,t=r[9]+"",n;return{c(){e=X("span"),n=Ue(t)},m(i,a){re(i,e,a),G(e,n)},p(i,a){a&1&&t!==(t=i[9]+"")&&$e(n,t)},i:_e,o:_e,d(i){i&&te(e)}}}function vq(r){let e,t,n;return t=new ti({props:{mdLink:Di(`${r[9]}`)}}),{c(){e=X("span"),Xe(t.$$.fragment)},m(i,a){re(i,e,a),Ze(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=Di(`${i[9]}`)),t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){De(t.$$.fragment,i),n=!1},d(i){i&&te(e),Ye(t)}}}function yq(r){let e,t;return e=new Gr({props:{iconName:"x"}}),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p:_e,i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function N2(r){let e,t,n,i,a,o,c,u,s=[vq,gq],l=[];function f(p,h){return h&1&&(t=null),t==null&&(t=!!wi(`${p[9]}`)),t?0:1}n=f(r,-1),i=l[n]=s[n](r);function m(){return r[8](r[11])}return o=new xr({props:{$$slots:{default:[yq]},$$scope:{ctx:r}}}),o.$on("click",m),{c(){e=X("div"),i.c(),a=we(),Xe(o.$$.fragment),c=we(),U(e,"class","mb-list-item")},m(p,h){re(p,e,h),l[n].m(e,null),G(e,a),Ze(o,e,null),G(e,c),u=!0},p(p,h){r=p;let d=n;n=f(r,h),n===d?l[n].p(r,h):(St(),De(l[d],1,1,()=>{l[d]=null}),_t(),i=l[n],i?i.p(r,h):(i=l[n]=s[n](r),i.c()),he(i,1),i.m(e,a));let g={};h&4096&&(g.$$scope={dirty:h,ctx:r}),o.$set(g)},i(p){u||(he(i),he(o.$$.fragment,p),u=!0)},o(p){De(i),De(o.$$.fragment,p),u=!1},d(p){p&&te(e),l[n].d(),Ye(o)}}}function bq(r){let e,t,n,i,a,o,c,u,s,l,f=Ke(r[0]),m=[];for(let d=0;d<f.length;d+=1)m[d]=N2(S2(r,f,d));let p=d=>De(m[d],1,1,()=>{m[d]=null}),h=null;return f.length||(h=_2(r)),c=new Gr({props:{iconName:"list"}}),{c(){e=X("div");for(let d=0;d<m.length;d+=1)m[d].c();h&&h.c(),t=we(),n=X("div"),i=X("div"),a=X("div"),a.innerHTML="<span>Add Element...</span>",o=we(),Xe(c.$$.fragment),U(e,"class","mb-list-items"),U(a,"class","mb-suggest-text"),U(i,"class","mb-suggest-input"),U(i,"role","button"),U(i,"tabindex","0"),U(n,"class","mb-list-input")},m(d,g){re(d,e,g);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(e,null);h&&h.m(e,null),re(d,t,g),re(d,n,g),G(n,i),G(i,a),G(i,o),Ze(c,i,null),u=!0,s||(l=[Ne(i,"click",r[2]),Ne(i,"keydown",r[3])],s=!0)},p(d,[g]){if(g&3){f=Ke(d[0]);let v;for(v=0;v<f.length;v+=1){let C=S2(d,f,v);m[v]?(m[v].p(C,g),he(m[v],1)):(m[v]=N2(C),m[v].c(),he(m[v],1),m[v].m(e,null))}for(St(),v=f.length;v<m.length;v+=1)p(v);_t(),!f.length&&h?h.p(d,g):f.length?h&&(h.d(1),h=null):(h=_2(d),h.c(),h.m(e,null))}},i(d){if(!u){for(let g=0;g<f.length;g+=1)he(m[g]);he(c.$$.fragment,d),u=!0}},o(d){m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)De(m[g]);De(c.$$.fragment,d),u=!1},d(d){d&&(te(e),te(t),te(n)),wt(m,d),h&&h.d(),Ye(c),s=!1,et(l)}}}function xq(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(m){t(0,n=m)}function c(m){n.push(m),t(0,n)}function u(m){n.splice(m,1),a(n),t(0,n)}function s(m){m.target instanceof HTMLAnchorElement||i()}function l(m){m.key===" "&&i()}let f=m=>u(m);return r.$$set=m=>{"value"in m&&t(0,n=m.value),"showSuggester"in m&&t(4,i=m.showSuggester),"onValueChange"in m&&t(5,a=m.onValueChange)},[n,u,s,l,i,a,o,c,f]}var oh=class extends Ie{constructor(e){super(),ke(this,e,xq,bq,Oe,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},M2=oh;var tf=class extends Nt{constructor(e){super(e)}filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return M2}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){bs(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}};function T2(r,e,t){let n=r.slice();return n[26]=e[t][0],n[27]=e[t][1],n}function I2(r,e,t){let n=r.slice();return n[23]=e[t],n}function B2(r,e,t){let n=r.slice();return n[23]=e[t],n}function O2(r,e,t){let n=r.slice();return n[26]=e[t][0],n[27]=e[t][1],n}function Dq(r){let e,t,n,i,a,o=Ke(Object.values(r[2])),c=[];for(let l=0;l<o.length;l+=1)c[l]=k2(I2(r,o,l));let u=Ke(Object.entries(r[1])),s=[];for(let l=0;l<u.length;l+=1)s[l]=P2(T2(r,u,l));return{c(){e=X("select");for(let l=0;l<c.length;l+=1)c[l].c();t=we(),n=X("select");for(let l=0;l<s.length;l+=1)s[l].c();U(e,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&mn(()=>r[16].call(e)),U(n,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&mn(()=>r[18].call(n))},m(l,f){re(l,e,f);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);Wr(e,r[5],!0),re(l,t,f),re(l,n,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);Wr(n,r[4],!0),i||(a=[Ne(e,"change",r[16]),Ne(e,"change",r[17]),Ne(n,"change",r[18]),Ne(n,"change",r[19])],i=!0)},p(l,f){if(f[0]&4){o=Ke(Object.values(l[2]));let m;for(m=0;m<o.length;m+=1){let p=I2(l,o,m);c[m]?c[m].p(p,f):(c[m]=k2(p),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=o.length}if(f[0]&36&&Wr(e,l[5]),f[0]&2){u=Ke(Object.entries(l[1]));let m;for(m=0;m<u.length;m+=1){let p=T2(l,u,m);s[m]?s[m].p(p,f):(s[m]=P2(p),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}f[0]&18&&Wr(n,l[4])},d(l){l&&(te(e),te(t),te(n)),wt(c,l),wt(s,l),i=!1,et(a)}}}function wq(r){let e,t,n,i,a,o=Ke(Object.entries(r[1])),c=[];for(let l=0;l<o.length;l+=1)c[l]=R2(O2(r,o,l));let u=Ke(Object.values(r[2])),s=[];for(let l=0;l<u.length;l+=1)s[l]=L2(B2(r,u,l));return{c(){e=X("select");for(let l=0;l<c.length;l+=1)c[l].c();t=we(),n=X("select");for(let l=0;l<s.length;l+=1)s[l].c();U(e,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&mn(()=>r[12].call(e)),U(n,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&mn(()=>r[14].call(n))},m(l,f){re(l,e,f);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);Wr(e,r[4],!0),re(l,t,f),re(l,n,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);Wr(n,r[5],!0),i||(a=[Ne(e,"change",r[12]),Ne(e,"change",r[13]),Ne(n,"change",r[14]),Ne(n,"change",r[15])],i=!0)},p(l,f){if(f[0]&2){o=Ke(Object.entries(l[1]));let m;for(m=0;m<o.length;m+=1){let p=O2(l,o,m);c[m]?c[m].p(p,f):(c[m]=R2(p),c[m].c(),c[m].m(e,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=o.length}if(f[0]&18&&Wr(e,l[4]),f[0]&4){u=Ke(Object.values(l[2]));let m;for(m=0;m<u.length;m+=1){let p=B2(l,u,m);s[m]?s[m].p(p,f):(s[m]=L2(p),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}f[0]&36&&Wr(n,l[5])},d(l){l&&(te(e),te(t),te(n)),wt(c,l),wt(s,l),i=!1,et(a)}}}function k2(r){let e,t=r[23]+"",n,i;return{c(){e=X("option"),n=Ue(t),e.__value=i=r[23],Ct(e,e.__value)},m(a,o){re(a,e,o),G(e,n)},p(a,o){o[0]&4&&t!==(t=a[23]+"")&&$e(n,t),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&te(e)}}}function P2(r){let e,t=r[27]+"",n,i;return{c(){e=X("option"),n=Ue(t),e.__value=i=r[26],Ct(e,e.__value)},m(a,o){re(a,e,o),G(e,n)},p(a,o){o[0]&2&&t!==(t=a[27]+"")&&$e(n,t),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&te(e)}}}function R2(r){let e,t=r[27]+"",n,i;return{c(){e=X("option"),n=Ue(t),e.__value=i=r[26],Ct(e,e.__value)},m(a,o){re(a,e,o),G(e,n)},p(a,o){o[0]&2&&t!==(t=a[27]+"")&&$e(n,t),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&te(e)}}}function L2(r){let e,t=r[23]+"",n,i;return{c(){e=X("option"),n=Ue(t),e.__value=i=r[23],Ct(e,e.__value)},m(a,o){re(a,e,o),G(e,n)},p(a,o){o[0]&4&&t!==(t=a[23]+"")&&$e(n,t),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&te(e)}}}function Eq(r){let e,t,n,i,a;function o(s,l){return s[0]?wq:Dq}let c=o(r,[-1,-1]),u=c(r);return{c(){e=X("div"),u.c(),t=we(),n=X("input"),U(n,"class","mb-date-input-year-input mb-input-element-group-element"),U(n,"type","number"),U(n,"tabindex","0"),U(n,"max","9999"),U(n,"min","0"),U(e,"class","mb-input-element-group")},m(s,l){re(s,e,l),u.m(e,null),G(e,t),G(e,n),Ct(n,r[3]),i||(a=[Ne(n,"input",r[20]),Ne(n,"input",r[21])],i=!0)},p(s,l){c===(c=o(s,l))&&u?u.p(s,l):(u.d(1),u=c(s),u&&(u.c(),u.m(e,t))),l[0]&8&&Ri(n.value)!==s[3]&&Ct(n,s[3])},i:_e,o:_e,d(s){s&&te(e),u.d(),i=!1,et(a)}}}function Cq(r,e,t){let{value:n}=e,{useUsInputOrder:i}=e,{onValueChange:a}=e,o={},c={},u,s,l;Rr(()=>{t(1,o={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"});for(let F=1;F<=31;F++)t(2,c[F.toString()]=F.toString(),c);t(3,u=n.year().toString()),t(4,s=n.month().toString()),t(5,l=n.date().toString())});function f(F){t(9,n=F),t(3,u=n.year().toString()),t(4,s=n.month().toString()),t(5,l=n.date().toString())}function m(){let F=Number.parseInt(u),M=Number.isNaN(F)?rn.getDefaultYear():F;n.year(M),a(n)}function p(){n.month(s);let F=d(n.date());n.date(F),t(5,l=F.toString()),a(n)}function h(){let F=Number.parseInt(l),M=d(F);n.date(M),t(5,l=M.toString()),a(n)}function d(F){return Number.isNaN(F)?rn.getDefaultDay():F<1?1:F>n.daysInMonth()?n.daysInMonth():F}function g(){s=Li(this),t(4,s),t(1,o)}let v=()=>p();function C(){l=Li(this),t(5,l),t(2,c)}let y=()=>h();function D(){l=Li(this),t(5,l),t(2,c)}let b=()=>h();function x(){s=Li(this),t(4,s),t(1,o)}let w=()=>p();function A(){u=Ri(this.value),t(3,u)}let E=()=>m();return r.$$set=F=>{"value"in F&&t(9,n=F.value),"useUsInputOrder"in F&&t(0,i=F.useUsInputOrder),"onValueChange"in F&&t(10,a=F.onValueChange)},[i,o,c,u,s,l,m,p,h,n,a,f,g,v,C,y,D,b,x,w,A,E]}var sh=class extends Ie{constructor(e){super(),ke(this,e,Cq,Eq,Oe,{value:9,useUsInputOrder:0,onValueChange:10,setValue:11},null,[-1,-1])}get setValue(){return this.$$.ctx[11]}},q2=sh;var rf=class extends Nt{constructor(e){super(e)}filterValue(e){return Ba(e)}getFallbackDefaultValue(){return rn.getDefaultDate()}getSvelteComponent(){return q2}rawMapValue(e){return rn.stringify(e)}rawReverseMapValue(e){return rn.parse(e)}getMountArgs(){return{useUsInputOrder:this.renderChild.plugin.settings.useUsDateInputOrder}}};var uh=fr(zi()),Nu=fr(sa()),lh=class{constructor(){this._hour=ai.getDefaultHour(),this._minute=ai.getDefaultHour()}getHour(){return this._hour}setHour(e){if(e<0||e>24){this._hour=ai.getDefaultHour();return}this._hour=e}getMinute(){return this._minute}setMinute(e){if(e<0||e>59){this._minute=ai.getDefaultMinute();return}this._minute=e}getUniformHour(){return this.getHour().toString().padStart(2,"0")}getUniformMinute(){return this.getMinute().toString().padStart(2,"0")}setHourFromString(e){let t=Number.parseInt(e);this.setHour(Number.isNaN(t)?ai.getDefaultHour():t)}setMinuteFromString(e){let t=Number.parseInt(e);this.setMinute(Number.isNaN(t)?ai.getDefaultMinute():t)}},Fq=uh.P.sequenceMap((r,e,t,n,i)=>({hour:Number.parseInt(r+e),minute:Number.parseInt(n+i)}),Nu.P_UTILS.digit(),Nu.P_UTILS.digit(),uh.P.string(":"),Nu.P_UTILS.digit(),Nu.P_UTILS.digit()),ai=class r{static parse(e){if(!e)return;let t=r.getDefaultTime(),n=Fq.tryParse(e);if(n.success&&!(Number.isNaN(n.value.hour)||Number.isNaN(n.value.minute))&&!(n.value.hour<0||n.value.hour>=24)&&!(n.value.minute<0||n.value.minute>=60))return t.setHour(n.value.hour),t.setMinute(n.value.minute),t}static stringify(e){return`${e.getUniformHour()}:${e.getUniformMinute()}`}static getDefaultTime(){return new lh}static getDefaultHour(){return 0}static getDefaultMinute(){return 0}};function V2(r,e,t){let n=r.slice();return n[13]=e[t][0],n[14]=e[t][1],n}function U2(r,e,t){let n=r.slice();return n[17]=e[t][0],n[18]=e[t][1],n}function z2(r){let e,t=r[18]+"",n,i;return{c(){e=X("option"),n=Ue(t),e.__value=i=r[17],Ct(e,e.__value)},m(a,o){re(a,e,o),G(e,n)},p(a,o){o&1&&t!==(t=a[18]+"")&&$e(n,t),o&1&&i!==(i=a[17])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&te(e)}}}function H2(r){let e,t=r[14]+"",n,i;return{c(){e=X("option"),n=Ue(t),e.__value=i=r[13],Ct(e,e.__value)},m(a,o){re(a,e,o),G(e,n)},p(a,o){o&2&&t!==(t=a[14]+"")&&$e(n,t),o&2&&i!==(i=a[13])&&(e.__value=i,Ct(e,e.__value))},d(a){a&&te(e)}}}function Aq(r){let e,t,n,i,a,o,c=Ke(Object.entries(r[0])),u=[];for(let f=0;f<c.length;f+=1)u[f]=z2(U2(r,c,f));let s=Ke(Object.entries(r[1])),l=[];for(let f=0;f<s.length;f+=1)l[f]=H2(V2(r,s,f));return{c(){e=X("div"),t=X("select");for(let f=0;f<u.length;f+=1)u[f].c();n=we(),i=X("select");for(let f=0;f<l.length;f+=1)l[f].c();U(t,"class","dropdown mb-input-element-group-element"),r[2]===void 0&&mn(()=>r[9].call(t)),U(i,"class","dropdown mb-input-element-group-element"),r[3]===void 0&&mn(()=>r[11].call(i)),U(e,"class","mb-input-element-group")},m(f,m){re(f,e,m),G(e,t);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(t,null);Wr(t,r[2],!0),G(e,n),G(e,i);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(i,null);Wr(i,r[3],!0),a||(o=[Ne(t,"change",r[9]),Ne(t,"change",r[10]),Ne(i,"change",r[11]),Ne(i,"change",r[12])],a=!0)},p(f,[m]){if(m&1){c=Ke(Object.entries(f[0]));let p;for(p=0;p<c.length;p+=1){let h=U2(f,c,p);u[p]?u[p].p(h,m):(u[p]=z2(h),u[p].c(),u[p].m(t,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=c.length}if(m&5&&Wr(t,f[2]),m&2){s=Ke(Object.entries(f[1]));let p;for(p=0;p<s.length;p+=1){let h=V2(f,s,p);l[p]?l[p].p(h,m):(l[p]=H2(h),l[p].c(),l[p].m(i,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=s.length}m&10&&Wr(i,f[3])},i:_e,o:_e,d(f){f&&te(e),wt(u,f),wt(l,f),a=!1,et(o)}}}function Sq(r,e,t){let{value:n}=e,{onValueChange:i}=e,a={},o={},c,u;Rr(()=>{for(let g=0;g<=24;g++)t(0,a[g.toString()]=g.toString().padStart(2,"0"),a);for(let g=0;g<=59;g++)t(1,o[g.toString()]=g.toString().padStart(2,"0"),o);t(3,u=n.getMinute().toString()),t(2,c=n.getHour().toString())});function s(g){t(6,n=g),t(3,u=n.getMinute().toString()),t(2,c=n.getHour().toString())}function l(){n.setMinuteFromString(u),i(n)}function f(){n.setHourFromString(c),i(n)}function m(){c=Li(this),t(2,c),t(0,a)}let p=()=>f();function h(){u=Li(this),t(3,u),t(1,o)}let d=()=>l();return r.$$set=g=>{"value"in g&&t(6,n=g.value),"onValueChange"in g&&t(7,i=g.onValueChange)},[a,o,c,u,l,f,n,i,s,m,p,h,d]}var ch=class extends Ie{constructor(e){super(),ke(this,e,Sq,Aq,Oe,{value:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},W2=ch;var nf=class extends Nt{constructor(e){super(e)}filterValue(e){return Ba(e)}getFallbackDefaultValue(){return ai.getDefaultTime()}getSvelteComponent(){return W2}rawMapValue(e){return ai.stringify(e)}rawReverseMapValue(e){return ai.parse(e)}};function G2(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function _q(r){let e,t=r[9]+"",n;return{c(){e=X("span"),n=Ue(t)},m(i,a){re(i,e,a),G(e,n)},p(i,a){a&1&&t!==(t=i[9]+"")&&$e(n,t)},i:_e,o:_e,d(i){i&&te(e)}}}function Nq(r){let e,t,n;return t=new ti({props:{mdLink:Di(`${r[9]}`)}}),{c(){e=X("span"),Xe(t.$$.fragment)},m(i,a){re(i,e,a),Ze(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=Di(`${i[9]}`)),t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){De(t.$$.fragment,i),n=!1},d(i){i&&te(e),Ye(t)}}}function j2(r){let e,t,n,i,a,o,c,u,s,l,f=[Nq,_q],m=[];function p(d,g){return g&1&&(t=null),t==null&&(t=!!wi(`${d[9]}`)),t?0:1}n=p(r,-1),i=m[n]=f[n](r),c=new Gr({props:{iconName:"x"}});function h(){return r[8](r[11])}return{c(){e=X("div"),i.c(),a=we(),o=X("button"),Xe(c.$$.fragment),U(o,"class","mb-inline-list-item-button"),U(e,"class","mb-inline-list-item")},m(d,g){re(d,e,g),m[n].m(e,null),G(e,a),G(e,o),Ze(c,o,null),u=!0,s||(l=Ne(o,"click",h),s=!0)},p(d,g){r=d;let v=n;n=p(r,g),n===v?m[n].p(r,g):(St(),De(m[v],1,1,()=>{m[v]=null}),_t(),i=m[n],i?i.p(r,g):(i=m[n]=f[n](r),i.c()),he(i,1),i.m(e,a))},i(d){u||(he(i),he(c.$$.fragment,d),u=!0)},o(d){De(i),De(c.$$.fragment,d),u=!1},d(d){d&&te(e),m[n].d(),Ye(c),s=!1,l()}}}function Mq(r){let e,t,n,i,a,o,c,u,s,l=Ke(r[0]),f=[];for(let p=0;p<l.length;p+=1)f[p]=j2(G2(r,l,p));let m=p=>De(f[p],1,1,()=>{f[p]=null});return o=new Gr({props:{iconName:"plus"}}),{c(){e=X("div");for(let p=0;p<f.length;p+=1)f[p].c();t=we(),n=X("div"),i=X("span"),i.textContent="\u200B",a=we(),Xe(o.$$.fragment),U(n,"class","mb-inline-list-add"),U(n,"role","button"),U(n,"tabindex","0"),U(e,"class","mb-inline-list")},m(p,h){re(p,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);G(e,t),G(e,n),G(n,i),G(n,a),Ze(o,n,null),c=!0,u||(s=[Ne(n,"click",r[2]),Ne(n,"keydown",r[3])],u=!0)},p(p,[h]){if(h&3){l=Ke(p[0]);let d;for(d=0;d<l.length;d+=1){let g=G2(p,l,d);f[d]?(f[d].p(g,h),he(f[d],1)):(f[d]=j2(g),f[d].c(),he(f[d],1),f[d].m(e,t))}for(St(),d=l.length;d<f.length;d+=1)m(d);_t()}},i(p){if(!c){for(let h=0;h<l.length;h+=1)he(f[h]);he(o.$$.fragment,p),c=!0}},o(p){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)De(f[h]);De(o.$$.fragment,p),c=!1},d(p){p&&te(e),wt(f,p),Ye(o),u=!1,et(s)}}}function Tq(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(m){t(0,n=m)}function c(m){n.push(m),t(0,n)}function u(m){n.splice(m,1),a(n),t(0,n)}function s(m){m.target instanceof HTMLAnchorElement||i()}function l(m){m.key===" "&&i()}let f=m=>u(m);return r.$$set=m=>{"value"in m&&t(0,n=m.value),"showSuggester"in m&&t(4,i=m.showSuggester),"onValueChange"in m&&t(5,a=m.onValueChange)},[n,u,s,l,i,a,o,c,f]}var fh=class extends Ie{constructor(e){super(),ke(this,e,Tq,Mq,Oe,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},Z2=fh;var af=class extends Nt{constructor(e){super(e)}filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return Z2}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){bs(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}};function Y2(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function Iq(r){let e,t=r[9]+"",n;return{c(){e=X("span"),n=Ue(t)},m(i,a){re(i,e,a),G(e,n)},p(i,a){a&1&&t!==(t=i[9]+"")&&$e(n,t)},i:_e,o:_e,d(i){i&&te(e)}}}function Bq(r){let e,t,n;return t=new ti({props:{mdLink:Di(`${r[9]}`)}}),{c(){e=X("span"),Xe(t.$$.fragment)},m(i,a){re(i,e,a),Ze(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=Di(`${i[9]}`)),t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){De(t.$$.fragment,i),n=!1},d(i){i&&te(e),Ye(t)}}}function J2(r){let e,t,n,i,a,o,c,u,s,l,f=[Bq,Iq],m=[];function p(d,g){return g&1&&(t=null),t==null&&(t=!!wi(`${d[9]}`)),t?0:1}n=p(r,-1),i=m[n]=f[n](r),c=new Gr({props:{iconName:"x"}});function h(){return r[8](r[11])}return{c(){e=X("div"),i.c(),a=we(),o=X("button"),Xe(c.$$.fragment),U(o,"class","mb-inline-list-item-button"),U(e,"class","mb-inline-list-item")},m(d,g){re(d,e,g),m[n].m(e,null),G(e,a),G(e,o),Ze(c,o,null),u=!0,s||(l=Ne(o,"click",h),s=!0)},p(d,g){r=d;let v=n;n=p(r,g),n===v?m[n].p(r,g):(St(),De(m[v],1,1,()=>{m[v]=null}),_t(),i=m[n],i?i.p(r,g):(i=m[n]=f[n](r),i.c()),he(i,1),i.m(e,a))},i(d){u||(he(i),he(c.$$.fragment,d),u=!0)},o(d){De(i),De(c.$$.fragment,d),u=!1},d(d){d&&te(e),m[n].d(),Ye(c),s=!1,l()}}}function Oq(r){let e,t,n,i,a,o,c,u,s,l=Ke(r[0]),f=[];for(let p=0;p<l.length;p+=1)f[p]=J2(Y2(r,l,p));let m=p=>De(f[p],1,1,()=>{f[p]=null});return o=new Gr({props:{iconName:"plus"}}),{c(){e=X("div");for(let p=0;p<f.length;p+=1)f[p].c();t=we(),n=X("div"),i=X("span"),i.textContent="\u200B",a=we(),Xe(o.$$.fragment),U(n,"class","mb-inline-list-add"),U(n,"role","button"),U(n,"tabindex","0"),U(e,"class","mb-inline-list")},m(p,h){re(p,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);G(e,t),G(e,n),G(n,i),G(n,a),Ze(o,n,null),c=!0,u||(s=[Ne(n,"click",r[2]),Ne(n,"keydown",r[3])],u=!0)},p(p,[h]){if(h&3){l=Ke(p[0]);let d;for(d=0;d<l.length;d+=1){let g=Y2(p,l,d);f[d]?(f[d].p(g,h),he(f[d],1)):(f[d]=J2(g),f[d].c(),he(f[d],1),f[d].m(e,t))}for(St(),d=l.length;d<f.length;d+=1)m(d);_t()}},i(p){if(!c){for(let h=0;h<l.length;h+=1)he(f[h]);he(o.$$.fragment,p),c=!0}},o(p){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)De(f[h]);De(o.$$.fragment,p),c=!1},d(p){p&&te(e),wt(f,p),Ye(o),u=!1,et(s)}}}function kq(r,e,t){let{value:n}=e,{showInput:i}=e,{onValueChange:a}=e;function o(m){t(0,n=m)}function c(m){n.push(m),t(0,n)}function u(m){n.splice(m,1),a(n),t(0,n)}function s(m){m.target instanceof HTMLAnchorElement||i()}function l(m){m.key===" "&&i()}let f=m=>u(m);return r.$$set=m=>{"value"in m&&t(0,n=m.value),"showInput"in m&&t(4,i=m.showInput),"onValueChange"in m&&t(5,a=m.onValueChange)},[n,u,s,l,i,a,o,c,f]}var mh=class extends Ie{constructor(e){super(),ke(this,e,kq,Oq,Oe,{value:0,showInput:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},X2=mh;var Mu=require("obsidian"),of=class extends Mu.Modal{constructor(t,n,i,a,o,c,u){super(t);this.value=n,this.title=i,this.subTitle=a,this.description=o,this.onSubmit=c,this.onCancel=u}onOpen(){this.contentEl.empty(),this.contentEl.createEl("h2",{text:this.title});let t=new Mu.Setting(this.contentEl);t.setName(this.subTitle),t.setDesc(this.description),t.addText(i=>{i.setValue(this.value),i.setPlaceholder(this.subTitle),i.onChange(a=>{this.value=a})});let n=new Mu.Setting(this.contentEl);n.addButton(i=>{i.setButtonText("Apply"),i.setCta(),i.onClick(()=>{this.onSubmit(this.value),this.close()})}),n.addButton(i=>{i.setButtonText("Cancel"),i.onClick(()=>{this.onCancel(),this.close()})})}onClose(){super.onClose()}};var sf=class extends Nt{constructor(e){super(e)}filterValue(e){return Hi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return X2}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){new of(this.renderChild.plugin.app,"","Meta Bind List","New List Element","",e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},()=>{}).open()}};var uf=class{constructor(e){this.plugin=e}createInputField(e,t,n){if(e!=="invalid"&&this.checkRenderChildTypeAllowed(e,t),e==="toggle")return new Ec(n);if(e==="slider")return new Fc(n);if(e==="text")return new Cc(n);if(e==="textArea")return new pu(n);if(e==="text_area")return new pu(n);if(e==="select")return new Ac(n);if(e==="multiSelect")return new du(n);if(e==="multi_select")return new du(n);if(e==="datePicker")return new hu(n);if(e==="date_picker")return new hu(n);if(e==="number")return new _c(n);if(e==="suggester")return new Yc(n);if(e==="editor")return new Jc(n);if(e==="progressBar")return new Xc(n);if(e==="inlineSelect")return new Qc(n);if(e==="imageSuggester")return new $c(n);if(e==="list")return new ef(n);if(e==="listSuggester")return new tf(n);if(e==="date")return new rf(n);if(e==="time")return new nf(n);if(e==="inlineListSuggester")return new af(n);if(e==="inlineList")return new sf(n)}checkRenderChildTypeAllowed(e,t){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=lE[e];if(t==="block"&&!n.allowInBlock)throw new ia({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[At.linkToInputField(e)]});if(t==="inline"&&!n.allowInline)throw new ia({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[At.linkToInputField(e)]})}};var Va=class{constructor(e){this.renderChild=e,this.hidden=!1}async render(e){var t,n;this.container=e,this.container.addClass("mb-view-text"),this.hidden=(n=(t=this.renderChild.getArgument("hidden"))==null?void 0:t.value)!=null?n:!1,this.hidden&&this.container.addClass("mb-view-hidden"),await this._render(e),await this.update(this.getDefaultDisplayValue())}async update(e){var t;if(this.container)try{let n=(t=e==null?void 0:e.toString())!=null?t:"";this.hidden||(this.container.empty(),await this._update(this.container,n)),this.container.removeClass("mb-error")}catch(n){n instanceof Error&&(console.error(n),this.container.innerText=n.message,this.container.addClass("mb-error"))}}};function ur(){return ur=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ur.apply(this,arguments)}var ph={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function it(r){return typeof r=="number"}function nt(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Cn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function ma(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function on(r){return r&&r.constructor.prototype.isUnit===!0||!1}function dr(r){return typeof r=="string"}var Et=Array.isArray;function Ge(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Fn(r){return Array.isArray(r)||Ge(r)}function Ao(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Si(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ds(r){return r&&r.constructor.prototype.isRange===!0||!1}function Ua(r){return r&&r.constructor.prototype.isIndex===!0||!1}function Q2(r){return typeof r=="boolean"}function K2(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function lf(r){return r&&r.constructor.prototype.isHelp===!0||!1}function $2(r){return typeof r=="function"}function eA(r){return r instanceof Date}function tA(r){return r instanceof RegExp}function So(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Cn(r)&&!ma(r))}function rA(r){return r===null}function nA(r){return r===void 0}function jn(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function sn(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function iA(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function aA(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function oA(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function vt(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tu(r){return vt(r)||or(r)&&r.args.length===1&&vt(r.args[0])&&"-+~".includes(r.op)}function Zi(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function An(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function oi(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function yt(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function za(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function or(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function un(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function sA(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function uA(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Yt(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function cf(r){return r&&r.constructor.prototype.isChain===!0||!1}function Dt(r){var e=typeof r;return e==="object"?r===null?"null":nt(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function tt(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return tt(t)});if(r instanceof Date)return new Date(r.valueOf());if(nt(r))return r;if(So(r))return Pq(r,tt);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Pq(r,e){var t={};for(var n in r)je(r,n)&&(t[n]=e(r[n]));return t}function ff(r,e){for(var t in e)je(e,t)&&(r[t]=e[t]);return r}function _i(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!_i(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!_i(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function lA(r,e,t){var n=!0,i;Object.defineProperty(r,e,{get:function(){return n&&(i=t(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function je(r,e){return r&&Object.hasOwnProperty.call(r,e)}function cA(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=r[i];a!==void 0&&(t[i]=a)}return t}var fA=["Matrix","Array"],mA=["number","BigNumber","Fraction"];var Ce=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ph)};ur(Ce,ph,{MATRIX_OPTIONS:fA,NUMBER_OPTIONS:mA});var _h=fr(gh(),1);function We(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var si=Math.sign||function(r){return r>0?1:r<0?-1:0},pA=Math.log2||function(e){return Math.log(e)/Math.LN2},dA=Math.log10||function(e){return Math.log(e)/Math.LN10},mf=Math.log1p||function(r){return Math.log(r+1)},hA=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},gA=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function vh(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!We(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!We(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var o="";return r<0&&(r=-r,o="-"),"".concat(o).concat(i).concat(r.toString(e)).concat(a)}function Ni(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var t="auto",n,i;if(e&&(e.notation&&(t=e.notation),it(e)?n=e:it(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return yh(r,n);case"exponential":return vA(r,n);case"engineering":return Rq(r,n);case"bin":return vh(r,2,i);case"oct":return vh(r,8,i);case"hex":return vh(r,16,i);case"auto":return Lq(r,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function pf(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function Rq(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=pf(r),n=df(t,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(it(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var c=Math.abs(i-o)-(a.length-1),u=0;u<c;u++)a.push(0);for(var s=Math.abs(i-o),l=1;s>0;)l++,s--;var f=a.slice(l).join(""),m=it(e)&&f.length||f.match(/[1-9]/)?"."+f:"",p=a.slice(0,l).join("")+m+"e"+(i>=0?"+":"")+o.toString();return n.sign+p}function yh(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=pf(r),n=typeof e=="number"?df(t,t.exponent+1+e):t,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(ws(o-i.length))),a<0&&(i=ws(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function vA(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=pf(r),n=e?df(t,e):t,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(ws(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function Lq(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=t&&t.lowerExp!==void 0?t.lowerExp:-3,i=t&&t.upperExp!==void 0?t.upperExp:5,a=pf(r),o=e?df(a,e):a;if(o.exponent<n||o.exponent>=i)return vA(r,e);var c=o.coefficients,u=o.exponent;c.length<e&&(c=c.concat(ws(e-c.length))),c=c.concat(ws(u-c.length+1+(c.length<e?e-c.length:0))),c=ws(-u).concat(c);var s=u>0?u:0;return s<c.length-1&&c.splice(s+1,0,"."),o.sign+c.join("")}function df(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),t.exponent++,a++),a--,n[a]++}}return t}function ws(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function yA(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var qq=Number.EPSILON||2220446049250313e-31;function Ar(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var n=Math.abs(r-e);return n<=qq?!0:n<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}var bA=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},xA=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},DA=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},hf=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},wA=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},gf=Math.tanh||function(r){var e=Math.exp(2*r);return(e-1)/(e+1)};function EA(r,e){var t=r>0?!0:r<0?!1:1/r===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return t^n?-r:r}function bh(r,e,t){var n=r.constructor,i=new n(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!We(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function FA(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var t="auto",n,i;if(e!==void 0&&(e.notation&&(t=e.notation),typeof e=="number"?n=e:e.precision!==void 0&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return Uq(r,n);case"exponential":return CA(r,n);case"engineering":return Vq(r,n);case"bin":return bh(r,2,i);case"oct":return bh(r,8,i);case"hex":return bh(r,16,i);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,o=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var c,u=r.toSignificantDigits(n),s=u.e;return s>=a&&s<o?c=u.toFixed():c=CA(r,n),c.replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],f=arguments[4];return l!=="."?l+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Vq(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=r.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+n.toString()}function CA(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function Uq(r,e){return r.toFixed(e)}function SA(r,e){var t=r.length-e.length,n=r.length;return r.substring(t,n)===e}function at(r,e){var t=zq(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function zq(r,e){if(typeof r=="number")return Ni(r,e);if(nt(r))return FA(r,e);if(Hq(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return _A(r,e);if(dr(r))return _o(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>_o(n)+": "+at(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function _o(r){for(var e=String(r),t="",n=0;n<e.length;){var i=e.charAt(n);t+=i in AA?AA[i]:i,n++}return'"'+t+'"'}var AA={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Vr(r){var e=String(r);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function _A(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=_A(r[i],e);return t+="]",t}else return at(r,e)}function Hq(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function vf(r,e){if(!dr(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dt(r)+", index: 0)");if(!dr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dt(e)+", index: 1)");return r===e?0:r>e?1:-1}function ot(r,e,t){if(!(this instanceof ot))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ot.prototype=new RangeError;ot.prototype.constructor=RangeError;ot.prototype.name="DimensionError";ot.prototype.isDimensionError=!0;function ln(r,e,t){if(!(this instanceof ln))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}ln.prototype=new RangeError;ln.prototype.constructor=RangeError;ln.prototype.name="IndexError";ln.prototype.isIndexError=!0;function rt(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function NA(r,e,t){var n,i=r.length;if(i!==e[t])throw new ot(i,e[t]);if(t<e.length-1){var a=t+1;for(n=0;n<i;n++){var o=r[n];if(!Array.isArray(o))throw new ot(e.length-1,e.length,"<");NA(r[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new ot(e.length+1,e.length,">")}function Dh(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new ot(r.length,0)}else NA(r,e,0)}function Iu(r,e){var t=r.isMatrix?r._size:rt(r),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new ot(i,t[a])})}function Vt(r,e){if(r!==void 0){if(!it(r)||!We(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new ln(r,e)}}function No(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&Et(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(dr(t)&&t.length===0)return!0}return!1}function Mi(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!it(i)||!We(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+at(e)+")")}),(it(r)||nt(r))&&(r=[r]);var n=t!==void 0?t:0;return xh(r,e,0,n),r}function xh(r,e,t,n){var i,a,o=r.length,c=e[t],u=Math.min(o,c);if(r.length=c,t<e.length-1){var s=t+1;for(i=0;i<u;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),xh(a,e,s,n);for(i=u;i<c;i++)a=[],r[i]=a,xh(a,e,s,n)}else{for(i=0;i<u;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=u;i<c;i++)r[i]=n}}function Bu(r,e){var t=dt(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ot(0,n,"!=");e=Ou(e,n);var i=MA(e);if(n!==i)throw new ot(i,n,"!=");try{return Wq(t,e)}catch(a){throw a instanceof ot?new ot(i,n,"!="):a}}function Ou(r,e){var t=MA(r),n=r.slice(),i=-1,a=r.indexOf(i),o=r.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var c=a>=0,u=e%t===0;if(c)if(u)n[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function MA(r){return r.reduce((e,t)=>e*t,1)}function Wq(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=t.length/a,c=0;c<o;c++)n.push(t.slice(c*a,(c+1)*a));t=n}return t}function Es(r,e){for(var t=e||rt(r);Array.isArray(r)&&r.length===1;)r=r[0],t.shift();for(var n=t.length;t[n-1]===1;)n--;return n<t.length&&(r=TA(r,n,0),t.length=n),r}function TA(r,e,t){var n,i;if(t<e){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=TA(r[n],e,a)}else for(;Array.isArray(r);)r=r[0];return r}function yf(r,e,t,n){var i=n||rt(r);if(t)for(var a=0;a<t;a++)r=[r],i.unshift(1);for(r=IA(r,e,0);i.length<e;)i.push(1);return r}function IA(r,e,t){var n,i;if(Array.isArray(r)){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=IA(r[n],e,a)}else for(var o=t;o<e;o++)r=[r];return r}function dt(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function Bn(r,e){return Array.prototype.map.call(r,e)}function Ha(r,e){Array.prototype.forEach.call(r,e)}function bf(r,e){if(rt(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)}function Cs(r,e){if(rt(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t=>e.test(t))}function wh(r,e){return Array.prototype.join.call(r,e)}function pa(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?t++:t=0,e.push({value:r[n],identifier:t});return e}function Fs(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function Wa(r,e){for(var t,n=0,i=0;i<r.length;i++){var a=r[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var c=o?Wa(a,e):e(a);if(t===void 0)t=c;else if(t!==c)return"mixed"}return t}function BA(r,e,t,n){if(n<t){if(r.length!==e.length)throw new ot(r.length,e.length);for(var i=[],a=0;a<r.length;a++)i[a]=BA(r[a],e[a],t,n+1);return i}else return r.concat(e)}function Eh(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return BA(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function Gq(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(m=>m.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var c=e[o],u=n[o],s=0;s<u;s++){var l=i-u+s;c[s]>a[l]&&(a[l]=c[s])}for(var f=0;f<e.length;f++)ku(e[f],a);return a}function ku(r,e){for(var t=e.length,n=r.length,i=0;i<n;i++){var a=t-n+i;if(r[i]<e[a]&&r[i]>1||r[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(e[a]))}}function Ch(r,e){var t=rt(r);if(_i(t,e))return r;ku(t,e);var n=Gq(t,e),i=n.length,a=[...Array(i-t.length).fill(1),...t],o=Zq(r);t.length<i&&(o=Bu(o,a),t=rt(o));for(var c=0;c<i;c++)t[c]<n[c]&&(o=jq(o,n[c],c),t=rt(o));return o}function jq(r,e,t){return Eh(...Array(e).fill(r),t)}function Zq(r){return ur([],r)}function S(r,e,t,n){function i(a){var o=cA(a,e.map(Xq));return Yq(r,e,a),t(o)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function Yq(r,e,t){var n=e.filter(a=>!Jq(a)).every(a=>t[a]!==void 0);if(!n){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Jq(r){return r&&r[0]==="?"}function Xq(r){return r&&r[0]==="?"?r.slice(1):r}function lr(r,e){if(RA(r)&&kA(r,e))return r[e];throw typeof r[e]=="function"&&xf(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Yi(r,e,t){if(RA(r)&&kA(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function OA(r,e){return e in r}function kA(r,e){return!r||typeof r!="object"?!1:je(Qq,e)?!0:!(e in Object.prototype||e in Function.prototype)}function PA(r,e){if(!xf(r,e))throw new Error('No access to method "'+e+'"');return r[e]}function xf(r,e){return r==null||typeof r[e]!="function"||je(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:je(Kq,e)?!0:!(e in Object.prototype||e in Function.prototype)}function RA(r){return typeof r=="object"&&r&&r.constructor===Object}var Qq={length:!0,name:!0},Kq={toString:!0,valueOf:!0,toLocaleString:!0};var Pu=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return lr(this.wrappedObject,e)}set(e,t){return Yi(this.wrappedObject,e,t),this}has(e){return OA(this.wrappedObject,e)}};function Ji(){return new Map}function da(r){if(!r)return Ji();if(Df(r))return r;if(So(r))return new Pu(r);throw new Error("createMap can create maps from objects or Maps")}function LA(r){if(r instanceof Pu)return r.wrappedObject;var e={};for(var t of r.keys()){var n=r.get(t);Yi(e,t,n)}return e}function Df(r){return r?r instanceof Map||r instanceof Pu||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function Fh(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(var i of t)if(i){if(Df(i))for(var a of i.keys())r.set(a,i.get(a));else if(So(i))for(var o of Object.keys(i))r.set(o,i[o])}return r}var qA=function(){return qA=_h.default.create,_h.default},$q=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Nh=S("typed",$q,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:a}=e,o=qA();return o.clear(),o.addTypes([{name:"number",test:it},{name:"Complex",test:Cn},{name:"BigNumber",test:nt},{name:"Fraction",test:ma},{name:"Unit",test:on},{name:"identifier",test:c=>dr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(c)},{name:"string",test:dr},{name:"Chain",test:cf},{name:"Array",test:Et},{name:"Matrix",test:Ge},{name:"DenseMatrix",test:Ao},{name:"SparseMatrix",test:Si},{name:"Range",test:Ds},{name:"Index",test:Ua},{name:"boolean",test:Q2},{name:"ResultSet",test:K2},{name:"Help",test:lf},{name:"function",test:$2},{name:"Date",test:eA},{name:"RegExp",test:tA},{name:"null",test:rA},{name:"undefined",test:nA},{name:"AccessorNode",test:jn},{name:"ArrayNode",test:sn},{name:"AssignmentNode",test:iA},{name:"BlockNode",test:aA},{name:"ConditionalNode",test:oA},{name:"ConstantNode",test:vt},{name:"FunctionNode",test:An},{name:"FunctionAssignmentNode",test:Zi},{name:"IndexNode",test:oi},{name:"Node",test:yt},{name:"ObjectNode",test:za},{name:"OperatorNode",test:or},{name:"ParenthesisNode",test:un},{name:"RangeNode",test:sA},{name:"RelationalNode",test:uA},{name:"SymbolNode",test:Yt},{name:"Map",test:Df},{name:"Object",test:So}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(t||Ah(u),yA(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new t(u)}},{from:"number",to:"Complex",convert:function(u){return n||wf(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||wf(u),new n(u.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||wf(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||Sh(u);var s=new a(u);if(s.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(u){var s=Number(u);if(isNaN(s))throw new Error('Cannot convert "'+u+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(u){t||Ah(u);try{return new t(u)}catch(s){throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(u){a||Sh(u);try{return new a(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||wf(u);try{return new n(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return t||Ah(u),new t(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||Sh(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||eV(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),o.onMismatch=(c,u,s)=>{var l=o.createError(c,u,s);if(["wrongType","mismatch"].includes(l.data.category)&&u.length===1&&Fn(u[0])&&s.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw f.data=l.data,f}throw l},o.onMismatch=(c,u,s)=>{var l=o.createError(c,u,s);if(["wrongType","mismatch"].includes(l.data.category)&&u.length===1&&Fn(u[0])&&s.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw f.data=l.data,f}throw l},o});function Ah(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function wf(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function eV(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Sh(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var tV="ResultSet",rV=[],Mh=S(tV,rV,()=>{function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(e){return new r(e.entries)},r},{isClass:!0});var As=9e15,Ya=1e9,Th="0123456789abcdef",Cf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ff="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ih={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-As,maxE:As,crypto:!1},HA,ha,bt=!0,Sf="[DecimalError] ",Za=Sf+"Invalid argument: ",WA=Sf+"Precision limit exceeded",GA=Sf+"crypto unavailable",jA="[object Decimal]",pn=Math.floor,Ur=Math.pow,nV=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,iV=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,aV=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ZA=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ii=1e7,ht=7,oV=9007199254740991,sV=Cf.length-1,Bh=Ff.length-1,Pe={toStringTag:jA};Pe.absoluteValue=Pe.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),lt(r)};Pe.ceil=function(){return lt(new this.constructor(this),this.e+1,2)};Pe.clampedTo=Pe.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(Za+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};Pe.comparedTo=Pe.cmp=function(r){var e,t,n,i,a=this,o=a.d,c=(r=new a.constructor(r)).d,u=a.s,s=r.s;if(!o||!c)return!u||!s?NaN:u!==s?u:o===c?0:!o^u<0?1:-1;if(!o[0]||!c[0])return o[0]?u:c[0]?-s:0;if(u!==s)return u;if(a.e!==r.e)return a.e>r.e^u<0?1:-1;for(n=o.length,i=c.length,e=0,t=n<i?n:i;e<t;++e)if(o[e]!==c[e])return o[e]>c[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};Pe.cosine=Pe.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+ht,n.rounding=1,t=uV(n,KA(n,t)),n.precision=r,n.rounding=e,lt(ha==2||ha==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};Pe.cubeRoot=Pe.cbrt=function(){var r,e,t,n,i,a,o,c,u,s,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(bt=!1,a=l.s*Ur(l.s*l,1/3),!a||Math.abs(a)==1/0?(t=cn(l.d),r=l.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=Ur(t,1/3),r=pn((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=l.s):n=new f(a.toString()),o=(r=f.precision)+3;;)if(c=n,u=c.times(c).times(c),s=u.plus(l),n=cr(s.plus(l).times(c),s.plus(u),o+2,1),cn(c.d).slice(0,o)===(t=cn(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(lt(c,r+1,0),c.times(c).times(c).eq(l))){n=c;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(lt(n,r+1,1),e=!n.times(n).times(n).eq(l));break}return bt=!0,lt(n,r,f.rounding,e)};Pe.decimalPlaces=Pe.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-pn(this.e/ht))*ht,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};Pe.dividedBy=Pe.div=function(r){return cr(this,new this.constructor(r))};Pe.dividedToIntegerBy=Pe.divToInt=function(r){var e=this,t=e.constructor;return lt(cr(e,new t(r),0,1,1),t.precision,t.rounding)};Pe.equals=Pe.eq=function(r){return this.cmp(r)===0};Pe.floor=function(){return lt(new this.constructor(this),this.e+1,3)};Pe.greaterThan=Pe.gt=function(r){return this.cmp(r)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(r){var e=this.cmp(r);return e==1||e===0};Pe.hyperbolicCosine=Pe.cosh=function(){var r,e,t,n,i,a=this,o=a.constructor,c=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return c;t=o.precision,n=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(r=Math.ceil(i/3),e=(1/Nf(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=Ss(o,1,a.times(e),new o(1),!0);for(var u,s=r,l=new o(8);s--;)u=a.times(a),a=c.minus(u.times(l.minus(u.times(l))));return lt(a,o.precision=t,o.rounding=n,!0)};Pe.hyperbolicSine=Pe.sinh=function(){var r,e,t,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Ss(a,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/Nf(5,r)),i=Ss(a,2,i,i,!0);for(var o,c=new a(5),u=new a(16),s=new a(20);r--;)o=i.times(i),i=i.times(c.plus(o.times(u.times(o).plus(s))))}return a.precision=e,a.rounding=t,lt(i,e,t,!0)};Pe.hyperbolicTangent=Pe.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,cr(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};Pe.inverseCosine=Pe.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,a=t.rounding;return n!==-1?n===0?e.isNeg()?Ti(t,i,a):new t(0):new t(NaN):e.isZero()?Ti(t,i+4,a).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=Ti(t,i+4,a).times(.5),t.precision=i,t.rounding=a,r.minus(e))};Pe.inverseHyperbolicCosine=Pe.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,bt=!1,t=t.times(t).minus(1).sqrt().plus(t),bt=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};Pe.inverseHyperbolicSine=Pe.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,bt=!1,t=t.times(t).plus(1).sqrt().plus(t),bt=!0,n.precision=r,n.rounding=e,t.ln())};Pe.inverseHyperbolicTangent=Pe.atanh=function(){var r,e,t,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=a.precision,e=a.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?lt(new a(i),r,e,!0):(a.precision=t=n-i.e,i=cr(i.plus(1),new a(1).minus(i),t+r,1),a.precision=r+4,a.rounding=1,i=i.ln(),a.precision=r,a.rounding=e,i.times(.5))):new a(NaN)};Pe.inverseSine=Pe.asin=function(){var r,e,t,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,n=a.rounding,e!==-1?e===0?(r=Ti(a,t+4,n).times(.5),r.s=i.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=n,i.times(2)))};Pe.inverseTangent=Pe.atan=function(){var r,e,t,n,i,a,o,c,u,s=this,l=s.constructor,f=l.precision,m=l.rounding;if(s.isFinite()){if(s.isZero())return new l(s);if(s.abs().eq(1)&&f+4<=Bh)return o=Ti(l,f+4,m).times(.25),o.s=s.s,o}else{if(!s.s)return new l(NaN);if(f+4<=Bh)return o=Ti(l,f+4,m).times(.5),o.s=s.s,o}for(l.precision=c=f+10,l.rounding=1,t=Math.min(28,c/ht+2|0),r=t;r;--r)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(bt=!1,e=Math.ceil(c/ht),n=1,u=s.times(s),o=new l(s),i=s;r!==-1;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===a.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),bt=!0,lt(o,l.precision=f,l.rounding=m,!0)};Pe.isFinite=function(){return!!this.d};Pe.isInteger=Pe.isInt=function(){return!!this.d&&pn(this.e/ht)>this.d.length-2};Pe.isNaN=function(){return!this.s};Pe.isNegative=Pe.isNeg=function(){return this.s<0};Pe.isPositive=Pe.isPos=function(){return this.s>0};Pe.isZero=function(){return!!this.d&&this.d[0]===0};Pe.lessThan=Pe.lt=function(r){return this.cmp(r)<0};Pe.lessThanOrEqualTo=Pe.lte=function(r){return this.cmp(r)<1};Pe.logarithm=Pe.log=function(r){var e,t,n,i,a,o,c,u,s=this,l=s.constructor,f=l.precision,m=l.rounding,p=5;if(r==null)r=new l(10),e=!0;else{if(r=new l(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new l(NaN);e=r.eq(10)}if(t=s.d,s.s<0||!t||!t[0]||s.eq(1))return new l(t&&!t[0]?-1/0:s.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(bt=!1,c=f+p,o=ja(s,c),n=e?Af(l,c+10):ja(r,c),u=cr(o,n,c,1),Ru(u.d,i=f,m))do if(c+=10,o=ja(s,c),n=e?Af(l,c+10):ja(r,c),u=cr(o,n,c,1),!a){+cn(u.d).slice(i+1,i+15)+1==1e14&&(u=lt(u,f+1,0));break}while(Ru(u.d,i+=10,m));return bt=!0,lt(u,f,m)};Pe.minus=Pe.sub=function(r){var e,t,n,i,a,o,c,u,s,l,f,m,p=this,h=p.constructor;if(r=new h(r),!p.d||!r.d)return!p.s||!r.s?r=new h(NaN):p.d?r.s=-r.s:r=new h(r.d||p.s!==r.s?p:NaN),r;if(p.s!=r.s)return r.s=-r.s,p.plus(r);if(s=p.d,m=r.d,c=h.precision,u=h.rounding,!s[0]||!m[0]){if(m[0])r.s=-r.s;else if(s[0])r=new h(p);else return new h(u===3?-0:0);return bt?lt(r,c,u):r}if(t=pn(r.e/ht),l=pn(p.e/ht),s=s.slice(),a=l-t,a){for(f=a<0,f?(e=s,a=-a,o=m.length):(e=m,t=l,o=s.length),n=Math.max(Math.ceil(c/ht),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=s.length,o=m.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(s[n]!=m[n]){f=s[n]<m[n];break}a=0}for(f&&(e=s,s=m,m=e,r.s=-r.s),o=s.length,n=m.length-o;n>0;--n)s[o++]=0;for(n=m.length;n>a;){if(s[--n]<m[n]){for(i=n;i&&s[--i]===0;)s[i]=Ii-1;--s[i],s[n]+=Ii}s[n]-=m[n]}for(;s[--o]===0;)s.pop();for(;s[0]===0;s.shift())--t;return s[0]?(r.d=s,r.e=_f(s,t),bt?lt(r,c,u):r):new h(u===3?-0:0)};Pe.modulo=Pe.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?lt(new n(t),n.precision,n.rounding):(bt=!1,n.modulo==9?(e=cr(t,r.abs(),0,3,1),e.s*=r.s):e=cr(t,r,0,n.modulo,1),e=e.times(r),bt=!0,t.minus(e))};Pe.naturalExponential=Pe.exp=function(){return Oh(this)};Pe.naturalLogarithm=Pe.ln=function(){return ja(this)};Pe.negated=Pe.neg=function(){var r=new this.constructor(this);return r.s=-r.s,lt(r)};Pe.plus=Pe.add=function(r){var e,t,n,i,a,o,c,u,s,l,f=this,m=f.constructor;if(r=new m(r),!f.d||!r.d)return!f.s||!r.s?r=new m(NaN):f.d||(r=new m(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(s=f.d,l=r.d,c=m.precision,u=m.rounding,!s[0]||!l[0])return l[0]||(r=new m(f)),bt?lt(r,c,u):r;if(a=pn(f.e/ht),n=pn(r.e/ht),s=s.slice(),i=a-n,i){for(i<0?(t=s,i=-i,o=l.length):(t=l,n=a,o=s.length),a=Math.ceil(c/ht),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=s.length,i=l.length,o-i<0&&(i=o,t=l,l=s,s=t),e=0;i;)e=(s[--i]=s[i]+l[i]+e)/Ii|0,s[i]%=Ii;for(e&&(s.unshift(e),++n),o=s.length;s[--o]==0;)s.pop();return r.d=s,r.e=_f(s,n),bt?lt(r,c,u):r};Pe.precision=Pe.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Za+r);return t.d?(e=YA(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};Pe.round=function(){var r=this,e=r.constructor;return lt(new e(r),r.e+1,e.rounding)};Pe.sine=Pe.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+ht,n.rounding=1,t=cV(n,KA(n,t)),n.precision=r,n.rounding=e,lt(ha>2?t.neg():t,r,e,!0)):new n(NaN)};Pe.squareRoot=Pe.sqrt=function(){var r,e,t,n,i,a,o=this,c=o.d,u=o.e,s=o.s,l=o.constructor;if(s!==1||!c||!c[0])return new l(!s||s<0&&(!c||c[0])?NaN:c?o:1/0);for(bt=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=cn(c),(e.length+u)%2==0&&(e+="0"),s=Math.sqrt(e),u=pn((u+1)/2)-(u<0||u%2),s==1/0?e="5e"+u:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new l(e)):n=new l(s.toString()),t=(u=l.precision)+3;;)if(a=n,n=a.plus(cr(o,a,t+2,1)).times(.5),cn(a.d).slice(0,t)===(e=cn(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(lt(a,u+1,0),a.times(a).eq(o))){n=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(lt(n,u+1,1),r=!n.times(n).eq(o));break}return bt=!0,lt(n,u,l.rounding,r)};Pe.tangent=Pe.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=cr(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,lt(ha==2||ha==4?t.neg():t,r,e,!0)):new n(NaN)};Pe.times=Pe.mul=function(r){var e,t,n,i,a,o,c,u,s,l=this,f=l.constructor,m=l.d,p=(r=new f(r)).d;if(r.s*=l.s,!m||!m[0]||!p||!p[0])return new f(!r.s||m&&!m[0]&&!p||p&&!p[0]&&!m?NaN:!m||!p?r.s/0:r.s*0);for(t=pn(l.e/ht)+pn(r.e/ht),u=m.length,s=p.length,u<s&&(a=m,m=p,p=a,o=u,u=s,s=o),a=[],o=u+s,n=o;n--;)a.push(0);for(n=s;--n>=0;){for(e=0,i=u+n;i>n;)c=a[i]+p[n]*m[i-n-1]+e,a[i--]=c%Ii|0,e=c/Ii|0;a[i]=(a[i]+e)%Ii|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),r.d=a,r.e=_f(a,t),bt?lt(r,f.precision,f.rounding):r};Pe.toBinary=function(r,e){return Ph(this,2,r,e)};Pe.toDecimalPlaces=Pe.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(On(r,0,Ya),e===void 0?e=n.rounding:On(e,0,8),lt(t,r+t.e+1,e))};Pe.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Xi(n,!0):(On(r,0,Ya),e===void 0?e=i.rounding:On(e,0,8),n=lt(new i(n),r+1,e),t=Xi(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};Pe.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?t=Xi(i):(On(r,0,Ya),e===void 0?e=a.rounding:On(e,0,8),n=lt(new a(i),r+i.e+1,e),t=Xi(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Pe.toFraction=function(r){var e,t,n,i,a,o,c,u,s,l,f,m,p=this,h=p.d,d=p.constructor;if(!h)return new d(p);if(s=t=new d(1),n=u=new d(0),e=new d(n),a=e.e=YA(h)-p.e-1,o=a%ht,e.d[0]=Ur(10,o<0?ht+o:o),r==null)r=a>0?e:s;else{if(c=new d(r),!c.isInt()||c.lt(s))throw Error(Za+c);r=c.gt(e)?a>0?e:s:c}for(bt=!1,c=new d(cn(h)),l=d.precision,d.precision=a=h.length*ht*2;f=cr(c,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=s,s=u.plus(f.times(i)),u=i,i=e,e=c.minus(f.times(i)),c=i;return i=cr(r.minus(t),n,0,1,1),u=u.plus(i.times(s)),t=t.plus(i.times(n)),u.s=s.s=p.s,m=cr(s,n,a,1).minus(p).abs().cmp(cr(u,t,a,1).minus(p).abs())<1?[s,n]:[u,t],d.precision=l,bt=!0,m};Pe.toHexadecimal=Pe.toHex=function(r,e){return Ph(this,16,r,e)};Pe.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:On(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(bt=!1,t=cr(t,r,0,e,1).times(r),bt=!0,lt(t)):(r.s=t.s,t=r),t};Pe.toNumber=function(){return+this};Pe.toOctal=function(r,e){return Ph(this,8,r,e)};Pe.toPower=Pe.pow=function(r){var e,t,n,i,a,o,c=this,u=c.constructor,s=+(r=new u(r));if(!c.d||!r.d||!c.d[0]||!r.d[0])return new u(Ur(+c,s));if(c=new u(c),c.eq(1))return c;if(n=u.precision,a=u.rounding,r.eq(1))return lt(c,n,a);if(e=pn(r.e/ht),e>=r.d.length-1&&(t=s<0?-s:s)<=oV)return i=JA(u,c,t,n),r.s<0?new u(1).div(i):lt(i,n,a);if(o=c.s,o<0){if(e<r.d.length-1)return new u(NaN);if(r.d[e]&1||(o=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=o,c}return t=Ur(+c,s),e=t==0||!isFinite(t)?pn(s*(Math.log("0."+cn(c.d))/Math.LN10+c.e+1)):new u(t+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(bt=!1,u.rounding=c.s=1,t=Math.min(12,(e+"").length),i=Oh(r.times(ja(c,n+t)),n),i.d&&(i=lt(i,n+5,1),Ru(i.d,n,a)&&(e=n+10,i=lt(Oh(r.times(ja(c,e+t)),e),e+5,1),+cn(i.d).slice(n+1,n+15)+1==1e14&&(i=lt(i,n+1,0)))),i.s=o,bt=!0,u.rounding=a,lt(i,n,a))};Pe.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Xi(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(On(r,1,Ya),e===void 0?e=i.rounding:On(e,0,8),n=lt(new i(n),r,e),t=Xi(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};Pe.toSignificantDigits=Pe.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(On(r,1,Ya),e===void 0?e=n.rounding:On(e,0,8)),lt(new n(t),r,e)};Pe.toString=function(){var r=this,e=r.constructor,t=Xi(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};Pe.truncated=Pe.trunc=function(){return lt(new this.constructor(this),this.e+1,1)};Pe.valueOf=Pe.toJSON=function(){var r=this,e=r.constructor,t=Xi(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function cn(r){var e,t,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,e=1;e<i;e++)n=r[e]+"",t=ht-n.length,t&&(a+=Ga(t)),a+=n;o=r[e],n=o+"",t=ht-n.length,t&&(a+=Ga(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function On(r,e,t){if(r!==~~r||r<e||r>t)throw Error(Za+r)}function Ru(r,e,t,n){var i,a,o,c;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=ht,i=0):(i=Math.ceil((e+1)/ht),e%=ht),a=Ur(10,ht-e),c=r[i]%a|0,n==null?e<3?(e==0?c=c/100|0:e==1&&(c=c/10|0),o=t<4&&c==99999||t>3&&c==49999||c==5e4||c==0):o=(t<4&&c+1==a||t>3&&c+1==a/2)&&(r[i+1]/a/100|0)==Ur(10,e-2)-1||(c==a/2||c==0)&&(r[i+1]/a/100|0)==0:e<4?(e==0?c=c/1e3|0:e==1?c=c/100|0:e==2&&(c=c/10|0),o=(n||t<4)&&c==9999||!n&&t>3&&c==4999):o=((n||t<4)&&c+1==a||!n&&t>3&&c+1==a/2)&&(r[i+1]/a/1e3|0)==Ur(10,e-3)-1,o}function Ef(r,e,t){for(var n,i=[0],a,o=0,c=r.length;o<c;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Th.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function uV(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/Nf(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=Ss(r,1,e.times(i),new r(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var cr=function(){function r(n,i,a){var o,c=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+c,n[u]=o%a|0,c=o/a|0;return c&&n.unshift(c),n}function e(n,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function t(n,i,a,o){for(var c=0;a--;)n[a]-=c,c=n[a]<i[a]?1:0,n[a]=c*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,c,u){var s,l,f,m,p,h,d,g,v,C,y,D,b,x,w,A,E,F,M,B,k=n.constructor,P=n.s==i.s?1:-1,R=n.d,T=i.d;if(!R||!R[0]||!T||!T[0])return new k(!n.s||!i.s||(R?T&&R[0]==T[0]:!T)?NaN:R&&R[0]==0||!T?P*0:P/0);for(u?(p=1,l=n.e-i.e):(u=Ii,p=ht,l=pn(n.e/p)-pn(i.e/p)),M=T.length,E=R.length,v=new k(P),C=v.d=[],f=0;T[f]==(R[f]||0);f++);if(T[f]>(R[f]||0)&&l--,a==null?(x=a=k.precision,o=k.rounding):c?x=a+(n.e-i.e)+1:x=a,x<0)C.push(1),h=!0;else{if(x=x/p+2|0,f=0,M==1){for(m=0,T=T[0],x++;(f<E||m)&&x--;f++)w=m*u+(R[f]||0),C[f]=w/T|0,m=w%T|0;h=m||f<E}else{for(m=u/(T[0]+1)|0,m>1&&(T=r(T,m,u),R=r(R,m,u),M=T.length,E=R.length),A=M,y=R.slice(0,M),D=y.length;D<M;)y[D++]=0;B=T.slice(),B.unshift(0),F=T[0],T[1]>=u/2&&++F;do m=0,s=e(T,y,M,D),s<0?(b=y[0],M!=D&&(b=b*u+(y[1]||0)),m=b/F|0,m>1?(m>=u&&(m=u-1),d=r(T,m,u),g=d.length,D=y.length,s=e(d,y,g,D),s==1&&(m--,t(d,M<g?B:T,g,u))):(m==0&&(s=m=1),d=T.slice()),g=d.length,g<D&&d.unshift(0),t(y,d,D,u),s==-1&&(D=y.length,s=e(T,y,M,D),s<1&&(m++,t(y,M<D?B:T,D,u))),D=y.length):s===0&&(m++,y=[0]),C[f++]=m,s&&y[0]?y[D++]=R[A]||0:(y=[R[A]],D=1);while((A++<E||y[0]!==void 0)&&x--);h=y[0]!==void 0}C[0]||C.shift()}if(p==1)v.e=l,HA=h;else{for(f=1,m=C[0];m>=10;m/=10)f++;v.e=f+l*p-1,lt(v,c?a+v.e+1:a,o,h)}return v}}();function lt(r,e,t,n){var i,a,o,c,u,s,l,f,m,p=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,c=f[0];c>=10;c/=10)i++;if(a=e-i,a<0)a+=ht,o=e,l=f[m=0],u=l/Ur(10,i-o-1)%10|0;else if(m=Math.ceil((a+1)/ht),c=f.length,m>=c)if(n){for(;c++<=m;)f.push(0);l=u=0,i=1,a%=ht,o=a-ht+1}else break e;else{for(l=c=f[m],i=1;c>=10;c/=10)i++;a%=ht,o=a-ht+i,u=o<0?0:l/Ur(10,i-o-1)%10|0}if(n=n||e<0||f[m+1]!==void 0||(o<0?l:l%Ur(10,i-o-1)),s=t<4?(u||n)&&(t==0||t==(r.s<0?3:2)):u>5||u==5&&(t==4||n||t==6&&(a>0?o>0?l/Ur(10,i-o):0:f[m-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,s?(e-=r.e+1,f[0]=Ur(10,(ht-e%ht)%ht),r.e=-e||0):f[0]=r.e=0,r;if(a==0?(f.length=m,c=1,m--):(f.length=m+1,c=Ur(10,ht-a),f[m]=o>0?(l/Ur(10,i-o)%Ur(10,o)|0)*c:0),s)for(;;)if(m==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=c,c=1;o>=10;o/=10)c++;a!=c&&(r.e++,f[0]==Ii&&(f[0]=1));break}else{if(f[m]+=c,f[m]!=Ii)break;f[m--]=0,c=1}for(a=f.length;f[--a]===0;)f.pop()}return bt&&(r.e>p.maxE?(r.d=null,r.e=NaN):r.e<p.minE&&(r.e=0,r.d=[0])),r}function Xi(r,e,t){if(!r.isFinite())return QA(r);var n,i=r.e,a=cn(r.d),o=a.length;return e?(t&&(n=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ga(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):i<0?(a="0."+Ga(-i-1)+a,t&&(n=t-o)>0&&(a+=Ga(n))):i>=o?(a+=Ga(i+1-o),t&&(n=t-i-1)>0&&(a=a+"."+Ga(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(a+="."),a+=Ga(n))),a}function _f(r,e){var t=r[0];for(e*=ht;t>=10;t/=10)e++;return e}function Af(r,e,t){if(e>sV)throw bt=!0,t&&(r.precision=t),Error(WA);return lt(new r(Cf),e,1,!0)}function Ti(r,e,t){if(e>Bh)throw Error(WA);return lt(new r(Ff),e,t,!0)}function YA(r){var e=r.length-1,t=e*ht+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function Ga(r){for(var e="";r--;)e+="0";return e}function JA(r,e,t,n){var i,a=new r(1),o=Math.ceil(n/ht+4);for(bt=!1;;){if(t%2&&(a=a.times(e),UA(a.d,o)&&(i=!0)),t=pn(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),UA(e.d,o)}return bt=!0,a}function VA(r){return r.d[r.d.length-1]&1}function XA(r,e,t){for(var n,i=new r(e[0]),a=0;++a<e.length;)if(n=new r(e[a]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function Oh(r,e){var t,n,i,a,o,c,u,s=0,l=0,f=0,m=r.constructor,p=m.rounding,h=m.precision;if(!r.d||!r.d[0]||r.e>17)return new m(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:0/0);for(e==null?(bt=!1,u=h):u=e,c=new m(.03125);r.e>-2;)r=r.times(c),f+=5;for(n=Math.log(Ur(2,f))/Math.LN10*2+5|0,u+=n,t=a=o=new m(1),m.precision=u;;){if(a=lt(a.times(r),u,1),t=t.times(++l),c=o.plus(cr(a,t,u,1)),cn(c.d).slice(0,u)===cn(o.d).slice(0,u)){for(i=f;i--;)o=lt(o.times(o),u,1);if(e==null)if(s<3&&Ru(o.d,u-n,p,s))m.precision=u+=10,t=a=c=new m(1),l=0,s++;else return lt(o,m.precision=h,p,bt=!0);else return m.precision=h,o}o=c}}function ja(r,e){var t,n,i,a,o,c,u,s,l,f,m,p=1,h=10,d=r,g=d.d,v=d.constructor,C=v.rounding,y=v.precision;if(d.s<0||!g||!g[0]||!d.e&&g[0]==1&&g.length==1)return new v(g&&!g[0]?-1/0:d.s!=1?NaN:g?0:d);if(e==null?(bt=!1,l=y):l=e,v.precision=l+=h,t=cn(g),n=t.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)d=d.times(r),t=cn(d.d),n=t.charAt(0),p++;a=d.e,n>1?(d=new v("0."+t),a++):d=new v(n+"."+t.slice(1))}else return s=Af(v,l+2,y).times(a+""),d=ja(new v(n+"."+t.slice(1)),l-h).plus(s),v.precision=y,e==null?lt(d,y,C,bt=!0):d;for(f=d,u=o=d=cr(d.minus(1),d.plus(1),l,1),m=lt(d.times(d),l,1),i=3;;){if(o=lt(o.times(m),l,1),s=u.plus(cr(o,new v(i),l,1)),cn(s.d).slice(0,l)===cn(u.d).slice(0,l))if(u=u.times(2),a!==0&&(u=u.plus(Af(v,l+2,y).times(a+""))),u=cr(u,new v(p),l,1),e==null)if(Ru(u.d,l-h,C,c))v.precision=l+=h,s=o=d=cr(f.minus(1),f.plus(1),l,1),m=lt(d.times(d),l,1),i=c=1;else return lt(u,v.precision=y,C,bt=!0);else return v.precision=y,u;u=s,i+=2}}function QA(r){return String(r.s*r.s/0)}function kh(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%ht,t<0&&(n+=ht),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=ht;n<i;)r.d.push(+e.slice(n,n+=ht));e=e.slice(n),n=ht-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),bt&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function lV(r,e){var t,n,i,a,o,c,u,s,l;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),ZA.test(e))return kh(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(iV.test(e))t=16,e=e.toLowerCase();else if(nV.test(e))t=2;else if(aV.test(e))t=8;else throw Error(Za+e);for(a=e.search(/p/i),a>0?(u=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=r.constructor,o&&(e=e.replace(".",""),c=e.length,a=c-a,i=JA(n,new n(t),a,a*2)),s=Ef(e,t,Ii),l=s.length-1,a=l;s[a]===0;--a)s.pop();return a<0?new n(r.s*0):(r.e=_f(s,l),r.d=s,bt=!1,o&&(r=cr(r,i,c*4)),u&&(r=r.times(Math.abs(u)<54?Ur(2,u):Lu.pow(2,u))),bt=!0,r)}function cV(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:Ss(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/Nf(5,t)),e=Ss(r,2,e,e);for(var i,a=new r(5),o=new r(16),c=new r(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(c))));return e}function Ss(r,e,t,n,i){var a,o,c,u,s=1,l=r.precision,f=Math.ceil(l/ht);for(bt=!1,u=t.times(t),c=new r(n);;){if(o=cr(c.times(u),new r(e++*e++),l,1),c=i?n.plus(o):n.minus(o),n=cr(o.times(u),new r(e++*e++),l,1),o=c.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===c.d[a]&&a--;);if(a==-1)break}a=c,c=n,n=o,o=a,s++}return bt=!0,o.d.length=f+1,o}function Nf(r,e){for(var t=r;--e;)t*=r;return t}function KA(r,e){var t,n=e.s<0,i=Ti(r,r.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return ha=n?4:1,e;if(t=e.divToInt(i),t.isZero())ha=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return ha=VA(t)?n?2:3:n?4:1,e;ha=VA(t)?n?1:4:n?3:2}return e.minus(i).abs()}function Ph(r,e,t,n){var i,a,o,c,u,s,l,f,m,p=r.constructor,h=t!==void 0;if(h?(On(t,1,Ya),n===void 0?n=p.rounding:On(n,0,8)):(t=p.precision,n=p.rounding),!r.isFinite())l=QA(r);else{for(l=Xi(r),o=l.indexOf("."),h?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(l=l.replace(".",""),m=new p(1),m.e=l.length-o,m.d=Ef(Xi(m),10,i),m.e=m.d.length),f=Ef(l,10,i),a=u=f.length;f[--u]==0;)f.pop();if(!f[0])l=h?"0p+0":"0";else{if(o<0?a--:(r=new p(r),r.d=f,r.e=a,r=cr(r,m,t,n,0,i),f=r.d,a=r.e,s=HA),o=f[t],c=i/2,s=s||f[t+1]!==void 0,s=n<4?(o!==void 0||s)&&(n===0||n===(r.s<0?3:2)):o>c||o===c&&(n===4||s||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,s)for(;++f[--t]>i-1;)f[t]=0,t||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,l="";o<u;o++)l+=Th.charAt(f[o]);if(h){if(u>1)if(e==16||e==8){for(o=e==16?4:3,--u;u%o;u++)l+="0";for(f=Ef(l,i,e),u=f.length;!f[u-1];--u);for(o=1,l="1.";o<u;o++)l+=Th.charAt(f[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)l="0"+l;l="0."+l}else if(++a>u)for(a-=u;a--;)l+="0";else a<u&&(l=l.slice(0,a)+"."+l.slice(a))}l=(e==16?"0x":e==2?"0b":e==8?"0o":"")+l}return r.s<0?"-"+l:l}function UA(r,e){if(r.length>e)return r.length=e,!0}function fV(r){return new this(r).abs()}function mV(r){return new this(r).acos()}function pV(r){return new this(r).acosh()}function dV(r,e){return new this(r).plus(e)}function hV(r){return new this(r).asin()}function gV(r){return new this(r).asinh()}function vV(r){return new this(r).atan()}function yV(r){return new this(r).atanh()}function bV(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,a=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=Ti(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?Ti(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=Ti(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(cr(r,e,a,1)),e=Ti(this,a,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(cr(r,e,a,1)),t}function xV(r){return new this(r).cbrt()}function DV(r){return lt(r=new this(r),r.e+1,2)}function wV(r,e,t){return new this(r).clamp(e,t)}function EV(r){if(!r||typeof r!="object")throw Error(Sf+"Object expected");var e,t,n,i=r.defaults===!0,a=["precision",1,Ya,"rounding",0,8,"toExpNeg",-As,0,"toExpPos",0,As,"maxE",0,As,"minE",-As,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=Ih[t]),(n=r[t])!==void 0)if(pn(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(Za+t+": "+n);if(t="crypto",i&&(this[t]=Ih[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(GA);else this[t]=!1;else throw Error(Za+t+": "+n);return this}function CV(r){return new this(r).cos()}function FV(r){return new this(r).cosh()}function $A(r){var e,t,n;function i(a){var o,c,u,s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,zA(a)){s.s=a.s,bt?!a.d||a.e>i.maxE?(s.e=NaN,s.d=null):a.e<i.minE?(s.e=0,s.d=[0]):(s.e=a.e,s.d=a.d.slice()):(s.e=a.e,s.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){s.s=1/a<0?-1:1,s.e=0,s.d=[0];return}if(a<0?(a=-a,s.s=-1):s.s=1,a===~~a&&a<1e7){for(o=0,c=a;c>=10;c/=10)o++;bt?o>i.maxE?(s.e=NaN,s.d=null):o<i.minE?(s.e=0,s.d=[0]):(s.e=o,s.d=[a]):(s.e=o,s.d=[a]);return}else if(a*0!==0){a||(s.s=NaN),s.e=NaN,s.d=null;return}return kh(s,a.toString())}else if(u!=="string")throw Error(Za+a);return(c=a.charCodeAt(0))===45?(a=a.slice(1),s.s=-1):(c===43&&(a=a.slice(1)),s.s=1),ZA.test(a)?kh(s,a):lV(s,a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=EV,i.clone=$A,i.isDecimal=zA,i.abs=fV,i.acos=mV,i.acosh=pV,i.add=dV,i.asin=hV,i.asinh=gV,i.atan=vV,i.atanh=yV,i.atan2=bV,i.cbrt=xV,i.ceil=DV,i.clamp=wV,i.cos=CV,i.cosh=FV,i.div=AV,i.exp=SV,i.floor=_V,i.hypot=NV,i.ln=MV,i.log=TV,i.log10=BV,i.log2=IV,i.max=OV,i.min=kV,i.mod=PV,i.mul=RV,i.pow=LV,i.random=qV,i.round=VV,i.sign=UV,i.sin=zV,i.sinh=HV,i.sqrt=WV,i.sub=GV,i.sum=jV,i.tan=ZV,i.tanh=YV,i.trunc=JV,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function AV(r,e){return new this(r).div(e)}function SV(r){return new this(r).exp()}function _V(r){return lt(r=new this(r),r.e+1,3)}function NV(){var r,e,t=new this(0);for(bt=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return bt=!0,new this(1/0);t=e}return bt=!0,t.sqrt()}function zA(r){return r instanceof Lu||r&&r.toStringTag===jA||!1}function MV(r){return new this(r).ln()}function TV(r,e){return new this(r).log(e)}function IV(r){return new this(r).log(2)}function BV(r){return new this(r).log(10)}function OV(){return XA(this,arguments,"lt")}function kV(){return XA(this,arguments,"gt")}function PV(r,e){return new this(r).mod(e)}function RV(r,e){return new this(r).mul(e)}function LV(r,e){return new this(r).pow(e)}function qV(r){var e,t,n,i,a=0,o=new this(1),c=[];if(r===void 0?r=this.precision:On(r,1,Ya),n=Math.ceil(r/ht),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:c[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(c.push(i%1e7),a+=4);a=n/4}else throw Error(GA);else for(;a<n;)c[a++]=Math.random()*1e7|0;for(n=c[--a],r%=ht,n&&r&&(i=Ur(10,ht-r),c[a]=(n/i|0)*i);c[a]===0;a--)c.pop();if(a<0)t=0,c=[0];else{for(t=-1;c[0]===0;t-=ht)c.shift();for(n=1,i=c[0];i>=10;i/=10)n++;n<ht&&(t-=ht-n)}return o.e=t,o.d=c,o}function VV(r){return lt(r=new this(r),r.e+1,this.rounding)}function UV(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function zV(r){return new this(r).sin()}function HV(r){return new this(r).sinh()}function WV(r){return new this(r).sqrt()}function GV(r,e){return new this(r).sub(e)}function jV(){var r=0,e=arguments,t=new this(e[r]);for(bt=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return bt=!0,lt(t,this.precision,this.rounding)}function ZV(r){return new this(r).tan()}function YV(r){return new this(r).tanh()}function JV(r){return lt(r=new this(r),r.e+1,1)}Pe[Symbol.for("nodejs.util.inspect.custom")]=Pe.toString;Pe[Symbol.toStringTag]="Decimal";var Lu=Pe.constructor=$A(Ih);Cf=new Lu(Cf);Ff=new Lu(Ff);var Mo=Lu;var XV="BigNumber",QV=["?on","config"],Rh=S(XV,QV,r=>{var{on:e,config:t}=r,n=Mo.clone({precision:t.precision,modulo:Mo.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var jr=fr(tS(),1);var KV="Complex",$V=[],qh=S(KV,$V,()=>(Object.defineProperty(jr.default,"name",{value:"Complex"}),jr.default.prototype.constructor=jr.default,jr.default.prototype.type="Complex",jr.default.prototype.isComplex=!0,jr.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},jr.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},jr.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=Ni(this.re,r),a=Ni(this.im,r),o=it(r)?r:r?r.precision:null;if(o!==null){var c=Math.pow(10,-o);Math.abs(n/t)<c&&(n=0),Math.abs(t/n)<c&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},jr.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,jr.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(it(t)){if(on(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),it(n))return new jr.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},jr.default.prototype.valueOf=jr.default.prototype.toString,jr.default.fromJSON=function(r){return new jr.default(r)},jr.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},jr.default),{isClass:!0});var Qi=fr(nS(),1);var eU="Fraction",tU=[],Uh=S(eU,tU,()=>(Object.defineProperty(Qi.default,"name",{value:"Fraction"}),Qi.default.prototype.constructor=Qi.default,Qi.default.prototype.type="Fraction",Qi.default.prototype.isFraction=!0,Qi.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Qi.default.fromJSON=function(r){return new Qi.default(r)},Qi.default),{isClass:!0});var rU="Range",nU=[],zh=S(rU,nU,()=>{function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=n!=null;if(i){if(nt(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(nt(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(o){if(nt(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(n):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),n=t.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var e=0,t=this.start,n=this.step,i=this.end,a=i-t;return si(n)===si(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},r.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},r.prototype.forEach=function(e){var t=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;t<i;)e(t,[a],this),t+=n,a++;else if(n<0)for(;t>i;)e(t,[a],this),t+=n,a++},r.prototype.map=function(e){var t=[];return this.forEach(function(n,i,a){t[i[0]]=e(n,i,a)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=Ni(this.start,e);return this.step!==1&&(t+=":"+Ni(this.step,e)),t+=":"+Ni(this.end,e),t},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r},{isClass:!0});var iU="Matrix",aU=[],Hh=S(iU,aU,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function iS(r){var e=0,t=1,n=Object.create(null),i=Object.create(null),a=0,o=function(u){var s=i[u];if(s&&(delete n[s],delete i[u],--e,t===s)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++t););}};return r=Math.abs(r),{hit:function(u){var s=i[u],l=++a;if(n[l]=u,i[u]=l,!s)return++e,e<=r?void 0:(u=n[t],o(u),u);if(delete n[s],t===s)for(;!Object.prototype.hasOwnProperty.call(n,++t););},delete:o,clear:function(){e=a=0,t=1,n=Object.create(null),i=Object.create(null)}}}function To(r){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t==null?Number.POSITIVE_INFINITY:t,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:iS(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var c=r.apply(r,i);return n.cache.values.set(o,c),n.cache.values.delete(n.cache.lru.hit(o)),c}}function Mf(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var oU="DenseMatrix",sU=["Matrix"],Wh=S(oU,sU,r=>{var{Matrix:e}=r;function t(l,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!dr(f))throw new Error("Invalid datatype: "+f);if(Ge(l))l.type==="DenseMatrix"?(this._data=tt(l._data),this._size=tt(l._size),this._datatype=f||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=f||l._datatype);else if(l&&Et(l.data)&&Et(l.size))this._data=l.data,this._size=l.size,Dh(this._data,this._size),this._datatype=f||l.datatype;else if(Et(l))this._data=s(l),this._size=rt(this._data),Dh(this._data,this._size),this._datatype=f;else{if(l)throw new TypeError("Unsupported type of data ("+Dt(l)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(l,f){return new t(l,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Wa(this._data,Dt)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(l,f){return new t(l,f)},t.prototype.subset=function(l,f,m){switch(arguments.length){case 1:return n(this,l);case 2:case 3:return a(this,l,f,m);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(l){if(!Et(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new ot(l.length,this._size.length);for(var f=0;f<l.length;f++)Vt(l[f],this._size[f]);for(var m=this._data,p=0,h=l.length;p<h;p++){var d=l[p];Vt(d,m.length),m=m[d]}return m},t.prototype.set=function(l,f,m){if(!Et(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new ot(l.length,this._size.length,"<");var p,h,d,g=l.map(function(C){return C+1});u(this,g,m);var v=this._data;for(p=0,h=l.length-1;p<h;p++)d=l[p],Vt(d,v.length),v=v[d];return d=l[l.length-1],Vt(d,v.length),v[d]=f,this};function n(l,f){if(!Ua(f))throw new TypeError("Invalid index");var m=f.isScalar();if(m)return l.get(f.min());var p=f.size();if(p.length!==l._size.length)throw new ot(p.length,l._size.length);for(var h=f.min(),d=f.max(),g=0,v=l._size.length;g<v;g++)Vt(h[g],l._size[g]),Vt(d[g],l._size[g]);return new t(i(l._data,f,p.length,0),l._datatype)}function i(l,f,m,p){var h=p===m-1,d=f.dimension(p);return h?d.map(function(g){return Vt(g,l.length),l[g]}).valueOf():d.map(function(g){Vt(g,l.length);var v=l[g];return i(v,f,m,p+1)}).valueOf()}function a(l,f,m,p){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),g;if(Ge(m)?(g=m.size(),m=m.valueOf()):g=rt(m),d){if(g.length!==0)throw new TypeError("Scalar expected");l.set(f.min(),m,p)}else{if(!_i(g,h))try{g.length===0?m=Ch([m],h):m=Ch(m,h),g=rt(m)}catch(x){}if(h.length<l._size.length)throw new ot(h.length,l._size.length,"<");if(g.length<h.length){for(var v=0,C=0;h[v]===1&&g[v]===1;)v++;for(;h[v]===1;)C++,v++;m=yf(m,h.length,C,g)}if(!_i(h,g))throw new ot(h,g,">");var y=f.max().map(function(x){return x+1});u(l,y,p);var D=h.length,b=0;o(l._data,f,m,D,b)}return l}function o(l,f,m,p,h){var d=h===p-1,g=f.dimension(h);d?g.forEach(function(v,C){Vt(v),l[v]=m[C[0]]}):g.forEach(function(v,C){Vt(v),o(l[v],f,m[C[0]],p,h+1)})}t.prototype.resize=function(l,f,m){if(!Fn(l))throw new TypeError("Array or Matrix expected");var p=l.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=m?this.clone():this;return c(h,p,f)};function c(l,f,m){if(f.length===0){for(var p=l._data;Et(p);)p=p[0];return p}return l._size=f.slice(0),l._data=Mi(l._data,l._size,m),l}t.prototype.reshape=function(l,f){var m=f?this.clone():this;m._data=Bu(m._data,l);var p=m._size.reduce((h,d)=>h*d);return m._size=Ou(l,p),m};function u(l,f,m){for(var p=l._size.slice(0),h=!1;p.length<f.length;)p.push(0),h=!0;for(var d=0,g=f.length;d<g;d++)f[d]>p[d]&&(p[d]=f[d],h=!0);h&&c(l,p,m)}t.prototype.clone=function(){var l=new t({data:tt(this._data),size:tt(this._size),datatype:this._datatype});return l},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(l){var f=this,m=Mf(l),p=function g(v,C){return Et(v)?v.map(function(y,D){return g(y,C.concat(D))}):m===1?l(v):m===2?l(v,C):l(v,C,f)},h=p(this._data,[]),d=this._datatype!==void 0?Wa(h,Dt):void 0;return new t(h,d)},t.prototype.forEach=function(l){var f=this,m=function p(h,d){Et(h)?h.forEach(function(g,v){p(g,d.concat(v))}):l(h,d,f)};m(this._data,[])},t.prototype[Symbol.iterator]=function*(){var l=function*f(m,p){if(Et(m))for(var h=0;h<m.length;h++)yield*f(m[h],p.concat(h));else yield{value:m,index:p}};yield*l(this._data,[])},t.prototype.rows=function(){var l=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var m=this._data;for(var p of m)l.push(new t([p],this._datatype));return l},t.prototype.columns=function(){var l=this,f=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,h=function(v){var C=p.map(y=>[y[v]]);f.push(new t(C,l._datatype))},d=0;d<m[1];d++)h(d);return f},t.prototype.toArray=function(){return tt(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(l){return at(this._data,l)},t.prototype.toString=function(){return at(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(l){if(l){if(nt(l)&&(l=l.toNumber()),!it(l)||!We(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var f=l>0?l:0,m=l<0?-l:0,p=this._size[0],h=this._size[1],d=Math.min(p-m,h-f),g=[],v=0;v<d;v++)g[v]=this._data[v+m][v+f];return new t({data:g,size:[d],datatype:this._datatype})},t.diagonal=function(l,f,m,p){if(!Et(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(w){if(nt(w)&&(w=w.toNumber()),!it(w)||!We(w)||w<1)throw new Error("Size values must be positive integers");return w}),m){if(nt(m)&&(m=m.toNumber()),!it(m)||!We(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var h=m>0?m:0,d=m<0?-m:0,g=l[0],v=l[1],C=Math.min(g-d,v-h),y;if(Et(f)){if(f.length!==C)throw new Error("Invalid value array length");y=function(A){return f[A]}}else if(Ge(f)){var D=f.size();if(D.length!==1||D[0]!==C)throw new Error("Invalid matrix length");y=function(A){return f.get([A])}}else y=function(){return f};p||(p=nt(y(0))?y(0).mul(0):0);var b=[];if(l.length>0){b=Mi(b,l,p);for(var x=0;x<C;x++)b[x+d][x+h]=y(x)}return new t({data:b,size:[g,v]})},t.fromJSON=function(l){return new t(l)},t.prototype.swapRows=function(l,f){if(!it(l)||!We(l)||!it(f)||!We(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Vt(l,this._size[0]),Vt(f,this._size[0]),t._swapRows(l,f,this._data),this},t._swapRows=function(l,f,m){var p=m[l];m[l]=m[f],m[f]=p};function s(l){return Ge(l)?s(l.valueOf()):Et(l)?l.map(s):l}return t},{isClass:!0});var aS="clone",uU=["typed"],Gh=S(aS,uU,r=>{var{typed:e}=r;return e(aS,{any:tt})});function Tf(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}function ui(r){for(var e=0;e<r.length;e++)if(Fn(r[e]))return!0;return!1}function dn(r,e){Ge(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var i=r[t];Array.isArray(i)?dn(i,e):e(i)}}function Je(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return Je(n,e,t)}):e(r)}function Ja(r,e,t){var n=Array.isArray(r)?rt(r):r.size();if(e<0||e>=n.length)throw new ln(e,n.length);return Ge(r)?r.create(If(r.valueOf(),e,t)):If(r,e,t)}function If(r,e,t){var n,i,a,o;if(e<=0)if(Array.isArray(r[0])){for(o=Tf(r),i=[],n=0;n<o.length;n++)i[n]=If(o[n],e-1,t);return i}else{for(a=r[0],n=1;n<r.length;n++)a=t(a,r[n]);return a}else{for(i=[],n=0;n<r.length;n++)i[n]=If(r[n],e-1,t);return i}}function jh(r,e,t,n,i,a,o,c,u,s,l){var f=r._values,m=r._index,p=r._ptr,h,d,g,v;if(n)for(d=p[e],g=p[e+1],h=d;h<g;h++)v=m[h],t[v]!==a?(t[v]=a,o.push(v),s?(n[v]=u?c(f[h],l):c(l,f[h]),i[v]=a):n[v]=f[h]):(n[v]=u?c(f[h],n[v]):c(n[v],f[h]),i[v]=a);else for(d=p[e],g=p[e+1],h=d;h<g;h++)v=m[h],t[v]!==a?(t[v]=a,o.push(v)):i[v]=a}var oS="isInteger",lU=["typed"],Zh=S(oS,lU,r=>{var{typed:e}=r;return e(oS,{number:We,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var kn="number",ga="number, number";function Yh(r){return Math.abs(r)}Yh.signature=kn;function Jh(r,e){return r+e}Jh.signature=ga;function Xh(r,e){return r-e}Xh.signature=ga;function Qh(r,e){return r*e}Qh.signature=ga;function cU(r,e){return r/e}cU.signature=ga;function Kh(r){return-r}Kh.signature=kn;function $h(r){return r}$h.signature=kn;function _s(r){return hA(r)}_s.signature=kn;function eg(r){return r*r*r}eg.signature=kn;function tg(r){return Math.exp(r)}tg.signature=kn;function rg(r){return gA(r)}rg.signature=kn;function fU(r,e){if(!We(r)||!We(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}fU.signature=ga;function ng(r,e){if(!We(r)||!We(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}ng.signature=ga;function sS(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function ig(r){return dA(r)}ig.signature=kn;function ag(r){return pA(r)}ag.signature=kn;function mU(r){return mf(r)}mU.signature=kn;function pU(r,e){return e===0?r:r-e*Math.floor(r/e)}pU.signature=ga;function og(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return t?1/0:0;if(!isFinite(r))return t?0:r;var n=Math.pow(Math.abs(r),1/e);return n=r<0?-n:n,t?1/n:n}function Bf(r){return si(r)}Bf.signature=kn;function dU(r){return Math.sqrt(r)}dU.signature=kn;function sg(r){return r*r}sg.signature=kn;function ug(r,e){var t,n,i,a=0,o=1,c=1,u=0;if(!We(r)||!We(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=a,a=o-n*a,o=t,t=c,c=u-n*c,u=t,r=e,e=i;var s;return r<0?s=[-r,-o,-u]:s=[r,r?o:0,u],s}ug.signature=ga;function lg(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}lg.signature=ga;function cg(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!We(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(yh(r,e))}function hU(r){return Math.abs(r)}hU.signature=kn;var gU="number",Ns="number, number";function fg(r,e){if(!We(r)||!We(e))throw new Error("Integers expected in function bitAnd");return r&e}fg.signature=Ns;function mg(r){if(!We(r))throw new Error("Integer expected in function bitNot");return~r}mg.signature=gU;function pg(r,e){if(!We(r)||!We(e))throw new Error("Integers expected in function bitOr");return r|e}pg.signature=Ns;function dg(r,e){if(!We(r)||!We(e))throw new Error("Integers expected in function bitXor");return r^e}dg.signature=Ns;function hg(r,e){if(!We(r)||!We(e))throw new Error("Integers expected in function leftShift");return r<<e}hg.signature=Ns;function gg(r,e){if(!We(r)||!We(e))throw new Error("Integers expected in function rightArithShift");return r>>e}gg.signature=Ns;function vg(r,e){if(!We(r)||!We(e))throw new Error("Integers expected in function rightLogShift");return r>>>e}vg.signature=Ns;function Zn(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return Zn(r,t)*Zn(t+1,e)}function yg(r,e){if(!We(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!We(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,n=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,c=i;c<=r;++c)for(n*=c;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=Zn(a,o)),n}yg.signature="number, number";var uS=Math.PI,lS=2*Math.PI,cS=Math.E,fS=1.618033988749895;var vU="number",bg="number, number";function xg(r){return!r}xg.signature=vU;function Dg(r,e){return!!(r||e)}Dg.signature=bg;function wg(r,e){return!!r!=!!e}wg.signature=bg;function Eg(r,e){return!!(r&&e)}Eg.signature=bg;function qu(r){var e;if(We(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:Zn(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*qu(1-r));if(r>=171.35)return 1/0;if(r>85){var t=r*r,n=t*r,i=n*r,a=i*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*t)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*r))}--r,e=Io[0];for(var o=1;o<Io.length;++o)e+=Io[o]/(r+o);var c=r+Cg+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,r+.5)*Math.exp(-c)*e}qu.signature="number";var Cg=4.7421875,Io=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Fg=.9189385332046728,yU=5,bU=7,mS=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Vu(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-Vu(1-r);r=r-1;for(var e=r+yU+.5,t=mS[0],n=bU-1;n>=1;n--)t+=mS[n]/(r+n);return Fg+(r+.5)*Math.log(e)-e+Math.log(t)}Vu.signature="number";var hr="number",xU="number, number";function DU(r){return Math.acos(r)}DU.signature=hr;function Ag(r){return bA(r)}Ag.signature=hr;function Sg(r){return Math.atan(1/r)}Sg.signature=hr;function _g(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}_g.signature=hr;function Ng(r){return Math.asin(1/r)}Ng.signature=hr;function Mg(r){var e=1/r;return Math.log(e+Math.sqrt(e*e+1))}Mg.signature=hr;function Tg(r){return Math.acos(1/r)}Tg.signature=hr;function Ig(r){var e=1/r,t=Math.sqrt(e*e-1);return Math.log(t+e)}Ig.signature=hr;function wU(r){return Math.asin(r)}wU.signature=hr;function Bg(r){return xA(r)}Bg.signature=hr;function EU(r){return Math.atan(r)}EU.signature=hr;function CU(r,e){return Math.atan2(r,e)}CU.signature=xU;function Og(r){return DA(r)}Og.signature=hr;function FU(r){return Math.cos(r)}FU.signature=hr;function AU(r){return hf(r)}AU.signature=hr;function kg(r){return 1/Math.tan(r)}kg.signature=hr;function Pg(r){var e=Math.exp(2*r);return(e+1)/(e-1)}Pg.signature=hr;function Rg(r){return 1/Math.sin(r)}Rg.signature=hr;function Lg(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*si(r)}Lg.signature=hr;function qg(r){return 1/Math.cos(r)}qg.signature=hr;function Vg(r){return 2/(Math.exp(r)+Math.exp(-r))}Vg.signature=hr;function SU(r){return Math.sin(r)}SU.signature=hr;function Ug(r){return wA(r)}Ug.signature=hr;function _U(r){return Math.tan(r)}_U.signature=hr;function NU(r){return gf(r)}NU.signature=hr;var Uu="number";function MU(r){return We(r)}MU.signature=Uu;function zg(r){return r<0}zg.signature=Uu;function Hg(r){return r>0}Hg.signature=Uu;function Wg(r){return r===0}Wg.signature=Uu;function Gg(r){return Number.isNaN(r)}Gg.signature=Uu;var pS="isNegative",TU=["typed"],jg=S(pS,TU,r=>{var{typed:e}=r;return e(pS,{number:zg,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var dS="isNumeric",IU=["typed"],Zg=S(dS,IU,r=>{var{typed:e}=r;return e(dS,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var hS="hasNumericValue",BU=["typed","isNumeric"],Yg=S(hS,BU,r=>{var{typed:e,isNumeric:t}=r;return e(hS,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var gS="isPositive",OU=["typed"],Jg=S(gS,OU,r=>{var{typed:e}=r;return e(gS,{number:Hg,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var vS="isZero",kU=["typed"],Xg=S(vS,kU,r=>{var{typed:e}=r;return e(vS,{number:Wg,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var yS="isNaN",PU=["typed"],Qg=S(yS,PU,r=>{var{typed:e}=r;return e(yS,{number:Gg,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return Je(n,Number.isNaN)}})});var bS="typeOf",RU=["typed"],Kg=S(bS,RU,r=>{var{typed:e}=r;return e(bS,{any:Dt})});function Zr(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var n=r.minus(e).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return n.lte(i.times(t))}return!1}function xS(r,e,t){return Ar(r.re,e.re,t)&&Ar(r.im,e.im,t)}var li=S("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var Of="equalScalar",LU=["typed","config"],$g=S(Of,LU,r=>{var{typed:e,config:t}=r,n=li({typed:e});return e(Of,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Ar(a,o,t.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Zr(a,o,t.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return xS(a,o,t.epsilon)}},n)}),Kpe=S(Of,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Of,{"number, number":function(i,a){return Ar(i,a,t.epsilon)}})});var qU="SparseMatrix",VU=["typed","equalScalar","Matrix"],ev=S(qU,VU,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(d,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!dr(g))throw new Error("Invalid datatype: "+g);if(Ge(d))a(this,d,g);else if(d&&Et(d.index)&&Et(d.ptr)&&Et(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=g||d.datatype;else if(Et(d))o(this,d,g);else{if(d)throw new TypeError("Unsupported type of data ("+Dt(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(d,g,v){g.type==="SparseMatrix"?(d._values=g._values?tt(g._values):void 0,d._index=tt(g._index),d._ptr=tt(g._ptr),d._size=tt(g._size),d._datatype=v||g._datatype):o(d,g.valueOf(),v||g._datatype)}function o(d,g,v){d._values=[],d._index=[],d._ptr=[],d._datatype=v;var C=g.length,y=0,D=t,b=0;if(dr(v)&&(D=e.find(t,[v,v])||t,b=e.convert(0,v)),C>0){var x=0;do{d._ptr.push(d._index.length);for(var w=0;w<C;w++){var A=g[w];if(Et(A)){if(x===0&&y<A.length&&(y=A.length),x<A.length){var E=A[x];D(E,b)||(d._values.push(E),d._index.push(w))}}else x===0&&y<1&&(y=1),D(A,b)||(d._values.push(A),d._index.push(w))}x++}while(x<y)}d._ptr.push(d._index.length),d._size=[C,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,g){return new i(d,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Wa(this._values,Dt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,g){return new i(d,g)},i.prototype.density=function(){var d=this._size[0],g=this._size[1];return d!==0&&g!==0?this._index.length/(d*g):0},i.prototype.subset=function(d,g,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,d);case 2:case 3:return u(this,d,g,v);default:throw new SyntaxError("Wrong number of arguments")}};function c(d,g){if(!Ua(g))throw new TypeError("Invalid index");var v=g.isScalar();if(v)return d.get(g.min());var C=g.size();if(C.length!==d._size.length)throw new ot(C.length,d._size.length);var y,D,b,x,w=g.min(),A=g.max();for(y=0,D=d._size.length;y<D;y++)Vt(w[y],d._size[y]),Vt(A[y],d._size[y]);var E=d._values,F=d._index,M=d._ptr,B=g.dimension(0),k=g.dimension(1),P=[],R=[];B.forEach(function(O,J){R[O]=J[0],P[O]=!0});var T=E?[]:void 0,I=[],V=[];return k.forEach(function(O){for(V.push(I.length),b=M[O],x=M[O+1];b<x;b++)y=F[b],P[y]===!0&&(I.push(R[y]),T&&T.push(E[b]))}),V.push(I.length),new i({values:T,index:I,ptr:V,size:C,datatype:d._datatype})}function u(d,g,v,C){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var y=g.size(),D=g.isScalar(),b;if(Ge(v)?(b=v.size(),v=v.toArray()):b=rt(v),D){if(b.length!==0)throw new TypeError("Scalar expected");d.set(g.min(),v,C)}else{if(y.length!==1&&y.length!==2)throw new ot(y.length,d._size.length,"<");if(b.length<y.length){for(var x=0,w=0;y[x]===1&&b[x]===1;)x++;for(;y[x]===1;)w++,x++;v=yf(v,y.length,w,b)}if(!_i(y,b))throw new ot(y,b,">");if(y.length===1){var A=g.dimension(0);A.forEach(function(M,B){Vt(M),d.set([M,0],v[B[0]],C)})}else{var E=g.dimension(0),F=g.dimension(1);E.forEach(function(M,B){Vt(M),F.forEach(function(k,P){Vt(k),d.set([M,k],v[B[0]][P[0]],C)})})}}return d}i.prototype.get=function(d){if(!Et(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=d[0],v=d[1];Vt(g,this._size[0]),Vt(v,this._size[1]);var C=s(g,this._ptr[v],this._ptr[v+1],this._index);return C<this._ptr[v+1]&&this._index[C]===g?this._values[C]:0},i.prototype.set=function(d,g,v){if(!Et(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=d[0],y=d[1],D=this._size[0],b=this._size[1],x=t,w=0;dr(this._datatype)&&(x=e.find(t,[this._datatype,this._datatype])||t,w=e.convert(0,this._datatype)),(C>D-1||y>b-1)&&(m(this,Math.max(C+1,D),Math.max(y+1,b),v),D=this._size[0],b=this._size[1]),Vt(C,D),Vt(y,b);var A=s(C,this._ptr[y],this._ptr[y+1],this._index);return A<this._ptr[y+1]&&this._index[A]===C?x(g,w)?l(A,y,this._values,this._index,this._ptr):this._values[A]=g:x(g,w)||f(A,C,y,g,this._values,this._index,this._ptr),this};function s(d,g,v,C){if(v-g===0)return v;for(var y=g;y<v;y++)if(C[y]===d)return y;return g}function l(d,g,v,C,y){v.splice(d,1),C.splice(d,1);for(var D=g+1;D<y.length;D++)y[D]--}function f(d,g,v,C,y,D,b){y.splice(d,0,C),D.splice(d,0,g);for(var x=v+1;x<b.length;x++)b[x]++}i.prototype.resize=function(d,g,v){if(!Fn(d))throw new TypeError("Array or Matrix expected");var C=d.valueOf().map(D=>Array.isArray(D)&&D.length===1?D[0]:D);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(D){if(!it(D)||!We(D)||D<0)throw new TypeError("Invalid size, must contain positive integers (size: "+at(C)+")")});var y=v?this.clone():this;return m(y,C[0],C[1],g)};function m(d,g,v,C){var y=C||0,D=t,b=0;dr(d._datatype)&&(D=e.find(t,[d._datatype,d._datatype])||t,b=e.convert(0,d._datatype),y=e.convert(y,d._datatype));var x=!D(y,b),w=d._size[0],A=d._size[1],E,F,M;if(v>A){for(F=A;F<v;F++)if(d._ptr[F]=d._values.length,x)for(E=0;E<w;E++)d._values.push(y),d._index.push(E);d._ptr[v]=d._values.length}else v<A&&(d._ptr.splice(v+1,A-v),d._values.splice(d._ptr[v],d._values.length),d._index.splice(d._ptr[v],d._index.length));if(A=v,g>w){if(x){var B=0;for(F=0;F<A;F++){d._ptr[F]=d._ptr[F]+B,M=d._ptr[F+1]+B;var k=0;for(E=w;E<g;E++,k++)d._values.splice(M+k,0,y),d._index.splice(M+k,0,E),B++}d._ptr[A]=d._values.length}}else if(g<w){var P=0;for(F=0;F<A;F++){d._ptr[F]=d._ptr[F]-P;var R=d._ptr[F],T=d._ptr[F+1]-P;for(M=R;M<T;M++)E=d._index[M],E>g-1&&(d._values.splice(M,1),d._index.splice(M,1),P++)}d._ptr[F]=d._values.length}return d._size[0]=g,d._size[1]=v,d}i.prototype.reshape=function(d,g){if(!Et(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(O){if(!it(O)||!We(O)||O<=-2||O===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+at(d)+")")});var v=this._size[0]*this._size[1];d=Ou(d,v);var C=d[0]*d[1];if(v!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=g?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return y;for(var D=[],b=0;b<y._ptr.length;b++)for(var x=0;x<y._ptr[b+1]-y._ptr[b];x++)D.push(b);for(var w=y._values.slice(),A=y._index.slice(),E=0;E<y._index.length;E++){var F=A[E],M=D[E],B=F*y._size[1]+M;D[E]=B%d[1],A[E]=Math.floor(B/d[1])}y._values.length=0,y._index.length=0,y._ptr.length=d[1]+1,y._size=d.slice();for(var k=0;k<y._ptr.length;k++)y._ptr[k]=0;for(var P=0;P<w.length;P++){var R=A[P],T=D[P],I=w[P],V=s(R,y._ptr[T],y._ptr[T+1],y._index);f(V,R,T,I,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var d=new i({values:this._values?tt(this._values):void 0,index:tt(this._index),ptr:tt(this._ptr),size:tt(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,C=this._size[0],y=this._size[1],D=Mf(d),b=function(w,A,E){return D===1?d(w):D===2?d(w,[A,E]):d(w,[A,E],v)};return p(this,0,C-1,0,y-1,b,g)};function p(d,g,v,C,y,D,b){var x=[],w=[],A=[],E=t,F=0;dr(d._datatype)&&(E=e.find(t,[d._datatype,d._datatype])||t,F=e.convert(0,d._datatype));for(var M=function(q,ne,be){q=D(q,ne,be),E(q,F)||(x.push(q),w.push(ne))},B=C;B<=y;B++){A.push(x.length);var k=d._ptr[B],P=d._ptr[B+1];if(b)for(var R=k;R<P;R++){var T=d._index[R];T>=g&&T<=v&&M(d._values[R],T-g,B-C)}else{for(var I={},V=k;V<P;V++){var O=d._index[V];I[O]=d._values[V]}for(var J=g;J<=v;J++){var $=J in I?I[J]:0;M($,J-g,B-C)}}}return A.push(x.length),new i({values:x,index:w,ptr:A,size:[v-g+1,y-C+1]})}i.prototype.forEach=function(d,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,C=this._size[0],y=this._size[1],D=0;D<y;D++){var b=this._ptr[D],x=this._ptr[D+1];if(g)for(var w=b;w<x;w++){var A=this._index[w];d(this._values[w],[A,D],v)}else{for(var E={},F=b;F<x;F++){var M=this._index[F];E[M]=this._values[F]}for(var B=0;B<C;B++){var k=B in E?E[B]:0;d(k,[B,D],v)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],g=0;g<d;g++)for(var v=this._ptr[g],C=this._ptr[g+1],y=v;y<C;y++){var D=this._index[y];yield{value:this._values[y],index:[D,g]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,g,v,C,y){var D=C[0],b=C[1],x=[],w,A;for(w=0;w<D;w++)for(x[w]=[],A=0;A<b;A++)x[w][A]=0;for(A=0;A<b;A++)for(var E=v[A],F=v[A+1],M=E;M<F;M++)w=g[M],x[w][A]=d?y?tt(d[M]):d[M]:1;return x}return i.prototype.format=function(d){for(var g=this._size[0],v=this._size[1],C=this.density(),y="Sparse Matrix ["+at(g,d)+" x "+at(v,d)+"] density: "+at(C,d)+`
`,D=0;D<v;D++)for(var b=this._ptr[D],x=this._ptr[D+1],w=b;w<x;w++){var A=this._index[w];y+=`
    (`+at(A,d)+", "+at(D,d)+") ==> "+(this._values?at(this._values[w],d):"X")}return y},i.prototype.toString=function(){return at(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(nt(d)&&(d=d.toNumber()),!it(d)||!We(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var g=d>0?d:0,v=d<0?-d:0,C=this._size[0],y=this._size[1],D=Math.min(C-v,y-g),b=[],x=[],w=[];w[0]=0;for(var A=g;A<y&&b.length<D;A++)for(var E=this._ptr[A],F=this._ptr[A+1],M=E;M<F;M++){var B=this._index[M];if(B===A-g+v){b.push(this._values[M]),x[b.length-1]=B-v;break}}return w.push(b.length),new i({values:b,index:x,ptr:w,size:[D,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,g,v,C,y){if(!Et(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(O){if(nt(O)&&(O=O.toNumber()),!it(O)||!We(O)||O<1)throw new Error("Size values must be positive integers");return O}),v){if(nt(v)&&(v=v.toNumber()),!it(v)||!We(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var D=t,b=0;dr(y)&&(D=e.find(t,[y,y])||t,b=e.convert(0,y));var x=v>0?v:0,w=v<0?-v:0,A=d[0],E=d[1],F=Math.min(A-w,E-x),M;if(Et(g)){if(g.length!==F)throw new Error("Invalid value array length");M=function(J){return g[J]}}else if(Ge(g)){var B=g.size();if(B.length!==1||B[0]!==F)throw new Error("Invalid matrix length");M=function(J){return g.get([J])}}else M=function(){return g};for(var k=[],P=[],R=[],T=0;T<E;T++){R.push(k.length);var I=T-x;if(I>=0&&I<F){var V=M(I);D(V,b)||(P.push(I+w),k.push(V))}}return R.push(k.length),new i({values:k,index:P,ptr:R,size:[A,E]})},i.prototype.swapRows=function(d,g){if(!it(d)||!We(d)||!it(g)||!We(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Vt(d,this._size[0]),Vt(g,this._size[0]),i._swapRows(d,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,g,v,C,y){for(var D=C[d],b=C[d+1],x=D;x<b;x++)y(v[x],g[x])},i._swapRows=function(d,g,v,C,y,D){for(var b=0;b<v;b++){var x=D[b],w=D[b+1],A=s(d,x,w,y),E=s(g,x,w,y);if(A<w&&E<w&&y[A]===d&&y[E]===g){if(C){var F=C[A];C[A]=C[E],C[E]=F}continue}if(A<w&&y[A]===d&&(E>=w||y[E]!==g)){var M=C?C[A]:void 0;y.splice(E,0,g),C&&C.splice(E,0,M),y.splice(E<=A?A+1:A,1),C&&C.splice(E<=A?A+1:A,1);continue}if(E<w&&y[E]===g&&(A>=w||y[A]!==d)){var B=C?C[E]:void 0;y.splice(A,0,d),C&&C.splice(A,0,B),y.splice(A<=E?E+1:E,1),C&&C.splice(A<=E?E+1:E,1)}}},i},{isClass:!0});var UU="number",zU=["typed"];function HU(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function WU(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is no valid number');return a}var tv=S(UU,zU,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=HU(i);if(a)return WU(a);var o=0,c=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(o=Number(c[2]),i=c[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is no valid number');if(c){if(u>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(o-1)&&(u=u-2**o)}return u},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>Je(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var DS="string",GU=["typed"],rv=S(DS,GU,r=>{var{typed:e}=r;return e(DS,{"":function(){return""},number:Ni,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(t=>n=>Je(n,t)),any:function(n){return String(n)}})});var wS="boolean",jU=["typed"],nv=S(wS,jU,r=>{var{typed:e}=r;return e(wS,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var ZU="bignumber",YU=["typed","BigNumber"],iv=S(ZU,YU,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],c=t(a[1]),u=new t(2).pow(Number(o));if(c.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new t(2).pow(Number(o)-1);return c.gte(s)?c.sub(u):c}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>Je(i,n))})});var JU="complex",XU=["typed","Complex"],av=S(JU,XU,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Je(i,n))})});var QU="fraction",KU=["typed","Fraction"],ov=S(QU,KU,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>Je(i,n))})});var ES="matrix",$U=["typed","Matrix","DenseMatrix","SparseMatrix"],sv=S(ES,$U,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(ES,{"":function(){return a([])},string:function(c){return a([],c)},"string, string":function(c,u){return a([],c,u)},Array:function(c){return a(c)},Matrix:function(c){return a(c,c.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,c,u){if(c==="dense"||c==="default"||c===void 0)return new n(o,u);if(c==="sparse")return new i(o,u);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}});var CS="matrixFromFunction",ez=["typed","matrix","isZero"],uv=S(CS,ez,r=>{var{typed:e,matrix:t,isZero:n}=r;return e(CS,{"Array | Matrix, function, string, string":function(o,c,u,s){return i(o,c,u,s)},"Array | Matrix, function, string":function(o,c,u){return i(o,c,u)},"Matrix, function":function(o,c){return i(o,c,"dense")},"Array, function":function(o,c){return i(o,c,"dense").toArray()},"Array | Matrix, string, function":function(o,c,u){return i(o,u,c)},"Array | Matrix, string, string, function":function(o,c,u,s){return i(o,s,c,u)}});function i(a,o,c,u){var s;return u!==void 0?s=t(c,u):s=t(c),s.resize(a),s.forEach(function(l,f){var m=o(f);n(m)||s.set(f,m)}),s}});var FS="matrixFromRows",tz=["typed","matrix","flatten","size"],lv=S(FS,tz,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(FS,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(c){if(c.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var u=o(c[0]),s=[];for(var l of c){var f=o(l);if(f!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(f|0));s.push(n(l))}return s}function o(c){var u=i(c);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var AS="matrixFromColumns",rz=["typed","matrix","flatten","size"],cv=S(AS,rz,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(AS,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(c){if(c.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var u=o(c[0]),s=[],l=0;l<u;l++)s[l]=[];for(var f of c){var m=o(f);if(m!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(m|0));for(var p=n(f),h=0;h<u;h++)s[h].push(p[h])}return s}function o(c){var u=i(c);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var SS="splitUnit",nz=["typed"],fv=S(SS,nz,r=>{var{typed:e}=r;return e(SS,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var _S="unaryMinus",iz=["typed"],mv=S(_S,iz,r=>{var{typed:e}=r;return e(_S,{number:Kh,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>Je(n,t,!0))})});var NS="unaryPlus",az=["typed","config","BigNumber"],pv=S(NS,az,r=>{var{typed:e,config:t,BigNumber:n}=r;return e(NS,{number:$h,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>Je(a,i,!0)),"boolean | string":function(a){return t.number==="BigNumber"?new n(+a):+a}})});var MS="abs",oz=["typed"],dv=S(MS,oz,r=>{var{typed:e}=r;return e(MS,{number:Yh,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>n=>Je(n,t,!0))})});var TS="apply",sz=["typed","isInteger"],Bo=S(TS,sz,r=>{var{typed:e,isInteger:t}=r;return e(TS,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var c=Array.isArray(i)?rt(i):i.size();if(a<0||a>=c.length)throw new ln(a,c.length);return Ge(i)?i.create(kf(i.valueOf(),a,o)):kf(i,a,o)}})});function kf(r,e,t){var n,i,a;if(e<=0)if(Array.isArray(r[0])){for(a=uz(r),i=[],n=0;n<a.length;n++)i[n]=kf(a[n],e-1,t);return i}else return t(r);else{for(i=[],n=0;n<r.length;n++)i[n]=kf(r[n],e-1,t);return i}}function uz(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}var IS="addScalar",lz=["typed"],hv=S(IS,lz,r=>{var{typed:e}=r;return e(IS,{"number, number":Jh,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var BS="subtractScalar",cz=["typed"],gv=S(BS,cz,r=>{var{typed:e}=r;return e(BS,{"number, number":Xh,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var OS="cbrt",fz=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],vv=S(OS,fz,r=>{var{config:e,typed:t,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:c,Fraction:u}=r;return t(OS,{number:_s,Complex:s,"Complex, boolean":s,BigNumber:function(m){return m.cbrt()},Unit:l});function s(f,m){var p=f.arg()/3,h=f.abs(),d=new o(_s(h),0).mul(new o(0,p).exp());if(m){var g=[d,new o(_s(h),0).mul(new o(0,p+Math.PI*2/3).exp()),new o(_s(h),0).mul(new o(0,p-Math.PI*2/3).exp())];return e.matrix==="Array"?g:a(g)}else return d}function l(f){if(f.value&&Cn(f.value)){var m=f.clone();return m.value=1,m=m.pow(1/3),m.value=s(f.value),m}else{var p=n(f.value);p&&(f.value=i(f.value));var h;nt(f.value)?h=new c(1).div(3):ma(f.value)?h=new u(1,3):h=1/3;var d=f.pow(h);return p&&(d.value=i(d.value)),d}}});var mz="matAlgo11xS0s",pz=["typed","equalScalar"],Ut=S(mz,pz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,c){var u=i._values,s=i._index,l=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=t,v=0,C=o;typeof m=="string"&&(d=m,g=e.find(t,[d,d]),v=e.convert(0,d),a=e.convert(a,d),C=e.find(o,[d,d]));for(var y=[],D=[],b=[],x=0;x<h;x++){b[x]=D.length;for(var w=l[x],A=l[x+1],E=w;E<A;E++){var F=s[E],M=c?C(a,u[E]):C(u[E],a);g(M,v)||(D.push(F),y.push(M))}}return b[h]=D.length,i.createSparseMatrix({values:y,index:D,ptr:b,size:[p,h],datatype:d})}});var dz="matAlgo12xSfs",hz=["typed","DenseMatrix"],It=S(dz,hz,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,c){var u=i._values,s=i._index,l=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=o;typeof m=="string"&&(d=m,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],C=[],y=[],D=0;D<h;D++){for(var b=D+1,x=l[D],w=l[D+1],A=x;A<w;A++){var E=s[A];C[E]=u[A],y[E]=b}for(var F=0;F<p;F++)D===0&&(v[F]=[]),y[F]===b?v[F][D]=c?g(a,C[F]):g(C[F],a):v[F][D]=c?g(a,0):g(0,a)}return new t({data:v,size:[p,h],datatype:d})}});var gz="matAlgo14xDs",vz=["typed"],Sr=S(gz,vz,r=>{var{typed:e}=r;return function(i,a,o,c){var u=i._data,s=i._size,l=i._datatype,f,m=o;typeof l=="string"&&(f=l,a=e.convert(a,f),m=e.find(o,[f,f]));var p=s.length>0?t(m,0,s,s[0],u,a,c):[];return i.createDenseMatrix({data:p,size:tt(s),datatype:f})};function t(n,i,a,o,c,u,s){var l=[];if(i===a.length-1)for(var f=0;f<o;f++)l[f]=s?n(u,c[f]):n(c[f],u);else for(var m=0;m<o;m++)l[m]=t(n,i+1,a,a[i+1],c[m],u,s);return l}});var yv="ceil",yz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],bz=S(yv,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(yv,{number:function(a){return Ar(a,n(a),t.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(Ar(a,n(a,o),t.epsilon))return n(a,o);var[c,u]="".concat(a,"e").split("e"),s=Math.ceil(Number("".concat(c,"e").concat(Number(u)+o)));return[c,u]="".concat(s,"e").split("e"),Number("".concat(c,"e").concat(Number(u)-o))}})}),bv=S(yv,yz,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}=r,u=Ut({typed:e,equalScalar:a}),s=It({typed:e,DenseMatrix:c}),l=Sr({typed:e}),f=bz({typed:e,config:t,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,h){return p.ceil(h)},"Complex, BigNumber":function(p,h){return p.ceil(h.toNumber())},BigNumber:function(p){return Zr(p,n(p),t.epsilon)?n(p):p.ceil()},"BigNumber, BigNumber":function(p,h){return Zr(p,n(p,h),t.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),Mo.ROUND_CEIL)},Fraction:function(p){return p.ceil()},"Fraction, number":function(p,h){return p.ceil(h)},"Fraction, BigNumber":function(p,h){return p.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(m=>p=>Je(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>Je(p,d=>m(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>u(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>l(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>l(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?l(h,p,m,!0):s(h,p,m,!0))})});var kS="cube",xz=["typed"],xv=S(kS,xz,r=>{var{typed:e}=r;return e(kS,{number:eg,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var PS="exp",Dz=["typed"],Dv=S(PS,Dz,r=>{var{typed:e}=r;return e(PS,{number:tg,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var RS="expm1",wz=["typed","Complex"],wv=S(RS,wz,r=>{var{typed:e,Complex:t}=r;return e(RS,{number:rg,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var Ev="fix",Ez=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Cz=S(Ev,["typed","ceil","floor"],r=>{var{typed:e,ceil:t,floor:n}=r;return e(Ev,{number:function(a){return a>0?n(a):t(a)},"number, number":function(a,o){return a>0?n(a,o):t(a,o)}})}),Cv=S(Ev,Ez,r=>{var{typed:e,Complex:t,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:c,DenseMatrix:u}=r,s=It({typed:e,DenseMatrix:u}),l=Sr({typed:e}),f=Cz({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(p){return new t(p.re>0?Math.floor(p.re):Math.ceil(p.re),p.im>0?Math.floor(p.im):Math.ceil(p.im))},"Complex, number":function(p,h){return new t(p.re>0?a(p.re,h):i(p.re,h),p.im>0?a(p.im,h):i(p.im,h))},"Complex, BigNumber":function(p,h){var d=h.toNumber();return new t(p.re>0?a(p.re,d):i(p.re,d),p.im>0?a(p.im,d):i(p.im,d))},BigNumber:function(p){return p.isNegative()?i(p):a(p)},"BigNumber, number | BigNumber":function(p,h){return p.isNegative()?i(p,h):a(p,h)},Fraction:function(p){return p.s<0?p.ceil():p.floor()},"Fraction, number | BigNumber":function(p,h){return p.s<0?i(p,h):a(p,h)},"Array | Matrix":e.referToSelf(m=>p=>Je(p,m,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(m=>(p,h)=>Je(p,d=>m(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>l(n(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>o(p,0)?c(h.size(),h.storage()):h.storage()==="dense"?l(h,p,m,!0):s(h,p,m,!0))})});var Fv="floor",Fz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Az=S(Fv,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(Fv,{number:function(a){return Ar(a,n(a),t.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(Ar(a,n(a,o),t.epsilon))return n(a,o);var[c,u]="".concat(a,"e").split("e"),s=Math.floor(Number("".concat(c,"e").concat(Number(u)+o)));return[c,u]="".concat(s,"e").split("e"),Number("".concat(c,"e").concat(Number(u)-o))}})}),zu=S(Fv,Fz,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}=r,u=Ut({typed:e,equalScalar:a}),s=It({typed:e,DenseMatrix:c}),l=Sr({typed:e}),f=Az({typed:e,config:t,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,h){return p.floor(h)},"Complex, BigNumber":function(p,h){return p.floor(h.toNumber())},BigNumber:function(p){return Zr(p,n(p),t.epsilon)?n(p):p.floor()},"BigNumber, BigNumber":function(p,h){return Zr(p,n(p,h),t.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),Mo.ROUND_FLOOR)},Fraction:function(p){return p.floor()},"Fraction, number":function(p,h){return p.floor(h)},"Fraction, BigNumber":function(p,h){return p.floor(h.toNumber())},"Array | Matrix":e.referToSelf(m=>p=>Je(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>Je(p,d=>m(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>u(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>l(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>l(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?l(h,p,m,!0):s(h,p,m,!0))})});var Sz="matAlgo02xDS0",_z=["typed","equalScalar"],_r=S(Sz,_z,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,c){var u=i._data,s=i._size,l=i._datatype,f=a._values,m=a._index,p=a._ptr,h=a._size,d=a._datatype;if(s.length!==h.length)throw new ot(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=s[0],v=s[1],C,y=t,D=0,b=o;typeof l=="string"&&l===d&&(C=l,y=e.find(t,[C,C]),D=e.convert(0,C),b=e.find(o,[C,C]));for(var x=[],w=[],A=[],E=0;E<v;E++){A[E]=w.length;for(var F=p[E],M=p[E+1],B=F;B<M;B++){var k=m[B],P=c?b(f[B],u[k][E]):b(u[k][E],f[B]);y(P,D)||(w.push(k),x.push(P))}}return A[v]=w.length,a.createSparseMatrix({values:x,index:w,ptr:A,size:[g,v],datatype:C})}});var Nz="matAlgo03xDSf",Mz=["typed"],Xt=S(Nz,Mz,r=>{var{typed:e}=r;return function(n,i,a,o){var c=n._data,u=n._size,s=n._datatype,l=i._values,f=i._index,m=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v,C=0,y=a;typeof s=="string"&&s===h&&(v=s,C=e.convert(0,v),y=e.find(a,[v,v]));for(var D=[],b=0;b<d;b++)D[b]=[];for(var x=[],w=[],A=0;A<g;A++){for(var E=A+1,F=m[A],M=m[A+1],B=F;B<M;B++){var k=f[B];x[k]=o?y(l[B],c[k][A]):y(c[k][A],l[B]),w[k]=E}for(var P=0;P<d;P++)w[P]===E?D[P][A]=x[P]:D[P][A]=o?y(C,c[P][A]):y(c[P][A],C)}return n.createDenseMatrix({data:D,size:[d,g],datatype:v})}});var Tz="matAlgo05xSfSf",Iz=["typed","equalScalar"],Xa=S(Tz,Iz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(l.length!==d.length)throw new ot(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var v=l[0],C=l[1],y,D=t,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(t,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));var w=c&&m?[]:void 0,A=[],E=[],F=w?[]:void 0,M=w?[]:void 0,B=[],k=[],P,R,T,I;for(R=0;R<C;R++){E[R]=A.length;var V=R+1;for(T=s[R],I=s[R+1];T<I;T++)P=u[T],A.push(P),B[P]=V,F&&(F[P]=c[T]);for(T=h[R],I=h[R+1];T<I;T++)P=p[T],B[P]!==V&&A.push(P),k[P]=V,M&&(M[P]=m[T]);if(w)for(T=E[R];T<A.length;){P=A[T];var O=B[P],J=k[P];if(O===V||J===V){var $=O===V?F[P]:b,H=J===V?M[P]:b,q=x($,H);D(q,b)?A.splice(T,1):(w.push(q),T++)}}}return E[C]=A.length,i.createSparseMatrix({values:w,index:A,ptr:E,size:[v,C],datatype:y})}});var Bz="matAlgo13xDD",Oz=["typed"],LS=S(Bz,Oz,r=>{var{typed:e}=r;return function(i,a,o){var c=i._data,u=i._size,s=i._datatype,l=a._data,f=a._size,m=a._datatype,p=[];if(u.length!==f.length)throw new ot(u.length,f.length);for(var h=0;h<u.length;h++){if(u[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");p[h]=u[h]}var d,g=o;typeof s=="string"&&s===m&&(d=s,g=e.find(o,[d,d]));var v=p.length>0?t(g,0,p,p[0],c,l):[];return i.createDenseMatrix({data:v,size:p,datatype:d})};function t(n,i,a,o,c,u){var s=[];if(i===a.length-1)for(var l=0;l<o;l++)s[l]=n(c[l],u[l]);else for(var f=0;f<o;f++)s[f]=t(n,i+1,a,a[i+1],c[f],u[f]);return s}});var kz="broadcast",Pz=["concat"],qS=S(kz,Pz,r=>{var{concat:e}=r;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var c=t(i._size,o,0),u=t(a._size,o,0),s=[],l=0;l<o;l++)s[l]=Math.max(c[l],u[l]);ku(c,s),ku(u,s);var f=i.clone(),m=a.clone();f._size.length<o?f.reshape(t(f._size,o,1)):m._size.length<o&&m.reshape(t(m._size,o,1));for(var p=0;p<o;p++)f._size[p]<s[p]&&(f=n(f,s[p],p)),m._size[p]<s[p]&&(m=n(m,s[p],p));return[f,m]};function t(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return e(...Array(a).fill(i),o)}});var Rz="matrixAlgorithmSuite",Lz=["typed","matrix","concat"],ct=S(Rz,Lz,r=>{var{typed:e,matrix:t,concat:n}=r,i=LS({typed:e}),a=Sr({typed:e}),o=qS({concat:n});return function(u){var s=u.elop,l=u.SD||u.DS,f;s?(f={"DenseMatrix, DenseMatrix":(d,g)=>i(...o(d,g),s),"Array, Array":(d,g)=>i(...o(t(d),t(g)),s).valueOf(),"Array, DenseMatrix":(d,g)=>i(...o(t(d),g),s),"DenseMatrix, Array":(d,g)=>i(...o(d,t(g)),s)},u.SS&&(f["SparseMatrix, SparseMatrix"]=(d,g)=>u.SS(...o(d,g),s,!1)),u.DS&&(f["DenseMatrix, SparseMatrix"]=(d,g)=>u.DS(...o(d,g),s,!1),f["Array, SparseMatrix"]=(d,g)=>u.DS(...o(t(d),g),s,!1)),l&&(f["SparseMatrix, DenseMatrix"]=(d,g)=>l(...o(g,d),s,!0),f["SparseMatrix, Array"]=(d,g)=>l(...o(t(g),d),s,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(g,v),d)),"Array, Array":e.referToSelf(d=>(g,v)=>i(...o(t(g),t(v)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(t(g),v),d)),"DenseMatrix, Array":e.referToSelf(d=>(g,v)=>i(...o(g,t(v)),d))},u.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.SS(...o(g,v),d,!1))),u.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(g,v),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(t(g),v),d,!1))),l&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(g,v)=>l(...o(v,g),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(g,v)=>l(...o(t(v),g),d,!0))));var m=u.scalar||"any",p=u.Ds||u.Ss;p&&(s?(f["DenseMatrix,"+m]=(d,g)=>a(d,g,s,!1),f[m+", DenseMatrix"]=(d,g)=>a(g,d,s,!0),f["Array,"+m]=(d,g)=>a(t(d),g,s,!1).valueOf(),f[m+", Array"]=(d,g)=>a(t(g),d,s,!0).valueOf()):(f["DenseMatrix,"+m]=e.referToSelf(d=>(g,v)=>a(g,v,d,!1)),f[m+", DenseMatrix"]=e.referToSelf(d=>(g,v)=>a(v,g,d,!0)),f["Array,"+m]=e.referToSelf(d=>(g,v)=>a(t(g),v,d,!1).valueOf()),f[m+", Array"]=e.referToSelf(d=>(g,v)=>a(t(v),g,d,!0).valueOf())));var h=u.sS!==void 0?u.sS:u.Ss;return s?(u.Ss&&(f["SparseMatrix,"+m]=(d,g)=>u.Ss(d,g,s,!1)),h&&(f[m+", SparseMatrix"]=(d,g)=>h(g,d,s,!0))):(u.Ss&&(f["SparseMatrix,"+m]=e.referToSelf(d=>(g,v)=>u.Ss(g,v,d,!1))),h&&(f[m+", SparseMatrix"]=e.referToSelf(d=>(g,v)=>h(v,g,d,!0)))),s&&s.signatures&&ff(f,s.signatures),f}});var VS="mod",qz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Hu=S(VS,qz,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c,concat:u}=r,s=zu({typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:c}),l=_r({typed:e,equalScalar:a}),f=Xt({typed:e}),m=Xa({typed:e,equalScalar:a}),p=Ut({typed:e,equalScalar:a}),h=It({typed:e,DenseMatrix:c}),d=ct({typed:e,matrix:i,concat:u});return e(VS,{"number, number":g,"BigNumber, BigNumber":function(C,y){if(y.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return y.isZero()?C:C.mod(y)},"Fraction, Fraction":function(C,y){if(y.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return C.compare(0)>=0?C.mod(y):C.mod(y).add(y).mod(y)}},d({SS:m,DS:f,SD:l,Ss:p,sS:h}));function g(v,C){return C===0?v:v-C*s(v/C)}});var Vz="matAlgo01xDSid",Uz=["typed"],hn=S(Vz,Uz,r=>{var{typed:e}=r;return function(n,i,a,o){var c=n._data,u=n._size,s=n._datatype,l=i._values,f=i._index,m=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v=typeof s=="string"&&s===h?s:void 0,C=v?e.find(a,[v,v]):a,y,D,b=[];for(y=0;y<d;y++)b[y]=[];var x=[],w=[];for(D=0;D<g;D++){for(var A=D+1,E=m[D],F=m[D+1],M=E;M<F;M++)y=f[M],x[y]=o?C(l[M],c[y][D]):C(c[y][D],l[M]),w[y]=A;for(y=0;y<d;y++)w[y]===A?b[y][D]=x[y]:b[y][D]=c[y][D]}return n.createDenseMatrix({data:b,size:[d,g],datatype:v})}});var zz="matAlgo04xSidSid",Hz=["typed","equalScalar"],Ms=S(zz,Hz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(l.length!==d.length)throw new ot(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var v=l[0],C=l[1],y,D=t,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(t,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));var w=c&&m?[]:void 0,A=[],E=[],F=c&&m?[]:void 0,M=c&&m?[]:void 0,B=[],k=[],P,R,T,I,V;for(R=0;R<C;R++){E[R]=A.length;var O=R+1;for(I=s[R],V=s[R+1],T=I;T<V;T++)P=u[T],A.push(P),B[P]=O,F&&(F[P]=c[T]);for(I=h[R],V=h[R+1],T=I;T<V;T++)if(P=p[T],B[P]===O){if(F){var J=x(F[P],m[T]);D(J,b)?B[P]=null:F[P]=J}}else A.push(P),k[P]=O,M&&(M[P]=m[T]);if(F&&M)for(T=E[R];T<A.length;)P=A[T],B[P]===O?(w[T]=F[P],T++):k[P]===O?(w[T]=M[P],T++):A.splice(T,1)}return E[C]=A.length,i.createSparseMatrix({values:w,index:A,ptr:E,size:[v,C],datatype:y})}});var Wz="matAlgo10xSids",Gz=["typed","DenseMatrix"],Pn=S(Wz,Gz,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,c){var u=i._values,s=i._index,l=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=o;typeof m=="string"&&(d=m,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],C=[],y=[],D=0;D<h;D++){for(var b=D+1,x=l[D],w=l[D+1],A=x;A<w;A++){var E=s[A];C[E]=u[A],y[E]=b}for(var F=0;F<p;F++)D===0&&(v[F]=[]),y[F]===b?v[F][D]=c?g(a,C[F]):g(C[F],a):v[F][D]=a}return new t({data:v,size:[p,h],datatype:d})}});function va(r,e,t,n){if(!(this instanceof va))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=e,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+e+" provided, "+t+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}va.prototype=new Error;va.prototype.constructor=Error;va.prototype.name="ArgumentsError";va.prototype.isArgumentsError=!0;var US="gcd",jz=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Av="number | BigNumber | Fraction | Matrix | Array",Zz="".concat(Av,", ").concat(Av,", ...").concat(Av);function zS(r){return!r.some(e=>Array.isArray(e))}var Sv=S(US,jz,r=>{var{typed:e,matrix:t,config:n,round:i,equalScalar:a,zeros:o,BigNumber:c,DenseMatrix:u,concat:s}=r,l=Hu({typed:e,config:n,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}),f=hn({typed:e}),m=Ms({typed:e,equalScalar:a}),p=Pn({typed:e,DenseMatrix:u}),h=ct({typed:e,matrix:t,concat:s});return e(US,{"number, number":d,"BigNumber, BigNumber":g,"Fraction, Fraction":(v,C)=>v.gcd(C)},h({SS:m,DS:f,Ss:p}),{[Zz]:e.referToSelf(v=>(C,y,D)=>{for(var b=v(C,y),x=0;x<D.length;x++)b=v(b,D[x]);return b}),Array:e.referToSelf(v=>C=>{if(C.length===1&&Array.isArray(C[0])&&zS(C[0]))return v(...C[0]);if(zS(C))return v(...C);throw new va("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(v=>C=>v(C.toArray()))});function d(v,C){if(!We(v)||!We(C))throw new Error("Parameters in function gcd must be integer numbers");for(var y;C!==0;)y=l(v,C),v=C,C=y;return v<0?-v:v}function g(v,C){if(!v.isInt()||!C.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new c(0);!C.isZero();){var D=l(v,C);v=C,C=D}return v.lt(y)?v.neg():v}});var Yz="matAlgo06xS0S0",Jz=["typed","equalScalar"],Qa=S(Yz,Jz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._size,s=i._datatype,l=a._values,f=a._size,m=a._datatype;if(u.length!==f.length)throw new ot(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var p=u[0],h=u[1],d,g=t,v=0,C=o;typeof s=="string"&&s===m&&(d=s,g=e.find(t,[d,d]),v=e.convert(0,d),C=e.find(o,[d,d]));for(var y=c&&l?[]:void 0,D=[],b=[],x=y?[]:void 0,w=[],A=[],E=0;E<h;E++){b[E]=D.length;var F=E+1;if(jh(i,E,w,x,A,F,D,C),jh(a,E,w,x,A,F,D,C),x)for(var M=b[E];M<D.length;){var B=D[M];if(A[B]===F){var k=x[B];g(k,v)?D.splice(M,1):(y.push(k),M++)}else D.splice(M,1)}else for(var P=b[E];P<D.length;){var R=D[P];A[R]!==F?D.splice(P,1):P++}}return b[h]=D.length,i.createSparseMatrix({values:y,index:D,ptr:b,size:[p,h],datatype:d})}});var HS="lcm",Xz=["typed","matrix","equalScalar","concat"],_v=S(HS,Xz,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=_r({typed:e,equalScalar:n}),o=Qa({typed:e,equalScalar:n}),c=Ut({typed:e,equalScalar:n}),u=ct({typed:e,matrix:t,concat:i}),s="number | BigNumber | Fraction | Matrix | Array",l={};return l["".concat(s,", ").concat(s,", ...").concat(s)]=e.referToSelf(m=>(p,h,d)=>{for(var g=m(p,h),v=0;v<d.length;v++)g=m(g,d[v]);return g}),e(HS,{"number, number":ng,"BigNumber, BigNumber":f,"Fraction, Fraction":(m,p)=>m.lcm(p)},u({SS:o,DS:a,Ss:c}),l);function f(m,p){if(!m.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(m.isZero())return m;if(p.isZero())return p;for(var h=m.times(p);!p.isZero();){var d=p;p=m.mod(d),m=d}return h.div(m).abs()}});var WS="log10",Qz=["typed","config","Complex"],Nv=S(WS,Qz,r=>{var{typed:e,config:t,Complex:n}=r;return e(WS,{number:function(a){return a>=0||t.predictable?ig(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>Je(a,i))})});var GS="log2",Kz=["typed","config","Complex"],Mv=S(GS,Kz,r=>{var{typed:e,config:t,Complex:n}=r;return e(GS,{number:function(o){return o>=0||t.predictable?ag(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>Je(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var $z="multiplyScalar",eH=["typed"],Tv=S($z,eH,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":Qh,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var jS="multiply",tH=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Iv=S(jS,tH,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=r,c=Ut({typed:e,equalScalar:a}),u=Sr({typed:e});function s(b,x){switch(b.length){case 1:switch(x.length){case 1:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+b[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+b[1]+") must match Vector length ("+x[0]+")");break;case 2:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+b[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+b.length+" dimensions)")}}function l(b,x,w){if(w===0)throw new Error("Cannot multiply two empty vectors");return o(b,x)}function f(b,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return m(b,x)}function m(b,x){var w=b._data,A=b._size,E=b._datatype,F=x._data,M=x._size,B=x._datatype,k=A[0],P=M[1],R,T=n,I=i;E&&B&&E===B&&typeof E=="string"&&(R=E,T=e.find(n,[R,R]),I=e.find(i,[R,R]));for(var V=[],O=0;O<P;O++){for(var J=I(w[0],F[0][O]),$=1;$<k;$++)J=T(J,I(w[$],F[$][O]));V[O]=J}return b.createDenseMatrix({data:V,size:[P],datatype:R})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":C}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":D});function d(b,x){var w=b._data,A=b._size,E=b._datatype,F=x._data,M=x._datatype,B=A[0],k=A[1],P,R=n,T=i;E&&M&&E===M&&typeof E=="string"&&(P=E,R=e.find(n,[P,P]),T=e.find(i,[P,P]));for(var I=[],V=0;V<B;V++){for(var O=w[V],J=T(O[0],F[0]),$=1;$<k;$++)J=R(J,T(O[$],F[$]));I[V]=J}return b.createDenseMatrix({data:I,size:[B],datatype:P})}function g(b,x){var w=b._data,A=b._size,E=b._datatype,F=x._data,M=x._size,B=x._datatype,k=A[0],P=A[1],R=M[1],T,I=n,V=i;E&&B&&E===B&&typeof E=="string"&&(T=E,I=e.find(n,[T,T]),V=e.find(i,[T,T]));for(var O=[],J=0;J<k;J++){var $=w[J];O[J]=[];for(var H=0;H<R;H++){for(var q=V($[0],F[0][H]),ne=1;ne<P;ne++)q=I(q,V($[ne],F[ne][H]));O[J][H]=q}}return b.createDenseMatrix({data:O,size:[k,R],datatype:T})}function v(b,x){var w=b._data,A=b._size,E=b._datatype,F=x._values,M=x._index,B=x._ptr,k=x._size,P=x._datatype;if(!F)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var R=A[0],T=k[1],I,V=n,O=i,J=a,$=0;E&&P&&E===P&&typeof E=="string"&&(I=E,V=e.find(n,[I,I]),O=e.find(i,[I,I]),J=e.find(a,[I,I]),$=e.convert(0,I));for(var H=[],q=[],ne=[],be=x.createSparseMatrix({values:H,index:q,ptr:ne,size:[R,T],datatype:I}),oe=0;oe<T;oe++){ne[oe]=q.length;var ue=B[oe],me=B[oe+1];if(me>ue)for(var se=0,ce=0;ce<R;ce++){for(var pe=ce+1,ge=void 0,Re=ue;Re<me;Re++){var Ee=M[Re];se!==pe?(ge=O(w[ce][Ee],F[Re]),se=pe):ge=V(ge,O(w[ce][Ee],F[Re]))}se===pe&&!J(ge,$)&&(q.push(ce),H.push(ge))}}return ne[T]=q.length,be}function C(b,x){var w=b._values,A=b._index,E=b._ptr,F=b._datatype;if(!w)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=x._data,B=x._datatype,k=b._size[0],P=x._size[0],R=[],T=[],I=[],V,O=n,J=i,$=a,H=0;F&&B&&F===B&&typeof F=="string"&&(V=F,O=e.find(n,[V,V]),J=e.find(i,[V,V]),$=e.find(a,[V,V]),H=e.convert(0,V));var q=[],ne=[];I[0]=0;for(var be=0;be<P;be++){var oe=M[be];if(!$(oe,H))for(var ue=E[be],me=E[be+1],se=ue;se<me;se++){var ce=A[se];ne[ce]?q[ce]=O(q[ce],J(oe,w[se])):(ne[ce]=!0,T.push(ce),q[ce]=J(oe,w[se]))}}for(var pe=T.length,ge=0;ge<pe;ge++){var Re=T[ge];R[ge]=q[Re]}return I[1]=T.length,b.createSparseMatrix({values:R,index:T,ptr:I,size:[k,1],datatype:V})}function y(b,x){var w=b._values,A=b._index,E=b._ptr,F=b._datatype;if(!w)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=x._data,B=x._datatype,k=b._size[0],P=x._size[0],R=x._size[1],T,I=n,V=i,O=a,J=0;F&&B&&F===B&&typeof F=="string"&&(T=F,I=e.find(n,[T,T]),V=e.find(i,[T,T]),O=e.find(a,[T,T]),J=e.convert(0,T));for(var $=[],H=[],q=[],ne=b.createSparseMatrix({values:$,index:H,ptr:q,size:[k,R],datatype:T}),be=[],oe=[],ue=0;ue<R;ue++){q[ue]=H.length;for(var me=ue+1,se=0;se<P;se++){var ce=M[se][ue];if(!O(ce,J))for(var pe=E[se],ge=E[se+1],Re=pe;Re<ge;Re++){var Ee=A[Re];oe[Ee]!==me?(oe[Ee]=me,H.push(Ee),be[Ee]=V(ce,w[Re])):be[Ee]=I(be[Ee],V(ce,w[Re]))}}for(var z=q[ue],j=H.length,fe=z;fe<j;fe++){var W=H[fe];$[fe]=be[W]}}return q[R]=H.length,ne}function D(b,x){var w=b._values,A=b._index,E=b._ptr,F=b._datatype,M=x._values,B=x._index,k=x._ptr,P=x._datatype,R=b._size[0],T=x._size[1],I=w&&M,V,O=n,J=i;F&&P&&F===P&&typeof F=="string"&&(V=F,O=e.find(n,[V,V]),J=e.find(i,[V,V]));for(var $=I?[]:void 0,H=[],q=[],ne=b.createSparseMatrix({values:$,index:H,ptr:q,size:[R,T],datatype:V}),be=I?[]:void 0,oe=[],ue,me,se,ce,pe,ge,Re,Ee,z=0;z<T;z++){q[z]=H.length;var j=z+1;for(pe=k[z],ge=k[z+1],ce=pe;ce<ge;ce++)if(Ee=B[ce],I)for(me=E[Ee],se=E[Ee+1],ue=me;ue<se;ue++)Re=A[ue],oe[Re]!==j?(oe[Re]=j,H.push(Re),be[Re]=J(M[ce],w[ue])):be[Re]=O(be[Re],J(M[ce],w[ue]));else for(me=E[Ee],se=E[Ee+1],ue=me;ue<se;ue++)Re=A[ue],oe[Re]!==j&&(oe[Re]=j,H.push(Re));if(I)for(var fe=q[z],W=H.length,K=fe;K<W;K++){var ie=H[K];$[K]=be[ie]}}return q[T]=H.length,ne}return e(jS,i,{"Array, Array":e.referTo("Matrix, Matrix",b=>(x,w)=>{s(rt(x),rt(w));var A=b(t(x),t(w));return Ge(A)?A.valueOf():A}),"Matrix, Matrix":function(x,w){var A=x.size(),E=w.size();return s(A,E),A.length===1?E.length===1?l(x,w,A[0]):f(x,w):E.length===1?p(x,w):h(x,w)},"Matrix, Array":e.referTo("Matrix,Matrix",b=>(x,w)=>b(x,t(w))),"Array, Matrix":e.referToSelf(b=>(x,w)=>b(t(x,w.storage()),w)),"SparseMatrix, any":function(x,w){return c(x,w,i,!1)},"DenseMatrix, any":function(x,w){return u(x,w,i,!1)},"any, SparseMatrix":function(x,w){return c(w,x,i,!0)},"any, DenseMatrix":function(x,w){return u(w,x,i,!0)},"Array, any":function(x,w){return u(t(x),w,i,!1).valueOf()},"any, Array":function(x,w){return u(t(w),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(b=>(x,w,A)=>{for(var E=b(x,w),F=0;F<A.length;F++)E=b(E,A[F]);return E})})});var ZS="nthRoot",rH=["typed","matrix","equalScalar","BigNumber","concat"],Bv=S(ZS,rH,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,concat:a}=r,o=hn({typed:e}),c=_r({typed:e,equalScalar:n}),u=Qa({typed:e,equalScalar:n}),s=Ut({typed:e,equalScalar:n}),l=ct({typed:e,matrix:t,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(ZS,{number:og,"number, number":og,BigNumber:p=>m(p,new i(2)),"BigNumber, BigNumber":m,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",p=>h=>p(t(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",p=>h=>p(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",p=>h=>p(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return u(h,d,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return o(h,d,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",p=>(h,d)=>p(t(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return s(d,h,p,!0);throw new Error("Root must be non-zero")})},l({scalar:"number | BigNumber",SD:c,Ss:s,sS:!1}));function m(p,h){var d=i.precision,g=i.clone({precision:d+2}),v=new i(0),C=new g(1),y=h.isNegative();if(y&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return y?new g(1/0):0;if(!p.isFinite())return y?v:p;var D=p.abs().pow(C.div(h));return D=p.isNeg()?D.neg():D,new i((y?C.div(D):D).toPrecision(d))}});var YS="sign",nH=["typed","BigNumber","Fraction","complex"],Ov=S(YS,nH,r=>{var{typed:e,BigNumber:t,complex:n,Fraction:i}=r;return e(YS,{number:Bf,Complex:function(o){return o.im===0?n(Bf(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>Je(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var iH="sqrt",aH=["config","typed","Complex"],kv=S(iH,aH,r=>{var{config:e,typed:t,Complex:n}=r;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var JS="square",oH=["typed"],Pv=S(JS,oH,r=>{var{typed:e}=r;return e(JS,{number:sg,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var XS="subtract",sH=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Rv=S(XS,sH,r=>{var{typed:e,matrix:t,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:c}=r,u=hn({typed:e}),s=Xt({typed:e}),l=Xa({typed:e,equalScalar:n}),f=Pn({typed:e,DenseMatrix:o}),m=It({typed:e,DenseMatrix:o}),p=ct({typed:e,matrix:t,concat:c});return e(XS,{"any, any":i},p({elop:i,SS:l,DS:u,SD:s,Ss:m,sS:f}))});var QS="xgcd",uH=["typed","config","matrix","BigNumber"],Lv=S(QS,uH,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(QS,{"number, number":function(c,u){var s=ug(c,u);return t.matrix==="Array"?s:n(s)},"BigNumber, BigNumber":a});function a(o,c){var u,s,l,f=new i(0),m=new i(1),p=f,h=m,d=m,g=f;if(!o.isInt()||!c.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!c.isZero();)s=o.div(c).floor(),l=o.mod(c),u=p,p=h.minus(s.times(p)),h=u,u=d,d=g.minus(s.times(d)),g=u,o=c,c=l;var v;return o.lt(f)?v=[o.neg(),h.neg(),g.neg()]:v=[o,o.isZero()?0:h,g],t.matrix==="Array"?v:n(v)}});var KS="invmod",lH=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],qv=S(KS,lH,r=>{var{typed:e,config:t,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:c,add:u,isInteger:s}=r;return e(KS,{"number, number":l,"BigNumber, BigNumber":l});function l(f,m){if(!s(f)||!s(m))throw new Error("Parameters in function invmod must be integer numbers");if(f=c(f,m),a(m,0))throw new Error("Divisor must be non zero");var p=i(f,m);p=p.valueOf();var[h,d]=p;return a(h,n(1))?(d=c(d,m),o(d,n(0))&&(d=u(d,m)),d):NaN}});var cH="matAlgo09xS0Sf",fH=["typed","equalScalar"],Pf=S(cH,fH,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(l.length!==d.length)throw new ot(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var v=l[0],C=l[1],y,D=t,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(t,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));var w=c&&m?[]:void 0,A=[],E=[],F=w?[]:void 0,M=[],B,k,P,R,T;for(k=0;k<C;k++){E[k]=A.length;var I=k+1;if(F)for(R=h[k],T=h[k+1],P=R;P<T;P++)B=p[P],M[B]=I,F[B]=m[P];for(R=s[k],T=s[k+1],P=R;P<T;P++)if(B=u[P],F){var V=M[B]===I?F[B]:b,O=x(c[P],V);D(O,b)||(A.push(B),w.push(O))}else A.push(B)}return E[C]=A.length,i.createSparseMatrix({values:w,index:A,ptr:E,size:[v,C],datatype:y})}});var $S="dotMultiply",mH=["typed","matrix","equalScalar","multiplyScalar","concat"],Vv=S($S,mH,r=>{var{typed:e,matrix:t,equalScalar:n,multiplyScalar:i,concat:a}=r,o=_r({typed:e,equalScalar:n}),c=Pf({typed:e,equalScalar:n}),u=Ut({typed:e,equalScalar:n}),s=ct({typed:e,matrix:t,concat:a});return e($S,s({elop:i,SS:c,DS:o,Ss:u}))});function e_(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero()||e.eq(-1)||r.eq(e))return r;if(e.isZero()||r.eq(-1))return e;if(!r.isFinite()||!e.isFinite()){if(!r.isFinite()&&!e.isFinite())return r.isNegative()===e.isNegative()?r:new t(0);if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r}return Uv(r,e,function(n,i){return n&i})}function Ts(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var e=r.constructor,t=e.precision;e.config({precision:1e9});var n=r.plus(new e(1));return n.s=-n.s||null,e.config({precision:t}),n}function t_(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);var n=new t(-1);return r.isZero()||e.eq(n)||r.eq(e)?e:e.isZero()||r.eq(n)?r:!r.isFinite()||!e.isFinite()?!r.isFinite()&&!r.isNegative()&&e.isNegative()||r.isNegative()&&!e.isNegative()&&!e.isFinite()?n:r.isNegative()&&e.isNegative()?r.isFinite()?r:e:r.isFinite()?e:r:Uv(r,e,function(i,a){return i|a})}function Uv(r,e,t){var n=r.constructor,i,a,o=+(r.s<0),c=+(e.s<0);if(o){i=Rf(Ts(r));for(var u=0;u<i.length;++u)i[u]^=1}else i=Rf(r);if(c){a=Rf(Ts(e));for(var s=0;s<a.length;++s)a[s]^=1}else a=Rf(e);var l,f,m;i.length<=a.length?(l=i,f=a,m=o):(l=a,f=i,m=c);var p=l.length,h=f.length,d=t(o,c)^1,g=new n(d^1),v=new n(1),C=new n(2),y=n.precision;for(n.config({precision:1e9});p>0;)t(l[--p],f[--h])===d&&(g=g.plus(v)),v=v.times(C);for(;h>0;)t(m,f[--h])===d&&(g=g.plus(v)),v=v.times(C);return n.config({precision:y}),d===0&&(g.s=-g.s),g}function Rf(r){for(var e=r.d,t=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var c=r.e,u=t.slice(0,o+1||1),s=u.length;if(c>0)if(++c>s)for(c-=s;c--;)u+="0";else c<s&&(u=u.slice(0,c)+"."+u.slice(c));for(var l=[0],f=0;f<u.length;){for(var m=l.length;m--;)l[m]*=10;l[0]+=parseInt(u.charAt(f++));for(var p=0;p<l.length;++p)l[p]>1&&((l[p+1]===null||l[p+1]===void 0)&&(l[p+1]=0),l[p+1]+=l[p]>>1,l[p]&=1)}return l.reverse()}function r_(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero())return e;if(e.isZero())return r;if(r.eq(e))return new t(0);var n=new t(-1);return r.eq(n)?Ts(e):e.eq(n)?Ts(r):!r.isFinite()||!e.isFinite()?!r.isFinite()&&!e.isFinite()?n:new t(r.isNegative()===e.isNegative()?1/0:-1/0):Uv(r,e,function(i,a){return i^a})}function n_(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:!r.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?r.times(Math.pow(2,e.toNumber())+""):r.times(new t(2).pow(e))}function i_(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:e.isFinite()?e.lt(55)?r.div(Math.pow(2,e.toNumber())+"").floor():r.div(new t(2).pow(e)).floor():r.isNegative()?new t(-1):r.isFinite()?new t(0):new t(NaN)}var a_="bitAnd",pH=["typed","matrix","equalScalar","concat"],zv=S(a_,pH,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=_r({typed:e,equalScalar:n}),o=Qa({typed:e,equalScalar:n}),c=Ut({typed:e,equalScalar:n}),u=ct({typed:e,matrix:t,concat:i});return e(a_,{"number, number":fg,"BigNumber, BigNumber":e_},u({SS:o,DS:a,Ss:c}))});var o_="bitNot",dH=["typed"],Hv=S(o_,dH,r=>{var{typed:e}=r;return e(o_,{number:mg,BigNumber:Ts,"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var s_="bitOr",hH=["typed","matrix","equalScalar","DenseMatrix","concat"],Wv=S(s_,hH,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=hn({typed:e}),c=Ms({typed:e,equalScalar:n}),u=Pn({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:t,concat:a});return e(s_,{"number, number":pg,"BigNumber, BigNumber":t_},s({SS:c,DS:o,Ss:u}))});var gH="matAlgo07xSSf",vH=["typed","DenseMatrix"],Or=S(gH,vH,r=>{var{typed:e,DenseMatrix:t}=r;return function(a,o,c){var u=a._size,s=a._datatype,l=o._size,f=o._datatype;if(u.length!==l.length)throw new ot(u.length,l.length);if(u[0]!==l[0]||u[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+l+")");var m=u[0],p=u[1],h,d=0,g=c;typeof s=="string"&&s===f&&(h=s,d=e.convert(0,h),g=e.find(c,[h,h]));var v,C,y=[];for(v=0;v<m;v++)y[v]=[];var D=[],b=[],x=[],w=[];for(C=0;C<p;C++){var A=C+1;for(n(a,C,x,D,A),n(o,C,w,b,A),v=0;v<m;v++){var E=x[v]===A?D[v]:d,F=w[v]===A?b[v]:d;y[v][C]=g(E,F)}}return new t({data:y,size:[m,p],datatype:h})};function n(i,a,o,c,u){for(var s=i._values,l=i._index,f=i._ptr,m=f[a],p=f[a+1];m<p;m++){var h=l[m];o[h]=u,c[h]=s[m]}}});var u_="bitXor",yH=["typed","matrix","DenseMatrix","concat"],Gv=S(u_,yH,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=Xt({typed:e}),o=Or({typed:e,DenseMatrix:n}),c=It({typed:e,DenseMatrix:n}),u=ct({typed:e,matrix:t,concat:i});return e(u_,{"number, number":dg,"BigNumber, BigNumber":r_},u({SS:o,DS:a,Ss:c}))});var l_="arg",bH=["typed"],jv=S(l_,bH,r=>{var{typed:e}=r;return e(l_,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var c_="conj",xH=["typed"],Zv=S(c_,xH,r=>{var{typed:e}=r;return e(c_,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var f_="im",DH=["typed"],Yv=S(f_,DH,r=>{var{typed:e}=r;return e(f_,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var m_="re",wH=["typed"],Jv=S(m_,wH,r=>{var{typed:e}=r;return e(m_,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var p_="not",EH=["typed"],Xv=S(p_,EH,r=>{var{typed:e}=r;return e(p_,{"null | undefined":()=>!0,number:xg,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var d_="or",CH=["typed","matrix","equalScalar","DenseMatrix","concat"],Qv=S(d_,CH,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),c=Xa({typed:e,equalScalar:n}),u=It({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:t,concat:a});return e(d_,{"number, number":Dg,"Complex, Complex":function(f,m){return f.re!==0||f.im!==0||m.re!==0||m.im!==0},"BigNumber, BigNumber":function(f,m){return!f.isZero()&&!f.isNaN()||!m.isZero()&&!m.isNaN()},"Unit, Unit":e.referToSelf(l=>(f,m)=>l(f.value||0,m.value||0))},s({SS:c,DS:o,Ss:u}))});var h_="xor",FH=["typed","matrix","DenseMatrix","concat"],Kv=S(h_,FH,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=Xt({typed:e}),o=Or({typed:e,DenseMatrix:n}),c=It({typed:e,DenseMatrix:n}),u=ct({typed:e,matrix:t,concat:i});return e(h_,{"number, number":wg,"Complex, Complex":function(l,f){return(l.re!==0||l.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(l,f){return(!l.isZero()&&!l.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(s=>(l,f)=>s(l.value||0,f.value||0))},u({SS:o,DS:a,Ss:c}))});var g_="concat",AH=["typed","matrix","isInteger"],Wu=S(g_,AH,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e(g_,{"...Array | Matrix | number | BigNumber":function(a){var o,c=a.length,u=-1,s,l=!1,f=[];for(o=0;o<c;o++){var m=a[o];if(Ge(m)&&(l=!0),it(m)||nt(m)){if(o!==c-1)throw new Error("Dimension must be specified as last argument");if(s=u,u=m.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||o>0&&u>s)throw new ln(u,s+1)}else{var p=tt(m).valueOf(),h=rt(p);if(f[o]=p,s=u,u=h.length-1,o>0&&u!==s)throw new ot(s+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=Eh(d,f.shift(),u);return l?t(d):d},"...string":function(a){return a.join("")}})});var v_="column",SH=["typed","Index","matrix","range"],Gu=S(v_,SH,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(v_,{"Matrix, number":a,"Array, number":function(c,u){return a(n(tt(c)),u).valueOf()}});function a(o,c){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Vt(c,o.size()[1]);var u=i(0,o.size()[0]),s=new t(u,c),l=o.subset(s);return Ge(l)?l:n([[l]])}});var y_="count",_H=["typed","size","prod"],$v=S(y_,_H,r=>{var{typed:e,size:t,prod:n}=r;return e(y_,{string:function(a){return a.length},"Matrix | Array":function(a){return n(t(a))}})});var b_="cross",NH=["typed","matrix","subtract","multiply"],e0=S(b_,NH,r=>{var{typed:e,matrix:t,subtract:n,multiply:i}=r;return e(b_,{"Matrix, Matrix":function(c,u){return t(a(c.toArray(),u.toArray()))},"Matrix, Array":function(c,u){return t(a(c.toArray(),u))},"Array, Matrix":function(c,u){return t(a(c,u.toArray()))},"Array, Array":a});function a(o,c){var u=Math.max(rt(o).length,rt(c).length);o=Es(o),c=Es(c);var s=rt(o),l=rt(c);if(s.length!==1||l.length!==1||s[0]!==3||l[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+s.join(", ")+"], B = ["+l.join(", ")+"])");var f=[n(i(o[1],c[2]),i(o[2],c[1])),n(i(o[2],c[0]),i(o[0],c[2])),n(i(o[0],c[1]),i(o[1],c[0]))];return u>1?[f]:f}});var x_="diag",MH=["typed","matrix","DenseMatrix","SparseMatrix"],t0=S(x_,MH,r=>{var{typed:e,matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(x_,{Array:function(s){return a(s,0,rt(s),null)},"Array, number":function(s,l){return a(s,l,rt(s),null)},"Array, BigNumber":function(s,l){return a(s,l.toNumber(),rt(s),null)},"Array, string":function(s,l){return a(s,0,rt(s),l)},"Array, number, string":function(s,l,f){return a(s,l,rt(s),f)},"Array, BigNumber, string":function(s,l,f){return a(s,l.toNumber(),rt(s),f)},Matrix:function(s){return a(s,0,s.size(),s.storage())},"Matrix, number":function(s,l){return a(s,l,s.size(),s.storage())},"Matrix, BigNumber":function(s,l){return a(s,l.toNumber(),s.size(),s.storage())},"Matrix, string":function(s,l){return a(s,0,s.size(),l)},"Matrix, number, string":function(s,l,f){return a(s,l,s.size(),f)},"Matrix, BigNumber, string":function(s,l,f){return a(s,l.toNumber(),s.size(),f)}});function a(u,s,l,f){if(!We(s))throw new TypeError("Second parameter in function diag must be an integer");var m=s>0?s:0,p=s<0?-s:0;switch(l.length){case 1:return o(u,s,f,l[0],p,m);case 2:return c(u,s,f,l,p,m)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(u,s,l,f,m,p){var h=[f+m,f+p];if(l&&l!=="sparse"&&l!=="dense")throw new TypeError("Unknown matrix type ".concat(l,'"'));var d=l==="sparse"?i.diagonal(h,u,s):n.diagonal(h,u,s);return l!==null?d:d.valueOf()}function c(u,s,l,f,m,p){if(Ge(u)){var h=u.diagonal(s);return l!==null?l!==h.storage()?t(h,l):h:h.valueOf()}for(var d=Math.min(f[0]-m,f[1]-p),g=[],v=0;v<d;v++)g[v]=u[v+m][v+p];return l!==null?t(g):g}});var ju=fr(gh(),1);function ci(r,e,t,n,i){if(ju.default.isTypedFunction(r)){var a=[e,t,n],o=ju.default.resolve(r,a);if(o)return f(o.implementation,a);var c=[e,t],u=ju.default.resolve(r,c);if(u)return f(u.implementation,c);var s=[e],l=ju.default.resolve(r,s);return l?f(l.implementation,s):f(r,a)}else return r(e,t,n);function f(m,p){try{return m.apply(m,p)}catch(g){var h;if(g instanceof TypeError&&((h=g.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat(Dt(e))),p.length>=2&&d.push("index: ".concat(Dt(t))),p.length>=3&&d.push("array: ".concat(Dt(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(r.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(r.name,": ").concat(g.message))}}}var TH="filter",IH=["typed"],r0=S(TH,IH,r=>{var{typed:e}=r;return e("filter",{"Array, function":D_,"Matrix, function":function(n,i){return n.create(D_(n.toArray(),i))},"Array, RegExp":Cs,"Matrix, RegExp":function(n,i){return n.create(Cs(n.toArray(),i))}})});function D_(r,e){return bf(r,function(t,n,i){return ci(e,t,[n],i,"filter")})}var w_="flatten",BH=["typed","matrix"],n0=S(w_,BH,r=>{var{typed:e,matrix:t}=r;return e(w_,{Array:function(i){return dt(i)},Matrix:function(i){var a=dt(i.toArray());return t(a)}})});var E_="forEach",OH=["typed"],i0=S(E_,OH,r=>{var{typed:e}=r;return e(E_,{"Array, function":kH,"Matrix, function":function(n,i){n.forEach(i)}})});function kH(r,e){var t=function n(i,a){if(Array.isArray(i))Ha(i,function(o,c){n(o,a.concat(c))});else return ci(e,i,a,r,"forEach")};t(r,[])}var C_="getMatrixDataType",PH=["typed"],a0=S(C_,PH,r=>{var{typed:e}=r;return e(C_,{Array:function(n){return Wa(n,Dt)},Matrix:function(n){return n.getDataType()}})});var F_="identity",RH=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],o0=S(F_,RH,r=>{var{typed:e,config:t,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=r;return e(F_,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(l){return n(l)},"number | BigNumber":function(l){return u(l,l,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(l,f){return u(l,l,f)},"number | BigNumber, number | BigNumber":function(l,f){return u(l,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(l,f,m){return u(l,f,m)},Array:function(l){return c(l)},"Array, string":function(l,f){return c(l,f)},Matrix:function(l){return c(l.valueOf(),l.storage())},"Matrix, string":function(l,f){return c(l.valueOf(),f)}});function c(s,l){switch(s.length){case 0:return l?n(l):[];case 1:return u(s[0],s[0],l);case 2:return u(s[0],s[1],l);default:throw new Error("Vector containing two values expected")}}function u(s,l,f){var m=nt(s)||nt(l)?i:null;if(nt(s)&&(s=s.toNumber()),nt(l)&&(l=l.toNumber()),!We(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!We(l)||l<1)throw new Error("Parameters in function identity must be positive integers");var p=m?new i(1):1,h=m?new m(0):0,d=[s,l];if(f){if(f==="sparse")return o.diagonal(d,p,0,h);if(f==="dense")return a.diagonal(d,p,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=Mi([],d,h),v=s<l?s:l,C=0;C<v;C++)g[C][C]=p;return g}});var A_="kron",LH=["typed","matrix","multiplyScalar"],s0=S(A_,LH,r=>{var{typed:e,matrix:t,multiplyScalar:n}=r;return e(A_,{"Matrix, Matrix":function(o,c){return t(i(o.toArray(),c.toArray()))},"Matrix, Array":function(o,c){return t(i(o.toArray(),c))},"Array, Matrix":function(o,c){return t(i(o,c.toArray()))},"Array, Array":i});function i(a,o){if(rt(a).length===1&&(a=[a]),rt(o).length===1&&(o=[o]),rt(a).length>2||rt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var c=[],u=[];return a.map(function(s){return o.map(function(l){return u=[],c.push(u),s.map(function(f){return l.map(function(m){return u.push(n(f,m))})})})})&&c}});var S_="map",qH=["typed"],u0=S(S_,qH,r=>{var{typed:e}=r;return e(S_,{"Array, function":VH,"Matrix, function":function(n,i){return n.map(i)}})});function VH(r,e){var t=function n(i,a){return Array.isArray(i)?i.map(function(o,c){return n(o,a.concat(c))}):ci(e,i,a,r,"map")};return t(r,[])}var __="diff",UH=["typed","matrix","subtract","number"],Zu=S(__,UH,r=>{var{typed:e,matrix:t,subtract:n,number:i}=r;return e(__,{"Array | Matrix":function(l){return Ge(l)?t(o(l.toArray())):o(l)},"Array | Matrix, number":function(l,f){if(!We(f))throw new RangeError("Dimension must be a whole number");return Ge(l)?t(a(l.toArray(),f)):a(l,f)},"Array, BigNumber":e.referTo("Array,number",s=>(l,f)=>s(l,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",s=>(l,f)=>s(l,i(f)))});function a(s,l){if(Ge(s)&&(s=s.toArray()),!Array.isArray(s))throw RangeError("Array/Matrix does not have that many dimensions");if(l>0){var f=[];return s.forEach(m=>{f.push(a(m,l-1))}),f}else{if(l===0)return o(s);throw RangeError("Cannot have negative dimension")}}function o(s){for(var l=[],f=s.length,m=1;m<f;m++)l.push(c(s[m-1],s[m]));return l}function c(s,l){Ge(s)&&(s=s.toArray()),Ge(l)&&(l=l.toArray());var f=Array.isArray(s),m=Array.isArray(l);if(f&&m)return u(s,l);if(!f&&!m)return n(l,s);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function u(s,l){if(s.length!==l.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],m=s.length,p=0;p<m;p++)f.push(c(s[p],l[p]));return f}});var zH="ones",HH=["typed","config","matrix","BigNumber"],l0=S(zH,HH,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var l=s[s.length-1];if(typeof l=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var l=s.storage();return a(s.valueOf(),l)},"Array | Matrix, string":function(s,l){return a(s.valueOf(),l)}});function a(u,s){var l=o(u),f=l?new i(1):1;if(c(u),s){var m=n(s);return u.length>0?m.resize(u,f):m}else{var p=[];return u.length>0?Mi(p,u,f):p}}function o(u){var s=!1;return u.forEach(function(l,f,m){nt(l)&&(s=!0,m[f]=l.toNumber())}),s}function c(u){u.forEach(function(s){if(typeof s!="number"||!We(s)||s<0)throw new Error("Parameters in function ones must be positive integers")})}});function Is(){throw new Error('No "bignumber" implementation available')}function Lf(){throw new Error('No "fraction" implementation available')}function qf(){throw new Error('No "matrix" implementation available')}var N_="range",WH=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Yu=S(N_,WH,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:u,add:s,isPositive:l}=r;return e(N_,{string:m,"string, boolean":m,"number, number":function(g,v){return f(p(g,v,1,!1))},"number, number, number":function(g,v,C){return f(p(g,v,C,!1))},"number, number, boolean":function(g,v,C){return f(p(g,v,1,C))},"number, number, number, boolean":function(g,v,C,y){return f(p(g,v,C,y))},"BigNumber, BigNumber":function(g,v){var C=g.constructor;return f(p(g,v,new C(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,v,C){return f(p(g,v,C,!1))},"BigNumber, BigNumber, boolean":function(g,v,C){var y=g.constructor;return f(p(g,v,new y(1),C))},"BigNumber, BigNumber, BigNumber, boolean":function(g,v,C,y){return f(p(g,v,C,y))},"Unit, Unit, Unit":function(g,v,C){return f(p(g,v,C,!1))},"Unit, Unit, Unit, boolean":function(g,v,C,y){return f(p(g,v,C,y))}});function f(d){return t.matrix==="Matrix"?n?n(d):qf():d}function m(d,g){var v=h(d);if(!v)throw new SyntaxError('String "'+d+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&Is(),f(p(i(v.start),i(v.end),i(v.step)),g)):f(p(v.start,v.end,v.step,g))}function p(d,g,v,C){for(var y=[],D=l(v)?C?o:a:C?u:c,b=d;D(b,g);)y.push(b),b=s(b,v);return y}function h(d){var g=d.split(":"),v=g.map(function(y){return Number(y)}),C=v.some(function(y){return isNaN(y)});if(C)return null;switch(v.length){case 2:return{start:v[0],end:v[1],step:1};case 3:return{start:v[0],end:v[2],step:v[1]};default:return null}}});var M_="reshape",GH=["typed","isInteger","matrix"],c0=S(M_,GH,r=>{var{typed:e,isInteger:t}=r;return e(M_,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),Bu(i,a)}})});var jH="resize",ZH=["config","matrix"],f0=S(jH,ZH,r=>{var{config:e,matrix:t}=r;return function(a,o,c){if(arguments.length!==2&&arguments.length!==3)throw new va("resize",arguments.length,2,3);if(Ge(o)&&(o=o.valueOf()),nt(o[0])&&(o=o.map(function(l){return nt(l)?l.toNumber():l})),Ge(a))return a.resize(o,c,!0);if(typeof a=="string")return n(a,o,c);var u=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return tt(a)}else{Array.isArray(a)||(a=[a]),a=tt(a);var s=Mi(a,o,c);return u?t(s):s}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new ot(a.length,1);var c=a[0];if(typeof c!="number"||!We(c))throw new TypeError("Invalid size, must contain positive integers (size: "+at(a)+")");if(i.length>c)return i.substring(0,c);if(i.length<c){for(var u=i,s=0,l=c-i.length;s<l;s++)u+=o;return u}else return i}});var T_="rotate",YH=["typed","multiply","rotationMatrix"],m0=S(T_,YH,r=>{var{typed:e,multiply:t,rotationMatrix:n}=r;return e(T_,{"Array , number | BigNumber | Complex | Unit":function(o,c){i(o,2);var u=t(n(c),o);return u.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,c){return i(o,2),t(n(c),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,c,u){i(o,3);var s=t(n(c,u),o);return s},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,c,u){return i(o,3),t(n(c,u),o)}});function i(a,o){var c=Array.isArray(a)?rt(a):a.size();if(c.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(c.length===2&&c[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(c[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var I_="rotationMatrix",JH=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],p0=S(I_,JH,r=>{var{typed:e,config:t,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:c,matrix:u,DenseMatrix:s,SparseMatrix:l,cos:f,sin:m}=r;return e(I_,{"":function(){return t.matrix==="Matrix"?u([]):[]},string:function(y){return u(y)},"number | BigNumber | Complex | Unit":function(y){return p(y,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,D){return p(y,D)},"number | BigNumber | Complex | Unit, Array":function(y,D){var b=u(D);return h(b),v(y,b,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,D){h(D);var b=D.storage()||(t.matrix==="Matrix"?"dense":void 0);return v(y,D,b)},"number | BigNumber | Complex | Unit, Array, string":function(y,D,b){var x=u(D);return h(x),v(y,x,b)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,D,b){return h(D),v(y,D,b)}});function p(C,y){var D=nt(C),b=D?new c(-1):-1,x=f(C),w=m(C),A=[[x,n(b,w)],[w,x]];return g(A,y)}function h(C){var y=C.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(C){return C.reduce((y,D)=>n(y,D))}function g(C,y){if(y){if(y==="sparse")return new l(C);if(y==="dense")return new s(C);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return C}function v(C,y,D){var b=o(y);if(b===0)throw new RangeError("Rotation around zero vector");var x=nt(C)?c:null,w=x?new x(1):1,A=x?new x(-1):-1,E=x?new x(y.get([0])/b):y.get([0])/b,F=x?new x(y.get([1])/b):y.get([1])/b,M=x?new x(y.get([2])/b):y.get([2])/b,B=f(C),k=i(w,a(B)),P=m(C),R=i(B,d([E,E,k])),T=i(d([E,F,k]),d([A,M,P])),I=i(d([E,M,k]),d([F,P])),V=i(d([E,F,k]),d([M,P])),O=i(B,d([F,F,k])),J=i(d([F,M,k]),d([A,E,P])),$=i(d([E,M,k]),d([A,F,P])),H=i(d([F,M,k]),d([E,P])),q=i(B,d([M,M,k])),ne=[[R,T,I],[V,O,J],[$,H,q]];return g(ne,D)}});var B_="row",XH=["typed","Index","matrix","range"],Ju=S(B_,XH,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(B_,{"Matrix, number":a,"Array, number":function(c,u){return a(n(tt(c)),u).valueOf()}});function a(o,c){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Vt(c,o.size()[0]);var u=i(0,o.size()[1]),s=new t(c,u),l=o.subset(s);return Ge(l)?l:n([[l]])}});var O_="size",QH=["typed","config","?matrix"],d0=S(O_,QH,r=>{var{typed:e,config:t,matrix:n}=r;return e(O_,{Matrix:function(a){return a.create(a.size())},Array:rt,string:function(a){return t.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:n?n([]):qf()}})});var k_="squeeze",KH=["typed","matrix"],h0=S(k_,KH,r=>{var{typed:e,matrix:t}=r;return e(k_,{Array:function(i){return Es(tt(i))},Matrix:function(i){var a=Es(i.toArray());return Array.isArray(a)?t(a):a},any:function(i){return tt(i)}})});var P_="subset",$H=["typed","matrix","zeros","add"],Xu=S(P_,$H,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r;return e(P_,{"Matrix, Index":function(c,u){return No(u)?t():(Iu(c,u),c.subset(u))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(c,u){var s=o(t(c),u);return u.isScalar()?s:s.valueOf()}}),"Object, Index":tW,"string, Index":eW,"Matrix, Index, any, any":function(c,u,s,l){return No(u)?c:(Iu(c,u),c.clone().subset(u,a(s,u),l))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,u,s,l){var f=o(t(c),u,s,l);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,u,s){return o(t(c),u,s,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(c,u,s){return o(c,u,s,void 0)}}),"string, Index, string":R_,"string, Index, string, string":R_,"Object, Index, any":rW});function a(o,c){if(typeof o=="string")throw new Error("can't boradcast a string");if(c._isScalar)return o;var u=c.size();if(u.every(s=>s>0))try{return i(o,n(u))}catch(s){return o}else return o}});function eW(r,e){if(!Ua(e))throw new TypeError("Index expected");if(No(e))return"";if(Iu(Array.from(r),e),e.size().length!==1)throw new ot(e.size().length,1);var t=r.length;Vt(e.min()[0],t),Vt(e.max()[0],t);var n=e.dimension(0),i="";return n.forEach(function(a){i+=r.charAt(a)}),i}function R_(r,e,t,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(No(e))return r;if(Iu(Array.from(r),e),e.size().length!==1)throw new ot(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new ot(i.size()[0],t.length);var o=r.length;Vt(e.min()[0]),Vt(e.max()[0]);for(var c=[],u=0;u<o;u++)c[u]=r.charAt(u);if(i.forEach(function(f,m){c[f]=t.charAt(m[0])}),c.length>o)for(var s=o-1,l=c.length;s<l;s++)c[s]||(c[s]=n);return c.join("")}function tW(r,e){if(!No(e)){if(e.size().length!==1)throw new ot(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return lr(r,t)}}function rW(r,e,t){if(No(e))return r;if(e.size().length!==1)throw new ot(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=tt(r);return Yi(i,n,t),i}var L_="transpose",nW=["typed","matrix"],g0=S(L_,nW,r=>{var{typed:e,matrix:t}=r;return e(L_,{Array:o=>n(t(o)).valueOf(),Matrix:n,any:tt});function n(o){var c=o.size(),u;switch(c.length){case 1:u=o.clone();break;case 2:{var s=c[0],l=c[1];if(l===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+at(c)+")");switch(o.storage()){case"dense":u=i(o,s,l);break;case"sparse":u=a(o,s,l);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+at(c)+")")}return u}function i(o,c,u){for(var s=o._data,l=[],f,m=0;m<u;m++){f=l[m]=[];for(var p=0;p<c;p++)f[p]=tt(s[p][m])}return o.createDenseMatrix({data:l,size:[u,c],datatype:o._datatype})}function a(o,c,u){for(var s=o._values,l=o._index,f=o._ptr,m=s?[]:void 0,p=[],h=[],d=[],g=0;g<c;g++)d[g]=0;var v,C,y;for(v=0,C=l.length;v<C;v++)d[l[v]]++;for(var D=0,b=0;b<c;b++)h.push(D),D+=d[b],d[b]=h[b];for(h.push(D),y=0;y<u;y++)for(var x=f[y],w=f[y+1],A=x;A<w;A++){var E=d[l[A]]++;p[E]=y,s&&(m[E]=tt(s[A]))}return o.createSparseMatrix({values:m,index:p,ptr:h,size:[u,c],datatype:o._datatype})}});var q_="ctranspose",iW=["typed","transpose","conj"],v0=S(q_,iW,r=>{var{typed:e,transpose:t,conj:n}=r;return e(q_,{any:function(a){return n(t(a))}})});var V_="zeros",aW=["typed","config","matrix","BigNumber"],y0=S(V_,aW,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(V_,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var l=s[s.length-1];if(typeof l=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var l=s.storage();return a(s.valueOf(),l)},"Array | Matrix, string":function(s,l){return a(s.valueOf(),l)}});function a(u,s){var l=o(u),f=l?new i(0):0;if(c(u),s){var m=n(s);return u.length>0?m.resize(u,f):m}else{var p=[];return u.length>0?Mi(p,u,f):p}}function o(u){var s=!1;return u.forEach(function(l,f,m){nt(l)&&(s=!0,m[f]=l.toNumber())}),s}function c(u){u.forEach(function(s){if(typeof s!="number"||!We(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});var U_="fft",oW=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],b0=S(U_,oW,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:c,i:u,dotDivide:s,conj:l,pow:f,ceil:m,log2:p}=r;return e(U_,{Array:h,Matrix:function(y){return y.create(h(y.toArray()))}});function h(C){var y=rt(C);return y.length===1?v(C,y[0]):d(C.map(D=>h(D,y.slice(1))),0)}function d(C,y){var D=rt(C);if(y!==0)return new Array(D[0]).fill(0).map((x,w)=>d(C[w],y-1));if(D.length===1)return v(C);function b(x){var w=rt(x);return new Array(w[1]).fill(0).map((A,E)=>new Array(w[0]).fill(0).map((F,M)=>x[M][E]))}return b(d(b(C),1))}function g(C){for(var y=C.length,D=o(a(i(-1,i(u,c)),y)),b=[],x=1-y;x<y;x++)b.push(f(D,a(f(x,2),2)));for(var w=f(2,m(p(y+y-1))),A=[...new Array(y).fill(0).map((T,I)=>i(C[I],b[y-1+I])),...new Array(w-y).fill(0)],E=[...new Array(y+y-1).fill(0).map((T,I)=>a(1,b[I])),...new Array(w-(y+y-1)).fill(0)],F=v(A),M=v(E),B=new Array(w).fill(0).map((T,I)=>i(F[I],M[I])),k=s(l(h(l(B))),w),P=[],R=y-1;R<y+y-1;R++)P.push(i(k[R],b[R]));return P}function v(C){var y=C.length;if(y===1)return[C[0]];if(y%2===0){for(var D=[...v(C.filter((A,E)=>E%2===0),y/2),...v(C.filter((A,E)=>E%2===1),y/2)],b=0;b<y/2;b++){var x=D[b],w=i(D[b+y/2],o(i(i(c,u),a(-b,y))));D[b]=n(x,w),D[b+y/2]=n(x,i(-1,w))}return D}else return g(C)}});var z_="ifft",sW=["typed","fft","dotDivide","conj"],x0=S(z_,sW,r=>{var{typed:e,fft:t,dotDivide:n,conj:i}=r;return e(z_,{"Array | Matrix":function(o){var c=Ge(o)?o.size():rt(o);return n(i(t(i(o))),c.reduce((u,s)=>u*s,1))}})});function Ka(r){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(r)}function D0(r,e){if(Ka(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Ka(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function w0(r){var e=D0(r,"string");return Ka(e)==="symbol"?e:String(e)}function Pt(r,e,t){return e=w0(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function H_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function uW(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(t),!0).forEach(function(n){Pt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):H_(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var lW="solveODE",cW=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],E0=S(lW,cW,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,max:o,map:c,abs:u,isPositive:s,isNegative:l,larger:f,smaller:m,matrix:p,bignumber:h,unaryMinus:d}=r;function g(A){return function(E,F,M,B){var k=!(F.length===2&&(F.every(x)||F.every(on)));if(k)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var P=F[0],R=F[1],T=f(R,P),I=B.firstStep;if(I!==void 0&&!s(I))throw new Error('"firstStep" must be positive');var V=B.maxStep;if(V!==void 0&&!s(V))throw new Error('"maxStep" must be positive');var O=B.minStep;if(O&&l(O))throw new Error('"minStep" must be positive or zero');var J=[P,R,I,O,V].filter(qe=>qe!==void 0);if(!(J.every(x)||J.every(on)))throw new Error('Inconsistent type of "t" dependant variables');for(var $=1,H=B.tol?B.tol:1e-4,q=B.minDelta?B.minDelta:.2,ne=B.maxDelta?B.maxDelta:5,be=B.maxIter?B.maxIter:1e4,oe=[P,R,...M,V,O].some(nt),[ue,me,se,ce]=oe?[h(A.a),h(A.c),h(A.b),h(A.bp)]:[A.a,A.c,A.b,A.bp],pe=I?T?I:d(I):a(n(R,P),$),ge=[P],Re=[M],Ee=n(se,ce),z=0,j=0,fe=D(T),W=b(T);fe(ge[z],R);){var K=[];pe=W(ge[z],R,pe),K.push(E(ge[z],Re[z]));for(var ie=1;ie<me.length;++ie)K.push(E(t(ge[z],i(me[ie],pe)),t(Re[z],i(pe,ue[ie],K))));var ve=o(u(c(i(Ee,K),qe=>on(qe)?qe.value:qe)));ve<H&&H/ve>1/4&&(ge.push(t(ge[z],pe)),Re.push(t(Re[z],i(pe,se,K))),z++);var xe=.84*(H/ve)**(1/5);if(m(xe,q)?xe=q:f(xe,ne)&&(xe=ne),xe=oe?h(xe):xe,pe=i(pe,xe),V&&f(u(pe),V)?pe=T?V:d(V):O&&m(u(pe),O)&&(pe=T?O:d(O)),j++,j>be)throw new Error("Maximum number of iterations reached, try changing options")}return{t:ge,y:Re}}}function v(A,E,F,M){var B=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],k=[null,1/2,3/4,1],P=[2/9,1/3,4/9,0],R=[7/24,1/4,1/3,1/8],T={a:B,c:k,b:P,bp:R};return g(T)(A,E,F,M)}function C(A,E,F,M){var B=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],k=[null,1/5,3/10,4/5,8/9,1,1],P=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],R=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],T={a:B,c:k,b:P,bp:R};return g(T)(A,E,F,M)}function y(A,E,F,M){var B=M.method?M.method:"RK45",k={RK23:v,RK45:C};if(B.toUpperCase()in k){var P=uW({},M);return delete P.method,k[B.toUpperCase()](A,E,F,P)}else{var R=Object.keys(k).map(I=>'"'.concat(I,'"')),T="".concat(R.slice(0,-1).join(", ")," and ").concat(R.slice(-1));throw new Error('Unavailable method "'.concat(B,'". Available methods are ').concat(T))}}function D(A){return A?m:f}function b(A){var E=A?f:m;return function(F,M,B){var k=t(F,B);return E(k,M)?n(M,F):B}}function x(A){return nt(A)||it(A)}function w(A,E,F,M){var B=y(A,E.toArray(),F.toArray(),M);return{t:p(B.t),y:p(B.y)}}return e("solveODE",{"function, Array, Array, Object":y,"function, Matrix, Matrix, Object":w,"function, Array, Array":(A,E,F)=>y(A,E,F,{}),"function, Matrix, Matrix":(A,E,F)=>w(A,E,F,{}),"function, Array, number | BigNumber | Unit":(A,E,F)=>{var M=y(A,E,[F],{});return{t:M.t,y:M.y.map(B=>B[0])}},"function, Matrix, number | BigNumber | Unit":(A,E,F)=>{var M=y(A,E.toArray(),[F],{});return{t:p(M.t),y:p(M.y.map(B=>B[0]))}},"function, Array, number | BigNumber | Unit, Object":(A,E,F,M)=>{var B=y(A,E,[F],M);return{t:B.t,y:B.y.map(k=>k[0])}},"function, Matrix, number | BigNumber | Unit, Object":(A,E,F,M)=>{var B=y(A,E.toArray(),[F],M);return{t:p(B.t),y:p(B.y.map(k=>k[0]))}}})});var fW="erf",mW=["typed"],C0=S(fW,mW,r=>{var{typed:e}=r;return e("name",{number:function(o){var c=Math.abs(o);return c>=hW?si(o):c<=pW?si(o)*t(c):c<=4?si(o)*(1-n(c)):si(o)*(1-i(c))},"Array | Matrix":e.referToSelf(a=>o=>Je(o,a))});function t(a){var o=a*a,c=ya[0][4]*o,u=o,s;for(s=0;s<3;s+=1)c=(c+ya[0][s])*o,u=(u+Bs[0][s])*o;return a*(c+ya[0][3])/(u+Bs[0][3])}function n(a){var o=ya[1][8]*a,c=a,u;for(u=0;u<7;u+=1)o=(o+ya[1][u])*a,c=(c+Bs[1][u])*a;var s=(o+ya[1][7])/(c+Bs[1][7]),l=parseInt(a*16)/16,f=(a-l)*(a+l);return Math.exp(-l*l)*Math.exp(-f)*s}function i(a){var o=1/(a*a),c=ya[2][5]*o,u=o,s;for(s=0;s<4;s+=1)c=(c+ya[2][s])*o,u=(u+Bs[2][s])*o;var l=o*(c+ya[2][4])/(u+Bs[2][4]);l=(dW-l)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*l}}),pW=.46875,dW=.5641895835477563,ya=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Bs=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],hW=Math.pow(2,53);var W_="zeta",gW=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],F0=S(W_,gW,r=>{var{typed:e,config:t,multiply:n,pow:i,divide:a,factorial:o,equal:c,smallerEq:u,isNegative:s,gamma:l,sin:f,subtract:m,add:p,Complex:h,BigNumber:d,pi:g}=r;return e(W_,{number:x=>v(x,w=>w,()=>20),BigNumber:x=>v(x,w=>new d(w),()=>Math.abs(Math.log10(t.epsilon))),Complex:C});function v(x,w,A){return c(x,0)?w(-.5):c(x,1)?w(NaN):isFinite(x)?y(x,w,A,E=>E):s(x)?w(NaN):w(1)}function C(x){return x.re===0&&x.im===0?new h(-.5):x.re===1?new h(NaN,NaN):x.re===1/0&&x.im===0?new h(1):x.im===1/0||x.re===-1/0?new h(NaN,NaN):y(x,w=>w,w=>Math.round(1.3*15+.9*Math.abs(w.im)),w=>w.re)}function y(x,w,A,E){var F=A(x);if(E(x)>-(F-1)/2)return b(x,w(F),w);var M=n(i(2,x),i(w(g),m(x,1)));return M=n(M,f(n(a(w(g),2),x))),M=n(M,l(m(1,x))),n(M,y(m(1,x),w,A,E))}function D(x,w){for(var A=x,E=x;u(E,w);E=p(E,1)){var F=a(n(o(p(w,m(E,1))),i(4,E)),n(o(m(w,E)),o(n(2,E))));A=p(A,F)}return n(w,A)}function b(x,w,A){for(var E=a(1,n(D(A(0),w),m(1,i(2,m(1,x))))),F=A(0),M=A(1);u(M,w);M=p(M,1))F=p(F,a(n((-1)**(M-1),D(M,w)),i(M,x)));return n(E,F)}});var G_="mode",vW=["typed","isNaN","isNumeric"],A0=S(G_,vW,r=>{var{typed:e,isNaN:t,isNumeric:n}=r;return e(G_,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=dt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var c={},u=[],s=0,l=0;l<a.length;l++){var f=a[l];if(n(f)&&t(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in c||(c[f]=0),c[f]++,c[f]===s?u.push(f):c[f]>s&&(s=c[f],u=[f])}return u}});function gr(r,e,t){var n;return String(r).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+Dt(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+Dt(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var j_="prod",yW=["typed","config","multiplyScalar","numeric"],S0=S(j_,yW,r=>{var{typed:e,config:t,multiplyScalar:n,numeric:i}=r;return e(j_,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(c){return a(c)}});function a(o){var c;if(dn(o,function(u){try{c=c===void 0?u:n(c,u)}catch(s){throw gr(s,"prod",u)}}),typeof c=="string"&&(c=i(c,t.number)),c===void 0)throw new Error("Cannot calculate prod of an empty array");return c}});var Z_="format",bW=["typed"],_0=S(Z_,bW,r=>{var{typed:e}=r;return e(Z_,{any:at,"any, Object | function | number":at})});var Y_="bin",xW=["typed","format"],N0=S(Y_,xW,r=>{var{typed:e,format:t}=r;return e(Y_,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var J_="oct",DW=["typed","format"],M0=S(J_,DW,r=>{var{typed:e,format:t}=r;return e(J_,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var X_="hex",wW=["typed","format"],T0=S(X_,wW,r=>{var{typed:e,format:t}=r;return e(X_,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var Vf=/\$([\w.]+)/g;var Q_="print",EW=["typed"],Qu=S(Q_,EW,r=>{var{typed:e}=r;return e(Q_,{"string, Object | Array":K_,"string, Object | Array, number | Object":K_})});function K_(r,e,t){return r.replace(Vf,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var c=a.shift();o=c?o[c]:o+"."}return o!==void 0?dr(o)?o:at(o,t):n})}var $_="to",CW=["typed","matrix","concat"],I0=S($_,CW,r=>{var{typed:e,matrix:t,concat:n}=r,i=ct({typed:e,matrix:t,concat:n});return e($_,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var eN="isPrime",FW=["typed"],B0=S(eN,FW,r=>{var{typed:e}=r;return e(eN,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(C,y,D){for(var b=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),C=C.mul(C).mod(D)):(y=y.sub(1),b=C.mul(b).mod(D));return b}var c=n.constructor.clone({precision:n.toFixed(0).length*2});n=new c(n);for(var u=0,s=n.sub(1);s.mod(2).eq(0);)s=s.div(2),u+=1;var l=null;if(n.lt("3317044064679887385961981"))l=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(C=>C<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));l=[];for(var m=2;m<=f;m+=1)l.push(f)}for(var p=0;p<l.length;p+=1){var h=l[p],d=o(n.sub(n).add(h),s,n);if(!d.eq(1)){for(var g=0,v=d;!v.eq(n.sub(1));g+=1,v=v.mul(v).mod(n))if(g===u-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>n=>Je(n,t))})});var AW="numeric",SW=["number","?bignumber","?fraction"],O0=S(AW,SW,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):Is,Fraction:n?o=>n(o):Lf};return function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var l=Dt(c);if(!(l in i))throw new TypeError("Cannot convert "+c+' of type "'+l+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+c+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===l?c:a[u](c)}});var tN="divideScalar",_W=["typed","numeric"],k0=S(tN,_W,r=>{var{typed:e,numeric:t}=r;return e(tN,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var rN="pow",NW=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],P0=S(rN,NW,r=>{var{typed:e,config:t,identity:n,multiply:i,matrix:a,inv:o,number:c,fraction:u,Complex:s}=r;return e(rN,{"number, number":l,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||t.predictable?h.pow(d):new s(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var g=h.pow(d);if(g!=null)return g;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return l(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(h,d){return m(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function l(p,h){if(t.predictable&&!We(h)&&p<0)try{var d=u(h),g=c(d);if((h===g||Math.abs((h-g)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-p,h)}catch(v){}return t.predictable&&(p<-1&&h===1/0||p>-1&&p<0&&h===-1/0)?NaN:We(h)||p>=0||t.predictable?lg(p,h):p*p<1&&h===1/0||p*p>1&&h===-1/0?0:new s(p,0).pow(h,0)}function f(p,h){if(!We(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=rt(p);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(p),-h)}catch(C){throw C.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):C}for(var g=n(d[0]).valueOf(),v=p;h>=1;)(h&1)===1&&(g=i(v,g)),h>>=1,v=i(v,v);return g}function m(p,h){return a(f(p.valueOf(),h))}});var Os="Number of decimals in function round must be an integer",nN="round",MW=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],R0=S(nN,MW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,BigNumber:a,DenseMatrix:o}=r,c=Ut({typed:e,equalScalar:n}),u=It({typed:e,DenseMatrix:o}),s=Sr({typed:e});return e(nN,{number:cg,"number, number":cg,"number, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Os);return new a(f).toDecimalPlaces(m.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,m){if(m%1)throw new TypeError(Os);return f.round(m)},"Complex, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Os);var p=m.toNumber();return f.round(p)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Os);return f.toDecimalPlaces(m.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,m){if(m%1)throw new TypeError(Os);return f.round(m)},"Fraction, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Os);return f.round(m.toNumber())},"Array | Matrix":e.referToSelf(l=>f=>Je(f,l,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(l=>(f,m)=>c(f,m,l,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(l=>(f,m)=>s(f,m,l,!1)),"Array, number | BigNumber":e.referToSelf(l=>(f,m)=>s(t(f),m,l,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(l=>(f,m)=>n(f,0)?i(m.size(),m.storage()):u(m,f,l,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(l=>(f,m)=>n(f,0)?i(m.size(),m.storage()):s(m,f,l,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(l=>(f,m)=>s(t(m),f,l,!0).valueOf())})});var iN="log",TW=["config","typed","divideScalar","Complex"],L0=S(iN,TW,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r;return e(iN,{number:function(o){return o>=0||t.predictable?sS(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,c)=>n(a(o),a(c)))})});var aN="log1p",IW=["typed","config","divideScalar","log","Complex"],q0=S(aN,IW,r=>{var{typed:e,config:t,divideScalar:n,log:i,Complex:a}=r;return e(aN,{number:function(u){return u>=-1||t.predictable?mf(u):o(new a(u,0))},Complex:o,BigNumber:function(u){var s=u.plus(1);return!s.isNegative()||t.predictable?s.ln():o(new a(u.toNumber(),0))},"Array | Matrix":e.referToSelf(c=>u=>Je(u,c)),"any, any":e.referToSelf(c=>(u,s)=>n(c(u),i(s)))});function o(c){var u=c.re+1;return new a(Math.log(Math.sqrt(u*u+c.im*c.im)),Math.atan2(c.im,u))}});var oN="nthRoots",BW=["config","typed","divideScalar","Complex"],V0=S(oN,BW,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r,a=[function(u){return new i(u,0)},function(u){return new i(0,u)},function(u){return new i(-u,0)},function(u){return new i(0,-u)}];function o(c,u){if(u<0)throw new Error("Root must be greater than zero");if(u===0)throw new Error("Root must be non-zero");if(u%1!==0)throw new Error("Root must be an integer");if(c===0||c.abs()===0)return[new i(0,0)];var s=typeof c=="number",l;(s||c.re===0||c.im===0)&&(s?l=2*+(c<0):c.im===0?l=2*+(c.re<0):l=2*+(c.im<0)+1);for(var f=c.arg(),m=c.abs(),p=[],h=Math.pow(m,1/u),d=0;d<u;d++){var g=(l+4*d)/u;if(g===Math.round(g)){p.push(a[g%4](h));continue}p.push(new i({r:h,phi:(f+2*Math.PI*d)/u}))}return p}return e(oN,{Complex:function(u){return o(u,2)},"Complex, number":o})});var sN="dotPow",OW=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],U0=S(sN,OW,r=>{var{typed:e,equalScalar:t,matrix:n,pow:i,DenseMatrix:a,concat:o}=r,c=Xt({typed:e}),u=Or({typed:e,DenseMatrix:a}),s=Ut({typed:e,equalScalar:t}),l=It({typed:e,DenseMatrix:a}),f=ct({typed:e,matrix:n,concat:o}),m={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(m[p]=i.signatures[p]);var h=e(m);return e(sN,f({elop:h,SS:u,DS:c,Ss:s,sS:l}))});var uN="dotDivide",kW=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],z0=S(uN,kW,r=>{var{typed:e,matrix:t,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=r,c=_r({typed:e,equalScalar:n}),u=Xt({typed:e}),s=Or({typed:e,DenseMatrix:a}),l=Ut({typed:e,equalScalar:n}),f=It({typed:e,DenseMatrix:a}),m=ct({typed:e,matrix:t,concat:o});return e(uN,m({elop:i,SS:s,DS:u,SD:c,Ss:l,sS:f}))});function Ki(r){var{DenseMatrix:e}=r;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+at(o)+")");var c=o[0],u=o[1];if(c!==u)throw new RangeError("Matrix must be square (size: "+at(o)+")");var s=[];if(Ge(i)){var l=i.size(),f=i._data;if(l.length===1){if(l[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var m=0;m<c;m++)s[m]=[f[m]];return new e({data:s,size:[c,1],datatype:i._datatype})}if(l.length===2){if(l[0]!==c||l[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Ao(i)){if(a){s=[];for(var p=0;p<c;p++)s[p]=[f[p][0]];return new e({data:s,size:[c,1],datatype:i._datatype})}return i}if(Si(i)){for(var h=0;h<c;h++)s[h]=[0];for(var d=i._values,g=i._index,v=i._ptr,C=v[1],y=v[0];y<C;y++){var D=g[y];s[D][0]=d[y]}return new e({data:s,size:[c,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Et(i)){var b=rt(i);if(b.length===1){if(b[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<c;x++)s[x]=[i[x]];return new e({data:s,size:[c,1]})}if(b.length===2){if(b[0]!==c||b[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var w=0;w<c;w++)s[w]=[i[w][0]];return new e({data:s,size:[c,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var lN="lsolve",PW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],H0=S(lN,PW,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=r,u=Ki({DenseMatrix:c});return e(lN,{"SparseMatrix, Array | Matrix":function(m,p){return l(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=t(m),d=s(h,p);return d.valueOf()}});function s(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=[],v=f._data,C=0;C<d;C++){var y=p[C][0]||0,D=void 0;if(o(y,0))D=0;else{var b=v[C][C];if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(y,b);for(var x=C+1;x<h;x++)p[x]=[a(p[x][0]||0,i(D,v[x][C]))]}g[C]=[D]}return new c({data:g,size:[h,1]})}function l(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,C=f._ptr,y=[],D=0;D<d;D++){var b=p[D][0]||0;if(o(b,0))y[D]=[0];else{for(var x=0,w=[],A=[],E=C[D],F=C[D+1],M=E;M<F;M++){var B=v[M];B===D?x=g[M]:B>D&&(w.push(g[M]),A.push(B))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(b,x),P=0,R=A.length;P<R;P++){var T=A[P];p[T]=[a(p[T][0]||0,i(k,w[P]))]}y[D]=[k]}}return new c({data:y,size:[h,1]})}});var cN="usolve",RW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],W0=S(cN,RW,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=r,u=Ki({DenseMatrix:c});return e(cN,{"SparseMatrix, Array | Matrix":function(m,p){return l(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=t(m),d=s(h,p);return d.valueOf()}});function s(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=[],v=f._data,C=d-1;C>=0;C--){var y=p[C][0]||0,D=void 0;if(o(y,0))D=0;else{var b=v[C][C];if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(y,b);for(var x=C-1;x>=0;x--)p[x]=[a(p[x][0]||0,i(D,v[x][C]))]}g[C]=[D]}return new c({data:g,size:[h,1]})}function l(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,C=f._ptr,y=[],D=d-1;D>=0;D--){var b=p[D][0]||0;if(o(b,0))y[D]=[0];else{for(var x=0,w=[],A=[],E=C[D],F=C[D+1],M=F-1;M>=E;M--){var B=v[M];B===D?x=g[M]:B<D&&(w.push(g[M]),A.push(B))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(b,x),P=0,R=A.length;P<R;P++){var T=A[P];p[T]=[a(p[T][0],i(k,w[P]))]}y[D]=[k]}}return new c({data:y,size:[h,1]})}});var fN="lsolveAll",LW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],G0=S(fN,LW,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=r,u=Ki({DenseMatrix:c});return e(fN,{"SparseMatrix, Array | Matrix":function(m,p){return l(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=t(m),d=s(h,p);return d.map(g=>g.valueOf())}});function s(f,m){for(var p=[u(f,m,!0)._data.map(A=>A[0])],h=f._data,d=f._size[0],g=f._size[1],v=0;v<g;v++)for(var C=p.length,y=0;y<C;y++){var D=p[y];if(o(h[v][v],0))if(o(D[v],0)){if(y===0){var x=[...D];x[v]=1;for(var w=v+1;w<g;w++)x[w]=a(x[w],h[w][v]);p.push(x)}}else{if(y===0)return[];p.splice(y,1),y-=1,C-=1}else{D[v]=n(D[v],h[v][v]);for(var b=v+1;b<g;b++)D[b]=a(D[b],i(D[v],h[b][v]))}}return p.map(A=>new c({data:A.map(E=>[E]),size:[d,1]}))}function l(f,m){for(var p=[u(f,m,!0)._data.map($=>$[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,C=f._ptr,y=0;y<d;y++)for(var D=p.length,b=0;b<D;b++){for(var x=p[b],w=[],A=[],E=C[y],F=C[y+1],M=0,B=E;B<F;B++){var k=v[B];k===y?M=g[B]:k>y&&(w.push(g[B]),A.push(k))}if(o(M,0))if(o(x[y],0)){if(b===0){var I=[...x];I[y]=1;for(var V=0,O=A.length;V<O;V++){var J=A[V];I[J]=a(I[J],w[V])}p.push(I)}}else{if(b===0)return[];p.splice(b,1),b-=1,D-=1}else{x[y]=n(x[y],M);for(var P=0,R=A.length;P<R;P++){var T=A[P];x[T]=a(x[T],i(x[y],w[P]))}}}return p.map($=>new c({data:$.map(H=>[H]),size:[h,1]}))}});var mN="usolveAll",qW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],j0=S(mN,qW,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:c}=r,u=Ki({DenseMatrix:c});return e(mN,{"SparseMatrix, Array | Matrix":function(m,p){return l(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=t(m),d=s(h,p);return d.map(g=>g.valueOf())}});function s(f,m){for(var p=[u(f,m,!0)._data.map(A=>A[0])],h=f._data,d=f._size[0],g=f._size[1],v=g-1;v>=0;v--)for(var C=p.length,y=0;y<C;y++){var D=p[y];if(o(h[v][v],0))if(o(D[v],0)){if(y===0){var x=[...D];x[v]=1;for(var w=v-1;w>=0;w--)x[w]=a(x[w],h[w][v]);p.push(x)}}else{if(y===0)return[];p.splice(y,1),y-=1,C-=1}else{D[v]=n(D[v],h[v][v]);for(var b=v-1;b>=0;b--)D[b]=a(D[b],i(D[v],h[b][v]))}}return p.map(A=>new c({data:A.map(E=>[E]),size:[d,1]}))}function l(f,m){for(var p=[u(f,m,!0)._data.map($=>$[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,C=f._ptr,y=d-1;y>=0;y--)for(var D=p.length,b=0;b<D;b++){for(var x=p[b],w=[],A=[],E=C[y],F=C[y+1],M=0,B=F-1;B>=E;B--){var k=v[B];k===y?M=g[B]:k<y&&(w.push(g[B]),A.push(k))}if(o(M,0))if(o(x[y],0)){if(b===0){var I=[...x];I[y]=1;for(var V=0,O=A.length;V<O;V++){var J=A[V];I[J]=a(I[J],w[V])}p.push(I)}}else{if(b===0)return[];p.splice(b,1),b-=1,D-=1}else{x[y]=n(x[y],M);for(var P=0,R=A.length;P<R;P++){var T=A[P];x[T]=a(x[T],i(x[y],w[P]))}}}return p.map($=>new c({data:$.map(H=>[H]),size:[h,1]}))}});var VW="matAlgo08xS0Sid",UW=["typed","equalScalar"],ks=S(VW,UW,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var c=i._values,u=i._index,s=i._ptr,l=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(l.length!==d.length)throw new ot(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!c||!m)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v=l[0],C=l[1],y,D=t,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(t,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));for(var w=[],A=[],E=[],F=[],M=[],B,k,P,R,T=0;T<C;T++){E[T]=A.length;var I=T+1;for(k=s[T],P=s[T+1],B=k;B<P;B++)R=u[B],M[R]=I,F[R]=c[B],A.push(R);for(k=h[T],P=h[T+1],B=k;B<P;B++)R=p[B],M[R]===I&&(F[R]=x(F[R],m[B]));for(B=E[T];B<A.length;){R=A[B];var V=F[R];D(V,b)?A.splice(B,1):(w.push(V),B++)}}return E[C]=A.length,i.createSparseMatrix({values:w,index:A,ptr:E,size:[v,C],datatype:y})}});var Ps=S("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:e,matrix:t}=r;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf())}});var pN="leftShift",zW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Z0=S(pN,zW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,c=hn({typed:e}),u=_r({typed:e,equalScalar:n}),s=ks({typed:e,equalScalar:n}),l=Pn({typed:e,DenseMatrix:a}),f=Ut({typed:e,equalScalar:n}),m=Sr({typed:e}),p=ct({typed:e,matrix:t,concat:o}),h=Ps({typed:e,matrix:t});return e(pN,{"number, number":hg,"BigNumber, BigNumber":n_,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):l(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:c,SD:u}))});var dN="rightArithShift",HW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Y0=S(dN,HW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,c=hn({typed:e}),u=_r({typed:e,equalScalar:n}),s=ks({typed:e,equalScalar:n}),l=Pn({typed:e,DenseMatrix:a}),f=Ut({typed:e,equalScalar:n}),m=Sr({typed:e}),p=ct({typed:e,matrix:t,concat:o}),h=Ps({typed:e,matrix:t});return e(dN,{"number, number":gg,"BigNumber, BigNumber":i_,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):l(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:c,SD:u}))});var hN="rightLogShift",WW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],J0=S(hN,WW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,c=hn({typed:e}),u=_r({typed:e,equalScalar:n}),s=ks({typed:e,equalScalar:n}),l=Pn({typed:e,DenseMatrix:a}),f=Ut({typed:e,equalScalar:n}),m=Sr({typed:e}),p=ct({typed:e,matrix:t,concat:o}),h=Ps({typed:e,matrix:t});return e(hN,{"number, number":vg,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):l(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:c,SD:u}))});var gN="and",GW=["typed","matrix","equalScalar","zeros","not","concat"],X0=S(gN,GW,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,c=_r({typed:e,equalScalar:n}),u=Qa({typed:e,equalScalar:n}),s=Ut({typed:e,equalScalar:n}),l=Sr({typed:e}),f=ct({typed:e,matrix:t,concat:o});return e(gN,{"number, number":Eg,"Complex, Complex":function(p,h){return(p.re!==0||p.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(p,h){return!p.isZero()&&!h.isZero()&&!p.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(m=>(p,h)=>m(p.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(m=>(p,h)=>a(h)?i(p.size(),p.storage()):s(p,h,m,!1)),"DenseMatrix, any":e.referToSelf(m=>(p,h)=>a(h)?i(p.size(),p.storage()):l(p,h,m,!1)),"any, SparseMatrix":e.referToSelf(m=>(p,h)=>a(p)?i(p.size(),p.storage()):s(h,p,m,!0)),"any, DenseMatrix":e.referToSelf(m=>(p,h)=>a(p)?i(p.size(),p.storage()):l(h,p,m,!0)),"Array, any":e.referToSelf(m=>(p,h)=>m(t(p),h).valueOf()),"any, Array":e.referToSelf(m=>(p,h)=>m(p,t(h)).valueOf())},f({SS:u,DS:c}))});var Uf="compare",jW=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],Q0=S(Uf,jW,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:c,concat:u}=r,s=Xt({typed:e}),l=Xa({typed:e,equalScalar:n}),f=It({typed:e,DenseMatrix:c}),m=ct({typed:e,matrix:i,concat:u}),p=li({typed:e});return e(Uf,ZW({typed:e,config:t}),{"boolean, boolean":function(d,g){return d===g?0:d>g?1:-1},"BigNumber, BigNumber":function(d,g){return Zr(d,g,t.epsilon)?new a(0):new a(d.cmp(g))},"Fraction, Fraction":function(d,g){return new o(d.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,m({SS:l,DS:s,Ss:f}))}),ZW=S(Uf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Uf,{"number, number":function(i,a){return Ar(i,a,t.epsilon)?0:i>a?1:-1}})});var Oo=fr(yN(),1);var bN="compareNatural",YW=["typed","compare"],K0=S(bN,YW,r=>{var{typed:e,compare:t}=r,n=t.signatures["boolean,boolean"];return e(bN,{"any, any":i});function i(u,s){var l=Dt(u),f=Dt(s),m;if((l==="number"||l==="BigNumber"||l==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return m=t(u,s),m.toString()!=="0"?m>0?1:-1:(0,Oo.default)(l,f);var p=["Array","DenseMatrix","SparseMatrix"];if(p.includes(l)||p.includes(f))return m=a(i,u,s),m!==0?m:(0,Oo.default)(l,f);if(l!==f)return(0,Oo.default)(l,f);if(l==="Complex")return JW(u,s);if(l==="Unit")return u.equalBase(s)?i(u.value,s.value):o(i,u.formatUnits(),s.formatUnits());if(l==="boolean")return n(u,s);if(l==="string")return(0,Oo.default)(u,s);if(l==="Object")return c(i,u,s);if(l==="null"||l==="undefined")return 0;throw new TypeError('Unsupported type of value "'+l+'"')}function a(u,s,l){return Si(s)&&Si(l)?o(u,s.toJSON().values,l.toJSON().values):Si(s)?a(u,s.toArray(),l):Si(l)?a(u,s,l.toArray()):Ao(s)?a(u,s.toJSON().data,l):Ao(l)?a(u,s,l.toJSON().data):Array.isArray(s)?Array.isArray(l)?o(u,s,l):a(u,s,[l]):a(u,[s],l)}function o(u,s,l){for(var f=0,m=Math.min(s.length,l.length);f<m;f++){var p=u(s[f],l[f]);if(p!==0)return p}return s.length>l.length?1:s.length<l.length?-1:0}function c(u,s,l){var f=Object.keys(s),m=Object.keys(l);f.sort(Oo.default),m.sort(Oo.default);var p=o(u,f,m);if(p!==0)return p;for(var h=0;h<f.length;h++){var d=u(s[f[h]],l[m[h]]);if(d!==0)return d}return 0}});function JW(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var xN="compareText",XW=["typed","matrix","concat"];vf.signature="any, any";var $0=S(xN,XW,r=>{var{typed:e,matrix:t,concat:n}=r,i=ct({typed:e,matrix:t,concat:n});return e(xN,vf,i({elop:vf,Ds:!0}))});var zf="equal",QW=["typed","matrix","equalScalar","DenseMatrix","concat"],ey=S(zf,QW,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=It({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:t,concat:a});return e(zf,KW({typed:e,equalScalar:n}),s({elop:n,SS:c,DS:o,Ss:u}))}),KW=S(zf,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(zf,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var DN="equalText",$W=["typed","compareText","isZero"],ty=S(DN,$W,r=>{var{typed:e,compareText:t,isZero:n}=r;return e(DN,{"any, any":function(a,o){return n(t(a,o))}})});var Hf="smaller",eG=["typed","config","matrix","DenseMatrix","concat"],ry=S(Hf,eG,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=It({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),l=li({typed:e});return e(Hf,tG({typed:e,config:t}),{"boolean, boolean":(f,m)=>f<m,"BigNumber, BigNumber":function(m,p){return m.lt(p)&&!Zr(m,p,t.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)===-1,"Complex, Complex":function(m,p){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),tG=S(Hf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Hf,{"number, number":function(i,a){return i<a&&!Ar(i,a,t.epsilon)}})});var Wf="smallerEq",rG=["typed","config","matrix","DenseMatrix","concat"],ny=S(Wf,rG,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=It({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),l=li({typed:e});return e(Wf,nG({typed:e,config:t}),{"boolean, boolean":(f,m)=>f<=m,"BigNumber, BigNumber":function(m,p){return m.lte(p)||Zr(m,p,t.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),nG=S(Wf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Wf,{"number, number":function(i,a){return i<=a||Ar(i,a,t.epsilon)}})});var Gf="larger",iG=["typed","config","matrix","DenseMatrix","concat"],iy=S(Gf,iG,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=It({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),l=li({typed:e});return e(Gf,aG({typed:e,config:t}),{"boolean, boolean":(f,m)=>f>m,"BigNumber, BigNumber":function(m,p){return m.gt(p)&&!Zr(m,p,t.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),aG=S(Gf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Gf,{"number, number":function(i,a){return i>a&&!Ar(i,a,t.epsilon)}})});var jf="largerEq",oG=["typed","config","matrix","DenseMatrix","concat"],ay=S(jf,oG,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=Xt({typed:e}),c=Or({typed:e,DenseMatrix:i}),u=It({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),l=li({typed:e});return e(jf,sG({typed:e,config:t}),{"boolean, boolean":(f,m)=>f>=m,"BigNumber, BigNumber":function(m,p){return m.gte(p)||Zr(m,p,t.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},l,s({SS:c,DS:o,Ss:u}))}),sG=S(jf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(jf,{"number, number":function(i,a){return i>=a||Ar(i,a,t.epsilon)}})});var wN="deepEqual",uG=["typed","equal"],oy=S(wN,uG,r=>{var{typed:e,equal:t}=r;return e(wN,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var c=0;c<o;c++)if(!n(i[c],a[c]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var Zf="unequal",lG=["typed","config","equalScalar","matrix","DenseMatrix","concat"],sy=S(Zf,lG,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=r,c=Xt({typed:e}),u=Or({typed:e,DenseMatrix:a}),s=It({typed:e,DenseMatrix:a}),l=ct({typed:e,matrix:i,concat:o});return e(Zf,cG({typed:e,equalScalar:n}),l({elop:f,SS:u,DS:c,Ss:s}));function f(m,p){return!n(m,p)}}),cG=S(Zf,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(Zf,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var EN="partitionSelect",fG=["typed","isNumeric","isNaN","compare"],uy=S(EN,fG,r=>{var{typed:e,isNumeric:t,isNaN:n,compare:i}=r,a=i,o=(s,l)=>-i(s,l);return e(EN,{"Array | Matrix, number":function(l,f){return c(l,f,a)},"Array | Matrix, number, string":function(l,f,m){if(m==="asc")return c(l,f,a);if(m==="desc")return c(l,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":c});function c(s,l,f){if(!We(l)||l<0)throw new Error("k must be a non-negative integer");if(Ge(s)){var m=s.size();if(m.length>1)throw new Error("Only one dimensional matrices supported");return u(s.valueOf(),l,f)}if(Array.isArray(s))return u(s,l,f)}function u(s,l,f){if(l>=s.length)throw new Error("k out of bounds");for(var m=0;m<s.length;m++)if(t(s[m])&&n(s[m]))return s[m];for(var p=0,h=s.length-1;p<h;){for(var d=p,g=h,v=s[Math.floor(Math.random()*(h-p+1))+p];d<g;)if(f(s[d],v)>=0){var C=s[g];s[g]=s[d],s[d]=C,--g}else++d;f(s[d],v)>0&&--d,l<=d?h=d:p=d+1}return s[l]}});var CN="sort",mG=["typed","matrix","compare","compareNatural"],ly=S(CN,mG,r=>{var{typed:e,matrix:t,compare:n,compareNatural:i}=r,a=n,o=(l,f)=>-n(l,f);return e(CN,{Array:function(f){return u(f),f.sort(a)},Matrix:function(f){return s(f),t(f.toArray().sort(a),f.storage())},"Array, function":function(f,m){return u(f),f.sort(m)},"Matrix, function":function(f,m){return s(f),t(f.toArray().sort(m),f.storage())},"Array, string":function(f,m){return u(f),f.sort(c(m))},"Matrix, string":function(f,m){return s(f),t(f.toArray().sort(c(m)),f.storage())}});function c(l){if(l==="asc")return a;if(l==="desc")return o;if(l==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(l){if(rt(l).length!==1)throw new Error("One dimensional array expected")}function s(l){if(l.size().length!==1)throw new Error("One dimensional matrix expected")}});var FN="max",pG=["typed","config","numeric","larger"],Ku=S(FN,pG,r=>{var{typed:e,config:t,numeric:n,larger:i}=r;return e(FN,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return Ja(u,s.valueOf(),a)},"...":function(u){if(ui(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function a(c,u){try{return i(c,u)?c:u}catch(s){throw gr(s,"max",u)}}function o(c){var u;if(dn(c,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(l){throw gr(l,"max",s)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var AN="min",dG=["typed","config","numeric","smaller"],$u=S(AN,dG,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r;return e(AN,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return Ja(u,s.valueOf(),a)},"...":function(u){if(ui(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function a(c,u){try{return i(c,u)?c:u}catch(s){throw gr(s,"min",u)}}function o(c){var u;if(dn(c,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(l){throw gr(l,"min",s)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var hG="ImmutableDenseMatrix",gG=["smaller","DenseMatrix"],cy=S(hG,gG,r=>{var{smaller:e,DenseMatrix:t}=r;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!dr(a))throw new Error("Invalid datatype: "+a);if(Ge(i)||Et(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Et(i.data)&&Et(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Dt(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new t,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return Ge(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:tt(this._data),size:tt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var vG="Index",yG=["ImmutableDenseMatrix","getMatrixDataType"],fy=S(vG,yG,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,c=arguments.length;o<c;o++){var u=arguments[o],s=Et(u),l=Ge(u),f=null;if(Ds(u))this._dimensions.push(u),this._isScalar=!1;else if(s||l){var m=void 0;t(u)==="boolean"?(s&&(m=i(SN(u).valueOf())),l&&(m=i(SN(u._data).valueOf())),f=u.valueOf().length):m=i(u.valueOf()),this._dimensions.push(m);var p=m.size();(p.length!==1||p[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(i([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,c=a.length;o<c;o++)if(typeof a[o]!="number"||!We(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=tt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?1:u.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.max()}return a},n.prototype.min=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.min()}return a},n.prototype.forEach=function(a){for(var o=0,c=this._dimensions.length;o<c;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];a.push(typeof u=="string"?u:u.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,c=this._dimensions.length;o<c;o++){var u=this._dimensions[o];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function SN(r){var e=[];return r.forEach((t,n)=>{t&&e.push(n)}),e}var bG="FibonacciHeap",xG=["smaller","larger"],my=S(bG,xG,r=>{var{smaller:e,larger:t}=r,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(l,f){var m={key:l,value:f,degree:0};if(this._minimum){var p=this._minimum;m.left=p,m.right=p.right,p.right=m,m.right.left=m,e(l,p.key)&&(this._minimum=m)}else m.left=m,m.right=m,this._minimum=m;return this._size++,m},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var l=this._minimum;if(l===null)return l;for(var f=this._minimum,m=l.degree,p=l.child;m>0;){var h=p.right;p.left.right=p.right,p.right.left=p.left,p.left=f,p.right=f.right,f.right=p,p.right.left=p,p.parent=null,p=h,m--}return l.left.right=l.right,l.right.left=l.left,l===l.right?f=null:(f=l.right,f=s(f,this._size)),this._size--,this._minimum=f,l},i.prototype.remove=function(l){this._minimum=a(this._minimum,l,-1),this.extractMinimum()};function a(l,f,m){f.key=m;var p=f.parent;return p&&e(f.key,p.key)&&(o(l,f,p),c(l,p)),e(f.key,l.key)&&(l=f),l}function o(l,f,m){f.left.right=f.right,f.right.left=f.left,m.degree--,m.child===f&&(m.child=f.right),m.degree===0&&(m.child=null),f.left=l,f.right=l.right,l.right=f,f.right.left=f,f.parent=null,f.mark=!1}function c(l,f){var m=f.parent;m&&(f.mark?(o(l,f,m),c(m)):f.mark=!0)}var u=function(f,m){f.left.right=f.right,f.right.left=f.left,f.parent=m,m.child?(f.left=m.child,f.right=m.child.right,m.child.right=f,f.right.left=f):(m.child=f,f.right=f,f.left=f),m.degree++,f.mark=!1};function s(l,f){var m=Math.floor(Math.log(f)*n)+1,p=new Array(m),h=0,d=l;if(d)for(h++,d=d.right;d!==l;)h++,d=d.right;for(var g;h>0;){for(var v=d.degree,C=d.right;g=p[v],!!g;){if(t(d.key,g.key)){var y=g;g=d,d=y}u(g,d),p[v]=null,v++}p[v]=d,d=C,h--}l=null;for(var D=0;D<m;D++)g=p[D],g&&(l?(g.left.right=g.right,g.right.left=g.left,g.left=l,g.right=l.right,l.right=g,g.right.left=g,e(g.key,l.key)&&(l=g)):l=g);return l}return i},{isClass:!0});var DG="Spa",wG=["addScalar","equalScalar","FibonacciHeap"],py=S(DG,wG,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:n}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var c=this._heap.insert(a,o);this._values[a]=c}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var c=this._values[a];c?c.value=e(c.value,o):(c=this._heap.insert(a,o),this._values[a]=c)},i.prototype.forEach=function(a,o,c){var u=this._heap,s=this._values,l=[],f=u.extractMinimum();for(f&&l.push(f);f&&f.key<=o;)f.key>=a&&(t(f.value,0)||c(f.key,f.value,this)),f=u.extractMinimum(),f&&l.push(f);for(var m=0;m<l.length;m++){var p=l[m];f=u.insert(p.key,p.value),s[f.key]=f}},i.prototype.swap=function(a,o){var c=this._values[a],u=this._values[o];if(!c&&u)c=this._heap.insert(a,u.value),this._heap.remove(u),this._values[a]=c,this._values[o]=void 0;else if(c&&!u)u=this._heap.insert(o,c.value),this._heap.remove(c),this._values[o]=u,this._values[a]=void 0;else if(c&&u){var s=c.value;c.value=u.value,u.value=s}},i},{isClass:!0});var _N=To(function(r){return new r(1).exp()},{hasher:Yf}),NN=To(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:Yf}),el=To(function(r){return r.acos(-1)},{hasher:Yf}),MN=To(function(r){return el(r).times(2)},{hasher:Yf});function Yf(r){return r[0].precision}function TN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function dy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(t),!0).forEach(function(n){Pt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var EG="Unit",CG=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],hy=S(EG,CG,r=>{var{on:e,config:t,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:c,abs:u,fix:s,round:l,equal:f,isNumeric:m,format:p,number:h,Complex:d,BigNumber:g,Fraction:v}=r,C=h;function y(z,j){if(!(this instanceof y))throw new Error("Constructor must be called with the new operator");if(!(z==null||m(z)||Cn(z)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,j===void 0)this.units=[],this.dimensions=V.map(W=>0);else if(typeof j=="string"){var fe=y.parse(j);this.units=fe.units,this.dimensions=fe.dimensions}else if(on(j)&&j.value===null)this.fixPrefix=j.fixPrefix,this.skipAutomaticSimplification=j.skipAutomaticSimplification,this.dimensions=j.dimensions.slice(0),this.units=j.units.map(W=>ur({},W));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(z)}Object.defineProperty(y,"name",{value:"Unit"}),y.prototype.constructor=y,y.prototype.type="Unit",y.prototype.isUnit=!0;var D,b,x;function w(){for(;x===" "||x==="	";)F()}function A(z){return z>="0"&&z<="9"||z==="."}function E(z){return z>="0"&&z<="9"}function F(){b++,x=D.charAt(b)}function M(z){b=z,x=D.charAt(b)}function B(){var z="",j=b;if(x==="+"?F():x==="-"&&(z+=x,F()),!A(x))return M(j),null;if(x==="."){if(z+=x,F(),!E(x))return M(j),null}else{for(;E(x);)z+=x,F();x==="."&&(z+=x,F())}for(;E(x);)z+=x,F();if(x==="E"||x==="e"){var fe="",W=b;if(fe+=x,F(),(x==="+"||x==="-")&&(fe+=x,F()),!E(x))return M(W),z;for(z=z+fe;E(x);)z+=x,F()}return z}function k(){for(var z="";E(x)||y.isValidAlpha(x);)z+=x,F();var j=z.charAt(0);return y.isValidAlpha(j)?z:null}function P(z){return x===z?(F(),z):null}y.parse=function(z,j){if(j=j||{},D=z,b=-1,x="",typeof D!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var fe=new y;fe.units=[];var W=1,K=!1;F(),w();var ie=B(),ve=null;if(ie){if(t.number==="BigNumber")ve=new g(ie);else if(t.number==="Fraction")try{ve=new v(ie)}catch(de){ve=parseFloat(ie)}else ve=parseFloat(ie);w(),P("*")?(W=1,K=!0):P("/")&&(W=-1,K=!0)}for(var xe=[],qe=1;;){for(w();x==="(";)xe.push(W),qe*=W,W=1,F(),w();var Se=void 0;if(x){var ft=x;if(Se=k(),Se===null)throw new SyntaxError('Unexpected "'+ft+'" in "'+D+'" at index '+b.toString())}else break;var pt=R(Se);if(pt===null)throw new SyntaxError('Unit "'+Se+'" not found.');var Tt=W*qe;if(w(),P("^")){w();var zt=B();if(zt===null)throw new SyntaxError('In "'+z+'", "^" must be followed by a floating-point number');Tt*=zt}fe.units.push({unit:pt.unit,prefix:pt.prefix,power:Tt});for(var Z=0;Z<V.length;Z++)fe.dimensions[Z]+=(pt.unit.dimensions[Z]||0)*Tt;for(w();x===")";){if(xe.length===0)throw new SyntaxError('Unmatched ")" in "'+D+'" at index '+b.toString());qe/=xe.pop(),F(),w()}if(K=!1,P("*")?(W=1,K=!0):P("/")?(W=-1,K=!0):W=1,pt.unit.base){var ae=pt.unit.base.key;oe.auto[ae]={unit:pt.unit,prefix:pt.prefix}}}if(w(),x)throw new SyntaxError('Could not parse: "'+z+'"');if(K)throw new SyntaxError('Trailing characters: "'+z+'"');if(xe.length!==0)throw new SyntaxError('Unmatched "(" in "'+D+'"');if(fe.units.length===0&&!j.allowNoUnits)throw new SyntaxError('"'+z+'" contains no units');return fe.value=ve!==void 0?fe._normalize(ve):null,fe},y.prototype.clone=function(){var z=new y;z.fixPrefix=this.fixPrefix,z.skipAutomaticSimplification=this.skipAutomaticSimplification,z.value=tt(this.value),z.dimensions=this.dimensions.slice(0),z.units=[];for(var j=0;j<this.units.length;j++){z.units[j]={};for(var fe in this.units[j])je(this.units[j],fe)&&(z.units[j][fe]=this.units[j][fe])}return z},y.prototype.valueType=function(){return Dt(this.value)},y.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},y.prototype._normalize=function(z){if(z==null||this.units.length===0)return z;for(var j=z,fe=y._getNumberConverter(Dt(z)),W=0;W<this.units.length;W++){var K=fe(this.units[W].unit.value),ie=fe(this.units[W].prefix.value),ve=fe(this.units[W].power);j=a(j,c(a(K,ie),ve))}return j},y.prototype._denormalize=function(z,j){if(z==null||this.units.length===0)return z;for(var fe=z,W=y._getNumberConverter(Dt(z)),K=0;K<this.units.length;K++){var ie=W(this.units[K].unit.value),ve=W(this.units[K].prefix.value),xe=W(this.units[K].power);fe=o(fe,c(a(ie,ve),xe))}return fe};var R=To(z=>{if(je(q,z)){var j=q[z],fe=j.prefixes[""];return{unit:j,prefix:fe}}for(var W in q)if(je(q,W)&&SA(z,W)){var K=q[W],ie=z.length-W.length,ve=z.substring(0,ie),xe=je(K.prefixes,ve)?K.prefixes[ve]:void 0;if(xe!==void 0)return{unit:K,prefix:xe}}return null},{hasher:z=>z[0],limit:100});y.isValuelessUnit=function(z){return R(z)!==null},y.prototype.hasBase=function(z){if(typeof z=="string"&&(z=O[z]),!z)return!1;for(var j=0;j<V.length;j++)if(Math.abs((this.dimensions[j]||0)-(z.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equalBase=function(z){for(var j=0;j<V.length;j++)if(Math.abs((this.dimensions[j]||0)-(z.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equals=function(z){return this.equalBase(z)&&f(this.value,z.value)},y.prototype.multiply=function(z){for(var j=this.clone(),fe=on(z)?z:new y(z),W=0;W<V.length;W++)j.dimensions[W]=(this.dimensions[W]||0)+(fe.dimensions[W]||0);for(var K=0;K<fe.units.length;K++){var ie=dy({},fe.units[K]);j.units.push(ie)}if(this.value!==null||fe.value!==null){var ve=this.value===null?this._normalize(1):this.value,xe=fe.value===null?fe._normalize(1):fe.value;j.value=a(ve,xe)}else j.value=null;return on(z)&&(j.skipAutomaticSimplification=!1),T(j)},y.prototype.divideInto=function(z){return new y(z).divide(this)},y.prototype.divide=function(z){for(var j=this.clone(),fe=on(z)?z:new y(z),W=0;W<V.length;W++)j.dimensions[W]=(this.dimensions[W]||0)-(fe.dimensions[W]||0);for(var K=0;K<fe.units.length;K++){var ie=dy(dy({},fe.units[K]),{},{power:-fe.units[K].power});j.units.push(ie)}if(this.value!==null||fe.value!==null){var ve=this.value===null?this._normalize(1):this.value,xe=fe.value===null?fe._normalize(1):fe.value;j.value=o(ve,xe)}else j.value=null;return on(z)&&(j.skipAutomaticSimplification=!1),T(j)},y.prototype.pow=function(z){for(var j=this.clone(),fe=0;fe<V.length;fe++)j.dimensions[fe]=(this.dimensions[fe]||0)*z;for(var W=0;W<j.units.length;W++)j.units[W].power*=z;return j.value!==null?j.value=c(j.value,z):j.value=null,j.skipAutomaticSimplification=!1,T(j)};function T(z){return z.equalBase(O.NONE)&&z.value!==null&&!t.predictable?z.value:z}y.prototype.abs=function(){var z=this.clone();if(z.value!==null)if(z._isDerived()||z.units[0].unit.offset===0)z.value=u(z.value);else{var j=z._numberConverter(),fe=j(z.units[0].unit.value),W=j(z.units[0].unit.offset),K=a(fe,W);z.value=i(u(n(z.value,K)),K)}for(var ie in z.units)(z.units[ie].unit.name==="VA"||z.units[ie].unit.name==="VAR")&&(z.units[ie].unit=q.W);return z},y.prototype.to=function(z){var j=this.value===null?this._normalize(1):this.value,fe;if(typeof z=="string")fe=y.parse(z);else if(on(z))fe=z.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(fe))throw new Error("Units do not match ('".concat(fe.toString(),"' != '").concat(this.toString(),"')"));if(fe.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===fe.units[0].unit.offset)fe.value=tt(j);else{var W=y._getNumberConverter(Dt(j)),K=this.units[0].unit.value,ie=this.units[0].unit.offset,ve=a(K,ie),xe=fe.units[0].unit.value,qe=fe.units[0].unit.offset,Se=a(xe,qe);fe.value=n(j,W(i(ve,Se)))}return fe.fixPrefix=!0,fe.skipAutomaticSimplification=!0,fe},y.prototype.toNumber=function(z){return C(this.toNumeric(z))},y.prototype.toNumeric=function(z){var j;return z?j=this.to(z):j=this.clone(),j._isDerived()||j.units.length===0?j._denormalize(j.value):j._denormalize(j.value,j.units[0].prefix.value)},y.prototype.toString=function(){return this.format()},y.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},y.fromJSON=function(z){var j=new y(z.value,z.unit);return j.fixPrefix=z.fixPrefix||!1,j},y.prototype.valueOf=y.prototype.toString,y.prototype.simplify=function(){var z=this.clone(),j=[],fe;for(var W in ue)if(je(ue,W)&&z.hasBase(O[W])){fe=W;break}if(fe==="NONE")z.units=[];else{var K;if(fe&&je(ue,fe)&&(K=ue[fe]),K)z.units=[{unit:K.unit,prefix:K.prefix,power:1}];else{for(var ie=!1,ve=0;ve<V.length;ve++){var xe=V[ve];Math.abs(z.dimensions[ve]||0)>1e-12&&(je(ue,xe)?j.push({unit:ue[xe].unit,prefix:ue[xe].prefix,power:z.dimensions[ve]||0}):ie=!0)}j.length<z.units.length&&!ie&&(z.units=j)}}return z},y.prototype.toSI=function(){for(var z=this.clone(),j=[],fe=0;fe<V.length;fe++){var W=V[fe];if(Math.abs(z.dimensions[fe]||0)>1e-12)if(je(oe.si,W))j.push({unit:oe.si[W].unit,prefix:oe.si[W].prefix,power:z.dimensions[fe]||0});else throw new Error("Cannot express custom unit "+W+" in SI units")}return z.units=j,z.fixPrefix=!0,z.skipAutomaticSimplification=!0,z},y.prototype.formatUnits=function(){for(var z="",j="",fe=0,W=0,K=0;K<this.units.length;K++)this.units[K].power>0?(fe++,z+=" "+this.units[K].prefix.name+this.units[K].unit.name,Math.abs(this.units[K].power-1)>1e-15&&(z+="^"+this.units[K].power)):this.units[K].power<0&&W++;if(W>0)for(var ie=0;ie<this.units.length;ie++)this.units[ie].power<0&&(fe>0?(j+=" "+this.units[ie].prefix.name+this.units[ie].unit.name,Math.abs(this.units[ie].power+1)>1e-15&&(j+="^"+-this.units[ie].power)):(j+=" "+this.units[ie].prefix.name+this.units[ie].unit.name,j+="^"+this.units[ie].power));z=z.substr(1),j=j.substr(1),fe>1&&W>0&&(z="("+z+")"),W>1&&fe>0&&(j="("+j+")");var ve=z;return fe>0&&W>0&&(ve+=" / "),ve+=j,ve},y.prototype.format=function(z){var j=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),fe=!1;typeof j.value!="undefined"&&j.value!==null&&Cn(j.value)&&(fe=Math.abs(j.value.re)<1e-14);for(var W in j.units)je(j.units,W)&&j.units[W].unit&&(j.units[W].unit.name==="VA"&&fe?j.units[W].unit=q.VAR:j.units[W].unit.name==="VAR"&&!fe&&(j.units[W].unit=q.VA));j.units.length===1&&!j.fixPrefix&&Math.abs(j.units[0].power-Math.round(j.units[0].power))<1e-14&&(j.units[0].prefix=j._bestPrefix());var K=j._denormalize(j.value),ie=j.value!==null?p(K,z||{}):"",ve=j.formatUnits();return j.value&&Cn(j.value)&&(ie="("+ie+")"),ve.length>0&&ie.length>0&&(ie+=" "),ie+=ve,ie},y.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var z=this.value!==null?u(this.value):0,j=u(this.units[0].unit.value),fe=this.units[0].prefix;if(z===0)return fe;var W=this.units[0].power,K=Math.log(z/Math.pow(fe.value*j,W))/Math.LN10-1.2;if(K>-2.200001&&K<1.800001)return fe;K=Math.abs(K);var ie=this.units[0].unit.prefixes;for(var ve in ie)if(je(ie,ve)){var xe=ie[ve];if(xe.scientific){var qe=Math.abs(Math.log(z/Math.pow(xe.value*j,W))/Math.LN10-1.2);(qe<K||qe===K&&xe.name.length<fe.name.length)&&(fe=xe,K=qe)}}return fe},y.prototype.splitUnit=function(z){for(var j=this.clone(),fe=[],W=0;W<z.length&&(j=j.to(z[W]),W!==z.length-1);W++){var K=j.toNumeric(),ie=l(K),ve=void 0,xe=f(ie,K);xe?ve=ie:ve=s(j.toNumeric());var qe=new y(ve,z[W].toString());fe.push(qe),j=i(j,qe)}for(var Se=0,ft=0;ft<fe.length;ft++)Se=n(Se,fe[ft].value);return f(Se,this.value)&&(j.value=0),fe.push(j),fe};var I={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};I.SHORTLONG=ur({},I.SHORT,I.LONG),I.BINARY_SHORT=ur({},I.BINARY_SHORT_SI,I.BINARY_SHORT_IEC),I.BINARY_LONG=ur({},I.BINARY_LONG_SI,I.BINARY_LONG_IEC);var V=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],O={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var J in O)je(O,J)&&(O[J].key=J);var $={},H={name:"",base:$,value:1,offset:0,dimensions:V.map(z=>0)},q={meter:{name:"meter",base:O.LENGTH,prefixes:I.LONG,value:1,offset:0},inch:{name:"inch",base:O.LENGTH,prefixes:I.NONE,value:.0254,offset:0},foot:{name:"foot",base:O.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yard:{name:"yard",base:O.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mile:{name:"mile",base:O.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},link:{name:"link",base:O.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rod:{name:"rod",base:O.LENGTH,prefixes:I.NONE,value:5.0292,offset:0},chain:{name:"chain",base:O.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:O.LENGTH,prefixes:I.NONE,value:1e-10,offset:0},m:{name:"m",base:O.LENGTH,prefixes:I.SHORT,value:1,offset:0},in:{name:"in",base:O.LENGTH,prefixes:I.NONE,value:.0254,offset:0},ft:{name:"ft",base:O.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yd:{name:"yd",base:O.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mi:{name:"mi",base:O.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},li:{name:"li",base:O.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rd:{name:"rd",base:O.LENGTH,prefixes:I.NONE,value:5.02921,offset:0},ch:{name:"ch",base:O.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},mil:{name:"mil",base:O.LENGTH,prefixes:I.NONE,value:254e-7,offset:0},m2:{name:"m2",base:O.SURFACE,prefixes:I.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:O.SURFACE,prefixes:I.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:O.SURFACE,prefixes:I.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:O.SURFACE,prefixes:I.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:O.SURFACE,prefixes:I.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:O.SURFACE,prefixes:I.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:O.SURFACE,prefixes:I.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:O.SURFACE,prefixes:I.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:O.SURFACE,prefixes:I.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:O.SURFACE,prefixes:I.NONE,value:1e4,offset:0},m3:{name:"m3",base:O.VOLUME,prefixes:I.CUBIC,value:1,offset:0},L:{name:"L",base:O.VOLUME,prefixes:I.SHORT,value:.001,offset:0},l:{name:"l",base:O.VOLUME,prefixes:I.SHORT,value:.001,offset:0},litre:{name:"litre",base:O.VOLUME,prefixes:I.LONG,value:.001,offset:0},cuin:{name:"cuin",base:O.VOLUME,prefixes:I.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:O.VOLUME,prefixes:I.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:O.VOLUME,prefixes:I.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:O.VOLUME,prefixes:I.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:O.VOLUME,prefixes:I.NONE,value:15e-6,offset:0},drop:{name:"drop",base:O.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:O.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},minim:{name:"minim",base:O.VOLUME,prefixes:I.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:O.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:O.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:O.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:O.VOLUME,prefixes:I.NONE,value:1e-6,offset:0},cup:{name:"cup",base:O.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:O.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:O.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:O.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:O.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:O.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:O.VOLUME,prefixes:I.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:O.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:O.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:O.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:O.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:O.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:O.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:O.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:O.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},obl:{name:"obl",base:O.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},g:{name:"g",base:O.MASS,prefixes:I.SHORT,value:.001,offset:0},gram:{name:"gram",base:O.MASS,prefixes:I.LONG,value:.001,offset:0},ton:{name:"ton",base:O.MASS,prefixes:I.SHORT,value:907.18474,offset:0},t:{name:"t",base:O.MASS,prefixes:I.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:O.MASS,prefixes:I.LONG,value:1e3,offset:0},grain:{name:"grain",base:O.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:O.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:O.MASS,prefixes:I.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:O.MASS,prefixes:I.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:O.MASS,prefixes:I.NONE,value:45.359237,offset:0},stick:{name:"stick",base:O.MASS,prefixes:I.NONE,value:.115,offset:0},stone:{name:"stone",base:O.MASS,prefixes:I.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:O.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:O.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:O.MASS,prefixes:I.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:O.MASS,prefixes:I.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:O.MASS,prefixes:I.NONE,value:45.359237,offset:0},s:{name:"s",base:O.TIME,prefixes:I.SHORT,value:1,offset:0},min:{name:"min",base:O.TIME,prefixes:I.NONE,value:60,offset:0},h:{name:"h",base:O.TIME,prefixes:I.NONE,value:3600,offset:0},second:{name:"second",base:O.TIME,prefixes:I.LONG,value:1,offset:0},sec:{name:"sec",base:O.TIME,prefixes:I.LONG,value:1,offset:0},minute:{name:"minute",base:O.TIME,prefixes:I.NONE,value:60,offset:0},hour:{name:"hour",base:O.TIME,prefixes:I.NONE,value:3600,offset:0},day:{name:"day",base:O.TIME,prefixes:I.NONE,value:86400,offset:0},week:{name:"week",base:O.TIME,prefixes:I.NONE,value:7*86400,offset:0},month:{name:"month",base:O.TIME,prefixes:I.NONE,value:2629800,offset:0},year:{name:"year",base:O.TIME,prefixes:I.NONE,value:31557600,offset:0},decade:{name:"decade",base:O.TIME,prefixes:I.NONE,value:315576e3,offset:0},century:{name:"century",base:O.TIME,prefixes:I.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:O.TIME,prefixes:I.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:O.FREQUENCY,prefixes:I.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:O.FREQUENCY,prefixes:I.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:O.ANGLE,prefixes:I.SHORT,value:1,offset:0},radian:{name:"radian",base:O.ANGLE,prefixes:I.LONG,value:1,offset:0},deg:{name:"deg",base:O.ANGLE,prefixes:I.SHORT,value:null,offset:0},degree:{name:"degree",base:O.ANGLE,prefixes:I.LONG,value:null,offset:0},grad:{name:"grad",base:O.ANGLE,prefixes:I.SHORT,value:null,offset:0},gradian:{name:"gradian",base:O.ANGLE,prefixes:I.LONG,value:null,offset:0},cycle:{name:"cycle",base:O.ANGLE,prefixes:I.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:O.ANGLE,prefixes:I.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:O.ANGLE,prefixes:I.NONE,value:null,offset:0},A:{name:"A",base:O.CURRENT,prefixes:I.SHORT,value:1,offset:0},ampere:{name:"ampere",base:O.CURRENT,prefixes:I.LONG,value:1,offset:0},K:{name:"K",base:O.TEMPERATURE,prefixes:I.SHORT,value:1,offset:0},degC:{name:"degC",base:O.TEMPERATURE,prefixes:I.SHORT,value:1,offset:273.15},degF:{name:"degF",base:O.TEMPERATURE,prefixes:I.SHORT,value:new v(5,9),offset:459.67},degR:{name:"degR",base:O.TEMPERATURE,prefixes:I.SHORT,value:new v(5,9),offset:0},kelvin:{name:"kelvin",base:O.TEMPERATURE,prefixes:I.LONG,value:1,offset:0},celsius:{name:"celsius",base:O.TEMPERATURE,prefixes:I.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:O.TEMPERATURE,prefixes:I.LONG,value:new v(5,9),offset:459.67},rankine:{name:"rankine",base:O.TEMPERATURE,prefixes:I.LONG,value:new v(5,9),offset:0},mol:{name:"mol",base:O.AMOUNT_OF_SUBSTANCE,prefixes:I.SHORT,value:1,offset:0},mole:{name:"mole",base:O.AMOUNT_OF_SUBSTANCE,prefixes:I.LONG,value:1,offset:0},cd:{name:"cd",base:O.LUMINOUS_INTENSITY,prefixes:I.SHORT,value:1,offset:0},candela:{name:"candela",base:O.LUMINOUS_INTENSITY,prefixes:I.LONG,value:1,offset:0},N:{name:"N",base:O.FORCE,prefixes:I.SHORT,value:1,offset:0},newton:{name:"newton",base:O.FORCE,prefixes:I.LONG,value:1,offset:0},dyn:{name:"dyn",base:O.FORCE,prefixes:I.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:O.FORCE,prefixes:I.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:O.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:O.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:O.FORCE,prefixes:I.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:O.FORCE,prefixes:I.NONE,value:9.80665,offset:0},J:{name:"J",base:O.ENERGY,prefixes:I.SHORT,value:1,offset:0},joule:{name:"joule",base:O.ENERGY,prefixes:I.LONG,value:1,offset:0},erg:{name:"erg",base:O.ENERGY,prefixes:I.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:O.ENERGY,prefixes:I.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:O.ENERGY,prefixes:I.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:O.ENERGY,prefixes:I.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:O.ENERGY,prefixes:I.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:O.POWER,prefixes:I.SHORT,value:1,offset:0},watt:{name:"watt",base:O.POWER,prefixes:I.LONG,value:1,offset:0},hp:{name:"hp",base:O.POWER,prefixes:I.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:O.POWER,prefixes:I.SHORT,value:d.I,offset:0},VA:{name:"VA",base:O.POWER,prefixes:I.SHORT,value:1,offset:0},Pa:{name:"Pa",base:O.PRESSURE,prefixes:I.SHORT,value:1,offset:0},psi:{name:"psi",base:O.PRESSURE,prefixes:I.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:O.PRESSURE,prefixes:I.NONE,value:101325,offset:0},bar:{name:"bar",base:O.PRESSURE,prefixes:I.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:O.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:O.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:O.PRESSURE,prefixes:I.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:O.PRESSURE,prefixes:I.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:O.ELECTRIC_CHARGE,prefixes:I.LONG,value:1,offset:0},C:{name:"C",base:O.ELECTRIC_CHARGE,prefixes:I.SHORT,value:1,offset:0},farad:{name:"farad",base:O.ELECTRIC_CAPACITANCE,prefixes:I.LONG,value:1,offset:0},F:{name:"F",base:O.ELECTRIC_CAPACITANCE,prefixes:I.SHORT,value:1,offset:0},volt:{name:"volt",base:O.ELECTRIC_POTENTIAL,prefixes:I.LONG,value:1,offset:0},V:{name:"V",base:O.ELECTRIC_POTENTIAL,prefixes:I.SHORT,value:1,offset:0},ohm:{name:"ohm",base:O.ELECTRIC_RESISTANCE,prefixes:I.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:O.ELECTRIC_INDUCTANCE,prefixes:I.LONG,value:1,offset:0},H:{name:"H",base:O.ELECTRIC_INDUCTANCE,prefixes:I.SHORT,value:1,offset:0},siemens:{name:"siemens",base:O.ELECTRIC_CONDUCTANCE,prefixes:I.LONG,value:1,offset:0},S:{name:"S",base:O.ELECTRIC_CONDUCTANCE,prefixes:I.SHORT,value:1,offset:0},weber:{name:"weber",base:O.MAGNETIC_FLUX,prefixes:I.LONG,value:1,offset:0},Wb:{name:"Wb",base:O.MAGNETIC_FLUX,prefixes:I.SHORT,value:1,offset:0},tesla:{name:"tesla",base:O.MAGNETIC_FLUX_DENSITY,prefixes:I.LONG,value:1,offset:0},T:{name:"T",base:O.MAGNETIC_FLUX_DENSITY,prefixes:I.SHORT,value:1,offset:0},b:{name:"b",base:O.BIT,prefixes:I.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:O.BIT,prefixes:I.BINARY_LONG,value:1,offset:0},B:{name:"B",base:O.BIT,prefixes:I.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:O.BIT,prefixes:I.BINARY_LONG,value:8,offset:0}},ne={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function be(z){if(z.number==="BigNumber"){var j=el(g);q.rad.value=new g(1),q.deg.value=j.div(180),q.grad.value=j.div(200),q.cycle.value=j.times(2),q.arcsec.value=j.div(648e3),q.arcmin.value=j.div(10800)}else q.rad.value=1,q.deg.value=Math.PI/180,q.grad.value=Math.PI/200,q.cycle.value=Math.PI*2,q.arcsec.value=Math.PI/648e3,q.arcmin.value=Math.PI/10800;q.radian.value=q.rad.value,q.degree.value=q.deg.value,q.gradian.value=q.grad.value}be(t),e&&e("config",function(z,j){z.number!==j.number&&be(z)});var oe={si:{NONE:{unit:H,prefix:I.NONE[""]},LENGTH:{unit:q.m,prefix:I.SHORT[""]},MASS:{unit:q.g,prefix:I.SHORT.k},TIME:{unit:q.s,prefix:I.SHORT[""]},CURRENT:{unit:q.A,prefix:I.SHORT[""]},TEMPERATURE:{unit:q.K,prefix:I.SHORT[""]},LUMINOUS_INTENSITY:{unit:q.cd,prefix:I.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:q.mol,prefix:I.SHORT[""]},ANGLE:{unit:q.rad,prefix:I.SHORT[""]},BIT:{unit:q.bits,prefix:I.SHORT[""]},FORCE:{unit:q.N,prefix:I.SHORT[""]},ENERGY:{unit:q.J,prefix:I.SHORT[""]},POWER:{unit:q.W,prefix:I.SHORT[""]},PRESSURE:{unit:q.Pa,prefix:I.SHORT[""]},ELECTRIC_CHARGE:{unit:q.C,prefix:I.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:q.F,prefix:I.SHORT[""]},ELECTRIC_POTENTIAL:{unit:q.V,prefix:I.SHORT[""]},ELECTRIC_RESISTANCE:{unit:q.ohm,prefix:I.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:q.H,prefix:I.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:q.S,prefix:I.SHORT[""]},MAGNETIC_FLUX:{unit:q.Wb,prefix:I.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:q.T,prefix:I.SHORT[""]},FREQUENCY:{unit:q.Hz,prefix:I.SHORT[""]}}};oe.cgs=JSON.parse(JSON.stringify(oe.si)),oe.cgs.LENGTH={unit:q.m,prefix:I.SHORT.c},oe.cgs.MASS={unit:q.g,prefix:I.SHORT[""]},oe.cgs.FORCE={unit:q.dyn,prefix:I.SHORT[""]},oe.cgs.ENERGY={unit:q.erg,prefix:I.NONE[""]},oe.us=JSON.parse(JSON.stringify(oe.si)),oe.us.LENGTH={unit:q.ft,prefix:I.NONE[""]},oe.us.MASS={unit:q.lbm,prefix:I.NONE[""]},oe.us.TEMPERATURE={unit:q.degF,prefix:I.NONE[""]},oe.us.FORCE={unit:q.lbf,prefix:I.NONE[""]},oe.us.ENERGY={unit:q.BTU,prefix:I.BTU[""]},oe.us.POWER={unit:q.hp,prefix:I.NONE[""]},oe.us.PRESSURE={unit:q.psi,prefix:I.NONE[""]},oe.auto=JSON.parse(JSON.stringify(oe.si));var ue=oe.auto;y.setUnitSystem=function(z){if(je(oe,z))ue=oe[z];else throw new Error("Unit system "+z+" does not exist. Choices are: "+Object.keys(oe).join(", "))},y.getUnitSystem=function(){for(var z in oe)if(je(oe,z)&&oe[z]===ue)return z},y.typeConverters={BigNumber:function(j){return j!=null&&j.isFraction?new g(j.n).div(j.d).times(j.s):new g(j+"")},Fraction:function(j){return new v(j)},Complex:function(j){return j},number:function(j){return j!=null&&j.isFraction?h(j):j}},y.prototype._numberConverter=function(){var z=y.typeConverters[this.valueType()];if(z)return z;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},y._getNumberConverter=function(z){if(!y.typeConverters[z])throw new TypeError('Unsupported type "'+z+'"');return y.typeConverters[z]};for(var me in q)if(je(q,me)){var se=q[me];se.dimensions=se.base.dimensions}for(var ce in ne)if(je(ne,ce)){var pe=q[ne[ce]],ge={};for(var Re in pe)je(pe,Re)&&(ge[Re]=pe[Re]);ge.name=ce,q[ce]=ge}y.isValidAlpha=function(j){return/^[a-zA-Z]$/.test(j)};function Ee(z){for(var j=0;j<z.length;j++){if(x=z.charAt(j),j===0&&!y.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+z+'"');if(j>0&&!(y.isValidAlpha(x)||E(x)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+z+'"')}}return y.createUnit=function(z,j){if(typeof z!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(j&&j.override){for(var fe in z)if(je(z,fe)&&y.deleteUnit(fe),z[fe].aliases)for(var W=0;W<z[fe].aliases.length;W++)y.deleteUnit(z[fe].aliases[W])}var K;for(var ie in z)je(z,ie)&&(K=y.createUnitSingle(ie,z[ie]));return K},y.createUnitSingle=function(z,j){if((typeof j=="undefined"||j===null)&&(j={}),typeof z!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(je(q,z))throw new Error('Cannot create unit "'+z+'": a unit with that name already exists');Ee(z);var fe=null,W=[],K=0,ie,ve,xe;if(j&&j.type==="Unit")fe=j.clone();else if(typeof j=="string")j!==""&&(ie=j);else if(typeof j=="object")ie=j.definition,ve=j.prefixes,K=j.offset,xe=j.baseName,j.aliases&&(W=j.aliases.valueOf());else throw new TypeError('Cannot create unit "'+z+'" from "'+j.toString()+'": expecting "string" or "Unit" or "Object"');if(W){for(var qe=0;qe<W.length;qe++)if(je(q,W[qe]))throw new Error('Cannot create alias "'+W[qe]+'": a unit with that name already exists')}if(ie&&typeof ie=="string"&&!fe)try{fe=y.parse(ie,{allowNoUnits:!0})}catch(N){throw N.message='Could not create unit "'+z+'" from "'+ie+'": '+N.message,N}else ie&&ie.type==="Unit"&&(fe=ie.clone());W=W||[],K=K||0,ve&&ve.toUpperCase?ve=I[ve.toUpperCase()]||I.NONE:ve=I.NONE;var Se={};if(fe){Se={name:z,value:fe.value,dimensions:fe.dimensions.slice(0),prefixes:ve,offset:K};var zt=!1;for(var Z in O)if(je(O,Z)){for(var ae=!0,de=0;de<V.length;de++)if(Math.abs((Se.dimensions[de]||0)-(O[Z].dimensions[de]||0))>1e-12){ae=!1;break}if(ae){zt=!0,Se.base=O[Z];break}}if(!zt){xe=xe||z+"_STUFF";var Fe={dimensions:fe.dimensions.slice(0)};Fe.key=xe,O[xe]=Fe,ue[xe]={unit:Se,prefix:I.NONE[""]},Se.base=O[xe]}}else{if(xe=xe||z+"_STUFF",V.indexOf(xe)>=0)throw new Error('Cannot create new base unit "'+z+'": a base unit with that name already exists (and cannot be overridden)');V.push(xe);for(var ft in O)je(O,ft)&&(O[ft].dimensions[V.length-1]=0);for(var pt={dimensions:[]},Tt=0;Tt<V.length;Tt++)pt.dimensions[Tt]=0;pt.dimensions[V.length-1]=1,pt.key=xe,O[xe]=pt,Se={name:z,value:1,dimensions:O[xe].dimensions.slice(0),prefixes:ve,offset:K,base:O[xe]},ue[xe]={unit:Se,prefix:I.NONE[""]}}y.UNITS[z]=Se;for(var Be=0;Be<W.length;Be++){var Ae=W[Be],Me={};for(var Le in Se)je(Se,Le)&&(Me[Le]=Se[Le]);Me.name=Ae,y.UNITS[Ae]=Me}return delete R.cache,new y(null,z)},y.deleteUnit=function(z){delete y.UNITS[z]},y.PREFIXES=I,y.BASE_DIMENSIONS=V,y.BASE_UNITS=O,y.UNIT_SYSTEMS=oe,y.UNITS=q,y},{isClass:!0});var IN="unit",FG=["typed","Unit"],gy=S(IN,FG,r=>{var{typed:e,Unit:t}=r;return e(IN,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>Je(i,n))})});var BN="sparse",AG=["typed","SparseMatrix"],vy=S(BN,AG,r=>{var{typed:e,SparseMatrix:t}=r;return e(BN,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var ON="createUnit",SG=["typed","Unit"],yy=S(ON,SG,r=>{var{typed:e,Unit:t}=r;return e(ON,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var c={};return c[i]=a,t.createUnit(c,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var kN="acos",_G=["typed","config","Complex"],by=S(kN,_G,r=>{var{typed:e,config:t,Complex:n}=r;return e(kN,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var PN="acosh",NG=["typed","config","Complex"],xy=S(PN,NG,r=>{var{typed:e,config:t,Complex:n}=r;return e(PN,{number:function(a){return a>=1||t.predictable?Ag(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var RN="acot",MG=["typed","BigNumber"],Dy=S(RN,MG,r=>{var{typed:e,BigNumber:t}=r;return e(RN,{number:Sg,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var LN="acoth",TG=["typed","config","Complex","BigNumber"],wy=S(LN,TG,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(LN,{number:function(o){return o>=1||o<=-1||t.predictable?_g(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var qN="acsc",IG=["typed","config","Complex","BigNumber"],Ey=S(qN,IG,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(qN,{number:function(o){return o<=-1||o>=1||t.predictable?Ng(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var VN="acsch",BG=["typed","BigNumber"],Cy=S(VN,BG,r=>{var{typed:e,BigNumber:t}=r;return e(VN,{number:Mg,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var UN="asec",OG=["typed","config","Complex","BigNumber"],Fy=S(UN,OG,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(UN,{number:function(o){return o<=-1||o>=1||t.predictable?Tg(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var zN="asech",kG=["typed","config","Complex","BigNumber"],Ay=S(zN,kG,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(zN,{number:function(o){if(o<=1&&o>=-1||t.predictable){var c=1/o;if(c>0||t.predictable)return Ig(o);var u=Math.sqrt(c*c-1);return new n(Math.log(u-c),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var HN="asin",PG=["typed","config","Complex"],Sy=S(HN,PG,r=>{var{typed:e,config:t,Complex:n}=r;return e(HN,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var RG="asinh",LG=["typed"],_y=S(RG,LG,r=>{var{typed:e}=r;return e("asinh",{number:Bg,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var qG="atan",VG=["typed"],Ny=S(qG,VG,r=>{var{typed:e}=r;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var WN="atan2",UG=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],My=S(WN,UG,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=r,c=_r({typed:e,equalScalar:n}),u=Xt({typed:e}),s=Pf({typed:e,equalScalar:n}),l=Ut({typed:e,equalScalar:n}),f=It({typed:e,DenseMatrix:a}),m=ct({typed:e,matrix:t,concat:o});return e(WN,{"number, number":Math.atan2,"BigNumber, BigNumber":(p,h)=>i.atan2(p,h)},m({scalar:"number | BigNumber",SS:s,DS:u,SD:c,Ss:l,sS:f}))});var GN="atanh",zG=["typed","config","Complex"],Ty=S(GN,zG,r=>{var{typed:e,config:t,Complex:n}=r;return e(GN,{number:function(a){return a<=1&&a>=-1||t.predictable?Og(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var fi=S("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,n.valueType())(n.value)})}});var jN="cos",HG=["typed"],Iy=S(jN,HG,r=>{var{typed:e}=r,t=fi({typed:e});return e(jN,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},t)});var ZN="cosh",WG=["typed"],By=S(ZN,WG,r=>{var{typed:e}=r;return e(ZN,{number:hf,"Complex | BigNumber":t=>t.cosh()})});var YN="cot",GG=["typed","BigNumber"],Oy=S(YN,GG,r=>{var{typed:e,BigNumber:t}=r,n=fi({typed:e});return e(YN,{number:kg,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},n)});var JN="coth",jG=["typed","BigNumber"],ky=S(JN,jG,r=>{var{typed:e,BigNumber:t}=r;return e(JN,{number:Pg,Complex:n=>n.coth(),BigNumber:n=>new t(1).div(n.tanh())})});var XN="csc",ZG=["typed","BigNumber"],Py=S(XN,ZG,r=>{var{typed:e,BigNumber:t}=r,n=fi({typed:e});return e(XN,{number:Rg,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},n)});var QN="csch",YG=["typed","BigNumber"],Ry=S(QN,YG,r=>{var{typed:e,BigNumber:t}=r;return e(QN,{number:Lg,Complex:n=>n.csch(),BigNumber:n=>new t(1).div(n.sinh())})});var KN="sec",JG=["typed","BigNumber"],Ly=S(KN,JG,r=>{var{typed:e,BigNumber:t}=r,n=fi({typed:e});return e(KN,{number:qg,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},n)});var $N="sech",XG=["typed","BigNumber"],qy=S($N,XG,r=>{var{typed:e,BigNumber:t}=r;return e($N,{number:Vg,Complex:n=>n.sech(),BigNumber:n=>new t(1).div(n.cosh())})});var eM="sin",QG=["typed"],Vy=S(eM,QG,r=>{var{typed:e}=r,t=fi({typed:e});return e(eM,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},t)});var tM="sinh",KG=["typed"],Uy=S(tM,KG,r=>{var{typed:e}=r;return e(tM,{number:Ug,"Complex | BigNumber":t=>t.sinh()})});var rM="tan",$G=["typed"],zy=S(rM,$G,r=>{var{typed:e}=r,t=fi({typed:e});return e(rM,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},t)});var ej="tanh",tj=["typed"],Hy=S(ej,tj,r=>{var{typed:e}=r;return e("tanh",{number:gf,"Complex | BigNumber":t=>t.tanh()})});var nM="setCartesian",rj=["typed","size","subset","compareNatural","Index","DenseMatrix"],Wy=S(nM,rj,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(nM,{"Array | Matrix, Array | Matrix":function(u,s){var l=[];if(n(t(u),new a(0))!==0&&n(t(s),new a(0))!==0){var f=dt(Array.isArray(u)?u:u.toArray()).sort(i),m=dt(Array.isArray(s)?s:s.toArray()).sort(i);l=[];for(var p=0;p<f.length;p++)for(var h=0;h<m.length;h++)l.push([f[p],m[h]])}return Array.isArray(u)&&Array.isArray(s)?l:new o(l)}})});var iM="setDifference",nj=["typed","size","subset","compareNatural","Index","DenseMatrix"],Gy=S(iM,nj,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(iM,{"Array | Matrix, Array | Matrix":function(u,s){var l;if(n(t(u),new a(0))===0)l=[];else{if(n(t(s),new a(0))===0)return dt(u.toArray());var f=pa(dt(Array.isArray(u)?u:u.toArray()).sort(i)),m=pa(dt(Array.isArray(s)?s:s.toArray()).sort(i));l=[];for(var p,h=0;h<f.length;h++){p=!1;for(var d=0;d<m.length;d++)if(i(f[h].value,m[d].value)===0&&f[h].identifier===m[d].identifier){p=!0;break}p||l.push(f[h])}}return Array.isArray(u)&&Array.isArray(s)?Fs(l):new o(Fs(l))}})});var aM="setDistinct",ij=["typed","size","subset","compareNatural","Index","DenseMatrix"],jy=S(aM,ij,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(aM,{"Array | Matrix":function(u){var s;if(n(t(u),new a(0))===0)s=[];else{var l=dt(Array.isArray(u)?u:u.toArray()).sort(i);s=[],s.push(l[0]);for(var f=1;f<l.length;f++)i(l[f],l[f-1])!==0&&s.push(l[f])}return Array.isArray(u)?s:new o(s)}})});var oM="setIntersect",aj=["typed","size","subset","compareNatural","Index","DenseMatrix"],Zy=S(oM,aj,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(oM,{"Array | Matrix, Array | Matrix":function(u,s){var l;if(n(t(u),new a(0))===0||n(t(s),new a(0))===0)l=[];else{var f=pa(dt(Array.isArray(u)?u:u.toArray()).sort(i)),m=pa(dt(Array.isArray(s)?s:s.toArray()).sort(i));l=[];for(var p=0;p<f.length;p++)for(var h=0;h<m.length;h++)if(i(f[p].value,m[h].value)===0&&f[p].identifier===m[h].identifier){l.push(f[p]);break}}return Array.isArray(u)&&Array.isArray(s)?Fs(l):new o(Fs(l))}})});var sM="setIsSubset",oj=["typed","size","subset","compareNatural","Index"],Yy=S(sM,oj,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(sM,{"Array | Matrix, Array | Matrix":function(c,u){if(n(t(c),new a(0))===0)return!0;if(n(t(u),new a(0))===0)return!1;for(var s=pa(dt(Array.isArray(c)?c:c.toArray()).sort(i)),l=pa(dt(Array.isArray(u)?u:u.toArray()).sort(i)),f,m=0;m<s.length;m++){f=!1;for(var p=0;p<l.length;p++)if(i(s[m].value,l[p].value)===0&&s[m].identifier===l[p].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var uM="setMultiplicity",sj=["typed","size","subset","compareNatural","Index"],Jy=S(uM,sj,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(uM,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(c,u){if(n(t(u),new a(0))===0)return 0;for(var s=dt(Array.isArray(u)?u:u.toArray()),l=0,f=0;f<s.length;f++)i(s[f],c)===0&&l++;return l}})});var lM="setPowerset",uj=["typed","size","subset","compareNatural","Index"],Xy=S(lM,uj,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(lM,{"Array | Matrix":function(s){if(n(t(s),new a(0))===0)return[];for(var l=dt(Array.isArray(s)?s:s.toArray()).sort(i),f=[],m=0;m.toString(2).length<=l.length;)f.push(o(l,m.toString(2).split("").reverse())),m++;return c(f)}});function o(u,s){for(var l=[],f=0;f<s.length;f++)s[f]==="1"&&l.push(u[f]);return l}function c(u){for(var s=[],l=u.length-1;l>0;l--)for(var f=0;f<l;f++)u[f].length>u[f+1].length&&(s=u[f],u[f]=u[f+1],u[f+1]=s);return u}});var cM="setSize",lj=["typed","compareNatural"],Qy=S(cM,lj,r=>{var{typed:e,compareNatural:t}=r;return e(cM,{"Array | Matrix":function(i){return Array.isArray(i)?dt(i).length:dt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?dt(i).length:dt(i.toArray()).length;for(var o=dt(Array.isArray(i)?i:i.toArray()).sort(t),c=1,u=1;u<o.length;u++)t(o[u],o[u-1])!==0&&c++;return c}})});var fM="setSymDifference",cj=["typed","size","concat","subset","setDifference","Index"],Ky=S(fM,cj,r=>{var{typed:e,size:t,concat:n,subset:i,setDifference:a,Index:o}=r;return e(fM,{"Array | Matrix, Array | Matrix":function(u,s){if(i(t(u),new o(0))===0)return dt(s);if(i(t(s),new o(0))===0)return dt(u);var l=dt(u),f=dt(s);return n(a(l,f),a(f,l))}})});var mM="setUnion",fj=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],$y=S(mM,fj,r=>{var{typed:e,size:t,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:c}=r;return e(mM,{"Array | Matrix, Array | Matrix":function(s,l){if(i(t(s),new c(0))===0)return dt(l);if(i(t(l),new c(0))===0)return dt(s);var f=dt(s),m=dt(l);return n(o(f,m),a(f,m))}})});var pM="add",mj=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],e1=S(pM,mj,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:c}=r,u=hn({typed:e}),s=Ms({typed:e,equalScalar:i}),l=Pn({typed:e,DenseMatrix:a}),f=ct({typed:e,matrix:t,concat:c});return e(pM,{"any, any":n,"any, any, ...any":e.referToSelf(m=>(p,h,d)=>{for(var g=m(p,h),v=0;v<d.length;v++)g=m(g,d[v]);return g})},f({elop:n,DS:u,SS:s,Ss:l}))});var dM="hypot",pj=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],t1=S(dM,pj,r=>{var{typed:e,abs:t,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:c,isPositive:u}=r;return e(dM,{"... number | BigNumber":s,Array:s,Matrix:l=>s(dt(l.toArray()))});function s(l){for(var f=0,m=0,p=0;p<l.length;p++){if(Cn(l[p]))throw new TypeError("Unexpected type of argument to hypot");var h=t(l[p]);c(m,h)?(f=a(f,a(i(m,h),i(m,h))),f=n(f,1),m=h):f=n(f,u(h)?a(i(h,m),i(h,m)):h)}return a(m,o(f))}});var hM="norm",dj=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],r1=S(hM,dj,r=>{var{typed:e,abs:t,add:n,pow:i,conj:a,sqrt:o,multiply:c,equalScalar:u,larger:s,smaller:l,matrix:f,ctranspose:m,eigs:p}=r;return e(hM,{number:Math.abs,Complex:function(A){return A.abs()},BigNumber:function(A){return A.abs()},boolean:function(A){return Math.abs(A)},Array:function(A){return x(f(A),2)},Matrix:function(A){return x(A,2)},"Array, number | BigNumber | string":function(A,E){return x(f(A),E)},"Matrix, number | BigNumber | string":function(A,E){return x(A,E)}});function h(w){var A=0;return w.forEach(function(E){var F=t(E);s(F,A)&&(A=F)},!0),A}function d(w){var A;return w.forEach(function(E){var F=t(E);(!A||l(F,A))&&(A=F)},!0),A||0}function g(w,A){if(A===Number.POSITIVE_INFINITY||A==="inf")return h(w);if(A===Number.NEGATIVE_INFINITY||A==="-inf")return d(w);if(A==="fro")return x(w,2);if(typeof A=="number"&&!isNaN(A)){if(!u(A,0)){var E=0;return w.forEach(function(F){E=n(i(t(F),A),E)},!0),i(E,1/A)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function v(w){var A=0;return w.forEach(function(E,F){A=n(A,c(E,a(E)))}),t(o(A))}function C(w){var A=[],E=0;return w.forEach(function(F,M){var B=M[1],k=n(A[B]||0,t(F));s(k,E)&&(E=k),A[B]=k},!0),E}function y(w){var A=w.size();if(A[0]!==A[1])throw new RangeError("Invalid matrix dimensions");var E=m(w),F=c(E,w),M=p(F).values.toArray(),B=M[M.length-1];return t(o(B))}function D(w){var A=[],E=0;return w.forEach(function(F,M){var B=M[0],k=n(A[B]||0,t(F));s(k,E)&&(E=k),A[B]=k},!0),E}function b(w,A){if(A===1)return C(w);if(A===Number.POSITIVE_INFINITY||A==="inf")return D(w);if(A==="fro")return v(w);if(A===2)return y(w);throw new Error("Unsupported parameter value "+A)}function x(w,A){var E=w.size();if(E.length===1)return g(w,A);if(E.length===2){if(E[0]&&E[1])return b(w,A);throw new RangeError("Invalid matrix dimensions")}}});var gM="dot",hj=["typed","addScalar","multiplyScalar","conj","size"],n1=S(gM,hj,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:a}=r;return e(gM,{"Array | DenseMatrix, Array | DenseMatrix":c,"SparseMatrix, SparseMatrix":u});function o(l,f){var m=s(l),p=s(f),h,d;if(m.length===1)h=m[0];else if(m.length===2&&m[1]===1)h=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(p.length===1)d=p[0];else if(p.length===2&&p[1]===1)d=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function c(l,f){var m=o(l,f),p=Ge(l)?l._data:l,h=Ge(l)?l._datatype:void 0,d=Ge(f)?f._data:f,g=Ge(f)?f._datatype:void 0,v=s(l).length===2,C=s(f).length===2,y=t,D=n;if(h&&g&&h===g&&typeof h=="string"){var b=h;y=e.find(t,[b,b]),D=e.find(n,[b,b])}if(!v&&!C){for(var x=D(i(p[0]),d[0]),w=1;w<m;w++)x=y(x,D(i(p[w]),d[w]));return x}if(!v&&C){for(var A=D(i(p[0]),d[0][0]),E=1;E<m;E++)A=y(A,D(i(p[E]),d[E][0]));return A}if(v&&!C){for(var F=D(i(p[0][0]),d[0]),M=1;M<m;M++)F=y(F,D(i(p[M][0]),d[M]));return F}if(v&&C){for(var B=D(i(p[0][0]),d[0][0]),k=1;k<m;k++)B=y(B,D(i(p[k][0]),d[k][0]));return B}}function u(l,f){o(l,f);for(var m=l._index,p=l._values,h=f._index,d=f._values,g=0,v=t,C=n,y=0,D=0;y<m.length&&D<h.length;){var b=m[y],x=h[D];if(b<x){y++;continue}if(b>x){D++;continue}b===x&&(g=v(g,C(p[y],d[D])),y++,D++)}return g}function s(l){return Ge(l)?l.size():a(l)}});var gj="trace",vj=["typed","matrix","add"],i1=S(gj,vj,r=>{var{typed:e,matrix:t,add:n}=r;return e("trace",{Array:function(c){return i(t(c))},SparseMatrix:a,DenseMatrix:i,any:tt});function i(o){var c=o._size,u=o._data;switch(c.length){case 1:if(c[0]===1)return tt(u[0]);throw new RangeError("Matrix must be square (size: "+at(c)+")");case 2:{var s=c[0],l=c[1];if(s===l){for(var f=0,m=0;m<s;m++)f=n(f,u[m][m]);return f}else throw new RangeError("Matrix must be square (size: "+at(c)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+at(c)+")")}}function a(o){var c=o._values,u=o._index,s=o._ptr,l=o._size,f=l[0],m=l[1];if(f===m){var p=0;if(c.length>0)for(var h=0;h<m;h++)for(var d=s[h],g=s[h+1],v=d;v<g;v++){var C=u[v];if(C===h){p=n(p,c[v]);break}if(C>h)break}return p}throw new RangeError("Matrix must be square (size: "+at(l)+")")}});var vM="index",yj=["typed","Index"],a1=S(vM,yj,r=>{var{typed:e,Index:t}=r;return e(vM,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(c){return nt(c)?c.toNumber():Et(c)||Ge(c)?c.map(function(u){return nt(u)?u.toNumber():u}):c}),o=new t;return t.apply(o,a),o}})});var Jf=new Set(["end"]);var bj="Node",xj=["mathWithTransform"],o1=S(bj,xj,r=>{var{mathWithTransform:e}=r;function t(i){for(var a of[...Jf])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},c=null;function u(s){var l=da(s);return t(l),a(l,o,c)}return{evaluate:u}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!yt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(c,u){c.forEach(function(s,l,f){u(s,l,f),o(s,u)})}o(this,a)}transform(a){function o(c,u,s){var l=a(c,u,s);return l!==c?l:c.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(c,u,s){a(c,u,s)&&o.push(c)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&_i(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this.toHTML(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Qt(r){return r&&r.isIndexError?new ln(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function Xf(r){var{subset:e}=r;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return lr(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Qt(a)}}}var Qf="AccessorNode",Dj=["subset","Node"],s1=S(Qf,Dj,r=>{var{subset:e,Node:t}=r,n=Xf({subset:e});function i(o){return!(jn(o)||sn(o)||vt(o)||An(o)||za(o)||un(o)||Yt(o))}class a extends t{constructor(c,u){if(super(),!yt(c))throw new TypeError('Node expected for parameter "object"');if(!oi(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=c,this.index=u}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Qf}get isAccessorNode(){return!0}_compile(c,u){var s=this.object._compile(c,u),l=this.index._compile(c,u);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(p,h,d){return lr(s(p,h,d),f)}}else return function(p,h,d){var g=s(p,h,d),v=l(p,h,g);return n(g,v)}}forEach(c){c(this.object,"object",this),c(this.index,"index",this)}map(c){return new a(this._ifNode(c(this.object,"object",this)),this._ifNode(c(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(c){var u=this.object.toString(c);return i(this.object)&&(u="("+u+")"),u+this.index.toString(c)}toHTML(c){var u=this.object.toHTML(c);return i(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(c)}_toTex(c){var u=this.object.toTex(c);return i(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(c)}toJSON(){return{mathjs:Qf,object:this.object,index:this.index}}static fromJSON(c){return new a(c.object,c.index)}}return Pt(a,"name",Qf),a},{isClass:!0,isNode:!0});var Kf="ArrayNode",wj=["Node"],u1=S(Kf,wj,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(yt))throw new TypeError("Array containing Nodes expected")}get type(){return Kf}get isArrayNode(){return!0}_compile(i,a){var o=Bn(this.items,function(s){return s._compile(i,a)}),c=i.config.matrix!=="Array";if(c){var u=i.matrix;return function(l,f,m){return u(Bn(o,function(p){return p(l,f,m)}))}}else return function(l,f,m){return Bn(o,function(p){return p(l,f,m)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:Kf,items:this.items}}static fromJSON(i){return new t(i.items)}toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,c){var u=o.some(sn)&&!o.every(sn),s=c||u,l=s?"&":"\\\\",f=o.map(function(m){return m.items?a(m.items,!c):m.toTex(i)}).join(l);return u||!s||s&&!c?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return Pt(t,"name",Kf),t},{isClass:!0,isNode:!0});function yM(r){var{subset:e,matrix:t}=r;return function(i,a,o){try{if(Array.isArray(i)){var c=t(i).subset(a,o).valueOf();return c.forEach((u,s)=>{i[s]=u}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Yi(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(u){throw Qt(u)}}}var mi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function $f(r,e){if(!e||e!=="auto")return r;for(var t=r;un(t);)t=t.content;return t}function Lt(r,e,t,n){var i=r;e!=="keep"&&(i=r.getContent());for(var a=i.getIdentifier(),o=null,c=0;c<mi.length;c++)if(a in mi[c]){o=c;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var u=$f(i.args[0],e);!(vt(u)&&n&&n.getIdentifier()==="OperatorNode:divide"&&Tu($f(n.args[0],e)))&&!(u.getIdentifier()==="OperatorNode:divide"&&Tu($f(u.args[0],e))&&vt($f(u.args[1])))&&(o+=1)}return o}function Rs(r,e){var t=r;e!=="keep"&&(t=r.getContent());var n=t.getIdentifier(),i=Lt(t,e);if(i===null)return null;var a=mi[i][n];if(je(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function em(r,e,t){var n=t!=="keep"?r.getContent():r,i=t!=="keep"?r.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),c=Lt(n,t);if(c===null)return null;var u=mi[c][a];if(je(u,"associativeWith")&&u.associativeWith instanceof Array){for(var s=0;s<u.associativeWith.length;s++)if(u.associativeWith[s]===o)return!0;return!1}return null}function bM(r){var e="OperatorNode:"+r;for(var t of mi)if(e in t)return t[e].op;return null}var tm="AssignmentNode",Ej=["subset","?matrix","Node"],l1=S(tm,Ej,r=>{var{subset:e,matrix:t,Node:n}=r,i=Xf({subset:e}),a=yM({subset:e,matrix:t});function o(u,s,l){s||(s="keep");var f=Lt(u,s,l),m=Lt(u.value,s,l);return s==="all"||m!==null&&m<=f}class c extends n{constructor(s,l,f){if(super(),this.object=s,this.index=f?l:null,this.value=f||l,!Yt(s)&&!jn(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Yt(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!oi(this.index))throw new TypeError('IndexNode expected as "index"');if(!yt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return tm}get isAssignmentNode(){return!0}_compile(s,l){var f=this.object._compile(s,l),m=this.index?this.index._compile(s,l):null,p=this.value._compile(s,l),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(D,b,x){var w=f(D,b,x),A=p(D,b,x);return Yi(w,d,A),A}}else{if(Yt(this.object))return function(D,b,x){var w=f(D,b,x),A=p(D,b,x),E=m(D,b,w);return D.set(h,a(w,E,A)),A};var g=this.object.object._compile(s,l);if(this.object.index.isObjectProperty()){var v=this.object.index.getObjectProperty();return function(D,b,x){var w=g(D,b,x),A=lr(w,v),E=m(D,b,A),F=p(D,b,x);return Yi(w,v,a(A,E,F)),F}}else{var C=this.object.index._compile(s,l);return function(D,b,x){var w=g(D,b,x),A=C(D,b,w),E=i(w,A),F=m(D,b,E),M=p(D,b,x);return a(w,A,a(E,F,M)),M}}}else{if(!Yt(this.object))throw new TypeError("SymbolNode expected as object");return function(D,b,x){var w=p(D,b,x);return D.set(h,w),w}}}forEach(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)}map(s){var l=this._ifNode(s(this.object,"object",this)),f=this.index?this._ifNode(s(this.index,"index",this)):null,m=this._ifNode(s(this.value,"value",this));return new c(l,f,m)}clone(){return new c(this.object,this.index,this.value)}_toString(s){var l=this.object.toString(s),f=this.index?this.index.toString(s):"",m=this.value.toString(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m="("+m+")"),l+f+" = "+m}toJSON(){return{mathjs:tm,object:this.object,index:this.index,value:this.value}}static fromJSON(s){return new c(s.object,s.index,s.value)}toHTML(s){var l=this.object.toHTML(s),f=this.index?this.index.toHTML(s):"",m=this.value.toHTML(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m='<span class="math-paranthesis math-round-parenthesis">(</span>'+m+'<span class="math-paranthesis math-round-parenthesis">)</span>'),l+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+m}_toTex(s){var l=this.object.toTex(s),f=this.index?this.index.toTex(s):"",m=this.value.toTex(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m="\\left(".concat(m,"\\right)")),l+f+"="+m}}return Pt(c,"name",tm),c},{isClass:!0,isNode:!0});var rm="BlockNode",Cj=["ResultSet","Node"],c1=S(rm,Cj,r=>{var{ResultSet:e,Node:t}=r;class n extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var c=o&&o.node,u=o&&o.visible!==void 0?o.visible:!0;if(!yt(c))throw new TypeError('Property "node" must be a Node');if(typeof u!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:c,visible:u}})}get type(){return rm}get isBlockNode(){return!0}_compile(a,o){var c=Bn(this.blocks,function(u){return{evaluate:u.node._compile(a,o),visible:u.visible}});return function(s,l,f){var m=[];return Ha(c,function(h){var d=h.evaluate(s,l,f);h.visible&&m.push(d)}),new e(m)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],c=0;c<this.blocks.length;c++){var u=this.blocks[c],s=this._ifNode(a(u.node,"blocks["+c+"].node",this));o[c]={node:s,visible:u.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:rm,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return Pt(n,"name",rm),n},{isClass:!0,isNode:!0});var nm="ConditionalNode",Fj=["Node"],f1=S(nm,Fj,r=>{var{Node:e}=r;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(nt(i))return!i.isZero();if(Cn(i))return!!(i.re||i.im);if(on(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Dt(i)+'"')}class n extends e{constructor(a,o,c){if(super(),!yt(a))throw new TypeError("Parameter condition must be a Node");if(!yt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!yt(c))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=c}get type(){return nm}get isConditionalNode(){return!0}_compile(a,o){var c=this.condition._compile(a,o),u=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(f,m,p){return t(c(f,m,p))?u(f,m,p):s(f,m,p)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.condition.toString(a),s=Lt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=c)&&(u="("+u+")");var l=this.trueExpr.toString(a),f=Lt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=c)&&(l="("+l+")");var m=this.falseExpr.toString(a),p=Lt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=c)&&(m="("+m+")"),u+" ? "+l+" : "+m}toJSON(){return{mathjs:nm,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.condition.toHTML(a),s=Lt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=c)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var l=this.trueExpr.toHTML(a),f=Lt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=c)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var m=this.falseExpr.toHTML(a),p=Lt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=c)&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+l+'<span class="math-operator math-conditional-operator">:</span>'+m}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Pt(n,"name",nm),n},{isClass:!0,isNode:!0});var EM=fr(DM(),1);var p1={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Rt={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},d1={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Rt.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Rt.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Rt.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Rt.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Rt.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Rt.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Rt.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Rt.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Rt.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Rt.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Rt.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Rt.bitAnd,"${args[1]}\\right)")},bitNot:{1:Rt.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Rt.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Rt.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Rt.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Rt.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Rt.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Rt.and,"${args[1]}\\right)")},not:{1:Rt.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Rt.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Rt.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Rt.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Rt.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Rt.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Rt.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Rt.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Rt.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Rt.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Rt.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Rt.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Rt.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Rt.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(p1.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},CM="\\mathrm{${name}}\\left(${args}\\right)",wM={deg:"^\\circ"};function im(r){return(0,EM.default)(r,{preserveFormatting:!0})}function am(r,e){return e=typeof e=="undefined"?!1:e,e?je(wM,r)?wM[r]:"\\mathrm{"+im(r)+"}":je(p1,r)?p1[r]:im(r)}var om="ConstantNode",Nj=["Node"],h1=S(om,Nj,r=>{var{Node:e}=r;class t extends e{constructor(i){super(),this.value=i}get type(){return om}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return at(this.value,i)}toHTML(i){var a=this._toString(i);switch(Dt(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:om,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i);switch(Dt(this.value)){case"string":return"\\mathtt{"+im(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return Pt(t,"name",om),t},{isClass:!0,isNode:!0});var sm="FunctionAssignmentNode",Mj=["typed","Node"],g1=S(sm,Mj,r=>{var{typed:e,Node:t}=r;function n(a,o,c){var u=Lt(a,o,c),s=Lt(a.expr,o,c);return o==="all"||s!==null&&s<=u}class i extends t{constructor(o,c,u){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(c))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!yt(u))throw new TypeError('Node expected for parameter "expr"');if(Jf.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var s=new Set;for(var l of c){var f=typeof l=="string"?l:l.name;if(s.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));s.add(f)}this.name=o,this.params=c.map(function(m){return m&&m.name||m}),this.types=c.map(function(m){return m&&m.type||"any"}),this.expr=u}get type(){return sm}get isFunctionAssignmentNode(){return!0}_compile(o,c){var u=Object.create(c);Ha(this.params,function(h){u[h]=!0});var s=this.expr._compile(o,u),l=this.name,f=this.params,m=wh(this.types,","),p=l+"("+wh(this.params,", ")+")";return function(d,g,v){var C={};C[m]=function(){for(var D=Object.create(g),b=0;b<f.length;b++)D[f[b]]=arguments[b];return s(d,D,v)};var y=e(l,C);return y.syntax=p,d.set(l,y),y}}forEach(o){o(this.expr,"expr",this)}map(o){var c=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),c)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toString(o);return n(this,c,o&&o.implicit)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u}toJSON(){var o=this.types;return{mathjs:sm,name:this.name,params:this.params.map(function(c,u){return{name:c,type:o[u]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}toHTML(o){for(var c=o&&o.parenthesis?o.parenthesis:"keep",u=[],s=0;s<this.params.length;s++)u.push('<span class="math-symbol math-parameter">'+Vr(this.params[s])+"</span>");var l=this.expr.toHTML(o);return n(this,c,o&&o.implicit)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Vr(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+l}_toTex(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toTex(o);return n(this,c,o&&o.implicit)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(am).join(",")+"\\right)="+u}}return Pt(i,"name",sm),i},{isClass:!0,isNode:!0});var um="IndexNode",Tj=["Node","size"],v1=S(um,Tj,r=>{var{Node:e,size:t}=r;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(yt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return um}get isIndexNode(){return!0}_compile(a,o){var c=Bn(this.dimensions,function(s,l){var f=s.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var m=Object.create(o);m.end=!0;var p=s._compile(a,m);return function(d,g,v){if(!Ge(v)&&!Et(v)&&!dr(v))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Dt(v));var C=t(v).valueOf(),y=Object.create(g);return y.end=C[l],p(d,y,v)}}else return s._compile(a,o)}),u=lr(a,"index");return function(l,f,m){var p=Bn(c,function(h){return h(l,f,m)});return u(...p)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],c=0;c<this.dimensions.length;c++)o[c]=this._ifNode(a(this.dimensions[c],"dimensions["+c+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&vt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:um,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}toHTML(a){for(var o=[],c=0;c<this.dimensions.length;c++)o[c]=this.dimensions[c].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Vr(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(c){return c.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Pt(n,"name",um),n},{isClass:!0,isNode:!0});var lm="ObjectNode",Ij=["Node"],y1=S(lm,Ij,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return yt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return lm}get isObjectNode(){return!0}_compile(i,a){var o={};for(var c in this.properties)if(je(this.properties,c)){var u=_o(c),s=JSON.parse(u),l=lr(this.properties,c);o[s]=l._compile(i,a)}return function(m,p,h){var d={};for(var g in o)je(o,g)&&(d[g]=o[g](m,p,h));return d}}forEach(i){for(var a in this.properties)je(this.properties,a)&&i(this.properties[a],"properties["+_o(a)+"]",this)}map(i){var a={};for(var o in this.properties)je(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+_o(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)je(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push(_o(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:lm,properties:this.properties}}static fromJSON(i){return new t(i.properties)}toHTML(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push('<span class="math-symbol math-property">'+Vr(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var c="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return c}}return Pt(t,"name",lm),t},{isClass:!0,isNode:!0});var cm="OperatorNode",Bj=["Node"],b1=S(cm,Bj,r=>{var{Node:e}=r;function t(a,o){var c=a;if(o==="auto")for(;un(c);)c=c.content;return vt(c)?!0:or(c)?t(c.args[0],o):!1}function n(a,o,c,u,s){var l=Lt(a,o,c),f=Rs(a,o);if(o==="all"||u.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return u.map(function(F){switch(F.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var m;switch(u.length){case 0:m=[];break;case 1:{var p=Lt(u[0],o,c,a);if(s&&p!==null){var h,d;if(o==="keep"?(h=u[0].getIdentifier(),d=a.getIdentifier()):(h=u[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),mi[l][d].latexLeftParens===!1){m=[!1];break}if(mi[p][h].latexParens===!1){m=[!1];break}}if(p===null){m=[!1];break}if(p<=l){m=[!0];break}m=[!1]}break;case 2:{var g,v=Lt(u[0],o,c,a),C=em(a,u[0],o);v===null?g=!1:v===l&&f==="right"&&!C||v<l?g=!0:g=!1;var y,D=Lt(u[1],o,c,a),b=em(a,u[1],o);if(D===null?y=!1:D===l&&f==="left"&&!b||D<l?y=!0:y=!1,s){var x,w,A;o==="keep"?(x=a.getIdentifier(),w=a.args[0].getIdentifier(),A=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),w=a.args[0].getContent().getIdentifier(),A=a.args[1].getContent().getIdentifier()),v!==null&&(mi[l][x].latexLeftParens===!1&&(g=!1),mi[v][w].latexParens===!1&&(g=!1)),D!==null&&(mi[l][x].latexRightParens===!1&&(y=!1),mi[D][A].latexParens===!1&&(y=!1))}m=[g,y]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(m=u.map(function(F){var M=Lt(F,o,c,a),B=em(a,F,o),k=Rs(F,o);return M===null?!1:l===M&&f===k&&!B?!0:M<l}));break}if(u.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&c==="hide")for(var E=1;E<m.length;++E)t(u[E],o)&&!m[E-1]&&(o!=="keep"||!un(u[E-1]))&&(m[E]=!0);return m}class i extends e{constructor(o,c,u,s,l){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof c!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(yt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=s===!0,this.isPercentage=l===!0,this.op=o,this.fn=c,this.args=u||[]}get type(){return cm}get isOperatorNode(){return!0}_compile(o,c){if(typeof this.fn!="string"||!xf(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=lr(o,this.fn),s=Bn(this.args,function(p){return p._compile(o,c)});if(s.length===1){var l=s[0];return function(h,d,g){return u(l(h,d,g))}}else if(s.length===2){var f=s[0],m=s[1];return function(h,d,g){return u(f(h,d,g),m(h,d,g))}}else return function(h,d,g){return u.apply(null,Bn(s,function(v){return v(h,d,g)}))}}forEach(o){for(var c=0;c<this.args.length;c++)o(this.args[c],"args["+c+"]",this)}map(o){for(var c=[],u=0;u<this.args.length;u++)c[u]=this._ifNode(o(this.args[u],"args["+u+"]",this));return new i(this.op,this.fn,c,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,l=n(this,c,u,s,!1);if(s.length===1){var f=Rs(this,c),m=s[0].toString(o);l[0]&&(m="("+m+")");var p=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(p?" ":"")+m:f==="left"?m+(p?" ":"")+this.op:m+this.op}else if(s.length===2){var h=s[0].toString(o),d=s[1].toString(o);return l[0]&&(h="("+h+")"),l[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=s.map(function(v,C){return v=v.toString(o),l[C]&&(v="("+v+")"),v});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:cm,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}toHTML(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,l=n(this,c,u,s,!1);if(s.length===1){var f=Rs(this,c),m=s[0].toHTML(o);return l[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Vr(this.op)+"</span>"+m:m+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Vr(this.op)+"</span>"}else if(s.length===2){var p=s[0].toHTML(o),h=s[1].toHTML(o);return l[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(this.op)+"</span>"+h}else{var d=s.map(function(g,v){return g=g.toHTML(o),l[v]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(this.op)+"</span>"):'<span class="math-function">'+Vr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var c=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,l=n(this,c,u,s,!0),f=Rt[this.fn];if(f=typeof f=="undefined"?this.op:f,s.length===1){var m=Rs(this,c),p=s[0].toTex(o);return l[0]&&(p="\\left(".concat(p,"\\right)")),m==="right"?f+p:p+f}else if(s.length===2){var h=s[0],d=h.toTex(o);l[0]&&(d="\\left(".concat(d,"\\right)"));var g=s[1],v=g.toTex(o);l[1]&&(v="\\left(".concat(v,"\\right)"));var C;switch(c==="keep"?C=h.getIdentifier():C=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+v+"}";case"OperatorNode:pow":switch(d="{"+d+"}",v="{"+v+"}",C){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&u==="hide")return d+"~"+v}return d+f+v}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=s.map(function(D,b){return D=D.toTex(o),l[b]&&(D="\\left(".concat(D,"\\right)")),D});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&u==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+s.map(function(D){return D.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Pt(i,"name",cm),i},{isClass:!0,isNode:!0});var fm="ParenthesisNode",Oj=["Node"],x1=S(fm,Oj,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),!yt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return fm}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:fm,content:this.content}}static fromJSON(i){return new t(i.content)}toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Pt(t,"name",fm),t},{isClass:!0,isNode:!0});var mm="RangeNode",kj=["Node"],D1=S(mm,kj,r=>{var{Node:e}=r;function t(i,a,o){var c=Lt(i,a,o),u={},s=Lt(i.start,a,o);if(u.start=s!==null&&s<=c||a==="all",i.step){var l=Lt(i.step,a,o);u.step=l!==null&&l<=c||a==="all"}var f=Lt(i.end,a,o);return u.end=f!==null&&f<=c||a==="all",u}class n extends e{constructor(a,o,c){if(super(),!yt(a))throw new TypeError("Node expected");if(!yt(o))throw new TypeError("Node expected");if(c&&!yt(c))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=c||null}get type(){return mm}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return Yt(o)&&o.name==="end"});return a.length>0}_compile(a,o){var c=a.range,u=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var l=this.step._compile(a,o);return function(m,p,h){return c(u(m,p,h),s(m,p,h),l(m,p,h))}}else return function(m,p,h){return c(u(m,p,h),s(m,p,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=t(this,o,a&&a.implicit),u,s=this.start.toString(a);if(c.start&&(s="("+s+")"),u=s,this.step){var l=this.step.toString(a);c.step&&(l="("+l+")"),u+=":"+l}var f=this.end.toString(a);return c.end&&(f="("+f+")"),u+=":"+f,u}toJSON(){return{mathjs:mm,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=t(this,o,a&&a.implicit),u,s=this.start.toHTML(a);if(c.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=s,this.step){var l=this.step.toHTML(a);c.step&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+l}var f=this.end.toHTML(a);return c.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+f,u}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",c=t(this,o,a&&a.implicit),u=this.start.toTex(a);if(c.start&&(u="\\left(".concat(u,"\\right)")),this.step){var s=this.step.toTex(a);c.step&&(s="\\left(".concat(s,"\\right)")),u+=":"+s}var l=this.end.toTex(a);return c.end&&(l="\\left(".concat(l,"\\right)")),u+=":"+l,u}}return Pt(n,"name",mm),n},{isClass:!0,isNode:!0});var pm="RelationalNode",Pj=["Node"],w1=S(pm,Pj,r=>{var{Node:e}=r,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return pm}get isRelationalNode(){return!0}_compile(a,o){var c=this,u=this.params.map(s=>s._compile(a,o));return function(l,f,m){for(var p,h=u[0](l,f,m),d=0;d<c.conditionals.length;d++){p=h,h=u[d+1](l,f,m);var g=lr(a,c.conditionals[d]);if(!g(p,h))return!1}return!0}}forEach(a){this.params.forEach((o,c)=>a(o,"params["+c+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,c)=>this._ifNode(a(o,"params["+c+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=Lt(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=c?"("+f.toString(a)+")":f.toString(a)}),s=u[0],l=0;l<this.conditionals.length;l++)s+=" "+t[this.conditionals[l]],s+=" "+u[l+1];return s}toJSON(){return{mathjs:pm,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=Lt(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=c?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),s=u[0],l=0;l<this.conditionals.length;l++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(t[this.conditionals[l]])+"</span>"+u[l+1];return s}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",c=Lt(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=Lt(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=c?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),s=u[0],l=0;l<this.conditionals.length;l++)s+=Rt[this.conditionals[l]]+u[l+1];return s}}return Pt(n,"name",pm),n},{isClass:!0,isNode:!0});var Rj="SymbolNode",Lj=["math","?Unit","Node"],E1=S(Rj,Lj,r=>{var{math:e,Unit:t,Node:n}=r;function i(o){return t?t.isValuelessUnit(o):!1}class a extends n{constructor(c){if(super(),typeof c!="string")throw new TypeError('String expected for parameter "name"');this.name=c}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(c,u){var s=this.name;if(u[s]===!0)return function(f,m,p){return lr(m,s)};if(s in c)return function(f,m,p){return f.has(s)?f.get(s):lr(c,s)};var l=i(s);return function(f,m,p){return f.has(s)?f.get(s):l?new t(null,s):a.onUndefinedSymbol(s)}}forEach(c){}map(c){return this.clone()}static onUndefinedSymbol(c){throw new Error("Undefined symbol "+c)}clone(){return new a(this.name)}_toString(c){return this.name}toHTML(c){var u=Vr(this.name);return u==="true"||u==="false"?'<span class="math-symbol math-boolean">'+u+"</span>":u==="i"?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":u==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":u==="NaN"?'<span class="math-symbol math-nan-symbol">'+u+"</span>":u==="null"?'<span class="math-symbol math-null-symbol">'+u+"</span>":u==="undefined"?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(c){return new a(c.name)}_toTex(c){var u=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(u=!0);var s=am(this.name,u);return s[0]==="\\"?s:" "+s}}return a},{isClass:!0,isNode:!0});function ko(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return typeof r.createSubScope=="function"?Fh(r.createSubScope(),...t):Fh(Ji(),r,...t)}var dm="FunctionNode",qj=["math","Node","SymbolNode"],C1=S(dm,qj,r=>{var e,{math:t,Node:n,SymbolNode:i}=r,a=u=>at(u,{truncate:78});function o(u,s,l){for(var f="",m=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0,h;(h=m.exec(u))!==null;)if(f+=u.substring(p,h.index),p=h.index,h[0]==="$$")f+="$",p++;else{p+=h[0].length;var d=s[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(yt(d))f+=d.toTex(l);else if(Array.isArray(d))f+=d.map(function(g,v){if(yt(g))return g.toTex(l);throw new TypeError("Template: "+h[1]+"["+v+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(yt(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(l);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=u.slice(p),f}class c extends n{constructor(s,l){if(super(),typeof s=="string"&&(s=new i(s)),!yt(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(l)||!l.every(yt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=l||[]}get name(){return this.fn.name||""}get type(){return dm}get isFunctionNode(){return!0}_compile(s,l){var f=this.args.map(A=>A._compile(s,l));if(Yt(this.fn)){var m=this.fn.name;if(l[m]){var v=this.args;return function(E,F,M){var B=lr(F,m);if(typeof B!="function")throw new TypeError("Argument '".concat(m,"' was not a function; received: ").concat(a(B)));if(B.rawArgs)return B(v,s,ko(E,F),E);var k=f.map(P=>P(E,F,M));return B.apply(B,k)}}else{var p=m in s?lr(s,m):void 0,h=typeof p=="function"&&p.rawArgs===!0,d=A=>{var E;if(A.has(m))E=A.get(m);else if(m in s)E=lr(s,m);else return c.onUndefinedFunction(m);if(typeof E=="function")return E;throw new TypeError("'".concat(m,`' is not a function; its value is:
  `).concat(a(E)))};if(h){var g=this.args;return function(E,F,M){var B=d(E);return B(g,s,ko(E,F),E)}}else switch(f.length){case 0:return function(E,F,M){var B=d(E);return B()};case 1:return function(E,F,M){var B=d(E),k=f[0];return B(k(E,F,M))};case 2:return function(E,F,M){var B=d(E),k=f[0],P=f[1];return B(k(E,F,M),P(E,F,M))};default:return function(E,F,M){var B=d(E),k=f.map(P=>P(E,F,M));return B(...k)}}}}else if(jn(this.fn)&&oi(this.fn.index)&&this.fn.index.isObjectProperty()){var C=this.fn.object._compile(s,l),y=this.fn.index.getObjectProperty(),D=this.args;return function(E,F,M){var B=C(E,F,M),k=PA(B,y);if(k!=null&&k.rawArgs)return k(D,s,ko(E,F),E);var P=f.map(R=>R(E,F,M));return k.apply(B,P)}}else{var b=this.fn.toString(),x=this.fn._compile(s,l),w=this.args;return function(E,F,M){var B=x(E,F,M);if(typeof B!="function")throw new TypeError("Expression '".concat(b,"' did not evaluate to a function; value is:")+`
  `.concat(a(B)));if(B.rawArgs)return B(w,s,ko(E,F),E);var k=f.map(P=>P(E,F,M));return B.apply(B,k)}}}forEach(s){s(this.fn,"fn",this);for(var l=0;l<this.args.length;l++)s(this.args[l],"args["+l+"]",this)}map(s){for(var l=this._ifNode(s(this.fn,"fn",this)),f=[],m=0;m<this.args.length;m++)f[m]=this._ifNode(s(this.args[m],"args["+m+"]",this));return new c(l,f)}clone(){return new c(this.fn,this.args.slice(0))}toString(s){var l,f=this.fn.toString(s);return s&&typeof s.handler=="object"&&je(s.handler,f)&&(l=s.handler[f](this,s)),typeof l!="undefined"?l:super.toString(s)}_toString(s){var l=this.args.map(function(m){return m.toString(s)}),f=Zi(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return f+"("+l.join(", ")+")"}toJSON(){return{mathjs:dm,fn:this.fn,args:this.args}}toHTML(s){var l=this.args.map(function(f){return f.toHTML(s)});return'<span class="math-function">'+Vr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(s){var l;return s&&typeof s.handler=="object"&&je(s.handler,this.name)&&(l=s.handler[this.name](this,s)),typeof l!="undefined"?l:super.toTex(s)}_toTex(s){var l=this.args.map(function(p){return p.toTex(s)}),f;d1[this.name]&&(f=d1[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(f=t[this.name].toTex);var m;switch(typeof f){case"function":m=f(this,s);break;case"string":m=o(f,this,s);break;case"object":switch(typeof f[l.length]){case"function":m=f[l.length](this,s);break;case"string":m=o(f[l.length],this,s);break}}return typeof m!="undefined"?m:o(CM,this,s)}getIdentifier(){return this.type+":"+this.name}}return e=c,Pt(c,"name",dm),Pt(c,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),Pt(c,"fromJSON",function(u){return new e(u.fn,u.args)}),c},{isClass:!0,isNode:!0});var FM="parse",Vj=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],F1=S(FM,Vj,r=>{var{typed:e,numeric:t,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:c,ConditionalNode:u,ConstantNode:s,FunctionAssignmentNode:l,FunctionNode:f,IndexNode:m,ObjectNode:p,OperatorNode:h,ParenthesisNode:d,RangeNode:g,RelationalNode:v,SymbolNode:C}=r,y=e(FM,{string:function(_){return $(_,{})},"Array | Matrix":function(_){return D(_,{})},"string, Object":function(_,L){var Y=L.nodes!==void 0?L.nodes:{};return $(_,Y)},"Array | Matrix, Object":D});function D(N){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=_.nodes!==void 0?_.nodes:{};return Je(N,function(Y){if(typeof Y!="string")throw new TypeError("String expected");return $(Y,L)})}var b={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},w={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"],F={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function M(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b.NULL,nestingLevel:0,conditionalLevel:null}}function B(N,_){return N.expression.substr(N.index,_)}function k(N){return B(N,1)}function P(N){N.index++}function R(N){return N.expression.charAt(N.index-1)}function T(N){return N.expression.charAt(N.index+1)}function I(N){for(N.tokenType=b.NULL,N.token="",N.comment="";;){if(k(N)==="#")for(;k(N)!==`
`&&k(N)!=="";)N.comment+=k(N),P(N);if(y.isWhitespace(k(N),N.nestingLevel))P(N);else break}if(k(N)===""){N.tokenType=b.DELIMITER;return}if(k(N)===`
`&&!N.nestingLevel){N.tokenType=b.DELIMITER,N.token=k(N),P(N);return}var _=k(N),L=B(N,2),Y=B(N,3);if(Y.length===3&&x[Y]){N.tokenType=b.DELIMITER,N.token=Y,P(N),P(N),P(N);return}if(L.length===2&&x[L]){N.tokenType=b.DELIMITER,N.token=L,P(N),P(N);return}if(x[_]){N.tokenType=b.DELIMITER,N.token=_,P(N);return}if(y.isDigitDot(_)){N.tokenType=b.NUMBER;var le=B(N,2);if(le==="0b"||le==="0o"||le==="0x"){for(N.token+=k(N),P(N),N.token+=k(N),P(N);y.isHexDigit(k(N));)N.token+=k(N),P(N);if(k(N)===".")for(N.token+=".",P(N);y.isHexDigit(k(N));)N.token+=k(N),P(N);else if(k(N)==="i")for(N.token+="i",P(N);y.isDigit(k(N));)N.token+=k(N),P(N);return}if(k(N)==="."){if(N.token+=k(N),P(N),!y.isDigit(k(N))){N.tokenType=b.DELIMITER;return}}else{for(;y.isDigit(k(N));)N.token+=k(N),P(N);y.isDecimalMark(k(N),T(N))&&(N.token+=k(N),P(N))}for(;y.isDigit(k(N));)N.token+=k(N),P(N);if(k(N)==="E"||k(N)==="e"){if(y.isDigit(T(N))||T(N)==="-"||T(N)==="+"){if(N.token+=k(N),P(N),(k(N)==="+"||k(N)==="-")&&(N.token+=k(N),P(N)),!y.isDigit(k(N)))throw Me(N,'Digit expected, got "'+k(N)+'"');for(;y.isDigit(k(N));)N.token+=k(N),P(N);if(y.isDecimalMark(k(N),T(N)))throw Me(N,'Digit expected, got "'+k(N)+'"')}else if(T(N)===".")throw P(N),Me(N,'Digit expected, got "'+k(N)+'"')}return}if(y.isAlpha(k(N),R(N),T(N))){for(;y.isAlpha(k(N),R(N),T(N))||y.isDigit(k(N));)N.token+=k(N),P(N);je(w,N.token)?N.tokenType=b.DELIMITER:N.tokenType=b.SYMBOL;return}for(N.tokenType=b.UNKNOWN;k(N)!=="";)N.token+=k(N),P(N);throw Me(N,'Syntax error in part "'+N.token+'"')}function V(N){do I(N);while(N.token===`
`)}function O(N){N.nestingLevel++}function J(N){N.nestingLevel--}y.isAlpha=function(_,L,Y){return y.isValidLatinOrGreek(_)||y.isValidMathSymbol(_,Y)||y.isValidMathSymbol(L,_)},y.isValidLatinOrGreek=function(_){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(_)},y.isValidMathSymbol=function(_,L){return/^[\uD835]$/.test(_)&&/^[\uDC00-\uDFFF]$/.test(L)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(L)},y.isWhitespace=function(_,L){return _===" "||_==="	"||_===`
`&&L>0},y.isDecimalMark=function(_,L){return _==="."&&L!=="/"&&L!=="*"&&L!=="^"},y.isDigitDot=function(_){return _>="0"&&_<="9"||_==="."},y.isDigit=function(_){return _>="0"&&_<="9"},y.isHexDigit=function(_){return _>="0"&&_<="9"||_>="a"&&_<="f"||_>="A"&&_<="F"};function $(N,_){var L=M();ur(L,{expression:N,extraNodes:_}),I(L);var Y=H(L);if(L.token!=="")throw L.tokenType===b.DELIMITER?Le(L,"Unexpected operator "+L.token):Me(L,'Unexpected part "'+L.token+'"');return Y}function H(N){var _,L=[],Y;for(N.token!==""&&N.token!==`
`&&N.token!==";"&&(_=q(N),N.comment&&(_.comment=N.comment));N.token===`
`||N.token===";";)L.length===0&&_&&(Y=N.token!==";",L.push({node:_,visible:Y})),I(N),N.token!==`
`&&N.token!==";"&&N.token!==""&&(_=q(N),N.comment&&(_.comment=N.comment),Y=N.token!==";",L.push({node:_,visible:Y}));return L.length>0?new c(L):(_||(_=new s(void 0),N.comment&&(_.comment=N.comment)),_)}function q(N){var _,L,Y,le,ye=ne(N);if(N.token==="="){if(Yt(ye))return _=ye.name,V(N),Y=q(N),new o(new C(_),Y);if(jn(ye))return V(N),Y=q(N),new o(ye.object,ye.index,Y);if(An(ye)&&Yt(ye.fn)&&(le=!0,L=[],_=ye.name,ye.args.forEach(function(Te,Ve){Yt(Te)?L[Ve]=Te.name:le=!1}),le))return V(N),Y=q(N),new l(_,L,Y);throw Me(N,"Invalid left hand side of assignment operator =")}return ye}function ne(N){for(var _=be(N);N.token==="?";){var L=N.conditionalLevel;N.conditionalLevel=N.nestingLevel,V(N);var Y=_,le=q(N);if(N.token!==":")throw Me(N,"False part of conditional expression expected");N.conditionalLevel=null,V(N);var ye=q(N);_=new u(Y,le,ye),N.conditionalLevel=L}return _}function be(N){for(var _=oe(N);N.token==="or";)V(N),_=new h("or","or",[_,oe(N)]);return _}function oe(N){for(var _=ue(N);N.token==="xor";)V(N),_=new h("xor","xor",[_,ue(N)]);return _}function ue(N){for(var _=me(N);N.token==="and";)V(N),_=new h("and","and",[_,me(N)]);return _}function me(N){for(var _=se(N);N.token==="|";)V(N),_=new h("|","bitOr",[_,se(N)]);return _}function se(N){for(var _=ce(N);N.token==="^|";)V(N),_=new h("^|","bitXor",[_,ce(N)]);return _}function ce(N){for(var _=pe(N);N.token==="&";)V(N),_=new h("&","bitAnd",[_,pe(N)]);return _}function pe(N){for(var _=[ge(N)],L=[],Y={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};je(Y,N.token);){var le={name:N.token,fn:Y[N.token]};L.push(le),V(N),_.push(ge(N))}return _.length===1?_[0]:_.length===2?new h(L[0].name,L[0].fn,_):new v(L.map(ye=>ye.fn),_)}function ge(N){var _,L,Y,le;_=Re(N);for(var ye={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};je(ye,N.token);)L=N.token,Y=ye[L],V(N),le=[_,Re(N)],_=new h(L,Y,le);return _}function Re(N){var _,L,Y,le;_=Ee(N);for(var ye={to:"to",in:"to"};je(ye,N.token);)L=N.token,Y=ye[L],V(N),L==="in"&&N.token===""?_=new h("*","multiply",[_,new C("in")],!0):(le=[_,Ee(N)],_=new h(L,Y,le));return _}function Ee(N){var _,L=[];if(N.token===":"?_=new s(1):_=z(N),N.token===":"&&N.conditionalLevel!==N.nestingLevel){for(L.push(_);N.token===":"&&L.length<3;)V(N),N.token===")"||N.token==="]"||N.token===","||N.token===""?L.push(new C("end")):L.push(z(N));L.length===3?_=new g(L[0],L[2],L[1]):_=new g(L[0],L[1])}return _}function z(N){var _,L,Y,le;_=j(N);for(var ye={"+":"add","-":"subtract"};je(ye,N.token);){L=N.token,Y=ye[L],V(N);var Te=j(N);Te.isPercentage?le=[_,new h("*","multiply",[_,Te])]:le=[_,Te],_=new h(L,Y,le)}return _}function j(N){var _,L,Y,le;_=fe(N),L=_;for(var ye={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};je(ye,N.token);)Y=N.token,le=ye[Y],V(N),L=fe(N),_=new h(Y,le,[_,L]);return _}function fe(N){var _,L;for(_=W(N),L=_;N.tokenType===b.SYMBOL||N.token==="in"&&vt(_)||N.tokenType===b.NUMBER&&!vt(L)&&(!or(L)||L.op==="!")||N.token==="(";)L=W(N),_=new h("*","multiply",[_,L],!0);return _}function W(N){for(var _=K(N),L=_,Y=[];N.token==="/"&&Tu(L);)if(Y.push(ur({},N)),V(N),N.tokenType===b.NUMBER)if(Y.push(ur({},N)),V(N),N.tokenType===b.SYMBOL||N.token==="(")ur(N,Y.pop()),Y.pop(),L=K(N),_=new h("/","divide",[_,L]);else{Y.pop(),ur(N,Y.pop());break}else{ur(N,Y.pop());break}return _}function K(N){var _,L,Y,le;_=ie(N);for(var ye={"%":"mod",mod:"mod"};je(ye,N.token);)L=N.token,Y=ye[L],V(N),L==="%"&&N.tokenType===b.DELIMITER&&N.token!=="("?_=new h("/","divide",[_,new s(100)],!1,!0):(le=[_,ie(N)],_=new h(L,Y,le));return _}function ie(N){var _,L,Y,le={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return je(le,N.token)?(Y=le[N.token],_=N.token,V(N),L=[ie(N)],new h(_,Y,L)):ve(N)}function ve(N){var _,L,Y,le;return _=xe(N),(N.token==="^"||N.token===".^")&&(L=N.token,Y=L==="^"?"pow":"dotPow",V(N),le=[_,ie(N)],_=new h(L,Y,le)),_}function xe(N){var _,L,Y,le;_=qe(N);for(var ye={"!":"factorial","'":"ctranspose"};je(ye,N.token);)L=N.token,Y=ye[L],I(N),le=[_],_=new h(L,Y,le),_=ft(N,_);return _}function qe(N){var _=[];if(N.tokenType===b.SYMBOL&&je(N.extraNodes,N.token)){var L=N.extraNodes[N.token];if(I(N),N.token==="("){if(_=[],O(N),I(N),N.token!==")")for(_.push(q(N));N.token===",";)I(N),_.push(q(N));if(N.token!==")")throw Me(N,"Parenthesis ) expected");J(N),I(N)}return new L(_)}return Se(N)}function Se(N){var _,L;return N.tokenType===b.SYMBOL||N.tokenType===b.DELIMITER&&N.token in w?(L=N.token,I(N),je(A,L)?_=new s(A[L]):E.indexOf(L)!==-1?_=new s(t(L,"number")):_=new C(L),_=ft(N,_),_):pt(N)}function ft(N,_,L){for(var Y;(N.token==="("||N.token==="["||N.token===".")&&(!L||L.indexOf(N.token)!==-1);)if(Y=[],N.token==="(")if(Yt(_)||jn(_)){if(O(N),I(N),N.token!==")")for(Y.push(q(N));N.token===",";)I(N),Y.push(q(N));if(N.token!==")")throw Me(N,"Parenthesis ) expected");J(N),I(N),_=new f(_,Y)}else return _;else if(N.token==="["){if(O(N),I(N),N.token!=="]")for(Y.push(q(N));N.token===",";)I(N),Y.push(q(N));if(N.token!=="]")throw Me(N,"Parenthesis ] expected");J(N),I(N),_=new i(_,new m(Y))}else{I(N);var le=N.tokenType===b.SYMBOL||N.tokenType===b.DELIMITER&&N.token in w;if(!le)throw Me(N,"Property name expected after dot");Y.push(new s(N.token)),I(N);var ye=!0;_=new i(_,new m(Y,ye))}return _}function pt(N){var _,L;return N.token==='"'||N.token==="'"?(L=Tt(N,N.token),_=new s(L),_=ft(N,_),_):zt(N)}function Tt(N,_){for(var L="";k(N)!==""&&k(N)!==_;)if(k(N)==="\\"){P(N);var Y=k(N),le=F[Y];if(le!==void 0)L+=le,N.index+=1;else if(Y==="u"){var ye=N.expression.slice(N.index+1,N.index+5);if(/^[0-9A-Fa-f]{4}$/.test(ye))L+=String.fromCharCode(parseInt(ye,16)),N.index+=5;else throw Me(N,"Invalid unicode character \\u".concat(ye))}else throw Me(N,"Bad escape character \\".concat(Y))}else L+=k(N),P(N);if(I(N),N.token!==_)throw Me(N,"End of string ".concat(_," expected"));return I(N),L}function zt(N){var _,L,Y,le;if(N.token==="["){if(O(N),I(N),N.token!=="]"){var ye=Z(N);if(N.token===";"){for(Y=1,L=[ye];N.token===";";)I(N),L[Y]=Z(N),Y++;if(N.token!=="]")throw Me(N,"End of matrix ] expected");J(N),I(N),le=L[0].items.length;for(var Te=1;Te<Y;Te++)if(L[Te].items.length!==le)throw Le(N,"Column dimensions mismatch ("+L[Te].items.length+" !== "+le+")");_=new a(L)}else{if(N.token!=="]")throw Me(N,"End of matrix ] expected");J(N),I(N),_=ye}}else J(N),I(N),_=new a([]);return ft(N,_)}return ae(N)}function Z(N){for(var _=[q(N)],L=1;N.token===",";)I(N),_[L]=q(N),L++;return new a(_)}function ae(N){if(N.token==="{"){O(N);var _,L={};do if(I(N),N.token!=="}"){if(N.token==='"'||N.token==="'")_=Tt(N,N.token);else if(N.tokenType===b.SYMBOL||N.tokenType===b.DELIMITER&&N.token in w)_=N.token,I(N);else throw Me(N,"Symbol or string expected as object key");if(N.token!==":")throw Me(N,"Colon : expected after object key");I(N),L[_]=q(N)}while(N.token===",");if(N.token!=="}")throw Me(N,"Comma , or bracket } expected after object value");J(N),I(N);var Y=new p(L);return Y=ft(N,Y),Y}return de(N)}function de(N){var _;return N.tokenType===b.NUMBER?(_=N.token,I(N),new s(t(_,n.number))):Fe(N)}function Fe(N){var _;if(N.token==="("){if(O(N),I(N),_=q(N),N.token!==")")throw Me(N,"Parenthesis ) expected");return J(N),I(N),_=new d(_),_=ft(N,_),_}return Be(N)}function Be(N){throw N.token===""?Me(N,"Unexpected end of expression"):Me(N,"Value expected")}function Ae(N){return N.index-N.token.length+1}function Me(N,_){var L=Ae(N),Y=new SyntaxError(_+" (char "+L+")");return Y.char=L,Y}function Le(N,_){var L=Ae(N),Y=new SyntaxError(_+" (char "+L+")");return Y.char=L,Y}return e.addConversion({from:"string",to:"Node",convert:y}),y});var AM="compile",Uj=["typed","parse"],A1=S(AM,Uj,r=>{var{typed:e,parse:t}=r;return e(AM,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return Je(i,function(a){return t(a).compile()})}})});var SM="evaluate",zj=["typed","parse"],S1=S(SM,zj,r=>{var{typed:e,parse:t}=r;return e(SM,{string:function(i){var a=Ji();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=Ji();return Je(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return Je(i,function(o){return t(o).compile().evaluate(a)})}})});var Hj="Parser",Wj=["evaluate"],_1=S(Hj,Wj,r=>{var{evaluate:e}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Ji(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(n){return e(n,this.scope)},t.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},t.prototype.getAll=function(){return LA(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(n,i){return this.scope.set(n,i),i},t.prototype.remove=function(n){this.scope.delete(n)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});var _M="parser",Gj=["typed","Parser"],N1=S(_M,Gj,r=>{var{typed:e,Parser:t}=r;return e(_M,{"":function(){return new t}})});var NM="lup",jj=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],M1=S(NM,jj,r=>{var{typed:e,matrix:t,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:c,larger:u,equalScalar:s,unaryMinus:l,DenseMatrix:f,SparseMatrix:m,Spa:p}=r;return e(NM,{DenseMatrix:function(v){return h(v)},SparseMatrix:function(v){return d(v)},Array:function(v){var C=t(v),y=h(C);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function h(g){var v=g._size[0],C=g._size[1],y=Math.min(v,C),D=tt(g._data),b=[],x=[v,y],w=[],A=[y,C],E,F,M,B=[];for(E=0;E<v;E++)B[E]=E;for(F=0;F<C;F++){if(F>0)for(E=0;E<v;E++){var k=Math.min(E,F),P=0;for(M=0;M<k;M++)P=i(P,o(D[E][M],D[M][F]));D[E][F]=c(D[E][F],P)}var R=F,T=0,I=0;for(E=F;E<v;E++){var V=D[E][F],O=n(V);u(O,T)&&(R=E,T=O,I=V)}if(F!==R&&(B[F]=[B[R],B[R]=B[F]][0],f._swapRows(F,R,D)),F<v)for(E=F+1;E<v;E++){var J=D[E][F];s(J,0)||(D[E][F]=a(D[E][F],I))}}for(F=0;F<C;F++)for(E=0;E<v;E++){if(F===0&&(E<C&&(w[E]=[]),b[E]=[]),E<F){E<C&&(w[E][F]=D[E][F]),F<v&&(b[E][F]=0);continue}if(E===F){E<C&&(w[E][F]=D[E][F]),F<v&&(b[E][F]=1);continue}E<C&&(w[E][F]=0),F<v&&(b[E][F]=D[E][F])}var $=new f({data:b,size:x}),H=new f({data:w,size:A}),q=[];for(E=0,y=B.length;E<y;E++)q[B[E]]=E;return{L:$,U:H,p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(g){var v=g._size[0],C=g._size[1],y=Math.min(v,C),D=g._values,b=g._index,x=g._ptr,w=[],A=[],E=[],F=[v,y],M=[],B=[],k=[],P=[y,C],R,T,I,V=[],O=[];for(R=0;R<v;R++)V[R]=R,O[R]=R;var J=function(q,ne){var be=O[q],oe=O[ne];V[be]=ne,V[oe]=q,O[q]=oe,O[ne]=be},$=function(){var q=new p;T<v&&(E.push(w.length),w.push(1),A.push(T)),k.push(M.length);var ne=x[T],be=x[T+1];for(I=ne;I<be;I++)R=b[I],q.set(V[R],D[I]);T>0&&q.forEach(0,T-1,function(se,ce){m._forEachRow(se,w,A,E,function(pe,ge){pe>se&&q.accumulate(pe,l(o(ge,ce)))})});var oe=T,ue=q.get(T),me=n(ue);q.forEach(T+1,v-1,function(se,ce){var pe=n(ce);u(pe,me)&&(oe=se,me=pe,ue=ce)}),T!==oe&&(m._swapRows(T,oe,F[1],w,A,E),m._swapRows(T,oe,P[1],M,B,k),q.swap(T,oe),J(T,oe)),q.forEach(0,v-1,function(se,ce){se<=T?(M.push(ce),B.push(se)):(ce=a(ce,ue),s(ce,0)||(w.push(ce),A.push(se)))})};for(T=0;T<C;T++)$();return k.push(M.length),E.push(w.length),{L:new m({values:w,index:A,ptr:E,size:F}),U:new m({values:M,index:B,ptr:k,size:P}),p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var MM="qr",Zj=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],T1=S(MM,Zj,r=>{var{typed:e,matrix:t,zeros:n,identity:i,isZero:a,equal:o,sign:c,sqrt:u,conj:s,unaryMinus:l,addScalar:f,divideScalar:m,multiplyScalar:p,subtractScalar:h,complex:d}=r;return ur(e(MM,{DenseMatrix:function(D){return v(D)},SparseMatrix:function(D){return C(D)},Array:function(D){var b=t(D),x=v(b);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:g});function g(y){var D=y._size[0],b=y._size[1],x=i([D],"dense"),w=x._data,A=y.clone(),E=A._data,F,M,B,k=n([D],"");for(B=0;B<Math.min(b,D);++B){var P=E[B][B],R=l(o(P,0)?1:c(P)),T=s(R),I=0;for(F=B;F<D;F++)I=f(I,p(E[F][B],s(E[F][B])));var V=p(R,u(I));if(!a(V)){var O=h(P,V);for(k[B]=1,F=B+1;F<D;F++)k[F]=m(E[F][B],O);var J=l(s(m(O,V))),$=void 0;for(M=B;M<b;M++){for($=0,F=B;F<D;F++)$=f($,p(s(k[F]),E[F][M]));for($=p($,J),F=B;F<D;F++)E[F][M]=p(h(E[F][M],p(k[F],$)),T)}for(F=0;F<D;F++){for($=0,M=B;M<D;M++)$=f($,p(w[F][M],k[M]));for($=p($,J),M=B;M<D;++M)w[F][M]=m(h(w[F][M],p($,s(k[M]))),T)}}}return{Q:x,R:A,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function v(y){var D=g(y),b=D.R._data;if(y._data.length>0)for(var x=b[0][0].type==="Complex"?d(0):0,w=0;w<b.length;++w)for(var A=0;A<w&&A<(b[0]||[]).length;++A)b[w][A]=x;return D}function C(y){throw new Error("qr not implemented for sparse matrices yet")}});function TM(r,e,t,n){for(var i=r._values,a=r._index,o=r._ptr,c=r._size,u=r._datatype,s=c[0],l=c[1],f=n&&r._values?[]:null,m=[],p=[],h=0,d=0;d<l;d++){p[d]=h;for(var g=t?t[d]:d,v=o[g],C=o[g+1],y=v;y<C;y++){var D=e?e[a[y]]:a[y];m[h]=D,f&&(f[h]=i[y]),h++}}return p[l]=h,r.createSparseMatrix({values:f,index:m,ptr:p,size:[s,l],datatype:u})}function hm(r,e,t,n,i,a,o){var c=0;for(t[o]=r;c>=0;){var u=t[o+c],s=t[n+u];s===-1?(c--,a[e++]=u):(t[n+u]=t[i+s],++c,t[o+c]=s)}return e}function IM(r,e){if(!r)return null;var t=0,n,i=[],a=[],o=0,c=e,u=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)r[n]!==-1&&(a[c+n]=a[o+r[n]],a[o+r[n]]=n);for(n=0;n<e;n++)r[n]===-1&&(t=hm(n,t,a,o,c,i,u));return i}function BM(r,e){if(!r)return null;var t=r._index,n=r._ptr,i=r._size,a=i[0],o=i[1],c=[],u=[],s=0,l=o,f,m;if(e)for(f=0;f<a;f++)u[l+f]=-1;for(var p=0;p<o;p++){c[p]=-1,u[s+p]=-1;for(var h=n[p],d=n[p+1],g=h;g<d;g++){var v=t[g];for(f=e?u[l+v]:v;f!==-1&&f<p;f=m)m=u[s+f],u[s+f]=p,m===-1&&(c[f]=p);e&&(u[l+v]=p)}}return c}function OM(r,e,t){for(var n=r._values,i=r._index,a=r._ptr,o=r._size,c=o[1],u=0,s=0;s<c;s++){var l=a[s];for(a[s]=u;l<a[s+1];l++)e(i[l],s,n?n[l]:1,t)&&(i[u]=i[l],n&&(n[u]=n[l]),u++)}return a[c]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u),u}function Bi(r){return-r-2}var Yj="csAmd",Jj=["add","multiply","transpose"],kM=S(Yj,Jj,r=>{var{add:e,multiply:t,transpose:n}=r;return function(l,f){if(!f||l<=0||l>3)return null;var m=f._size,p=m[0],h=m[1],d=0,g=Math.max(16,10*Math.sqrt(h));g=Math.min(h-2,g);var v=i(l,f,p,h,g);OM(v,u,null);for(var C=v._index,y=v._ptr,D=y[h],b=[],x=[],w=0,A=h+1,E=2*(h+1),F=3*(h+1),M=4*(h+1),B=5*(h+1),k=6*(h+1),P=7*(h+1),R=b,T=a(h,y,x,w,F,R,E,P,A,k,M,B),I=o(h,y,x,B,M,k,g,A,F,R,E),V=0,O,J,$,H,q,ne,be,oe,ue,me,se,ce,pe,ge,Re,Ee;I<h;){for($=-1;V<h&&($=x[F+V])===-1;V++);x[E+$]!==-1&&(R[x[E+$]]=-1),x[F+V]=x[E+$];var z=x[M+$],j=x[A+$];I+=j;var fe=0;x[A+$]=-j;var W=y[$],K=z===0?W:D,ie=K;for(H=1;H<=z+1;H++){for(H>z?(ne=$,be=W,oe=x[w+$]-z):(ne=C[W++],be=y[ne],oe=x[w+ne]),q=1;q<=oe;q++)O=C[be++],!((ue=x[A+O])<=0)&&(fe+=ue,x[A+O]=-ue,C[ie++]=O,x[E+O]!==-1&&(R[x[E+O]]=R[O]),R[O]!==-1?x[E+R[O]]=x[E+O]:x[F+x[B+O]]=x[E+O]);ne!==$&&(y[ne]=Bi($),x[k+ne]=0)}for(z!==0&&(D=ie),x[B+$]=fe,y[$]=K,x[w+$]=ie-K,x[M+$]=-2,T=c(T,d,x,k,h),me=K;me<ie;me++)if(O=C[me],!((se=x[M+O])<=0)){ue=-x[A+O];var ve=T-ue;for(W=y[O],ce=y[O]+se-1;W<=ce;W++)ne=C[W],x[k+ne]>=T?x[k+ne]-=ue:x[k+ne]!==0&&(x[k+ne]=x[B+ne]+ve)}for(me=K;me<ie;me++){for(O=C[me],ce=y[O],pe=ce+x[M+O]-1,ge=ce,Re=0,Ee=0,W=ce;W<=pe;W++)if(ne=C[W],x[k+ne]!==0){var xe=x[k+ne]-T;xe>0?(Ee+=xe,C[ge++]=ne,Re+=ne):(y[ne]=Bi($),x[k+ne]=0)}x[M+O]=ge-ce+1;var qe=ge,Se=ce+x[w+O];for(W=pe+1;W<Se;W++){J=C[W];var ft=x[A+J];ft<=0||(Ee+=ft,C[ge++]=J,Re+=J)}Ee===0?(y[O]=Bi($),ue=-x[A+O],fe-=ue,j+=ue,I+=ue,x[A+O]=0,x[M+O]=-1):(x[B+O]=Math.min(x[B+O],Ee),C[ge]=C[qe],C[qe]=C[ce],C[ce]=$,x[w+O]=ge-ce+1,Re=(Re<0?-Re:Re)%h,x[E+O]=x[P+Re],x[P+Re]=O,R[O]=Re)}for(x[B+$]=fe,d=Math.max(d,fe),T=c(T+d,d,x,k,h),me=K;me<ie;me++)if(O=C[me],!(x[A+O]>=0))for(Re=R[O],O=x[P+Re],x[P+Re]=-1;O!==-1&&x[E+O]!==-1;O=x[E+O],T++){for(oe=x[w+O],se=x[M+O],W=y[O]+1;W<=y[O]+oe-1;W++)x[k+C[W]]=T;var pt=O;for(J=x[E+O];J!==-1;){var Tt=x[w+J]===oe&&x[M+J]===se;for(W=y[J]+1;Tt&&W<=y[J]+oe-1;W++)x[k+C[W]]!==T&&(Tt=0);Tt?(y[J]=Bi(O),x[A+O]+=x[A+J],x[A+J]=0,x[M+J]=-1,J=x[E+J],x[E+pt]=J):(pt=J,J=x[E+J])}}for(W=K,me=K;me<ie;me++)O=C[me],!((ue=-x[A+O])<=0)&&(x[A+O]=ue,Ee=x[B+O]+fe-ue,Ee=Math.min(Ee,h-I-ue),x[F+Ee]!==-1&&(R[x[F+Ee]]=O),x[E+O]=x[F+Ee],R[O]=-1,x[F+Ee]=O,V=Math.min(V,Ee),x[B+O]=Ee,C[W++]=O);x[A+$]=j,(x[w+$]=W-K)===0&&(y[$]=-1,x[k+$]=0),z!==0&&(D=W)}for(O=0;O<h;O++)y[O]=Bi(y[O]);for(J=0;J<=h;J++)x[F+J]=-1;for(J=h;J>=0;J--)x[A+J]>0||(x[E+J]=x[F+y[J]],x[F+y[J]]=J);for(ne=h;ne>=0;ne--)x[A+ne]<=0||y[ne]!==-1&&(x[E+ne]=x[F+y[ne]],x[F+y[ne]]=ne);for($=0,O=0;O<=h;O++)y[O]===-1&&($=hm(O,$,x,F,E,b,k));return b.splice(b.length-1,1),b};function i(s,l,f,m,p){var h=n(l);if(s===1&&m===f)return e(l,h);if(s===2){for(var d=h._index,g=h._ptr,v=0,C=0;C<f;C++){var y=g[C];if(g[C]=v,!(g[C+1]-y>p))for(var D=g[C+1];y<D;y++)d[v++]=d[y]}return g[f]=v,l=n(h),t(h,l)}return t(h,l)}function a(s,l,f,m,p,h,d,g,v,C,y,D){for(var b=0;b<s;b++)f[m+b]=l[b+1]-l[b];f[m+s]=0;for(var x=0;x<=s;x++)f[p+x]=-1,h[x]=-1,f[d+x]=-1,f[g+x]=-1,f[v+x]=1,f[C+x]=1,f[y+x]=0,f[D+x]=f[m+x];var w=c(0,0,f,C,s);return f[y+s]=-2,l[s]=-1,f[C+s]=0,w}function o(s,l,f,m,p,h,d,g,v,C,y){for(var D=0,b=0;b<s;b++){var x=f[m+b];if(x===0)f[p+b]=-2,D++,l[b]=-1,f[h+b]=0;else if(x>d)f[g+b]=0,f[p+b]=-1,D++,l[b]=Bi(s),f[g+s]++;else{var w=f[v+x];w!==-1&&(C[w]=b),f[y+b]=f[v+x],f[v+x]=b}}return D}function c(s,l,f,m,p){if(s<2||s+l<0){for(var h=0;h<p;h++)f[m+h]!==0&&(f[m+h]=1);s=2}return s}function u(s,l){return s!==l}});function PM(r,e,t,n,i,a,o){var c,u,s=0,l;if(r<=e||t[n+e]<=t[i+r])return-1;t[i+r]=t[n+e];var f=t[a+r];if(t[a+r]=e,f===-1)s=1,l=r;else{for(s=2,l=f;l!==t[o+l];l=t[o+l]);for(c=f;c!==l;c=u)u=t[o+c],t[o+c]=l}return{jleaf:s,q:l}}var Xj="csCounts",Qj=["transpose"],RM=S(Xj,Qj,r=>{var{transpose:e}=r;return function(t,n,i,a){if(!t||!n||!i)return null;var o=t._size,c=o[0],u=o[1],s,l,f,m,p,h,d,g=4*u+(a?u+c+1:0),v=[],C=0,y=u,D=2*u,b=3*u,x=4*u,w=5*u+1;for(f=0;f<g;f++)v[f]=-1;var A=[],E=e(t),F=E._index,M=E._ptr;for(f=0;f<u;f++)for(l=i[f],A[l]=v[b+l]===-1?1:0;l!==-1&&v[b+l]===-1;l=n[l])v[b+l]=f;if(a){for(f=0;f<u;f++)v[i[f]]=f;for(s=0;s<c;s++){for(f=u,h=M[s],d=M[s+1],p=h;p<d;p++)f=Math.min(f,v[F[p]]);v[w+s]=v[x+f],v[x+f]=s}}for(s=0;s<u;s++)v[C+s]=s;for(f=0;f<u;f++){for(l=i[f],n[l]!==-1&&A[n[l]]--,m=a?v[x+f]:l;m!==-1;m=a?v[w+m]:-1)for(p=M[m];p<M[m+1];p++){s=F[p];var B=PM(s,l,v,b,y,D,C);B.jleaf>=1&&A[l]++,B.jleaf===2&&A[B.q]--}n[l]!==-1&&(v[C+l]=n[l])}for(l=0;l<u;l++)n[l]!==-1&&(A[n[l]]+=A[l]);return A}});var Kj="csSqr",$j=["add","multiply","transpose"],LM=S(Kj,$j,r=>{var{add:e,multiply:t,transpose:n}=r,i=kM({add:e,multiply:t,transpose:n}),a=RM({transpose:n});return function(u,s,l){var f=s._ptr,m=s._size,p=m[1],h,d={};if(d.q=i(u,s),u&&!d.q)return null;if(l){var g=u?TM(s,null,d.q,0):s;d.parent=BM(g,1);var v=IM(d.parent,p);if(d.cp=a(g,d.parent,v,1),g&&d.parent&&d.cp&&o(g,d))for(d.unz=0,h=0;h<p;h++)d.unz+=d.cp[h]}else d.unz=4*f[p]+p,d.lnz=d.unz;return d};function o(c,u){var s=c._ptr,l=c._index,f=c._size,m=f[0],p=f[1];u.pinv=[],u.leftmost=[];var h=u.parent,d=u.pinv,g=u.leftmost,v=[],C=0,y=m,D=m+p,b=m+2*p,x,w,A,E,F;for(w=0;w<p;w++)v[y+w]=-1,v[D+w]=-1,v[b+w]=0;for(x=0;x<m;x++)g[x]=-1;for(w=p-1;w>=0;w--)for(E=s[w],F=s[w+1],A=E;A<F;A++)g[l[A]]=w;for(x=m-1;x>=0;x--)d[x]=-1,w=g[x],w!==-1&&(v[b+w]++===0&&(v[D+w]=x),v[C+x]=v[y+w],v[y+w]=x);for(u.lnz=0,u.m2=m,w=0;w<p;w++)if(x=v[y+w],u.lnz++,x<0&&(x=u.m2++),d[x]=w,!(--b[w]<=0)){u.lnz+=v[b+w];var M=h[w];M!==-1&&(v[b+M]===0&&(v[D+M]=v[D+w]),v[C+v[D+w]]=v[y+M],v[y+M]=v[C+x],v[b+M]+=v[b+w])}for(x=0;x<m;x++)d[x]<0&&(d[x]=w++);return!0}});function tl(r,e){return r[e]<0}function gm(r,e){r[e]=Bi(r[e])}function I1(r){return r<0?Bi(r):r}function qM(r,e,t,n,i){var a=e._index,o=e._ptr,c=e._size,u=c[1],s,l,f,m=0;for(n[0]=r;m>=0;){r=n[m];var p=i?i[r]:r;tl(o,r)||(gm(o,r),n[u+m]=p<0?0:I1(o[p]));var h=1;for(l=n[u+m],f=p<0?0:I1(o[p+1]);l<f;l++)if(s=a[l],!tl(o,s)){n[u+m]=l,n[++m]=s,h=0;break}h&&(m--,n[--t]=r)}return t}function VM(r,e,t,n,i){var a=r._ptr,o=r._size,c=e._index,u=e._ptr,s=o[1],l,f,m,p=s;for(f=u[t],m=u[t+1],l=f;l<m;l++){var h=c[l];tl(a,h)||(p=qM(h,r,p,n,i))}for(l=p;l<s;l++)gm(a,n[l]);return p}var eZ="csSpsolve",tZ=["divideScalar","multiply","subtract"],UM=S(eZ,tZ,r=>{var{divideScalar:e,multiply:t,subtract:n}=r;return function(a,o,c,u,s,l,f){var m=a._values,p=a._index,h=a._ptr,d=a._size,g=d[1],v=o._values,C=o._index,y=o._ptr,D,b,x,w,A=VM(a,o,c,u,l);for(D=A;D<g;D++)s[u[D]]=0;for(b=y[c],x=y[c+1],D=b;D<x;D++)s[C[D]]=v[D];for(var E=A;E<g;E++){var F=u[E],M=l?l[F]:F;if(!(M<0))for(b=h[M],x=h[M+1],s[F]=e(s[F],m[f?b:x-1]),D=f?b+1:b,w=f?x:x-1;D<w;D++){var B=p[D];s[B]=n(s[B],t(m[D],s[F]))}}return A}});var rZ="csLu",nZ=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],zM=S(rZ,nZ,r=>{var{abs:e,divideScalar:t,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:c}=r,u=UM({divideScalar:t,multiply:n,subtract:i});return function(l,f,m){if(!l)return null;var p=l._size,h=p[1],d,g=100,v=100;f&&(d=f.q,g=f.lnz||g,v=f.unz||v);var C=[],y=[],D=[],b=new c({values:C,index:y,ptr:D,size:[h,h]}),x=[],w=[],A=[],E=new c({values:x,index:w,ptr:A,size:[h,h]}),F=[],M,B,k=[],P=[];for(M=0;M<h;M++)k[M]=0,F[M]=-1,D[M+1]=0;g=0,v=0;for(var R=0;R<h;R++){D[R]=g,A[R]=v;var T=d?d[R]:R,I=u(b,l,T,P,k,F,1),V=-1,O=-1;for(B=I;B<h;B++)if(M=P[B],F[M]<0){var J=e(k[M]);a(J,O)&&(O=J,V=M)}else w[v]=F[M],x[v++]=k[M];if(V===-1||O<=0)return null;F[T]<0&&o(e(k[T]),n(O,m))&&(V=T);var $=k[V];for(w[v]=R,x[v++]=$,F[V]=R,y[g]=V,C[g++]=1,B=I;B<h;B++)M=P[B],F[M]<0&&(y[g]=M,C[g++]=t(k[M],$)),k[M]=0}for(D[h]=g,A[h]=v,B=0;B<g;B++)y[B]=F[y[B]];return C.splice(g,C.length-g),y.splice(g,y.length-g),x.splice(v,x.length-v),w.splice(v,w.length-v),{L:b,U:E,pinv:F}}});var HM="slu",iZ=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],B1=S(HM,iZ,r=>{var{typed:e,abs:t,add:n,multiply:i,transpose:a,divideScalar:o,subtract:c,larger:u,largerEq:s,SparseMatrix:l}=r,f=LM({add:n,multiply:i,transpose:a}),m=zM({abs:t,divideScalar:o,multiply:i,subtract:c,larger:u,largerEq:s,SparseMatrix:l});return e(HM,{"SparseMatrix, number, number":function(h,d,g){if(!We(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var v=f(d,h,!1),C=m(h,v,g);return{L:C.L,U:C.U,p:C.pinv,q:v.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function O1(r,e){var t,n=e.length,i=[];if(r)for(t=0;t<n;t++)i[r[t]]=e[t];else for(t=0;t<n;t++)i[t]=e[t];return i}var WM="lusolve",aZ=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],k1=S(WM,aZ,r=>{var{typed:e,matrix:t,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:c}=r,u=Ki({DenseMatrix:c});return e(WM,{"Array, Array | Matrix":function(m,p){m=t(m);var h=n(m),d=l(h.L,h.U,h.p,null,p);return d.valueOf()},"DenseMatrix, Array | Matrix":function(m,p){var h=n(m);return l(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix":function(m,p){var h=n(m);return l(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(m,p,h,d){var g=i(m,h,d);return l(g.L,g.U,g.p,g.q,p)},"Object, Array | Matrix":function(m,p){return l(m.L,m.U,m.p,m.q,p)}});function s(f){if(Ge(f))return f;if(Et(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function l(f,m,p,h,d){f=s(f),m=s(m),p&&(d=u(f,d,!0),d._data=O1(p,d._data));var g=o(f,d),v=a(m,g);return h&&(v._data=O1(h,v._data)),v}});var GM="polynomialRoot",oZ=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],P1=S(GM,oZ,r=>{var{typed:e,isZero:t,equalScalar:n,add:i,subtract:a,multiply:o,divide:c,sqrt:u,unaryMinus:s,cbrt:l,typeOf:f,im:m,re:p}=r;return e(GM,{"number|Complex, ...number|Complex":(h,d)=>{for(var g=[h,...d];g.length>0&&t(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[s(c(g[0],g[1]))];case 3:{var[v,C,y]=g,D=o(2,y),b=o(C,C),x=o(4,y,v);if(n(b,x))return[c(s(C),D)];var w=u(a(b,x));return[c(a(w,C),D),c(a(s(w),C),D)]}case 4:{var[A,E,F,M]=g,B=s(o(3,M)),k=o(F,F),P=o(3,M,E),R=i(o(2,F,F,F),o(27,M,M,A)),T=o(9,M,F,E);if(n(k,P)&&n(R,T))return[c(F,B)];var I=a(k,P),V=a(R,T),O=i(o(18,M,F,E,A),o(F,F,E,E)),J=i(o(4,F,F,F,A),o(4,M,E,E,E),o(27,M,M,A,A));if(n(O,J))return[c(a(o(4,M,F,E),i(o(9,M,M,A),o(F,F,F))),o(M,I)),c(a(o(9,M,A),o(F,E)),o(2,I))];var $;n(k,P)?$=V:$=c(i(V,u(a(o(V,V),o(4,I,I,I)))),2);var H=!0,q=l($,H).toArray().map(ne=>c(i(F,ne,c(I,ne)),B));return q.map(ne=>f(ne)==="Complex"&&n(p(ne),p(ne)+m(ne))?p(ne):ne)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})});var sZ="Help",uZ=["parse"],R1=S(sZ,uZ,r=>{var{parse:e}=r;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a={},o=0;o<n.examples.length;o++){var c=n.examples[o];i+="    "+c+`
`;var u=void 0;try{u=e(c).compile().evaluate(a)}catch(s){u=s}u!==void 0&&!lf(u)&&(i+="        "+at(u,{precision:14})+`
`)}i+=`
`}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var n=tt(this.doc);return n.mathjs="Help",n},t.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var lZ="Chain",cZ=["?on","math","typed"],L1=S(lZ,cZ,r=>{var{on:e,math:t,typed:n}=r;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");cf(s)?this.value=s.value:this.value=s}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return at(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)};function a(s,l){typeof l=="function"&&(i.prototype[s]=c(l))}function o(s,l){lA(i.prototype,s,function(){var m=l();if(typeof m=="function")return c(m)})}function c(s){return function(){if(arguments.length===0)return new i(s(this.value));for(var l=[this.value],f=0;f<arguments.length;f++)l[f+1]=arguments[f];if(n.isTypedFunction(s)){var m=n.resolve(s,l);if(m.params.length===1)throw new Error("chain function "+s.name+" cannot match rest parameter between chain value and additional arguments.");return new i(m.implementation.apply(s,l))}return new i(s.apply(s,l))}}i.createProxy=function(s,l){if(typeof s=="string")a(s,l);else{var f=function(h){je(s,h)&&u[h]===void 0&&o(h,()=>s[h])};for(var m in s)f(m)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(s,l,f){f||o(s,l)}),i},{isClass:!0});var q1={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var jM={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var ZM={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var YM={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var JM={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var XM={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var QM={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var KM={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var $M={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var eT={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var tT={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var V1={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var rT={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var nT={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var iT={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var aT={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var oT={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var sT={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var uT={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var lT={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var cT={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var fT={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var mT={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var pT={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var dT={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var hT={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var gT={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var vT={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var yT={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var bT={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var xT={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var DT={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var wT={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var ET={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var CT={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var FT={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var AT={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var ST={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var _T={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var NT={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var MT={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var TT={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var IT={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var BT={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var OT={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var kT={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var PT={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var RT={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var LT={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var qT={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var VT={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var UT={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var zT={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var HT={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var WT={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var GT={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var jT={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var ZT={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var YT={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var JT={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var XT={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var QT={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var KT={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var $T={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var eI={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var tI={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var rI={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var nI={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var iI={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var aI={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var oI={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var sI={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var uI={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var lI={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var cI={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var fI={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var mI={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var pI={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]};var dI={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var hI={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var gI={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var vI={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var yI={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var bI={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var xI={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var DI={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var wI={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var EI={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var CI={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var FI={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var AI={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var SI={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var _I={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var NI={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var MI={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var TI={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var II={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var BI={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var OI={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var kI={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var PI={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var RI={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var LI={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var qI={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var VI={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var UI={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var zI={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var HI={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var WI={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var GI={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var jI={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var ZI={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var YI={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var JI={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var XI={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var QI={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var KI={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var $I={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var e3={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var t3={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var r3={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var n3={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false }"],seealso:["inv"]};var i3={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var a3={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var o3={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var s3={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var u3={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var l3={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var c3={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var f3={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var m3={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var p3={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var d3={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var h3={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var g3={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var v3={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var y3={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var b3={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var x3={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var D3={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var w3={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var E3={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var C3={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var F3={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var A3={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var S3={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var _3={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var N3={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var M3={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var T3={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var I3={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var B3={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var O3={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var k3={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var P3={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var R3={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var L3={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var q3={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var V3={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var U3={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var z3={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var H3={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var W3={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var G3={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var j3={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var Z3={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var Y3={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var J3={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var X3={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var Q3={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var K3={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var $3={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var eB={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var tB={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var rB={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var nB={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var iB={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var aB={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var oB={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var sB={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var uB={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var lB={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var cB={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var fB={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var mB={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var pB={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var dB={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var hB={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var gB={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var vB={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var yB={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var bB={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var xB={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var DB={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var wB={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var EB={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var CB={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var FB={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var AB={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var SB={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var _B={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var NB={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var MB={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var TB={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var IB={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var BB={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var OB={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var kB={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var PB={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var RB={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var LB={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var qB={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var VB={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var UB={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var zB={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var HB={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var WB={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var GB={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var jB={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var ZB={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var YB={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var JB={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var XB={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var QB={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var KB={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var $B={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var eO={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var tO={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var rO={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var nO={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var iO={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var aO={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var oO={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var sO={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var uO={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var lO={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var cO={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var fO={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var mO={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var pO={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var dO={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var hO={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var gO={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var vO={bignumber:sT,boolean:uT,complex:lT,createUnit:cT,fraction:fT,index:mT,matrix:pT,number:dT,sparse:hT,splitUnit:gT,string:vT,unit:yT,e:q1,E:q1,false:jM,i:ZM,Infinity:YM,LN2:XM,LN10:JM,LOG2E:KM,LOG10E:QM,NaN:$M,null:eT,pi:V1,PI:V1,phi:tT,SQRT1_2:rT,SQRT2:nT,tau:iT,true:aT,version:oT,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:wT,lsolve:CT,lsolveAll:FT,lup:AT,lusolve:ST,leafCount:ET,polynomialRoot:_T,resolve:TT,simplify:IT,simplifyConstant:BT,simplifyCore:OT,symbolicEqual:PT,rationalize:MT,slu:kT,usolve:RT,usolveAll:LT,qr:NT,abs:qT,add:VT,cbrt:UT,ceil:zT,cube:HT,divide:WT,dotDivide:GT,dotMultiply:jT,dotPow:ZT,exp:YT,expm:JT,expm1:XT,fix:QT,floor:KT,gcd:$T,hypot:eI,lcm:rI,log:nI,log2:oI,log1p:aI,log10:iI,mod:sI,multiply:uI,norm:lI,nthRoot:cI,nthRoots:fI,pow:mI,round:pI,sign:dI,sqrt:hI,sqrtm:gI,square:xI,subtract:DI,unaryMinus:wI,unaryPlus:EI,xgcd:CI,invmod:tI,bitAnd:FI,bitNot:AI,bitOr:SI,bitXor:_I,leftShift:NI,rightArithShift:MI,rightLogShift:TI,bellNumbers:II,catalan:BI,composition:OI,stirlingS2:kI,config:bT,import:xT,typed:DT,arg:PI,conj:RI,re:qI,im:LI,evaluate:VI,help:UI,distance:zI,intersect:HI,and:WI,not:GI,or:jI,xor:ZI,concat:JI,count:XI,cross:QI,column:YI,ctranspose:KI,det:$I,diag:e3,diff:t3,dot:r3,getMatrixDataType:s3,identity:u3,filter:i3,flatten:a3,forEach:o3,inv:l3,pinv:c3,eigs:n3,kron:f3,matrixFromFunction:d3,matrixFromRows:h3,matrixFromColumns:p3,map:m3,ones:g3,partitionSelect:v3,range:y3,resize:x3,reshape:b3,rotate:D3,rotationMatrix:w3,row:E3,size:C3,sort:F3,squeeze:A3,subset:S3,trace:_3,transpose:N3,zeros:M3,fft:T3,ifft:I3,sylvester:vI,schur:yI,lyap:bI,solveODE:gO,combinations:B3,combinationsWithRep:O3,factorial:k3,gamma:P3,kldivergence:L3,lgamma:R3,multinomial:q3,permutations:V3,pickRandom:U3,random:z3,randomInt:H3,compare:W3,compareNatural:G3,compareText:j3,deepEqual:Z3,equal:Y3,equalText:J3,larger:X3,largerEq:Q3,smaller:K3,smallerEq:$3,unequal:eB,setCartesian:tB,setDifference:rB,setDistinct:nB,setIntersect:iB,setIsSubset:aB,setMultiplicity:oB,setPowerset:sB,setSize:uB,setSymDifference:lB,setUnion:cB,zpk2tf:fB,freqz:mB,erf:pB,zeta:dB,cumsum:CB,mad:hB,max:gB,mean:vB,median:yB,min:bB,mode:xB,prod:DB,quantileSeq:wB,std:EB,sum:FB,variance:AB,corr:SB,acos:_B,acosh:NB,acot:MB,acoth:TB,acsc:IB,acsch:BB,asec:OB,asech:kB,asin:PB,asinh:RB,atan:LB,atanh:VB,atan2:qB,cos:UB,cosh:zB,cot:HB,coth:WB,csc:GB,csch:jB,sec:ZB,sech:YB,sin:JB,sinh:XB,tan:QB,tanh:KB,to:$B,clone:tO,format:rO,bin:eO,oct:pO,hex:iO,isNaN:oO,isInteger:aO,isNegative:sO,isNumeric:uO,hasNumericValue:nO,isPositive:lO,isPrime:cO,isZero:fO,print:dO,typeOf:hO,numeric:mO};var yO="help",fZ=["typed","mathWithTransform","Help"],U1=S(yO,fZ,r=>{var{typed:e,mathWithTransform:t,Help:n}=r;return e(yO,{any:function(a){var o,c=a;if(typeof a!="string"){for(o in t)if(je(t,o)&&a===t[o]){c=o;break}}var u=lr(vO,c);if(!u){var s=typeof c=="function"?c.name:c;throw new Error('No documentation found on "'+s+'"')}return new n(u)}})});var bO="chain",mZ=["typed","Chain"],z1=S(bO,mZ,r=>{var{typed:e,Chain:t}=r;return e(bO,{"":function(){return new t},any:function(i){return new t(i)}})});var xO="det",pZ=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],H1=S(xO,pZ,r=>{var{typed:e,matrix:t,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:c}=r;return e(xO,{any:function(l){return tt(l)},"Array | Matrix":function(l){var f;switch(Ge(l)?f=l.size():Array.isArray(l)?(l=t(l),f=l.size()):f=[],f.length){case 0:return tt(l);case 1:if(f[0]===1)return tt(l.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+at(f)+")");case 2:{var m=f[0],p=f[1];if(m===p)return u(l.clone().valueOf(),m,p);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+at(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+at(f)+")")}}});function u(s,l,f){if(l===1)return tt(s[0][0]);if(l===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var m=!1,p=new Array(l).fill(0).map((w,A)=>A),h=0;h<l;h++){var d=p[h];if(o(s[d][h])){var g=void 0;for(g=h+1;g<l;g++)if(!o(s[p[g]][h])){d=p[g],p[g]=p[h],p[h]=d,m=!m;break}if(g===l)return s[d][h]}for(var v=s[d][h],C=h===0?1:s[p[h-1]][h-1],y=h+1;y<l;y++)for(var D=p[y],b=h+1;b<l;b++)s[D][b]=a(n(i(s[D][b],v),i(s[D][h],s[d][b])),C)}var x=s[p[l-1]][l-1];return m?c(x):x}});var DO="inv",dZ=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],W1=S(DO,dZ,r=>{var{typed:e,matrix:t,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:c,identity:u,abs:s}=r;return e(DO,{"Array | Matrix":function(m){var p=Ge(m)?m.size():rt(m);switch(p.length){case 1:if(p[0]===1)return Ge(m)?t([n(1,m.valueOf()[0])]):[n(1,m[0])];throw new RangeError("Matrix must be square (size: "+at(p)+")");case 2:{var h=p[0],d=p[1];if(h===d)return Ge(m)?t(l(m.valueOf(),h,d),m.storage()):l(m,h,d);throw new RangeError("Matrix must be square (size: "+at(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+at(p)+")")}},any:function(m){return n(1,m)}});function l(f,m,p){var h,d,g,v,C;if(m===1){if(v=f[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,v)]]}else if(m===2){var y=c(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],y),n(o(f[0][1]),y)],[n(o(f[1][0]),y),n(f[0][0],y)]]}else{var D=f.concat();for(h=0;h<m;h++)D[h]=D[h].concat();for(var b=u(m).valueOf(),x=0;x<p;x++){var w=s(D[x][x]),A=x;for(h=x+1;h<m;)s(D[h][x])>w&&(w=s(D[h][x]),A=h),h++;if(w===0)throw Error("Cannot calculate inverse, determinant is zero");h=A,h!==x&&(C=D[x],D[x]=D[h],D[h]=C,C=b[x],b[x]=b[h],b[h]=C);var E=D[x],F=b[x];for(h=0;h<m;h++){var M=D[h],B=b[h];if(h!==x){if(M[x]!==0){for(g=n(o(M[x]),E[x]),d=x;d<p;d++)M[d]=i(M[d],a(g,E[d]));for(d=0;d<p;d++)B[d]=i(B[d],a(g,F[d]))}}else{for(g=E[x],d=x;d<p;d++)M[d]=n(M[d],g);for(d=0;d<p;d++)B[d]=n(B[d],g)}}}return b}}});var wO="pinv",hZ=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],G1=S(wO,hZ,r=>{var{typed:e,matrix:t,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:c,ctranspose:u,divideScalar:s,multiply:l,add:f,Complex:m}=r;return e(wO,{"Array | Matrix":function(y){var D=Ge(y)?y.size():rt(y);switch(D.length){case 1:return v(y)?u(y):D[0]===1?n(y):o(u(y),c(y,y));case 2:{if(v(y))return u(y);var b=D[0],x=D[1];if(b===x)try{return n(y)}catch(w){if(!(w instanceof Error&&w.message.match(/Cannot calculate inverse, determinant is zero/)))throw w}return Ge(y)?t(p(y.valueOf(),b,x),y.storage()):p(y,b,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+at(D)+")")}},any:function(y){return a(y,0)?tt(y):s(1,y)}});function p(C,y,D){var{C:b,F:x}=d(C,y,D),w=l(n(l(u(b),b)),u(b)),A=l(u(x),n(l(x,u(x))));return l(A,w)}function h(C,y,D){for(var b=tt(C),x=0,w=0;w<y;w++){if(D<=x)return b;for(var A=w;g(b[A][x]);)if(A++,y===A&&(A=w,x++,D===x))return b;[b[A],b[w]]=[b[w],b[A]];for(var E=b[w][x],F=0;F<D;F++)b[w][F]=o(b[w][F],E);for(var M=0;M<y;M++)if(M!==w){E=b[M][x];for(var B=0;B<D;B++)b[M][B]=f(b[M][B],l(-1,l(E,b[w][B])))}x++}return b}function d(C,y,D){var b=h(C,y,D),x=C.map((A,E)=>A.filter((F,M)=>M<y&&!g(c(b[M],b[M])))),w=b.filter((A,E)=>!g(c(b[E],b[E])));return{C:x,F:w}}function g(C){return a(f(C,m(1,1)),f(0,m(1,1)))}function v(C){return i(f(C,m(1,1)),f(l(C,0),m(1,1)))}});function EO(r){var{addScalar:e,subtract:t,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:c,abs:u,bignumber:s,diag:l,size:f,reshape:m,inv:p,qr:h,usolve:d,usolveAll:g,equal:v,complex:C,larger:y,smaller:D,matrixFromColumns:b,dot:x}=r;function w(H,q,ne,be){var oe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ue=A(H,q,ne,be,oe);E(H,q,ne,be,oe,ue);var{values:me,C:se}=F(H,q,ne,be,oe);if(oe){var ce=M(H,q,se,ue,me,ne,be);return{values:me,eigenvectors:ce}}return{values:me}}function A(H,q,ne,be,oe){var ue=be==="BigNumber",me=be==="Complex",se=ue?s(0):0,ce=ue?s(1):me?C(1):1,pe=ue?s(1):1,ge=ue?s(10):2,Re=a(ge,ge),Ee;oe&&(Ee=Array(q).fill(ce));for(var z=!1;!z;){z=!0;for(var j=0;j<q;j++){for(var fe=se,W=se,K=0;K<q;K++)j!==K&&(fe=e(fe,u(H[K][j])),W=e(W,u(H[j][K])));if(!v(fe,0)&&!v(W,0)){for(var ie=pe,ve=fe,xe=o(W,ge),qe=a(W,ge);D(ve,xe);)ve=a(ve,Re),ie=a(ie,ge);for(;y(ve,qe);)ve=o(ve,Re),ie=o(ie,ge);var Se=D(o(e(ve,W),ie),a(e(fe,W),.95));if(Se){z=!1;for(var ft=o(1,ie),pt=0;pt<q;pt++)j!==pt&&(H[j][pt]=a(H[j][pt],ft),H[pt][j]=a(H[pt][j],ie));oe&&(Ee[j]=a(Ee[j],ft))}}}}return oe?l(Ee):null}function E(H,q,ne,be,oe,ue){var me=be==="BigNumber",se=be==="Complex",ce=me?s(0):se?C(0):0;me&&(ne=s(ne));for(var pe=0;pe<q-2;pe++){for(var ge=0,Re=ce,Ee=pe+1;Ee<q;Ee++){var z=H[Ee][pe];D(u(Re),u(z))&&(Re=z,ge=Ee)}if(!D(u(Re),ne)){if(ge!==pe+1){var j=H[ge];H[ge]=H[pe+1],H[pe+1]=j;for(var fe=0;fe<q;fe++){var W=H[fe][ge];H[fe][ge]=H[fe][pe+1],H[fe][pe+1]=W}if(oe){var K=ue[ge];ue[ge]=ue[pe+1],ue[pe+1]=K}}for(var ie=pe+2;ie<q;ie++){var ve=o(H[ie][pe],Re);if(ve!==0){for(var xe=0;xe<q;xe++)H[ie][xe]=t(H[ie][xe],a(ve,H[pe+1][xe]));for(var qe=0;qe<q;qe++)H[qe][pe+1]=e(H[qe][pe+1],a(ve,H[qe][ie]));if(oe)for(var Se=0;Se<q;Se++)ue[ie][Se]=t(ue[ie][Se],a(ve,ue[pe+1][Se]))}}}}return ue}function F(H,q,ne,be,oe){var ue=be==="BigNumber",me=be==="Complex",se=ue?s(1):me?C(1):1;ue&&(ne=s(ne));for(var ce=tt(H),pe=[],ge=q,Re=[],Ee=oe?l(Array(q).fill(se)):void 0,z=oe?l(Array(ge).fill(se)):void 0,j=0;j<=100;){j+=1;for(var fe=ce[ge-1][ge-1],W=0;W<ge;W++)ce[W][W]=t(ce[W][W],fe);var{Q:K,R:ie}=h(ce);ce=i(ie,K);for(var ve=0;ve<ge;ve++)ce[ve][ve]=e(ce[ve][ve],fe);if(oe&&(z=i(z,K)),ge===1||D(u(ce[ge-1][ge-2]),ne)){j=0,pe.push(ce[ge-1][ge-1]),oe&&(Re.unshift([[1]]),P(z,q),Ee=i(Ee,z),ge>1&&(z=l(Array(ge-1).fill(se)))),ge-=1,ce.pop();for(var xe=0;xe<ge;xe++)ce[xe].pop()}else if(ge===2||D(u(ce[ge-2][ge-3]),ne)){j=0;var qe=B(ce[ge-2][ge-2],ce[ge-2][ge-1],ce[ge-1][ge-2],ce[ge-1][ge-1]);pe.push(...qe),oe&&(Re.unshift(k(ce[ge-2][ge-2],ce[ge-2][ge-1],ce[ge-1][ge-2],ce[ge-1][ge-1],qe[0],qe[1],ne,be)),P(z,q),Ee=i(Ee,z),ge>2&&(z=l(Array(ge-2).fill(se)))),ge-=2,ce.pop(),ce.pop();for(var Se=0;Se<ge;Se++)ce[Se].pop(),ce[Se].pop()}if(ge===0)break}if(pe.sort((Tt,zt)=>+t(u(Tt),u(zt))),j>100){var ft=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+pe.join(", "));throw ft.values=pe,ft.vectors=[],ft}var pt=oe?i(Ee,R(Re,q)):void 0;return{values:pe,C:pt}}function M(H,q,ne,be,oe,ue,me){var se=p(ne),ce=i(se,H,ne),pe=me==="BigNumber",ge=me==="Complex",Re=pe?s(0):ge?C(0):0,Ee=pe?s(1):ge?C(1):1,z=[],j=[];for(var fe of oe){var W=T(z,fe,v);W===-1?(z.push(fe),j.push(1)):j[W]+=1}for(var K=[],ie=z.length,ve=Array(q).fill(Re),xe=l(Array(q).fill(Ee)),qe=function(){var pt=z[Se],Tt=t(ce,i(pt,xe)),zt=g(Tt,ve);for(zt.shift();zt.length<j[Se];){var Z=I(Tt,q,zt,ue,me);if(Z===null)break;zt.push(Z)}var ae=i(p(be),ne);zt=zt.map(de=>i(ae,de)),K.push(...zt.map(de=>({value:pt,vector:n(de)})))},Se=0;Se<ie;Se++)qe();return K}function B(H,q,ne,be){var oe=e(H,be),ue=t(a(H,be),a(q,ne)),me=a(oe,.5),se=a(c(t(a(oe,oe),a(4,ue))),.5);return[e(me,se),t(me,se)]}function k(H,q,ne,be,oe,ue,me,se){var ce=se==="BigNumber",pe=se==="Complex",ge=ce?s(0):pe?C(0):0,Re=ce?s(1):pe?C(1):1;if(D(u(ne),me))return[[Re,ge],[ge,Re]];if(y(u(t(oe,ue)),me))return[[t(oe,be),t(ue,be)],[ne,ne]];var Ee=t(H,oe),z=t(be,oe);return D(u(q),me)&&D(u(z),me)?[[Ee,Re],[ne,ge]]:[[q,ge],[z,Re]]}function P(H,q){for(var ne=0;ne<H.length;ne++)H[ne].push(...Array(q-H[ne].length).fill(0));for(var be=H.length;be<q;be++)H.push(Array(q).fill(0)),H[be][be]=1;return H}function R(H,q){for(var ne=[],be=0;be<q;be++)ne[be]=Array(q).fill(0);var oe=0;for(var ue of H){for(var me=ue.length,se=0;se<me;se++)for(var ce=0;ce<me;ce++)ne[oe+se][oe+ce]=ue[se][ce];oe+=me}return ne}function T(H,q,ne){for(var be=0;be<H.length;be++)if(ne(H[be],q))return be;return-1}function I(H,q,ne,be,oe){for(var ue=oe==="BigNumber"?s(1e3):1e3,me,se=0;se<5;++se){me=V(q,ne,oe);try{me=d(H,me)}catch(pe){continue}if(y(J(me),ue))break}if(se>=5)return null;for(se=0;;){var ce=d(H,me);if(D(J(O(me,[ce])),be))break;if(++se>=10)return null;me=$(ce)}return me}function V(H,q,ne){var be=ne==="BigNumber",oe=ne==="Complex",ue=Array(H).fill(0).map(me=>2*Math.random()-1);return be&&(ue=ue.map(me=>s(me))),oe&&(ue=ue.map(me=>C(me))),ue=O(ue,q),$(ue,ne)}function O(H,q){var ne=f(H);for(var be of q)be=m(be,ne),H=t(H,i(o(x(be,H),x(be,be)),be));return H}function J(H){return u(c(x(H,H)))}function $(H,q){var ne=q==="BigNumber",be=q==="Complex",oe=ne?s(1):be?C(1):1;return i(o(oe,J(H)),H)}return w}function CO(r){var{config:e,addScalar:t,subtract:n,abs:i,atan:a,cos:o,sin:c,multiplyScalar:u,inv:s,bignumber:l,multiply:f,add:m}=r;function p(E,F){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,B=arguments.length>3?arguments[3]:void 0,k=arguments.length>4?arguments[4]:void 0;if(B==="number")return h(E,M,k);if(B==="BigNumber")return d(E,M,k);throw TypeError("Unsupported data type: "+B)}function h(E,F,M){var B=E.length,k=Math.abs(F/B),P,R;if(M){R=new Array(B);for(var T=0;T<B;T++)R[T]=Array(B).fill(0),R[T][T]=1}for(var I=x(E);Math.abs(I[1])>=Math.abs(k);){var V=I[0][0],O=I[0][1];P=g(E[V][V],E[O][O],E[V][O]),E=b(E,P,V,O),M&&(R=C(R,P,V,O)),I=x(E)}for(var J=Array(B).fill(0),$=0;$<B;$++)J[$]=E[$][$];return A(tt(J),R,M)}function d(E,F,M){var B=E.length,k=i(F/B),P,R;if(M){R=new Array(B);for(var T=0;T<B;T++)R[T]=Array(B).fill(0),R[T][T]=1}for(var I=w(E);i(I[1])>=i(k);){var V=I[0][0],O=I[0][1];P=v(E[V][V],E[O][O],E[V][O]),E=D(E,P,V,O),M&&(R=y(R,P,V,O)),I=w(E)}for(var J=Array(B).fill(0),$=0;$<B;$++)J[$]=E[$][$];return A(tt(J),R,M)}function g(E,F,M){var B=F-E;return Math.abs(B)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(F-E))}function v(E,F,M){var B=n(F,E);return i(B)<=e.epsilon?l(-1).acos().div(4):u(.5,a(f(2,M,s(B))))}function C(E,F,M,B){for(var k=E.length,P=Math.cos(F),R=Math.sin(F),T=Array(k).fill(0),I=Array(k).fill(0),V=0;V<k;V++)T[V]=P*E[V][M]-R*E[V][B],I[V]=R*E[V][M]+P*E[V][B];for(var O=0;O<k;O++)E[O][M]=T[O],E[O][B]=I[O];return E}function y(E,F,M,B){for(var k=E.length,P=o(F),R=c(F),T=Array(k).fill(l(0)),I=Array(k).fill(l(0)),V=0;V<k;V++)T[V]=n(u(P,E[V][M]),u(R,E[V][B])),I[V]=t(u(R,E[V][M]),u(P,E[V][B]));for(var O=0;O<k;O++)E[O][M]=T[O],E[O][B]=I[O];return E}function D(E,F,M,B){for(var k=E.length,P=l(o(F)),R=l(c(F)),T=u(P,P),I=u(R,R),V=Array(k).fill(l(0)),O=Array(k).fill(l(0)),J=f(l(2),P,R,E[M][B]),$=t(n(u(T,E[M][M]),J),u(I,E[B][B])),H=m(u(I,E[M][M]),J,u(T,E[B][B])),q=0;q<k;q++)V[q]=n(u(P,E[M][q]),u(R,E[B][q])),O[q]=t(u(R,E[M][q]),u(P,E[B][q]));E[M][M]=$,E[B][B]=H,E[M][B]=l(0),E[B][M]=l(0);for(var ne=0;ne<k;ne++)ne!==M&&ne!==B&&(E[M][ne]=V[ne],E[ne][M]=V[ne],E[B][ne]=O[ne],E[ne][B]=O[ne]);return E}function b(E,F,M,B){for(var k=E.length,P=Math.cos(F),R=Math.sin(F),T=P*P,I=R*R,V=Array(k).fill(0),O=Array(k).fill(0),J=T*E[M][M]-2*P*R*E[M][B]+I*E[B][B],$=I*E[M][M]+2*P*R*E[M][B]+T*E[B][B],H=0;H<k;H++)V[H]=P*E[M][H]-R*E[B][H],O[H]=R*E[M][H]+P*E[B][H];E[M][M]=J,E[B][B]=$,E[M][B]=0,E[B][M]=0;for(var q=0;q<k;q++)q!==M&&q!==B&&(E[M][q]=V[q],E[q][M]=V[q],E[B][q]=O[q],E[q][B]=O[q]);return E}function x(E){for(var F=E.length,M=0,B=[0,1],k=0;k<F;k++)for(var P=k+1;P<F;P++)Math.abs(M)<Math.abs(E[k][P])&&(M=Math.abs(E[k][P]),B=[k,P]);return[B,M]}function w(E){for(var F=E.length,M=0,B=[0,1],k=0;k<F;k++)for(var P=k+1;P<F;P++)i(M)<i(E[k][P])&&(M=i(E[k][P]),B=[k,P]);return[B,M]}function A(E,F,M){var B=E.length,k=Array(B),P;if(M){P=Array(B);for(var R=0;R<B;R++)P[R]=Array(B)}for(var T=0;T<B;T++){for(var I=0,V=E[0],O=0;O<E.length;O++)i(E[O])<i(V)&&(I=O,V=E[I]);if(k[T]=E.splice(I,1)[0],M)for(var J=0;J<B;J++)P[T][J]=F[J][I],F[J].splice(I,1)}if(!M)return{values:k};var $=P.map((H,q)=>({value:k[q],vector:H}));return{values:k,eigenvectors:$}}return p}var gZ="eigs",vZ=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],j1=S(gZ,vZ,r=>{var{config:e,typed:t,matrix:n,addScalar:i,subtract:a,equal:o,abs:c,atan:u,cos:s,sin:l,multiplyScalar:f,divideScalar:m,inv:p,bignumber:h,multiply:d,add:g,larger:v,column:C,flatten:y,number:D,complex:b,sqrt:x,diag:w,size:A,reshape:E,qr:F,usolve:M,usolveAll:B,im:k,re:P,smaller:R,matrixFromColumns:T,dot:I}=r,V=CO({config:e,addScalar:i,subtract:a,column:C,flatten:y,equal:o,abs:c,atan:u,cos:s,sin:l,multiplyScalar:f,inv:p,bignumber:h,complex:b,multiply:d,add:g}),O=EO({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:y,divideScalar:m,sqrt:x,abs:c,bignumber:h,diag:w,size:A,reshape:E,qr:F,inv:p,usolve:M,usolveAll:B,equal:o,complex:b,larger:v,smaller:R,matrixFromColumns:T,dot:I});return t("eigs",{Array:function(ue){return J(n(ue))},"Array, number|BigNumber":function(ue,me){return J(n(ue),{precision:me})},"Array, Object"(oe,ue){return J(n(oe),ue)},Matrix:function(ue){return J(ue,{matricize:!0})},"Matrix, number|BigNumber":function(ue,me){return J(ue,{precision:me,matricize:!0})},"Matrix, Object":function(ue,me){var se={matricize:!0};return ur(se,me),J(ue,se)}});function J(oe){var ue,me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se="eigenvectors"in me?me.eigenvectors:!0,ce=(ue=me.precision)!==null&&ue!==void 0?ue:e.epsilon,pe=$(oe,ce,se);return me.matricize&&(pe.values=n(pe.values),se&&(pe.eigenvectors=pe.eigenvectors.map(ge=>{var{value:Re,vector:Ee}=ge;return{value:Re,vector:n(Ee)}}))),se&&Object.defineProperty(pe,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),pe}function $(oe,ue,me){var se=oe.toArray(),ce=oe.size();if(ce.length!==2||ce[0]!==ce[1])throw new RangeError("Matrix must be square (size: ".concat(at(ce),")"));var pe=ce[0];if(q(se,pe,ue)&&(ne(se,pe),H(se,pe,ue))){var ge=be(oe,se,pe);return V(se,pe,ue,ge,me)}var Re=be(oe,se,pe);return O(se,pe,ue,Re,me)}function H(oe,ue,me){for(var se=0;se<ue;se++)for(var ce=se;ce<ue;ce++)if(v(h(c(a(oe[se][ce],oe[ce][se]))),me))return!1;return!0}function q(oe,ue,me){for(var se=0;se<ue;se++)for(var ce=0;ce<ue;ce++)if(v(h(c(k(oe[se][ce]))),me))return!1;return!0}function ne(oe,ue){for(var me=0;me<ue;me++)for(var se=0;se<ue;se++)oe[me][se]=P(oe[me][se])}function be(oe,ue,me){var se=oe.datatype();if(se==="number"||se==="BigNumber"||se==="Complex")return se;for(var ce=!1,pe=!1,ge=!1,Re=0;Re<me;Re++)for(var Ee=0;Ee<me;Ee++){var z=ue[Re][Ee];if(it(z)||ma(z))ce=!0;else if(nt(z))pe=!0;else if(Cn(z))ge=!0;else throw TypeError("Unsupported type in Matrix: "+Dt(z))}if(pe&&ge&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ge){for(var j=0;j<me;j++)for(var fe=0;fe<me;fe++)ue[j][fe]=b(ue[j][fe]);return"Complex"}if(pe){for(var W=0;W<me;W++)for(var K=0;K<me;K++)ue[W][K]=h(ue[W][K]);return"BigNumber"}if(ce){for(var ie=0;ie<me;ie++)for(var ve=0;ve<me;ve++)ue[ie][ve]=D(ue[ie][ve]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var FO="expm",yZ=["typed","abs","add","identity","inv","multiply"],Z1=S(FO,yZ,r=>{var{typed:e,abs:t,add:n,identity:i,inv:a,multiply:o}=r;return e(FO,{Matrix:function(f){var m=f.size();if(m.length!==2||m[0]!==m[1])throw new RangeError("Matrix must be square (size: "+at(m)+")");for(var p=m[0],h=1e-15,d=c(f),g=u(d,h),v=g.q,C=g.j,y=o(f,Math.pow(2,-C)),D=i(p),b=i(p),x=1,w=y,A=-1,E=1;E<=v;E++)E>1&&(w=o(w,y),A=-A),x=x*(v-E+1)/((2*v-E+1)*E),D=n(D,o(x,w)),b=n(b,o(x*A,w));for(var F=o(a(b),D),M=0;M<C;M++)F=o(F,F);return Si(f)?f.createSparseMatrix(F):F}});function c(l){for(var f=l.size()[0],m=0,p=0;p<f;p++){for(var h=0,d=0;d<f;d++)h+=t(l.get([p,d]));m=Math.max(h,m)}return m}function u(l,f){for(var m=30,p=0;p<m;p++)for(var h=0;h<=p;h++){var d=p-h;if(s(l,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function s(l,f,m){for(var p=1,h=2;h<=f;h++)p*=h;for(var d=p,g=f+1;g<=2*f;g++)d*=g;var v=d*(2*f+1);return 8*Math.pow(l/Math.pow(2,m),2*f)*p*p/(d*v)}});var AO="sqrtm",bZ=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],Y1=S(AO,bZ,r=>{var{typed:e,abs:t,add:n,multiply:i,map:a,sqrt:o,subtract:c,inv:u,size:s,max:l,identity:f}=r,m=1e3,p=1e-6;function h(d){var g,v=0,C=d,y=f(s(d));do{var D=C;if(C=i(.5,n(D,u(y))),y=i(.5,n(y,u(D))),g=l(t(c(C,D))),g>p&&++v>m)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>p);return C}return e(AO,{"Array | Matrix":function(g){var v=Ge(g)?g.size():rt(g);switch(v.length){case 1:if(v[0]===1)return a(g,o);throw new RangeError("Matrix must be square (size: "+at(v)+")");case 2:{var C=v[0],y=v[1];if(C===y)return h(g);throw new RangeError("Matrix must be square (size: "+at(v)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+at(v)+")")}}})});var SO="sylvester",xZ=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],J1=S(SO,xZ,r=>{var{typed:e,schur:t,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:c,transpose:u,index:s,subset:l,add:f,subtract:m,identity:p,lusolve:h,abs:d}=r;return e(SO,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(C,y,D){return g(i(C),y,D)},"Array, Array, Matrix":function(C,y,D){return g(i(C),i(y),D)},"Array, Matrix, Array":function(C,y,D){return g(i(C),y,i(D))},"Matrix, Array, Matrix":function(C,y,D){return g(C,i(y),D)},"Matrix, Array, Array":function(C,y,D){return g(C,i(y),i(D))},"Matrix, Matrix, Array":function(C,y,D){return g(C,y,i(D))},"Array, Array, Array":function(C,y,D){return g(i(C),i(y),i(D)).toArray()}});function g(v,C,y){for(var D=C.size()[0],b=v.size()[0],x=t(v),w=x.T,A=x.U,E=t(a(-1,C)),F=E.T,M=E.U,B=a(a(u(A),y),M),k=o(0,b),P=[],R=(ge,Re)=>c(ge,Re,1),T=(ge,Re)=>c(ge,Re,0),I=0;I<D;I++)if(I<D-1&&d(l(F,s(I+1,I)))>1e-5){for(var V=T(l(B,s(k,I)),l(B,s(k,I+1))),O=0;O<I;O++)V=f(V,T(a(P[O],l(F,s(O,I))),a(P[O],l(F,s(O,I+1)))));var J=a(p(b),a(-1,l(F,s(I,I)))),$=a(p(b),a(-1,l(F,s(I+1,I)))),H=a(p(b),a(-1,l(F,s(I,I+1)))),q=a(p(b),a(-1,l(F,s(I+1,I+1)))),ne=T(R(f(w,J),$),R(H,f(w,q))),be=h(ne,V);P[I]=be.subset(s(o(0,b),0)),P[I+1]=be.subset(s(o(b,2*b),0)),I++}else{for(var oe=l(B,s(k,I)),ue=0;ue<I;ue++)oe=f(oe,a(P[ue],l(F,s(ue,I))));var me=l(F,s(I,I)),se=m(w,a(me,p(b)));P[I]=h(se,oe)}var ce=i(n(...P)),pe=a(A,a(ce,u(M)));return pe}});var _O="schur",DZ=["typed","matrix","identity","multiply","qr","norm","subtract"],X1=S(_O,DZ,r=>{var{typed:e,matrix:t,identity:n,multiply:i,qr:a,norm:o,subtract:c}=r;return e(_O,{Array:function(l){var f=u(t(l));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(l){return u(l)}});function u(s){var l=s.size()[0],f=s,m=n(l),p=0,h;do{h=f;var d=a(f),g=d.Q,v=d.R;if(f=i(v,g),m=i(m,g),p++>100)break}while(o(c(f,h))>1e-4);return{U:m,T:f}}});var NO="lyap",wZ=["typed","matrix","sylvester","multiply","transpose"],Q1=S(NO,wZ,r=>{var{typed:e,matrix:t,sylvester:n,multiply:i,transpose:a}=r;return e(NO,{"Matrix, Matrix":function(c,u){return n(c,a(c),i(-1,u))},"Array, Matrix":function(c,u){return n(t(c),a(t(c)),i(-1,u))},"Matrix, Array":function(c,u){return n(c,a(t(c)),t(i(-1,u)))},"Array, Array":function(c,u){return n(t(c),a(t(c)),t(i(-1,u))).toArray()}})});var EZ="divide",CZ=["typed","matrix","multiply","equalScalar","divideScalar","inv"],K1=S(EZ,CZ,r=>{var{typed:e,matrix:t,multiply:n,equalScalar:i,divideScalar:a,inv:o}=r,c=Ut({typed:e,equalScalar:i}),u=Sr({typed:e});return e("divide",ff({"Array | Matrix, Array | Matrix":function(l,f){return n(l,o(f))},"DenseMatrix, any":function(l,f){return u(l,f,a,!1)},"SparseMatrix, any":function(l,f){return c(l,f,a,!1)},"Array, any":function(l,f){return u(t(l),f,a,!1).valueOf()},"any, Array | Matrix":function(l,f){return n(l,o(f))}},a.signatures))});var MO="distance",FZ=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],$1=S(MO,FZ,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:c,abs:u}=r;return e(MO,{"Array, Array, Array":function(b,x,w){if(b.length===2&&x.length===2&&w.length===2){if(!l(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(x,w))throw new TypeError("LinePoint1 should not be same with LinePoint2");var A=n(w[1],x[1]),E=n(x[0],w[0]),F=n(i(w[0],x[1]),i(x[0],w[1]));return g(b[0],b[1],A,E,F)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(b,x,w){if(Object.keys(b).length===2&&Object.keys(x).length===2&&Object.keys(w).length===2){if(!l(b))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(w))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(x),h(w)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in b&&"pointY"in b&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in w&&"lineTwoPtY"in w){var A=n(w.lineTwoPtY,x.lineOnePtY),E=n(x.lineOnePtX,w.lineTwoPtX),F=n(i(w.lineTwoPtX,x.lineOnePtY),i(x.lineOnePtX,w.lineTwoPtY));return g(b.pointX,b.pointY,A,E,F)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(b,x){if(b.length===2&&x.length===3){if(!l(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(b[0],b[1],x[0],x[1],x[2])}else if(b.length===3&&x.length===6){if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(b[0],b[1],b[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(b.length===x.length&&b.length>0){if(!m(b))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!m(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return C(b,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(b,x){if(Object.keys(b).length===2&&Object.keys(x).length===3){if(!l(b))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in b&&"pointY"in b&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return g(b.pointX,b.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(b).length===3&&Object.keys(x).length===6){if(!f(b))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in b&&"pointY"in b&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return v(b.pointX,b.pointY,b.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(b).length===2&&Object.keys(x).length===2){if(!l(b))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in b&&"pointOneY"in b&&"pointTwoX"in x&&"pointTwoY"in x)return C([b.pointOneX,b.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(b).length===3&&Object.keys(x).length===3){if(!f(b))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in b&&"pointOneY"in b&&"pointOneZ"in b&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return C([b.pointOneX,b.pointOneY,b.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(b){if(!d(b))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(b)}});function s(D){return typeof D=="number"||nt(D)}function l(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])}function f(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])&&s(D[2])}function m(D){return Array.isArray(D)||(D=h(D)),D.every(s)}function p(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])&&s(D[2])&&s(D[3])&&s(D[4])&&s(D[5])}function h(D){for(var b=Object.keys(D),x=[],w=0;w<b.length;w++)x.push(D[b[w]]);return x}function d(D){if(D[0].length===2&&s(D[0][0])&&s(D[0][1])){if(D.some(b=>b.length!==2||!s(b[0])||!s(b[1])))return!1}else if(D[0].length===3&&s(D[0][0])&&s(D[0][1])&&s(D[0][2])){if(D.some(b=>b.length!==3||!s(b[0])||!s(b[1])||!s(b[2])))return!1}else return!1;return!0}function g(D,b,x,w,A){var E=u(t(t(i(x,D),i(w,b)),A)),F=c(t(i(x,x),i(w,w)));return a(E,F)}function v(D,b,x,w,A,E,F,M,B){var k=[n(i(n(A,b),B),i(n(E,x),M)),n(i(n(E,x),F),i(n(w,D),B)),n(i(n(w,D),M),i(n(A,b),F))];k=c(t(t(i(k[0],k[0]),i(k[1],k[1])),i(k[2],k[2])));var P=c(t(t(i(F,F),i(M,M)),i(B,B)));return a(k,P)}function C(D,b){for(var x=D.length,w=0,A=0,E=0;E<x;E++)A=n(D[E],b[E]),w=t(i(A,A),w);return c(w)}function y(D){for(var b=[],x=[],w=[],A=0;A<D.length-1;A++)for(var E=A+1;E<D.length;E++)D[0].length===2?(x=[D[A][0],D[A][1]],w=[D[E][0],D[E][1]]):D[0].length===3&&(x=[D[A][0],D[A][1],D[A][2]],w=[D[E][0],D[E][1],D[E][2]]),b.push(C(x,w));return b}});var AZ="intersect",SZ=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],eb=S(AZ,SZ,r=>{var{typed:e,config:t,abs:n,add:i,addScalar:a,matrix:o,multiply:c,multiplyScalar:u,divideScalar:s,subtract:l,smaller:f,equalScalar:m,flatten:p,isZero:h,isNumeric:d}=r;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":v,"Matrix, Matrix, Matrix":function(M,B,k){var P=g(M.valueOf(),B.valueOf(),k.valueOf());return P===null?null:o(P)},"Matrix, Matrix, Matrix, Matrix":function(M,B,k,P){var R=v(M.valueOf(),B.valueOf(),k.valueOf(),P.valueOf());return R===null?null:o(R)}});function g(F,M,B){if(F=C(F),M=C(M),B=C(B),!D(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!b(B))throw new TypeError("Array with 4 numbers expected as third argument");return E(F[0],F[1],F[2],M[0],M[1],M[2],B[0],B[1],B[2],B[3])}function v(F,M,B,k){if(F=C(F),M=C(M),B=C(B),k=C(k),F.length===2){if(!y(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(F,M,B,k)}else if(F.length===3){if(!D(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!D(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!D(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return A(F[0],F[1],F[2],M[0],M[1],M[2],B[0],B[1],B[2],k[0],k[1],k[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function C(F){return F.length===1?F[0]:F.length>1&&Array.isArray(F[0])&&F.every(M=>Array.isArray(M)&&M.length===1)?p(F):F}function y(F){return F.length===2&&d(F[0])&&d(F[1])}function D(F){return F.length===3&&d(F[0])&&d(F[1])&&d(F[2])}function b(F){return F.length===4&&d(F[0])&&d(F[1])&&d(F[2])&&d(F[3])}function x(F,M,B,k){var P=F,R=B,T=l(P,M),I=l(R,k),V=l(u(T[0],I[1]),u(I[0],T[1]));if(h(V)||f(n(V),t.epsilon))return null;var O=u(I[0],P[1]),J=u(I[1],P[0]),$=u(I[0],R[1]),H=u(I[1],R[0]),q=s(a(l(l(O,J),$),H),V);return i(c(T,q),P)}function w(F,M,B,k,P,R,T,I,V,O,J,$){var H=u(l(F,M),l(B,k)),q=u(l(P,R),l(T,I)),ne=u(l(V,O),l(J,$));return a(a(H,q),ne)}function A(F,M,B,k,P,R,T,I,V,O,J,$){var H=w(F,T,O,T,M,I,J,I,B,V,$,V),q=w(O,T,k,F,J,I,P,M,$,V,R,B),ne=w(F,T,k,F,M,I,P,M,B,V,R,B),be=w(O,T,O,T,J,I,J,I,$,V,$,V),oe=w(k,F,k,F,P,M,P,M,R,B,R,B),ue=l(u(H,q),u(ne,be)),me=l(u(oe,be),u(q,q));if(h(me))return null;var se=s(ue,me),ce=s(a(H,u(se,q)),be),pe=a(F,u(se,l(k,F))),ge=a(M,u(se,l(P,M))),Re=a(B,u(se,l(R,B))),Ee=a(T,u(ce,l(O,T))),z=a(I,u(ce,l(J,I))),j=a(V,u(ce,l($,V)));return m(pe,Ee)&&m(ge,z)&&m(Re,j)?[pe,ge,Re]:null}function E(F,M,B,k,P,R,T,I,V,O){var J=u(F,T),$=u(k,T),H=u(M,I),q=u(P,I),ne=u(B,V),be=u(R,V),oe=l(l(l(O,J),H),ne),ue=l(l(l(a(a($,q),be),J),H),ne),me=s(oe,ue),se=a(F,u(me,l(k,F))),ce=a(M,u(me,l(P,M))),pe=a(B,u(me,l(R,B)));return[se,ce,pe]}});var TO="sum",_Z=["typed","config","add","numeric"],rl=S(TO,_Z,r=>{var{typed:e,config:t,add:n,numeric:i}=r;return e(TO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(u){if(ui(u))throw new TypeError("Scalar values expected in function sum");return a(u)}});function a(c){var u;return dn(c,function(s){try{u=u===void 0?s:n(u,s)}catch(l){throw gr(l,"sum",s)}}),u===void 0&&(u=i(0,t.number)),typeof u=="string"&&(u=i(u,t.number)),u}function o(c,u){try{var s=Ja(c,u,n);return s}catch(l){throw gr(l,"sum")}}});var vm="cumsum",NZ=["typed","add","unaryPlus"],nl=S(vm,NZ,r=>{var{typed:e,add:t,unaryPlus:n}=r;return e(vm,{Array:i,Matrix:function(s){return s.create(i(s.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(s,l){return s.create(o(s.valueOf(),l))},"...":function(s){if(ui(s))throw new TypeError("All values expected to be scalar in function cumsum");return i(s)}});function i(u){try{return a(u)}catch(s){throw gr(s,vm)}}function a(u){if(u.length===0)return[];for(var s=[n(u[0])],l=1;l<u.length;++l)s.push(t(s[l-1],u[l]));return s}function o(u,s){var l=rt(u);if(s<0||s>=l.length)throw new ln(s,l.length);try{return c(u,s)}catch(f){throw gr(f,vm)}}function c(u,s){var l,f,m;if(s<=0){var p=u[0][0];if(Array.isArray(p)){for(m=Tf(u),f=[],l=0;l<m.length;l++)f[l]=c(m[l],s-1);return f}else return a(u)}else{for(f=[],l=0;l<u.length;l++)f[l]=c(u[l],s-1);return f}}});var IO="mean",MZ=["typed","add","divide"],il=S(IO,MZ,r=>{var{typed:e,add:t,divide:n}=r;return e(IO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(c){if(ui(c))throw new TypeError("Scalar values expected in function mean");return a(c)}});function i(o,c){try{var u=Ja(o,c,t),s=Array.isArray(o)?rt(o):o.size();return n(u,s[c])}catch(l){throw gr(l,"mean")}}function a(o){var c,u=0;if(dn(o,function(s){try{c=c===void 0?s:t(c,s),u++}catch(l){throw gr(l,"mean",s)}}),u===0)throw new Error("Cannot calculate the mean of an empty array");return n(c,u)}});var BO="median",TZ=["typed","add","divide","compare","partitionSelect"],tb=S(BO,TZ,r=>{var{typed:e,add:t,divide:n,compare:i,partitionSelect:a}=r;function o(s){try{s=dt(s.valueOf());var l=s.length;if(l===0)throw new Error("Cannot calculate median of an empty array");if(l%2===0){for(var f=l/2-1,m=a(s,f+1),p=s[f],h=0;h<f;++h)i(s[h],p)>0&&(p=s[h]);return u(p,m)}else{var d=a(s,(l-1)/2);return c(d)}}catch(g){throw gr(g,"median")}}var c=e({"number | BigNumber | Complex | Unit":function(l){return l}}),u=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(l,f){return n(t(l,f),2)}});return e(BO,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,f){throw new Error("median(A, dim) is not yet supported")},"...":function(l){if(ui(l))throw new TypeError("Scalar values expected in function median");return o(l)}})});var OO="mad",IZ=["typed","abs","map","median","subtract"],rb=S(OO,IZ,r=>{var{typed:e,abs:t,map:n,median:i,subtract:a}=r;return e(OO,{"Array | Matrix":o,"...":function(u){return o(u)}});function o(c){if(c=dt(c.valueOf()),c.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var u=i(c);return i(n(c,function(s){return t(a(s,u))}))}catch(s){throw s instanceof TypeError&&s.message.indexOf("median")!==-1?new TypeError(s.message.replace("median","mad")):gr(s,"mad")}}});var nb="unbiased",kO="variance",BZ=["typed","add","subtract","multiply","divide","apply","isNaN"],al=S(kO,BZ,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:c}=r;return e(kO,{"Array | Matrix":function(f){return u(f,nb)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(f,m){return s(f,m,nb)},"Array | Matrix, number | BigNumber, string":s,"...":function(f){return u(f,nb)}});function u(l,f){var m,p=0;if(l.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(dn(l,function(g){try{m=m===void 0?g:t(m,g),p++}catch(v){throw gr(v,"variance",g)}}),p===0)throw new Error("Cannot calculate variance of an empty array");var h=a(m,p);if(m=void 0,dn(l,function(g){var v=n(g,h);m=m===void 0?i(v,v):t(m,i(v,v))}),c(m))return m;switch(f){case"uncorrected":return a(m,p);case"biased":return a(m,p+1);case"unbiased":{var d=nt(m)?m.mul(0):0;return p===1?d:a(m,p-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function s(l,f,m){try{if(l.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(l,f,p=>u(p,m))}catch(p){throw gr(p,"variance")}}});var PO="quantileSeq",OZ=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],ol=S(PO,OZ,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:u,isInteger:s,smaller:l,smallerEq:f,larger:m}=r,p=Bo({typed:e,isInteger:s});return e(PO,{"Array | Matrix, number | BigNumber":(C,y)=>d(C,y,!1),"Array | Matrix, number | BigNumber, number":(C,y,D)=>h(C,y,!1,D,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(C,y,D,b)=>h(C,y,D,b,d),"Array | Matrix, Array | Matrix":(C,y)=>g(C,y,!1),"Array | Matrix, Array | Matrix, number":(C,y,D)=>h(C,y,!1,D,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(C,y,D,b)=>h(C,y,D,b,g)});function h(C,y,D,b,x){return p(C,b,w=>x(w,y,D))}function d(C,y,D){var b,x=C.valueOf();if(l(y,0))throw new Error("N/prob must be non-negative");if(f(y,1))return it(y)?v(x,y,D):t(v(x,y,D));if(m(y,1)){if(!s(y))throw new Error("N must be a positive integer");if(m(y,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var w=n(y,1);b=[];for(var A=0;l(A,y);A++){var E=a(A+1,w);b.push(v(x,E,D))}return it(y)?b:t(b)}}function g(C,y,D){for(var b=C.valueOf(),x=y.valueOf(),w=[],A=0;A<x.length;++A)w.push(v(b,x[A],D));return w}function v(C,y,D){var b=dt(C),x=b.length;if(x===0)throw new Error("Cannot calculate quantile of an empty sequence");var w=it(y)?y*(x-1):y.times(x-1),A=it(y)?Math.floor(w):w.floor().toNumber(),E=it(y)?w%1:w.minus(A);if(s(w))return D?b[w]:c(b,it(y)?w:w.valueOf());var F,M;if(D)F=b[A],M=b[A+1];else{M=c(b,A+1),F=b[A];for(var B=0;B<A;++B)u(b[B],F)>0&&(F=b[B])}return n(o(F,i(1,E)),o(M,E))}});var RO="std",kZ=["typed","map","sqrt","variance"],sl=S(RO,kZ,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r;return e(RO,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(c){return a(c)}});function a(o,c){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var u=i.apply(null,arguments);return Fn(u)?t(u,n):n(u)}catch(s){throw s instanceof TypeError&&s.message.indexOf(" variance")!==-1?new TypeError(s.message.replace(" variance"," std")):s}}});var LO="corr",PZ=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],ib=S(LO,PZ,r=>{var{typed:e,matrix:t,sqrt:n,sum:i,add:a,subtract:o,multiply:c,pow:u,divide:s}=r;return e(LO,{"Array, Array":function(p,h){return l(p,h)},"Matrix, Matrix":function(p,h){var d=l(p.toArray(),h.toArray());return Array.isArray(d)?t(d):d}});function l(m,p){var h=[];if(Array.isArray(m[0])&&Array.isArray(p[0])){if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<m.length;d++){if(m[d].length!==p[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(m[d],p[d]))}return h}else{if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(m,p)}}function f(m,p){var h=m.length,d=i(m),g=i(p),v=m.reduce((x,w,A)=>a(x,c(w,p[A])),0),C=i(m.map(x=>u(x,2))),y=i(p.map(x=>u(x,2))),D=o(c(h,v),c(d,g)),b=n(c(o(c(h,C),u(d,2)),o(c(h,y),u(g,2))));return s(D,b)}});var qO="combinations",RZ=["typed"],ab=S(qO,RZ,r=>{var{typed:e}=r;return e(qO,{"number, number":yg,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,c,u=n.minus(i),s=new a(1);if(!VO(n)||!VO(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=s,i.lt(u))for(c=s;c.lte(u);c=c.plus(s))o=o.times(i.plus(c)).dividedBy(c);else for(c=s;c.lte(i);c=c.plus(s))o=o.times(u.plus(c)).dividedBy(c);return o}})});function VO(r){return r.isInteger()&&r.gte(0)}var UO="combinationsWithRep",LZ=["typed"],ob=S(UO,LZ,r=>{var{typed:e}=r;return e(UO,{"number, number":function(n,i){if(!We(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!We(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Zn(n,n+i-1);return a/Zn(1,i)}var o=Zn(i+1,n+i-1);return o/Zn(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,c,u=new a(1),s=n.minus(u);if(!zO(n)||!zO(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(u))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=u,i.lt(s))for(c=u;c.lte(s);c=c.plus(u))o=o.times(i.plus(c)).dividedBy(c);else for(c=u;c.lte(i);c=c.plus(u))o=o.times(s.plus(c)).dividedBy(c);return o}})});function zO(r){return r.isInteger()&&r.gte(0)}var HO="gamma",qZ=["typed","config","multiplyScalar","pow","BigNumber","Complex"],sb=S(HO,qZ,r=>{var{typed:e,config:t,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=r;function c(s){if(s.im===0)return qu(s.re);if(s.re<.5){var l=new o(1-s.re,-s.im),f=new o(Math.PI*s.re,Math.PI*s.im);return new o(Math.PI).div(f.sin()).div(c(l))}s=new o(s.re-1,s.im);for(var m=new o(Io[0],0),p=1;p<Io.length;++p){var h=new o(Io[p],0);m=m.add(h.div(s.add(p)))}var d=new o(s.re+Cg+.5,s.im),g=Math.sqrt(2*Math.PI),v=d.pow(s.add(.5)),C=d.neg().exp();return m.mul(g).mul(v).mul(C)}return e(HO,{number:qu,Complex:c,BigNumber:function(l){if(l.isInteger())return l.isNegative()||l.isZero()?new a(1/0):u(l.minus(1));if(!l.isFinite())return new a(l.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function u(s){if(s<8)return new a([1,1,2,6,24,120,720,5040][s]);var l=t.precision+(Math.log(s.toNumber())|0),f=a.clone({precision:l});if(s%2===1)return s.times(u(new a(s-1)));for(var m=s,p=new f(s),h=s.toNumber();m>2;)m-=2,h+=m,p=p.times(h);return new a(p.toPrecision(a.precision))}});var WO="lgamma",VZ=["Complex","typed"],ub=S(WO,VZ,r=>{var{Complex:e,typed:t}=r,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(WO,{number:Vu,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(s){var l=6.283185307179586,f=1.1447298858494002,m=.1;if(s.isNaN())return new e(NaN,NaN);if(s.im===0)return new e(Vu(s.re),0);if(s.re>=n||Math.abs(s.im)>=i)return c(s);if(s.re<=m){var p=EA(l,s.im)*Math.floor(.5*s.re+.25),h=s.mul(Math.PI).sin().log(),d=o(new e(1-s.re,-s.im));return new e(f,p).sub(h).sub(d)}else return s.im>=0?u(s):u(s.conjugate()).conjugate()}function c(s){for(var l=s.sub(.5).mul(s.log()).sub(s).add(Fg),f=new e(1,0).div(s),m=f.div(s),p=a[0],h=a[1],d=2*m.re,g=m.re*m.re+m.im*m.im,v=2;v<8;v++){var C=h;h=-g*p+a[v],p=d*p+C}var y=f.mul(m.mul(p).add(h));return l.add(y)}function u(s){var l=0,f=0,m=s;for(s=s.add(1);s.re<=n;){m=m.mul(s);var p=m.im<0?1:0;p!==0&&f===0&&l++,f=p,s=s.add(1)}return c(s).sub(m.log()).sub(new e(0,l*2*Math.PI*1))}});var GO="factorial",UZ=["typed","gamma"],lb=S(GO,UZ,r=>{var{typed:e,gamma:t}=r;return e(GO,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>Je(i,n))})});var jO="kldivergence",zZ=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],cb=S(jO,zZ,r=>{var{typed:e,matrix:t,divide:n,sum:i,multiply:a,map:o,dotDivide:c,log:u,isNumeric:s}=r;return e(jO,{"Array, Array":function(m,p){return l(t(m),t(p))},"Matrix, Array":function(m,p){return l(m,t(p))},"Array, Matrix":function(m,p){return l(t(m),p)},"Matrix, Matrix":function(m,p){return l(m,p)}});function l(f,m){var p=m.size().length,h=f.size().length;if(p>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(p!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var g=i(m);if(g===0)throw new Error("Sum of elements in second object must be non zero");var v=n(f,i(f)),C=n(m,i(m)),y=i(a(v,o(c(v,C),D=>u(D))));return s(y)?y:Number.NaN}});var ZO="multinomial",HZ=["typed","add","divide","multiply","factorial","isInteger","isPositive"],fb=S(ZO,HZ,r=>{var{typed:e,add:t,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:c}=r;return e(ZO,{"Array | Matrix":function(s){var l=0,f=1;return dn(s,function(m){if(!o(m)||!c(m))throw new TypeError("Positive integer value expected in function multinomial");l=t(l,m),f=i(f,a(m))}),n(a(l),f)}})});var YO="permutations",WZ=["typed","factorial"],mb=S(YO,WZ,r=>{var{typed:e,factorial:t}=r;return e(YO,{"number | BigNumber":t,"number, number":function(i,a){if(!We(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!We(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Zn(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,c;if(!JO(i)||!JO(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var u=i.mul(0).add(1);for(o=u,c=i.minus(a).plus(1);c.lte(i);c=c.plus(1))o=o.times(c);return o}})});function JO(r){return r.isInteger()&&r.gte(0)}var bb=fr(fk(),1),QZ=(0,bb.default)(Date.now());function ba(r){var e;function t(i){e=i===null?QZ:(0,bb.default)(String(i))}t(r);function n(){return e()}return n}var mk="pickRandom",KZ=["typed","config","?on"],xb=S(mk,KZ,r=>{var{typed:e,config:t,on:n}=r,i=ba(t.randomSeed);return n&&n("config",function(o,c){o.randomSeed!==c.randomSeed&&(i=ba(o.randomSeed))}),e(mk,{"Array | Matrix":function(c){return a(c,{})},"Array | Matrix, Object":function(c,u){return a(c,u)},"Array | Matrix, number":function(c,u){return a(c,{number:u})},"Array | Matrix, Array | Matrix":function(c,u){return a(c,{weights:u})},"Array | Matrix, Array | Matrix, number":function(c,u,s){return a(c,{number:s,weights:u})},"Array | Matrix, number, Array | Matrix":function(c,u,s){return a(c,{number:u,weights:s})}});function a(o,c){var{number:u,weights:s,elementWise:l=!0}=c,f=typeof u=="undefined";f&&(u=1);var m=Ge(o)?o.create:Ge(s)?s.create:null;o=o.valueOf(),s&&(s=s.valueOf()),l===!0&&(o=dt(o),s=dt(s));var p=0;if(typeof s!="undefined"){if(s.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=s.length;h<d;h++){if(!it(s[h])||s[h]<0)throw new Error("Weights must be an array of positive numbers");p+=s[h]}}for(var g=o.length,v=[],C;v.length<u;){if(typeof s=="undefined")C=o[Math.floor(i()*g)];else for(var y=i()*p,D=0,b=o.length;D<b;D++)if(y-=s[D],y<0){C=o[D];break}v.push(C)}return f?v[0]:m?m(v):v}});function ul(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var n=0,i=r.shift();n<i;n++)t.push(ul(r,e));else for(var a=0,o=r.shift();a<o;a++)t.push(e());return t}var pk="random",$Z=["typed","config","?on"],Db=S(pk,$Z,r=>{var{typed:e,config:t,on:n}=r,i=ba(t.randomSeed);return n&&n("config",function(c,u){c.randomSeed!==u.randomSeed&&(i=ba(c.randomSeed))}),e(pk,{"":()=>o(0,1),number:c=>o(0,c),"number, number":(c,u)=>o(c,u),"Array | Matrix":c=>a(c,0,1),"Array | Matrix, number":(c,u)=>a(c,0,u),"Array | Matrix, number, number":(c,u,s)=>a(c,u,s)});function a(c,u,s){var l=ul(c.valueOf(),()=>o(u,s));return Ge(c)?c.create(l):l}function o(c,u){return c+i()*(u-c)}});var dk="randomInt",eY=["typed","config","?on"],wb=S(dk,eY,r=>{var{typed:e,config:t,on:n}=r,i=ba(t.randomSeed);return n&&n("config",function(c,u){c.randomSeed!==u.randomSeed&&(i=ba(c.randomSeed))}),e(dk,{"":()=>o(0,1),number:c=>o(0,c),"number, number":(c,u)=>o(c,u),"Array | Matrix":c=>a(c,0,1),"Array | Matrix, number":(c,u)=>a(c,0,u),"Array | Matrix, number, number":(c,u,s)=>a(c,u,s)});function a(c,u,s){var l=ul(c.valueOf(),()=>o(u,s));return Ge(c)?c.create(l):l}function o(c,u){return Math.floor(c+i()*(u-c))}});var hk="stirlingS2",tY=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Eb=S(hk,tY,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:c,combinations:u,isNegative:s,isInteger:l,number:f,bignumber:m,larger:p}=r,h=[],d=[];return e(hk,{"number | BigNumber, number | BigNumber":function(v,C){if(!l(v)||s(v)||!l(C)||s(C))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(C,v))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(it(v)&&it(C)),D=y?d:h,b=y?m:f,x=f(v),w=f(C);if(D[x]&&D[x].length>w)return D[x][w];for(var A=0;A<=x;++A)if(D[A]||(D[A]=[b(A===0?1:0)]),A!==0)for(var E=D[A],F=D[A-1],M=E.length;M<=A&&M<=w;++M)M===A?E[M]=1:E[M]=t(i(b(M),F[M]),F[M-1]);return D[x][w]}})});var gk="bellNumbers",rY=["typed","addScalar","isNegative","isInteger","stirlingS2"],Cb=S(gk,rY,r=>{var{typed:e,addScalar:t,isNegative:n,isInteger:i,stirlingS2:a}=r;return e(gk,{"number | BigNumber":function(c){if(!i(c)||n(c))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var u=0,s=0;s<=c;s++)u=t(u,a(c,s));return u}})});var vk="catalan",nY=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Fb=S(vk,nY,r=>{var{typed:e,addScalar:t,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:c}=r;return e(vk,{"number | BigNumber":function(s){if(!c(s)||o(s))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(s,2),s),t(s,1))}})});var yk="composition",iY=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Ab=S(yk,iY,r=>{var{typed:e,addScalar:t,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:c}=r;return e(yk,{"number | BigNumber, number | BigNumber":function(s,l){if(!o(s)||!i(s)||!o(l)||!i(l))throw new TypeError("Positive integer value expected in function composition");if(c(l,s))throw new TypeError("k must be less than or equal to n in function composition");return n(t(s,-1),t(l,-1))}})});var bk="leafCount",aY=["parse","typed"],Sb=S(bk,aY,r=>{var{parse:e,typed:t}=r;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return t(bk,{Node:function(a){return n(a)}})});function _b(r){return vt(r)||or(r)&&r.isUnary()&&vt(r.args[0])}function ll(r){return!!(vt(r)||(An(r)||or(r))&&r.args.every(ll)||un(r)&&ll(r.content))}function xk(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Nb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(t),!0).forEach(function(n){Pt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xk(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var oY="simplifyUtil",sY=["FunctionNode","OperatorNode","SymbolNode"],Ls=S(oY,sY,r=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:n}=r,i=!0,a=!1,o="defaultF",c={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},u={divide:{total:a},log:{total:a}},s={subtract:{total:a},abs:{trivial:i},log:{total:i}};function l(y,D){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c,x=o;if(typeof y=="string"?x=y:or(y)?x=y.fn.toString():An(y)?x=y.name:un(y)&&(x="paren"),je(b,x)){var w=b[x];if(je(w,D))return w[D];if(je(c,x))return c[x][D]}if(je(b,o)){var A=b[o];return je(A,D)?A[D]:c[o][D]}if(je(c,x)){var E=c[x];if(je(E,D))return E[D]}return c[o][D]}function f(y){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return l(y,"commutative",D)}function m(y){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return l(y,"associative",D)}function p(y,D){var b=Nb({},y);for(var x in D)je(y,x)?b[x]=Nb(Nb({},D[x]),y[x]):b[x]=D[x];return b}function h(y,D){if(!y.args||y.args.length===0)return y;y.args=d(y,D);for(var b=0;b<y.args.length;b++)h(y.args[b],D)}function d(y,D){var b,x=[],w=function A(E){for(var F=0;F<E.args.length;F++){var M=E.args[F];or(M)&&b===M.op?A(M):x.push(M)}};return m(y,D)?(b=y.op,w(y),x):y.args}function g(y,D){if(!(!y.args||y.args.length===0)){for(var b=C(y),x=y.args.length,w=0;w<x;w++)g(y.args[w],D);if(x>2&&m(y,D)){for(var A=y.args.pop();y.args.length>0;)A=b([y.args.pop(),A]);y.args=A.args}}}function v(y,D){if(!(!y.args||y.args.length===0)){for(var b=C(y),x=y.args.length,w=0;w<x;w++)v(y.args[w],D);if(x>2&&m(y,D)){for(var A=y.args.shift();y.args.length>0;)A=b([A,y.args.shift()]);y.args=A.args}}}function C(y){return or(y)?function(D){try{return new t(y.op,y.fn,D,y.implicit)}catch(b){return console.error(b),[]}}:function(D){return new e(new n(y.name),D)}}return{createMakeNodeFunction:C,hasProperty:l,isCommutative:f,isAssociative:m,mergeContext:p,flatten:h,allChildren:d,unflattenr:g,unflattenl:v,defaultContext:c,realContext:u,positiveContext:s}});var uY="simplify",lY=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Mb=S(uY,lY,r=>{var{config:e,typed:t,parse:n,add:i,subtract:a,multiply:o,divide:c,pow:u,isZero:s,equal:l,resolve:f,simplifyConstant:m,simplifyCore:p,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:C,ArrayNode:y,ConstantNode:D,FunctionNode:b,IndexNode:x,ObjectNode:w,OperatorNode:A,ParenthesisNode:E,SymbolNode:F}=r,{hasProperty:M,isCommutative:B,isAssociative:k,mergeContext:P,flatten:R,unflattenr:T,unflattenl:I,createMakeNodeFunction:V,defaultContext:O,realContext:J,positiveContext:$}=Ls({FunctionNode:b,OperatorNode:A,SymbolNode:F});t.addConversion({from:"Object",to:"Map",convert:da});var H=t("simplify",{Node:se,"Node, Map":(W,K)=>se(W,!1,K),"Node, Map, Object":(W,K,ie)=>se(W,!1,K,ie),"Node, Array":se,"Node, Array, Map":se,"Node, Array, Map, Object":se});t.removeConversion({from:"Object",to:"Map",convert:da}),H.defaultContext=O,H.realContext=J,H.positiveContext=$;function q(W){return W.transform(function(K,ie,ve){return un(K)?q(K.content):K})}var ne={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};H.rules=[p,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},m,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},m,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function be(W,K){var ie={};if(W.s){var ve=W.s.split("->");if(ve.length===2)ie.l=ve[0],ie.r=ve[1];else throw SyntaxError("Could not parse rule: "+W.s)}else ie.l=W.l,ie.r=W.r;ie.l=q(n(ie.l)),ie.r=q(n(ie.r));for(var xe of["imposeContext","repeat","assuming"])xe in W&&(ie[xe]=W[xe]);if(W.evaluate&&(ie.evaluate=n(W.evaluate)),k(ie.l,K)){var qe=!B(ie.l,K),Se;qe&&(Se=me());var ft=V(ie.l),pt=me();ie.expanded={},ie.expanded.l=ft([ie.l,pt]),R(ie.expanded.l,K),T(ie.expanded.l,K),ie.expanded.r=ft([ie.r,pt]),qe&&(ie.expandedNC1={},ie.expandedNC1.l=ft([Se,ie.l]),ie.expandedNC1.r=ft([Se,ie.r]),ie.expandedNC2={},ie.expandedNC2.l=ft([Se,ie.expanded.l]),ie.expandedNC2.r=ft([Se,ie.expanded.r]))}return ie}function oe(W,K){for(var ie=[],ve=0;ve<W.length;ve++){var xe=W[ve],qe=void 0,Se=typeof xe;switch(Se){case"string":xe={s:xe};case"object":qe=be(xe,K);break;case"function":qe=xe;break;default:throw TypeError("Unsupported type of rule: "+Se)}ie.push(qe)}return ie}var ue=0;function me(){return new F("_p"+ue++)}function se(W,K){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ji(),ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},xe=ve.consoleDebug;K=oe(K||H.rules,ve.context);var qe=f(W,ie);qe=q(qe);for(var Se={},ft=qe.toString({parenthesis:"all"});!Se[ft];){Se[ft]=!0,ue=0;var pt=ft;xe&&console.log("Working on: ",ft);for(var Tt=0;Tt<K.length;Tt++){var zt="";if(typeof K[Tt]=="function"?(qe=K[Tt](qe,ve),xe&&(zt=K[Tt].name)):(R(qe,ve.context),qe=pe(qe,K[Tt],ve.context),xe&&(zt="".concat(K[Tt].l.toString()," -> ").concat(K[Tt].r.toString()))),xe){var Z=qe.toString({parenthesis:"all"});Z!==pt&&(console.log("Applying",zt,"produced",Z),pt=Z)}I(qe,ve.context)}ft=qe.toString({parenthesis:"all"})}return qe}function ce(W,K,ie){var ve=W;if(W)for(var xe=0;xe<W.length;++xe){var qe=pe(W[xe],K,ie);qe!==W[xe]&&(ve===W&&(ve=W.slice()),ve[xe]=qe)}return ve}function pe(W,K,ie){if(K.assuming){for(var ve in K.assuming)for(var xe in K.assuming[ve])if(M(ve,xe,ie)!==K.assuming[ve][xe])return W}var qe=P(K.imposeContext,ie),Se=W;if(Se instanceof A||Se instanceof b){var ft=ce(Se.args,K,ie);ft!==Se.args&&(Se=Se.clone(),Se.args=ft)}else if(Se instanceof E){if(Se.content){var pt=pe(Se.content,K,ie);pt!==Se.content&&(Se=new E(pt))}}else if(Se instanceof y){var Tt=ce(Se.items,K,ie);Tt!==Se.items&&(Se=new y(Tt))}else if(Se instanceof C){var zt=Se.object;Se.object&&(zt=pe(Se.object,K,ie));var Z=Se.index;Se.index&&(Z=pe(Se.index,K,ie)),(zt!==Se.object||Z!==Se.index)&&(Se=new C(zt,Z))}else if(Se instanceof x){var ae=ce(Se.dimensions,K,ie);ae!==Se.dimensions&&(Se=new x(ae))}else if(Se instanceof w){var de=!1,Fe={};for(var Be in Se.properties)Fe[Be]=pe(Se.properties[Be],K,ie),Fe[Be]!==Se.properties[Be]&&(de=!0);de&&(Se=new w(Fe))}var Ae=K.r,Me=j(K.l,Se,qe)[0];if(!Me&&K.expanded&&(Ae=K.expanded.r,Me=j(K.expanded.l,Se,qe)[0]),!Me&&K.expandedNC1&&(Ae=K.expandedNC1.r,Me=j(K.expandedNC1.l,Se,qe)[0],Me||(Ae=K.expandedNC2.r,Me=j(K.expandedNC2.l,Se,qe)[0])),Me){var Le=Se.implicit;Se=Ae.clone(),Le&&"implicit"in Ae&&(Se.implicit=!0),Se=Se.transform(function(N){return N.isSymbolNode&&je(Me.placeholders,N.name)?Me.placeholders[N.name].clone():N})}return K.repeat&&Se!==W&&(Se=pe(Se,K,ie)),Se}function ge(W,K){var ie=[],ve,xe,qe=V(W);if(B(W,K))for(var Se=0;Se<W.args.length;Se++)xe=W.args.slice(0),xe.splice(Se,1),ve=xe.length===1?xe[0]:qe(xe),ie.push(qe([W.args[Se],ve]));else for(var ft=1;ft<W.args.length;ft++){var pt=W.args[0];ft>1&&(pt=qe(W.args.slice(0,ft))),xe=W.args.slice(ft),ve=xe.length===1?xe[0]:qe(xe),ie.push(qe([pt,ve]))}return ie}function Re(W,K){var ie={placeholders:{}};if(!W.placeholders&&!K.placeholders)return ie;if(W.placeholders){if(!K.placeholders)return W}else return K;for(var ve in W.placeholders)if(je(W.placeholders,ve)&&(ie.placeholders[ve]=W.placeholders[ve],je(K.placeholders,ve)&&!fe(W.placeholders[ve],K.placeholders[ve])))return null;for(var xe in K.placeholders)je(K.placeholders,xe)&&(ie.placeholders[xe]=K.placeholders[xe]);return ie}function Ee(W,K){var ie=[];if(W.length===0||K.length===0)return ie;for(var ve,xe=0;xe<W.length;xe++)for(var qe=0;qe<K.length;qe++)ve=Re(W[xe],K[qe]),ve&&ie.push(ve);return ie}function z(W){if(W.length===0)return W;for(var K=W.reduce(Ee),ie=[],ve={},xe=0;xe<K.length;xe++){var qe=JSON.stringify(K[xe]);ve[qe]||(ve[qe]=!0,ie.push(K[xe]))}return ie}function j(W,K,ie,ve){var xe=[{placeholders:{}}];if(W instanceof A&&K instanceof A||W instanceof b&&K instanceof b){if(W instanceof A){if(W.op!==K.op||W.fn!==K.fn)return[]}else if(W instanceof b&&W.name!==K.name)return[];if(K.args.length===1&&W.args.length===1||!k(K,ie)&&K.args.length===W.args.length||ve){for(var qe=[],Se=0;Se<W.args.length;Se++){var ft=j(W.args[Se],K.args[Se],ie);if(ft.length===0)break;qe.push(ft)}if(qe.length!==W.args.length){if(!B(K,ie)||W.args.length===1)return[];if(W.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var pt=j(W.args[0],K.args[1],ie);if(pt.length===0)return[];var Tt=j(W.args[1],K.args[0],ie);if(Tt.length===0)return[];qe=[pt,Tt]}xe=z(qe)}else if(K.args.length>=2&&W.args.length===2){for(var zt=ge(K,ie),Z=[],ae=0;ae<zt.length;ae++){var de=j(W,zt[ae],ie,!0);Z=Z.concat(de)}return Z}else{if(W.args.length>2)throw Error("Unexpected non-binary associative function: "+W.toString());return[]}}else if(W instanceof F){if(W.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(ne[W.name]){if(W.name!==K.name)return[]}else switch(W.name[1]>="a"&&W.name[1]<="z"?W.name.substring(0,2):W.name[0]){case"n":case"_p":xe[0].placeholders[W.name]=K;break;case"c":case"cl":if(vt(K))xe[0].placeholders[W.name]=K;else return[];break;case"v":if(!vt(K))xe[0].placeholders[W.name]=K;else return[];break;case"vl":if(Yt(K))xe[0].placeholders[W.name]=K;else return[];break;case"cd":if(_b(K))xe[0].placeholders[W.name]=K;else return[];break;case"vd":if(!_b(K))xe[0].placeholders[W.name]=K;else return[];break;case"ce":if(ll(K))xe[0].placeholders[W.name]=K;else return[];break;case"ve":if(!ll(K))xe[0].placeholders[W.name]=K;else return[];break;default:throw new Error("Invalid symbol in rule: "+W.name)}}else if(W instanceof D){if(!l(W.value,K.value))return[]}else return[];return xe}function fe(W,K){if(W instanceof D&&K instanceof D){if(!l(W.value,K.value))return!1}else if(W instanceof F&&K instanceof F){if(W.name!==K.name)return!1}else if(W instanceof A&&K instanceof A||W instanceof b&&K instanceof b){if(W instanceof A){if(W.op!==K.op||W.fn!==K.fn)return!1}else if(W instanceof b&&W.name!==K.name)return!1;if(W.args.length!==K.args.length)return!1;for(var ie=0;ie<W.args.length;ie++)if(!fe(W.args[ie],K.args[ie]))return!1}else return!1;return!0}return H});var cY="simplifyConstant",fY=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Tb=S(cY,fY,r=>{var{typed:e,config:t,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:c,ArrayNode:u,ConstantNode:s,FunctionNode:l,IndexNode:f,ObjectNode:m,OperatorNode:p,SymbolNode:h}=r,{isCommutative:d,isAssociative:g,allChildren:v,createMakeNodeFunction:C}=Ls({FunctionNode:l,OperatorNode:p,SymbolNode:h}),y=e("simplifyConstant",{Node:R=>w(P(R,{})),"Node, Object":function(T,I){return w(P(T,I))}});function D(R){return ma(R)?R.valueOf():R instanceof Array?R.map(D):Ge(R)?i(D(R.valueOf())):R}function b(R,T,I){try{return n[R].apply(null,T)}catch(V){return T=T.map(D),E(n[R].apply(null,T),I)}}var x=e({Fraction:M,number:function(T){return T<0?F(new s(-T)):new s(T)},BigNumber:function(T){return T<0?F(new s(-T)):new s(T)},Complex:function(T){throw new Error("Cannot convert Complex number to Node")},string:function(T){return new s(T)},Matrix:function(T){return new u(T.valueOf().map(I=>x(I)))}});function w(R){return yt(R)?R:x(R)}function A(R,T){var I=T&&T.exactFractions!==!1;if(I&&isFinite(R)&&a){var V=a(R),O=T&&typeof T.fractionsLimit=="number"?T.fractionsLimit:1/0;if(V.valueOf()===R&&V.n<O&&V.d<O)return V}return R}var E=e({"string, Object":function(T,I){if(t.number==="BigNumber")return o===void 0&&Is(),o(T);if(t.number==="Fraction")return a===void 0&&Lf(),a(T);var V=parseFloat(T);return A(V,I)},"Fraction, Object":function(T,I){return T},"BigNumber, Object":function(T,I){return T},"number, Object":function(T,I){return A(T,I)},"Complex, Object":function(T,I){return T.im!==0?T:A(T.re,I)},"Matrix, Object":function(T,I){return i(A(T.valueOf()))},"Array, Object":function(T,I){return T.map(A)}});function F(R){return new p("-","unaryMinus",[R])}function M(R){var T,I=R.s*R.n;return I<0?T=new p("-","unaryMinus",[new s(-I)]):T=new s(I),R.d===1?T:new p("/","divide",[T,new s(R.d)])}function B(R,T,I){if(!oi(T))return new c(w(R),w(T));if(sn(R)||Ge(R)){for(var V=Array.from(T.dimensions);V.length>0;)if(vt(V[0])&&typeof V[0].value!="string"){var O=E(V.shift().value,I);sn(R)?R=R.items[O-1]:(R=R.valueOf()[O-1],R instanceof Array&&(R=i(R)))}else if(V.length>1&&vt(V[1])&&typeof V[1].value!="string"){var J=E(V[1].value,I),$=[],H=sn(R)?R.items:R.valueOf();for(var q of H)if(sn(q))$.push(q.items[J-1]);else if(Ge(R))$.push(q[J-1]);else break;if($.length===H.length)sn(R)?R=new u($):R=i($),V.splice(1,1);else break}else break;return V.length===T.dimensions.length?new c(w(R),T):V.length>0?(T=new f(V),new c(w(R),T)):R}if(za(R)&&T.dimensions.length===1&&vt(T.dimensions[0])){var ne=T.dimensions[0].value;return ne in R.properties?R.properties[ne]:new s}return new c(w(R),T)}function k(R,T,I,V){var O=T.shift(),J=T.reduce(($,H)=>{if(!yt(H)){var q=$.pop();if(yt(q))return[q,H];try{return $.push(b(R,[q,H],V)),$}catch(be){$.push(q)}}$.push(w($.pop()));var ne=$.length===1?$[0]:I($);return[I([ne,w(H)])]},[O]);return J.length===1?J[0]:I([J[0],x(J[1])])}function P(R,T){switch(R.type){case"SymbolNode":return R;case"ConstantNode":switch(typeof R.value){case"number":return E(R.value,T);case"string":return R.value;default:if(!isNaN(R.value))return E(R.value,T)}return R;case"FunctionNode":if(n[R.name]&&n[R.name].rawArgs)return R;{var I=["add","multiply"];if(I.indexOf(R.name)===-1){var V=R.args.map(pe=>P(pe,T));if(!V.some(yt))try{return b(R.name,V,T)}catch(pe){}if(R.name==="size"&&V.length===1&&sn(V[0])){for(var O=[],J=V[0];sn(J);)O.push(J.items.length),J=J.items[0];return i(O)}return new l(R.name,V.map(w))}}case"OperatorNode":{var $=R.fn.toString(),H,q,ne=C(R);if(or(R)&&R.isUnary())H=[P(R.args[0],T)],yt(H[0])?q=ne(H):q=b($,H,T);else if(g(R,T.context))if(H=v(R,T.context),H=H.map(pe=>P(pe,T)),d($,T.context)){for(var be=[],oe=[],ue=0;ue<H.length;ue++)yt(H[ue])?oe.push(H[ue]):be.push(H[ue]);be.length>1?(q=k($,be,ne,T),oe.unshift(q),q=k($,oe,ne,T)):q=k($,H,ne,T)}else q=k($,H,ne,T);else H=R.args.map(pe=>P(pe,T)),q=k($,H,ne,T);return q}case"ParenthesisNode":return P(R.content,T);case"AccessorNode":return B(P(R.object,T),P(R.index,T),T);case"ArrayNode":{var me=R.items.map(pe=>P(pe,T));return me.some(yt)?new u(me.map(w)):i(me)}case"IndexNode":return new f(R.dimensions.map(pe=>y(pe,T)));case"ObjectNode":{var se={};for(var ce in R.properties)se[ce]=y(R.properties[ce],T);return new m(se)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(R.type))}}return y});var Dk="simplifyCore",mY=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Ib=S(Dk,mY,r=>{var{typed:e,parse:t,equal:n,isZero:i,add:a,subtract:o,multiply:c,divide:u,pow:s,AccessorNode:l,ArrayNode:f,ConstantNode:m,FunctionNode:p,IndexNode:h,ObjectNode:d,OperatorNode:g,ParenthesisNode:v,SymbolNode:C}=r,y=new m(0),D=new m(1),b=new m(!0),x=new m(!1);function w(M){return or(M)&&["and","not","or"].includes(M.op)}var{hasProperty:A,isCommutative:E}=Ls({FunctionNode:p,OperatorNode:g,SymbolNode:C});function F(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=B?B.context:void 0;if(A(M,"trivial",k)){if(An(M)&&M.args.length===1)return F(M.args[0],B);var P=!1,R=0;if(M.forEach(oe=>{++R,R===1&&(P=F(oe,B))}),R===1)return P}var T=M;if(An(T)){var I=bM(T.name);if(I){if(T.args.length>2&&A(T,"associative",k))for(;T.args.length>2;){var V=T.args.pop(),O=T.args.pop();T.args.push(new g(I,T.name,[V,O]))}T=new g(I,T.name,T.args)}else return new p(F(T.fn),T.args.map(oe=>F(oe,B)))}if(or(T)&&T.isUnary()){var J=F(T.args[0],B);if(T.op==="~"&&or(J)&&J.isUnary()&&J.op==="~"||T.op==="not"&&or(J)&&J.isUnary()&&J.op==="not"&&w(J.args[0]))return J.args[0];var $=!0;if(T.op==="-"&&or(J)&&(J.isBinary()&&J.fn==="subtract"&&(T=new g("-","subtract",[J.args[1],J.args[0]]),$=!1),J.isUnary()&&J.op==="-"))return J.args[0];if($)return new g(T.op,T.fn,[J])}if(or(T)&&T.isBinary()){var H=F(T.args[0],B),q=F(T.args[1],B);if(T.op==="+"){if(vt(H)&&i(H.value))return q;if(vt(q)&&i(q.value))return H;or(q)&&q.isUnary()&&q.op==="-"&&(q=q.args[0],T=new g("-","subtract",[H,q]))}if(T.op==="-")return or(q)&&q.isUnary()&&q.op==="-"?F(new g("+","add",[H,q.args[0]]),B):vt(H)&&i(H.value)?F(new g("-","unaryMinus",[q])):vt(q)&&i(q.value)?H:new g(T.op,T.fn,[H,q]);if(T.op==="*"){if(vt(H)){if(i(H.value))return y;if(n(H.value,1))return q}if(vt(q)){if(i(q.value))return y;if(n(q.value,1))return H;if(E(T,k))return new g(T.op,T.fn,[q,H],T.implicit)}return new g(T.op,T.fn,[H,q],T.implicit)}if(T.op==="/")return vt(H)&&i(H.value)?y:vt(q)&&n(q.value,1)?H:new g(T.op,T.fn,[H,q]);if(T.op==="^"&&vt(q)){if(i(q.value))return D;if(n(q.value,1))return H}if(T.op==="and"){if(vt(H))if(H.value){if(w(q))return q}else return x;if(vt(q))if(q.value){if(w(H))return H}else return x}if(T.op==="or"){if(vt(H)){if(H.value)return b;if(w(q))return q}if(vt(q)){if(q.value)return b;if(w(H))return H}}return new g(T.op,T.fn,[H,q])}if(or(T))return new g(T.op,T.fn,T.args.map(oe=>F(oe,B)));if(sn(T))return new f(T.items.map(oe=>F(oe,B)));if(jn(T))return new l(F(T.object,B),F(T.index,B));if(oi(T))return new h(T.dimensions.map(oe=>F(oe,B)));if(za(T)){var ne={};for(var be in T.properties)ne[be]=F(T.properties[be],B);return new d(ne)}return T}return e(Dk,{Node:F,"Node,Object":F})});var pY="resolve",dY=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],Bb=S(pY,dY,r=>{var{typed:e,parse:t,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=r;function c(u,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!s)return u;if(Yt(u)){if(l.has(u.name)){var f=Array.from(l).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var m=s.get(u.name);if(yt(m)){var p=new Set(l);return p.add(u.name),c(m,s,p)}else return typeof m=="number"?t(String(m)):m!==void 0?new n(m):u}else if(or(u)){var h=u.args.map(function(g){return c(g,s,l)});return new a(u.op,u.fn,h,u.implicit)}else{if(un(u))return new o(c(u.content,s,l));if(An(u)){var d=u.args.map(function(g){return c(g,s,l)});return new i(u.name,d)}}return u.map(g=>c(g,s,l))}return e("resolve",{Node:c,"Node, Map | null | undefined":c,"Node, Object":(u,s)=>c(u,da(s)),"Array | Matrix":e.referToSelf(u=>s=>s.map(l=>u(l))),"Array | Matrix, null | undefined":e.referToSelf(u=>s=>s.map(l=>u(l))),"Array, Object":e.referTo("Array,Map",u=>(s,l)=>u(s,da(l))),"Matrix, Object":e.referTo("Matrix,Map",u=>(s,l)=>u(s,da(l))),"Array | Matrix, Map":e.referToSelf(u=>(s,l)=>s.map(f=>u(f,l)))})});var wk="symbolicEqual",hY=["parse","simplify","typed","OperatorNode"],Ob=S(wk,hY,r=>{var{parse:e,simplify:t,typed:n,OperatorNode:i}=r;function a(o,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new i("-","subtract",[o,c]),l=t(s,{},u);return vt(l)&&!l.value}return n(wk,{"Node, Node":a,"Node, Node, Object":a})});var Ek="derivative",gY=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],kb=S(Ek,gY,r=>{var{typed:e,config:t,parse:n,simplify:i,equal:a,isZero:o,numeric:c,ConstantNode:u,FunctionNode:s,OperatorNode:l,ParenthesisNode:f,SymbolNode:m}=r;function p(D,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},w={};g(w,D,b.name);var A=v(D,w);return x.simplify?i(A):A}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var h=e(Ek,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),h._simplify=!0,h.toTex=function(D){return d.apply(null,D.args)};var d=e("_derivTex",{"Node, SymbolNode":function(b,x){return vt(b)&&Dt(b.value)==="string"?d(n(b.value).toString(),x.toString(),1):d(b.toTex(),x.toString(),1)},"Node, ConstantNode":function(b,x){if(Dt(x.value)==="string")return d(b,n(x.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(b,x,w){return d(b.toString(),x.name,w.value)},"string, string, number":function(b,x,w){var A;return w===1?A="{d\\over d"+x+"}":A="{d^{"+w+"}\\over d"+x+"^{"+w+"}}",A+"\\left[".concat(b,"\\right]")}}),g=e("constTag",{"Object, ConstantNode, string":function(b,x){return b[x]=!0,!0},"Object, SymbolNode, string":function(b,x,w){return x.name!==w?(b[x]=!0,!0):!1},"Object, ParenthesisNode, string":function(b,x,w){return g(b,x.content,w)},"Object, FunctionAssignmentNode, string":function(b,x,w){return x.params.indexOf(w)===-1?(b[x]=!0,!0):g(b,x.expr,w)},"Object, FunctionNode | OperatorNode, string":function(b,x,w){if(x.args.length>0){for(var A=g(b,x.args[0],w),E=1;E<x.args.length;++E)A=g(b,x.args[E],w)&&A;if(A)return b[x]=!0,!0}return!1}}),v=e("_derivative",{"ConstantNode, Object":function(b){return y(0)},"SymbolNode, Object":function(b,x){return x[b]!==void 0?y(0):y(1)},"ParenthesisNode, Object":function(b,x){return new f(v(b.content,x))},"FunctionAssignmentNode, Object":function(b,x){return x[b]!==void 0?y(0):v(b.expr,x)},"FunctionNode, Object":function(b,x){if(b.args.length!==1&&C(b),x[b]!==void 0)return y(0);var w=b.args[0],A,E=!1,F=!1,M;switch(b.name){case"cbrt":E=!0,M=new l("*","multiply",[y(3),new l("^","pow",[w,new l("/","divide",[y(2),y(3)])])]);break;case"sqrt":case"nthRoot":if(b.args.length===1)E=!0,M=new l("*","multiply",[y(2),new s("sqrt",[w])]);else if(b.args.length===2)return A=new l("/","divide",[y(1),b.args[1]]),x[A]=x[b.args[1]],v(new l("^","pow",[w,A]),x);break;case"log10":A=y(10);case"log":if(!A&&b.args.length===1)M=w.clone(),E=!0;else if(b.args.length===1&&A||b.args.length===2&&x[b.args[1]]!==void 0)M=new l("*","multiply",[w.clone(),new s("log",[A||b.args[1]])]),E=!0;else if(b.args.length===2)return v(new l("/","divide",[new s("log",[w]),new s("log",[b.args[1]])]),x);break;case"pow":return x[A]=x[b.args[1]],v(new l("^","pow",[w,b.args[1]]),x);case"exp":M=new s("exp",[w.clone()]);break;case"sin":M=new s("cos",[w.clone()]);break;case"cos":M=new l("-","unaryMinus",[new s("sin",[w.clone()])]);break;case"tan":M=new l("^","pow",[new s("sec",[w.clone()]),y(2)]);break;case"sec":M=new l("*","multiply",[b,new s("tan",[w.clone()])]);break;case"csc":F=!0,M=new l("*","multiply",[b,new s("cot",[w.clone()])]);break;case"cot":F=!0,M=new l("^","pow",[new s("csc",[w.clone()]),y(2)]);break;case"asin":E=!0,M=new s("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])])]);break;case"acos":E=!0,F=!0,M=new s("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])])]);break;case"atan":E=!0,M=new l("+","add",[new l("^","pow",[w.clone(),y(2)]),y(1)]);break;case"asec":E=!0,M=new l("*","multiply",[new s("abs",[w.clone()]),new s("sqrt",[new l("-","subtract",[new l("^","pow",[w.clone(),y(2)]),y(1)])])]);break;case"acsc":E=!0,F=!0,M=new l("*","multiply",[new s("abs",[w.clone()]),new s("sqrt",[new l("-","subtract",[new l("^","pow",[w.clone(),y(2)]),y(1)])])]);break;case"acot":E=!0,F=!0,M=new l("+","add",[new l("^","pow",[w.clone(),y(2)]),y(1)]);break;case"sinh":M=new s("cosh",[w.clone()]);break;case"cosh":M=new s("sinh",[w.clone()]);break;case"tanh":M=new l("^","pow",[new s("sech",[w.clone()]),y(2)]);break;case"sech":F=!0,M=new l("*","multiply",[b,new s("tanh",[w.clone()])]);break;case"csch":F=!0,M=new l("*","multiply",[b,new s("coth",[w.clone()])]);break;case"coth":F=!0,M=new l("^","pow",[new s("csch",[w.clone()]),y(2)]);break;case"asinh":E=!0,M=new s("sqrt",[new l("+","add",[new l("^","pow",[w.clone(),y(2)]),y(1)])]);break;case"acosh":E=!0,M=new s("sqrt",[new l("-","subtract",[new l("^","pow",[w.clone(),y(2)]),y(1)])]);break;case"atanh":E=!0,M=new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])]);break;case"asech":E=!0,F=!0,M=new l("*","multiply",[w.clone(),new s("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])])])]);break;case"acsch":E=!0,F=!0,M=new l("*","multiply",[new s("abs",[w.clone()]),new s("sqrt",[new l("+","add",[new l("^","pow",[w.clone(),y(2)]),y(1)])])]);break;case"acoth":E=!0,F=!0,M=new l("-","subtract",[y(1),new l("^","pow",[w.clone(),y(2)])]);break;case"abs":M=new l("/","divide",[new s(new m("abs"),[w.clone()]),w.clone()]);break;case"gamma":default:throw new Error('Function "'+b.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var B,k;E?(B="/",k="divide"):(B="*",k="multiply");var P=v(w,x);return F&&(P=new l("-","unaryMinus",[P])),new l(B,k,[P,M])},"OperatorNode, Object":function(b,x){if(x[b]!==void 0)return y(0);if(b.op==="+")return new l(b.op,b.fn,b.args.map(function(T){return v(T,x)}));if(b.op==="-"){if(b.isUnary())return new l(b.op,b.fn,[v(b.args[0],x)]);if(b.isBinary())return new l(b.op,b.fn,[v(b.args[0],x),v(b.args[1],x)])}if(b.op==="*"){var w=b.args.filter(function(T){return x[T]!==void 0});if(w.length>0){var A=b.args.filter(function(T){return x[T]===void 0}),E=A.length===1?A[0]:new l("*","multiply",A),F=w.concat(v(E,x));return new l("*","multiply",F)}return new l("+","add",b.args.map(function(T){return new l("*","multiply",b.args.map(function(I){return I===T?v(I,x):I.clone()}))}))}if(b.op==="/"&&b.isBinary()){var M=b.args[0],B=b.args[1];return x[B]!==void 0?new l("/","divide",[v(M,x),B]):x[M]!==void 0?new l("*","multiply",[new l("-","unaryMinus",[M]),new l("/","divide",[v(B,x),new l("^","pow",[B.clone(),y(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[v(M,x),B.clone()]),new l("*","multiply",[M.clone(),v(B,x)])]),new l("^","pow",[B.clone(),y(2)])])}if(b.op==="^"&&b.isBinary()){var k=b.args[0],P=b.args[1];if(x[k]!==void 0)return vt(k)&&(o(k.value)||a(k.value,1))?y(0):new l("*","multiply",[b,new l("*","multiply",[new s("log",[k.clone()]),v(P.clone(),x)])]);if(x[P]!==void 0){if(vt(P)){if(o(P.value))return y(0);if(a(P.value,1))return v(k,x)}var R=new l("^","pow",[k.clone(),new l("-","subtract",[P,y(1)])]);return new l("*","multiply",[P.clone(),new l("*","multiply",[v(k,x),R])])}return new l("*","multiply",[new l("^","pow",[k.clone(),P.clone()]),new l("+","add",[new l("*","multiply",[v(k,x),new l("/","divide",[P.clone(),k.clone()])]),new l("*","multiply",[v(P,x),new s("log",[k.clone()])])])])}throw new Error('Operator "'+b.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function C(D){if(!((D.name==="log"||D.name==="nthRoot"||D.name==="pow")&&D.args.length===2)){for(var b=0;b<D.args.length;++b)D.args[b]=y(0);throw D.compile().evaluate(),new Error('Function "'+D.name+'" is not supported by derivative, or a wrong number of arguments is passed')}}function y(D,b){return new u(c(D,b||t.number))}return h});var Ck="rationalize",vY=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Pb=S(Ck,vY,r=>{var{config:e,typed:t,equal:n,isZero:i,add:a,subtract:o,multiply:c,divide:u,pow:s,parse:l,simplifyConstant:f,simplifyCore:m,simplify:p,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:C,ArrayNode:y,ConstantNode:D,FunctionNode:b,IndexNode:x,ObjectNode:w,OperatorNode:A,SymbolNode:E,ParenthesisNode:F}=r;function M(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=k(),J=B(T,I,!0,O.firstRules),$=J.variables.length,H={exactFractions:!1},q={exactFractions:!0};if(T=J.expression,$>=1){T=P(T);var ne,be,oe=!0,ue=!1;T=p(T,O.firstRules,{},H);for(var me;be=oe?O.distrDivRules:O.sucDivRules,T=p(T,be,{},q),oe=!oe,me=T.toString(),me!==ne;)ue=!0,ne=me;ue&&(T=p(T,O.firstRulesAgain,{},H)),T=p(T,O.finalRules,{},H)}var se=[],ce={};return T.type==="OperatorNode"&&T.isBinary()&&T.op==="/"?($===1&&(T.args[0]=R(T.args[0],se),T.args[1]=R(T.args[1])),V&&(ce.numerator=T.args[0],ce.denominator=T.args[1])):($===1&&(T=R(T,se)),V&&(ce.numerator=T,ce.denominator=null)),V?(ce.coefficients=se,ce.variables=J.variables,ce.expression=T,ce):T}return t(Ck,{Node:M,"Node, boolean":(T,I)=>M(T,{},I),"Node, Object":M,"Node, Object, boolean":M});function B(T,I,V,O){var J=[],$=p(T,O,I,{exactFractions:!1});V=!!V;var H="+-*"+(V?"/":"");ne($);var q={};return q.expression=$,q.variables=J,q;function ne(be){var oe=be.type;if(oe==="FunctionNode")throw new Error("There is an unsolved function call");if(oe==="OperatorNode")if(be.op==="^"){if(be.args[1].type!=="ConstantNode"||!We(parseFloat(be.args[1].value)))throw new Error("There is a non-integer exponent");ne(be.args[0])}else{if(H.indexOf(be.op)===-1)throw new Error("Operator "+be.op+" invalid in polynomial expression");for(var ue=0;ue<be.args.length;ue++)ne(be.args[ue])}else if(oe==="SymbolNode"){var me=be.name,se=J.indexOf(me);se===-1&&J.push(me)}else if(oe==="ParenthesisNode")ne(be.content);else if(oe!=="ConstantNode")throw new Error("type "+oe+" is not allowed in polynomial expression")}}function k(){var T=[m,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],I=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],V=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],O=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],J={};return J.firstRules=T.concat(I,O),J.distrDivRules=V,J.sucDivRules=O,J.firstRulesAgain=T.concat(I),J.finalRules=[m,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],J}function P(T,I,V){var O=T.type,J=arguments.length>1;if(O==="OperatorNode"&&T.isBinary()){var $=!1,H;if(T.op==="^"&&(T.args[0].type==="ParenthesisNode"||T.args[0].type==="OperatorNode")&&T.args[1].type==="ConstantNode"&&(H=parseFloat(T.args[1].value),$=H>=2&&We(H)),$){if(H>2){var q=T.args[0],ne=new A("^","pow",[T.args[0].cloneDeep(),new D(H-1)]);T=new A("*","multiply",[q,ne])}else T=new A("*","multiply",[T.args[0],T.args[0].cloneDeep()]);J&&(V==="content"?I.content=T:I.args[V]=T)}}if(O==="ParenthesisNode")P(T.content,T,"content");else if(O!=="ConstantNode"&&O!=="SymbolNode")for(var be=0;be<T.args.length;be++)P(T.args[be],T,be);if(!J)return T}function R(T,I){I===void 0&&(I=[]),I[0]=0;var V={};V.cte=1,V.oper="+",V.fire="";var O=0,J="";me(T,null,V),O=I.length-1;for(var $=!0,H,q=O;q>=0;q--)if(I[q]!==0){var ne=new D($?I[q]:Math.abs(I[q])),be=I[q]<0?"-":"+";if(q>0){var oe=new E(J);if(q>1){var ue=new D(q);oe=new A("^","pow",[oe,ue])}I[q]===-1&&$?ne=new A("-","unaryMinus",[oe]):Math.abs(I[q])===1?ne=oe:ne=new A("*","multiply",[ne,oe])}$?H=ne:be==="+"?H=new A("+","add",[H,ne]):H=new A("-","subtract",[H,ne]),$=!1}if($)return new D(0);return H;function me(se,ce,pe){var ge=se.type;if(ge==="FunctionNode")throw new Error("There is an unsolved function call");if(ge==="OperatorNode"){if("+-*^".indexOf(se.op)===-1)throw new Error("Operator "+se.op+" invalid");if(ce!==null){if((se.fn==="unaryMinus"||se.fn==="pow")&&ce.fn!=="add"&&ce.fn!=="subtract"&&ce.fn!=="multiply")throw new Error("Invalid "+se.op+" placing");if((se.fn==="subtract"||se.fn==="add"||se.fn==="multiply")&&ce.fn!=="add"&&ce.fn!=="subtract")throw new Error("Invalid "+se.op+" placing");if((se.fn==="subtract"||se.fn==="add"||se.fn==="unaryMinus")&&pe.noFil!==0)throw new Error("Invalid "+se.op+" placing")}(se.op==="^"||se.op==="*")&&(pe.fire=se.op);for(var Re=0;Re<se.args.length;Re++)se.fn==="unaryMinus"&&(pe.oper="-"),(se.op==="+"||se.fn==="subtract")&&(pe.fire="",pe.cte=1,pe.oper=Re===0?"+":se.op),pe.noFil=Re,me(se.args[Re],se,pe)}else if(ge==="SymbolNode"){if(se.name!==J&&J!=="")throw new Error("There is more than one variable");if(J=se.name,ce===null){I[1]=1;return}if(ce.op==="^"&&pe.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ce.op==="*"&&pe.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(pe.fire===""||pe.fire==="*")&&(O<1&&(I[1]=0),I[1]+=pe.cte*(pe.oper==="+"?1:-1),O=Math.max(1,O))}else if(ge==="ConstantNode"){var Ee=parseFloat(se.value);if(ce===null){I[0]=Ee;return}if(ce.op==="^"){if(pe.noFil!==1)throw new Error("Constant cannot be powered");if(!We(Ee)||Ee<=0)throw new Error("Non-integer exponent is not allowed");for(var z=O+1;z<Ee;z++)I[z]=0;Ee>O&&(I[Ee]=0),I[Ee]+=pe.cte*(pe.oper==="+"?1:-1),O=Math.max(Ee,O);return}pe.cte=Ee,pe.fire===""&&(I[0]+=pe.cte*(pe.oper==="+"?1:-1))}else throw new Error("Type "+ge+" is not allowed")}}});var Fk="zpk2tf",yY=["typed","add","multiply","Complex","number"],Rb=S(Fk,yY,r=>{var{typed:e,add:t,multiply:n,Complex:i,number:a}=r;return e(Fk,{"Array,Array,number":function(s,l,f){return o(s,l,f)},"Array,Array":function(s,l){return o(s,l,1)},"Matrix,Matrix,number":function(s,l,f){return o(s.valueOf(),l.valueOf(),f)},"Matrix,Matrix":function(s,l){return o(s.valueOf(),l.valueOf(),1)}});function o(u,s,l){u.some(C=>C.type==="BigNumber")&&(u=u.map(C=>a(C))),s.some(C=>C.type==="BigNumber")&&(s=s.map(C=>a(C)));for(var f=[i(1,0)],m=[i(1,0)],p=0;p<u.length;p++){var h=u[p];typeof h=="number"&&(h=i(h,0)),f=c(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<s.length;d++){var g=s[d];typeof g=="number"&&(g=i(g,0)),m=c(m,[i(1,0),i(-g.re,-g.im)])}for(var v=0;v<f.length;v++)f[v]=n(f[v],l);return[f,m]}function c(u,s){for(var l=[],f=0;f<u.length+s.length-1;f++){l[f]=i(0,0);for(var m=0;m<u.length;m++)f-m>=0&&f-m<s.length&&(l[f]=t(l[f],n(u[m],s[f-m])))}return l}});var Ak="freqz",bY=["typed","add","multiply","Complex","divide","matrix"],Lb=S(Ak,bY,r=>{var{typed:e,add:t,multiply:n,Complex:i,divide:a,matrix:o}=r;return e(Ak,{"Array, Array":function(l,f){var m=u(512);return c(l,f,m)},"Array, Array, Array":function(l,f,m){return c(l,f,m)},"Array, Array, number":function(l,f,m){if(m<0)throw new Error("w must be a positive number");var p=u(m);return c(l,f,p)},"Matrix, Matrix":function(l,f){var m=u(512),{w:p,h}=c(l.valueOf(),f.valueOf(),m);return{w:o(p),h:o(h)}},"Matrix, Matrix, Matrix":function(l,f,m){var{h:p}=c(l.valueOf(),f.valueOf(),m.valueOf());return{h:o(p),w:o(m)}},"Matrix, Matrix, number":function(l,f,m){if(m<0)throw new Error("w must be a positive number");var p=u(m),{h}=c(l.valueOf(),f.valueOf(),p);return{h:o(h),w:o(p)}}});function c(s,l,f){for(var m=[],p=[],h=0;h<f.length;h++){for(var d=i(0,0),g=i(0,0),v=0;v<s.length;v++)d=t(d,n(s[v],i(Math.cos(-v*f[h]),Math.sin(-v*f[h]))));for(var C=0;C<l.length;C++)g=t(g,n(l[C],i(Math.cos(-C*f[h]),Math.sin(-C*f[h]))));m.push(d),p.push(g)}for(var y=[],D=0;D<m.length;D++)y.push(a(m[D],p[D]));return{h:y,w:f}}function u(s){for(var l=[],f=0;f<s;f++)l.push(f/s*Math.PI);return l}});var xY="reviver",DY=["classes"],qb=S(xY,DY,r=>{var{classes:e}=r;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var wY="replacer",EY=[],Vb=S(wY,EY,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t});var Sk="12.0.0";var Ub=S("true",[],()=>!0),zb=S("false",[],()=>!1),Hb=S("null",[],()=>null),Wb=Yn("Infinity",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1/0):1/0}),Gb=Yn("NaN",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(NaN):NaN}),jb=Yn("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?el(t):uS}),Zb=Yn("tau",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?MN(t):lS}),Yb=Yn("e",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?_N(t):cS}),Jb=Yn("phi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?NN(t):fS}),Xb=Yn("LN2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),Qb=Yn("LN10",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),Kb=Yn("LOG2E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),$b=Yn("LOG10E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),ex=Yn("SQRT1_2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),tx=Yn("SQRT2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),rx=Yn("i",["Complex"],r=>{var{Complex:e}=r;return e.I});var nx=S("version",[],()=>Sk);function Yn(r,e,t){return S(r,e,t,{recreateOnConfigChange:!0})}var ix=xt("speedOfLight","299792458","m s^-1"),ax=xt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),ox=xt("planckConstant","6.62607015e-34","J s"),sx=xt("reducedPlanckConstant","1.0545718176461565e-34","J s"),ux=xt("magneticConstant","1.25663706212e-6","N A^-2"),lx=xt("electricConstant","8.8541878128e-12","F m^-1"),cx=xt("vacuumImpedance","376.730313667","ohm"),fx=xt("coulomb","8.987551792261171e9","N m^2 C^-2"),mx=xt("elementaryCharge","1.602176634e-19","C"),px=xt("bohrMagneton","9.2740100783e-24","J T^-1"),dx=xt("conductanceQuantum","7.748091729863649e-5","S"),hx=xt("inverseConductanceQuantum","12906.403729652257","ohm"),gx=xt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),vx=xt("nuclearMagneton","5.0507837461e-27","J T^-1"),yx=xt("klitzing","25812.807459304513","ohm");var bx=xt("bohrRadius","5.29177210903e-11","m"),xx=xt("classicalElectronRadius","2.8179403262e-15","m"),Dx=xt("electronMass","9.1093837015e-31","kg"),wx=xt("fermiCoupling","1.1663787e-5","GeV^-2"),Ex=bm("fineStructure",.0072973525693),Cx=xt("hartreeEnergy","4.3597447222071e-18","J"),Fx=xt("protonMass","1.67262192369e-27","kg"),Ax=xt("deuteronMass","3.3435830926e-27","kg"),Sx=xt("neutronMass","1.6749271613e-27","kg"),_x=xt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Nx=xt("rydberg","10973731.568160","m^-1"),Mx=xt("thomsonCrossSection","6.6524587321e-29","m^2"),Tx=bm("weakMixingAngle",.2229),Ix=bm("efimovFactor",22.7),Bx=xt("atomicMass","1.66053906660e-27","kg"),Ox=xt("avogadro","6.02214076e23","mol^-1"),kx=xt("boltzmann","1.380649e-23","J K^-1"),Px=xt("faraday","96485.33212331001","C mol^-1"),Rx=xt("firstRadiation","3.7417718521927573e-16","W m^2"),Lx=xt("loschmidt","2.686780111798444e25","m^-3"),qx=xt("gasConstant","8.31446261815324","J K^-1 mol^-1"),Vx=xt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),Ux=xt("molarVolume","0.022413969545014137","m^3 mol^-1"),zx=bm("sackurTetrode",-1.16487052358),Hx=xt("secondRadiation","0.014387768775039337","m K"),Wx=xt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Gx=xt("wienDisplacement","2.897771955e-3","m K"),jx=xt("molarMass","0.99999999965e-3","kg mol^-1"),Zx=xt("molarMassC12","11.9999999958e-3","kg mol^-1"),Yx=xt("gravity","9.80665","m s^-2"),Jx=xt("planckLength","1.616255e-35","m"),Xx=xt("planckMass","2.176435e-8","kg"),Qx=xt("planckTime","5.391245e-44","s"),Kx=xt("planckCharge","1.87554603778e-18","C"),$x=xt("planckTemperature","1.416785e+32","K");function xt(r,e,t){var n=["config","Unit","BigNumber"];return S(r,n,i=>{var{config:a,Unit:o,BigNumber:c}=i,u=a.number==="BigNumber"?new c(e):parseFloat(e),s=new o(u,t);return s.fixPrefix=!0,s})}function bm(r,e){var t=["config","BigNumber"];return S(r,t,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var CY="apply",FY=["typed","isInteger"],eD=S(CY,FY,r=>{var{typed:e,isInteger:t}=r,n=Bo({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];it(o)?a[1]=o-1:nt(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(c){throw Qt(c)}}})},{isTransformFunction:!0});var AY="column",SY=["typed","Index","matrix","range"],tD=S(AY,SY,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=Gu({typed:e,Index:t,matrix:n,range:i});return e("column",{"...any":function(c){var u=c.length-1,s=c[u];it(s)&&(c[u]=s-1);try{return a.apply(null,c)}catch(l){throw Qt(l)}}})},{isTransformFunction:!0});function qs(r,e,t){var n=r.filter(function(c){return Yt(c)&&!(c.name in e)&&!t.has(c.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+r+'"');var i=n.name,a=ko(t),o=r.compile();return function(u){return a.set(i,u),o.evaluate(a)}}var _Y="filter",NY=["typed"],rD=S(_Y,NY,r=>{var{typed:e}=r;function t(i,a,o){var c,u;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(Yt(i[1])||Zi(i[1])?u=i[1].compile().evaluate(o):u=qs(i[1],a,o)),n(c,u)}t.rawArgs=!0;var n=e("filter",{"Array, function":_k,"Matrix, function":function(a,o){return a.create(_k(a.toArray(),o))},"Array, RegExp":Cs,"Matrix, RegExp":function(a,o){return a.create(Cs(a.toArray(),o))}});return t},{isTransformFunction:!0});function _k(r,e){return bf(r,function(t,n,i){return ci(e,t,[n+1],i,"filter")})}var MY="forEach",TY=["typed"],nD=S(MY,TY,r=>{var{typed:e}=r;function t(i,a,o){var c,u;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(Yt(i[1])||Zi(i[1])?u=i[1].compile().evaluate(o):u=qs(i[1],a,o)),n(c,u)}t.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var c=function u(s,l){if(Array.isArray(s))Ha(s,function(f,m){u(f,l.concat(m+1))});else return ci(o,s,l,a,"forEach")};c(a.valueOf(),[])}});return t},{isTransformFunction:!0});var IY="index",BY=["Index","getMatrixDataType"],iD=S(IY,BY,r=>{var{Index:e,getMatrixDataType:t}=r;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var c=arguments[a];if(Ds(c))c.start--,c.end-=c.step>0?0:2;else if(c&&c.isSet===!0)c=c.map(function(s){return s-1});else if(Et(c)||Ge(c))t(c)!=="boolean"&&(c=c.map(function(s){return s-1}));else if(it(c))c--;else if(nt(c))c=c.toNumber()-1;else if(typeof c!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=c}var u=new e;return e.apply(u,i),u}},{isTransformFunction:!0});var OY="map",kY=["typed"],aD=S(OY,kY,r=>{var{typed:e}=r;function t(i,a,o){var c,u;return i[0]&&(c=i[0].compile().evaluate(o)),i[1]&&(Yt(i[1])||Zi(i[1])?u=i[1].compile().evaluate(o):u=qs(i[1],a,o)),n(c,u)}t.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return Nk(a,o,a)},"Matrix, function":function(a,o){return a.create(Nk(a.valueOf(),o,a))}});return t},{isTransformFunction:!0});function Nk(r,e,t){function n(i,a){return Array.isArray(i)?Bn(i,function(o,c){return n(o,a.concat(c+1))}):ci(e,i,a,t,"map")}return n(r,[])}function gn(r){if(r.length===2&&Fn(r[0])){r=r.slice();var e=r[1];it(e)?r[1]=e-1:nt(e)&&(r[1]=e.minus(1))}return r}var PY="max",RY=["typed","config","numeric","larger"],oD=S(PY,RY,r=>{var{typed:e,config:t,numeric:n,larger:i}=r,a=Ku({typed:e,config:t,numeric:n,larger:i});return e("max",{"...any":function(c){c=gn(c);try{return a.apply(null,c)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var LY="mean",qY=["typed","add","divide"],sD=S(LY,qY,r=>{var{typed:e,add:t,divide:n}=r,i=il({typed:e,add:t,divide:n});return e("mean",{"...any":function(o){o=gn(o);try{return i.apply(null,o)}catch(c){throw Qt(c)}}})},{isTransformFunction:!0});var VY="min",UY=["typed","config","numeric","smaller"],uD=S(VY,UY,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r,a=$u({typed:e,config:t,numeric:n,smaller:i});return e("min",{"...any":function(c){c=gn(c);try{return a.apply(null,c)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var zY="range",HY=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],lD=S(zY,HY,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:u,add:s,isPositive:l}=r,f=Yu({typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:c,largerEq:u,add:s,isPositive:l});return e("range",{"...any":function(p){var h=p.length-1,d=p[h];return typeof d!="boolean"&&p.push(!0),f.apply(null,p)}})},{isTransformFunction:!0});var WY="row",GY=["typed","Index","matrix","range"],cD=S(WY,GY,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=Ju({typed:e,Index:t,matrix:n,range:i});return e("row",{"...any":function(c){var u=c.length-1,s=c[u];it(s)&&(c[u]=s-1);try{return a.apply(null,c)}catch(l){throw Qt(l)}}})},{isTransformFunction:!0});var jY="subset",ZY=["typed","matrix","zeros","add"],fD=S(jY,ZY,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Xu({typed:e,matrix:t,zeros:n,add:i});return e("subset",{"...any":function(c){try{return a.apply(null,c)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var YY="concat",JY=["typed","matrix","isInteger"],mD=S(YY,JY,r=>{var{typed:e,matrix:t,isInteger:n}=r,i=Wu({typed:e,matrix:t,isInteger:n});return e("concat",{"...any":function(o){var c=o.length-1,u=o[c];it(u)?o[c]=u-1:nt(u)&&(o[c]=u.minus(1));try{return i.apply(null,o)}catch(s){throw Qt(s)}}})},{isTransformFunction:!0});var Mk="diff",XY=["typed","matrix","subtract","number","bignumber"],pD=S(Mk,XY,r=>{var{typed:e,matrix:t,subtract:n,number:i,bignumber:a}=r,o=Zu({typed:e,matrix:t,subtract:n,number:i,bignumber:a});return e(Mk,{"...any":function(u){u=gn(u);try{return o.apply(null,u)}catch(s){throw Qt(s)}}})},{isTransformFunction:!0});var QY="std",KY=["typed","map","sqrt","variance"],dD=S(QY,KY,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r,a=sl({typed:e,map:t,sqrt:n,variance:i});return e("std",{"...any":function(c){c=gn(c);try{return a.apply(null,c)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var Tk="sum",$Y=["typed","config","add","numeric"],hD=S(Tk,$Y,r=>{var{typed:e,config:t,add:n,numeric:i}=r,a=rl({typed:e,config:t,add:n,numeric:i});return e(Tk,{"...any":function(c){c=gn(c);try{return a.apply(null,c)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var eJ="quantileSeq",tJ=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],gD=S(eJ,tJ,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:u,isInteger:s,smaller:l,smallerEq:f,larger:m}=r,p=ol({typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:c,compare:u,isInteger:s,smaller:l,smallerEq:f,larger:m});return e("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(d,g,v)=>p(d,g,h(v)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(d,g,v,C)=>p(d,g,v,h(C)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(d,g,v)=>p(d,g,h(v)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(d,g,v,C)=>p(d,g,v,h(C))});function h(d){return gn([[],d])[1]}},{isTransformFunction:!0});var Ik="cumsum",rJ=["typed","add","unaryPlus"],vD=S(Ik,rJ,r=>{var{typed:e,add:t,unaryPlus:n}=r,i=nl({typed:e,add:t,unaryPlus:n});return e(Ik,{"...any":function(o){if(o.length===2&&Fn(o[0])){var c=o[1];it(c)?o[1]=c-1:nt(c)&&(o[1]=c.minus(1))}try{return i.apply(null,o)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var Bk="variance",nJ=["typed","add","subtract","multiply","divide","apply","isNaN"],yD=S(Bk,nJ,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:c}=r,u=al({typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:c});return e(Bk,{"...any":function(l){l=gn(l);try{return u.apply(null,l)}catch(f){throw Qt(f)}}})},{isTransformFunction:!0});var Ok="print",iJ=["typed","matrix","zeros","add"],bD=S(Ok,iJ,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Qu({typed:e,matrix:t,zeros:n,add:i});return e(Ok,{"string, Object | Array":function(u,s){return a(o(u),s)},"string, Object | Array, number | Object":function(u,s,l){return a(o(u),s,l)}});function o(c){return c.replace(Vf,u=>{var s=u.slice(1).split("."),l=s.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+l.join(".")})}},{isTransformFunction:!0});var ze=Rh({config:Ce}),Kt=qh({}),xD=Yb({BigNumber:ze,config:Ce}),kk=zb({}),Pk=Ex({BigNumber:ze,config:Ce}),$a=Uh({}),DD=rx({Complex:Kt}),Rk=Wb({BigNumber:ze,config:Ce}),Lk=Qb({BigNumber:ze,config:Ce}),qk=$b({BigNumber:ze,config:Ce}),cl=Hh({}),Vk=Gb({BigNumber:ze,config:Ce}),Uk=Hb({}),zk=Jb({BigNumber:ze,config:Ce}),Hk=zh({}),wD=Mh({}),Wk=ex({BigNumber:ze,config:Ce}),Gk=zx({BigNumber:ze,config:Ce}),ED=Zb({BigNumber:ze,config:Ce}),jk=Ub({}),Zk=nx({}),Ft=Wh({Matrix:cl}),Yk=Ix({BigNumber:ze,config:Ce}),Jk=Xb({BigNumber:ze,config:Ce}),xm=jb({BigNumber:ze,config:Ce}),Xk=Vb({}),Qk=tx({BigNumber:ze,config:Ce}),Q=Nh({BigNumber:ze,Complex:Kt,DenseMatrix:Ft,Fraction:$a}),Dm=pv({BigNumber:ze,config:Ce,typed:Q}),Kk=Tx({BigNumber:ze,config:Ce}),vn=dv({typed:Q}),$k=by({Complex:Kt,config:Ce,typed:Q}),e4=Dy({BigNumber:ze,typed:Q}),t4=Ey({BigNumber:ze,Complex:Kt,config:Ce,typed:Q}),kr=hv({typed:Q}),r4=jv({typed:Q}),n4=Ay({BigNumber:ze,Complex:Kt,config:Ce,typed:Q}),i4=_y({typed:Q}),CD=Ny({typed:Q}),a4=Ty({Complex:Kt,config:Ce,typed:Q}),Rn=iv({BigNumber:ze,typed:Q}),o4=Hv({typed:Q}),s4=nv({typed:Q}),u4=Gh({typed:Q}),fl=ab({typed:Q}),ml=av({Complex:Kt,typed:Q}),eo=Zv({typed:Q}),wm=Iy({typed:Q}),l4=Oy({BigNumber:ze,typed:Q}),c4=Py({BigNumber:ze,typed:Q}),f4=xv({typed:Q}),Bt=$g({config:Ce,typed:Q}),m4=C0({typed:Q}),FD=Dv({typed:Q}),p4=wv({Complex:Kt,typed:Q}),d4=r0({typed:Q}),h4=i0({typed:Q}),Vs=_0({typed:Q}),Em=a0({typed:Q}),g4=T0({format:Vs,typed:Q}),Cm=Yv({typed:Q}),Sn=Zh({typed:Q}),xa=jg({typed:Q}),to=Jg({typed:Q}),pi=Xg({typed:Q}),v4=Kb({BigNumber:ze,config:Ce}),y4=ub({Complex:Kt,typed:Q}),b4=Nv({Complex:Kt,config:Ce,typed:Q}),AD=Mv({Complex:Kt,config:Ce,typed:Q}),ro=u0({typed:Q}),yr=Tv({typed:Q}),SD=Xv({typed:Q}),$i=tv({typed:Q}),x4=M0({format:Vs,typed:Q}),D4=xb({config:Ce,typed:Q}),w4=Qu({typed:Q}),E4=Db({config:Ce,typed:Q}),Fm=Jv({typed:Q}),C4=Ly({BigNumber:ze,typed:Q}),_D=Ov({BigNumber:ze,Fraction:$a,complex:ml,typed:Q}),pl=Vy({typed:Q}),ea=ev({Matrix:cl,equalScalar:Bt,typed:Q}),F4=fv({typed:Q}),A4=Pv({typed:Q}),S4=rv({typed:Q}),Jn=gv({typed:Q}),_4=zy({typed:Q}),ND=Kg({typed:Q}),N4=xy({Complex:Kt,config:Ce,typed:Q}),M4=Cy({BigNumber:ze,typed:Q}),Am=Bo({isInteger:Sn,typed:Q}),T4=Fy({BigNumber:ze,Complex:Kt,config:Ce,typed:Q}),I4=N0({format:Vs,typed:Q}),B4=ob({typed:Q}),O4=By({typed:Q}),k4=Ry({BigNumber:ze,typed:Q}),Us=Qg({typed:Q}),P4=B0({typed:Q}),R4=wb({config:Ce,typed:Q}),L4=qy({BigNumber:ze,typed:Q}),q4=Uy({typed:Q}),V4=vy({SparseMatrix:ea,typed:Q}),di=kv({Complex:Kt,config:Ce,typed:Q}),U4=Hy({typed:Q}),Oi=mv({typed:Q}),z4=wy({BigNumber:ze,Complex:Kt,config:Ce,typed:Q}),H4=ky({BigNumber:ze,typed:Q}),Ro=ov({Fraction:$a,typed:Q}),no=Zg({typed:Q}),He=sv({DenseMatrix:Ft,Matrix:cl,SparseMatrix:ea,typed:Q}),W4=uv({isZero:pi,matrix:He,typed:Q}),G4=A0({isNaN:Us,isNumeric:no,typed:Q}),hi=O0({bignumber:Rn,fraction:Ro,number:$i}),MD=S0({config:Ce,multiplyScalar:yr,numeric:hi,typed:Q}),TD=c0({isInteger:Sn,matrix:He,typed:Q}),Yr=d0({matrix:He,config:Ce,typed:Q}),j4=h0({matrix:He,typed:Q}),zs=g0({matrix:He,typed:Q}),ID=Lv({BigNumber:ze,config:Ce,matrix:He,typed:Q}),yn=y0({BigNumber:ze,config:Ce,matrix:He,typed:Q}),Z4=Sy({Complex:Kt,config:Ce,typed:Q}),BD=vv({BigNumber:ze,Complex:Kt,Fraction:$a,config:Ce,isNegative:xa,matrix:He,typed:Q,unaryMinus:Oi}),Wt=Wu({isInteger:Sn,matrix:He,typed:Q}),Y4=$v({prod:MD,size:Yr,typed:Q}),Sm=v0({conj:eo,transpose:zs,typed:Q}),OD=t0({DenseMatrix:Ft,SparseMatrix:ea,matrix:He,typed:Q}),pr=k0({numeric:hi,typed:Q}),Hs=z0({DenseMatrix:Ft,concat:Wt,divideScalar:pr,equalScalar:Bt,matrix:He,typed:Q}),Xn=ey({DenseMatrix:Ft,concat:Wt,equalScalar:Bt,matrix:He,typed:Q}),Ws=n0({matrix:He,typed:Q}),J4=Yg({isNumeric:no,typed:Q}),Da=o0({BigNumber:ze,DenseMatrix:Ft,SparseMatrix:ea,config:Ce,matrix:He,typed:Q}),X4=s0({matrix:He,multiplyScalar:yr,typed:Q}),dl=ay({DenseMatrix:Ft,concat:Wt,config:Ce,matrix:He,typed:Q}),Q4=Z0({DenseMatrix:Ft,concat:Wt,equalScalar:Bt,matrix:He,typed:Q,zeros:yn}),kD=H0({DenseMatrix:Ft,divideScalar:pr,equalScalar:Bt,matrix:He,multiplyScalar:yr,subtractScalar:Jn,typed:Q}),_m=cv({flatten:Ws,matrix:He,size:Yr,typed:Q}),K4=Bv({BigNumber:ze,concat:Wt,equalScalar:Bt,matrix:He,typed:Q}),$4=l0({BigNumber:ze,config:Ce,matrix:He,typed:Q}),Nm=T1({addScalar:kr,complex:ml,conj:eo,divideScalar:pr,equal:Xn,identity:Da,isZero:pi,matrix:He,multiplyScalar:yr,sign:_D,sqrt:di,subtractScalar:Jn,typed:Q,unaryMinus:Oi,zeros:yn}),e8=f0({config:Ce,matrix:He}),t8=Y0({DenseMatrix:Ft,concat:Wt,equalScalar:Bt,matrix:He,typed:Q,zeros:yn}),Lo=R0({BigNumber:ze,DenseMatrix:Ft,equalScalar:Bt,matrix:He,typed:Q,zeros:yn}),bn=ry({DenseMatrix:Ft,concat:Wt,config:Ce,matrix:He,typed:Q}),br=Rv({DenseMatrix:Ft,concat:Wt,equalScalar:Bt,matrix:He,subtractScalar:Jn,typed:Q,unaryMinus:Oi}),r8=I0({concat:Wt,matrix:He,typed:Q}),n8=sy({DenseMatrix:Ft,concat:Wt,config:Ce,equalScalar:Bt,matrix:He,typed:Q}),Mm=W0({DenseMatrix:Ft,divideScalar:pr,equalScalar:Bt,matrix:He,multiplyScalar:yr,subtractScalar:Jn,typed:Q}),i8=Kv({DenseMatrix:Ft,concat:Wt,matrix:He,typed:Q}),Ot=e1({DenseMatrix:Ft,SparseMatrix:ea,addScalar:kr,concat:Wt,equalScalar:Bt,matrix:He,typed:Q}),a8=My({BigNumber:ze,DenseMatrix:Ft,concat:Wt,equalScalar:Bt,matrix:He,typed:Q}),o8=zv({concat:Wt,equalScalar:Bt,matrix:He,typed:Q}),s8=Gv({DenseMatrix:Ft,concat:Wt,matrix:He,typed:Q}),u8=Fb({addScalar:kr,combinations:fl,divideScalar:pr,isInteger:Sn,isNegative:xa,multiplyScalar:yr,typed:Q}),io=Q0({BigNumber:ze,DenseMatrix:Ft,Fraction:$a,concat:Wt,config:Ce,equalScalar:Bt,matrix:He,typed:Q}),PD=$0({concat:Wt,matrix:He,typed:Q}),l8=nl({add:Ot,typed:Q,unaryPlus:Dm}),Tm=oy({equal:Xn,typed:Q}),c8=Zu({matrix:He,number:$i,subtract:br,typed:Q}),f8=$1({abs:vn,addScalar:kr,deepEqual:Tm,divideScalar:pr,multiplyScalar:yr,sqrt:di,subtractScalar:Jn,typed:Q}),hl=n1({addScalar:kr,conj:eo,multiplyScalar:yr,size:Yr,typed:Q}),m8=ty({compareText:PD,isZero:pi,typed:Q}),RD=zu({DenseMatrix:Ft,config:Ce,equalScalar:Bt,matrix:He,round:Lo,typed:Q,zeros:yn}),p8=Sv({BigNumber:ze,DenseMatrix:Ft,concat:Wt,config:Ce,equalScalar:Bt,matrix:He,round:Lo,typed:Q,zeros:yn}),d8=t1({abs:vn,addScalar:kr,divideScalar:pr,isPositive:to,multiplyScalar:yr,smaller:bn,sqrt:di,typed:Q}),LD=cy({DenseMatrix:Ft,smaller:bn}),fn=fy({ImmutableDenseMatrix:LD,getMatrixDataType:Em}),xn=iy({DenseMatrix:Ft,concat:Wt,config:Ce,matrix:He,typed:Q}),Im=L0({Complex:Kt,config:Ce,divideScalar:pr,typed:Q}),h8=G0({DenseMatrix:Ft,divideScalar:pr,equalScalar:Bt,matrix:He,multiplyScalar:yr,subtractScalar:Jn,typed:Q}),g8=lv({flatten:Ws,matrix:He,size:Yr,typed:Q}),v8=$u({config:Ce,numeric:hi,smaller:bn,typed:Q}),qD=Hu({DenseMatrix:Ft,concat:Wt,config:Ce,equalScalar:Bt,matrix:He,round:Lo,typed:Q,zeros:yn}),Gt=Iv({addScalar:kr,dot:hl,equalScalar:Bt,matrix:He,multiplyScalar:yr,typed:Q}),y8=V0({Complex:Kt,config:Ce,divideScalar:pr,typed:Q}),b8=Qv({DenseMatrix:Ft,concat:Wt,equalScalar:Bt,matrix:He,typed:Q}),gl=uy({compare:io,isNaN:Us,isNumeric:no,typed:Q}),x8=J0({DenseMatrix:Ft,concat:Wt,equalScalar:Bt,matrix:He,typed:Q,zeros:yn}),VD=B1({SparseMatrix:ea,abs:vn,add:Ot,divideScalar:pr,larger:xn,largerEq:dl,multiply:Gt,subtract:br,transpose:zs,typed:Q}),Ln=Xu({add:Ot,matrix:He,typed:Q,zeros:yn}),Bm=rl({add:Ot,config:Ce,numeric:hi,typed:Q}),D8=i1({add:Ot,matrix:He,typed:Q}),UD=j0({DenseMatrix:Ft,divideScalar:pr,equalScalar:Bt,matrix:He,multiplyScalar:yr,subtractScalar:Jn,typed:Q}),w8=Rb({Complex:Kt,add:Ot,multiply:Gt,number:$i,typed:Q}),E8=Wv({DenseMatrix:Ft,concat:Wt,equalScalar:Bt,matrix:He,typed:Q}),Om=bv({DenseMatrix:Ft,config:Ce,equalScalar:Bt,matrix:He,round:Lo,typed:Q,zeros:yn}),ki=K0({compare:io,typed:Q}),C8=Ab({addScalar:kr,combinations:fl,isInteger:Sn,isNegative:xa,isPositive:to,larger:xn,typed:Q}),F8=e0({matrix:He,multiply:Gt,subtract:br,typed:Q}),zD=H1({divideScalar:pr,isZero:pi,matrix:He,multiply:Gt,subtractScalar:Jn,typed:Q,unaryMinus:Oi}),A8=Vv({concat:Wt,equalScalar:Bt,matrix:He,multiplyScalar:yr,typed:Q}),HD=my({larger:xn,smaller:bn}),WD=Cv({Complex:Kt,DenseMatrix:Ft,ceil:Om,equalScalar:Bt,floor:RD,matrix:He,typed:Q,zeros:yn}),GD=a1({Index:fn,typed:Q}),S8=eb({abs:vn,add:Ot,addScalar:kr,config:Ce,divideScalar:pr,equalScalar:Bt,flatten:Ws,isNumeric:no,isZero:pi,matrix:He,multiply:Gt,multiplyScalar:yr,smaller:bn,subtract:br,typed:Q}),_8=qv({BigNumber:ze,add:Ot,config:Ce,equal:Xn,isInteger:Sn,mod:qD,smaller:bn,typed:Q,xgcd:ID}),N8=_v({concat:Wt,equalScalar:Bt,matrix:He,typed:Q}),M8=q0({Complex:Kt,config:Ce,divideScalar:pr,log:Im,typed:Q}),km=Ku({config:Ce,larger:xn,numeric:hi,typed:Q}),T8=Wy({DenseMatrix:Ft,Index:fn,compareNatural:ki,size:Yr,subset:Ln,typed:Q}),I8=jy({DenseMatrix:Ft,Index:fn,compareNatural:ki,size:Yr,subset:Ln,typed:Q}),B8=Yy({Index:fn,compareNatural:ki,size:Yr,subset:Ln,typed:Q}),O8=Xy({Index:fn,compareNatural:ki,size:Yr,subset:Ln,typed:Q}),qo=ny({DenseMatrix:Ft,concat:Wt,config:Ce,matrix:He,typed:Q}),k8=ly({compare:io,compareNatural:ki,matrix:He,typed:Q}),P8=X0({concat:Wt,equalScalar:Bt,matrix:He,not:SD,typed:Q,zeros:yn}),Vo=Yu({bignumber:Rn,matrix:He,add:Ot,config:Ce,isPositive:to,larger:xn,largerEq:dl,smaller:bn,smallerEq:qo,typed:Q}),R8=Ju({Index:fn,matrix:He,range:Vo,typed:Q}),jD=Gy({DenseMatrix:Ft,Index:fn,compareNatural:ki,size:Yr,subset:Ln,typed:Q}),L8=Jy({Index:fn,compareNatural:ki,size:Yr,subset:Ln,typed:Q}),ZD=Ky({Index:fn,concat:Wt,setDifference:jD,size:Yr,subset:Ln,typed:Q}),YD=py({FibonacciHeap:HD,addScalar:kr,equalScalar:Bt}),JD=Gu({Index:fn,matrix:He,range:Vo,typed:Q}),ao=W1({abs:vn,addScalar:kr,det:zD,divideScalar:pr,identity:Da,matrix:He,multiply:Gt,typed:Q,unaryMinus:Oi}),XD=M1({DenseMatrix:Ft,Spa:YD,SparseMatrix:ea,abs:vn,addScalar:kr,divideScalar:pr,equalScalar:Bt,larger:xn,matrix:He,multiplyScalar:yr,subtractScalar:Jn,typed:Q,unaryMinus:Oi}),q8=G1({Complex:Kt,add:Ot,ctranspose:Sm,deepEqual:Tm,divideScalar:pr,dot:hl,dotDivide:Hs,equal:Xn,inv:ao,matrix:He,multiply:Gt,typed:Q}),Qn=P0({Complex:Kt,config:Ce,fraction:Ro,identity:Da,inv:ao,matrix:He,multiply:Gt,number:$i,typed:Q}),QD=Zy({DenseMatrix:Ft,Index:fn,compareNatural:ki,size:Yr,subset:Ln,typed:Q}),V8=$y({Index:fn,concat:Wt,setIntersect:QD,setSymDifference:ZD,size:Yr,subset:Ln,typed:Q}),U8=Y1({abs:vn,add:Ot,identity:Da,inv:ao,map:ro,max:km,multiply:Gt,size:Yr,sqrt:di,subtract:br,typed:Q}),gt=hy({BigNumber:ze,Complex:Kt,Fraction:$a,abs:vn,addScalar:kr,config:Ce,divideScalar:pr,equal:Xn,fix:WD,format:Vs,isNumeric:no,multiplyScalar:yr,number:$i,pow:Qn,round:Lo,subtractScalar:Jn}),z8=cx({BigNumber:ze,Unit:gt,config:Ce}),H8=Gx({BigNumber:ze,Unit:gt,config:Ce}),W8=Bx({BigNumber:ze,Unit:gt,config:Ce}),G8=px({BigNumber:ze,Unit:gt,config:Ce}),j8=kx({BigNumber:ze,Unit:gt,config:Ce}),Z8=dx({BigNumber:ze,Unit:gt,config:Ce}),Y8=fx({BigNumber:ze,Unit:gt,config:Ce}),J8=Ax({BigNumber:ze,Unit:gt,config:Ce}),X8=U0({DenseMatrix:Ft,concat:Wt,equalScalar:Bt,matrix:He,pow:Qn,typed:Q}),Q8=lx({BigNumber:ze,Unit:gt,config:Ce}),K8=mx({BigNumber:ze,Unit:gt,config:Ce}),$8=Z1({abs:vn,add:Ot,identity:Da,inv:ao,multiply:Gt,typed:Q}),eP=Px({BigNumber:ze,Unit:gt,config:Ce}),KD=b0({addScalar:kr,ceil:Om,conj:eo,divideScalar:pr,dotDivide:Hs,exp:FD,i:DD,log2:AD,matrix:He,multiplyScalar:yr,pow:Qn,tau:ED,typed:Q}),Pm=sb({BigNumber:ze,Complex:Kt,config:Ce,multiplyScalar:yr,pow:Qn,typed:Q}),tP=ax({BigNumber:ze,Unit:gt,config:Ce}),rP=Cx({BigNumber:ze,Unit:gt,config:Ce}),nP=x0({conj:eo,dotDivide:Hs,fft:KD,typed:Q}),iP=yx({BigNumber:ze,Unit:gt,config:Ce}),aP=Lx({BigNumber:ze,Unit:gt,config:Ce}),oP=ux({BigNumber:ze,Unit:gt,config:Ce}),sP=jx({BigNumber:ze,Unit:gt,config:Ce}),uP=Vx({BigNumber:ze,Unit:gt,config:Ce}),lP=Sx({BigNumber:ze,Unit:gt,config:Ce}),cP=vx({BigNumber:ze,Unit:gt,config:Ce}),fP=Kx({BigNumber:ze,Unit:gt,config:Ce}),mP=Jx({BigNumber:ze,Unit:gt,config:Ce}),pP=$x({BigNumber:ze,Unit:gt,config:Ce}),dP=Fx({BigNumber:ze,Unit:gt,config:Ce}),hP=_x({BigNumber:ze,Unit:gt,config:Ce}),gP=sx({BigNumber:ze,Unit:gt,config:Ce}),vP=Nx({BigNumber:ze,Unit:gt,config:Ce}),yP=Hx({BigNumber:ze,Unit:gt,config:Ce}),bP=ix({BigNumber:ze,Unit:gt,config:Ce}),xP=Wx({BigNumber:ze,Unit:gt,config:Ce}),DP=Mx({BigNumber:ze,Unit:gt,config:Ce}),wP=Ox({BigNumber:ze,Unit:gt,config:Ce}),EP=bx({BigNumber:ze,Unit:gt,config:Ce}),CP=yy({Unit:gt,typed:Q}),zr=K1({divideScalar:pr,equalScalar:Bt,inv:ao,matrix:He,multiply:Gt,typed:Q}),FP=Dx({BigNumber:ze,Unit:gt,config:Ce}),Gs=lb({gamma:Pm,typed:Q}),AP=Rx({BigNumber:ze,Unit:gt,config:Ce}),SP=Yx({BigNumber:ze,Unit:gt,config:Ce}),_P=hx({BigNumber:ze,Unit:gt,config:Ce}),$D=k1({DenseMatrix:Ft,lsolve:kD,lup:XD,matrix:He,slu:VD,typed:Q,usolve:Mm}),NP=gx({BigNumber:ze,Unit:gt,config:Ce}),MP=Zx({BigNumber:ze,Unit:gt,config:Ce}),TP=fb({add:Ot,divide:zr,factorial:Gs,isInteger:Sn,isPositive:to,multiply:Gt,typed:Q}),IP=mb({factorial:Gs,typed:Q}),BP=Xx({BigNumber:ze,Unit:gt,config:Ce}),OP=P1({add:Ot,cbrt:BD,divide:zr,equalScalar:Bt,im:Cm,isZero:pi,multiply:Gt,re:Fm,sqrt:di,subtract:br,typeOf:ND,typed:Q,unaryMinus:Oi}),kP=Qy({compareNatural:ki,typed:Q}),PP=E0({abs:vn,add:Ot,bignumber:Rn,divide:zr,isNegative:xa,isPositive:to,larger:xn,map:ro,matrix:He,max:km,multiply:Gt,smaller:bn,subtract:br,typed:Q,unaryMinus:Oi}),ew=Eb({bignumber:Rn,addScalar:kr,combinations:fl,divideScalar:pr,factorial:Gs,isInteger:Sn,isNegative:xa,larger:xn,multiplyScalar:yr,number:$i,pow:Qn,subtractScalar:Jn,typed:Q}),RP=gy({Unit:gt,typed:Q}),LP=Cb({addScalar:kr,isInteger:Sn,isNegative:xa,stirlingS2:ew,typed:Q}),tw=j1({abs:vn,add:Ot,addScalar:kr,atan:CD,bignumber:Rn,column:JD,complex:ml,config:Ce,cos:wm,diag:OD,divideScalar:pr,dot:hl,equal:Xn,flatten:Ws,im:Cm,inv:ao,larger:xn,matrix:He,matrixFromColumns:_m,multiply:Gt,multiplyScalar:yr,number:$i,qr:Nm,re:Fm,reshape:TD,sin:pl,size:Yr,smaller:bn,sqrt:di,subtract:br,typed:Q,usolve:Mm,usolveAll:UD}),qP=wx({BigNumber:ze,Unit:gt,config:Ce}),VP=qx({BigNumber:ze,Unit:gt,config:Ce}),rw=il({add:Ot,divide:zr,typed:Q}),UP=Ux({BigNumber:ze,Unit:gt,config:Ce}),zP=ox({BigNumber:ze,Unit:gt,config:Ce}),HP=ol({bignumber:Rn,add:Ot,compare:io,divide:zr,isInteger:Sn,larger:xn,multiply:Gt,partitionSelect:gl,smaller:bn,smallerEq:qo,subtract:br,typed:Q}),Rm=al({add:Ot,apply:Am,divide:zr,isNaN:Us,multiply:Gt,subtract:br,typed:Q}),WP=xx({BigNumber:ze,Unit:gt,config:Ce}),nw=tb({add:Ot,compare:io,divide:zr,partitionSelect:gl,typed:Q}),GP=ib({add:Ot,divide:zr,matrix:He,mean:rw,multiply:Gt,pow:Qn,sqrt:di,subtract:br,sum:Bm,typed:Q}),jP=Lb({Complex:Kt,add:Ot,divide:zr,matrix:He,multiply:Gt,typed:Q}),ZP=rb({abs:vn,map:ro,median:nw,subtract:br,typed:Q}),YP=sl({map:ro,sqrt:di,typed:Q,variance:Rm}),JP=F0({BigNumber:ze,Complex:Kt,add:Ot,config:Ce,divide:zr,equal:Xn,factorial:Gs,gamma:Pm,isNegative:xa,multiply:Gt,pi:xm,pow:Qn,sin:pl,smallerEq:qo,subtract:br,typed:Q}),Lm=r1({abs:vn,add:Ot,conj:eo,ctranspose:Sm,eigs:tw,equalScalar:Bt,larger:xn,matrix:He,multiply:Gt,pow:Qn,smaller:bn,sqrt:di,typed:Q}),iw=p0({BigNumber:ze,DenseMatrix:Ft,SparseMatrix:ea,addScalar:kr,config:Ce,cos:wm,matrix:He,multiplyScalar:yr,norm:Lm,sin:pl,typed:Q,unaryMinus:Oi}),XP=cb({divide:zr,dotDivide:Hs,isNumeric:no,log:Im,map:ro,matrix:He,multiply:Gt,sum:Bm,typed:Q}),QP=Qx({BigNumber:ze,Unit:gt,config:Ce}),aw=X1({identity:Da,matrix:He,multiply:Gt,norm:Lm,qr:Nm,subtract:br,typed:Q}),KP=m0({multiply:Gt,rotationMatrix:iw,typed:Q}),ow=J1({abs:vn,add:Ot,concat:Wt,identity:Da,index:GD,lusolve:$D,matrix:He,matrixFromColumns:_m,multiply:Gt,range:Vo,schur:aw,subset:Ln,subtract:br,transpose:zs,typed:Q}),$P=Q1({matrix:He,multiply:Gt,sylvester:ow,transpose:zs,typed:Q});var js={},Zs={},e6={},Dn=o1({mathWithTransform:Zs}),Ys=y1({Node:Dn}),wa=b1({Node:Dn}),Uo=x1({Node:Dn}),t6=w1({Node:Dn}),Js=u1({Node:Dn}),r6=c1({Node:Dn,ResultSet:wD}),n6=f1({Node:Dn}),oo=h1({Node:Dn}),i6=D1({Node:Dn}),aJ=qb({classes:e6}),sw=L1({math:js,typed:Q}),a6=g1({Node:Dn,typed:Q}),oJ=z1({Chain:sw,typed:Q}),Xs=v1({Node:Dn,size:Yr}),Qs=s1({Node:Dn,subset:Ln}),o6=l1({matrix:He,Node:Dn,subset:Ln}),so=E1({Unit:gt,Node:Dn,math:js}),uo=C1({Node:Dn,SymbolNode:so,math:js}),Pi=F1({AccessorNode:Qs,ArrayNode:Js,AssignmentNode:o6,BlockNode:r6,ConditionalNode:n6,ConstantNode:oo,FunctionAssignmentNode:a6,FunctionNode:uo,IndexNode:Xs,ObjectNode:Ys,OperatorNode:wa,ParenthesisNode:Uo,RangeNode:i6,RelationalNode:t6,SymbolNode:so,config:Ce,numeric:hi,typed:Q}),s6=Bb({ConstantNode:oo,FunctionNode:uo,OperatorNode:wa,ParenthesisNode:Uo,parse:Pi,typed:Q}),uw=Tb({bignumber:Rn,fraction:Ro,AccessorNode:Qs,ArrayNode:Js,ConstantNode:oo,FunctionNode:uo,IndexNode:Xs,ObjectNode:Ys,OperatorNode:wa,SymbolNode:so,config:Ce,mathWithTransform:Zs,matrix:He,typed:Q}),lw=A1({parse:Pi,typed:Q}),u6=R1({parse:Pi}),sJ=Sb({parse:Pi,typed:Q}),cw=Ib({AccessorNode:Qs,ArrayNode:Js,ConstantNode:oo,FunctionNode:uo,IndexNode:Xs,ObjectNode:Ys,OperatorNode:wa,ParenthesisNode:Uo,SymbolNode:so,add:Ot,divide:zr,equal:Xn,isZero:pi,multiply:Gt,parse:Pi,pow:Qn,subtract:br,typed:Q}),l6=S1({parse:Pi,typed:Q}),uJ=U1({Help:u6,mathWithTransform:Zs,typed:Q}),c6=_1({evaluate:l6}),qm=Mb({bignumber:Rn,fraction:Ro,AccessorNode:Qs,ArrayNode:Js,ConstantNode:oo,FunctionNode:uo,IndexNode:Xs,ObjectNode:Ys,OperatorNode:wa,ParenthesisNode:Uo,SymbolNode:so,add:Ot,config:Ce,divide:zr,equal:Xn,isZero:pi,mathWithTransform:Zs,matrix:He,multiply:Gt,parse:Pi,pow:Qn,resolve:s6,simplifyConstant:uw,simplifyCore:cw,subtract:br,typed:Q}),lJ=Ob({OperatorNode:wa,parse:Pi,simplify:qm,typed:Q}),cJ=N1({Parser:c6,typed:Q}),fJ=Pb({bignumber:Rn,fraction:Ro,AccessorNode:Qs,ArrayNode:Js,ConstantNode:oo,FunctionNode:uo,IndexNode:Xs,ObjectNode:Ys,OperatorNode:wa,ParenthesisNode:Uo,SymbolNode:so,add:Ot,config:Ce,divide:zr,equal:Xn,isZero:pi,mathWithTransform:Zs,matrix:He,multiply:Gt,parse:Pi,pow:Qn,simplify:qm,simplifyConstant:uw,simplifyCore:cw,subtract:br,typed:Q}),mJ=kb({ConstantNode:oo,FunctionNode:uo,OperatorNode:wa,ParenthesisNode:Uo,SymbolNode:so,config:Ce,equal:Xn,isZero:pi,numeric:hi,parse:Pi,simplify:qm,typed:Q});ur(js,{e:xD,false:kk,fineStructure:Pk,i:DD,Infinity:Rk,LN10:Lk,LOG10E:qk,NaN:Vk,null:Uk,phi:zk,SQRT1_2:Wk,sackurTetrode:Gk,tau:ED,true:jk,E:xD,version:Zk,efimovFactor:Yk,LN2:Jk,pi:xm,replacer:Xk,reviver:aJ,SQRT2:Qk,typed:Q,unaryPlus:Dm,PI:xm,weakMixingAngle:Kk,abs:vn,acos:$k,acot:e4,acsc:t4,addScalar:kr,arg:r4,asech:n4,asinh:i4,atan:CD,atanh:a4,bignumber:Rn,bitNot:o4,boolean:s4,clone:u4,combinations:fl,complex:ml,conj:eo,cos:wm,cot:l4,csc:c4,cube:f4,equalScalar:Bt,erf:m4,exp:FD,expm1:p4,filter:d4,forEach:h4,format:Vs,getMatrixDataType:Em,hex:g4,im:Cm,isInteger:Sn,isNegative:xa,isPositive:to,isZero:pi,LOG2E:v4,lgamma:y4,log10:b4,log2:AD,map:ro,multiplyScalar:yr,not:SD,number:$i,oct:x4,pickRandom:D4,print:w4,random:E4,re:Fm,sec:C4,sign:_D,sin:pl,splitUnit:F4,square:A4,string:S4,subtractScalar:Jn,tan:_4,typeOf:ND,acosh:N4,acsch:M4,apply:Am,asec:T4,bin:I4,chain:oJ,combinationsWithRep:B4,cosh:O4,csch:k4,isNaN:Us,isPrime:P4,randomInt:R4,sech:L4,sinh:q4,sparse:V4,sqrt:di,tanh:U4,unaryMinus:Oi,acoth:z4,coth:H4,fraction:Ro,isNumeric:no,matrix:He,matrixFromFunction:W4,mode:G4,numeric:hi,prod:MD,reshape:TD,size:Yr,squeeze:j4,transpose:zs,xgcd:ID,zeros:yn,asin:Z4,cbrt:BD,concat:Wt,count:Y4,ctranspose:Sm,diag:OD,divideScalar:pr,dotDivide:Hs,equal:Xn,flatten:Ws,hasNumericValue:J4,identity:Da,kron:X4,largerEq:dl,leftShift:Q4,lsolve:kD,matrixFromColumns:_m,nthRoot:K4,ones:$4,qr:Nm,resize:e8,rightArithShift:t8,round:Lo,smaller:bn,subtract:br,to:r8,unequal:n8,usolve:Mm,xor:i8,add:Ot,atan2:a8,bitAnd:o8,bitXor:s8,catalan:u8,compare:io,compareText:PD,cumsum:l8,deepEqual:Tm,diff:c8,distance:f8,dot:hl,equalText:m8,floor:RD,gcd:p8,hypot:d8,larger:xn,log:Im,lsolveAll:h8,matrixFromRows:g8,min:v8,mod:qD,multiply:Gt,nthRoots:y8,or:b8,partitionSelect:gl,rightLogShift:x8,slu:VD,subset:Ln,sum:Bm,trace:D8,usolveAll:UD,zpk2tf:w8,bitOr:E8,ceil:Om,compareNatural:ki,composition:C8,cross:F8,det:zD,dotMultiply:A8,fix:WD,index:GD,intersect:S8,invmod:_8,lcm:N8,log1p:M8,max:km,setCartesian:T8,setDistinct:I8,setIsSubset:B8,setPowerset:O8,smallerEq:qo,sort:k8,and:P8,range:Vo,row:R8,setDifference:jD,setMultiplicity:L8,setSymDifference:ZD,column:JD,inv:ao,lup:XD,pinv:q8,pow:Qn,setIntersect:QD,setUnion:V8,sqrtm:U8,vacuumImpedance:z8,wienDisplacement:H8,atomicMass:W8,bohrMagneton:G8,boltzmann:j8,conductanceQuantum:Z8,coulomb:Y8,deuteronMass:J8,dotPow:X8,electricConstant:Q8,elementaryCharge:K8,expm:$8,faraday:eP,fft:KD,gamma:Pm,gravitationConstant:tP,hartreeEnergy:rP,ifft:nP,klitzing:iP,loschmidt:aP,magneticConstant:oP,molarMass:sP,molarPlanckConstant:uP,neutronMass:lP,nuclearMagneton:cP,planckCharge:fP,planckLength:mP,planckTemperature:pP,protonMass:dP,quantumOfCirculation:hP,reducedPlanckConstant:gP,rydberg:vP,secondRadiation:yP,speedOfLight:bP,stefanBoltzmann:xP,thomsonCrossSection:DP,avogadro:wP,bohrRadius:EP,createUnit:CP,divide:zr,electronMass:FP,factorial:Gs,firstRadiation:AP,gravity:SP,inverseConductanceQuantum:_P,lusolve:$D,magneticFluxQuantum:NP,molarMassC12:MP,multinomial:TP,parse:Pi,permutations:IP,planckMass:BP,polynomialRoot:OP,resolve:s6,setSize:kP,simplifyConstant:uw,solveODE:PP,stirlingS2:ew,unit:RP,bellNumbers:LP,compile:lw,eigs:tw,fermiCoupling:qP,gasConstant:VP,leafCount:sJ,mean:rw,molarVolume:UP,planckConstant:zP,quantileSeq:HP,simplifyCore:cw,variance:Rm,classicalElectronRadius:WP,evaluate:l6,help:uJ,median:nw,simplify:qm,symbolicEqual:lJ,corr:GP,freqz:jP,mad:ZP,parser:cJ,rationalize:fJ,std:YP,zeta:JP,derivative:mJ,norm:Lm,rotationMatrix:iw,kldivergence:XP,planckTime:QP,schur:aw,rotate:KP,sylvester:ow,lyap:$P,config:Ce});ur(Zs,js,{filter:rD({typed:Q}),forEach:nD({typed:Q}),map:aD({typed:Q}),apply:eD({isInteger:Sn,typed:Q}),concat:mD({isInteger:Sn,matrix:He,typed:Q}),max:oD({config:Ce,larger:xn,numeric:hi,typed:Q}),print:bD({add:Ot,matrix:He,typed:Q,zeros:yn}),diff:pD({bignumber:Rn,matrix:He,number:$i,subtract:br,typed:Q}),min:uD({config:Ce,numeric:hi,smaller:bn,typed:Q}),subset:fD({add:Ot,matrix:He,typed:Q,zeros:yn}),cumsum:vD({add:Ot,typed:Q,unaryPlus:Dm}),index:iD({Index:fn,getMatrixDataType:Em}),sum:hD({add:Ot,config:Ce,numeric:hi,typed:Q}),range:lD({bignumber:Rn,matrix:He,add:Ot,config:Ce,isPositive:to,larger:xn,largerEq:dl,smaller:bn,smallerEq:qo,typed:Q}),row:cD({Index:fn,matrix:He,range:Vo,typed:Q}),column:tD({Index:fn,matrix:He,range:Vo,typed:Q}),mean:sD({add:Ot,divide:zr,typed:Q}),quantileSeq:gD({add:Ot,bignumber:Rn,compare:io,divide:zr,isInteger:Sn,larger:xn,multiply:Gt,partitionSelect:gl,smaller:bn,smallerEq:qo,subtract:br,typed:Q}),variance:yD({add:Ot,apply:Am,divide:zr,isNaN:Us,multiply:Gt,subtract:br,typed:Q}),std:dD({map:ro,sqrt:di,typed:Q,variance:Rm})});ur(e6,{BigNumber:ze,Complex:Kt,Fraction:$a,Matrix:cl,Node:Dn,ObjectNode:Ys,OperatorNode:wa,ParenthesisNode:Uo,Range:Hk,RelationalNode:t6,ResultSet:wD,ArrayNode:Js,BlockNode:r6,ConditionalNode:n6,ConstantNode:oo,DenseMatrix:Ft,RangeNode:i6,Chain:sw,FunctionAssignmentNode:a6,SparseMatrix:ea,IndexNode:Xs,ImmutableDenseMatrix:LD,Index:fn,AccessorNode:Qs,AssignmentNode:o6,FibonacciHeap:HD,Spa:YD,Unit:gt,SymbolNode:so,FunctionNode:uo,Help:u6,Parser:c6});sw.createProxy(js);var Vm=class extends Va{constructor(t){super(t);this.hidden=!1}buildVariables(t){var a;let n=0;this.expressionStr="";let i=[];for(let o of(a=t.templateDeclaration)!=null?a:[])if(typeof o!="string"){let c={bindTargetDeclaration:o,inputSignal:new Tr(void 0),uuid:wr(),contextName:`MB_VAR_${n}`};i.push(c),this.expressionStr+=c.contextName,n+=1}else this.expressionStr+=o;return this.expression=lw(this.expressionStr),i}_render(t){}_update(t,n){t.innerText=n}destroy(){}buildContext(t){var i;let n={};for(let a of t!=null?t:[])!a.contextName||!a.inputSignal||(n[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return n}async computeValue(t){if(!this.expression)throw new aa({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"});let n=this.buildContext(t);try{return this.expression.evaluate(n)}catch(i){throw i instanceof Error?new aa({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:i,context:{expression:this.expressionStr,context:n}}):new Error("failed to evaluate js expression because of: unexpected thrown value")}}getDefaultDisplayValue(){return""}};var zm=require("obsidian");var Um=class extends Va{constructor(t){super(t);this.renderMarkdown=!1,this.markdownComponent=new zm.Component}buildVariables(t){var a;this.textParts=[];let n=0,i=[];for(let o of(a=t.templateDeclaration)!=null?a:[])if(typeof o!="string"){let c={bindTargetDeclaration:o,inputSignal:new Tr(void 0),uuid:wr(),contextName:`MB_VAR_${n}`};i.push(c),this.textParts.push(n),n+=1}else this.textParts.push(o);return i}_render(t){var n,i;this.renderMarkdown=(i=(n=this.renderChild.getArgument("renderMarkdown"))==null?void 0:n.value)!=null?i:!1,this.markdownComponent.load(),this.renderMarkdown&&t.addClass("mb-view-markdown")}async _update(t,n){this.renderMarkdown?(this.markdownComponent.unload(),this.markdownComponent.load(),await zm.MarkdownRenderer.render(this.renderChild.plugin.app,n,t,this.renderChild.filePath,this.markdownComponent)):t.innerText=n}destroy(){this.markdownComponent.unload()}computeValue(t){if(!this.textParts)throw new aa({errorLevel:"CRITICAL",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(n=>typeof n=="number"?RE(t[n].inputSignal.get(),this.renderChild.plugin.settings.viewFieldDisplayNullAsEmpty):n).join("")}getDefaultDisplayValue(){return""}};function f6(r,e,t){let n=r.slice();return n[1]=e[t],n}function pJ(r){let e,t,n,i=Ke(r[0].slice(0,r[0].length-1)),a=[];for(let c=0;c<i.length;c+=1)a[c]=m6(f6(r,i,c));let o=c=>De(a[c],1,1,()=>{a[c]=null});return t=new ti({props:{mdLink:r[0][r[0].length-1]}}),{c(){for(let c=0;c<a.length;c+=1)a[c].c();e=we(),Xe(t.$$.fragment)},m(c,u){for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(c,u);re(c,e,u),Ze(t,c,u),n=!0},p(c,u){if(u&1){i=Ke(c[0].slice(0,c[0].length-1));let l;for(l=0;l<i.length;l+=1){let f=f6(c,i,l);a[l]?(a[l].p(f,u),he(a[l],1)):(a[l]=m6(f),a[l].c(),he(a[l],1),a[l].m(e.parentNode,e))}for(St(),l=i.length;l<a.length;l+=1)o(l);_t()}let s={};u&1&&(s.mdLink=c[0][c[0].length-1]),t.$set(s)},i(c){if(!n){for(let u=0;u<i.length;u+=1)he(a[u]);he(t.$$.fragment,c),n=!0}},o(c){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)De(a[u]);De(t.$$.fragment,c),n=!1},d(c){c&&te(e),wt(a,c),Ye(t,c)}}}function dJ(r){let e,t;return e=new ti({props:{mdLink:r[0][0]}}),{c(){Xe(e.$$.fragment)},m(n,i){Ze(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.mdLink=n[0][0]),e.$set(a)},i(n){t||(he(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Ye(e,n)}}}function hJ(r){let e;return{c(){e=X("span")},m(t,n){re(t,e,n)},p:_e,i:_e,o:_e,d(t){t&&te(e)}}}function m6(r){let e,t,n,i,a;return e=new ti({props:{mdLink:r[1]}}),{c(){Xe(e.$$.fragment),t=X("span"),t.textContent=",",n=we(),i=X("span")},m(o,c){Ze(e,o,c),re(o,t,c),re(o,n,c),re(o,i,c),a=!0},p(o,c){let u={};c&1&&(u.mdLink=o[1]),e.$set(u)},i(o){a||(he(e.$$.fragment,o),a=!0)},o(o){De(e.$$.fragment,o),a=!1},d(o){o&&(te(t),te(n),te(i)),Ye(e,o)}}}function gJ(r){let e,t,n,i,a=[hJ,dJ,pJ],o=[];function c(u,s){return u[0].length===0?0:u[0].length===1?1:2}return e=c(r,-1),t=o[e]=a[e](r),{c(){t.c(),n=rr()},m(u,s){o[e].m(u,s),re(u,n,s),i=!0},p(u,[s]){let l=e;e=c(u,s),e===l?o[e].p(u,s):(St(),De(o[l],1,1,()=>{o[l]=null}),_t(),t=o[e],t?t.p(u,s):(t=o[e]=a[e](u),t.c()),he(t,1),t.m(n.parentNode,n))},i(u){i||(he(t),i=!0)},o(u){De(t),i=!1},d(u){u&&te(n),o[e].d(u)}}}function vJ(r,e,t){let{mdLinkList:n}=e;return r.$$set=i=>{"mdLinkList"in i&&t(0,n=i.mdLinkList)},[n]}var fw=class extends Ie{constructor(e){super(),ke(this,e,vJ,gJ,Oe,{mdLinkList:0})}},mw=fw;var Hm=class extends Va{constructor(t){super(t)}buildVariables(t){let n=t.templateDeclaration.filter(o=>typeof o=="string"?o:!0);if(n.length!==1)throw new nu({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});let i=n[0];if(typeof i=="string")throw new nu({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});return[{bindTargetDeclaration:i,inputSignal:new Tr(void 0),uuid:wr(),contextName:"MB_VAR_0"}]}_render(t){this.component=new mw({target:t,props:{mdLinkList:[]}})}async _update(t,n){let i=CC(n);this.component=new mw({target:t,props:{mdLinkList:i}})}destroy(){var t;(t=this.component)==null||t.$destroy()}computeValue(t){if(t.length!==1)throw new aa({errorLevel:"CRITICAL",effect:"failed to evaluate link view field",cause:"there should be exactly one variable"});let i=t[0].inputSignal.get();return typeof i=="string"?this.convertToLink(i):Array.isArray(i)?i.filter(o=>typeof o=="string").map(o=>this.convertToLink(o)).filter(o=>o!=="").join(", "):""}convertToLink(t){return wi(t)?t:wi(`[[${t}]]`)?`[[${t}]]`:this.getUrl(t)?`[${this.getUrl(t).hostname}](${t})`:""}getUrl(t){try{return new URL(t)}catch(n){return}}getDefaultDisplayValue(){return""}};var Wm=class{constructor(e){this.plugin=e}createViewField(e,t){if(e==="math")return new Vm(t);if(e==="text")return new Um(t);if(e==="link")return new Hm(t)}};var Gm=class{constructor(e){this.plugin=e,this.inputField=new yc(this),this.inputFieldParser=new vc(this.plugin),this.viewFieldParser=new Ql(this.plugin),this.bindTargetParser=new Kl(this.plugin),this.inputFieldFactory=new uf(this.plugin),this.viewFieldFactory=new Wm(this.plugin)}createInputField(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let c=this.inputFieldParser.validateDeclaration(e,o),u=new yo(i,t,c,this.plugin,n,wr());return a.addChild(u),u}createInputFieldFromString(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let c=this.inputFieldParser.parseString(e,o),u=new yo(i,t,c,this.plugin,n,wr());return a.addChild(u),u}createViewFieldFromString(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let c=this.viewFieldParser.parseString(e,o),u=new as(i,t,c,this.plugin,n,wr());return a.addChild(u),u}createJsViewFieldFromString(e,t,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.viewFieldParser.parseJsString(e),c=new $l(i,t,o,this.plugin,n,wr());return a.addChild(c),c}createExcludedField(e,t,n){let i=new bc(e,"inline",this.plugin,t,wr());return n.addChild(i),i}createSignal(e){return new Tr(e)}listenToMetadata(e,t,n,i=!1,a){let o=wr(),c=this.plugin.metadataManager.subscribe(o,e,{filePath:t,metadataPath:n,listenToChildren:i,boundToLocalScope:!1},a!=null?a:()=>{});return()=>{c.unsubscribe()}}createTable(e,t,n,i,a,o){let c=new Dc(e,"inline",this.plugin,t,wr(),i,a,o);return n.addChild(c),c}createBindTarget(e){return this.bindTargetParser.parseAndValidateBindTarget(e)}};var lo=require("@codemirror/view"),dw=require("@codemirror/language"),Jm=require("obsidian");var d6=require("obsidian");var p6=require("@codemirror/view");var jm=class extends p6.WidgetType{constructor(t,n,i,a){super();this.content=t,this.filePath=n,this.parentComponent=i,this.plugin=a}eq(t){return t.content===this.content}toDOM(t){let n=document.createElement("span");return n.addClass("cm-inline-code"),this.renderChild=this.createRenderChild(n,this.parentComponent),n}destroy(t){var n;(n=this.renderChild)==null||n.unload(),super.destroy(t)}},Zm=class extends jm{createRenderChild(e,t){return this.plugin.api.createViewFieldFromString(this.content,"inline",this.filePath,e,t)}},Ym=class extends jm{createRenderChild(e,t){return this.plugin.api.createInputFieldFromString(this.content,"inline",this.filePath,e,t)}},pw=(t=>(t.INPUT_FIELD_WIDGET="INPUT_FIELD_WIDGET",t.VIEW_FIELD_WIDGET="VIEW_FIELD_WIDGET",t))(pw||{});var ta=class r{static checkSelectionOverlap(e,t,n){if(!e)return!1;for(let i of e.ranges)if(i.to>=t&&i.from<=n)return!0;return!1}static getContent(e,t,n){return e.sliceDoc(t,n)}static constructMarkdownRenderChildWidget(e,t,n,i,a){if(e==="INPUT_FIELD_WIDGET")return new Ym(t,n,i,a);if(e==="VIEW_FIELD_WIDGET")return new Zm(t,n,i,a)}static getDeclarationPrefix(e){if(e==="INPUT_FIELD_WIDGET")return"INPUT";if(e==="VIEW_FIELD_WIDGET")return"VIEW";throw new bi({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid widget type "${e}"`})}static isDeclaration(e,t){let n=r.getDeclarationPrefix(e)+"[",i="]";return t.startsWith(n)&&t.endsWith(i)}static isDeclarationAndGetWidgetType(e){if(e.endsWith("]"))for(let t of Object.values(pw)){let n=r.getDeclarationPrefix(t)+"[";if(e.startsWith(n))return t}}static getCurrentFile(e){return e.state.field(d6.editorInfoField).file}static existsDecorationBetween(e,t,n){let i=!1;return e.between(t,n,()=>{i=!0}),i}};function h6(r){return lo.ViewPlugin.fromClass(class{constructor(e){var t;this.component=new Jm.Component,this.component.load(),this.decorations=(t=this.renderWidgets(e))!=null?t:lo.Decoration.none}update(e){var t;if(!e.state.field(Jm.editorLivePreviewField)){this.decorations=lo.Decoration.none;return}e.docChanged?(this.decorations=this.decorations.map(e.changes),this.updateTree(e.view)):e.selectionSet?this.updateTree(e.view):e.viewportChanged&&(this.decorations=(t=this.renderWidgets(e.view))!=null?t:lo.Decoration.none)}updateTree(e){for(let{from:t,to:n}of e.visibleRanges)(0,dw.syntaxTree)(e.state).iterate({from:t,to:n,enter:i=>{let a=i.node,{shouldRender:o,content:c,widgetType:u}=this.getRenderInfo(e,a);o?u!==void 0&&c!==void 0&&this.addDecoration(a,e,c,u):u!==void 0&&c!==void 0&&this.removeDecoration(a)}})}removeDecoration(e){this.decorations.between(e.from-1,e.to+1,(t,n,i)=>{this.decorations=this.decorations.update({filterFrom:t,filterTo:n,filter:()=>!1})})}addDecoration(e,t,n,i){var s;let a=e.from-1,o=e.to+1;if(ta.existsDecorationBetween(this.decorations,a,o))return;let c=ta.getCurrentFile(t);if(!c)return;let u=(s=this.renderWidget(e,i,n,c))==null?void 0:s.value;u&&(this.decorations=this.decorations.update({add:[{from:a,to:o,value:u}]}))}getRenderInfo(e,t){var i;let n=new Set((i=t.type.name)==null?void 0:i.split("_"));if(n.has("inline-code")&&!n.has("formatting")){let a=e.state.selection,o=ta.checkSelectionOverlap(a,t.from-1,t.to+1),c=this.readNode(e,t.from,t.to);return{shouldRender:!o,content:c.content,widgetType:c.widgetType}}return{shouldRender:!1,content:void 0,widgetType:void 0}}readNode(e,t,n){let i=ta.getContent(e.state,t,n);return{content:i,widgetType:ta.isDeclarationAndGetWidgetType(i)}}renderWidgets(e){let t=ta.getCurrentFile(e);if(!t)return;let n=[];for(let i of e.visibleRanges)(0,dw.syntaxTree)(e.state).iterate({from:i.from,to:i.to,enter:a=>{let o=a.node,c=this.getRenderInfo(e,o);if(!c.shouldRender||!c.widgetType||!c.content)return;let u=this.renderWidget(o,c.widgetType,c.content,t);u&&n.push(u)}});return lo.Decoration.set(n,!0)}renderWidget(e,t,n,i){let a=ta.constructMarkdownRenderChildWidget(t,n,i.path,this.component,r);if(a)return lo.Decoration.replace({widget:a}).range(e.from-1,e.to+1)}destroy(){this.component.unload()}},{decorations:e=>e.decorations})}var Xm=class{constructor(){this.activeMDRCs=new Map}unload(){for(let e of this.activeMDRCs.values())console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),e.unload()}registerMDRC(e){console.debug(`meta-bind | MDRCManager >> registered MDRC ${e.uuid}`),this.activeMDRCs.set(e.uuid,e)}unregisterMDRC(e){console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),this.activeMDRCs.delete(e.uuid)}};var g6=require("obsidian");var Qm=class{constructor(e){this.app=e.app,this.plugin=e}getMetadataAndExtraCache(e){var i,a;if(e.bindTarget===void 0)throw new go({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"subscription bind target undefined"});let t=this.plugin.app.vault.getAbstractFileByPath(e.bindTarget.filePath);if(!(t instanceof g6.TFile))throw new go({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"bind target file path does not point to a tFile"});let n=(i=this.plugin.app.metadataCache.getFileCache(t))==null?void 0:i.frontmatter;return{extraCache:{file:t},metadata:(a=structuredClone(n))!=null?a:{}}}setManagerInstance(e){this.manager=e}async updateMetadata(e,t){let n=t.extraCache.file;await this.plugin.app.fileManager.processFrontMatter(n,i=>{t.changed=!1,Object.assign(i,t.metadata)})}load(){this.plugin.registerEvent(this.plugin.app.metadataCache.on("changed",(e,t,n)=>{var i,a;(a=this.manager)==null||a.updateCacheOnExternalUpdate(e.path,(i=n.frontmatter)!=null?i:{})})),this.plugin.registerEvent(this.plugin.app.vault.on("delete",e=>{var t;(t=this.manager)==null||t.deleteCacheInstant(e.path)})),this.plugin.registerEvent(this.plugin.app.vault.on("rename",(e,t)=>{var n;console.log("rename"),(n=this.manager)==null||n.deleteCacheInstant(t)})),this.manager!==void 0&&(this.interval=window.setInterval(()=>{var e;return(e=this.manager)==null?void 0:e.update()},this.plugin.settings.syncInterval))}unload(){this.interval!==void 0&&window.clearInterval(this.interval)}};var Km=class extends v6.Plugin{async onload(){console.log("meta-bind | Main >> load"),await this.loadSettings(),await this.saveSettings(),this.api=new Gm(this);let t=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);t.hasErrors()&&console.warn("meta-bind | failed to parse templates",t),this.mdrcManager=new Xm;let n=new Qm(this);this.metadataManager=new Rl(n),this.registerMarkdownPostProcessor((i,a)=>{let o=i.querySelectorAll("code");for(let c=0;c<o.length;c++){let u=o.item(c);if(u.hasClass("mb-none"))continue;let s=u.innerText,l=s.startsWith("INPUT[")&&s.endsWith("]"),f=s.startsWith("VIEW[")&&s.endsWith("]");l&&this.api.createInputFieldFromString(s,"inline",a.sourcePath,u,a,void 0),f&&this.api.createViewFieldFromString(s,"inline",a.sourcePath,u,a)}},100),this.registerMarkdownCodeBlockProcessor("meta-bind",(i,a,o)=>{let c=a,u=i.trim(),s=u.startsWith("INPUT[")&&u.endsWith("]"),l=u.startsWith("VIEW[")&&u.endsWith("]");s&&this.api.createInputFieldFromString(u,"block",o.sourcePath,c,o,void 0),l&&this.api.createViewFieldFromString(u,"inline",o.sourcePath,c,o)}),this.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(i,a,o)=>{this.api.createJsViewFieldFromString(i,"block",o.sourcePath,a,o)}),this.registerEditorExtension(h6(this)),this.addCommand({id:"mb-open-docs",name:"Open Meta Bind Docs",callback:()=>{window.open("https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/","_blank")}}),this.addCommand({id:"mb-open-faq",name:"Open Meta Bind FAQ",callback:()=>{this.activateView(bo)}}),this.addCommand({id:"mb-open-help",name:"Open Meta Bind Help",callback:()=>{this.activateView(bo)}}),this.registerView(bo,i=>new Bl(i,this)),this.addSettingTab(new Ol(this.app,this))}onunload(){console.log("meta-bind | Main >> unload"),this.mdrcManager.unload(),this.metadataManager.unload()}getFilePathsByName(t){let n=this.app.metadataCache.getFirstLinkpathDest(t,"");return n===null?[]:[n.path]}isFilePathExcluded(t){for(let n of this.settings.excludedFolders)if(t.startsWith(n))return!0;return!1}async loadSettings(){console.log("meta-bind | Main >> settings load");let t=await this.loadData();t=this.applyTemplatesMigration(Object.assign({},yi,t)),this.settings=t,await this.saveSettings()}async saveSettings(){console.log("meta-bind | Main >> settings save"),rn.dateFormat=this.settings.preferredDateFormat,mC(this.settings.firstWeekday),await this.saveData(this.settings)}applyTemplatesMigration(t){return t}async activateView(t){let{workspace:n}=this.app,i,a=n.getLeavesOfType(t);a.length>0?i=a[0]:(i=n.getLeaf("tab"),await i.setViewState({type:t,active:!0})),n.revealLeaf(i)}};
/*! Bundled license information:

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
