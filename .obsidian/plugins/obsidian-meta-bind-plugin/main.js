/*
-------------------------------------------
Meta Bind Plugin - Release Build
-------------------------------------------
By: Moritz Jung (https://mprojectscode.github.io/)
Time: Wed, 08 Nov 2023 19:28:26 GMT
Version: 0.7.1
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var C6=Object.create;var Xs=Object.defineProperty;var F6=Object.getOwnPropertyDescriptor;var A6=Object.getOwnPropertyNames;var S6=Object.getPrototypeOf,N6=Object.prototype.hasOwnProperty;var _6=(t,e,r)=>e in t?Xs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var gr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),M6=(t,e)=>{for(var r in e)Xs(t,r,{get:e[r],enumerable:!0})},vw=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of A6(e))!N6.call(t,i)&&i!==r&&Xs(t,i,{get:()=>e[i],enumerable:!(n=F6(e,i))||n.enumerable});return t};var xr=(t,e,r)=>(r=t!=null?C6(S6(t)):{},vw(e||!t||!t.__esModule?Xs(r,"default",{value:t,enumerable:!0}):r,t)),T6=t=>vw(Xs({},"__esModule",{value:!0}),t);var Wr=(t,e,r)=>(_6(t,typeof e!="symbol"?e+"":e,r),r);var Pw=gr((bp,xp)=>{(function(t,e){typeof bp=="object"&&typeof xp!="undefined"?xp.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self).dayjs=e()})(bp,function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",a="minute",o="hour",l="day",u="week",s="month",c="quarter",f="year",m="date",p="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var k=["th","st","nd","rd"],R=B%100;return"["+B+(k[(R-20)%10]||k[R]||k[0])+"]"}},v=function(B,k,R){var P=String(B);return!P||P.length>=k?B:""+Array(k+1-P.length).join(R)+B},E={s:v,z:function(B){var k=-B.utcOffset(),R=Math.abs(k),P=Math.floor(R/60),T=R%60;return(k<=0?"+":"-")+v(P,2,"0")+":"+v(T,2,"0")},m:function B(k,R){if(k.date()<R.date())return-B(R,k);var P=12*(R.year()-k.year())+(R.month()-k.month()),T=k.clone().add(P,s),I=R-T<0,V=k.clone().add(P+(I?-1:1),s);return+(-(P+(R-T)/(I?T-V:V-T))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:s,y:f,w:u,d:l,D:m,h:o,m:a,s:i,ms:n,Q:c}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},y="en",D={};D[y]=g;var b="$isDayjsObject",x=function(B){return B instanceof F||!(!B||!B[b])},C=function B(k,R,P){var T;if(!k)return y;if(typeof k=="string"){var I=k.toLowerCase();D[I]&&(T=I),R&&(D[I]=R,T=I);var V=k.split("-");if(!T&&V.length>1)return B(V[0])}else{var O=k.name;D[O]=k,T=O}return!P&&T&&(y=T),T||!P&&y},A=function(B,k){if(x(B))return B.clone();var R=typeof k=="object"?k:{};return R.date=B,R.args=arguments,new F(R)},w=E;w.l=C,w.i=x,w.w=function(B,k){return A(B,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var F=function(){function B(R){this.$L=C(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[b]=!0}var k=B.prototype;return k.parse=function(R){this.$d=function(P){var T=P.date,I=P.utc;if(T===null)return new Date(NaN);if(w.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var V=T.match(h);if(V){var O=V[2]-1||0,Y=(V[7]||"0").substring(0,3);return I?new Date(Date.UTC(V[1],O,V[3]||1,V[4]||0,V[5]||0,V[6]||0,Y)):new Date(V[1],O,V[3]||1,V[4]||0,V[5]||0,V[6]||0,Y)}}return new Date(T)}(R),this.init()},k.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},k.$utils=function(){return w},k.isValid=function(){return this.$d.toString()!==p},k.isSame=function(R,P){var T=A(R);return this.startOf(P)<=T&&T<=this.endOf(P)},k.isAfter=function(R,P){return A(R)<this.startOf(P)},k.isBefore=function(R,P){return this.endOf(P)<A(R)},k.$g=function(R,P,T){return w.u(R)?this[P]:this.set(T,R)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(R,P){var T=this,I=!!w.u(P)||P,V=w.p(R),O=function(ce,pe){var ue=w.w(T.$u?Date.UTC(T.$y,pe,ce):new Date(T.$y,pe,ce),T);return I?ue:ue.endOf(l)},Y=function(ce,pe){return w.w(T.toDate()[ce].apply(T.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(pe)),T)},$=this.$W,W=this.$M,q=this.$D,te="set"+(this.$u?"UTC":"");switch(V){case f:return I?O(1,0):O(31,11);case s:return I?O(1,W):O(0,W+1);case u:var ge=this.$locale().weekStart||0,ae=($<ge?$+7:$)-ge;return O(I?q-ae:q+(6-ae),W);case l:case m:return Y(te+"Hours",0);case o:return Y(te+"Minutes",1);case a:return Y(te+"Seconds",2);case i:return Y(te+"Milliseconds",3);default:return this.clone()}},k.endOf=function(R){return this.startOf(R,!1)},k.$set=function(R,P){var T,I=w.p(R),V="set"+(this.$u?"UTC":""),O=(T={},T[l]=V+"Date",T[m]=V+"Date",T[s]=V+"Month",T[f]=V+"FullYear",T[o]=V+"Hours",T[a]=V+"Minutes",T[i]=V+"Seconds",T[n]=V+"Milliseconds",T)[I],Y=I===l?this.$D+(P-this.$W):P;if(I===s||I===f){var $=this.clone().set(m,1);$.$d[O](Y),$.init(),this.$d=$.set(m,Math.min(this.$D,$.daysInMonth())).$d}else O&&this.$d[O](Y);return this.init(),this},k.set=function(R,P){return this.clone().$set(R,P)},k.get=function(R){return this[w.p(R)]()},k.add=function(R,P){var T,I=this;R=Number(R);var V=w.p(P),O=function(W){var q=A(I);return w.w(q.date(q.date()+Math.round(W*R)),I)};if(V===s)return this.set(s,this.$M+R);if(V===f)return this.set(f,this.$y+R);if(V===l)return O(1);if(V===u)return O(7);var Y=(T={},T[a]=e,T[o]=r,T[i]=t,T)[V]||1,$=this.$d.getTime()+R*Y;return w.w($,this)},k.subtract=function(R,P){return this.add(-1*R,P)},k.format=function(R){var P=this,T=this.$locale();if(!this.isValid())return T.invalidDate||p;var I=R||"YYYY-MM-DDTHH:mm:ssZ",V=w.z(this),O=this.$H,Y=this.$m,$=this.$M,W=T.weekdays,q=T.months,te=T.meridiem,ge=function(pe,ue,ne,me){return pe&&(pe[ue]||pe(P,I))||ne[ue].slice(0,me)},ae=function(pe){return w.s(O%12||12,pe,"0")},ce=te||function(pe,ue,ne){var me=pe<12?"AM":"PM";return ne?me.toLowerCase():me};return I.replace(d,function(pe,ue){return ue||function(ne){switch(ne){case"YY":return String(P.$y).slice(-2);case"YYYY":return w.s(P.$y,4,"0");case"M":return $+1;case"MM":return w.s($+1,2,"0");case"MMM":return ge(T.monthsShort,$,q,3);case"MMMM":return ge(q,$);case"D":return P.$D;case"DD":return w.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return ge(T.weekdaysMin,P.$W,W,2);case"ddd":return ge(T.weekdaysShort,P.$W,W,3);case"dddd":return W[P.$W];case"H":return String(O);case"HH":return w.s(O,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return ce(O,Y,!0);case"A":return ce(O,Y,!1);case"m":return String(Y);case"mm":return w.s(Y,2,"0");case"s":return String(P.$s);case"ss":return w.s(P.$s,2,"0");case"SSS":return w.s(P.$ms,3,"0");case"Z":return V}return null}(pe)||V.replace(":","")})},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(R,P,T){var I,V=this,O=w.p(P),Y=A(R),$=(Y.utcOffset()-this.utcOffset())*e,W=this-Y,q=function(){return w.m(V,Y)};switch(O){case f:I=q()/12;break;case s:I=q();break;case c:I=q()/3;break;case u:I=(W-$)/6048e5;break;case l:I=(W-$)/864e5;break;case o:I=W/r;break;case a:I=W/e;break;case i:I=W/t;break;default:I=W}return T?I:w.a(I)},k.daysInMonth=function(){return this.endOf(s).$D},k.$locale=function(){return D[this.$L]},k.locale=function(R,P){if(!R)return this.$L;var T=this.clone(),I=C(R,P,!0);return I&&(T.$L=I),T},k.clone=function(){return w.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},B}(),M=F.prototype;return A.prototype=M,[["$ms",n],["$s",i],["$m",a],["$H",o],["$W",l],["$M",s],["$y",f],["$D",m]].forEach(function(B){M[B[1]]=function(k){return this.$g(k,B[0],B[1])}}),A.extend=function(B,k){return B.$i||(B(k,F,A),B.$i=!0),A},A.locale=C,A.isDayjs=x,A.unix=function(B){return A(1e3*B)},A.en=D[y],A.Ls=D,A.p={},A})});var pE=gr(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.OPDUtilsObjectTraversalError=Wo.OPDUtilsParsingError=void 0;var Mp=class extends Error{constructor(e){super(e)}};Wo.OPDUtilsParsingError=Mp;var Tp=class extends Error{constructor(e){super(e)}};Wo.OPDUtilsObjectTraversalError=Tp});var Op=gr(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.validatePath=Qn.parsePath=Qn.traverseObjectByPath=Qn.traverseObjectToParent=Qn.traverseObject=void 0;var $i=pE();function sL(t,e){let r=Bp(t);return Ip(r,e)}Qn.traverseObject=sL;function uL(t,e){var r;let n=Bp(t);if(n[0]==="")throw new $i.OPDUtilsObjectTraversalError("can not traverse to parent on self reference");let i=n.slice(0,-1),a=(r=n.at(-1))!==null&&r!==void 0?r:"",o=Ip(i,e);return{parent:{key:i,value:o},child:{key:a,value:o[a]}}}Qn.traverseObjectToParent=uL;function Ip(t,e){for(let r of t){if(r==="")return e;if(e===void 0)return;e=e[r]}return e}Qn.traverseObjectByPath=Ip;function Bp(t){return t=t.replace(/'/g,'"'),dE(t),t.split(".").map(e=>e.split("[").map(r=>(r.endsWith("]")&&(r=r.slice(0,-1)),r.startsWith('"')&&r.endsWith('"')&&(r=r.slice(1,-1)),r))).flat()}Qn.parsePath=Bp;function dE(t){let e="0123456789",r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=!1,i=!1;for(let a=0;a<t.length;a++){let o=t[a],l=t[a+1];if(o==="."){if(a===0)throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${t}", path may not start with '.'`);if(!(r.includes(l)||l==="_"||l==="$"))throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${l}' at position ${a+1} in "${t}", expected a letter, '_' or '$' to follow '.'`)}if(o==="[")if(e.includes(l)){i=!0;continue}else if(l==='"'){if(t[a+2]==='"')throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${t[a+2]}' at position ${a+2} in "${t}", the string between the quotation-marks may not be empty`);n=!0,a+=1;continue}else throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${l}' at position ${a+1} in "${t}", expected number or '"' to follow a '['`);if(n&&o==='"')if(l==="]"){n=!1,a+=1;continue}else throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${l}' at position ${a+1} in "${t}", expected ']' to follow a '"'`);if(i&&o==="]"){i=!1;continue}if(n&&(o==="."||o==="]"||o==="["))throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${t}"`);if(i&&!e.includes(o))throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${t}", number expected inside of brackets`);if(!i&&!n&&o==="]")throw new $i.OPDUtilsObjectTraversalError(`Invalid character '${o}' at position ${a} in "${t}", expected '[' to proceed`)}}Qn.validatePath=dE});var Gl=gr(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.P_HELPERS=Mn.ParserHelpers=Mn.validateRegexFlags=Mn.validateRange=Mn.getIndex=Mn.arrayUnion=void 0;var jp=jl();function hL(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0)return e;if(e===void 0)return t;for(let r of e)t.includes(r)||t.push(r);return t}}Mn.arrayUnion=hL;function gL(t){return t===void 0?-1:t.index}Mn.getIndex=gL;function vL(t,e){if(e<t)throw new Error(`Invalid Range: max might not be smaller than min. Received [${t}, ${e}].`);if(t<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${t}, ${e}].`);if(t===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${t}, ${e}].`);if(!Number.isInteger(t)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${t}, ${e}].`)}Mn.validateRange=vL;function yL(t){for(let e of t)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}Mn.validateRegexFlags=yL;var Hl=class{followedBy(e){return new jp.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new jp.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new jp.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};Mn.ParserHelpers=Hl;Mn.P_HELPERS=new Hl});var CE=gr(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.ParserContext=void 0;var Zp=Gl(),Yp=class t{constructor(e,r){this.input=e,this.position=r}moveToPosition(e){return this.position=e,this}copy(){return new t(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let r=this.position.index;r<e;r++)this.input[r]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,r){return this.succeedAt(this.position.index+e,r)}failOffset(e,r){return this.failAt(this.position.index+e,r)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,r){return this.advanceTo(e),{success:!0,value:r,furthest:void 0,expected:void 0}}failAt(e,r){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(r)?r:[r]}}merge(e,r){if(e===void 0)return r;let n=(0,Zp.getIndex)(e.furthest),i=(0,Zp.getIndex)(r.furthest);if(i>n)return r;let a=i===n?(0,Zp.arrayUnion)(e.expected,r.expected):e.expected;return r.furthest=e.furthest,r.expected=a,r}};Zl.ParserContext=Yp});var co=gr(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.P_UTILS=void 0;var Yl=jl(),nr=Ea(),Jp=class t{static position(){return new Yl.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Yl.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Yl.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Yl.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return nr.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return nr.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return nr.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return nr.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return nr.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return nr.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return nr.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return nr.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return nr.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return nr.P.regexp(/^\s+/).describe("whitespace")}static cr(){return nr.P.string("\r")}static lf(){return nr.P.string(`
`)}static crlf(){return nr.P.string(`\r
`)}static newline(){return nr.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,r,n){return nr.P.sequenceMap((i,a)=>i.reduce((o,l)=>n(l,o),a),e.many(),r)}static postfix(e,r,n){return nr.P.sequenceMap((i,a)=>a.reduce((o,l)=>n(l,o),i),r,e.many())}static binaryRight(e,r,n){return nr.P.sequenceMap((i,a)=>i.reverse().reduce((o,l)=>{let[u,s]=l;return n(u,s,o)},a),nr.P.sequence(r,e.trim(this.optionalWhitespace())).many(),r)}static binaryLeft(e,r,n){return nr.P.sequenceMap((i,a)=>a.reduce((o,l)=>{let[u,s]=l;return n(o,u,s)},i),r,nr.P.sequence(e.trim(this.optionalWhitespace()),r).many())}static binaryRightRange(e,r,n){return nr.P.sequenceMap((i,a,o)=>i.reverse().reduce((l,u)=>{let[s,c,f]=u;return n({from:s,to:o},c,f,l)},a),nr.P.sequence(t.position(),r,e.trim(this.optionalWhitespace())).many(),r,t.position())}static binaryLeftRange(e,r,n){return nr.P.sequenceMap((i,a,o)=>o.reduce((l,u)=>{let[s,c,f]=u;return n({from:i,to:f},l,s,c)},a),t.position(),r,nr.P.sequence(e.trim(this.optionalWhitespace()),r,t.position()).many())}static func(e,r,n){let i=typeof e=="string"?nr.P.string(e):e;return nr.P.sequenceMap((a,o,l,u,s,c)=>n(a,u),i,nr.P.string("("),this.optionalWhitespace(),r,this.optionalWhitespace(),nr.P.string(")"))}};Jl.P_UTILS=Jp});var AE=gr(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.ParsingError=Yo.createParsingErrorMessage=void 0;function FE(t,e,r){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(r){let o=t.split(`
`)[e.furthest.line-1],l=`${e.furthest.line} |   `;i+=`

${l}${o}`,i+=`
${" ".repeat(e.furthest.column-1+l.length)}^ (${n})`}return i}Yo.createParsingErrorMessage=FE;var Xp=class extends Error{constructor(e,r){super(FE(e,r,!0))}};Yo.ParsingError=Xp});var jl=gr(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.Parser=void 0;var bL=CE(),Kn=Ea(),Qp=Gl(),Jo=co(),xL=AE(),Kp=class t{constructor(e){this.p=e}tryParse(e){return this.p(new bL.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let r=this.tryParse(e);if(r.success)return r.value;throw new xL.ParsingError(e,r)}or(e){return Kn.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(Kn.P.string(e))}wrap(e,r){let n=this;return new t(function(a){let o=e.p(a);if(!o.success)return o;let l=a.merge(o,n.p(a));if(!l.success)return l;let u=a.merge(l,r.p(a));return u.success?a.merge(u,a.succeed(l.value)):u})}wrapString(e,r){return this.wrap(Kn.P.string(e),Kn.P.string(r))}then(e){let r=this;return new t(function(i){let a=r.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let r=this;return new t(function(i){let a=r.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return Kn.P.sequence(this,e)}many(){let e=this;return new t(function(n){let i,a=n.position.index,o=[];for(;;){let l=n.copy(),u=e.p(l);if(i=n.merge(i,u),i.success){if(l.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(l.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,r){(0,Qp.validateRange)(e,r);let n=this;return new t(function(a){let o,l,u=[],s=0;for(;s<e;s++)if(o=n.p(a),l=a.merge(l,o),o.success)u.push(o.value);else return l;for(;s<r;s++){let c=a.copy();if(o=n.p(c),l=a.merge(l,o),o.success)a.moveToPosition(c.position),u.push(o.value);else break}return a.merge(l,a.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return Kn.P.sequenceMap((r,n)=>r.concat(n),this.repeat(e,e),this.many())}separateBy(e){return Kn.P.separateBy(this,e)}separateByNotEmpty(e){return Kn.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let r=this;return new t(function(i){let a=r.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return Kn.P.sequenceMap(function(r,n,i){return{value:n,range:{from:r,to:i}}},Jo.P_UTILS.position(),this,Jo.P_UTILS.position())}namedMarker(e){return Kn.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},Jo.P_UTILS.position(),this,Jo.P_UTILS.position())}node(e){return Kn.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},Jo.P_UTILS.position(),this,Jo.P_UTILS.position())}followedBy(e){return this.skip(Qp.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(Qp.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let r=this;return new t(function(i){let a=r.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let r=this;return new t(function(i){var a;let o=r.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or(Kn.P.succeed(e))}chain(e){let r=this;return new t(function(i){let a=r.p(i);if(!a.success)return a;let l=e(a.value).p(i);return i.merge(a,l)})}thenEof(){let e=this;return new t(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,r="",n=new Map,i=new Map;return new t(function(o){let l=o.position.index;if(o.input!==r)r=o.input,n.clear(),i.clear();else{let s=n.get(l),c=i.get(l);if(s!==void 0&&c!==void 0)return o.moveToPosition(Object.assign({},c)),Object.assign({},s)}let u=e.p(o);return n.set(l,Object.assign({},u)),i.set(l,o.getPosition()),u})}};Xl.Parser=Kp});var Ea=gr(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.P=void 0;var Vn=jl(),Ql=Gl(),$p=class t{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new Vn.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let u=e[o].p(n);if(i=n.merge(i,u),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...r){if(r.length===0)throw new Error("sequenceMap must have at least one parser argument");return new Vn.Parser(function(i){let a,o=new Array(r.length);for(let l=0;l<r.length;l++){let s=r[l].p(i);if(a=i.merge(a,s),!a.success)return a;o[l]=a.value}return a.value=e(...o),a})}static createLanguage(e){let r={},n={},i={};for(let a in e)i[a]=t.reference(()=>e[a](r,i)),Object.defineProperty(n,a,{get:()=>{if(r[a]!==void 0)return r[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)r[a]=e[a](n,i);return r}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new Vn.Parser(function(n){let i;for(let a of e){let o=a,l=n.copy(),u=o.p(l);if(i=n.merge(i,u),i.success)return n.moveToPosition(l.position),i}return i})}static separateBy(e,r){return this.separateByNotEmpty(e,r).or(t.succeed([]))}static separateByNotEmpty(e,r){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,r.then(e).many())}static string(e){let r="'"+e+"'";return new Vn.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(r);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,r){(0,Ql.validateRegexFlags)(e.flags);let n=e.source;return r!==void 0?new Vn.Parser(function(a){let o=a.input.slice(a.position.index),l=e.exec(o);if(l!==null){let u=r!=null?r:0;if(u>=0&&u<=l.length){let c=l[0],f=l[u];return a.succeedOffset(c.length,f)}let s="expected valid match group (0 to "+l.length+") in "+n;return a.fail(s)}else return a.fail(n)}):new Vn.Parser(function(a){let o=a.input.slice(a.position.index),l=e.exec(o);if(l!==null){let u=l[0];return a.succeedOffset(u.length,u)}else return a.fail(n)})}static succeed(e){return new Vn.Parser(function(n){return n.succeed(e)})}static fail(e){return new Vn.Parser(function(n){return n.fail(e)})}static oneOf(e){return Ql.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return Ql.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(r=>this.string(r))).describe(e.map(r=>`'${r}'`).join(" or "))}static manyOf(e){return new Vn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new Vn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new Vn.Parser(e)}static range(e,r){let n=e.charCodeAt(0),i=r.charCodeAt(0);return Ql.P_HELPERS.test(function(o){let l=o.charCodeAt(0);return n<=l&&l<=i}).describe(`${e}-${r}`)}static takeWhile(e){return new Vn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new Vn.Parser(function(n){return e().p(n)})}};Kl.P=$p});var Vd=gr(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});require("obsidian");var ra=class extends Error{},fd=class extends ra{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},md=class extends ra{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},pd=class extends ra{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},ho=class extends ra{},fc=class extends ra{constructor(e){super(`Invalid unit ${e}`)}},Tn=class extends ra{},Li=class extends ra{constructor(){super("Zone is an abstract class")}},Ye="numeric",wi="short",Wn="long",mc={year:Ye,month:Ye,day:Ye},cC={year:Ye,month:wi,day:Ye},kL={year:Ye,month:wi,day:Ye,weekday:wi},fC={year:Ye,month:Wn,day:Ye},mC={year:Ye,month:Wn,day:Ye,weekday:Wn},pC={hour:Ye,minute:Ye},dC={hour:Ye,minute:Ye,second:Ye},hC={hour:Ye,minute:Ye,second:Ye,timeZoneName:wi},gC={hour:Ye,minute:Ye,second:Ye,timeZoneName:Wn},vC={hour:Ye,minute:Ye,hourCycle:"h23"},yC={hour:Ye,minute:Ye,second:Ye,hourCycle:"h23"},bC={hour:Ye,minute:Ye,second:Ye,hourCycle:"h23",timeZoneName:wi},xC={hour:Ye,minute:Ye,second:Ye,hourCycle:"h23",timeZoneName:Wn},DC={year:Ye,month:Ye,day:Ye,hour:Ye,minute:Ye},wC={year:Ye,month:Ye,day:Ye,hour:Ye,minute:Ye,second:Ye},EC={year:Ye,month:wi,day:Ye,hour:Ye,minute:Ye},CC={year:Ye,month:wi,day:Ye,hour:Ye,minute:Ye,second:Ye},RL={year:Ye,month:wi,day:Ye,weekday:wi,hour:Ye,minute:Ye},FC={year:Ye,month:Wn,day:Ye,hour:Ye,minute:Ye,timeZoneName:wi},AC={year:Ye,month:Wn,day:Ye,hour:Ye,minute:Ye,second:Ye,timeZoneName:wi},SC={year:Ye,month:Wn,day:Ye,weekday:Wn,hour:Ye,minute:Ye,timeZoneName:Wn},NC={year:Ye,month:Wn,day:Ye,weekday:Wn,hour:Ye,minute:Ye,second:Ye,timeZoneName:Wn},vo=class{get type(){throw new Li}get name(){throw new Li}get ianaName(){return this.name}get isUniversal(){throw new Li}offsetName(e,r){throw new Li}formatOffset(e,r){throw new Li}offset(e){throw new Li}equals(e){throw new Li}get isValid(){throw new Li}},nd=null,pc=class t extends vo{static get instance(){return nd===null&&(nd=new t),nd}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return MC(e,r,n)}formatOffset(e,r){return vu(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},lc={};function PL(t){return lc[t]||(lc[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),lc[t]}var LL={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function qL(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,a,o,l,u,s,c]=n;return[o,i,a,l,u,s,c]}function VL(t,e){let r=t.formatToParts(e),n=[];for(let i=0;i<r.length;i++){let{type:a,value:o}=r[i],l=LL[a];a==="era"?n[l]=o:Rt(l)||(n[l]=parseInt(o,10))}return n}var ac={},Na=class t extends vo{static create(e){return ac[e]||(ac[e]=new t(e)),ac[e]}static resetCache(){ac={},lc={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(r){return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return MC(e,r,n,this.name)}formatOffset(e,r){return vu(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=PL(this.name),[i,a,o,l,u,s,c]=n.formatToParts?VL(n,r):qL(n,r);l==="BC"&&(i=-Math.abs(i)+1);let m=Bd({year:i,month:a,day:o,hour:u===24?0:u,minute:s,second:c,millisecond:0}),p=+r,h=p%1e3;return p-=h>=0?h:1e3+h,(m-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},kE={};function UL(t,e={}){let r=JSON.stringify([t,e]),n=kE[r];return n||(n=new Intl.ListFormat(t,e),kE[r]=n),n}var dd={};function hd(t,e={}){let r=JSON.stringify([t,e]),n=dd[r];return n||(n=new Intl.DateTimeFormat(t,e),dd[r]=n),n}var gd={};function zL(t,e={}){let r=JSON.stringify([t,e]),n=gd[r];return n||(n=new Intl.NumberFormat(t,e),gd[r]=n),n}var vd={};function WL(t,e={}){let{base:r,...n}=e,i=JSON.stringify([t,n]),a=vd[i];return a||(a=new Intl.RelativeTimeFormat(t,e),vd[i]=a),a}var hu=null;function HL(){return hu||(hu=new Intl.DateTimeFormat().resolvedOptions().locale,hu)}function GL(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,i;try{n=hd(t).resolvedOptions(),i=t}catch(l){let u=t.substring(0,r);n=hd(u).resolvedOptions(),i=u}let{numberingSystem:a,calendar:o}=n;return[i,a,o]}}function jL(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function ZL(t){let e=[];for(let r=1;r<=12;r++){let n=At.utc(2016,r,1);e.push(t(n))}return e}function YL(t){let e=[];for(let r=1;r<=7;r++){let n=At.utc(2016,11,13+r);e.push(t(n))}return e}function oc(t,e,r,n,i){let a=t.listingMode(r);return a==="error"?null:a==="en"?n(e):i(e)}function JL(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var yd=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:i,floor:a,...o}=n;if(!r||Object.keys(o).length>0){let l={useGrouping:!1,...n};n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=zL(e,l)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):Id(e,3);return Br(r,this.padTo)}}},bd=class{constructor(e,r,n){this.opts=n;let i;if(e.zone.isUniversal){let o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Na.create(l).valid?(i=l,this.dt=e):(i="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:At.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);let a={...this.opts};a.timeZone=a.timeZone||i,this.dtf=hd(r,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},xd=class{constructor(e,r,n){this.opts={style:"long",...n},!r&&_C()&&(this.rtf=WL(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):f5(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},Cr=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,i=!1){let a=e||Er.defaultLocale,o=a||(i?"en-US":HL()),l=r||Er.defaultNumberingSystem,u=n||Er.defaultOutputCalendar;return new t(o,l,u,a)}static resetCache(){hu=null,dd={},gd={},vd={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return t.create(e,r,n)}constructor(e,r,n,i){let[a,o,l]=GL(e);this.locale=a,this.numberingSystem=r||o||null,this.outputCalendar=n||l||null,this.intl=jL(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=JL(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1,n=!0){return oc(this,e,n,BC,()=>{let i=r?{month:e,day:"numeric"}:{month:e},a=r?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=ZL(o=>this.extract(o,i,"month"))),this.monthsCache[a][e]})}weekdays(e,r=!1,n=!0){return oc(this,e,n,RC,()=>{let i=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=r?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=YL(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return oc(this,void 0,e,()=>PC,()=>{if(!this.meridiemCache){let r={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[At.utc(2016,11,13,9),At.utc(2016,11,13,19)].map(n=>this.extract(n,r,"dayperiod"))}return this.meridiemCache})}eras(e,r=!0){return oc(this,e,r,LC,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[At.utc(-40,1,1),At.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,r,n){let i=this.dtFormatter(e,r),a=i.formatToParts(),o=a.find(l=>l.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new yd(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new bd(e,this.intl,r)}relFormatter(e={}){return new xd(this.intl,this.isEnglish(),e)}listFormatter(e={}){return UL(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},id=null,ri=class t extends vo{static get utcInstance(){return id===null&&(id=new t(0)),id}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new t(Dc(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${vu(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${vu(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return vu(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},Dd=class extends vo{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Sa(t,e){if(Rt(t)||t===null)return e;if(t instanceof vo)return t;if(XL(t)){let r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?pc.instance:r==="utc"||r==="gmt"?ri.utcInstance:ri.parseSpecifier(r)||Na.create(t)}else return go(t)?ri.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new Dd(t)}var RE=()=>Date.now(),PE="system",LE=null,qE=null,VE=null,UE=60,zE,Er=class{static get now(){return RE}static set now(e){RE=e}static set defaultZone(e){PE=e}static get defaultZone(){return Sa(PE,pc.instance)}static get defaultLocale(){return LE}static set defaultLocale(e){LE=e}static get defaultNumberingSystem(){return qE}static set defaultNumberingSystem(e){qE=e}static get defaultOutputCalendar(){return VE}static set defaultOutputCalendar(e){VE=e}static get twoDigitCutoffYear(){return UE}static set twoDigitCutoffYear(e){UE=e%100}static get throwOnInvalid(){return zE}static set throwOnInvalid(e){zE=e}static resetCaches(){Cr.resetCache(),Na.resetCache()}};function Rt(t){return typeof t=="undefined"}function go(t){return typeof t=="number"}function xc(t){return typeof t=="number"&&t%1===0}function XL(t){return typeof t=="string"}function QL(t){return Object.prototype.toString.call(t)==="[object Date]"}function _C(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function KL(t){return Array.isArray(t)?t:[t]}function WE(t,e,r){if(t.length!==0)return t.reduce((n,i)=>{let a=[e(i),i];return n&&r(n[0],a[0])===n[0]?n:a},null)[1]}function $L(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function ss(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ta(t,e,r){return xc(t)&&t>=e&&t<=r}function e5(t,e){return t-e*Math.floor(t/e)}function Br(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Aa(t){if(!(Rt(t)||t===null||t===""))return parseInt(t,10)}function mo(t){if(!(Rt(t)||t===null||t===""))return parseFloat(t)}function Td(t){if(!(Rt(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Id(t,e,r=!1){let n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function xu(t){return t%4===0&&(t%100!==0||t%400===0)}function gu(t){return xu(t)?366:365}function dc(t,e){let r=e5(e-1,12)+1,n=t+(e-r)/12;return r===2?xu(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Bd(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function hc(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function wd(t){return t>99?t:t>Er.twoDigitCutoffYear?1900+t:2e3+t}function MC(t,e,r,n=null){let i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let o={timeZoneName:e,...a},l=new Intl.DateTimeFormat(r,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return l?l.value:null}function Dc(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,i=r<0||Object.is(r,-0)?-n:n;return r*60+i}function TC(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Tn(`Invalid unit value ${t}`);return e}function gc(t,e){let r={};for(let n in t)if(ss(t,n)){let i=t[n];if(i==null)continue;r[e(n)]=TC(i)}return r}function vu(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Br(r,2)}:${Br(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${Br(r,2)}${Br(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function wc(t){return $L(t,["hour","minute","second","millisecond"])}var t5=["January","February","March","April","May","June","July","August","September","October","November","December"],IC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r5=["J","F","M","A","M","J","J","A","S","O","N","D"];function BC(t){switch(t){case"narrow":return[...r5];case"short":return[...IC];case"long":return[...t5];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var OC=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],kC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n5=["M","T","W","T","F","S","S"];function RC(t){switch(t){case"narrow":return[...n5];case"short":return[...kC];case"long":return[...OC];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var PC=["AM","PM"],i5=["Before Christ","Anno Domini"],a5=["BC","AD"],o5=["B","A"];function LC(t){switch(t){case"narrow":return[...o5];case"short":return[...a5];case"long":return[...i5];default:return null}}function s5(t){return PC[t.hour<12?0:1]}function u5(t,e){return RC(e)[t.weekday-1]}function l5(t,e){return BC(e)[t.month-1]}function c5(t,e){return LC(e)[t.year<0?0:1]}function f5(t,e,r="always",n=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&a){let f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${i[t][0]}`;case-1:return f?"yesterday":`last ${i[t][0]}`;case 0:return f?"today":`this ${i[t][0]}`}}let o=Object.is(e,-0)||e<0,l=Math.abs(e),u=l===1,s=i[t],c=n?u?s[1]:s[2]||s[1]:u?i[t][0]:t;return o?`${l} ${c} ago`:`in ${l} ${c}`}function HE(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var m5={D:mc,DD:cC,DDD:fC,DDDD:mC,t:pC,tt:dC,ttt:hC,tttt:gC,T:vC,TT:yC,TTT:bC,TTTT:xC,f:DC,ff:EC,fff:FC,ffff:SC,F:wC,FF:CC,FFF:AC,FFFF:NC},Un=class t{static create(e,r={}){return new t(e,r)}static parseFormat(e){let r=null,n="",i=!1,a=[];for(let o=0;o<e.length;o++){let l=e.charAt(o);l==="'"?(n.length>0&&a.push({literal:i,val:n}),r=null,n="",i=!i):i||l===r?n+=l:(n.length>0&&a.push({literal:!1,val:n}),n=l,r=l)}return n.length>0&&a.push({literal:i,val:n}),a}static macroTokenToFormatOpts(e){return m5[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTime(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).format()}formatDateTimeParts(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).formatToParts()}formatInterval(e,r={}){return this.loc.dtFormatter(e.start,{...this.opts,...r}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r}).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return Br(e,r);let n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(p,h)=>this.loc.extract(e,p,h),o=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",l=()=>n?s5(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(p,h)=>n?l5(e,p):a(h?{month:p}:{month:p,day:"numeric"},"month"),s=(p,h)=>n?u5(e,p):a(h?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),c=p=>{let h=t.macroTokenToFormatOpts(p);return h?this.formatWithSystemDefault(e,h):p},f=p=>n?c5(e,p):a({era:p},"era"),m=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return s("short",!0);case"cccc":return s("long",!0);case"ccccc":return s("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return s("short",!1);case"EEEE":return s("long",!1);case"EEEEE":return s("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(p)}};return HE(t.parseFormat(r),m)}formatDurationFromString(e,r){let n=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>s=>{let c=n(s);return c?this.num(u.get(c),s.length):s},a=t.parseFormat(r),o=a.reduce((u,{literal:s,val:c})=>s?u:u.concat(c),[]),l=e.shiftTo(...o.map(n).filter(u=>u));return HE(a,i(l))}},zn=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},qC=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function us(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function ls(...t){return e=>t.reduce(([r,n,i],a)=>{let[o,l,u]=a(e,i);return[{...r,...o},l||n,u]},[{},null,1]).slice(0,2)}function cs(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let i=r.exec(t);if(i)return n(i)}return[null,null]}function VC(...t){return(e,r)=>{let n={},i;for(i=0;i<t.length;i++)n[t[i]]=Aa(e[r+i]);return[n,null,r+i]}}var UC=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,p5=`(?:${UC.source}?(?:\\[(${qC.source})\\])?)?`,Od=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,zC=RegExp(`${Od.source}${p5}`),kd=RegExp(`(?:T${zC.source})?`),d5=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,h5=/(\d{4})-?W(\d\d)(?:-?(\d))?/,g5=/(\d{4})-?(\d{3})/,v5=VC("weekYear","weekNumber","weekDay"),y5=VC("year","ordinal"),b5=/(\d{4})-(\d\d)-(\d\d)/,WC=RegExp(`${Od.source} ?(?:${UC.source}|(${qC.source}))?`),x5=RegExp(`(?: ${WC.source})?`);function as(t,e,r){let n=t[e];return Rt(n)?r:Aa(n)}function D5(t,e){return[{year:as(t,e),month:as(t,e+1,1),day:as(t,e+2,1)},null,e+3]}function fs(t,e){return[{hours:as(t,e,0),minutes:as(t,e+1,0),seconds:as(t,e+2,0),milliseconds:Td(t[e+3])},null,e+4]}function Du(t,e){let r=!t[e]&&!t[e+1],n=Dc(t[e+1],t[e+2]),i=r?null:ri.instance(n);return[{},i,e+3]}function wu(t,e){let r=t[e]?Na.create(t[e]):null;return[{},r,e+1]}var w5=RegExp(`^T?${Od.source}$`),E5=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function C5(t){let[e,r,n,i,a,o,l,u,s]=t,c=e[0]==="-",f=u&&u[0]==="-",m=(p,h=!1)=>p!==void 0&&(h||p&&c)?-p:p;return[{years:m(mo(r)),months:m(mo(n)),weeks:m(mo(i)),days:m(mo(a)),hours:m(mo(o)),minutes:m(mo(l)),seconds:m(mo(u),u==="-0"),milliseconds:m(Td(s),f)}]}var F5={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Rd(t,e,r,n,i,a,o){let l={year:e.length===2?wd(Aa(e)):Aa(e),month:IC.indexOf(r)+1,day:Aa(n),hour:Aa(i),minute:Aa(a)};return o&&(l.second=Aa(o)),t&&(l.weekday=t.length>3?OC.indexOf(t)+1:kC.indexOf(t)+1),l}var A5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function S5(t){let[,e,r,n,i,a,o,l,u,s,c,f]=t,m=Rd(e,i,n,r,a,o,l),p;return u?p=F5[u]:s?p=0:p=Dc(c,f),[m,new ri(p)]}function N5(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var _5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,M5=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,T5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function GE(t){let[,e,r,n,i,a,o,l]=t;return[Rd(e,i,n,r,a,o,l),ri.utcInstance]}function I5(t){let[,e,r,n,i,a,o,l]=t;return[Rd(e,l,r,n,i,a,o),ri.utcInstance]}var B5=us(d5,kd),O5=us(h5,kd),k5=us(g5,kd),R5=us(zC),HC=ls(D5,fs,Du,wu),P5=ls(v5,fs,Du,wu),L5=ls(y5,fs,Du,wu),q5=ls(fs,Du,wu);function V5(t){return cs(t,[B5,HC],[O5,P5],[k5,L5],[R5,q5])}function U5(t){return cs(N5(t),[A5,S5])}function z5(t){return cs(t,[_5,GE],[M5,GE],[T5,I5])}function W5(t){return cs(t,[E5,C5])}var H5=ls(fs);function G5(t){return cs(t,[w5,H5])}var j5=us(b5,x5),Z5=us(WC),Y5=ls(fs,Du,wu);function J5(t){return cs(t,[j5,HC],[Z5,Y5])}var X5="Invalid Duration",GC={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Q5={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...GC},ei=146097/400,rs=146097/4800,K5={years:{quarters:4,months:12,weeks:ei/7,days:ei,hours:ei*24,minutes:ei*24*60,seconds:ei*24*60*60,milliseconds:ei*24*60*60*1e3},quarters:{months:3,weeks:ei/28,days:ei/4,hours:ei*24/4,minutes:ei*24*60/4,seconds:ei*24*60*60/4,milliseconds:ei*24*60*60*1e3/4},months:{weeks:rs/7,days:rs,hours:rs*24,minutes:rs*24*60,seconds:rs*24*60*60,milliseconds:rs*24*60*60*1e3},...GC},po=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],$5=po.slice(0).reverse();function Fa(t,e,r=!1){let n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new mt(n)}function e7(t){return t<0?Math.floor(t):Math.ceil(t)}function jC(t,e,r,n,i){let a=t[i][r],o=e[r]/a,l=Math.sign(o)===Math.sign(n[i]),u=!l&&n[i]!==0&&Math.abs(o)<=1?e7(o):Math.trunc(o);n[i]+=u,e[r]-=u*a}function t7(t,e){$5.reduce((r,n)=>Rt(e[n])?r:(r&&jC(t,e,r,e,n),n),null)}function r7(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var mt=class t{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?K5:Q5;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Cr.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return t.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Tn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:gc(e,t.normalizeUnit),loc:Cr.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(go(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new Tn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=W5(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=G5(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Tn("need to specify a reason the Duration is invalid");let n=e instanceof zn?e:new zn(e,r);if(Er.throwOnInvalid)throw new pd(n);return new t({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new fc(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Un.create(this.loc,n).formatDurationFromString(this,e):X5}toHuman(e={}){let r=po.map(n=>{let i=this.values[n];return Rt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Id(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();if(r<0||r>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let n=this.shiftTo("hours","minutes","seconds","milliseconds"),i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let a=n.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e),n={};for(let i of po)(ss(r.values,i)||ss(this.values,i))&&(n[i]=r.get(i)+this.get(i));return Fa(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=TC(e(this.values[n],n));return Fa(this,{values:r},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r={...this.values,...gc(e,t.normalizeUnit)};return Fa(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:i}={}){let o={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:i,conversionAccuracy:n};return Fa(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return t7(this.matrix,e),Fa(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=r7(this.normalize().shiftToAll().toObject());return Fa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>t.normalizeUnit(o));let r={},n={},i=this.toObject(),a;for(let o of po)if(e.indexOf(o)>=0){a=o;let l=0;for(let s in n)l+=this.matrix[s][o]*n[s],n[s]=0;go(i[o])&&(l+=i[o]);let u=Math.trunc(l);r[o]=u,n[o]=(l*1e3-u*1e3)/1e3;for(let s in i)po.indexOf(s)>po.indexOf(o)&&jC(this.matrix,i,s,r,o)}else go(i[o])&&(n[o]=i[o]);for(let o in n)n[o]!==0&&(r[a]+=o===a?n[o]:n[o]/this.matrix[a][o]);return Fa(this,{values:r},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return Fa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(let n of po)if(!r(this.values[n],e.values[n]))return!1;return!0}},ns="Invalid Interval";function n7(t,e){return!t||!t.isValid?os.invalid("missing or invalid start"):!e||!e.isValid?os.invalid("missing or invalid end"):e<t?os.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var os=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Tn("need to specify a reason the Interval is invalid");let n=e instanceof zn?e:new zn(e,r);if(Er.throwOnInvalid)throw new md(n);return new t({invalid:n})}static fromDateTimes(e,r){let n=pu(e),i=pu(r),a=n7(n,i);return a==null?new t({start:n,end:i}):a}static after(e,r){let n=mt.fromDurationLike(r),i=pu(e);return t.fromDateTimes(i,i.plus(n))}static before(e,r){let n=mt.fromDurationLike(r),i=pu(e);return t.fromDateTimes(i.minus(n),i)}static fromISO(e,r){let[n,i]=(e||"").split("/",2);if(n&&i){let a,o;try{a=At.fromISO(n,r),o=a.isValid}catch(s){o=!1}let l,u;try{l=At.fromISO(i,r),u=l.isValid}catch(s){u=!1}if(o&&u)return t.fromDateTimes(a,l);if(o){let s=mt.fromISO(i,r);if(s.isValid)return t.after(a,s)}else if(u){let s=mt.fromISO(n,r);if(s.isValid)return t.before(l,s)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?t.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(pu).filter(o=>this.contains(o)).sort(),n=[],{s:i}=this,a=0;for(;i<this.e;){let o=r[a]||this.e,l=+o>+this.e?this.e:o;n.push(t.fromDateTimes(i,l)),i=l,a+=1}return n}splitBy(e){let r=mt.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,i=1,a,o=[];for(;n<this.e;){let l=this.start.plus(r.mapUnits(u=>u*i));a=+l>+this.e?this.e:l,o.push(t.fromDateTimes(n,a)),n=a,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:t.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return t.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[i,a.union(o)]:[i.concat([a]),o]:[i,o],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,i=[],a=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...a),l=o.sort((u,s)=>u.time-s.time);for(let u of l)n+=u.type==="s"?1:-1,n===1?r=u.time:(r&&+r!=+u.time&&i.push(t.fromDateTimes(r,u.time)),r=null);return t.merge(i)}difference(...e){return t.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:ns}toLocaleString(e=mc,r={}){return this.isValid?Un.create(this.s.loc.clone(r),e).formatInterval(this):ns}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:ns}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ns}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:ns}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:ns}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):mt.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}},is=class{static hasDST(e=Er.defaultZone){let r=At.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Na.isValidZone(e)}static normalizeZone(e){return Sa(e,Er.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Cr.create(r,n,a)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Cr.create(r,n,a)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Cr.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:i=null}={}){return(i||Cr.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Cr.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Cr.create(r,null,"gregory").eras(e)}static features(){return{relative:_C()}}};function jE(t,e){let r=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(mt.fromMillis(n).as("days"))}function i7(t,e,r){let n=[["years",(u,s)=>s.year-u.year],["quarters",(u,s)=>s.quarter-u.quarter+(s.year-u.year)*4],["months",(u,s)=>s.month-u.month+(s.year-u.year)*12],["weeks",(u,s)=>{let c=jE(u,s);return(c-c%7)/7}],["days",jE]],i={},a=t,o,l;for(let[u,s]of n)r.indexOf(u)>=0&&(o=u,i[u]=s(t,e),l=a.plus(i),l>e?(i[u]--,t=a.plus(i)):t=l);return[t,i,l,o]}function a7(t,e,r,n){let[i,a,o,l]=i7(t,e,r),u=e-i,s=r.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);s.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(a[l]=(a[l]||0)+u/(o-i)));let c=mt.fromObject(a,n);return s.length>0?mt.fromMillis(u,n).shiftTo(...s).plus(c):c}var Pd={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},ZE={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},o7=Pd.hanidec.replace(/[\[|\]]/g,"").split("");function s7(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(Pd.hanidec)!==-1)e+=o7.indexOf(t[r]);else for(let i in ZE){let[a,o]=ZE[i];n>=a&&n<=o&&(e+=n-a)}}return parseInt(e,10)}else return e}function bi({numberingSystem:t},e=""){return new RegExp(`${Pd[t||"latn"]}${e}`)}var u7="missing Intl.DateTimeFormat.formatToParts support";function jt(t,e=r=>r){return{regex:t,deser:([r])=>e(s7(r))}}var l7=String.fromCharCode(160),ZC=`[ ${l7}]`,YC=new RegExp(ZC,"g");function c7(t){return t.replace(/\./g,"\\.?").replace(YC,ZC)}function YE(t){return t.replace(/\./g,"").replace(YC," ").toLowerCase()}function xi(t,e){return t===null?null:{regex:RegExp(t.map(c7).join("|")),deser:([r])=>t.findIndex(n=>YE(r)===YE(n))+e}}function JE(t,e){return{regex:t,deser:([,r,n])=>Dc(r,n),groups:e}}function ad(t){return{regex:t,deser:([e])=>e}}function f7(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function m7(t,e){let r=bi(e),n=bi(e,"{2}"),i=bi(e,"{3}"),a=bi(e,"{4}"),o=bi(e,"{6}"),l=bi(e,"{1,2}"),u=bi(e,"{1,3}"),s=bi(e,"{1,6}"),c=bi(e,"{1,9}"),f=bi(e,"{2,4}"),m=bi(e,"{4,6}"),p=g=>({regex:RegExp(f7(g.val)),deser:([v])=>v,literal:!0}),d=(g=>{if(t.literal)return p(g);switch(g.val){case"G":return xi(e.eras("short",!1),0);case"GG":return xi(e.eras("long",!1),0);case"y":return jt(s);case"yy":return jt(f,wd);case"yyyy":return jt(a);case"yyyyy":return jt(m);case"yyyyyy":return jt(o);case"M":return jt(l);case"MM":return jt(n);case"MMM":return xi(e.months("short",!0,!1),1);case"MMMM":return xi(e.months("long",!0,!1),1);case"L":return jt(l);case"LL":return jt(n);case"LLL":return xi(e.months("short",!1,!1),1);case"LLLL":return xi(e.months("long",!1,!1),1);case"d":return jt(l);case"dd":return jt(n);case"o":return jt(u);case"ooo":return jt(i);case"HH":return jt(n);case"H":return jt(l);case"hh":return jt(n);case"h":return jt(l);case"mm":return jt(n);case"m":return jt(l);case"q":return jt(l);case"qq":return jt(n);case"s":return jt(l);case"ss":return jt(n);case"S":return jt(u);case"SSS":return jt(i);case"u":return ad(c);case"uu":return ad(l);case"uuu":return jt(r);case"a":return xi(e.meridiems(),0);case"kkkk":return jt(a);case"kk":return jt(f,wd);case"W":return jt(l);case"WW":return jt(n);case"E":case"c":return jt(r);case"EEE":return xi(e.weekdays("short",!1,!1),1);case"EEEE":return xi(e.weekdays("long",!1,!1),1);case"ccc":return xi(e.weekdays("short",!0,!1),1);case"cccc":return xi(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return JE(new RegExp(`([+-]${l.source})(?::(${n.source}))?`),2);case"ZZZ":return JE(new RegExp(`([+-]${l.source})(${n.source})?`),2);case"z":return ad(/[a-z_+-/]{1,256}?/i);default:return p(g)}})(t)||{invalidReason:u7};return d.token=t,d}var p7={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function d7(t,e){let{type:r,value:n}=t;if(r==="literal")return{literal:!0,val:n};let i=e[r],a=p7[r];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function h7(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function g7(t,e,r){let n=t.match(e);if(n){let i={},a=1;for(let o in r)if(ss(r,o)){let l=r[o],u=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(n.slice(a,a+u))),a+=u}return[n,i]}else return[n,{}]}function v7(t){let e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return Rt(t.z)||(r=Na.create(t.z)),Rt(t.Z)||(r||(r=new ri(t.Z)),n=t.Z),Rt(t.q)||(t.M=(t.q-1)*3+1),Rt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Rt(t.u)||(t.S=Td(t.u)),[Object.keys(t).reduce((a,o)=>{let l=e(o);return l&&(a[l]=t[o]),a},{}),r,n]}var od=null;function y7(){return od||(od=At.fromMillis(1555555555555)),od}function b7(t,e){if(t.literal)return t;let r=Un.macroTokenToFormatOpts(t.val),n=QC(r,e);return n==null||n.includes(void 0)?t:n}function JC(t,e){return Array.prototype.concat(...t.map(r=>b7(r,e)))}function XC(t,e,r){let n=JC(Un.parseFormat(r),t),i=n.map(o=>m7(o,t)),a=i.find(o=>o.invalidReason);if(a)return{input:e,tokens:n,invalidReason:a.invalidReason};{let[o,l]=h7(i),u=RegExp(o,"i"),[s,c]=g7(e,u,l),[f,m,p]=c?v7(c):[null,null,void 0];if(ss(c,"a")&&ss(c,"H"))throw new ho("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:u,rawMatches:s,matches:c,result:f,zone:m,specificOffset:p}}}function x7(t,e,r){let{result:n,zone:i,specificOffset:a,invalidReason:o}=XC(t,e,r);return[n,i,a,o]}function QC(t,e){return t?Un.create(e,t).formatDateTimeParts(y7()).map(i=>d7(i,t)):null}var KC=[0,31,59,90,120,151,181,212,243,273,304,334],$C=[0,31,60,91,121,152,182,213,244,274,305,335];function ti(t,e){return new zn("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function eF(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let i=n.getUTCDay();return i===0?7:i}function tF(t,e,r){return r+(xu(t)?$C:KC)[e-1]}function rF(t,e){let r=xu(t)?$C:KC,n=r.findIndex(a=>a<e),i=e-r[n];return{month:n+1,day:i}}function Ed(t){let{year:e,month:r,day:n}=t,i=tF(e,r,n),a=eF(e,r,n),o=Math.floor((i-a+10)/7),l;return o<1?(l=e-1,o=hc(l)):o>hc(e)?(l=e+1,o=1):l=e,{weekYear:l,weekNumber:o,weekday:a,...wc(t)}}function XE(t){let{weekYear:e,weekNumber:r,weekday:n}=t,i=eF(e,1,4),a=gu(e),o=r*7+n-i-3,l;o<1?(l=e-1,o+=gu(l)):o>a?(l=e+1,o-=gu(e)):l=e;let{month:u,day:s}=rF(l,o);return{year:l,month:u,day:s,...wc(t)}}function sd(t){let{year:e,month:r,day:n}=t,i=tF(e,r,n);return{year:e,ordinal:i,...wc(t)}}function QE(t){let{year:e,ordinal:r}=t,{month:n,day:i}=rF(e,r);return{year:e,month:n,day:i,...wc(t)}}function D7(t){let e=xc(t.weekYear),r=ta(t.weekNumber,1,hc(t.weekYear)),n=ta(t.weekday,1,7);return e?r?n?!1:ti("weekday",t.weekday):ti("week",t.week):ti("weekYear",t.weekYear)}function w7(t){let e=xc(t.year),r=ta(t.ordinal,1,gu(t.year));return e?r?!1:ti("ordinal",t.ordinal):ti("year",t.year)}function nF(t){let e=xc(t.year),r=ta(t.month,1,12),n=ta(t.day,1,dc(t.year,t.month));return e?r?n?!1:ti("day",t.day):ti("month",t.month):ti("year",t.year)}function iF(t){let{hour:e,minute:r,second:n,millisecond:i}=t,a=ta(e,0,23)||e===24&&r===0&&n===0&&i===0,o=ta(r,0,59),l=ta(n,0,59),u=ta(i,0,999);return a?o?l?u?!1:ti("millisecond",i):ti("second",n):ti("minute",r):ti("hour",e)}var ud="Invalid DateTime",KE=864e13;function sc(t){return new zn("unsupported zone",`the zone "${t.name}" is not supported`)}function ld(t){return t.weekData===null&&(t.weekData=Ed(t.c)),t.weekData}function fu(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new At({...r,...e,old:r})}function aF(t,e,r){let n=t-e*60*1e3,i=r.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;let a=r.offset(n);return i===a?[n,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function $E(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function cc(t,e,r){return aF(Bd(t),e,r)}function eC(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:n,month:i,day:Math.min(t.c.day,dc(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=mt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=Bd(a),[u,s]=aF(l,r,t.zone);return o!==0&&(u+=o,s=t.zone.offset(u)),{ts:u,o:s}}function mu(t,e,r,n,i,a){let{setZone:o,zone:l}=r;if(t&&Object.keys(t).length!==0){let u=e||l,s=At.fromObject(t,{...r,zone:u,specificOffset:a});return o?s:s.setZone(l)}else return At.invalid(new zn("unparsable",`the input "${i}" can't be parsed as ${n}`))}function uc(t,e,r=!0){return t.isValid?Un.create(Cr.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function cd(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=Br(t.c.year,r?6:4),e?(n+="-",n+=Br(t.c.month),n+="-",n+=Br(t.c.day)):(n+=Br(t.c.month),n+=Br(t.c.day)),n}function tC(t,e,r,n,i,a){let o=Br(t.c.hour);return e?(o+=":",o+=Br(t.c.minute),(t.c.second!==0||!r)&&(o+=":")):o+=Br(t.c.minute),(t.c.second!==0||!r)&&(o+=Br(t.c.second),(t.c.millisecond!==0||!n)&&(o+=".",o+=Br(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!a?o+="Z":t.o<0?(o+="-",o+=Br(Math.trunc(-t.o/60)),o+=":",o+=Br(Math.trunc(-t.o%60))):(o+="+",o+=Br(Math.trunc(t.o/60)),o+=":",o+=Br(Math.trunc(t.o%60)))),a&&(o+="["+t.zone.ianaName+"]"),o}var oF={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},E7={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},C7={ordinal:1,hour:0,minute:0,second:0,millisecond:0},sF=["year","month","day","hour","minute","second","millisecond"],F7=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],A7=["year","ordinal","hour","minute","second","millisecond"];function rC(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new fc(t);return e}function nC(t,e){let r=Sa(e.zone,Er.defaultZone),n=Cr.fromObject(e),i=Er.now(),a,o;if(Rt(t.year))a=i;else{for(let s of sF)Rt(t[s])&&(t[s]=oF[s]);let l=nF(t)||iF(t);if(l)return At.invalid(l);let u=r.offset(i);[a,o]=cc(t,u,r)}return new At({ts:a,zone:r,loc:n,o})}function iC(t,e,r){let n=Rt(r.round)?!0:r.round,i=(o,l)=>(o=Id(o,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(o,l)),a=o=>r.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(r.unit)return i(a(r.unit),r.unit);for(let o of r.units){let l=a(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,r.units[r.units.length-1])}function aC(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var At=class t{constructor(e){let r=e.zone||Er.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new zn("invalid input"):null)||(r.isValid?null:sc(r));this.ts=Rt(e.ts)?Er.now():e.ts;let i=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[i,a]=[e.old.c,e.old.o];else{let l=r.offset(this.ts);i=$E(this.ts,l),n=Number.isNaN(i.year)?new zn("invalid input"):null,i=n?null:i,a=n?null:l}this._zone=r,this.loc=e.loc||Cr.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,r]=aC(arguments),[n,i,a,o,l,u,s]=r;return nC({year:n,month:i,day:a,hour:o,minute:l,second:u,millisecond:s},e)}static utc(){let[e,r]=aC(arguments),[n,i,a,o,l,u,s]=r;return e.zone=ri.utcInstance,nC({year:n,month:i,day:a,hour:o,minute:l,second:u,millisecond:s},e)}static fromJSDate(e,r={}){let n=QL(e)?e.valueOf():NaN;if(Number.isNaN(n))return t.invalid("invalid input");let i=Sa(r.zone,Er.defaultZone);return i.isValid?new t({ts:n,zone:i,loc:Cr.fromObject(r)}):t.invalid(sc(i))}static fromMillis(e,r={}){if(go(e))return e<-KE||e>KE?t.invalid("Timestamp out of range"):new t({ts:e,zone:Sa(r.zone,Er.defaultZone),loc:Cr.fromObject(r)});throw new Tn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(go(e))return new t({ts:e*1e3,zone:Sa(r.zone,Er.defaultZone),loc:Cr.fromObject(r)});throw new Tn("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=Sa(r.zone,Er.defaultZone);if(!n.isValid)return t.invalid(sc(n));let i=Er.now(),a=Rt(r.specificOffset)?n.offset(i):r.specificOffset,o=gc(e,rC),l=!Rt(o.ordinal),u=!Rt(o.year),s=!Rt(o.month)||!Rt(o.day),c=u||s,f=o.weekYear||o.weekNumber,m=Cr.fromObject(r);if((c||l)&&f)throw new ho("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&l)throw new ho("Can't mix ordinal dates with month/day");let p=f||o.weekday&&!c,h,d,g=$E(i,a);p?(h=F7,d=E7,g=Ed(g)):l?(h=A7,d=C7,g=sd(g)):(h=sF,d=oF);let v=!1;for(let A of h){let w=o[A];Rt(w)?v?o[A]=d[A]:o[A]=g[A]:v=!0}let E=p?D7(o):l?w7(o):nF(o),y=E||iF(o);if(y)return t.invalid(y);let D=p?XE(o):l?QE(o):o,[b,x]=cc(D,a,n),C=new t({ts:b,zone:n,o:x,loc:m});return o.weekday&&c&&e.weekday!==C.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${C.toISO()}`):C}static fromISO(e,r={}){let[n,i]=V5(e);return mu(n,i,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,i]=U5(e);return mu(n,i,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,i]=z5(e);return mu(n,i,r,"HTTP",r)}static fromFormat(e,r,n={}){if(Rt(e)||Rt(r))throw new Tn("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:a=null}=n,o=Cr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[l,u,s,c]=x7(o,e,r);return c?t.invalid(c):mu(l,u,n,`format ${r}`,e,s)}static fromString(e,r,n={}){return t.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,i]=J5(e);return mu(n,i,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Tn("need to specify a reason the DateTime is invalid");let n=e instanceof zn?e:new zn(e,r);if(Er.throwOnInvalid)throw new fd(n);return new t({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=QC(e,Cr.fromObject(r));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,r={}){return JC(Un.parseFormat(e),Cr.fromObject(r)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ld(this).weekYear:NaN}get weekNumber(){return this.isValid?ld(this).weekNumber:NaN}get weekday(){return this.isValid?ld(this).weekday:NaN}get ordinal(){return this.isValid?sd(this.c).ordinal:NaN}get monthShort(){return this.isValid?is.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?is.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?is.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?is.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return xu(this.year)}get daysInMonth(){return dc(this.year,this.month)}get daysInYear(){return this.isValid?gu(this.year):NaN}get weeksInWeekYear(){return this.isValid?hc(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:i}=Un.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:i}}toUTC(e=0,r={}){return this.setZone(ri.instance(e),r)}toLocal(){return this.setZone(Er.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Sa(e,Er.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(r||n){let a=e.offset(this.ts),o=this.toObject();[i]=cc(o,a,e)}return fu(this,{ts:i,zone:e})}else return t.invalid(sc(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let i=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return fu(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=gc(e,rC),n=!Rt(r.weekYear)||!Rt(r.weekNumber)||!Rt(r.weekday),i=!Rt(r.ordinal),a=!Rt(r.year),o=!Rt(r.month)||!Rt(r.day),l=a||o,u=r.weekYear||r.weekNumber;if((l||i)&&u)throw new ho("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new ho("Can't mix ordinal dates with month/day");let s;n?s=XE({...Ed(this.c),...r}):Rt(r.ordinal)?(s={...this.toObject(),...r},Rt(r.day)&&(s.day=Math.min(dc(s.year,s.month),s.day))):s=QE({...sd(this.c),...r});let[c,f]=cc(s,this.o,this.zone);return fu(this,{ts:c,o:f})}plus(e){if(!this.isValid)return this;let r=mt.fromDurationLike(e);return fu(this,eC(this,r))}minus(e){if(!this.isValid)return this;let r=mt.fromDurationLike(e).negate();return fu(this,eC(this,r))}startOf(e){if(!this.isValid)return this;let r={},n=mt.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){let i=Math.ceil(this.month/3);r.month=(i-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?Un.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):ud}toLocaleString(e=mc,r={}){return this.isValid?Un.create(this.loc.clone(r),e).formatDateTime(this):ud}toLocaleParts(e={}){return this.isValid?Un.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;let o=e==="extended",l=cd(this,o);return l+="T",l+=tC(this,o,r,n,i,a),l}toISODate({format:e="extended"}={}){return this.isValid?cd(this,e==="extended"):null}toISOWeekDate(){return uc(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:a=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+tC(this,o==="extended",r,e,n,a):null}toRFC2822(){return uc(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return uc(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?cd(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(r||e)&&(n&&(i+=" "),r?i+="z":e&&(i+="ZZ")),uc(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():ud}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return mt.invalid("created by diffing an invalid DateTime");let i={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=KL(r).map(mt.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,u=o?e:this,s=a7(l,u,a,i);return o?s.negate():s}diffNow(e="milliseconds",r={}){return this.diff(t.now(),e,r)}until(e){return this.isValid?os.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;let n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(r)<=n&&n<=i.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||t.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),iC(r,this.plus(n),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?iC(e.base||t.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(t.isDateTime))throw new Tn("min requires all arguments be DateTimes");return WE(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new Tn("max requires all arguments be DateTimes");return WE(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:i=null,numberingSystem:a=null}=n,o=Cr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return XC(o,e,r)}static fromStringExplain(e,r,n={}){return t.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return mc}static get DATE_MED(){return cC}static get DATE_MED_WITH_WEEKDAY(){return kL}static get DATE_FULL(){return fC}static get DATE_HUGE(){return mC}static get TIME_SIMPLE(){return pC}static get TIME_WITH_SECONDS(){return dC}static get TIME_WITH_SHORT_OFFSET(){return hC}static get TIME_WITH_LONG_OFFSET(){return gC}static get TIME_24_SIMPLE(){return vC}static get TIME_24_WITH_SECONDS(){return yC}static get TIME_24_WITH_SHORT_OFFSET(){return bC}static get TIME_24_WITH_LONG_OFFSET(){return xC}static get DATETIME_SHORT(){return DC}static get DATETIME_SHORT_WITH_SECONDS(){return wC}static get DATETIME_MED(){return EC}static get DATETIME_MED_WITH_SECONDS(){return CC}static get DATETIME_MED_WITH_WEEKDAY(){return RL}static get DATETIME_FULL(){return FC}static get DATETIME_FULL_WITH_SECONDS(){return AC}static get DATETIME_HUGE(){return SC}static get DATETIME_HUGE_WITH_SECONDS(){return NC}};function pu(t){if(At.isDateTime(t))return t;if(t&&t.valueOf&&go(t.valueOf()))return At.fromJSDate(t);if(t&&typeof t=="object")return At.fromObject(t);throw new Tn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var Ld={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},S7={allowHtml:!0};({...Ld,...S7});var Cd=class t{constructor(e){this.value=e,this.successful=!0}map(e){return new t(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,r){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},Fd=class t{constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new t(e(this.error))}bimap(e,r){return this.mapErr(r)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},vc;(function(t){function e(a){return new Cd(a)}t.success=e;function r(a){return new Fd(a)}t.failure=r;function n(a,o,l){return a.successful?o.successful?l(a.value,o.value):r(o.error):r(a.error)}t.flatMap2=n;function i(a,o,l){return n(a,o,(u,s)=>e(l(u,s)))}t.map2=i})(vc||(vc={}));var N7=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ee={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(typeof self!="undefined"?self:N7,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},i.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=0)}([function(r,n,i){function a(N){if(!(this instanceof a))return new a(N);this._=N}var o=a.prototype;function l(N,L){for(var Z=0;Z<N;Z++)L(Z)}function u(N,L,Z){return function(le,he){l(he.length,function(Se){le(he[Se],Se,he)})}(function(le,he,Se){L=N(L,le,he,Se)},Z),L}function s(N,L){return u(function(Z,le,he,Se){return Z.concat([N(le,he,Se)])},[],L)}function c(N,L){var Z={v:0,buf:L};return l(N,function(){var le;Z={v:Z.v<<1|(le=Z.buf,le[0]>>7),buf:function(he){var Se=u(function(qe,st,Vt,Tr){return qe.concat(Vt===Tr.length-1?Buffer.from([st,0]).readUInt16BE(0):Tr.readUInt16BE(Vt))},[],he);return Buffer.from(s(function(qe){return(qe<<1&65535)>>8},Se))}(Z.buf)}}),Z}function f(){return typeof Buffer!="undefined"}function m(){if(!f())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function p(N){m();var L=u(function(Se,qe){return Se+qe},0,N);if(L%8!=0)throw new Error("The bits ["+N.join(", ")+"] add up to "+L+" which is not an even number of bytes; the total should be divisible by 8");var Z,le=L/8,he=(Z=function(Se){return Se>48},u(function(Se,qe){return Se||(Z(qe)?qe:Se)},null,N));if(he)throw new Error(he+" bit range requested exceeds 48 bit (6 byte) Number max.");return new a(function(Se,qe){var st=le+qe;return st>Se.length?A(qe,le.toString()+" bytes"):C(st,u(function(Vt,Tr){var Rr=c(Tr,Vt.buf);return{coll:Vt.coll.concat(Rr.v),buf:Rr.buf}},{coll:[],buf:Se.slice(qe,st)},N).coll)})}function h(N,L){return new a(function(Z,le){return m(),le+L>Z.length?A(le,L+" bytes for "+N):C(le+L,Z.slice(le,le+L))})}function d(N,L){if(typeof(Z=L)!="number"||Math.floor(Z)!==Z||L<0||L>6)throw new Error(N+" requires integer length in range [0, 6].");var Z}function g(N){return d("uintBE",N),h("uintBE("+N+")",N).map(function(L){return L.readUIntBE(0,N)})}function v(N){return d("uintLE",N),h("uintLE("+N+")",N).map(function(L){return L.readUIntLE(0,N)})}function E(N){return d("intBE",N),h("intBE("+N+")",N).map(function(L){return L.readIntBE(0,N)})}function y(N){return d("intLE",N),h("intLE("+N+")",N).map(function(L){return L.readIntLE(0,N)})}function D(N){return N instanceof a}function b(N){return{}.toString.call(N)==="[object Array]"}function x(N){return f()&&Buffer.isBuffer(N)}function C(N,L){return{status:!0,index:N,value:L,furthest:-1,expected:[]}}function A(N,L){return b(L)||(L=[L]),{status:!1,index:-1,value:null,furthest:N,expected:L}}function w(N,L){if(!L||N.furthest>L.furthest)return N;var Z=N.furthest===L.furthest?function(le,he){if(function(){if(a._supportsSet!==void 0)return a._supportsSet;var gi=typeof Set!="undefined";return a._supportsSet=gi,gi}()&&Array.from){for(var Se=new Set(le),qe=0;qe<he.length;qe++)Se.add(he[qe]);var st=Array.from(Se);return st.sort(),st}for(var Vt={},Tr=0;Tr<le.length;Tr++)Vt[le[Tr]]=!0;for(var Rr=0;Rr<he.length;Rr++)Vt[he[Rr]]=!0;var hi=[];for(var Dn in Vt)({}).hasOwnProperty.call(Vt,Dn)&&hi.push(Dn);return hi.sort(),hi}(N.expected,L.expected):L.expected;return{status:N.status,index:N.index,value:N.value,furthest:L.furthest,expected:Z}}var F={};function M(N,L){if(x(N))return{offset:L,line:-1,column:-1};N in F||(F[N]={});for(var Z=F[N],le=0,he=0,Se=0,qe=L;qe>=0;){if(qe in Z){le=Z[qe].line,Se===0&&(Se=Z[qe].lineStart);break}(N.charAt(qe)===`
`||N.charAt(qe)==="\r"&&N.charAt(qe+1)!==`
`)&&(he++,Se===0&&(Se=qe+1)),qe--}var st=le+he,Vt=L-Se;return Z[L]={line:st,lineStart:Se},{offset:L,line:st+1,column:Vt+1}}function B(N){if(!D(N))throw new Error("not a parser: "+N)}function k(N,L){return typeof N=="string"?N.charAt(L):N[L]}function R(N){if(typeof N!="number")throw new Error("not a number: "+N)}function P(N){if(typeof N!="function")throw new Error("not a function: "+N)}function T(N){if(typeof N!="string")throw new Error("not a string: "+N)}var I=2,V=3,O=8,Y=5*O,$=4*O,W="  ";function q(N,L){return new Array(L+1).join(N)}function te(N,L,Z){var le=L-N.length;return le<=0?N:q(Z,le)+N}function ge(N,L,Z,le){return{from:N-L>0?N-L:0,to:N+Z>le?le:N+Z}}function ae(N,L){var Z,le,he,Se,qe,st=L.index,Vt=st.offset,Tr=1;if(Vt===N.length)return"Got the end of the input";if(x(N)){var Rr=Vt-Vt%O,hi=Vt-Rr,Dn=ge(Rr,Y,$+O,N.length),gi=s(function(Nr){return s(function(ga){return te(ga.toString(16),2,"0")},Nr)},function(Nr,ga){var va=Nr.length,Xi=[],ya=0;if(va<=ga)return[Nr.slice()];for(var ba=0;ba<va;ba++)Xi[ya]||Xi.push([]),Xi[ya].push(Nr[ba]),(ba+1)%ga==0&&ya++;return Xi}(N.slice(Dn.from,Dn.to).toJSON().data,O));Se=function(Nr){return Nr.from===0&&Nr.to===1?{from:Nr.from,to:Nr.to}:{from:Nr.from/O,to:Math.floor(Nr.to/O)}}(Dn),le=Rr/O,Z=3*hi,hi>=4&&(Z+=1),Tr=2,he=s(function(Nr){return Nr.length<=4?Nr.join(" "):Nr.slice(0,4).join(" ")+"  "+Nr.slice(4).join(" ")},gi),(qe=(8*(Se.to>0?Se.to-1:Se.to)).toString(16).length)<2&&(qe=2)}else{var ha=N.split(/\r\n|[\n\r\u2028\u2029]/);Z=st.column-1,le=st.line-1,Se=ge(le,I,V,ha.length),he=ha.slice(Se.from,Se.to),qe=Se.to.toString().length}var ap=le-Se.from;return x(N)&&(qe=(8*(Se.to>0?Se.to-1:Se.to)).toString(16).length)<2&&(qe=2),u(function(Nr,ga,va){var Xi,ya=va===ap,ba=ya?"> ":W;return Xi=x(N)?te((8*(Se.from+va)).toString(16),qe,"0"):te((Se.from+va+1).toString(),qe," "),[].concat(Nr,[ba+Xi+" | "+ga],ya?[W+q(" ",qe)+" | "+te("",Z," ")+q("^",Tr)]:[])},[],he).join(`
`)}function ce(N,L){return[`
`,"-- PARSING FAILED "+q("-",50),`

`,ae(N,L),`

`,(Z=L.expected,Z.length===1?`Expected:

`+Z[0]:`Expected one of the following: 

`+Z.join(", ")),`
`].join("");var Z}function pe(N){return N.flags!==void 0?N.flags:[N.global?"g":"",N.ignoreCase?"i":"",N.multiline?"m":"",N.unicode?"u":"",N.sticky?"y":""].join("")}function ue(){for(var N=[].slice.call(arguments),L=N.length,Z=0;Z<L;Z+=1)B(N[Z]);return a(function(le,he){for(var Se,qe=new Array(L),st=0;st<L;st+=1){if(!(Se=w(N[st]._(le,he),Se)).status)return Se;qe[st]=Se.value,he=Se.index}return w(C(he,qe),Se)})}function ne(){var N=[].slice.call(arguments);if(N.length===0)throw new Error("seqMap needs at least one argument");var L=N.pop();return P(L),ue.apply(null,N).map(function(Z){return L.apply(null,Z)})}function me(){var N=[].slice.call(arguments),L=N.length;if(L===0)return fe("zero alternates");for(var Z=0;Z<L;Z+=1)B(N[Z]);return a(function(le,he){for(var Se,qe=0;qe<N.length;qe+=1)if((Se=w(N[qe]._(le,he),Se)).status)return Se;return Se})}function be(N,L){return Be(N,L).or(j([]))}function Be(N,L){return B(N),B(L),ne(N,L.then(N).many(),function(Z,le){return[Z].concat(le)})}function We(N){T(N);var L="'"+N+"'";return a(function(Z,le){var he=le+N.length,Se=Z.slice(le,he);return Se===N?C(he,Se):A(le,L)})}function z(N,L){(function(he){if(!(he instanceof RegExp))throw new Error("not a regexp: "+he);for(var Se=pe(he),qe=0;qe<Se.length;qe++){var st=Se.charAt(qe);if(st!=="i"&&st!=="m"&&st!=="u"&&st!=="s")throw new Error('unsupported regexp flag "'+st+'": '+he)}})(N),arguments.length>=2?R(L):L=0;var Z=function(he){return RegExp("^(?:"+he.source+")",pe(he))}(N),le=""+N;return a(function(he,Se){var qe=Z.exec(he.slice(Se));if(qe){if(0<=L&&L<=qe.length){var st=qe[0],Vt=qe[L];return C(Se+st.length,Vt)}return A(Se,"valid match group (0 to "+qe.length+") in "+le)}return A(Se,le)})}function j(N){return a(function(L,Z){return C(Z,N)})}function fe(N){return a(function(L,Z){return A(Z,N)})}function H(N){if(D(N))return a(function(L,Z){var le=N._(L,Z);return le.index=Z,le.value="",le});if(typeof N=="string")return H(We(N));if(N instanceof RegExp)return H(z(N));throw new Error("not a string, regexp, or parser: "+N)}function K(N){return B(N),a(function(L,Z){var le=N._(L,Z),he=L.slice(Z,le.index);return le.status?A(Z,'not "'+he+'"'):C(Z,null)})}function re(N){return P(N),a(function(L,Z){var le=k(L,Z);return Z<L.length&&N(le)?C(Z+1,le):A(Z,"a character/byte matching "+N)})}function ye(N,L){arguments.length<2&&(L=N,N=void 0);var Z=a(function(le,he){return Z._=L()._,Z._(le,he)});return N?Z.desc(N):Z}function ve(){return fe("fantasy-land/empty")}o.parse=function(N){if(typeof N!="string"&&!x(N))throw new Error(".parse must be called with a string or Buffer as its argument");var L,Z=this.skip(pt)._(N,0);return L=Z.status?{status:!0,value:Z.value}:{status:!1,index:M(N,Z.furthest),expected:Z.expected},delete F[N],L},o.tryParse=function(N){var L=this.parse(N);if(L.status)return L.value;var Z=ce(N,L),le=new Error(Z);throw le.type="ParsimmonError",le.result=L,le},o.assert=function(N,L){return this.chain(function(Z){return N(Z)?j(Z):fe(L)})},o.or=function(N){return me(this,N)},o.trim=function(N){return this.wrap(N,N)},o.wrap=function(N,L){return ne(N,this,L,function(Z,le){return le})},o.thru=function(N){return N(this)},o.then=function(N){return B(N),ue(this,N).map(function(L){return L[1]})},o.many=function(){var N=this;return a(function(L,Z){for(var le=[],he=void 0;;){if(!(he=w(N._(L,Z),he)).status)return w(C(Z,le),he);if(Z===he.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");Z=he.index,le.push(he.value)}})},o.tieWith=function(N){return T(N),this.map(function(L){if(function(he){if(!b(he))throw new Error("not an array: "+he)}(L),L.length){T(L[0]);for(var Z=L[0],le=1;le<L.length;le++)T(L[le]),Z+=N+L[le];return Z}return""})},o.tie=function(){return this.tieWith("")},o.times=function(N,L){var Z=this;return arguments.length<2&&(L=N),R(N),R(L),a(function(le,he){for(var Se=[],qe=void 0,st=void 0,Vt=0;Vt<N;Vt+=1){if(st=w(qe=Z._(le,he),st),!qe.status)return st;he=qe.index,Se.push(qe.value)}for(;Vt<L&&(st=w(qe=Z._(le,he),st),qe.status);Vt+=1)he=qe.index,Se.push(qe.value);return w(C(he,Se),st)})},o.result=function(N){return this.map(function(){return N})},o.atMost=function(N){return this.times(0,N)},o.atLeast=function(N){return ne(this.times(N),this.many(),function(L,Z){return L.concat(Z)})},o.map=function(N){P(N);var L=this;return a(function(Z,le){var he=L._(Z,le);return he.status?w(C(he.index,N(he.value)),he):he})},o.contramap=function(N){P(N);var L=this;return a(function(Z,le){var he=L.parse(N(Z.slice(le)));return he.status?C(le+Z.length,he.value):he})},o.promap=function(N,L){return P(N),P(L),this.contramap(N).map(L)},o.skip=function(N){return ue(this,N).map(function(L){return L[0]})},o.mark=function(){return ne(Le,this,Le,function(N,L,Z){return{start:N,value:L,end:Z}})},o.node=function(N){return ne(Le,this,Le,function(L,Z,le){return{name:N,value:Z,start:L,end:le}})},o.sepBy=function(N){return be(this,N)},o.sepBy1=function(N){return Be(this,N)},o.lookahead=function(N){return this.skip(H(N))},o.notFollowedBy=function(N){return this.skip(K(N))},o.desc=function(N){b(N)||(N=[N]);var L=this;return a(function(Z,le){var he=L._(Z,le);return he.status||(he.expected=N),he})},o.fallback=function(N){return this.or(j(N))},o.ap=function(N){return ne(N,this,function(L,Z){return L(Z)})},o.chain=function(N){var L=this;return a(function(Z,le){var he=L._(Z,le);return he.status?w(N(he.value)._(Z,he.index),he):he})},o.concat=o.or,o.empty=ve,o.of=j,o["fantasy-land/ap"]=o.ap,o["fantasy-land/chain"]=o.chain,o["fantasy-land/concat"]=o.concat,o["fantasy-land/empty"]=o.empty,o["fantasy-land/of"]=o.of,o["fantasy-land/map"]=o.map;var Le=a(function(N,L){return C(L,M(N,L))}),Ce=a(function(N,L){return L>=N.length?A(L,"any character/byte"):C(L+1,k(N,L))}),ft=a(function(N,L){return C(N.length,N.slice(L))}),pt=a(function(N,L){return L<N.length?A(L,"EOF"):C(L,null)}),St=z(/[0-9]/).desc("a digit"),qt=z(/[0-9]*/).desc("optional digits"),G=z(/[a-z]/i).desc("a letter"),oe=z(/[a-z]*/i).desc("optional letters"),de=z(/\s*/).desc("optional whitespace"),we=z(/\s+/).desc("whitespace"),Ne=We("\r"),Ee=We(`
`),Ae=We(`\r
`),Pe=me(Ae,Ee,Ne).desc("newline"),_=me(Pe,pt);a.all=ft,a.alt=me,a.any=Ce,a.cr=Ne,a.createLanguage=function(N){var L={};for(var Z in N)({}).hasOwnProperty.call(N,Z)&&function(le){L[le]=ye(function(){return N[le](L)})}(Z);return L},a.crlf=Ae,a.custom=function(N){return a(N(C,A))},a.digit=St,a.digits=qt,a.empty=ve,a.end=_,a.eof=pt,a.fail=fe,a.formatError=ce,a.index=Le,a.isParser=D,a.lazy=ye,a.letter=G,a.letters=oe,a.lf=Ee,a.lookahead=H,a.makeFailure=A,a.makeSuccess=C,a.newline=Pe,a.noneOf=function(N){return re(function(L){return N.indexOf(L)<0}).desc("none of '"+N+"'")},a.notFollowedBy=K,a.of=j,a.oneOf=function(N){for(var L=N.split(""),Z=0;Z<L.length;Z++)L[Z]="'"+L[Z]+"'";return re(function(le){return N.indexOf(le)>=0}).desc(L)},a.optWhitespace=de,a.Parser=a,a.range=function(N,L){return re(function(Z){return N<=Z&&Z<=L}).desc(N+"-"+L)},a.regex=z,a.regexp=z,a.sepBy=be,a.sepBy1=Be,a.seq=ue,a.seqMap=ne,a.seqObj=function(){for(var N,L={},Z=0,le=(N=arguments,Array.prototype.slice.call(N)),he=le.length,Se=0;Se<he;Se+=1){var qe=le[Se];if(!D(qe)){if(b(qe)&&qe.length===2&&typeof qe[0]=="string"&&D(qe[1])){var st=qe[0];if(Object.prototype.hasOwnProperty.call(L,st))throw new Error("seqObj: duplicate key "+st);L[st]=!0,Z++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(Z===0)throw new Error("seqObj expects at least one named parser, found zero");return a(function(Vt,Tr){for(var Rr,hi={},Dn=0;Dn<he;Dn+=1){var gi,ha;if(b(le[Dn])?(gi=le[Dn][0],ha=le[Dn][1]):(gi=null,ha=le[Dn]),!(Rr=w(ha._(Vt,Tr),Rr)).status)return Rr;gi&&(hi[gi]=Rr.value),Tr=Rr.index}return w(C(Tr,hi),Rr)})},a.string=We,a.succeed=j,a.takeWhile=function(N){return P(N),a(function(L,Z){for(var le=Z;le<L.length&&N(k(L,le));)le++;return C(le,L.slice(Z,le))})},a.test=re,a.whitespace=we,a["fantasy-land/empty"]=ve,a["fantasy-land/of"]=j,a.Binary={bitSeq:p,bitSeqObj:function(N){m();var L={},Z=0,le=s(function(Se){if(b(Se)){var qe=Se;if(qe.length!==2)throw new Error("["+qe.join(", ")+"] should be length 2, got length "+qe.length);if(T(qe[0]),R(qe[1]),Object.prototype.hasOwnProperty.call(L,qe[0]))throw new Error("duplicate key in bitSeqObj: "+qe[0]);return L[qe[0]]=!0,Z++,qe}return R(Se),[null,Se]},N);if(Z<1)throw new Error("bitSeqObj expects at least one named pair, got ["+N.join(", ")+"]");var he=s(function(Se){return Se[0]},le);return p(s(function(Se){return Se[1]},le)).map(function(Se){return u(function(qe,st){return st[0]!==null&&(qe[st[0]]=st[1]),qe},{},s(function(qe,st){return[qe,Se[st]]},he))})},byte:function(N){if(m(),R(N),N>255)throw new Error("Value specified to byte constructor ("+N+"=0x"+N.toString(16)+") is larger in value than a single byte.");var L=(N>15?"0x":"0x0")+N.toString(16);return a(function(Z,le){var he=k(Z,le);return he===N?C(le+1,he):A(le,L)})},buffer:function(N){return h("buffer",N).map(function(L){return Buffer.from(L)})},encodedString:function(N,L){return h("string",L).map(function(Z){return Z.toString(N)})},uintBE:g,uint8BE:g(1),uint16BE:g(2),uint32BE:g(4),uintLE:v,uint8LE:v(1),uint16LE:v(2),uint32LE:v(4),intBE:E,int8BE:E(1),int16BE:E(2),int32BE:E(4),intLE:y,int8LE:y(1),int16LE:y(2),int32LE:y(4),floatBE:h("floatBE",4).map(function(N){return N.readFloatBE(0)}),floatLE:h("floatLE",4).map(function(N){return N.readFloatLE(0)}),doubleBE:h("doubleBE",8).map(function(N){return N.readDoubleBE(0)}),doubleLE:h("doubleLE",8).map(function(N){return N.readDoubleLE(0)})},r.exports=a}])})})(ee);var qd=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function uF(t){return t==null?t:t.shiftToAll().normalize()}function oC(t){return t.includes("/")&&(t=t.substring(t.lastIndexOf("/")+1)),t.endsWith(".md")&&(t=t.substring(0,t.length-3)),t}ee.exports.alt(ee.exports.regex(new RegExp(qd(),"")),ee.exports.regex(/[0-9\p{Letter}_-]+/u).map(t=>t.toLocaleLowerCase()),ee.exports.whitespace.map(t=>"-"),ee.exports.any.map(t=>"")).many().map(t=>t.join(""));var _7=ee.exports.alt(ee.exports.regex(new RegExp(qd(),"")),ee.exports.regex(/[0-9\p{Letter}_-]+/u),ee.exports.whitespace.map(t=>" "),ee.exports.any.map(t=>" ")).many().map(t=>t.join("").split(/\s+/).join(" ").trim());function M7(t){return _7.tryParse(t)}function T7(t){return t=uF(t),t=mt.fromObject(Object.fromEntries(Object.entries(t.toObject()).filter(([,e])=>e>0))),t.toHuman()}var yu;(function(t){function e(D,b=Ld,x=!1){let C=r(D);if(!C)return b.renderNullAs;switch(C.type){case"null":return b.renderNullAs;case"string":return C.value;case"number":case"boolean":return""+C.value;case"html":return C.value.outerHTML;case"widget":return C.value.markdown();case"link":return C.value.markdown();case"function":return"<function>";case"array":let A="";return x&&(A+="["),A+=C.value.map(w=>e(w,b,!0)).join(", "),x&&(A+="]"),A;case"object":return"{ "+Object.entries(C.value).map(w=>w[0]+": "+e(w[1],b,!0)).join(", ")+" }";case"date":return C.value.second==0&&C.value.hour==0&&C.value.minute==0?C.value.toFormat(b.defaultDateFormat):C.value.toFormat(b.defaultDateTimeFormat);case"duration":return T7(C.value)}}t.toString=e;function r(D){return m(D)?{type:"null",value:D}:s(D)?{type:"number",value:D}:u(D)?{type:"string",value:D}:h(D)?{type:"boolean",value:D}:f(D)?{type:"duration",value:D}:c(D)?{type:"date",value:D}:g(D)?{type:"widget",value:D}:p(D)?{type:"array",value:D}:d(D)?{type:"link",value:D}:y(D)?{type:"function",value:D}:v(D)?{type:"html",value:D}:E(D)?{type:"object",value:D}:void 0}t.wrapValue=r;function n(D,b){if(E(D)){let x={};for(let[C,A]of Object.entries(D))x[C]=n(A,b);return x}else if(p(D)){let x=[];for(let C of D)x.push(n(C,b));return x}else return b(D)}t.mapLeaves=n;function i(D,b,x){var C,A;if(D===void 0&&(D=null),b===void 0&&(b=null),D===null&&b===null)return 0;if(D===null)return-1;if(b===null)return 1;let w=r(D),F=r(b);if(w===void 0&&F===void 0)return 0;if(w===void 0)return-1;if(F===void 0)return 1;if(w.type!=F.type)return w.type.localeCompare(F.type);if(w.value===F.value)return 0;switch(w.type){case"string":return w.value.localeCompare(F.value);case"number":return w.value<F.value?-1:w.value==F.value?0:1;case"null":return 0;case"boolean":return w.value==F.value?0:w.value?1:-1;case"link":let M=w.value,B=F.value,k=x!=null?x:q=>q,R=k(M.path).localeCompare(k(B.path));if(R!=0)return R;let P=M.type.localeCompare(B.type);return P!=0?P:M.subpath&&!B.subpath?1:!M.subpath&&B.subpath?-1:!M.subpath&&!B.subpath?0:((C=M.subpath)!==null&&C!==void 0?C:"").localeCompare((A=B.subpath)!==null&&A!==void 0?A:"");case"date":return w.value<F.value?-1:w.value.equals(F.value)?0:1;case"duration":return w.value<F.value?-1:w.value.equals(F.value)?0:1;case"array":let T=w.value,I=F.value;for(let q=0;q<Math.min(T.length,I.length);q++){let te=i(T[q],I[q]);if(te!=0)return te}return T.length-I.length;case"object":let V=w.value,O=F.value,Y=Array.from(Object.keys(V)),$=Array.from(Object.keys(O));Y.sort(),$.sort();let W=i(Y,$);if(W!=0)return W;for(let q of Y){let te=i(V[q],O[q]);if(te!=0)return te}return 0;case"widget":case"html":case"function":return 0}}t.compareValue=i;function a(D){var b;return(b=r(D))===null||b===void 0?void 0:b.type}t.typeOf=a;function o(D){let b=r(D);if(!b)return!1;switch(b.type){case"number":return b.value!=0;case"string":return b.value.length>0;case"boolean":return b.value;case"link":return!!b.value.path;case"date":return b.value.toMillis()!=0;case"duration":return b.value.as("seconds")!=0;case"object":return Object.keys(b.value).length>0;case"array":return b.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}t.isTruthy=o;function l(D){if(D==null)return D;if(t.isArray(D))return[].concat(D.map(b=>l(b)));if(t.isObject(D)){let b={};for(let[x,C]of Object.entries(D))b[x]=l(C);return b}else return D}t.deepCopy=l;function u(D){return typeof D=="string"}t.isString=u;function s(D){return typeof D=="number"}t.isNumber=s;function c(D){return D instanceof At}t.isDate=c;function f(D){return D instanceof mt}t.isDuration=f;function m(D){return D==null}t.isNull=m;function p(D){return Array.isArray(D)}t.isArray=p;function h(D){return typeof D=="boolean"}t.isBoolean=h;function d(D){return D instanceof yc}t.isLink=d;function g(D){return D instanceof bu}t.isWidget=g;function v(D){return typeof HTMLElement!="undefined"?D instanceof HTMLElement:!1}t.isHtml=v;function E(D){return typeof D=="object"&&!v(D)&&!g(D)&&!p(D)&&!f(D)&&!c(D)&&!d(D)&&D!==void 0&&!m(D)}t.isObject=E;function y(D){return typeof D=="function"}t.isFunction=y})(yu||(yu={}));var sC;(function(t){function e(i){return yu.isObject(i)&&Object.keys(i).length==2&&"key"in i&&"rows"in i}t.isElementGroup=e;function r(i){for(let a of i)if(!e(a))return!1;return!0}t.isGrouping=r;function n(i){if(r(i)){let a=0;for(let o of i)a+=n(o.rows);return a}else return i.length}t.count=n})(sC||(sC={}));var yc=class t{constructor(e){Object.assign(this,e)}static file(e,r=!1,n){return new t({path:e,embed:r,display:n,subpath:void 0,type:"file"})}static infer(e,r=!1,n){if(e.includes("#^")){let i=e.split("#^");return t.block(i[0],i[1],r,n)}else if(e.includes("#")){let i=e.split("#");return t.header(i[0],i[1],r,n)}else return t.file(e,r,n)}static header(e,r,n,i){return new t({path:e,embed:n,display:i,subpath:M7(r),type:"header"})}static block(e,r,n,i){return new t({path:e,embed:n,display:i,subpath:r,type:"block"})}static fromObject(e){return new t(e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new t(Object.assign({},this,{path:e}))}withDisplay(e){return new t(Object.assign({},this,{display:e}))}withHeader(e){return t.header(this.path,e,this.embed,this.display)}toFile(){return t.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new t(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new t(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+oC(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var e,r;let n=this.path.replace("|","\\|");return this.type=="header"?n+"#"+((e=this.subpath)===null||e===void 0?void 0:e.replace("|","\\|")):this.type=="block"?n+"#^"+((r=this.subpath)===null||r===void 0?void 0:r.replace("|","\\|")):n}fileName(){return oC(this.path).replace(".md","")}},bu=class{constructor(e){this.$widget=e}},Ad=class extends bu{constructor(e,r){super("dataview:list-pair"),this.key=e,this.value=r}markdown(){return`${yu.toString(this.key)}: ${yu.toString(this.value)}`}},Sd=class extends bu{constructor(e,r){super("dataview:external-link"),this.url=e,this.display=r}markdown(){var e;return`[${(e=this.display)!==null&&e!==void 0?e:this.url}](${this.url})`}},uC;(function(t){function e(o,l){return new Ad(o,l)}t.listPair=e;function r(o,l){return new Sd(o,l)}t.externalLink=r;function n(o){return o.$widget==="dataview:list-pair"}t.isListPair=n;function i(o){return o.$widget==="dataview:external-link"}t.isExternalLink=i;function a(o){return n(o)||i(o)}t.isBuiltin=a})(uC||(uC={}));var wr;(function(t){function e(m){return{type:"variable",name:m}}t.variable=e;function r(m){return{type:"literal",value:m}}t.literal=r;function n(m,p,h){return{type:"binaryop",left:m,op:p,right:h}}t.binaryOp=n;function i(m,p){return{type:"index",object:m,index:p}}t.index=i;function a(m){let p=m.split("."),h=t.variable(p[0]);for(let d=1;d<p.length;d++)h=t.index(h,t.literal(p[d]));return h}t.indexVariable=a;function o(m,p){return{type:"lambda",arguments:m,value:p}}t.lambda=o;function l(m,p){return{type:"function",func:m,arguments:p}}t.func=l;function u(m){return{type:"list",values:m}}t.list=u;function s(m){return{type:"object",values:m}}t.object=s;function c(m){return{type:"negated",child:m}}t.negate=c;function f(m){return m=="<="||m=="<"||m==">"||m==">="||m=="!="||m=="="}t.isCompareOp=f,t.NULL=t.literal(null)})(wr||(wr={}));var qi;(function(t){function e(c){return{type:"tag",tag:c}}t.tag=e;function r(c){return{type:"csv",path:c}}t.csv=r;function n(c){return{type:"folder",folder:c}}t.folder=n;function i(c,f){return{type:"link",file:c,direction:f?"incoming":"outgoing"}}t.link=i;function a(c,f,m){return{type:"binaryop",left:c,op:f,right:m}}t.binaryOp=a;function o(c,f){return{type:"binaryop",left:c,op:"&",right:f}}t.and=o;function l(c,f){return{type:"binaryop",left:c,op:"|",right:f}}t.or=l;function u(c){return{type:"negate",child:c}}t.negate=u;function s(){return{type:"empty"}}t.empty=s})(qi||(qi={}));var lC=new RegExp(qd(),""),Nd={year:mt.fromObject({years:1}),years:mt.fromObject({years:1}),yr:mt.fromObject({years:1}),yrs:mt.fromObject({years:1}),month:mt.fromObject({months:1}),months:mt.fromObject({months:1}),mo:mt.fromObject({months:1}),mos:mt.fromObject({months:1}),week:mt.fromObject({weeks:1}),weeks:mt.fromObject({weeks:1}),wk:mt.fromObject({weeks:1}),wks:mt.fromObject({weeks:1}),w:mt.fromObject({weeks:1}),day:mt.fromObject({days:1}),days:mt.fromObject({days:1}),d:mt.fromObject({days:1}),hour:mt.fromObject({hours:1}),hours:mt.fromObject({hours:1}),hr:mt.fromObject({hours:1}),hrs:mt.fromObject({hours:1}),h:mt.fromObject({hours:1}),minute:mt.fromObject({minutes:1}),minutes:mt.fromObject({minutes:1}),min:mt.fromObject({minutes:1}),mins:mt.fromObject({minutes:1}),m:mt.fromObject({minutes:1}),second:mt.fromObject({seconds:1}),seconds:mt.fromObject({seconds:1}),sec:mt.fromObject({seconds:1}),secs:mt.fromObject({seconds:1}),s:mt.fromObject({seconds:1})},_d={now:()=>At.local(),today:()=>At.local().startOf("day"),yesterday:()=>At.local().startOf("day").minus(mt.fromObject({days:1})),tomorrow:()=>At.local().startOf("day").plus(mt.fromObject({days:1})),sow:()=>At.local().startOf("week"),"start-of-week":()=>At.local().startOf("week"),eow:()=>At.local().endOf("week"),"end-of-week":()=>At.local().endOf("week"),soy:()=>At.local().startOf("year"),"start-of-year":()=>At.local().startOf("year"),eoy:()=>At.local().endOf("year"),"end-of-year":()=>At.local().endOf("year"),som:()=>At.local().startOf("month"),"start-of-month":()=>At.local().startOf("month"),eom:()=>At.local().endOf("month"),"end-of-month":()=>At.local().endOf("month")},Md=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function I7(t){let e=-1;for(;(e=t.indexOf("|",e+1))>=0;)if(!(e>0&&t[e-1]=="\\"))return[t.substring(0,e).replace(/\\\|/g,"|"),t.substring(e+1)];return[t.replace(/\\\|/g,"|"),void 0]}function B7(t){let[e,r]=I7(t);return yc.infer(e,!1,r)}function du(t,e,r){return ee.exports.seqMap(t,ee.exports.seq(ee.exports.optWhitespace,e,ee.exports.optWhitespace,t).many(),(n,i)=>{if(i.length==0)return n;let a=r(n,i[0][1],i[0][3]);for(let o=1;o<i.length;o++)a=r(a,i[o][1],i[o][3]);return a})}function O7(t,...e){return ee.exports.custom((r,n)=>(i,a)=>{let o=t._(i,a);if(!o.status)return o;for(let l of e){let u=l(o.value)._(i,o.index);if(!u.status)return o;o=u}return o})}var Di=ee.exports.createLanguage({number:t=>ee.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:t=>ee.exports.string('"').then(ee.exports.alt(t.escapeCharacter,ee.exports.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(ee.exports.string('"')).desc("string"),escapeCharacter:t=>ee.exports.string("\\").then(ee.exports.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:t=>ee.exports.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:t=>ee.exports.seqMap(ee.exports.string("#"),ee.exports.alt(ee.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,r)=>e+r.join("")).desc("tag ('#hello/stuff')"),identifier:t=>ee.exports.seqMap(ee.exports.alt(ee.exports.regexp(/\p{Letter}/u),ee.exports.regexp(lC).desc("text")),ee.exports.alt(ee.exports.regexp(/[0-9\p{Letter}_-]/u),ee.exports.regexp(lC).desc("text")).many(),(e,r)=>e+r.join("")).desc("variable identifier"),link:t=>ee.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>B7(e)).desc("file link"),embedLink:t=>ee.exports.seqMap(ee.exports.string("!").atMost(1),t.link,(e,r)=>(e.length>0&&(r.embed=!0),r)).desc("file link"),binaryPlusMinus:t=>ee.exports.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:t=>ee.exports.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:t=>ee.exports.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:t=>ee.exports.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:t=>ee.exports.seqMap(ee.exports.regexp(/\d{4}/),ee.exports.string("-"),ee.exports.regexp(/\d{2}/),(e,r,n)=>At.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:t=>ee.exports.alt(...Object.keys(_d).sort((e,r)=>r.length-e.length).map(ee.exports.string)),date:t=>O7(t.rootDate,e=>ee.exports.seqMap(ee.exports.string("-"),ee.exports.regexp(/\d{2}/),(r,n)=>e.set({day:Number.parseInt(n)})),e=>ee.exports.seqMap(ee.exports.string("T"),ee.exports.regexp(/\d{2}/),(r,n)=>e.set({hour:Number.parseInt(n)})),e=>ee.exports.seqMap(ee.exports.string(":"),ee.exports.regexp(/\d{2}/),(r,n)=>e.set({minute:Number.parseInt(n)})),e=>ee.exports.seqMap(ee.exports.string(":"),ee.exports.regexp(/\d{2}/),(r,n)=>e.set({second:Number.parseInt(n)})),e=>ee.exports.alt(ee.exports.seqMap(ee.exports.string("."),ee.exports.regexp(/\d{3}/),(r,n)=>e.set({millisecond:Number.parseInt(n)})),ee.exports.succeed(e)),e=>ee.exports.alt(ee.exports.seqMap(ee.exports.string("+").or(ee.exports.string("-")),ee.exports.regexp(/\d{1,2}(:\d{2})?/),(r,n)=>e.setZone("UTC"+r+n,{keepLocalTime:!0})),ee.exports.seqMap(ee.exports.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),ee.exports.seqMap(ee.exports.string("["),ee.exports.regexp(/[0-9A-Za-z+-\/]+/u),ee.exports.string("]"),(r,n,i)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:t=>ee.exports.alt(t.dateShorthand.map(e=>_d[e]()),t.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:t=>ee.exports.alt(...Object.keys(Nd).sort((e,r)=>r.length-e.length).map(ee.exports.string)),duration:t=>ee.exports.seqMap(t.number,ee.exports.optWhitespace,t.durationType,(e,r,n)=>Nd[n].mapUnits(i=>i*e)).sepBy1(ee.exports.string(",").trim(ee.exports.optWhitespace).or(ee.exports.optWhitespace)).map(e=>e.reduce((r,n)=>r.plus(n))).desc("duration like 4hr2min"),rawNull:t=>ee.exports.string("null"),tagSource:t=>t.tag.map(e=>qi.tag(e)),csvSource:t=>ee.exports.seqMap(ee.exports.string("csv(").skip(ee.exports.optWhitespace),t.string,ee.exports.string(")"),(e,r,n)=>qi.csv(r)),linkIncomingSource:t=>t.link.map(e=>qi.link(e.path,!0)),linkOutgoingSource:t=>ee.exports.seqMap(ee.exports.string("outgoing(").skip(ee.exports.optWhitespace),t.link,ee.exports.string(")"),(e,r,n)=>qi.link(r.path,!1)),folderSource:t=>t.string.map(e=>qi.folder(e)),parensSource:t=>ee.exports.seqMap(ee.exports.string("("),ee.exports.optWhitespace,t.source,ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>n),negateSource:t=>ee.exports.seqMap(ee.exports.alt(ee.exports.string("-"),ee.exports.string("!")),t.atomSource,(e,r)=>qi.negate(r)),atomSource:t=>ee.exports.alt(t.parensSource,t.negateSource,t.linkOutgoingSource,t.linkIncomingSource,t.folderSource,t.tagSource,t.csvSource),binaryOpSource:t=>du(t.atomSource,t.binaryBooleanOp.map(e=>e),qi.binaryOp),source:t=>t.binaryOpSource,variableField:t=>t.identifier.chain(e=>Md.includes(e.toUpperCase())?ee.exports.fail("Variable fields cannot be a keyword ("+Md.join(" or ")+")"):ee.exports.succeed(wr.variable(e))).desc("variable"),numberField:t=>t.number.map(e=>wr.literal(e)).desc("number"),stringField:t=>t.string.map(e=>wr.literal(e)).desc("string"),boolField:t=>t.bool.map(e=>wr.literal(e)).desc("boolean"),dateField:t=>ee.exports.seqMap(ee.exports.string("date("),ee.exports.optWhitespace,t.datePlus,ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>wr.literal(n)).desc("date"),durationField:t=>ee.exports.seqMap(ee.exports.string("dur("),ee.exports.optWhitespace,t.duration,ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>wr.literal(n)).desc("duration"),nullField:t=>t.rawNull.map(e=>wr.NULL),linkField:t=>t.link.map(e=>wr.literal(e)),listField:t=>t.field.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)).wrap(ee.exports.string("[").skip(ee.exports.optWhitespace),ee.exports.optWhitespace.then(ee.exports.string("]"))).map(e=>wr.list(e)).desc("list ('[1, 2, 3]')"),objectField:t=>ee.exports.seqMap(t.identifier.or(t.string),ee.exports.string(":").trim(ee.exports.optWhitespace),t.field,(e,r,n)=>({name:e,value:n})).sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)).wrap(ee.exports.string("{").skip(ee.exports.optWhitespace),ee.exports.optWhitespace.then(ee.exports.string("}"))).map(e=>{let r={};for(let n of e)r[n.name]=n.value;return wr.object(r)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:t=>ee.exports.alt(t.date,t.duration.map(e=>uF(e)),t.string,t.tag,t.embedLink,t.bool,t.number,t.rawNull),inlineFieldList:t=>t.atomInlineField.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace).lookahead(t.atomInlineField)),inlineField:t=>ee.exports.alt(ee.exports.seqMap(t.atomInlineField,ee.exports.string(",").trim(ee.exports.optWhitespace),t.inlineFieldList,(e,r,n)=>[e].concat(n)),t.atomInlineField),atomField:t=>ee.exports.alt(t.embedLink.map(e=>wr.literal(e)),t.negatedField,t.linkField,t.listField,t.objectField,t.lambdaField,t.parensField,t.boolField,t.numberField,t.stringField,t.dateField,t.durationField,t.nullField,t.variableField),indexField:t=>ee.exports.seqMap(t.atomField,ee.exports.alt(t.dotPostfix,t.indexPostfix,t.functionPostfix).many(),(e,r)=>{let n=e;for(let i of r)switch(i.type){case"dot":n=wr.index(n,wr.literal(i.field));break;case"index":n=wr.index(n,i.field);break;case"function":n=wr.func(n,i.fields);break}return n}),negatedField:t=>ee.exports.seqMap(ee.exports.string("!"),t.indexField,(e,r)=>wr.negate(r)).desc("negated field"),parensField:t=>ee.exports.seqMap(ee.exports.string("("),ee.exports.optWhitespace,t.field,ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>n),lambdaField:t=>ee.exports.seqMap(t.identifier.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)).wrap(ee.exports.string("(").trim(ee.exports.optWhitespace),ee.exports.string(")").trim(ee.exports.optWhitespace)),ee.exports.string("=>").trim(ee.exports.optWhitespace),t.field,(e,r,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:t=>ee.exports.seqMap(ee.exports.string("."),t.identifier,(e,r)=>({type:"dot",field:r})),indexPostfix:t=>ee.exports.seqMap(ee.exports.string("["),ee.exports.optWhitespace,t.field,ee.exports.optWhitespace,ee.exports.string("]"),(e,r,n,i,a)=>({type:"index",field:n})),functionPostfix:t=>ee.exports.seqMap(ee.exports.string("("),ee.exports.optWhitespace,t.field.sepBy(ee.exports.string(",").trim(ee.exports.optWhitespace)),ee.exports.optWhitespace,ee.exports.string(")"),(e,r,n,i,a)=>({type:"function",fields:n})),binaryMulDivField:t=>du(t.indexField,t.binaryMulDiv,wr.binaryOp),binaryPlusMinusField:t=>du(t.binaryMulDivField,t.binaryPlusMinus,wr.binaryOp),binaryCompareField:t=>du(t.binaryPlusMinusField,t.binaryCompareOp,wr.binaryOp),binaryBooleanField:t=>du(t.binaryCompareField,t.binaryBooleanOp,wr.binaryOp),binaryOpField:t=>t.binaryBooleanField,field:t=>t.binaryOpField});function k7(t){try{return vc.success(Di.field.tryParse(t))}catch(e){return vc.failure(""+e)}}var bc;(function(t){function e(n,i){return{name:n,field:i}}t.named=e;function r(n,i){return{field:n,direction:i}}t.sortBy=r})(bc||(bc={}));function R7(t){return ee.exports.custom((e,r)=>(n,i)=>{let a=t._(n,i);return a.status?Object.assign({},a,{value:[a.value,n.substring(i,a.index)]}):a})}function P7(t){return t.split(/[\r\n]+/).map(e=>e.trim()).join("")}var L7=ee.exports.createLanguage({queryType:t=>ee.exports.alt(ee.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:t=>ee.exports.seqMap(Di.field.skip(ee.exports.whitespace),ee.exports.regexp(/AS/i).skip(ee.exports.whitespace),Di.identifier.or(Di.string),(e,r,n)=>bc.named(n,e)),namedField:t=>ee.exports.alt(t.explicitNamedField,R7(Di.field).map(([e,r])=>bc.named(P7(r),e))),sortField:t=>ee.exports.seqMap(Di.field.skip(ee.exports.optWhitespace),ee.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,r)=>{let n=r.length==0?"ascending":r[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:t=>t.queryType.skip(ee.exports.whitespace).chain(e=>{switch(e){case"table":return ee.exports.seqMap(ee.exports.regexp(/WITHOUT\s+ID/i).skip(ee.exports.optWhitespace).atMost(1),ee.exports.sepBy(t.namedField,ee.exports.string(",").trim(ee.exports.optWhitespace)),(r,n)=>({type:"table",fields:n,showId:r.length==0}));case"list":return ee.exports.seqMap(ee.exports.regexp(/WITHOUT\s+ID/i).skip(ee.exports.optWhitespace).atMost(1),Di.field.atMost(1),(r,n)=>({type:"list",format:n.length==1?n[0]:void 0,showId:r.length==0}));case"task":return ee.exports.succeed({type:"task"});case"calendar":return ee.exports.seqMap(t.namedField,r=>({type:"calendar",showId:!0,field:r}));default:return ee.exports.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:t=>ee.exports.seqMap(ee.exports.regexp(/FROM/i),ee.exports.whitespace,Di.source,(e,r,n)=>n),whereClause:t=>ee.exports.seqMap(ee.exports.regexp(/WHERE/i),ee.exports.whitespace,Di.field,(e,r,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:t=>ee.exports.seqMap(ee.exports.regexp(/SORT/i),ee.exports.whitespace,t.sortField.sepBy1(ee.exports.string(",").trim(ee.exports.optWhitespace)),(e,r,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:t=>ee.exports.seqMap(ee.exports.regexp(/LIMIT/i),ee.exports.whitespace,Di.field,(e,r,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:t=>ee.exports.seqMap(ee.exports.regexp(/FLATTEN/i).skip(ee.exports.whitespace),t.namedField,(e,r)=>({type:"flatten",field:r})).desc("FLATTEN <value> [AS <name>]"),groupByClause:t=>ee.exports.seqMap(ee.exports.regexp(/GROUP BY/i).skip(ee.exports.whitespace),t.namedField,(e,r)=>({type:"group",field:r})).desc("GROUP BY <value> [AS <name>]"),clause:t=>ee.exports.alt(t.fromClause,t.whereClause,t.sortByClause,t.limitClause,t.groupByClause,t.flattenClause),query:t=>ee.exports.seqMap(t.headerClause.trim(ee.exports.optWhitespace),t.fromClause.trim(ee.exports.optWhitespace).atMost(1),t.clause.trim(ee.exports.optWhitespace).many(),(e,r,n)=>({header:e,source:r.length==0?qi.folder(""):r[0],operations:n,settings:Ld}))}),q7=t=>{var e;return t?(e=t.plugins.plugins.dataview)===null||e===void 0?void 0:e.api:window.DataviewAPI},V7=t=>t.plugins.enabledPlugins.has("dataview");Vi.DATE_SHORTHANDS=_d;Vi.DURATION_TYPES=Nd;Vi.EXPRESSION=Di;Vi.KEYWORDS=Md;Vi.QUERY_LANGUAGE=L7;Vi.getAPI=q7;Vi.isPluginEnabled=V7;Vi.parseField=k7});var xh=gr((yh,bh)=>{(function(t,e){typeof yh=="object"&&typeof bh!="undefined"?bh.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self,t["'typed'"]=e())})(yh,function(){"use strict";function t(){return!0}function e(){return!1}function r(){}let n="Argument is not a typed-function.";function i(){function o(G){return typeof G=="object"&&G!==null&&G.constructor===Object}let l=[{name:"number",test:function(G){return typeof G=="number"}},{name:"string",test:function(G){return typeof G=="string"}},{name:"boolean",test:function(G){return typeof G=="boolean"}},{name:"Function",test:function(G){return typeof G=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(G){return G instanceof Date}},{name:"RegExp",test:function(G){return G instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(G){return G===null}},{name:"undefined",test:function(G){return G===void 0}}],u={name:"any",test:t,isAny:!0},s,c,f=0,m={createCount:0};function p(G){let oe=s.get(G);if(oe)return oe;let de='Unknown type "'+G+'"',we=G.toLowerCase(),Ne;for(Ne of c)if(Ne.toLowerCase()===we){de+='. Did you mean "'+Ne+'" ?';break}throw new TypeError(de)}function h(G){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",de=oe?p(oe).index:c.length,we=[];for(let Ee=0;Ee<G.length;++Ee){if(!G[Ee]||typeof G[Ee].name!="string"||typeof G[Ee].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Ae=G[Ee].name;if(s.has(Ae))throw new TypeError('Duplicate type name "'+Ae+'"');we.push(Ae),s.set(Ae,{name:Ae,test:G[Ee].test,isAny:G[Ee].isAny,index:de+Ee,conversionsTo:[]})}let Ne=c.slice(de);c=c.slice(0,de).concat(we).concat(Ne);for(let Ee=de+we.length;Ee<c.length;++Ee)s.get(c[Ee]).index=Ee}function d(){s=new Map,c=[],f=0,h([u],!1)}d(),h(l);function g(){let G;for(G of c)s.get(G).conversionsTo=[];f=0}function v(G){let oe=c.filter(de=>{let we=s.get(de);return!we.isAny&&we.test(G)});return oe.length?oe:["any"]}function E(G){return G&&typeof G=="function"&&"_typedFunctionData"in G}function y(G,oe,de){if(!E(G))throw new TypeError(n);let we=de&&de.exact,Ne=Array.isArray(oe)?oe.join(","):oe,Ee=F(Ne),Ae=x(Ee);if(!we||Ae in G.signatures){let L=G._typedFunctionData.signatureMap.get(Ae);if(L)return L}let Pe=Ee.length,_;if(we){_=[];let L;for(L in G.signatures)_.push(G._typedFunctionData.signatureMap.get(L))}else _=G._typedFunctionData.signatures;for(let L=0;L<Pe;++L){let Z=Ee[L],le=[],he;for(he of _){let Se=R(he.params,L);if(!(!Se||Z.restParam&&!Se.restParam)){if(!Se.hasAny){let qe=w(Se);if(Z.types.some(st=>!qe.has(st.name)))continue}le.push(he)}}if(_=le,_.length===0)break}let N;for(N of _)if(N.params.length<=Pe)return N;throw new TypeError("Signature not found (signature: "+(G.name||"unnamed")+"("+x(Ee,", ")+"))")}function D(G,oe,de){return y(G,oe,de).implementation}function b(G,oe){let de=p(oe);if(de.test(G))return G;let we=de.conversionsTo;if(we.length===0)throw new Error("There are no conversions to "+oe+" defined.");for(let Ne=0;Ne<we.length;Ne++)if(p(we[Ne].from).test(G))return we[Ne].convert(G);throw new Error("Cannot convert "+G+" to "+oe)}function x(G){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return G.map(de=>de.name).join(oe)}function C(G){let oe=G.indexOf("...")===0,we=(oe?G.length>3?G.slice(3):"any":G).split("|").map(Pe=>p(Pe.trim())),Ne=!1,Ee=oe?"...":"";return{types:we.map(function(Pe){return Ne=Pe.isAny||Ne,Ee+=Pe.name+"|",{name:Pe.name,typeIndex:Pe.index,test:Pe.test,isAny:Pe.isAny,conversion:null,conversionIndex:-1}}),name:Ee.slice(0,-1),hasAny:Ne,hasConversion:!1,restParam:oe}}function A(G){let oe=G.types.map(Ae=>Ae.name),de=q(oe),we=G.hasAny,Ne=G.name,Ee=de.map(function(Ae){let Pe=p(Ae.from);return we=Pe.isAny||we,Ne+="|"+Ae.from,{name:Ae.from,typeIndex:Pe.index,test:Pe.test,isAny:Pe.isAny,conversion:Ae,conversionIndex:Ae.index}});return{types:G.types.concat(Ee),name:Ne,hasAny:we,hasConversion:Ee.length>0,restParam:G.restParam}}function w(G){return G.typeSet||(G.typeSet=new Set,G.types.forEach(oe=>G.typeSet.add(oe.name))),G.typeSet}function F(G){let oe=[];if(typeof G!="string")throw new TypeError("Signatures must be strings");let de=G.trim();if(de==="")return oe;let we=de.split(",");for(let Ne=0;Ne<we.length;++Ne){let Ee=C(we[Ne].trim());if(Ee.restParam&&Ne!==we.length-1)throw new SyntaxError('Unexpected rest parameter "'+we[Ne]+'": only allowed for the last parameter');if(Ee.types.length===0)return null;oe.push(Ee)}return oe}function M(G){let oe=z(G);return oe?oe.restParam:!1}function B(G){if(!G||G.types.length===0)return t;if(G.types.length===1)return p(G.types[0].name).test;if(G.types.length===2){let oe=p(G.types[0].name).test,de=p(G.types[1].name).test;return function(Ne){return oe(Ne)||de(Ne)}}else{let oe=G.types.map(function(de){return p(de.name).test});return function(we){for(let Ne=0;Ne<oe.length;Ne++)if(oe[Ne](we))return!0;return!1}}}function k(G){let oe,de,we;if(M(G)){oe=We(G).map(B);let Ne=oe.length,Ee=B(z(G)),Ae=function(Pe){for(let _=Ne;_<Pe.length;_++)if(!Ee(Pe[_]))return!1;return!0};return function(_){for(let N=0;N<oe.length;N++)if(!oe[N](_[N]))return!1;return Ae(_)&&_.length>=Ne+1}}else return G.length===0?function(Ee){return Ee.length===0}:G.length===1?(de=B(G[0]),function(Ee){return de(Ee[0])&&Ee.length===1}):G.length===2?(de=B(G[0]),we=B(G[1]),function(Ee){return de(Ee[0])&&we(Ee[1])&&Ee.length===2}):(oe=G.map(B),function(Ee){for(let Ae=0;Ae<oe.length;Ae++)if(!oe[Ae](Ee[Ae]))return!1;return Ee.length===oe.length})}function R(G,oe){return oe<G.length?G[oe]:M(G)?z(G):null}function P(G,oe){let de=R(G,oe);return de?w(de):new Set}function T(G){return G.conversion===null||G.conversion===void 0}function I(G,oe){let de=new Set;return G.forEach(we=>{let Ne=P(we.params,oe),Ee;for(Ee of Ne)de.add(Ee)}),de.has("any")?["any"]:Array.from(de)}function V(G,oe,de){let we,Ne,Ee=G||"unnamed",Ae=de,Pe;for(Pe=0;Pe<oe.length;Pe++){let Z=[];if(Ae.forEach(le=>{let he=R(le.params,Pe),Se=B(he);(Pe<le.params.length||M(le.params))&&Se(oe[Pe])&&Z.push(le)}),Z.length===0){if(Ne=I(Ae,Pe),Ne.length>0){let le=v(oe[Pe]);return we=new TypeError("Unexpected type of argument in function "+Ee+" (expected: "+Ne.join(" or ")+", actual: "+le.join(" | ")+", index: "+Pe+")"),we.data={category:"wrongType",fn:Ee,index:Pe,actual:le,expected:Ne},we}}else Ae=Z}let _=Ae.map(function(Z){return M(Z.params)?1/0:Z.params.length});if(oe.length<Math.min.apply(null,_))return Ne=I(Ae,Pe),we=new TypeError("Too few arguments in function "+Ee+" (expected: "+Ne.join(" or ")+", index: "+oe.length+")"),we.data={category:"tooFewArgs",fn:Ee,index:oe.length,expected:Ne},we;let N=Math.max.apply(null,_);if(oe.length>N)return we=new TypeError("Too many arguments in function "+Ee+" (expected: "+N+", actual: "+oe.length+")"),we.data={category:"tooManyArgs",fn:Ee,index:oe.length,expectedLength:N},we;let L=[];for(let Z=0;Z<oe.length;++Z)L.push(v(oe[Z]).join("|"));return we=new TypeError('Arguments of type "'+L.join(", ")+'" do not match any of the defined signatures of function '+Ee+"."),we.data={category:"mismatch",actual:L},we}function O(G){let oe=c.length+1;for(let de=0;de<G.types.length;de++)T(G.types[de])&&(oe=Math.min(oe,G.types[de].typeIndex));return oe}function Y(G){let oe=f+1;for(let de=0;de<G.types.length;de++)T(G.types[de])||(oe=Math.min(oe,G.types[de].conversionIndex));return oe}function $(G,oe){if(G.hasAny){if(!oe.hasAny)return 1}else if(oe.hasAny)return-1;if(G.restParam){if(!oe.restParam)return 1}else if(oe.restParam)return-1;if(G.hasConversion){if(!oe.hasConversion)return 1}else if(oe.hasConversion)return-1;let de=O(G)-O(oe);if(de<0)return-1;if(de>0)return 1;let we=Y(G)-Y(oe);return we<0?-1:we>0?1:0}function W(G,oe){let de=G.params,we=oe.params,Ne=z(de),Ee=z(we),Ae=M(de),Pe=M(we);if(Ae&&Ne.hasAny){if(!Pe||!Ee.hasAny)return 1}else if(Pe&&Ee.hasAny)return-1;let _=0,N=0,L;for(L of de)L.hasAny&&++_,L.hasConversion&&++N;let Z=0,le=0;for(L of we)L.hasAny&&++Z,L.hasConversion&&++le;if(_!==Z)return _-Z;if(Ae&&Ne.hasConversion){if(!Pe||!Ee.hasConversion)return 1}else if(Pe&&Ee.hasConversion)return-1;if(N!==le)return N-le;if(Ae){if(!Pe)return 1}else if(Pe)return-1;let he=(de.length-we.length)*(Ae?-1:1);if(he!==0)return he;let Se=[],qe=0;for(let Vt=0;Vt<de.length;++Vt){let Tr=$(de[Vt],we[Vt]);Se.push(Tr),qe+=Tr}if(qe!==0)return qe;let st;for(st of Se)if(st!==0)return st;return 0}function q(G){if(G.length===0)return[];let oe=G.map(p);G.length>1&&oe.sort((Ne,Ee)=>Ne.index-Ee.index);let de=oe[0].conversionsTo;if(G.length===1)return de;de=de.concat([]);let we=new Set(G);for(let Ne=1;Ne<oe.length;++Ne){let Ee;for(Ee of oe[Ne].conversionsTo)we.has(Ee.from)||(de.push(Ee),we.add(Ee.from))}return de}function te(G,oe){let de=oe;if(G.some(Ne=>Ne.hasConversion)){let Ne=M(G),Ee=G.map(ge);de=function(){let Pe=[],_=Ne?arguments.length-1:arguments.length;for(let N=0;N<_;N++)Pe[N]=Ee[N](arguments[N]);return Ne&&(Pe[_]=arguments[_].map(Ee[_])),oe.apply(this,Pe)}}let we=de;if(M(G)){let Ne=G.length-1;we=function(){return de.apply(this,j(arguments,0,Ne).concat([j(arguments,Ne)]))}}return we}function ge(G){let oe,de,we,Ne,Ee=[],Ae=[];switch(G.types.forEach(function(Pe){Pe.conversion&&(Ee.push(p(Pe.conversion.from).test),Ae.push(Pe.conversion.convert))}),Ae.length){case 0:return function(_){return _};case 1:return oe=Ee[0],we=Ae[0],function(_){return oe(_)?we(_):_};case 2:return oe=Ee[0],de=Ee[1],we=Ae[0],Ne=Ae[1],function(_){return oe(_)?we(_):de(_)?Ne(_):_};default:return function(_){for(let N=0;N<Ae.length;N++)if(Ee[N](_))return Ae[N](_);return _}}}function ae(G){function oe(de,we,Ne){if(we<de.length){let Ee=de[we],Ae=[];if(Ee.restParam){let Pe=Ee.types.filter(T);Pe.length<Ee.types.length&&Ae.push({types:Pe,name:"..."+Pe.map(_=>_.name).join("|"),hasAny:Pe.some(_=>_.isAny),hasConversion:!1,restParam:!0}),Ae.push(Ee)}else Ae=Ee.types.map(function(Pe){return{types:[Pe],name:Pe.name,hasAny:Pe.isAny,hasConversion:Pe.conversion,restParam:!1}});return H(Ae,function(Pe){return oe(de,we+1,Ne.concat([Pe]))})}else return[Ne]}return oe(G,0,[])}function ce(G,oe){let de=Math.max(G.length,oe.length);for(let Pe=0;Pe<de;Pe++){let _=P(G,Pe),N=P(oe,Pe),L=!1,Z;for(Z of N)if(_.has(Z)){L=!0;break}if(!L)return!1}let we=G.length,Ne=oe.length,Ee=M(G),Ae=M(oe);return Ee?Ae?we===Ne:Ne>=we:Ae?we>=Ne:we===Ne}function pe(G){return G.map(oe=>Le(oe)?ye(oe.referToSelf.callback):ve(oe)?re(oe.referTo.references,oe.referTo.callback):oe)}function ue(G,oe,de){let we=[],Ne;for(Ne of G){let Ee=de[Ne];if(typeof Ee!="number")throw new TypeError('No definition for referenced signature "'+Ne+'"');if(Ee=oe[Ee],typeof Ee!="function")return!1;we.push(Ee)}return we}function ne(G,oe,de){let we=pe(G),Ne=new Array(we.length).fill(!1),Ee=!0;for(;Ee;){Ee=!1;let Ae=!0;for(let Pe=0;Pe<we.length;++Pe){if(Ne[Pe])continue;let _=we[Pe];if(Le(_))we[Pe]=_.referToSelf.callback(de),we[Pe].referToSelf=_.referToSelf,Ne[Pe]=!0,Ae=!1;else if(ve(_)){let N=ue(_.referTo.references,we,oe);N?(we[Pe]=_.referTo.callback.apply(this,N),we[Pe].referTo=_.referTo,Ne[Pe]=!0,Ae=!1):Ee=!0}}if(Ae&&Ee)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return we}function me(G){let oe=/\bthis(\(|\.signatures\b)/;Object.keys(G).forEach(de=>{let we=G[de];if(oe.test(we.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function be(G,oe){if(m.createCount++,Object.keys(oe).length===0)throw new SyntaxError("No signatures provided");m.warnAgainstDeprecatedThis&&me(oe);let de=[],we=[],Ne={},Ee=[],Ae;for(Ae in oe){if(!Object.prototype.hasOwnProperty.call(oe,Ae))continue;let $t=F(Ae);if(!$t)continue;de.forEach(function(Js){if(ce(Js,$t))throw new TypeError('Conflicting signatures "'+x(Js)+'" and "'+x($t)+'".')}),de.push($t);let Nn=we.length;we.push(oe[Ae]);let w6=$t.map(A),gl;for(gl of ae(w6)){let Js=x(gl);Ee.push({params:gl,name:Js,fn:Nn}),gl.every(E6=>!E6.hasConversion)&&(Ne[Js]=Nn)}}Ee.sort(W);let Pe=ne(we,Ne,Ys),_;for(_ in Ne)Object.prototype.hasOwnProperty.call(Ne,_)&&(Ne[_]=Pe[Ne[_]]);let N=[],L=new Map;for(_ of Ee)L.has(_.name)||(_.fn=Pe[_.fn],N.push(_),L.set(_.name,_));let Z=N[0]&&N[0].params.length<=2&&!M(N[0].params),le=N[1]&&N[1].params.length<=2&&!M(N[1].params),he=N[2]&&N[2].params.length<=2&&!M(N[2].params),Se=N[3]&&N[3].params.length<=2&&!M(N[3].params),qe=N[4]&&N[4].params.length<=2&&!M(N[4].params),st=N[5]&&N[5].params.length<=2&&!M(N[5].params),Vt=Z&&le&&he&&Se&&qe&&st;for(let $t=0;$t<N.length;++$t)N[$t].test=k(N[$t].params);let Tr=Z?B(N[0].params[0]):e,Rr=le?B(N[1].params[0]):e,hi=he?B(N[2].params[0]):e,Dn=Se?B(N[3].params[0]):e,gi=qe?B(N[4].params[0]):e,ha=st?B(N[5].params[0]):e,ap=Z?B(N[0].params[1]):e,Nr=le?B(N[1].params[1]):e,ga=he?B(N[2].params[1]):e,va=Se?B(N[3].params[1]):e,Xi=qe?B(N[4].params[1]):e,ya=st?B(N[5].params[1]):e;for(let $t=0;$t<N.length;++$t)N[$t].implementation=te(N[$t].params,N[$t].fn);let ba=Z?N[0].implementation:r,o6=le?N[1].implementation:r,s6=he?N[2].implementation:r,u6=Se?N[3].implementation:r,l6=qe?N[4].implementation:r,c6=st?N[5].implementation:r,f6=Z?N[0].params.length:-1,m6=le?N[1].params.length:-1,p6=he?N[2].params.length:-1,d6=Se?N[3].params.length:-1,h6=qe?N[4].params.length:-1,g6=st?N[5].params.length:-1,v6=Vt?6:0,y6=N.length,b6=N.map($t=>$t.test),x6=N.map($t=>$t.implementation),D6=function(){for(let Nn=v6;Nn<y6;Nn++)if(b6[Nn](arguments))return x6[Nn].apply(this,arguments);return m.onMismatch(G,arguments,N)};function Ys($t,Nn){return arguments.length===f6&&Tr($t)&&ap(Nn)?ba.apply(this,arguments):arguments.length===m6&&Rr($t)&&Nr(Nn)?o6.apply(this,arguments):arguments.length===p6&&hi($t)&&ga(Nn)?s6.apply(this,arguments):arguments.length===d6&&Dn($t)&&va(Nn)?u6.apply(this,arguments):arguments.length===h6&&gi($t)&&Xi(Nn)?l6.apply(this,arguments):arguments.length===g6&&ha($t)&&ya(Nn)?c6.apply(this,arguments):D6.apply(this,arguments)}try{Object.defineProperty(Ys,"name",{value:G})}catch($t){}return Ys.signatures=Ne,Ys._typedFunctionData={signatures:N,signatureMap:L},Ys}function Be(G,oe,de){throw V(G,oe,de)}function We(G){return j(G,0,G.length-1)}function z(G){return G[G.length-1]}function j(G,oe,de){return Array.prototype.slice.call(G,oe,de)}function fe(G,oe){for(let de=0;de<G.length;de++)if(oe(G[de]))return G[de]}function H(G,oe){return Array.prototype.concat.apply([],G.map(oe))}function K(){let G=We(arguments).map(de=>x(F(de))),oe=z(arguments);if(typeof oe!="function")throw new TypeError("Callback function expected as last argument");return re(G,oe)}function re(G,oe){return{referTo:{references:G,callback:oe}}}function ye(G){if(typeof G!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:G}}}function ve(G){return G&&typeof G.referTo=="object"&&Array.isArray(G.referTo.references)&&typeof G.referTo.callback=="function"}function Le(G){return G&&typeof G.referToSelf=="object"&&typeof G.referToSelf.callback=="function"}function Ce(G,oe){if(!G)return oe;if(oe&&oe!==G){let de=new Error("Function names do not match (expected: "+G+", actual: "+oe+")");throw de.data={actual:oe,expected:G},de}return G}function ft(G){let oe;for(let de in G)Object.prototype.hasOwnProperty.call(G,de)&&(E(G[de])||typeof G[de].signature=="string")&&(oe=Ce(oe,G[de].name));return oe}function pt(G,oe){let de;for(de in oe)if(Object.prototype.hasOwnProperty.call(oe,de)){if(de in G&&oe[de]!==G[de]){let we=new Error('Signature "'+de+'" is defined twice');throw we.data={signature:de,sourceFunction:oe[de],destFunction:G[de]},we}G[de]=oe[de]}}let St=m;m=function(G){let oe=typeof G=="string",de=oe?1:0,we=oe?G:"",Ne={};for(let Ee=de;Ee<arguments.length;++Ee){let Ae=arguments[Ee],Pe={},_;if(typeof Ae=="function"?(_=Ae.name,typeof Ae.signature=="string"?Pe[Ae.signature]=Ae:E(Ae)&&(Pe=Ae.signatures)):o(Ae)&&(Pe=Ae,oe||(_=ft(Ae))),Object.keys(Pe).length===0){let N=new TypeError("Argument to 'typed' at index "+Ee+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw N.data={index:Ee,argument:Ae},N}oe||(we=Ce(we,_)),pt(Ne,Pe)}return be(we||"",Ne)},m.create=i,m.createCount=St.createCount,m.onMismatch=Be,m.throwMismatchError=Be,m.createError=V,m.clear=d,m.clearConversions=g,m.addTypes=h,m._findType=p,m.referTo=K,m.referToSelf=ye,m.convert=b,m.findSignature=y,m.find=D,m.isTypedFunction=E,m.warnAgainstDeprecatedThis=!0,m.addType=function(G,oe){let de="any";oe!==!1&&s.has("Object")&&(de="Object"),m.addTypes([G],de)};function qt(G){if(!G||typeof G.from!="string"||typeof G.to!="string"||typeof G.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(G.to===G.from)throw new SyntaxError('Illegal to define conversion from "'+G.from+'" to itself.')}return m.addConversion=function(G){qt(G);let oe=p(G.to);if(oe.conversionsTo.every(function(de){return de.from!==G.from}))oe.conversionsTo.push({from:G.from,convert:G.convert,index:f++});else throw new Error('There is already a conversion from "'+G.from+'" to "'+oe.name+'"')},m.addConversions=function(G){G.forEach(m.addConversion)},m.removeConversion=function(G){qt(G);let oe=p(G.to),de=fe(oe.conversionsTo,Ne=>Ne.from===G.from);if(!de)throw new Error("Attempt to remove nonexistent conversion from "+G.from+" to "+G.to);if(de.convert!==G.convert)throw new Error("Conversion to remove does not match existing conversion");let we=oe.conversionsTo.indexOf(de);oe.conversionsTo.splice(we,1)},m.resolve=function(G,oe){if(!E(G))throw new TypeError(n);let de=G._typedFunctionData.signatures;for(let we=0;we<de.length;++we)if(de[we].test(oe))return de[we];return null},m}var a=i();return a})});var GA=gr((zh,HA)=>{(function(t){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},r=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var c=Math.PI/4;if(-c>s||s>c)return Math.cos(s)-1;var f=s*s;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,c){var f=Math.abs(s),m=Math.abs(c);return f<3e3&&m<3e3?Math.sqrt(f*f+m*m):(f<m?(f=m,m=s/c):m=c/s,f*Math.sqrt(1+m*m))},a=function(){throw SyntaxError("Invalid Param")};function o(s,c){var f=Math.abs(s),m=Math.abs(c);return s===0?Math.log(m):c===0?Math.log(f):f<3e3&&m<3e3?Math.log(s*s+c*c)*.5:(s=s/2,c=c/2,.5*Math.log(s*s+c*c)+Math.LN2)}var l=function(s,c){var f={re:0,im:0};if(s==null)f.re=f.im=0;else if(c!==void 0)f.re=s,f.im=c;else switch(typeof s){case"object":if("im"in s&&"re"in s)f.re=s.re,f.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return u.INFINITY;f.re=s.abs*Math.cos(s.arg),f.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return u.INFINITY;f.re=s.r*Math.cos(s.phi),f.im=s.r*Math.sin(s.phi)}else s.length===2?(f.re=s[0],f.im=s[1]):a();break;case"string":f.im=f.re=0;var m=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,h=0;m===null&&a();for(var d=0;d<m.length;d++){var g=m[d];g===" "||g==="	"||g===`
`||(g==="+"?p++:g==="-"?h++:g==="i"||g==="I"?(p+h===0&&a(),m[d+1]!==" "&&!isNaN(m[d+1])?(f.im+=parseFloat((h%2?"-":"")+m[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),p=h=0):((p+h===0||isNaN(g))&&a(),m[d+1]==="i"||m[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+g),d++):f.re+=parseFloat((h%2?"-":"")+g),p=h=0))}p+h>0&&a();break;case"number":f.im=0,f.re=s;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function u(s,c){if(!(this instanceof u))return new u(s,c);var f=l(s,c);this.re=f.re,this.im=f.im}u.prototype={re:0,im:0,sign:function(){var s=this.abs();return new u(this.re/s,this.im/s)},add:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re+f.re,this.im+f.im)},sub:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re-f.re,this.im-f.im)},mul:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:f.im===0&&this.im===0?new u(this.re*f.re,0):new u(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(s,c){var f=new u(s,c);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return u.NAN;if(this.isInfinite()||f.isZero())return u.INFINITY;if(this.isZero()||f.isInfinite())return u.ZERO;s=this.re,c=this.im;var m=f.re,p=f.im,h,d;return p===0?new u(s/m,c/m):Math.abs(m)<Math.abs(p)?(d=m/p,h=m*d+p,new u((s*d+c)/h,(c*d-s)/h)):(d=p/m,h=p*d+m,new u((s+c*d)/h,(c-s*d)/h))},pow:function(s,c){var f=new u(s,c);if(s=this.re,c=this.im,f.isZero())return u.ONE;if(f.im===0){if(c===0&&s>0)return new u(Math.pow(s,f.re),0);if(s===0)switch((f.re%4+4)%4){case 0:return new u(Math.pow(c,f.re),0);case 1:return new u(0,Math.pow(c,f.re));case 2:return new u(-Math.pow(c,f.re),0);case 3:return new u(0,-Math.pow(c,f.re))}}if(s===0&&c===0&&f.re>0&&f.im>=0)return u.ZERO;var m=Math.atan2(c,s),p=o(s,c);return s=Math.exp(f.re*p-f.im*m),c=f.im*p+f.re*m,new u(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){var s=this.re,c=this.im,f=this.abs(),m,p;if(s>=0){if(c===0)return new u(Math.sqrt(s),0);m=.5*Math.sqrt(2*(f+s))}else m=Math.abs(c)/Math.sqrt(2*(f-s));return s<=0?p=.5*Math.sqrt(2*(f-s)):p=Math.abs(c)/Math.sqrt(2*(f+s)),new u(m,c<0?-p:p)},exp:function(){var s=Math.exp(this.re);return this.im,new u(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,c=this.im;return new u(Math.expm1(s)*Math.cos(c)+n(c),Math.exp(s)*Math.sin(c))},log:function(){var s=this.re,c=this.im;return c===0&&s>0,new u(o(s,c),Math.atan2(c,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,c=this.im;return new u(Math.sin(s)*e(c),Math.cos(s)*r(c))},cos:function(){var s=this.re,c=this.im;return new u(Math.cos(s)*e(c),-Math.sin(s)*r(c))},tan:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)+e(c);return new u(Math.sin(s)/f,r(c)/f)},cot:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)-e(c);return new u(-Math.sin(s)/f,r(c)/f)},sec:function(){var s=this.re,c=this.im,f=.5*e(2*c)+.5*Math.cos(2*s);return new u(Math.cos(s)*e(c)/f,Math.sin(s)*r(c)/f)},csc:function(){var s=this.re,c=this.im,f=.5*e(2*c)-.5*Math.cos(2*s);return new u(Math.sin(s)*e(c)/f,-Math.cos(s)*r(c)/f)},asin:function(){var s=this.re,c=this.im,f=new u(c*c-s*s+1,-2*s*c).sqrt(),m=new u(f.re-c,f.im+s).log();return new u(m.im,-m.re)},acos:function(){var s=this.re,c=this.im,f=new u(c*c-s*s+1,-2*s*c).sqrt(),m=new u(f.re-c,f.im+s).log();return new u(Math.PI/2-m.im,m.re)},atan:function(){var s=this.re,c=this.im;if(s===0){if(c===1)return new u(0,1/0);if(c===-1)return new u(0,-1/0)}var f=s*s+(1-c)*(1-c),m=new u((1-c*c-s*s)/f,-2*s/f).log();return new u(-.5*m.im,.5*m.re)},acot:function(){var s=this.re,c=this.im;if(c===0)return new u(Math.atan2(1,s),0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).atan():new u(s!==0?s/0:0,c!==0?-c/0:0).atan()},asec:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(0,1/0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).acos():new u(s!==0?s/0:0,c!==0?-c/0:0).acos()},acsc:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(Math.PI/2,1/0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).asin():new u(s!==0?s/0:0,c!==0?-c/0:0).asin()},sinh:function(){var s=this.re,c=this.im;return new u(r(s)*Math.cos(c),e(s)*Math.sin(c))},cosh:function(){var s=this.re,c=this.im;return new u(e(s)*Math.cos(c),r(s)*Math.sin(c))},tanh:function(){var s=2*this.re,c=2*this.im,f=e(s)+Math.cos(c);return new u(r(s)/f,Math.sin(c)/f)},coth:function(){var s=2*this.re,c=2*this.im,f=e(s)-Math.cos(c);return new u(r(s)/f,-Math.sin(c)/f)},csch:function(){var s=this.re,c=this.im,f=Math.cos(2*c)-e(2*s);return new u(-2*r(s)*Math.cos(c)/f,2*e(s)*Math.sin(c)/f)},sech:function(){var s=this.re,c=this.im,f=Math.cos(2*c)+e(2*s);return new u(2*e(s)*Math.cos(c)/f,-2*r(s)*Math.sin(c)/f)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var c=this.asin();return this.re=-this.im,this.im=s,s=c.re,c.re=-c.im,c.im=s,c},acosh:function(){var s=this.acos();if(s.im<=0){var c=s.re;s.re=-s.im,s.im=c}else{var c=s.im;s.im=-s.re,s.re=c}return s},atanh:function(){var s=this.re,c=this.im,f=s>1&&c===0,m=1-s,p=1+s,h=m*m+c*c,d=h!==0?new u((p*m-c*c)/h,(c*m+p*c)/h):new u(s!==-1?s/0:0,c!==0?c/0:0),g=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,g)/2,f&&(d.im=-d.im),d},acoth:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(0,Math.PI/2);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).atanh():new u(s!==0?s/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var s=this.re,c=this.im;if(c===0)return new u(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).asinh():new u(s!==0?s/0:0,c!==0?-c/0:0).asinh()},asech:function(){var s=this.re,c=this.im;if(this.isZero())return u.INFINITY;var f=s*s+c*c;return f!==0?new u(s/f,-c/f).acosh():new u(s!==0?s/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var s=this.re,c=this.im,f=s*s+c*c;return new u(s/f,-c/f)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new u(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new u(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new u(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,c){var f=new u(s,c);return Math.abs(f.re-this.re)<=u.EPSILON&&Math.abs(f.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var s=this.re,c=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<u.EPSILON&&(s=0),Math.abs(c)<u.EPSILON&&(c=0),c===0?f+s:(s!==0?(f+=s,f+=" ",c<0?(c=-c,f+="-"):f+="+",f+=" "):c<0&&(c=-c,f+="-"),c!==1&&(f+=c),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return u}):typeof zh=="object"?(Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,HA.exports=u):t.Complex=u})(zh)});var ZA=gr((Hh,jA)=>{(function(t){"use strict";var e=2e3,r={s:1,n:0,d:1};function n(d,g){if(isNaN(d=parseInt(d,10)))throw p();return d*g}function i(d,g){if(g===0)throw m();var v=Object.create(f.prototype);v.s=d<0?-1:1,d=d<0?-d:d;var E=c(d,g);return v.n=d/E,v.d=g/E,v}function a(d){for(var g={},v=d,E=2,y=4;y<=v;){for(;v%E===0;)v/=E,g[E]=(g[E]||0)+1;y+=1+2*E++}return v!==d?v>1&&(g[v]=(g[v]||0)+1):g[d]=(g[d]||0)+1,g}var o=function(d,g){var v=0,E=1,y=1,D=0,b=0,x=0,C=1,A=1,w=0,F=1,M=1,B=1,k=1e7,R;if(d!=null)if(g!==void 0){if(v=d,E=g,y=v*E,v%1!==0||E%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)v=d.n,E=d.d,"s"in d&&(v*=d.s);else if(0 in d)v=d[0],1 in d&&(E=d[1]);else throw p();y=v*E;break}case"number":{if(d<0&&(y=d,d=-d),d%1===0)v=d;else if(d>0){for(d>=1&&(A=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=A);F<=k&&B<=k;)if(R=(w+M)/(F+B),d===R){F+B<=k?(v=w+M,E=F+B):B>F?(v=M,E=B):(v=w,E=F);break}else d>R?(w+=M,F+=B):(M+=w,B+=F),F>k?(v=M,E=B):(v=w,E=F);v*=A}else(isNaN(d)||isNaN(g))&&(E=v=NaN);break}case"string":{if(F=d.match(/\d+|./g),F===null)throw p();if(F[w]==="-"?(y=-1,w++):F[w]==="+"&&w++,F.length===w+1?b=n(F[w++],y):F[w+1]==="."||F[w]==="."?(F[w]!=="."&&(D=n(F[w++],y)),w++,(w+1===F.length||F[w+1]==="("&&F[w+3]===")"||F[w+1]==="'"&&F[w+3]==="'")&&(b=n(F[w],y),C=Math.pow(10,F[w].length),w++),(F[w]==="("&&F[w+2]===")"||F[w]==="'"&&F[w+2]==="'")&&(x=n(F[w+1],y),A=Math.pow(10,F[w+1].length)-1,w+=3)):F[w+1]==="/"||F[w+1]===":"?(b=n(F[w],y),C=n(F[w+2],1),w+=3):F[w+3]==="/"&&F[w+1]===" "&&(D=n(F[w],y),b=n(F[w+2],y),C=n(F[w+4],1),w+=5),F.length<=w){E=C*A,y=v=x+E*D+A*b;break}}default:throw p()}if(E===0)throw m();r.s=y<0?-1:1,r.n=Math.abs(v),r.d=Math.abs(E)};function l(d,g,v){for(var E=1;g>0;d=d*d%v,g>>=1)g&1&&(E=E*d%v);return E}function u(d,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var v=10%g,E=1;v!==1;E++)if(v=v*10%g,E>e)return 0;return E}function s(d,g,v){for(var E=1,y=l(10,v,g),D=0;D<300;D++){if(E===y)return D;E=E*10%g,y=y*10%g}return 0}function c(d,g){if(!d)return g;if(!g)return d;for(;;){if(d%=g,!d)return g;if(g%=d,!g)return d}}function f(d,g){if(o(d,g),this instanceof f)d=c(r.d,r.n),this.s=r.s,this.n=r.n/d,this.d=r.d/d;else return i(r.s*r.n,r.d)}var m=function(){return new Error("Division by Zero")},p=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,g){return o(d,g),i(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(d,g){return o(d,g),i(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(d,g){return o(d,g),i(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(d,g){return o(d,g),i(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,g){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,g),r.n===0&&this.d===0)throw m();return i(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(d,g){return o(d,g),i(c(r.n,this.n)*c(r.d,this.d),r.d*this.d)},lcm:function(d,g){return o(d,g),r.n===0&&this.n===0?i(0,1):i(r.n*this.n,c(r.n,this.n)*c(r.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,g){if(o(d,g),r.d===1)return r.s<0?i(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):i(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var v=a(this.n),E=a(this.d),y=1,D=1;for(var b in v)if(b!=="1"){if(b==="0"){y=0;break}if(v[b]*=r.n,v[b]%r.d===0)v[b]/=r.d;else return null;y*=Math.pow(b,v[b])}for(var b in E)if(b!=="1"){if(E[b]*=r.n,E[b]%r.d===0)E[b]/=r.d;else return null;D*=Math.pow(b,E[b])}return r.s<0?i(D,y):i(y,D)},equals:function(d,g){return o(d,g),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(d,g){o(d,g);var v=this.s*this.n*r.d-r.s*r.n*this.d;return(0<v)-(v<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var g=this.abs(),v=g.toContinued(),E=1;E<v.length;E++){for(var y=i(v[E-1],1),D=E-2;D>=0;D--)y=y.inverse().add(v[D]);if(Math.abs(y.sub(g).valueOf())<d)return y.mul(this.s)}return this},divisible:function(d,g){return o(d,g),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var g,v="",E=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=E:(d&&(g=Math.floor(E/y))>0&&(v+=g,v+=" ",E%=y),v+=E,v+="/",v+=y),v},toLatex:function(d){var g,v="",E=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=E:(d&&(g=Math.floor(E/y))>0&&(v+=g,E%=y),v+="\\frac{",v+=E,v+="}{",v+=y,v+="}"),v},toContinued:function(){var d,g=this.n,v=this.d,E=[];if(isNaN(g)||isNaN(v))return E;do E.push(Math.floor(g/v)),d=g%v,g=v,v=d;while(g!==1);return E},toString:function(d){var g=this.n,v=this.d;if(isNaN(g)||isNaN(v))return"NaN";d=d||15;var E=u(g,v),y=s(g,v,E),D=this.s<0?"-":"";if(D+=g/v|0,g%=v,g*=10,g&&(D+="."),E){for(var b=y;b--;)D+=g/v|0,g%=v,g*=10;D+="(";for(var b=E;b--;)D+=g/v|0,g%=v,g*=10;D+=")"}else for(var b=d;g&&b--;)D+=g/v|0,g%=v,g*=10;return D}},typeof Hh=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,jA.exports=f):t.Fraction=f})(Hh)});var u_=gr((NDe,s_)=>{s_.exports=function t(e,r){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,l=/^0/,u=function(y){return t.insensitive&&(""+y).toLowerCase()||""+y},s=u(e).replace(i,"")||"",c=u(r).replace(i,"")||"",f=s.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(s.match(o),16)||f.length!==1&&s.match(a)&&Date.parse(s),h=parseInt(c.match(o),16)||p&&c.match(a)&&Date.parse(c)||null,d,g;if(h){if(p<h)return-1;if(p>h)return 1}for(var v=0,E=Math.max(f.length,m.length);v<E;v++){if(d=!(f[v]||"").match(l)&&parseFloat(f[v])||f[v]||0,g=!(m[v]||"").match(l)&&parseFloat(m[v])||m[v]||0,isNaN(d)!==isNaN(g))return isNaN(d)?1:-1;if(typeof d!=typeof g&&(d+="",g+=""),d<g)return-1;if(d>g)return 1}return 0}});var fM=gr((G2e,cM)=>{"use strict";var g1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oj={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},sj={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},uj=function(e,r){return g1({},e,r)};cM.exports=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.preserveFormatting,n=r===void 0?!1:r,i=e.escapeMapFn,a=i===void 0?uj:i,o=String(t),l="",u=a(g1({},oj),n?g1({},sj):{}),s=Object.keys(u),c=function(){var m=!1;s.forEach(function(p,h){m||o.length>=p.length&&o.slice(0,p.length)===p&&(l+=u[s[h]],o=o.slice(p.length,o.length),m=!0)}),m||(l+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return l}});var UO=gr((VO,vb)=>{(function(t,e,r){function n(l){var u=this,s=o();u.next=function(){var c=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=c-(u.c=c|0)},u.c=1,u.s0=s(" "),u.s1=s(" "),u.s2=s(" "),u.s0-=s(l),u.s0<0&&(u.s0+=1),u.s1-=s(l),u.s1<0&&(u.s1+=1),u.s2-=s(l),u.s2<0&&(u.s2+=1),s=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var s=new n(l),c=u&&u.state,f=s.next;return f.int32=function(){return s.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,s),f.state=function(){return i(s,{})}),f}function o(){var l=4022871197,u=function(s){s=String(s);for(var c=0;c<s.length;c++){l+=s.charCodeAt(c);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return u}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(VO,typeof vb=="object"&&vb,typeof define=="function"&&define)});var WO=gr((zO,yb)=>{(function(t,e,r){function n(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var c=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^c^c>>>8},o===(o|0)?l.x=o:u+=o;for(var s=0;s<u.length+64;s++)l.x^=u.charCodeAt(s)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(zO,typeof yb=="object"&&yb,typeof define=="function"&&define)});var GO=gr((HO,bb)=>{(function(t,e,r){function n(o){var l=this,u="";l.next=function(){var c=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(c^c<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var s=0;s<u.length+64;s++)l.x^=u.charCodeAt(s)|0,s==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(HO,typeof bb=="object"&&bb,typeof define=="function"&&define)});var ZO=gr((jO,xb)=>{(function(t,e,r){function n(o){var l=this;l.next=function(){var s=l.x,c=l.i,f,m,p;return f=s[c],f^=f>>>7,m=f^f<<24,f=s[c+1&7],m^=f^f>>>10,f=s[c+3&7],m^=f^f>>>3,f=s[c+4&7],m^=f^f<<7,f=s[c+7&7],f=f^f<<13,m^=f^f<<9,s[c]=m,l.i=c+1&7,m};function u(s,c){var f,m,p=[];if(c===(c|0))m=p[0]=c;else for(c=""+c,f=0;f<c.length;++f)p[f&7]=p[f&7]<<15^c.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?m=p[7]=-1:m=p[f],s.x=p,s.i=0,f=256;f>0;--f)s.next()}u(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(s.x&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(jO,typeof xb=="object"&&xb,typeof define=="function"&&define)});var JO=gr((YO,Db)=>{(function(t,e,r){function n(o){var l=this;l.next=function(){var s=l.w,c=l.X,f=l.i,m,p;return l.w=s=s+1640531527|0,p=c[f+34&127],m=c[f=f+1&127],p^=p<<13,m^=m<<17,p^=p>>>15,m^=m>>>12,p=c[f]=p^m,l.i=f,p+(s^s>>>16)|0};function u(s,c){var f,m,p,h,d,g=[],v=128;for(c===(c|0)?(m=c,c=null):(c=c+"\0",m=0,v=Math.max(v,c.length)),p=0,h=-32;h<v;++h)c&&(m^=c.charCodeAt((h+32)%c.length)),h===0&&(d=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,h>=0&&(d=d+1640531527|0,f=g[h&127]^=m+d,p=f==0?p+1:0);for(p>=128&&(g[(c&&c.length||0)&127]=-1),p=127,h=4*128;h>0;--h)m=g[p+34&127],f=g[p=p+1&127],m^=m<<13,f^=f<<17,m^=m>>>15,f^=f>>>12,g[p]=m^f;s.w=d,s.X=g,s.i=p}u(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(s.X&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(YO,typeof Db=="object"&&Db,typeof define=="function"&&define)});var QO=gr((XO,wb)=>{(function(t,e,r){function n(o){var l=this,u="";l.next=function(){var c=l.b,f=l.c,m=l.d,p=l.a;return c=c<<25^c>>>7^f,f=f-m|0,m=m<<24^m>>>8^p,p=p-c|0,l.b=c=c<<20^c>>>12^f,l.c=f=f-m|0,l.d=m<<16^f>>>16^p,l.a=p-c|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var s=0;s<u.length+20;s++)l.b^=u.charCodeAt(s)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,m=(u.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(XO,typeof wb=="object"&&wb,typeof define=="function"&&define)});var $O=gr((KO,Fm)=>{(function(t,e,r){var n=256,i=6,a=52,o="random",l=r.pow(n,i),u=r.pow(2,a),s=u*2,c=n-1,f;function m(y,D,b){var x=[];D=D==!0?{entropy:!0}:D||{};var C=g(d(D.entropy?[y,E(e)]:y==null?v():y,3),x),A=new p(x),w=function(){for(var F=A.g(i),M=l,B=0;F<u;)F=(F+B)*n,M*=n,B=A.g(1);for(;F>=s;)F/=2,M/=2,B>>>=1;return(F+B)/M};return w.int32=function(){return A.g(4)|0},w.quick=function(){return A.g(4)/4294967296},w.double=w,g(E(A.S),e),(D.pass||b||function(F,M,B,k){return k&&(k.S&&h(k,A),F.state=function(){return h(A,{})}),B?(r[o]=F,M):F})(w,C,"global"in D?D.global:this==r,D.state)}function p(y){var D,b=y.length,x=this,C=0,A=x.i=x.j=0,w=x.S=[];for(b||(y=[b++]);C<n;)w[C]=C++;for(C=0;C<n;C++)w[C]=w[A=c&A+y[C%b]+(D=w[C])],w[A]=D;(x.g=function(F){for(var M,B=0,k=x.i,R=x.j,P=x.S;F--;)M=P[k=c&k+1],B=B*n+P[c&(P[k]=P[R=c&R+M])+(P[R]=M)];return x.i=k,x.j=R,B})(n)}function h(y,D){return D.i=y.i,D.j=y.j,D.S=y.S.slice(),D}function d(y,D){var b=[],x=typeof y,C;if(D&&x=="object")for(C in y)try{b.push(d(y[C],D-1))}catch(A){}return b.length?b:x=="string"?y:y+"\0"}function g(y,D){for(var b=y+"",x,C=0;C<b.length;)D[c&C]=c&(x^=D[c&C]*19)+b.charCodeAt(C++);return E(D)}function v(){try{var y;return f&&(y=f.randomBytes)?y=y(n):(y=new Uint8Array(n),(t.crypto||t.msCrypto).getRandomValues(y)),E(y)}catch(x){var D=t.navigator,b=D&&D.plugins;return[+new Date,t,b,t.screen,E(e)]}}function E(y){return String.fromCharCode.apply(0,y)}if(g(r.random(),e),typeof Fm=="object"&&Fm.exports){Fm.exports=m;try{f=require("crypto")}catch(y){}}else typeof define=="function"&&define.amd?define(function(){return m}):r["seed"+o]=m})(typeof self!="undefined"?self:KO,[],Math)});var t4=gr((l6e,e4)=>{var FZ=UO(),AZ=WO(),SZ=GO(),NZ=ZO(),_Z=JO(),MZ=QO(),Mo=$O();Mo.alea=FZ;Mo.xor128=AZ;Mo.xorwow=SZ;Mo.xorshift7=NZ;Mo.xor4096=_Z;Mo.tychei=MZ;e4.exports=Mo});var ZY={};M6(ZY,{default:()=>ip});module.exports=T6(ZY);var a6=require("obsidian");var _n=require("obsidian");var yw=["January","February","March","April","May","June","July","August","September","October","November","December"],no=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],vi={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",useUsDateInputOrder:!1,firstWeekday:no[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,inputFieldTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var rE=require("obsidian");function Oe(){}function yl(t,e){for(let r in e)t[r]=e[r];return t}function op(t){return t()}function bl(){return Object.create(null)}function Ke(t){t.forEach(op)}function Ln(t){return typeof t=="function"}function ke(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}var vl;function Ro(t,e){return t===e?!0:(vl||(vl=document.createElement("a")),vl.href=e,t===vl.href)}function bw(t){return Object.keys(t).length===0}function Yr(t,e,r,n){if(t){let i=xw(t,e,r,n);return t[0](i)}}function xw(t,e,r,n){return t[1]&&n?yl(r.ctx.slice(),t[1](n(e))):r.ctx}function Jr(t,e,r,n){if(t[2]&&n){let i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let l=0;l<o;l+=1)a[l]=e.dirty[l]|i[l];return a}return e.dirty|i}return e.dirty}function Xr(t,e,r,n,i,a){if(i){let o=xw(e,r,n,a);t.p(o,i)}}function Qr(t){if(t.ctx.length>32){let e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function io(t){return t&&Ln(t.destroy)?t.destroy:Oe}var Qs=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var xl=class t{constructor(e){Wr(this,"_listeners","WeakMap"in Qs?new WeakMap:void 0);Wr(this,"_observer");Wr(this,"options");this.options=e}observe(e,r){return this._listeners.set(e,r),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(r=>{var n;for(let i of r)t.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};xl.entries="WeakMap"in Qs?new WeakMap:void 0;var Dw=!1;function ww(){Dw=!0}function Ew(){Dw=!1}function J(t,e){t.appendChild(e)}function Gt(t,e,r){let n=Cw(t);if(!n.getElementById(e)){let i=Q("style");i.id=e,i.textContent=r,O6(n,i)}}function Cw(t){if(!t)return document;let e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function O6(t,e){return J(t.head||t,e),e.sheet}function se(t,e,r){t.insertBefore(e,r||null)}function ie(t){t.parentNode&&t.parentNode.removeChild(t)}function Bt(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function Q(t){return document.createElement(t)}function qn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ze(t){return document.createTextNode(t)}function Fe(){return ze(" ")}function cr(){return ze("")}function Me(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function U(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Bi(t){return t===""?null:+t}function Fw(t){return Array.from(t.childNodes)}function Xe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Et(t,e){t.value=e==null?"":e}function Ks(t,e,r,n){r==null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function Hr(t,e,r){for(let n=0;n<t.options.length;n+=1){let i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Oi(t){let e=t.querySelector(":checked");return e&&e.__value}function ut(t,e,r){t.classList.toggle(e,!!r)}function Dl(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function Aw(t){let e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}var xa;function Qi(t){xa=t}function wl(){if(!xa)throw new Error("Function called outside component initialization");return xa}function Kr(t){wl().$$.on_mount.push(t)}function El(t){wl().$$.on_destroy.push(t)}function Pr(){let t=wl();return(e,r,{cancelable:n=!1}={})=>{let i=t.$$.callbacks[e];if(i){let a=Dl(e,r,{cancelable:n});return i.slice().forEach(o=>{o.call(t,a)}),!a.defaultPrevented}return!0}}function _r(t,e){let r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}var ao=[];var Ut=[],Lo=[],lp=[],q6=Promise.resolve(),cp=!1;function Sw(){cp||(cp=!0,q6.then(Cl))}function cn(t){Lo.push(t)}function wn(t){lp.push(t)}var up=new Set,Po=0;function Cl(){if(Po!==0)return;let t=xa;do{try{for(;Po<ao.length;){let e=ao[Po];Po++,Qi(e),V6(e.$$)}}catch(e){throw ao.length=0,Po=0,e}for(Qi(null),ao.length=0,Po=0;Ut.length;)Ut.pop()();for(let e=0;e<Lo.length;e+=1){let r=Lo[e];up.has(r)||(up.add(r),r())}Lo.length=0}while(ao.length);for(;lp.length;)lp.pop()();cp=!1,up.clear(),Qi(t)}function V6(t){if(t.fragment!==null){t.update(),Ke(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(cn)}}function Nw(t){let e=[],r=[];Lo.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),Lo=e}var Fl=new Set,oo;function er(){oo={r:0,c:[],p:oo}}function tr(){oo.r||Ke(oo.c),oo=oo.p}function De(t,e){t&&t.i&&(Fl.delete(t),t.i(e))}function _e(t,e,r,n){if(t&&t.o){if(Fl.has(t))return;Fl.add(t),oo.c.push(()=>{Fl.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function nt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function _w(t,e){t.d(1),e.delete(t.key)}function Mw(t,e){_e(t,1,1,()=>{e.delete(t.key)})}function Al(t,e,r,n,i,a,o,l,u,s,c,f){let m=t.length,p=a.length,h=m,d={};for(;h--;)d[t[h].key]=h;let g=[],v=new Map,E=new Map,y=[];for(h=p;h--;){let C=f(i,a,h),A=r(C),w=o.get(A);w?n&&y.push(()=>w.p(C,e)):(w=s(A,C),w.c()),v.set(A,g[h]=w),A in d&&E.set(A,Math.abs(h-d[A]))}let D=new Set,b=new Set;function x(C){De(C,1),C.m(l,c),o.set(C.key,C),c=C.first,p--}for(;m&&p;){let C=g[p-1],A=t[m-1],w=C.key,F=A.key;C===A?(c=C.first,m--,p--):v.has(F)?!o.has(w)||D.has(w)?x(C):b.has(F)?m--:E.get(w)>E.get(F)?(b.add(w),x(C)):(D.add(F),m--):(u(A,o),m--)}for(;m--;){let C=t[m];v.has(C.key)||u(C,o)}for(;p;)x(g[p-1]);return Ke(y),g}var U6=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],z6=new Set([...U6]);function En(t,e,r){let n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function rt(t){t&&t.c()}function et(t,e,r){let{fragment:n,after_update:i}=t.$$;n&&n.m(e,r),cn(()=>{let a=t.$$.on_mount.map(op).filter(Ln);t.$$.on_destroy?t.$$.on_destroy.push(...a):Ke(a),t.$$.on_mount=[]}),i.forEach(cn)}function tt(t,e){let r=t.$$;r.fragment!==null&&(Nw(r.after_update),Ke(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function H6(t,e){t.$$.dirty[0]===-1&&(ao.push(t),Sw(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Re(t,e,r,n,i,a,o=null,l=[-1]){let u=xa;Qi(t);let s=t.$$={fragment:null,ctx:[],props:a,update:Oe,not_equal:i,bound:bl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:bl(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};o&&o(s.root);let c=!1;if(s.ctx=r?r(t,e.props||{},(f,m,...p)=>{let h=p.length?p[0]:m;return s.ctx&&i(s.ctx[f],s.ctx[f]=h)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](h),c&&H6(t,f)),m}):[],s.update(),c=!0,Ke(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){ww();let f=Fw(e.target);s.fragment&&s.fragment.l(f),f.forEach(ie)}else s.fragment&&s.fragment.c();e.intro&&De(t.$$.fragment),et(t,e.target,e.anchor),Ew(),Cl()}Qi(u)}var G6;typeof HTMLElement=="function"&&(G6=class extends HTMLElement{constructor(e,r,n){super();Wr(this,"$$ctor");Wr(this,"$$s");Wr(this,"$$c");Wr(this,"$$cn",!1);Wr(this,"$$d",{});Wr(this,"$$r",!1);Wr(this,"$$p_d",{});Wr(this,"$$l",{});Wr(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(e,r,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(r),this.$$c){let i=this.$$c.$on(e,r);this.$$l_u.set(r,i)}super.addEventListener(e,r,n)}removeEventListener(e,r,n){if(super.removeEventListener(e,r,n),this.$$c){let i=this.$$l_u.get(r);i&&(i(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=Q("slot"),a!=="default"&&U(o,"name",a)},m:function(s,c){se(s,o,c)},d:function(s){s&&ie(o)}}}};if(await Promise.resolve(),!this.$$cn)return;let r={},n=Aw(this);for(let a of this.$$s)a in n&&(r[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=fp(o,a.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=fp(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let l=this.$$c.$on(a,o);this.$$l_u.set(o,l)}this.$$l={}}}attributeChangedCallback(e,r,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=fp(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(r=>this.$$p_d[r].attribute===e||!this.$$p_d[r].attribute&&r.toLowerCase()===e)||e}});function fp(t,e,r,n){var a;let i=(a=r[t])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var Ie=class{constructor(){Wr(this,"$$");Wr(this,"$$set")}$destroy(){tt(this,1),this.$destroy=Oe}$on(e,r){if(!Ln(r))return Oe;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!bw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var Tw="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Tw);function Z6(t){Gt(t,"svelte-r9r5oc",".nopadding.svelte-r9r5oc{padding:0}.icon-xs.svelte-r9r5oc{--icon-size:var(--icon-xs);--icon-stroke:var(--icon-xs-stroke-width)}.icon-sm.svelte-r9r5oc{--icon-size:var(--icon-s);--icon-stroke:var(--icon-s-stroke-width)}.icon-md.svelte-r9r5oc{--icon-size:var(--icon-m);--icon-stroke:var(--icon-m-stroke-width)}.icon-lg.svelte-r9r5oc{--icon-size:var(--icon-l);--icon-stroke:var(--icon-l-stroke-width)}")}function Y6(t){let e,r,n,i;return{c(){e=Q("div"),U(e,"class","clickable-icon svelte-r9r5oc"),U(e,"aria-label",t[3]),U(e,"aria-disabled",t[5]),ut(e,"nopadding",t[4]),ut(e,"is-active",t[2]),ut(e,"icon-xs",t[1]==="xs"),ut(e,"icon-sm",t[1]==="sm"),ut(e,"icon-md",t[1]==="md"),ut(e,"icon-lg",t[1]==="lg")},m(a,o){se(a,e,o),n||(i=[io(r=so.call(null,e,t[0])),Me(e,"click",t[6])],n=!0)},p(a,[o]){o&8&&U(e,"aria-label",a[3]),o&32&&U(e,"aria-disabled",a[5]),r&&Ln(r.update)&&o&1&&r.update.call(null,a[0]),o&16&&ut(e,"nopadding",a[4]),o&4&&ut(e,"is-active",a[2]),o&2&&ut(e,"icon-xs",a[1]==="xs"),o&2&&ut(e,"icon-sm",a[1]==="sm"),o&2&&ut(e,"icon-md",a[1]==="md"),o&2&&ut(e,"icon-lg",a[1]==="lg")},i:Oe,o:Oe,d(a){a&&ie(e),n=!1,Ke(i)}}}function J6(t,e,r){let{icon:n}=e,{size:i="md"}=e,{active:a=!1}=e,{tooltip:o=""}=e,{nopadding:l=!1}=e,{disabled:u=!1}=e,{onClick:s=()=>{}}=e;function c(f){u||s(f)}return t.$$set=f=>{"icon"in f&&r(0,n=f.icon),"size"in f&&r(1,i=f.size),"active"in f&&r(2,a=f.active),"tooltip"in f&&r(3,o=f.tooltip),"nopadding"in f&&r(4,l=f.nopadding),"disabled"in f&&r(5,u=f.disabled),"onClick"in f&&r(7,s=f.onClick)},[n,i,a,o,l,u,c,s]}var pp=class extends Ie{constructor(e){super(),Re(this,e,J6,Y6,ke,{icon:0,size:1,active:2,tooltip:3,nopadding:4,disabled:5,onClick:7},Z6)}},qo=pp;var dp=require("obsidian");function so(t,e){return(0,dp.setIcon)(t,e),{update(r){(0,dp.setIcon)(t,r)}}}function $6(t){Gt(t,"svelte-su9mt0",".embed.svelte-su9mt0{all:unset;box-sizing:border-box;padding:6px;font-weight:400;font-family:var(--font-default);color:var(--text-normal)}.embed.svelte-su9mt0:focus{box-shadow:none}.noPadding.svelte-su9mt0{padding:0}.error.svelte-su9mt0{border-color:var(--background-modifier-error)}.error.svelte-su9mt0:hover{border-color:var(--background-modifier-error-hover)}.error.svelte-su9mt0:focus{box-shadow:0 0 0 2px var(--background-modifier-error);border-color:var(--background-modifier-error)}small.svelte-su9mt0{margin-top:var(--size-4-1);font-size:var(--font-ui-smaller);color:var(--text-muted);display:block}.errorText.svelte-su9mt0{color:var(--text-error)}")}function kw(t){let e,r;return{c(){e=Q("small"),r=ze(t[9]),U(e,"class","svelte-su9mt0"),ut(e,"errorText",t[6])},m(n,i){se(n,e,i),J(e,r)},p(n,i){i&512&&Xe(r,n[9]),i&64&&ut(e,"errorText",n[6])},d(n){n&&ie(e)}}}function eP(t){let e,r,n,i,a,o,l,u=!!t[9]&&kw(t);return{c(){e=Q("div"),r=Q("input"),i=Fe(),u&&u.c(),r.value=t[2],U(r,"type",t[1]),U(r,"placeholder",t[4]),r.readOnly=t[3],U(r,"style",n=`width: ${t[5]}`),U(r,"class","svelte-su9mt0"),ut(r,"error",t[6]),ut(r,"embed",t[7]),ut(r,"noPadding",t[8]),U(e,"style",a=`width: ${t[5]}`)},m(s,c){se(s,e,c),J(e,r),t[16](r),J(e,i),u&&u.m(e,null),o||(l=[Me(r,"input",t[11]),Me(r,"focus",t[12]),Me(r,"blur",t[13]),Me(r,"keydown",t[14]),Me(r,"keyup",t[15])],o=!0)},p(s,[c]){c&4&&r.value!==s[2]&&(r.value=s[2]),c&2&&U(r,"type",s[1]),c&16&&U(r,"placeholder",s[4]),c&8&&(r.readOnly=s[3]),c&32&&n!==(n=`width: ${s[5]}`)&&U(r,"style",n),c&64&&ut(r,"error",s[6]),c&128&&ut(r,"embed",s[7]),c&256&&ut(r,"noPadding",s[8]),s[9]?u?u.p(s,c):(u=kw(s),u.c(),u.m(e,null)):u&&(u.d(1),u=null),c&32&&a!==(a=`width: ${s[5]}`)&&U(e,"style",a)},i:Oe,o:Oe,d(s){s&&ie(e),t[16](null),u&&u.d(),o=!1,Ke(l)}}}function tP(t,e,r){let{type:n}=e,{value:i}=e,{ref:a=null}=e,{readonly:o=!1}=e,{placeholder:l=""}=e,{autoFocus:u=!1}=e,{width:s="auto"}=e,{error:c=!1}=e,{embed:f=!1}=e,{noPadding:m=!1}=e,{helperText:p=""}=e,h=Pr();Kr(()=>{u&&a&&a.focus()});function d(b){_r.call(this,t,b)}function g(b){_r.call(this,t,b)}function v(b){_r.call(this,t,b)}function E(b){_r.call(this,t,b)}function y(b){_r.call(this,t,b)}function D(b){Ut[b?"unshift":"push"](()=>{a=b,r(0,a)})}return t.$$set=b=>{"type"in b&&r(1,n=b.type),"value"in b&&r(2,i=b.value),"ref"in b&&r(0,a=b.ref),"readonly"in b&&r(3,o=b.readonly),"placeholder"in b&&r(4,l=b.placeholder),"autoFocus"in b&&r(10,u=b.autoFocus),"width"in b&&r(5,s=b.width),"error"in b&&r(6,c=b.error),"embed"in b&&r(7,f=b.embed),"noPadding"in b&&r(8,m=b.noPadding),"helperText"in b&&r(9,p=b.helperText)},t.$$.update=()=>{t.$$.dirty&4&&h("input",i)},[a,n,i,o,l,s,c,f,m,p,u,d,g,v,E,y,D]}var hp=class extends Ie{constructor(e){super(),Re(this,e,tP,eP,ke,{type:1,value:2,ref:0,readonly:3,placeholder:4,autoFocus:10,width:5,error:6,embed:7,noPadding:8,helperText:9},$6)}},gp=hp;function rP(t){let e,r,n,i;function a(u){t[11](u)}function o(u){t[12](u)}let l={type:"text",readonly:t[2],noPadding:t[9],placeholder:t[3],autoFocus:t[4],width:t[5],embed:t[8],error:t[6],helperText:t[7]};return t[1]!==void 0&&(l.ref=t[1]),t[0]!==void 0&&(l.value=t[0]),e=new gp({props:l}),Ut.push(()=>En(e,"ref",a)),Ut.push(()=>En(e,"value",o)),e.$on("input",t[10]),e.$on("focus",t[13]),e.$on("blur",t[14]),e.$on("keydown",t[15]),e.$on("keyup",t[16]),{c(){rt(e.$$.fragment)},m(u,s){et(e,u,s),i=!0},p(u,[s]){let c={};s&4&&(c.readonly=u[2]),s&512&&(c.noPadding=u[9]),s&8&&(c.placeholder=u[3]),s&16&&(c.autoFocus=u[4]),s&32&&(c.width=u[5]),s&256&&(c.embed=u[8]),s&64&&(c.error=u[6]),s&128&&(c.helperText=u[7]),!r&&s&2&&(r=!0,c.ref=u[1],wn(()=>r=!1)),!n&&s&1&&(n=!0,c.value=u[0],wn(()=>n=!1)),e.$set(c)},i(u){i||(De(e.$$.fragment,u),i=!0)},o(u){_e(e.$$.fragment,u),i=!1},d(u){tt(e,u)}}}function nP(t,e,r){let{value:n}=e,{readonly:i=!1}=e,{placeholder:a=""}=e,{autoFocus:o=!1}=e,{width:l="auto"}=e,{error:u=!1}=e,{helperText:s=""}=e,{embed:c=!1}=e,{noPadding:f=!1}=e,{ref:m=null}=e,p=Pr();function h(b){b.currentTarget instanceof HTMLInputElement&&r(0,n=b.currentTarget.value)}function d(b){m=b,r(1,m)}function g(b){n=b,r(0,n)}function v(b){_r.call(this,t,b)}function E(b){_r.call(this,t,b)}function y(b){_r.call(this,t,b)}function D(b){_r.call(this,t,b)}return t.$$set=b=>{"value"in b&&r(0,n=b.value),"readonly"in b&&r(2,i=b.readonly),"placeholder"in b&&r(3,a=b.placeholder),"autoFocus"in b&&r(4,o=b.autoFocus),"width"in b&&r(5,l=b.width),"error"in b&&r(6,u=b.error),"helperText"in b&&r(7,s=b.helperText),"embed"in b&&r(8,c=b.embed),"noPadding"in b&&r(9,f=b.noPadding),"ref"in b&&r(1,m=b.ref)},t.$$.update=()=>{t.$$.dirty&1&&p("input",n)},[n,m,i,a,o,l,u,s,c,f,h,d,g,v,E,y,D]}var vp=class extends Ie{constructor(e){super(),Re(this,e,nP,rP,ke,{value:0,readonly:2,placeholder:3,autoFocus:4,width:5,error:6,helperText:7,embed:8,noPadding:9,ref:1})}},Da=vp;function oP(t){Gt(t,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function sP(t){let e,r,n,i,a=t[5].default,o=Yr(a,t,t[4],null);return{c(){e=Q("button"),o&&o.c(),U(e,"aria-label",t[3]),e.disabled=t[2],U(e,"class","svelte-12xcpmj"),ut(e,"mod-cta",t[1]==="primary"),ut(e,"mod-warning",t[1]==="destructive"),ut(e,"mod-plain",t[1]==="plain"),ut(e,"disabled",t[2])},m(l,u){se(l,e,u),o&&o.m(e,null),t[7](e),r=!0,n||(i=Me(e,"click",t[6]),n=!0)},p(l,[u]){o&&o.p&&(!r||u&16)&&Xr(o,a,l,l[4],r?Jr(a,l[4],u,null):Qr(l[4]),null),(!r||u&8)&&U(e,"aria-label",l[3]),(!r||u&4)&&(e.disabled=l[2]),(!r||u&2)&&ut(e,"mod-cta",l[1]==="primary"),(!r||u&2)&&ut(e,"mod-warning",l[1]==="destructive"),(!r||u&2)&&ut(e,"mod-plain",l[1]==="plain"),(!r||u&4)&&ut(e,"disabled",l[2])},i(l){r||(De(o,l),r=!0)},o(l){_e(o,l),r=!1},d(l){l&&ie(e),o&&o.d(l),t[7](null),n=!1,i()}}}function uP(t,e,r){let{$$slots:n={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:l=""}=e,{ref:u=null}=e;function s(f){_r.call(this,t,f)}function c(f){Ut[f?"unshift":"push"](()=>{u=f,r(0,u)})}return t.$$set=f=>{"variant"in f&&r(1,a=f.variant),"disabled"in f&&r(2,o=f.disabled),"tooltip"in f&&r(3,l=f.tooltip),"ref"in f&&r(0,u=f.ref),"$$scope"in f&&r(4,i=f.$$scope)},[u,a,o,l,i,n,s,c]}var yp=class extends Ie{constructor(e){super(),Re(this,e,uP,sP,ke,{variant:1,disabled:2,tooltip:3,ref:0},oP)}},Dr=yp;var pP=xr(Pw());function xP(t){let e,r,n=t[1].default,i=Yr(n,t,t[0],null);return{c(){e=Q("div"),i&&i.c(),U(e,"class","modal-button-container")},m(a,o){se(a,e,o),i&&i.m(e,null),r=!0},p(a,[o]){i&&i.p&&(!r||o&1)&&Xr(i,n,a,a[0],r?Jr(n,a[0],o,null):Qr(a[0]),null)},i(a){r||(De(i,a),r=!0)},o(a){_e(i,a),r=!1},d(a){a&&ie(e),i&&i.d(a)}}}function DP(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=a=>{"$$scope"in a&&r(0,i=a.$$scope)},[i,n]}var Dp=class extends Ie{constructor(e){super(),Re(this,e,DP,xP,ke,{})}},Vo=Dp;var fn=class extends Error{constructor(r){super("");this.errorLevel=r.errorLevel,this.effect=r.effect,this.cause=r.cause,this.tip=r.tip,this.docs=r.docs,this.context=r.context,this.positionContext=r.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},vr=class extends fn{getErrorType(){return"MB_INTERNAL"}},$r=class extends fn{getErrorType(){return"MB_PARSING"}};var uo=class extends fn{getErrorType(){return"MB_BIND_TARGET"}};var rr=class extends fn{getErrorType(){return"MB_ARGUMENT"}},$s=class extends fn{getErrorType(){return"MB_JS"}},Ki=class extends fn{getErrorType(){return"MB_EXPRESSION"}};var eu=class extends fn{getErrorType(){return"MB_EXAMPLE"}};function qw(t,e,r){let n=t.slice();return n[1]=e[r],n}function _P(t){let e,r,n,i=t[0].stack+"",a;return{c(){e=Q("div"),r=Q("pre"),n=Q("code"),a=ze(i),U(n,"class","language-none mb-none"),U(r,"class","mb-pre"),U(e,"class","mb-card")},m(o,l){se(o,e,l),J(e,r),J(r,n),J(n,a)},p(o,l){l&1&&i!==(i=o[0].stack+"")&&Xe(a,i)},d(o){o&&ie(e)}}}function MP(t){let e,r,n,i=t[0].errorLevel+"",a,o,l=t[0].getErrorType()+"",u,s,c,f,m=t[0].effect+"",p,h,d,g,v,E,y,D,b,x=t[0].cause+"",C,A,w,F,M,B,k=t[0].effect+"",R,P,T,I,V=t[0].positionContext&&Vw(t),O=t[0].tip&&Uw(t),Y=t[0].docs&&zw(t),$=t[0].context&&Hw(t);return{c(){e=Q("div"),r=Q("h6"),n=Q("span"),a=ze(i),o=ze(`
				[`),u=ze(l),s=ze("]"),f=ze(`
			- `),p=ze(m),h=Fe(),V&&V.c(),d=Fe(),g=Q("table"),v=Q("tbody"),E=Q("tr"),y=Q("td"),y.textContent="Cause",D=Fe(),b=Q("td"),C=ze(x),A=Fe(),w=Q("tr"),F=Q("td"),F.textContent="Effect",M=Fe(),B=Q("td"),R=ze(k),P=Fe(),O&&O.c(),T=Fe(),Y&&Y.c(),I=Fe(),$&&$.c(),U(n,"class",c=t[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),U(e,"class","mb-card mb-card-full-width markdown-rendered")},m(W,q){se(W,e,q),J(e,r),J(r,n),J(n,a),J(n,o),J(n,u),J(n,s),J(r,f),J(r,p),J(e,h),V&&V.m(e,null),J(e,d),J(e,g),J(g,v),J(v,E),J(E,y),J(E,D),J(E,b),J(b,C),J(v,A),J(v,w),J(w,F),J(w,M),J(w,B),J(B,R),J(v,P),O&&O.m(v,null),J(v,T),Y&&Y.m(v,null),J(v,I),$&&$.m(v,null)},p(W,q){q&1&&i!==(i=W[0].errorLevel+"")&&Xe(a,i),q&1&&l!==(l=W[0].getErrorType()+"")&&Xe(u,l),q&1&&c!==(c=W[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text")&&U(n,"class",c),q&1&&m!==(m=W[0].effect+"")&&Xe(p,m),W[0].positionContext?V?V.p(W,q):(V=Vw(W),V.c(),V.m(e,d)):V&&(V.d(1),V=null),q&1&&x!==(x=W[0].cause+"")&&Xe(C,x),q&1&&k!==(k=W[0].effect+"")&&Xe(R,k),W[0].tip?O?O.p(W,q):(O=Uw(W),O.c(),O.m(v,T)):O&&(O.d(1),O=null),W[0].docs?Y?Y.p(W,q):(Y=zw(W),Y.c(),Y.m(v,I)):Y&&(Y.d(1),Y=null),W[0].context?$?$.p(W,q):($=Hw(W),$.c(),$.m(v,null)):$&&($.d(1),$=null)},d(W){W&&ie(e),V&&V.d(),O&&O.d(),Y&&Y.d(),$&&$.d()}}}function Vw(t){let e,r,n=t[0].positionContext+"",i;return{c(){e=Q("pre"),r=Q("code"),i=ze(n),U(r,"class","language-none mb-none"),U(e,"class","mb-pre")},m(a,o){se(a,e,o),J(e,r),J(r,i)},p(a,o){o&1&&n!==(n=a[0].positionContext+"")&&Xe(i,n)},d(a){a&&ie(e)}}}function Uw(t){let e,r,n,i,a=t[0].tip+"",o;return{c(){e=Q("tr"),r=Q("td"),r.textContent="Tip",n=Fe(),i=Q("td"),o=ze(a)},m(l,u){se(l,e,u),J(e,r),J(e,n),J(e,i),J(i,o)},p(l,u){u&1&&a!==(a=l[0].tip+"")&&Xe(o,a)},d(l){l&&ie(e)}}}function zw(t){let e,r,n,i,a=nt(t[0].docs),o=[];for(let l=0;l<a.length;l+=1)o[l]=Ww(qw(t,a,l));return{c(){e=Q("tr"),r=Q("td"),r.textContent="Docs",n=Fe(),i=Q("td");for(let l=0;l<o.length;l+=1)o[l].c()},m(l,u){se(l,e,u),J(e,r),J(e,n),J(e,i);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,null)},p(l,u){if(u&1){a=nt(l[0].docs);let s;for(s=0;s<a.length;s+=1){let c=qw(l,a,s);o[s]?o[s].p(c,u):(o[s]=Ww(c),o[s].c(),o[s].m(i,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d(l){l&&ie(e),Bt(o,l)}}}function Ww(t){let e,r=t[1]+"",n,i,a;return{c(){e=Q("a"),n=ze(r),a=Q("br"),U(e,"href",i=t[1])},m(o,l){se(o,e,l),J(e,n),se(o,a,l)},p(o,l){l&1&&r!==(r=o[1]+"")&&Xe(n,r),l&1&&i!==(i=o[1])&&U(e,"href",i)},d(o){o&&(ie(e),ie(a))}}}function Hw(t){let e,r,n,i,a,o,l=JSON.stringify(t[0].context,null,4)+"",u;return{c(){e=Q("tr"),r=Q("td"),r.textContent="Context",n=Fe(),i=Q("td"),a=Q("pre"),o=Q("code"),u=ze(l),U(o,"class","language-none mb-none"),U(a,"class","mb-pre")},m(s,c){se(s,e,c),J(e,r),J(e,n),J(e,i),J(i,a),J(a,o),J(o,u)},p(s,c){c&1&&l!==(l=JSON.stringify(s[0].context,null,4)+"")&&Xe(u,l)},d(s){s&&ie(e)}}}function TP(t){let e;function r(a,o){return a[0]instanceof fn?MP:_P}let n=r(t,-1),i=n(t);return{c(){i.c(),e=cr()},m(a,o){i.m(a,o),se(a,e,o)},p(a,[o]){n===(n=r(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Oe,o:Oe,d(a){a&&ie(e),i.d(a)}}}function IP(t,e,r){let{error:n}=e;return t.$$set=i=>{"error"in i&&r(0,n=i.error)},[n]}var wp=class extends Ie{constructor(e){super(),Re(this,e,IP,TP,ke,{error:0})}},Ep=wp;function Gw(t,e,r){let n=t.slice();return n[2]=e[r],n}function jw(t,e,r){let n=t.slice();return n[5]=e[r],n}function Zw(t){let e,r,n;return{c(){e=Q("p"),r=Q("code"),n=ze(t[1]),U(r,"class","language-none meta-bind-none")},m(i,a){se(i,e,a),J(e,r),J(r,n)},p(i,a){a&2&&Xe(n,i[1])},d(i){i&&ie(e)}}}function Yw(t){let e,r,n,i,a,o,l=nt(t[0].getErrors()),u=[];for(let c=0;c<l.length;c+=1)u[c]=Jw(jw(t,l,c));let s=c=>_e(u[c],1,1,()=>{u[c]=null});return{c(){e=Q("h6"),e.textContent="Errors",r=Fe(),n=Q("p"),n.textContent="Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",i=Fe();for(let c=0;c<u.length;c+=1)u[c].c();a=cr()},m(c,f){se(c,e,f),se(c,r,f),se(c,n,f),se(c,i,f);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(c,f);se(c,a,f),o=!0},p(c,f){if(f&1){l=nt(c[0].getErrors());let m;for(m=0;m<l.length;m+=1){let p=jw(c,l,m);u[m]?(u[m].p(p,f),De(u[m],1)):(u[m]=Jw(p),u[m].c(),De(u[m],1),u[m].m(a.parentNode,a))}for(er(),m=l.length;m<u.length;m+=1)s(m);tr()}},i(c){if(!o){for(let f=0;f<l.length;f+=1)De(u[f]);o=!0}},o(c){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)_e(u[f]);o=!1},d(c){c&&(ie(e),ie(r),ie(n),ie(i),ie(a)),Bt(u,c)}}}function Jw(t){let e,r;return e=new Ep({props:{error:t[5]}}),{c(){rt(e.$$.fragment)},m(n,i){et(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.error=n[5]),e.$set(a)},i(n){r||(De(e.$$.fragment,n),r=!0)},o(n){_e(e.$$.fragment,n),r=!1},d(n){tt(e,n)}}}function Xw(t){let e,r,n,i,a,o,l=nt(t[0].getWarnings()),u=[];for(let c=0;c<l.length;c+=1)u[c]=Qw(Gw(t,l,c));let s=c=>_e(u[c],1,1,()=>{u[c]=null});return{c(){e=Q("h6"),e.textContent="Warnings",r=Fe(),n=Q("p"),n.textContent="Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was invalid or uses deprecated functionality.",i=Fe();for(let c=0;c<u.length;c+=1)u[c].c();a=cr()},m(c,f){se(c,e,f),se(c,r,f),se(c,n,f),se(c,i,f);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(c,f);se(c,a,f),o=!0},p(c,f){if(f&1){l=nt(c[0].getWarnings());let m;for(m=0;m<l.length;m+=1){let p=Gw(c,l,m);u[m]?(u[m].p(p,f),De(u[m],1)):(u[m]=Qw(p),u[m].c(),De(u[m],1),u[m].m(a.parentNode,a))}for(er(),m=l.length;m<u.length;m+=1)s(m);tr()}},i(c){if(!o){for(let f=0;f<l.length;f+=1)De(u[f]);o=!0}},o(c){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)_e(u[f]);o=!1},d(c){c&&(ie(e),ie(r),ie(n),ie(i),ie(a)),Bt(u,c)}}}function Qw(t){let e,r;return e=new Ep({props:{error:t[2]}}),{c(){rt(e.$$.fragment)},m(n,i){et(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.error=n[2]),e.$set(a)},i(n){r||(De(e.$$.fragment,n),r=!0)},o(n){_e(e.$$.fragment,n),r=!1},d(n){tt(e,n)}}}function BP(t){let e,r=t[0].hasErrors(),n,i=t[0].hasWarnings(),a,o,l=t[1]&&Zw(t),u=r&&Yw(t),s=i&&Xw(t);return{c(){l&&l.c(),e=Fe(),u&&u.c(),n=Fe(),s&&s.c(),a=cr()},m(c,f){l&&l.m(c,f),se(c,e,f),u&&u.m(c,f),se(c,n,f),s&&s.m(c,f),se(c,a,f),o=!0},p(c,[f]){c[1]?l?l.p(c,f):(l=Zw(c),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&1&&(r=c[0].hasErrors()),r?u?(u.p(c,f),f&1&&De(u,1)):(u=Yw(c),u.c(),De(u,1),u.m(n.parentNode,n)):u&&(er(),_e(u,1,1,()=>{u=null}),tr()),f&1&&(i=c[0].hasWarnings()),i?s?(s.p(c,f),f&1&&De(s,1)):(s=Xw(c),s.c(),De(s,1),s.m(a.parentNode,a)):s&&(er(),_e(s,1,1,()=>{s=null}),tr())},i(c){o||(De(u),De(s),o=!0)},o(c){_e(u),_e(s),o=!1},d(c){c&&(ie(e),ie(n),ie(a)),l&&l.d(c),u&&u.d(c),s&&s.d(c)}}}function OP(t,e,r){let{errorCollection:n}=e,{declaration:i}=e;return t.$$set=a=>{"errorCollection"in a&&r(0,n=a.errorCollection),"declaration"in a&&r(1,i=a.declaration)},[n,i]}var Cp=class extends Ie{constructor(e){super(),Re(this,e,OP,BP,ke,{errorCollection:0,declaration:1})}},Uo=Cp;function Kw(t,e,r){let n=t.slice();return n[12]=e[r],n[13]=e,n[14]=r,n}function $w(t){let e,r,n,i,a,o,l,u,s;function c(p){t[7](p,t[12],t[13],t[14])}let f={placeholder:"INPUT[slider(addLabels)]",width:"100%"};t[12]!==void 0&&(f.value=t[12]),n=new Da({props:f}),Ut.push(()=>En(n,"value",c));function m(){return t[8](t[12])}return l=new qo({props:{icon:"x",onClick:m,tooltip:"Delete"}}),{c(){e=Q("tr"),r=Q("td"),rt(n.$$.fragment),a=Fe(),o=Q("td"),rt(l.$$.fragment),u=Fe(),Ks(r,"width","100%")},m(p,h){se(p,e,h),J(e,r),et(n,r,null),J(e,a),J(e,o),et(l,o,null),J(e,u),s=!0},p(p,h){t=p;let d={};!i&&h&1&&(i=!0,d.value=t[12],wn(()=>i=!1)),n.$set(d);let g={};h&1&&(g.onClick=m),l.$set(g)},i(p){s||(De(n.$$.fragment,p),De(l.$$.fragment,p),s=!0)},o(p){_e(n.$$.fragment,p),_e(l.$$.fragment,p),s=!1},d(p){p&&ie(e),tt(n),tt(l)}}}function kP(t){let e;return{c(){e=ze("Add Folder")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function eE(t){let e,r,n,i,a;return i=new Uo({props:{errorCollection:t[1],declaration:void 0}}),{c(){e=Q("div"),r=Q("h3"),r.textContent="Some Folder Paths are invalid",n=Fe(),rt(i.$$.fragment),U(r,"class","mod-error")},m(o,l){se(o,e,l),J(e,r),J(e,n),et(i,e,null),a=!0},p(o,l){let u={};l&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(De(i.$$.fragment,o),a=!0)},o(o){_e(i.$$.fragment,o),a=!1},d(o){o&&ie(e),tt(i)}}}function RP(t){let e;return{c(){e=ze("Save")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function PP(t){let e;return{c(){e=ze("Cancel")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function LP(t){let e,r,n,i;return e=new Dr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[RP]},$$scope:{ctx:t}}}),e.$on("click",t[10]),n=new Dr({props:{tooltip:"Revert Changes",$$slots:{default:[PP]},$$scope:{ctx:t}}}),n.$on("click",t[11]),{c(){rt(e.$$.fragment),r=Fe(),rt(n.$$.fragment)},m(a,o){et(e,a,o),se(a,r,o),et(n,a,o),i=!0},p(a,o){let l={};o&32768&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let u={};o&32768&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(De(e.$$.fragment,a),De(n.$$.fragment,a),i=!0)},o(a){_e(e.$$.fragment,a),_e(n.$$.fragment,a),i=!1},d(a){a&&ie(r),tt(e,a),tt(n,a)}}}function qP(t){let e,r,n,i,a,o,l,u,s,c,f,m=nt(t[0]),p=[];for(let g=0;g<m.length;g+=1)p[g]=$w(Kw(t,m,g));let h=g=>_e(p[g],1,1,()=>{p[g]=null});l=new Dr({props:{variant:"primary",tooltip:"Add new excluded Folder",$$slots:{default:[kP]},$$scope:{ctx:t}}}),l.$on("click",t[9]);let d=t[1]&&eE(t);return c=new Vo({props:{$$slots:{default:[LP]},$$scope:{ctx:t}}}),{c(){e=Q("div"),r=Q("table"),n=Q("thead"),n.innerHTML="<tr><th>Folder Path</th> <th></th></tr>",i=Fe(),a=Q("tbody");for(let g=0;g<p.length;g+=1)p[g].c();o=Fe(),rt(l.$$.fragment),u=Fe(),d&&d.c(),s=Fe(),rt(c.$$.fragment)},m(g,v){se(g,e,v),J(e,r),J(r,n),J(r,i),J(r,a);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(a,null);J(e,o),et(l,e,null),J(e,u),d&&d.m(e,null),J(e,s),et(c,e,null),f=!0},p(g,[v]){if(v&5){m=nt(g[0]);let D;for(D=0;D<m.length;D+=1){let b=Kw(g,m,D);p[D]?(p[D].p(b,v),De(p[D],1)):(p[D]=$w(b),p[D].c(),De(p[D],1),p[D].m(a,null))}for(er(),D=m.length;D<p.length;D+=1)h(D);tr()}let E={};v&32768&&(E.$$scope={dirty:v,ctx:g}),l.$set(E),g[1]?d?(d.p(g,v),v&2&&De(d,1)):(d=eE(g),d.c(),De(d,1),d.m(e,s)):d&&(er(),_e(d,1,1,()=>{d=null}),tr());let y={};v&32768&&(y.$$scope={dirty:v,ctx:g}),c.$set(y)},i(g){if(!f){for(let v=0;v<m.length;v+=1)De(p[v]);De(l.$$.fragment,g),De(d),De(c.$$.fragment,g),f=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)_e(p[v]);_e(l.$$.fragment,g),_e(d),_e(c.$$.fragment,g),f=!1},d(g){g&&ie(e),Bt(p,g),tt(l),d&&d.d(),tt(c)}}}function VP(t,e,r){let{excludedFolders:n}=e,{modal:i}=e,a;function o(d){r(0,n=n.filter(g=>g!==d))}function l(){n.push(""),r(0,n)}function u(){r(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}function c(d,g,v,E){v[E]=d,r(0,n)}let f=d=>o(d),m=()=>l(),p=()=>u(),h=()=>s();return t.$$set=d=>{"excludedFolders"in d&&r(0,n=d.excludedFolders),"modal"in d&&r(6,i=d.modal)},[n,a,o,l,u,s,i,c,f,m,p,h]}var Fp=class extends Ie{constructor(e){super(),Re(this,e,VP,qP,ke,{excludedFolders:0,modal:6})}},tE=Fp;var fr=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof fn?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(r=>r.errorLevel==="ERROR"||r.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var Sl=class extends rE.Modal{constructor(r,n){super(r);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new tE({target:this.contentEl,props:{excludedFolders:this.plugin.settings.excludedFolders.slice(),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(r){for(let n of r)if(n===""){let i=new fr("Excluded Folders");return i.add(new Error(`Invalid Folder Path '${n}'. Folder path may not be empty.`)),i}this.plugin.settings.excludedFolders=r,this.plugin.saveSettings()}};var uE=require("obsidian");function UP(t){let e,r,n,i,a,o,l,u,s,c,f,m;function p(v){t[2](v)}let h={placeholder:"template-name"};t[0].name!==void 0&&(h.value=t[0].name),n=new Da({props:h}),Ut.push(()=>En(n,"value",p));function d(v){t[3](v)}let g={placeholder:"INPUT[slider(addLabels)]",width:"100%"};return t[0].declaration!==void 0&&(g.value=t[0].declaration),l=new Da({props:g}),Ut.push(()=>En(l,"value",d)),f=new qo({props:{icon:"x",onClick:t[4],tooltip:"Delete Template"}}),{c(){e=Q("tr"),r=Q("td"),rt(n.$$.fragment),a=Fe(),o=Q("td"),rt(l.$$.fragment),s=Fe(),c=Q("td"),rt(f.$$.fragment),Ks(o,"width","100%")},m(v,E){se(v,e,E),J(e,r),et(n,r,null),J(e,a),J(e,o),et(l,o,null),J(e,s),J(e,c),et(f,c,null),m=!0},p(v,[E]){let y={};!i&&E&1&&(i=!0,y.value=v[0].name,wn(()=>i=!1)),n.$set(y);let D={};!u&&E&1&&(u=!0,D.value=v[0].declaration,wn(()=>u=!1)),l.$set(D)},i(v){m||(De(n.$$.fragment,v),De(l.$$.fragment,v),De(f.$$.fragment,v),m=!0)},o(v){_e(n.$$.fragment,v),_e(l.$$.fragment,v),_e(f.$$.fragment,v),m=!1},d(v){v&&ie(e),tt(n),tt(l),tt(f)}}}function zP(t,e,r){let{template:n}=e,i=Pr();function a(){console.log("dispatch"),i("delete-template",{name:n.name})}function o(s){t.$$.not_equal(n.name,s)&&(n.name=s,r(0,n))}function l(s){t.$$.not_equal(n.declaration,s)&&(n.declaration=s,r(0,n))}let u=()=>a();return t.$$set=s=>{"template"in s&&r(0,n=s.template)},[n,a,o,l,u]}var Ap=class extends Ie{constructor(e){super(),Re(this,e,zP,UP,ke,{template:0})}},nE=Ap;function iE(t,e,r){let n=t.slice();return n[11]=e[r],n}function aE(t){let e,r;return e=new nE({props:{template:t[11]}}),e.$on("delete-template",t[7]),{c(){rt(e.$$.fragment)},m(n,i){et(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.template=n[11]),e.$set(a)},i(n){r||(De(e.$$.fragment,n),r=!0)},o(n){_e(e.$$.fragment,n),r=!1},d(n){tt(e,n)}}}function WP(t){let e;return{c(){e=ze("Add Template")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function oE(t){let e,r,n,i,a;return i=new Uo({props:{errorCollection:t[1],declaration:void 0}}),{c(){e=Q("div"),r=Q("h3"),r.textContent="Some Templates Failed to Parse",n=Fe(),rt(i.$$.fragment),U(r,"class","mod-error")},m(o,l){se(o,e,l),J(e,r),J(e,n),et(i,e,null),a=!0},p(o,l){let u={};l&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(De(i.$$.fragment,o),a=!0)},o(o){_e(i.$$.fragment,o),a=!1},d(o){o&&ie(e),tt(i)}}}function HP(t){let e;return{c(){e=ze("Save")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function GP(t){let e;return{c(){e=ze("Cancel")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function jP(t){let e,r,n,i;return e=new Dr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[HP]},$$scope:{ctx:t}}}),e.$on("click",t[9]),n=new Dr({props:{tooltip:"Revert Changes",$$slots:{default:[GP]},$$scope:{ctx:t}}}),n.$on("click",t[10]),{c(){rt(e.$$.fragment),r=Fe(),rt(n.$$.fragment)},m(a,o){et(e,a,o),se(a,r,o),et(n,a,o),i=!0},p(a,o){let l={};o&16384&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let u={};o&16384&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(De(e.$$.fragment,a),De(n.$$.fragment,a),i=!0)},o(a){_e(e.$$.fragment,a),_e(n.$$.fragment,a),i=!1},d(a){a&&ie(r),tt(e,a),tt(n,a)}}}function ZP(t){let e,r,n,i,a,o,l,u,s,c,f,m=nt(t[0]),p=[];for(let g=0;g<m.length;g+=1)p[g]=aE(iE(t,m,g));let h=g=>_e(p[g],1,1,()=>{p[g]=null});l=new Dr({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[WP]},$$scope:{ctx:t}}}),l.$on("click",t[8]);let d=t[1]&&oE(t);return c=new Vo({props:{$$slots:{default:[jP]},$$scope:{ctx:t}}}),{c(){e=Q("div"),r=Q("table"),n=Q("thead"),n.innerHTML="<tr><th>Template Name</th> <th>Template Declaration</th> <th></th></tr>",i=Fe(),a=Q("tbody");for(let g=0;g<p.length;g+=1)p[g].c();o=Fe(),rt(l.$$.fragment),u=Fe(),d&&d.c(),s=Fe(),rt(c.$$.fragment)},m(g,v){se(g,e,v),J(e,r),J(r,n),J(r,i),J(r,a);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(a,null);J(e,o),et(l,e,null),J(e,u),d&&d.m(e,null),J(e,s),et(c,e,null),f=!0},p(g,[v]){if(v&5){m=nt(g[0]);let D;for(D=0;D<m.length;D+=1){let b=iE(g,m,D);p[D]?(p[D].p(b,v),De(p[D],1)):(p[D]=aE(b),p[D].c(),De(p[D],1),p[D].m(a,null))}for(er(),D=m.length;D<p.length;D+=1)h(D);tr()}let E={};v&16384&&(E.$$scope={dirty:v,ctx:g}),l.$set(E),g[1]?d?(d.p(g,v),v&2&&De(d,1)):(d=oE(g),d.c(),De(d,1),d.m(e,s)):d&&(er(),_e(d,1,1,()=>{d=null}),tr());let y={};v&16384&&(y.$$scope={dirty:v,ctx:g}),c.$set(y)},i(g){if(!f){for(let v=0;v<m.length;v+=1)De(p[v]);De(l.$$.fragment,g),De(d),De(c.$$.fragment,g),f=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)_e(p[v]);_e(l.$$.fragment,g),_e(d),_e(c.$$.fragment,g),f=!1},d(g){g&&ie(e),Bt(p,g),tt(l),d&&d.d(),tt(c)}}}function YP(t,e,r){let{inputFieldTemplates:n}=e,{modal:i}=e,a;function o(h){r(0,n=n.filter(d=>d.name!==h))}function l(){n.push({name:"",declaration:""}),r(0,n)}function u(){r(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}let c=h=>o(h.detail.name),f=()=>l(),m=()=>u(),p=()=>s();return t.$$set=h=>{"inputFieldTemplates"in h&&r(0,n=h.inputFieldTemplates),"modal"in h&&r(6,i=h.modal)},[n,a,o,l,u,s,i,c,f,m,p]}var Sp=class extends Ie{constructor(e){super(),Re(this,e,YP,ZP,ke,{inputFieldTemplates:0,modal:6})}},sE=Sp;var Nl=class extends uE.Modal{constructor(r,n){super(r);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new sE({target:this.contentEl,props:{inputFieldTemplates:JSON.parse(JSON.stringify(this.plugin.settings.inputFieldTemplates)),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(r){let n=this.plugin.api.inputFieldParser.parseTemplates(r);if(n.hasErrors())return n;this.plugin.settings.inputFieldTemplates=r,this.plugin.saveSettings()}};var Ft=class{static linkToInputField(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToSearch(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static open(e){window.open(e,"_blank")}};var mE=require("obsidian");var lE=require("obsidian");var _l=class extends lE.Modal{constructor(r,n,i){super(r);this.errorCollection=n,this.declaration=i}onOpen(){this.modalEl.addClass("mb-error-collection-modal"),this.titleEl.innerText="Meta Bind Field",this.component=new Uo({target:this.contentEl,props:{errorCollection:this.errorCollection,declaration:this.declaration}})}onClose(){var r;(r=this.component)==null||r.$destroy()}};function cE(t){let e,r,n,i,a;function o(s,c){return c&1&&(r=null),c&1&&(n=null),r==null&&(r=!!s[0].hasErrors()),r?QP:(n==null&&(n=!!s[0].hasWarnings()),n?XP:JP)}let l=o(t,-1),u=l(t);return{c(){e=Q("div"),u.c(),U(e,"class","mb-error-collection"),U(e,"role","button"),U(e,"tabindex","0")},m(s,c){se(s,e,c),u.m(e,null),i||(a=[Me(e,"click",t[4]),Me(e,"keydown",t[5])],i=!0)},p(s,c){l!==(l=o(s,c))&&(u.d(1),u=l(s),u&&(u.c(),u.m(e,null)))},d(s){s&&ie(e),u.d(),i=!1,Ke(a)}}}function JP(t){let e,r,n,i;return{c(){e=qn("svg"),r=qn("circle"),n=qn("path"),i=qn("path"),U(r,"cx","12"),U(r,"cy","12"),U(r,"r","10"),U(n,"d","M12 16v-4"),U(i,"d","M12 8h.01"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","24"),U(e,"height","24"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","2"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","lucide lucide-info")},m(a,o){se(a,e,o),J(e,r),J(e,n),J(e,i)},d(a){a&&ie(e)}}}function XP(t){let e,r,n,i;return{c(){e=qn("svg"),r=qn("path"),n=qn("line"),i=qn("line"),U(r,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),U(n,"x1","12"),U(n,"x2","12"),U(n,"y1","9"),U(n,"y2","13"),U(i,"x1","12"),U(i,"x2","12.01"),U(i,"y1","17"),U(i,"y2","17"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","24"),U(e,"height","24"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","2"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","lucide lucide-alert-triangle")},m(a,o){se(a,e,o),J(e,r),J(e,n),J(e,i)},d(a){a&&ie(e)}}}function QP(t){let e,r,n,i,a,o;return{c(){e=qn("svg"),r=qn("circle"),n=qn("line"),i=qn("line"),a=Fe(),o=Q("span"),o.textContent="[META_BIND_ERROR]",U(r,"cx","12"),U(r,"cy","12"),U(r,"r","10"),U(n,"x1","12"),U(n,"x2","12"),U(n,"y1","8"),U(n,"y2","12"),U(i,"x1","12"),U(i,"x2","12.01"),U(i,"y1","16"),U(i,"y2","16"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","24"),U(e,"height","24"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","2"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","lucide lucide-alert-circle"),U(o,"class","mb-error")},m(l,u){se(l,e,u),J(e,r),J(e,n),J(e,i),se(l,a,u),se(l,o,u)},d(l){l&&(ie(e),ie(a),ie(o))}}}function KP(t){let e=!t[0].isEmpty(),r,n=e&&cE(t);return{c(){n&&n.c(),r=cr()},m(i,a){n&&n.m(i,a),se(i,r,a)},p(i,[a]){a&1&&(e=!i[0].isEmpty()),e?n?n.p(i,a):(n=cE(i),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},i:Oe,o:Oe,d(i){i&&ie(r),n&&n.d(i)}}}function $P(t,e,r){let{app:n}=e,{errorCollection:i}=e,{declaration:a}=e;function o(){new _l(n,i,a).open()}let l=()=>o(),u=s=>{s.key===" "&&o()};return t.$$set=s=>{"app"in s&&r(2,n=s.app),"errorCollection"in s&&r(0,i=s.errorCollection),"declaration"in s&&r(3,a=s.declaration)},[i,o,n,a,l,u]}var Np=class extends Ie{constructor(e){super(),Re(this,e,$P,KP,ke,{app:2,errorCollection:0,declaration:3})}},ki=Np;function eL(t){let e;return{c(){e=ze("Docs")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function tL(t){let e;return{c(){e=ze("GitHub")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function rL(t){let e;return{c(){e=ze("Report Issue")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function nL(t){let e,r,n,i,a,o,l,u,s,c,f,m,p,h,d,g,v,E,y,D,b,x,C,A,w,F,M,B,k,R,P,T,I,V,O,Y,$,W,q,te,ge,ae,ce,pe,ue;return l=new Dr({props:{variant:"primary",$$slots:{default:[eL]},$$scope:{ctx:t}}}),l.$on("click",t[3]),s=new Dr({props:{variant:"default",$$slots:{default:[tL]},$$scope:{ctx:t}}}),s.$on("click",t[4]),f=new Dr({props:{variant:"default",$$slots:{default:[rL]},$$scope:{ctx:t}}}),f.$on("click",t[5]),w=new ki({props:{app:t[0],declaration:iL,errorCollection:t[1]}}),k=new ki({props:{app:t[0],declaration:aL,errorCollection:t[2]}}),{c(){e=Q("div"),r=Q("h1"),r.textContent="Meta Bind FAQ",n=Fe(),i=Q("h2"),i.textContent="Quick Access",a=Fe(),o=Q("p"),rt(l.$$.fragment),u=Fe(),rt(s.$$.fragment),c=Fe(),rt(f.$$.fragment),m=Fe(),p=Q("h2"),p.textContent="Error Messages",h=Fe(),d=Q("p"),g=ze("When creating "),v=Q("a"),v.textContent="Input Fields",y=ze(" or "),D=Q("a"),D.textContent="View Fields",x=Fe(),C=Q("strong"),C.textContent="warnings",A=ze(" ("),rt(w.$$.fragment),F=ze(") and "),M=Q("strong"),M.textContent="errors",B=ze(" ("),rt(k.$$.fragment),R=ze(") can occur. These are "),P=Q("strong"),P.textContent="clickable",T=ze(" and will show a modal with detailed information about the error when clicked."),I=Fe(),V=Q("h2"),V.textContent="Input Fields",O=Fe(),Y=Q("p"),Y.innerHTML=`<a href="${Ft.linkToInputFields()}">Input Fields</a> let you change the frontmatter of your notes from inside of notes.`,$=Fe(),W=Q("h2"),W.textContent="View Fields",q=Fe(),te=Q("p"),te.innerHTML=`<a href="${Ft.linkToViewFields()}">View Fields</a> let you view and perform calculations using the frontmatter of your notes from inside of notes. They
		will update instantly to reflect changes to the frontmatter made by input fields and as fast as obsidian allows it for changes from other sources.`,ge=Fe(),ae=Q("h2"),ae.textContent="Bind Targets",ce=Fe(),pe=Q("p"),pe.innerHTML=`<a href="https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/#binding-to-metadata">Bind Targets</a>
		let the plugin know what frontmatter properties to bind <a href="${Ft.linkToInputFields()}">Input Fields</a> and
		<a href="${Ft.linkToViewFields()}">View Fields</a> to.`,U(v,"href",E=Ft.linkToInputFields()),U(D,"href",b=Ft.linkToViewFields()),U(e,"class","mb-faq-view markdown-rendered")},m(ne,me){se(ne,e,me),J(e,r),J(e,n),J(e,i),J(e,a),J(e,o),et(l,o,null),J(o,u),et(s,o,null),J(o,c),et(f,o,null),J(e,m),J(e,p),J(e,h),J(e,d),J(d,g),J(d,v),J(d,y),J(d,D),J(d,x),J(d,C),J(d,A),et(w,d,null),J(d,F),J(d,M),J(d,B),et(k,d,null),J(d,R),J(d,P),J(d,T),J(e,I),J(e,V),J(e,O),J(e,Y),J(e,$),J(e,W),J(e,q),J(e,te),J(e,ge),J(e,ae),J(e,ce),J(e,pe),ue=!0},p(ne,[me]){let be={};me&64&&(be.$$scope={dirty:me,ctx:ne}),l.$set(be);let Be={};me&64&&(Be.$$scope={dirty:me,ctx:ne}),s.$set(Be);let We={};me&64&&(We.$$scope={dirty:me,ctx:ne}),f.$set(We);let z={};me&1&&(z.app=ne[0]),me&2&&(z.errorCollection=ne[1]),w.$set(z);let j={};me&1&&(j.app=ne[0]),me&4&&(j.errorCollection=ne[2]),k.$set(j)},i(ne){ue||(De(l.$$.fragment,ne),De(s.$$.fragment,ne),De(f.$$.fragment,ne),De(w.$$.fragment,ne),De(k.$$.fragment,ne),ue=!0)},o(ne){_e(l.$$.fragment,ne),_e(s.$$.fragment,ne),_e(f.$$.fragment,ne),_e(w.$$.fragment,ne),_e(k.$$.fragment,ne),ue=!1},d(ne){ne&&ie(e),tt(l),tt(s),tt(f),tt(w),tt(k)}}}var iL="INPUT[someInputFieldDeclaration]",aL="INPUT[someInputFieldDeclaration]";function oL(t,e,r){let{app:n}=e,i=new fr("exampleWarningErrorCollection"),a=new fr("exampleErrorErrorCollection");Kr(()=>{i.add(new eu({errorLevel:"WARNING",effect:"some example warning",cause:"some example reason"})),r(1,i),a.add(new eu({errorLevel:"ERROR",effect:"some example error",cause:"some example reason"})),r(2,a)});let o=()=>{Ft.open(Ft.linkToHome())},l=()=>{Ft.open(Ft.linkToGithub())},u=()=>{Ft.open(Ft.linkToIssues())};return t.$$set=s=>{"app"in s&&r(0,n=s.app)},[n,i,a,o,l,u]}var _p=class extends Ie{constructor(e){super(),Re(this,e,oL,nL,ke,{app:0})}},fE=_p;var zo="mb-faq-view-type",Ml=class extends mE.ItemView{constructor(r){super(r)}getViewType(){return zo}getDisplayText(){return"Meta Bind FAQ"}async onOpen(){let r=this.containerEl.children[1];r.empty(),this.component=new fE({target:r,props:{app:this.app}})}async onClose(){var r;(r=this.component)==null||r.$destroy()}};var Tl=class extends _n.PluginSettingTab{constructor(r,n){super(r,n);this.plugin=n}display(){let{containerEl:r}=this;r.empty(),new _n.Setting(r).setName("Quick access").addButton(n=>{n.setCta(),n.setButtonText("Docs"),n.onClick(()=>{Ft.open(Ft.linkToHome())})}).addButton(n=>{n.setButtonText("Open FAQ"),n.onClick(()=>{this.plugin.activateView(zo)})}).addButton(n=>{n.setButtonText("GitHub"),n.onClick(()=>{Ft.open(Ft.linkToGithub())})}).addButton(n=>{n.setButtonText("Report Issue"),n.onClick(()=>{Ft.open(Ft.linkToIssues())})}),new _n.Setting(r).setName("Sync interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${vi.syncInterval}; Minimum: ${vi.minSyncInterval}; Maximum: ${vi.maxSyncInterval}`).addText(n=>{n.setValue(this.plugin.settings.syncInterval.toString()),n.onChange(i=>{this.plugin.settings.syncInterval=Number.parseInt(i),Number.isNaN(this.plugin.settings.syncInterval)&&(this.plugin.settings.syncInterval=vi.syncInterval),this.plugin.settings.syncInterval<vi.minSyncInterval&&(this.plugin.settings.syncInterval=vi.minSyncInterval),this.plugin.settings.syncInterval>vi.maxSyncInterval&&(this.plugin.settings.syncInterval=vi.maxSyncInterval),this.plugin.saveSettings()})}),new _n.Setting(r).setName("Date format").setDesc("The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.").addText(n=>{n.setValue(this.plugin.settings.preferredDateFormat),n.onChange(i=>{this.plugin.settings.preferredDateFormat=i,this.plugin.saveSettings()})}),new _n.Setting(r).setName("Use US date input field order").setDesc("When enabled the month input is before the day input.").addToggle(n=>{n.setValue(this.plugin.settings.useUsDateInputOrder),n.onChange(i=>{this.plugin.settings.useUsDateInputOrder=i,this.plugin.saveSettings()})}),new _n.Setting(r).setName("First Weekday").setDesc("Specify the first weekday for the datepicker.").addDropdown(n=>{for(let i of no)n.addOption(i.name,i.name);n.setValue(this.plugin.settings.firstWeekday.name),n.onChange(i=>{this.plugin.settings.firstWeekday=no.find(a=>a.name===i),this.plugin.saveSettings()})}),new _n.Setting(r).setName("Templates").setDesc("You can specify templates here, and access them using `INPUT[template_name][overrides (optional)]` in your notes.").addButton(n=>{n.setButtonText("Edit Templates"),n.onClick(()=>{new Nl(this.app,this.plugin).open()})}),new _n.Setting(r).setName("Excluded Folders").setDesc("You can specify excluded folders here. The plugin will not work within excluded folders.").addButton(n=>{n.setButtonText("Edit Excluded Folders"),n.onClick(()=>{new Sl(this.app,this.plugin).open()})}),new _n.Setting(r).setName("View Fields display null as empty").setDesc("Display nothing instead of null, if the frontmatter value is empty, in text view fields.").addToggle(n=>{n.setValue(this.plugin.settings.viewFieldDisplayNullAsEmpty),n.onChange(i=>{this.plugin.settings.viewFieldDisplayNullAsEmpty=i,this.plugin.saveSettings()})}),new _n.Setting(r).setName("Enable JS Input Fields").setDesc("Enable the processing of JavaScript input fields. This is potentially DANGEROUS, thus it's disabled by default. RESTART REQUIRED.").addToggle(n=>{n.setValue(this.plugin.settings.enableJs),n.onChange(i=>{this.plugin.settings.enableJs=i,this.plugin.saveSettings()})}),r.createEl("h2",{text:"Advanced Settings"}),new _n.Setting(r).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle(n=>{n.setValue(this.plugin.settings.devMode),n.onChange(i=>{this.plugin.settings.devMode=i,this.plugin.saveSettings()})}),new _n.Setting(r).setName("Disable Code Block Restrictions").setDesc("Disable restrictions on which input fields can be created in which code blocks. Not recommended unless you know what you are doing.").addToggle(n=>{n.setValue(this.plugin.settings.ignoreCodeBlockRestrictions),n.onChange(i=>{this.plugin.settings.ignoreCodeBlockRestrictions=i,this.plugin.saveSettings()})})}};var vE=xr(Op());var hE=typeof self=="object"?self:globalThis,lL=(t,e)=>{let r=(i,a)=>(t.set(a,i),i),n=i=>{if(t.has(i))return t.get(i);let[a,o]=e[i];switch(a){case 0:case-1:return r(o,i);case 1:{let l=r([],i);for(let u of o)l.push(n(u));return l}case 2:{let l=r({},i);for(let[u,s]of o)l[n(u)]=n(s);return l}case 3:return r(new Date(o),i);case 4:{let{source:l,flags:u}=o;return r(new RegExp(l,u),i)}case 5:{let l=r(new Map,i);for(let[u,s]of o)l.set(n(u),n(s));return l}case 6:{let l=r(new Set,i);for(let u of o)l.add(n(u));return l}case 7:{let{name:l,message:u}=o;return r(new hE[l](u),i)}case 8:return r(BigInt(o),i);case"BigInt":return r(Object(BigInt(o)),i)}return r(new hE[a](o),i)};return n},Lp=t=>lL(new Map,t)(0);var Ho="",{toString:cL}={},{keys:fL}=Object,iu=t=>{let e=typeof t;if(e!=="object"||!t)return[0,e];let r=cL.call(t).slice(8,-1);switch(r){case"Array":return[1,Ho];case"Object":return[2,Ho];case"Date":return[3,Ho];case"RegExp":return[4,Ho];case"Map":return[5,Ho];case"Set":return[6,Ho]}return r.includes("Array")?[1,r]:r.includes("Error")?[7,r]:[2,r]},Rl=([t,e])=>t===0&&(e==="function"||e==="symbol"),mL=(t,e,r,n)=>{let i=(o,l)=>{let u=n.push(o)-1;return r.set(l,u),u},a=o=>{if(r.has(o))return r.get(o);let[l,u]=iu(o);switch(l){case 0:{let c=o;switch(u){case"bigint":l=8,c=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([-1],o)}return i([l,c],o)}case 1:{if(u)return i([u,[...o]],o);let c=[],f=i([l,c],o);for(let m of o)c.push(a(m));return f}case 2:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(e&&"toJSON"in o)return a(o.toJSON());let c=[],f=i([l,c],o);for(let m of fL(o))(t||!Rl(iu(o[m])))&&c.push([a(m),a(o[m])]);return f}case 3:return i([l,o.toISOString()],o);case 4:{let{source:c,flags:f}=o;return i([l,{source:c,flags:f}],o)}case 5:{let c=[],f=i([l,c],o);for(let[m,p]of o)(t||!(Rl(iu(m))||Rl(iu(p))))&&c.push([a(m),a(p)]);return f}case 6:{let c=[],f=i([l,c],o);for(let m of o)(t||!Rl(iu(m)))&&c.push(a(m));return f}}let{message:s}=o;return i([l,{name:u,message:s}],o)};return a},qp=(t,{json:e,lossy:r}={})=>{let n=[];return mL(!(e||r),!!e,new Map,n)(t),n};var gE=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Lp(qp(t,e)):structuredClone(t):(t,e)=>Lp(qp(t,e));"structuredClone"in globalThis||(globalThis.structuredClone=gE);function au(t,e,r){return Math.min(Math.max(t,e),r)}function Pl(t,e,r){return t!==void 0?Math.min(Math.max(t,e),r):void 0}function Vp(t,e,r,n,i){return(t-e)/(r-e)*(i-n)+n}function Up(t,e){return(t%e+e)%e}function yE(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function zp(t,e){for(let r=0;r<e.length;r++)if(t[r]!==e[r])return!1;return!0}function ou(t){return!!t}function Ll(t){return!t}function su(t,e){return t===e||t.includes(e)||e.includes(t)}function bE(t,e){var a;if(t[0]==="")throw new Error("can not traverse to parent on self reference");let r=t.slice(0,-1),n=(a=t.at(-1))!=null?a:"",i=(0,vE.traverseObjectByPath)(r,e);return{parent:{key:r,value:i},child:{key:n,value:i[n]}}}function Go(t){return app.vault.adapter.getResourcePath(t)}function Wp(t){let e=Reflect.ownKeys(t);for(let r of e){let n=t[r];(n&&typeof n=="object"||typeof n=="function")&&Wp(n)}return Object.freeze(t)}function Ir(){return window.crypto.randomUUID()}var wa=class{constructor(){this.listeners=[]}registerListener(e){let r=e;return r.uuid=Ir(),this.listeners.push(r),r}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(r=>r.uuid!==e)}notifyListeners(e){for(let r of this.listeners)r.callback(e)}},Lr=class extends wa{constructor(r){super();this.value=r}get(){return this.value}set(r){this.value=r,this.notifyListeners(r)}},ql=class extends wa{constructor(r,n){super();this.dependency=r,this.value=n(r.get()),this.dependencyListener=r.registerListener({callback:i=>this.set(n(i))})}get(){return this.value}set(r){this.value=r,this.notifyListeners(r)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var xE=require("obsidian");var Ri=class extends xE.MarkdownRenderChild{constructor(r,n,i,a,o){super(r);this.renderChildType=n,this.plugin=i,this.filePath=a,this.uuid=o,this.errorCollection=new fr(this.uuid)}};var jo=(b=>(b.TOGGLE="toggle",b.SLIDER="slider",b.TEXT="text",b.TEXT_AREA_DEPRECATED="text_area",b.TEXT_AREA="textArea",b.SELECT="select",b.MULTI_SELECT_DEPRECATED="multi_select",b.MULTI_SELECT="multiSelect",b.DATE="date",b.TIME="time",b.DATE_PICKER_DEPRECATED="date_picker",b.DATE_PICKER="datePicker",b.NUMBER="number",b.SUGGESTER="suggester",b.EDITOR="editor",b.IMAGE_SUGGESTER="imageSuggester",b.PROGRESS_BAR="progressBar",b.INLINE_SELECT="inlineSelect",b.LIST="list",b.LIST_SUGGESTER="listSuggester",b.INVALID="invalid",b))(jo||{}),Mr=(g=>(g.CLASS="class",g.ADD_LABELS="addLabels",g.MIN_VALUE="minValue",g.MAX_VALUE="maxValue",g.STEP_SIZE="stepSize",g.OPTION="option",g.TITLE="title",g.OPTION_QUERY="optionQuery",g.SHOWCASE="showcase",g.ON_VALUE="onValue",g.OFF_VALUE="offValue",g.DEFAULT_VALUE="defaultValue",g.PLACEHOLDER="placeholder",g.USE_LINKS="useLinks",g.LIMIT="limit",g.INVALID="invalid",g))(Mr||{}),DE={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},text_area:{type:"text_area",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multi_select:{type:"multi_select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},date_picker:{type:"date_picker",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}},Jt={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multi_select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","text_area","number","list"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list"],values:[[{name:"value",allowed:["number"],description:"character limit for text fields"}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},uu=(n=>(n.MATH="math",n.TEXT="text",n.INVALID="invalid",n))(uu||{}),Zo=(n=>(n.RENDER_MARKDOWN="renderMarkdown",n.HIDDEN="hidden",n.INVALID="invalid",n))(Zo||{}),Vl={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}};var lo=class extends Ri{constructor(r,n,i,a,o,l){var u;super(r,n,a,o,l);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.inputFieldDeclaration=i,this.inputSignal=new Lr(void 0),this.outputSignal=new Lr(void 0),!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this.inputFieldDeclaration.inputFieldType,n,this),(u=this.inputField)==null||u.registerListener({callback:s=>this.outputSignal.set(s)})}catch(s){this.errorCollection.add(s)}}registerSelfToMetadataManager(){var r;!((r=this.inputFieldDeclaration)!=null&&r.isBound)||!this.inputFieldDeclaration.bindTarget||(this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.inputFieldDeclaration.bindTarget,this.filePath)),this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:n=>this.updateMetadataManager(n)}))}unregisterSelfFromMetadataManager(){var r,n;!((r=this.inputFieldDeclaration)!=null&&r.isBound)||!this.inputFieldDeclaration.bindTarget||(this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(n=this.metadataSubscription)==null||n.unsubscribe())}updateMetadataManager(r){var n,i;!((n=this.inputFieldDeclaration)!=null&&n.isBound)||!this.inputFieldDeclaration.bindTarget||(i=this.metadataSubscription)==null||i.update(r)}getArguments(r){if(this.inputFieldDeclaration.errorCollection.hasErrors())throw new vr({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.inputFieldDeclaration.argumentContainer.getAll(r)}getArgument(r){return this.getArguments(r).at(0)}shouldAddCardContainer(){let r=this.inputFieldDeclaration.inputFieldType==="select"||this.inputFieldDeclaration.inputFieldType==="multi_select"||this.inputFieldDeclaration.inputFieldType==="multiSelect"||this.inputFieldDeclaration.inputFieldType==="list",n=ou(this.getArgument("showcase"))||ou(this.getArgument("title"));return this.renderChildType==="block"&&(r||n)}hasValidBindTarget(){var r;return ou((r=this.inputFieldDeclaration)==null?void 0:r.isBound)&&ou(this.inputFieldDeclaration.bindTarget)}onload(){var l;if(console.log("meta-bind | InputFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-input"),this.containerEl.empty(),!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new vr({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"})),this.errorCollection.hasErrors()){new ki({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}});return}let r,n=this.getArgument("showcase"),i=this.getArgument("title");if(this.shouldAddCardContainer()){let u=this.containerEl.createDiv({cls:"mb-card"});i&&u.createEl("h3",{text:i.value}),r=u}else r=this.containerEl;new ki({target:r,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.hasValidBindTarget()&&this.registerSelfToMetadataManager(),this.plugin.mdrcManager.registerMDRC(this);let a=createDiv();a.addClass("mb-input-wrapper"),(l=this.inputField)==null||l.mount(a);let o=this.getArguments("class");o&&a.addClasses(o.map(u=>u.value).flat()),this.renderChildType==="block"?this.containerEl.addClass("mb-input-block"):this.containerEl.addClass("mb-input-inline"),r.appendChild(a),this.shouldAddCardContainer()&&n&&r.createEl("code",{text:this.fullDeclaration,cls:"mb-none"})}onunload(){var r;console.log("meta-bind | InputFieldMarkdownRenderChild >> unload",this),(r=this.inputField)==null||r.unmount(),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind input field",cls:"mb-error"}),super.onunload()}};var Hp=require("obsidian"),en=class t{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Hp.moment)(e,t.dateFormat)}static getDefaultDate(){return(0,Hp.moment)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};var lu=xr(Op());var Ul=class{constructor(e,r,n,i){this.uuid=e,this.callbackSignal=r,this.metadataManager=n,this.bindTarget=i}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.updateCache(e,this)}notify(e){this.callbackSignal.set(e)}getDependencies(){return[]}};var zl=class{constructor(e,r,n,i,a,o){this.uuid=e,this.callbackSignal=r,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o}init(){for(let e of this.dependencies){let r=this.uuid+"/"+Ir();this.dependencySubscriptions.push(this.metadataManager.subscribe(r,e.callbackSignal,e.bindTarget)),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}async computeValue(){let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),r=await this.computeFunction(e);this.callbackSignal.set(r),this.metadataManager.updateCache(r,this)}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}};var wE=5,pL=5*60;function Gp(t,e){return t===void 0||e===void 0||t.filePath!==e.filePath?!1:EE(t.metadataPath,e.metadataPath,e.listenToChildren)}function EE(t,e,r){return yE(t,e)||zp(e,t)?!0:r&&zp(t,e)}function dL(t){return t===void 0?"undefined":`${t.filePath}#${t.metadataPath}`}var Wl=class{constructor(e){this.cache=new Map,this.metadataAdapter=e,this.metadataAdapter.setManagerInstance(this),this.metadataAdapter.load()}unload(){this.metadataAdapter.unload()}subscribeSubscription(e){if(e.bindTarget===void 0)return;let r=this.getCacheForFile(e.bindTarget.filePath);if(r)console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to existing file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath}`),r.inactive=!1,r.cyclesSinceInactive=0,r.listeners.push(e),e.notify((0,lu.traverseObjectByPath)(e.bindTarget.metadataPath,r.metadata));else{console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to newly created file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath}`);let{metadata:n,extraCache:i}=this.metadataAdapter.getMetadataAndExtraCache(e),a=Object.assign({},{extraCache:i,metadata:n,listeners:[e],cyclesSinceLastChange:wE+1,cyclesSinceInactive:0,inactive:!1,changed:!1});console.log(`meta-bind | MetadataManager >> loaded metadata for file ${e.bindTarget.filePath}`,a.metadata),e.notify((0,lu.traverseObjectByPath)(e.bindTarget.metadataPath,a.metadata)),this.createCacheForFile(e.bindTarget.filePath,a)}}subscribe(e,r,n){let i=new Ul(e,r,this,n);return this.subscribeSubscription(i),i}subscribeComputed(e,r,n,i,a){let o=new zl(e,r,this,n,i,a);return this.checkForLoops(o),o.init(),this.subscribeSubscription(o),o}checkForLoops(e){for(let r of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,r])}recCheckForLoops(e){let r=e.first(),n=e.last();if(!(n===void 0||r===void 0)){if(Gp(r.bindTarget,n.bindTarget))throw new uo({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${dL(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(r=>this.getAllSubscriptionsToBindTarget(r.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let r=this.getCacheForFile(e.filePath);if(!r)return[];let n=[];for(let i of r.listeners)Gp(i.bindTarget,e)&&n.push(i);return r.listeners.filter(i=>Gp(i.bindTarget,e))}unsubscribe(e){if(e.bindTarget===void 0)return;let r=e.bindTarget.filePath,n=this.getCacheForFile(r);n&&(console.debug(`meta-bind | MetadataManager >> unregistered ${e.uuid} to from file cache ${r}`),n.listeners=n.listeners.filter(i=>i.uuid!==e.uuid),n.listeners.length===0&&(console.debug(`meta-bind | MetadataManager >> marked unused file cache as inactive ${r}`),n.inactive=!0))}getCacheForFile(e){return this.cache.get(e)}createCacheForFile(e,r){if(this.cache.has(e))throw new vr({errorLevel:"CRITICAL",effect:"can not create metadata file cache",cause:"cache for file already exists"});this.cache.set(e,r)}update(){let e=[];for(let[r,n]of this.cache)n.changed&&this.updateExternal(r,n),n.cyclesSinceLastChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>pL&&e.push(r);for(let r of e)this.cache.delete(r)}async updateExternal(e,r){try{await this.metadataAdapter.updateMetadata(e,r)}catch(n){r.changed=!1,console.warn("failed to update frontmatter",n)}}updateCache(e,r){if(r.bindTarget===void 0)return;let n=r.bindTarget.metadataPath,i=r.bindTarget.filePath;console.debug(`meta-bind | MetadataManager >> updating "${JSON.stringify(n)}" in "${i}" metadata cache to`,e);let a=this.getCacheForFile(i);if(!a)return;let{parent:o,child:l}=bE(n,a.metadata);if(o.value==null)throw Error(`The parent of "${JSON.stringify(n)}" does not exist in Object, please create the parent first`);o.value[l.key]=e,a.cyclesSinceLastChange=0,a.changed=!0,this.notifyListeners(a,n,r.uuid)}updateCacheOnExternalUpdate(e,r){let n=this.getCacheForFile(e);if(!n||n.cyclesSinceLastChange<wE)return;let i=Object.assign({},r);delete i.position,console.debug(`meta-bind | MetadataManager >> updating "${e}" on frontmatter update`,i),n.metadata=i,this.notifyListeners(n)}notifyListeners(e,r,n){for(let i of e.listeners)if(!(n&&n===i.uuid)&&i.bindTarget!==void 0)if(r){if(EE(r,i.bindTarget.metadataPath,i.bindTarget.listenToChildren)){let a=(0,lu.traverseObjectByPath)(i.bindTarget.metadataPath,e.metadata);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata value`,a),i.notify(a)}}else{let a=(0,lu.traverseObjectByPath)(i.bindTarget.metadataPath,e.metadata);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata`,i.bindTarget.metadataPath,e.metadata,a),i.notify(a)}}};var ir=xr(Ea()),fo=xr(co());var tn=xr(Ea()),ME=xr(co());var qr=xr(Ea()),Ca=xr(co()),yi=qr.P.sequence(Ca.P_UTILS.unicodeLetter(),qr.P.or(Ca.P_UTILS.unicodeAlphanumeric(),qr.P.oneOf("-_")).many()).map(t=>t[0]+t[1].join("")).describe("identifier"),SE=qr.P.sequenceMap((t,e)=>t+e.map(r=>r[0]+r[1]).join(""),yi,qr.P.sequence(Ca.P_UTILS.optionalWhitespace(),yi).many()).describe("identifier with spaces"),DL=qr.P.string("\\").then(Ca.P_UTILS.any()).map(t=>t==="'"?"'":t==="\\"?"\\":"\\"+t);function NE(t){return qr.P.or(DL,qr.P.noneOf(t+"\\")).many().map(e=>e.join("")).trim(qr.P.string(t))}var wL=NE("'"),_E=NE('"');function $n(t,e){return{value:t,position:e}}var EL=qr.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),CL=qr.P.or(wL,EL).node($n),FL=qr.P.separateBy(CL,qr.P.string(",").trim(Ca.P_UTILS.optionalWhitespace())),AL=qr.P.sequenceMap((t,e)=>({name:t,value:e}),yi.node($n),FL.trim(Ca.P_UTILS.optionalWhitespace()).wrap(qr.P.string("("),qr.P.string(")")).optional([])),cu=qr.P.separateBy(AL,qr.P.string(",").trim(Ca.P_UTILS.optionalWhitespace()));var SL=tn.P.manyNotOf("{}[]#^|:?").box("file path"),TE=yi.node($n),ed=tn.P.or(ME.P_UTILS.digits(),_E).wrap(tn.P.string("["),tn.P.string("]")).node($n),NL=tn.P.or(tn.P.sequenceMap((t,e)=>({file:void 0,boundToLocalScope:t==="^",listenToChildren:!1,path:e}),tn.P.string("^").optional(),ed.atLeast(1)),tn.P.sequenceMap((t,e,r)=>({file:void 0,boundToLocalScope:t==="^",listenToChildren:!1,path:[e,...r]}),tn.P.string("^").skip(tn.P.string(".")).optional(),TE,ed.many())),_L=tn.P.sequenceMap((t,e)=>[t,...e],TE,ed.many()),ML=tn.P.sequenceMap((t,e)=>(t.path=t.path.concat(e.flat()),t),NL,tn.P.string(".").then(_L).many()),ea=tn.P.sequenceMap((t,e)=>(e.file=t==null?void 0:t[0],e),tn.P.sequence(SL.node($n),tn.P.string("#")).optional(),ML);var TL=ir.P.string("\\").then(fo.P_UTILS.any()).map(t=>t==="["?"[":t==="]"?"]":t==="{"?"{":t==="}"?"}":t==="\\"?"\\":"\\"+t),IE=ir.P.sequenceMap((t,e)=>t+e.flat().join(""),ir.P.manyNotOf("{}[]\\"),ir.P.sequence(TL,ir.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),IL=ir.P.sequenceMap((t,e)=>[t,...e.flat()],IE,ir.P.sequence(ea.wrap(ir.P.string("{"),ir.P.string("}")),IE).many()),BL=ir.P.sequenceMap((t,e,r)=>{let n=r===void 0?void 0:r[1];return{viewFieldType:t,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},yi.node($n).optional().describe("input field type"),cu.trim(fo.P_UTILS.optionalWhitespace()).wrap(ir.P.string("("),ir.P.string(")")).optional([]),ir.P.sequence(ir.P.string(":"),ea).optional()),td=ir.P.sequenceMap((t,e,r)=>r===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(r.templateDeclaration=e,r),ir.P.string("VIEW"),IL.wrap(ir.P.string("["),ir.P.string("]")),BL.wrap(ir.P.string("["),ir.P.string("]")).optional(),fo.P_UTILS.eof()),OL=ir.P.sequenceMap((t,e,r,n)=>(e!==void 0&&(t.listenToChildren=!0),{bindTarget:t,name:n}),ea.wrap(ir.P.string("{"),ir.P.string("}")),ir.P.string(" and children").optional(),ir.P.string(" as "),yi),BE=ir.P.sequenceMap((t,e,r,n)=>({bindTargetMappings:t,code:n}),OL.separateBy(fo.P_UTILS.whitespace()),fo.P_UTILS.whitespace(),ir.P.string("---"),fo.P_UTILS.remaining());function Pi(t,e){let r=t.tryParse(e);if(r.success)return r.value;throw new rd("ERROR","parsiNOM parser",e,r)}var rd=class extends fn{constructor(r,n,i,a){super({errorLevel:r,effect:"failed to parse",cause:`expected ${a.expected.sort().join(" or ")}`});this.str=i,this.parseFailure=a,this.source=n,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let n=this.str.split(`
`)[this.parseFailure.furthest.line-1],i=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${i}${n}`,this.positionContext+=`
${this.getUnderline(i.length)}
`,this.message+=`
`+this.positionContext}getUnderline(r){let n=" ".repeat(this.parseFailure.furthest.column+r-1),i=`^ (${this.cause})`;return n+i}},rn=class extends fn{constructor(r,n,i,a,o,l){super({errorLevel:r,effect:"failed to validate parser result",cause:i,docs:l});this.str=a,this.position=o,this.source=n,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let n=this.str.split(`
`)[this.position.from.line-1],i=`${this.position.from.line} |   `;this.positionContext=`${i}${n}`,this.positionContext+=`
${this.getUnderline(i.length,n.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(r,n){if(this.position===void 0)return"";let i=" ".repeat(this.position.from.column+r-1),a=this.position.to.line===this.position.from.line?this.position.to.column:n,o="^".repeat(a-this.position.from.column);return i+o}};var Xo=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let r of Object.values(Mr))e[r]=0;for(let r of this.arguments){let n=r.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new rr({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${n.type}' does not allow duplicates`,docs:[Ft.linkToSearch(n.type)]})}}mergeByOverride(e){for(let r of e.arguments){let n=r.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(r)}return this.validate(),this}mergeByThrow(e){for(let r of e.arguments){let n=r.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new rr({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(r)}return this.validate(),this}getAll(e){return this.arguments.filter(r=>r.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var Qo=class extends Xo{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Ko=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,r){if(r.find(n=>n.length===e.length)===void 0)throw new rr({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${r.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[Ft.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var $o=class extends Ko{};var $l=class extends $o{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Vl.renderMarkdown}};var ec=class extends $o{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Vl.hidden}};var OE={renderMarkdown:$l,hidden:ec},tc=class{static createViewFieldArgument(e){if(e in OE){let r=OE[e];if(r)return new r}throw new $r({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var rc=class{constructor(e,r){this.unvalidatedDeclaration=e,this.plugin=r,this.errorCollection=new fr("view field declaration")}validate(e){let r=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(r),a=this.validateTemplateDeclaration(e),o={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,viewFieldType:r,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let r of Object.entries(uu))if(r[1]===(e==null?void 0:e.value))return r[1];return this.errorCollection.add(new rn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.writeToBindTarget,e)}validateArguments(e){let r=new Qo;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=tc.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new rn("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}r.add(a)}try{r.validate()}catch(n){this.errorCollection.add(n)}return r}validateArgumentType(e){for(let r of Object.entries(Zo))if(r[1]===e.value)return r[1];return this.errorCollection.add(new rn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}validateTemplateDeclaration(e){var r,n;try{return(n=(r=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:r.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,i,e)))!=null?n:[]}catch(i){return this.errorCollection.add(i),[]}}};var nc=class{constructor(e){this.plugin=e}parseString(e,r){let n=new fr("ViewFieldDeclaration");try{let i=Pi(td,e);return i.fullDeclaration=e,i.errorCollection=n,this.validateDeclaration(i,r)}catch(i){n.add(i)}return{fullDeclaration:e,errorCollection:n,templateDeclaration:[],viewFieldType:"invalid",argumentContainer:new Qo,writeToBindTarget:void 0}}parseStringWithoutValidation(e){let r=new fr("ViewFieldDeclaration");try{let n=Pi(td,e);return n.fullDeclaration=e,n.errorCollection=r,n}catch(n){r.add(n)}return{fullDeclaration:e,errorCollection:r,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}validateDeclaration(e,r){return new rc(e,this.plugin).validate(r)}parseJsString(e){let r={};r.errorCollection=new fr("JsViewFieldDeclaration"),r.fullDeclaration=e;try{let n=Pi(BE,e);r.bindTargetMappings=n.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validateBindTarget(e,i.bindTarget),name:i.name})),r.code=n.code}catch(n){r.errorCollection.add(n)}return r}};var ic=class{constructor(e){this.plugin=e}parseAndValidateBindTarget(e,r){return this.validateBindTarget(e,this.parseBindTarget(e),r)}parseBindTarget(e){return Pi(ea,e)}validateBindTarget(e,r,n){var o,l,u,s,c;let i={},a=(o=r.file)==null?void 0:o.value;if(a!==void 0){let f=this.plugin.getFilePathsByName(a);if(f.length===0)throw new rn("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(l=r.file)==null?void 0:l.value}' not found.`,e,(u=r.file)==null?void 0:u.position);if(f.length===1)i.filePath=f[0];else throw new rn("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(s=r.file)==null?void 0:s.value}' resolves to multiple files, please also specify the file path.`,e,(c=r.file)==null?void 0:c.position)}return i.metadataPath=r.path.map(f=>f.value),i.boundToLocalScope=r.boundToLocalScope,i.listenToChildren=r.listenToChildren,this.resolveScope(i,n)}resolveScope(e,r){if(e.boundToLocalScope){if(r===void 0)throw new rn("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.filePath=r.scope.filePath,e.metadataPath=r.scope.metadataPath.concat(e.metadataPath),e}else return e}toFullDeclaration(e,r){if(e!==void 0)return e.filePath===void 0&&(e.filePath=r),e}};var es=class extends Ri{};var ts=class extends es{constructor(r,n,i,a,o,l){var u,s;super(r,n,a,o,l);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.inputSignal=new Lr(void 0),this.errorCollection.isEmpty())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(i.viewFieldType,this),this.variables=(s=(u=this.viewField)==null?void 0:u.buildVariables(this.viewFieldDeclaration))!=null?s:[]}catch(c){this.errorCollection.add(c)}}registerSelfToMetadataManager(){try{this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.viewFieldDeclaration.writeToBindTarget,this.filePath),this.variables.map(r=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(r.bindTargetDeclaration,this.filePath),callbackSignal:r.inputSignal})),async()=>{var r;return await((r=this.viewField)==null?void 0:r.computeValue(this.variables))}),this.inputSignal.registerListener({callback:r=>{var n;return void((n=this.viewField)==null?void 0:n.update(r))}})}catch(r){this.errorCollection.add(r)}}unregisterSelfFromMetadataManager(){var r;(r=this.metadataSubscription)==null||r.unsubscribe()}getInitialValue(){return""}getArguments(r){if(this.viewFieldDeclaration.errorCollection.hasErrors())throw new vr({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.viewFieldDeclaration.argumentContainer.getAll(r)}getArgument(r){return this.getArguments(r).at(0)}onload(){var n;if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),this.errorCollection.hasErrors()||this.registerSelfToMetadataManager(),new ki({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.plugin.mdrcManager.registerMDRC(this);let r=createDiv();r.addClass("mb-view-wrapper"),(n=this.viewField)==null||n.render(r),this.containerEl.appendChild(r)}onunload(){var r;console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),(r=this.viewField)==null||r.destroy(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}};var lF=xr(Vd());var Ec=class extends es{constructor(r,n,i,a,o,l){var u;super(r,n,a,o,l);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.errorCollection.isEmpty())try{for(let s of(u=this.viewFieldDeclaration.bindTargetMappings)!=null?u:[])this.variables.push({bindTargetDeclaration:s.bindTarget,inputSignal:new Lr(void 0),uuid:Ir(),contextName:s.name});this.parseExpression()}catch(s){this.errorCollection.add(s)}}parseExpression(){if(!this.viewFieldDeclaration.code)return;let n=this.viewFieldDeclaration.code.contains("await")?async function(){}.constructor:Function;this.expression=n("app","mb","dv","filePath","context",this.viewFieldDeclaration.code)}buildContext(){var n,i;let r={};for(let a of(n=this.variables)!=null?n:[])!a.contextName||!a.inputSignal||(r[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return r}async evaluateExpression(){var n;if(!this.expression)throw new $s({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"Expression is undefined."});if(!this.plugin.settings.enableJs)throw new $s({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});let r=this.buildContext();try{let i=await Promise.resolve(this.expression(this.plugin.app,this.plugin.api,(0,lF.getAPI)(this.plugin.app),this.filePath,r));return(n=i==null?void 0:i.toString())!=null?n:"null"}catch(i){throw i instanceof Error?new Ki({errorLevel:"ERROR",effect:"failed to evaluate js expression",cause:i,context:{declaration:this.viewFieldDeclaration.code,context:r}}):new Error("failed to evaluate js expression because of: unexpected thrown value")}}registerSelfToMetadataManager(){let r=new Lr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,r,void 0,this.variables.map(n=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(n.bindTargetDeclaration,this.filePath),callbackSignal:n.inputSignal})),()=>this.update())}unregisterSelfFromMetadataManager(){var r;(r=this.metadataSubscription)==null||r.unsubscribe()}getInitialValue(){return""}async onload(){if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),new ki({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.registerSelfToMetadataManager(),this.plugin.mdrcManager.registerMDRC(this);let r=createDiv();r.addClass("mb-view-wrapper"),this.renderContainer=r,await this.update(),this.containerEl.appendChild(r)}onunload(){console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}async update(){if(this.renderContainer)try{this.renderContainer.innerText=await this.evaluateExpression(),this.renderContainer.removeClass("mb-error")}catch(r){r instanceof Error&&(this.renderContainer.innerText=r.message,this.renderContainer.addClass("mb-error"))}}};var ms=class extends Xo{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Ht=class extends Ko{};var Cc=class extends Ht{constructor(){super(...arguments);this.value=[]}_parseValue(r){this.value=r[0].value.split(" ")}getConfig(){return Jt.class}};var Fc=class extends Ht{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Jt.addLabels}};var Ac=class extends Ht{constructor(){super(...arguments);this.value=0}_parseValue(r){if(this.value=Number.parseFloat(r[0].value),Number.isNaN(this.value))throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[Ft.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Jt.minValue}};var Sc=class extends Ht{constructor(){super(...arguments);this.value=100}_parseValue(r){if(this.value=Number.parseFloat(r[0].value),Number.isNaN(this.value))throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[Ft.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Jt.maxValue}};var _a=xr(Ea()),Eu=xr(co()),fF=_a.P.sequenceMap((t,e)=>t===void 0?e:-e,_a.P.string("-").optional(),_a.P.or(_a.P.sequenceMap((t,e,r)=>Number(t+e+r),Eu.P_UTILS.digits(),_a.P.string("."),Eu.P_UTILS.digits()),Eu.P_UTILS.digits().map(t=>Number(t)))).thenEof(),hie=_a.P.sequenceMap((t,e)=>t===void 0?e:-e,_a.P.string("-").optional(),Eu.P_UTILS.digits().map(t=>Number(t))).thenEof();function na(t){if(t.toLowerCase()==="null")return null;if(t==="true")return!0;if(t==="false")return!1;{let e=fF.tryParse(t);return e.success?e.value:t}}function Nc(t){return t===void 0?"":t===null?"null":typeof t=="string"?t:typeof t=="boolean"?t?"true":"false":t.toString()}function Ma(t){return t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number"}function ps(t){if(t!=null){if(Ma(t))return[t];if(typeof t=="object"&&Array.isArray(t))return t.filter(e=>Ma(e))}}function ds(t){if(typeof t=="number")return t;if(typeof t=="string"){let e=fF.tryParse(t);if(e.success)return e.value}}function Ta(t){return Ma(t)?t==null?void 0:t.toString():void 0}function Ia(t){return Ma(t)?t:void 0}function mF(t,e){return Array.isArray(t)?t.map(r=>cF(r,e)).join(", "):cF(t,e)}function cF(t,e){var r;return typeof t=="object"?JSON.stringify(t):(r=t==null?void 0:t.toString())!=null?r:e?"":"null"}var _c=class extends Ht{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(r){r.length===1?(this.value=na(r[0].value),this.name=r[0].value):r.length===2&&(this.value=na(r[0].value),this.name=r[1].value)}getConfig(){return Jt.option}};var Mc=class extends Ht{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=r[0].value}getConfig(){return Jt.title}};var Tc=class extends Ht{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=r[0].value}getConfig(){return Jt.optionQuery}};var Ic=class extends Ht{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Jt.showcase}};var Bc=class extends Ht{constructor(){super(...arguments);this.value=!1}_parseValue(r){this.value=na(r[0].value)}getConfig(){return Jt.offValue}};var Oc=class extends Ht{constructor(){super(...arguments);this.value=!0}_parseValue(r){this.value=na(r[0].value)}getConfig(){return Jt.onValue}};var kc=class extends Ht{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=na(r[0].value)}getConfig(){return Jt.defaultValue}};var Rc=class extends Ht{constructor(){super(...arguments);this.value=""}_parseValue(r){this.value=r[0].value}getConfig(){return Jt.placeholder}};var Pc=class extends Ht{constructor(){super(...arguments);this.value=!0}_parseValue(r){var n;this.value=r[0]===void 0||((n=r[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Jt.useLinks}};var Lc=class extends Ht{constructor(){super(...arguments);this.value=0}_parseValue(r){if(this.value=Number.parseFloat(r[0].value),Number.isNaN(this.value))throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[Ft.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[Ft.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Jt.stepSize}};var qc=class extends Ht{constructor(){super(...arguments);this.value=void 0}_parseValue(r){if(this.value=Number.parseInt(r[0].value),Number.isNaN(this.value))throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[Ft.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new rr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[Ft.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return Jt.limit}};var pF={class:Cc,addLabels:Fc,minValue:Ac,maxValue:Sc,stepSize:Lc,option:_c,title:Mc,optionQuery:Tc,showcase:Ic,offValue:Bc,onValue:Oc,defaultValue:kc,placeholder:Rc,useLinks:Pc,limit:qc},Vc=class{static createInputFieldArgument(e){if(e in pF){let r=pF[e];if(r)return new r}throw new $r({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var Cu=class{constructor(e,r){this.plugin=e,this.unvalidatedDeclaration=r,this.errorCollection=new fr("input field declaration")}validate(e){let r=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(r),a={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,inputFieldType:r,isBound:n!==void 0,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let r of Object.entries(jo))if(r[1]===(e==null?void 0:e.value))return r[1];return this.errorCollection.add(new rn("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){var r;(e.inputFieldType==="date_picker"||e.inputFieldType==="text_area"||e.inputFieldType==="multi_select")&&this.errorCollection.add(new rn("WARNING","Declaration Validator",`'${e.inputFieldType}' is deprecated, as it has been renamed to be in camel case ('input_field_type' => 'inputFieldType').`,this.unvalidatedDeclaration.fullDeclaration,(r=this.unvalidatedDeclaration.inputFieldType)==null?void 0:r.position))}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.bindTarget,e)}validateArguments(e){let r=new ms;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Vc.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new rn("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}r.add(a)}try{r.validate()}catch(n){this.errorCollection.add(n)}return r}validateArgumentType(e){for(let r of Object.entries(Mr))if(r[1]===e.value)return r[1];return this.errorCollection.add(new rn("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}};var or=xr(Ea());var hs=xr(co());var U7=or.P.sequenceMap((t,e,r)=>{let n=r===void 0?void 0:r[1];return{inputFieldType:t,arguments:e,bindTarget:n}},yi.node($n).describe("input field type"),cu.trim(hs.P_UTILS.optionalWhitespace()).wrap(or.P.string("("),or.P.string(")")).optional([]),or.P.sequence(or.P.string(":"),ea).optional()),dF=or.P.sequenceMap((t,e,r)=>{let n=r===void 0?void 0:r[1];return{inputFieldType:t,arguments:e,bindTarget:n}},yi.node($n).optional().describe("input field type"),cu.trim(hs.P_UTILS.optionalWhitespace()).wrap(or.P.string("("),or.P.string(")")).optional([]),or.P.sequence(or.P.string(":"),ea).optional()),Ud=or.P.or(or.P.sequenceMap((t,e,r)=>(r.templateName=e,r),or.P.string("INPUT"),or.P.sequenceMap((t,e,r)=>e,or.P.string("["),SE.node($n).describe("template name"),or.P.string("]")),dF.wrap(or.P.string("["),or.P.string("]")),hs.P_UTILS.eof()),or.P.sequenceMap((t,e)=>e,or.P.string("INPUT"),U7.wrap(or.P.string("["),or.P.string("]")),hs.P_UTILS.eof())),hF=or.P.sequenceMap((t,e)=>e,or.P.string("INPUT"),dF.wrap(or.P.string("["),or.P.string("]")),hs.P_UTILS.eof());var Uc=class{constructor(e){this.plugin=e,this.templates=[]}parseString(e,r){let n=new fr("InputFieldParser");try{let i=Pi(Ud,e);return i.fullDeclaration=e,i.errorCollection=n,i=this.applyTemplate(i),new Cu(this.plugin,i).validate(r)}catch(i){n.add(i)}return{fullDeclaration:e,inputFieldType:"invalid",isBound:!1,bindTarget:void 0,argumentContainer:new ms,errorCollection:n}}parseStringWithoutValidation(e){let r=new fr("InputFieldParser");try{let n=Pi(Ud,e);return n.fullDeclaration=e,n.errorCollection=r,n}catch(n){r.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:r}}validateDeclaration(e,r){return new Cu(this.plugin,e).validate(r)}parseTemplateString(e){let r=new fr("InputFieldParser");try{let n=Pi(hF,e);return n.fullDeclaration=e,n.errorCollection=r,n}catch(n){r.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:r}}parseTemplates(e){this.templates=[];let r=new fr("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);r.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push(Wp(a))}return r}getTemplate(e){var r;return(r=this.templates.find(n=>n.name===e))==null?void 0:r.template}applyTemplate(e){if(e.templateName===void 0)return e;let r=this.getTemplate(e.templateName.value);return r===void 0?(e.errorCollection.add(new rn("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.fullDeclaration,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.plugin.api.inputField.merge(r,e)}};var zc=class{constructor(e){this.api=e}createInputFieldDeclaration(e,r){let n=new fr("input field declaration"),i=(r!=null?r:[]).map(a=>({name:{value:a.name},value:a.value.map(o=>({value:o}))}));return{fullDeclaration:"",inputFieldType:e?{value:e}:void 0,bindTarget:void 0,arguments:i,errorCollection:n}}createInputFieldDeclarationFromString(e){return this.api.inputFieldParser.parseStringWithoutValidation(e)}setType(e,r){return e.inputFieldType={value:r},e}setArguments(e,r){return e.arguments=r.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))})),e}addArgument(e,r){return Array.isArray(r)?e.arguments=e.arguments.concat(r.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))}))):e.arguments.push({name:{value:r.name},value:r.value.map(n=>({value:n}))}),e}setBindTargetFile(e,r){return e.bindTarget?e.bindTarget.file={value:r}:e.bindTarget={file:{value:r},path:[],boundToLocalScope:!1,listenToChildren:!1},e}setBindTargetMetadataField(e,r){return typeof r=="string"&&(r=[r]),e.bindTarget?e.bindTarget.path=r.map(n=>({value:n})):e.bindTarget={file:void 0,path:r.map(n=>({value:n})),boundToLocalScope:!1,listenToChildren:!1},e}setTemplateName(e,r){return e.templateName={value:r},e}applyTemplate(e){return this.api.inputFieldParser.applyTemplate(e)}getTemplate(e){return this.api.inputFieldParser.getTemplate(e)}merge(e,r){var i,a,o;let n={};return e.bindTarget===void 0?n=r.bindTarget:(n=e.bindTarget,((i=r.bindTarget)==null?void 0:i.file)!==void 0&&(n.file=r.bindTarget.file),((a=r.bindTarget)==null?void 0:a.path)!==void 0&&(n.path=r.bindTarget.path)),{fullDeclaration:r.fullDeclaration,inputFieldType:(o=r.inputFieldType)!=null?o:e.inputFieldType,bindTarget:n,arguments:r.arguments.concat(e.arguments).reduce((l,u)=>(l.find(s=>s.name===u.name)===void 0&&l.push(u),l),[]),errorCollection:new fr("input field declaration").merge(e.errorCollection).merge(r.errorCollection)}}};var Wc=class extends Ri{onload(){console.log("meta-bind | ExcludedMDRC >> load",this),this.containerEl.empty(),this.containerEl.createEl("span",{text:"this folder has been excluded in the meta bind plugin settings",cls:"meta-bind-plugin-error"})}};var Hc=class{constructor(e){this.scope=e}};var gF=require("obsidian");function z7(t){let e,r;return{c(){e=Q("td"),r=Q("div")},m(n,i){se(n,e,i),J(e,r),t[3](r)},p:Oe,i:Oe,o:Oe,d(n){n&&ie(e),t[3](null)}}}function W7(t,e,r){let{table:n}=e,{cell:i}=e,a,o;Kr(()=>{o=new gF.Component,o.load(),n.createCell(i,a,o)}),El(()=>{o.unload()});function l(u){Ut[u?"unshift":"push"](()=>{a=u,r(0,a)})}return t.$$set=u=>{"table"in u&&r(1,n=u.table),"cell"in u&&r(2,i=u.cell)},[a,n,i,l]}var zd=class extends Ie{constructor(e){super(),Re(this,e,W7,z7,ke,{table:1,cell:2})}},vF=zd;var bF=require("obsidian");function yF(t){let e;return{c(){e=Q("div"),U(e,"class","mb-icon-wrapper")},m(r,n){se(r,e,n),t[2](e)},p:Oe,d(r){r&&ie(e),t[2](null)}}}function H7(t){let e,r=t[0].length>0&&yF(t);return{c(){r&&r.c(),e=cr()},m(n,i){r&&r.m(n,i),se(n,e,i)},p(n,[i]){n[0].length>0?r?r.p(n,i):(r=yF(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:Oe,o:Oe,d(n){n&&ie(e),r&&r.d(n)}}}function G7(t,e,r){let{iconName:n=""}=e,i;Kr(()=>{(0,bF.setIcon)(i,n)});function a(o){Ut[o?"unshift":"push"](()=>{i=o,r(1,i)})}return t.$$set=o=>{"iconName"in o&&r(0,n=o.iconName)},[n,i,a]}var Wd=class extends Ie{constructor(e){super(),Re(this,e,G7,H7,ke,{iconName:0})}},ni=Wd;function xF(t,e,r){let n=t.slice();return n[7]=e[r],n}function DF(t,e,r){let n=t.slice();return n[10]=e[r],n[11]=e,n[12]=r,n}function wF(t,e,r){let n=t.slice();return n[13]=e[r],n}function EF(t){let e,r=t[13]+"",n;return{c(){e=Q("th"),n=ze(r)},m(i,a){se(i,e,a),J(e,n)},p(i,a){a&2&&r!==(r=i[13]+"")&&Xe(n,r)},d(i){i&&ie(e)}}}function j7(t){let e,r,n;return{c(){e=Q("td"),r=ze("invalid data"),U(e,"class","meta-bind-error"),U(e,"colspan",n=t[1].length)},m(i,a){se(i,e,a),J(e,r)},p(i,a){a&2&&n!==(n=i[1].length)&&U(e,"colspan",n)},i:Oe,o:Oe,d(i){i&&ie(e)}}}function Z7(t){let e,r,n=nt(t[7].cells),i=[];for(let o=0;o<n.length;o+=1)i[o]=CF(DF(t,n,o));let a=o=>_e(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=cr()},m(o,l){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,l);se(o,e,l),r=!0},p(o,l){if(l&5){n=nt(o[7].cells);let u;for(u=0;u<n.length;u+=1){let s=DF(o,n,u);i[u]?(i[u].p(s,l),De(i[u],1)):(i[u]=CF(s),i[u].c(),De(i[u],1),i[u].m(e.parentNode,e))}for(er(),u=n.length;u<i.length;u+=1)a(u);tr()}},i(o){if(!r){for(let l=0;l<n.length;l+=1)De(i[l]);r=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)_e(i[l]);r=!1},d(o){o&&ie(e),Bt(i,o)}}}function CF(t){let e,r,n;function i(o){t[4](o,t[10],t[11],t[12])}let a={table:t[0]};return t[10]!==void 0&&(a.cell=t[10]),e=new vF({props:a}),Ut.push(()=>En(e,"cell",i)),{c(){rt(e.$$.fragment)},m(o,l){et(e,o,l),n=!0},p(o,l){t=o;let u={};l&1&&(u.table=t[0]),!r&&l&4&&(r=!0,u.cell=t[10],wn(()=>r=!1)),e.$set(u)},i(o){n||(De(e.$$.fragment,o),n=!0)},o(o){_e(e.$$.fragment,o),n=!1},d(o){tt(e,o)}}}function Y7(t){let e,r;return e=new ni({props:{iconName:"x"}}),{c(){rt(e.$$.fragment)},m(n,i){et(e,n,i),r=!0},p:Oe,i(n){r||(De(e.$$.fragment,n),r=!0)},o(n){_e(e.$$.fragment,n),r=!1},d(n){tt(e,n)}}}function FF(t,e){let r,n,i,a,o,l,u,s,c=[Z7,j7],f=[];function m(h,d){return h[7].isValid?0:1}n=m(e,-1),i=f[n]=c[n](e);function p(){return e[5](e[7])}return l=new Dr({props:{$$slots:{default:[Y7]},$$scope:{ctx:e}}}),l.$on("click",p),{key:t,first:null,c(){r=Q("tr"),i.c(),a=Fe(),o=Q("td"),rt(l.$$.fragment),u=Fe(),this.first=r},m(h,d){se(h,r,d),f[n].m(r,null),J(r,a),J(r,o),et(l,o,null),J(r,u),s=!0},p(h,d){e=h;let g=n;n=m(e,d),n===g?f[n].p(e,d):(er(),_e(f[g],1,1,()=>{f[g]=null}),tr(),i=f[n],i?i.p(e,d):(i=f[n]=c[n](e),i.c()),De(i,1),i.m(r,a));let v={};d&65536&&(v.$$scope={dirty:d,ctx:e}),l.$set(v)},i(h){s||(De(i),De(l.$$.fragment,h),s=!0)},o(h){_e(i),_e(l.$$.fragment,h),s=!1},d(h){h&&ie(r),f[n].d(),tt(l)}}}function J7(t){let e;return{c(){e=ze("Add Column")},m(r,n){se(r,e,n)},d(r){r&&ie(e)}}}function X7(t){let e,r,n,i,a,o,l,u=[],s=new Map,c,f,m,p=nt(t[1]),h=[];for(let v=0;v<p.length;v+=1)h[v]=EF(wF(t,p,v));let d=nt(t[2]),g=v=>v[7].index;for(let v=0;v<d.length;v+=1){let E=xF(t,d,v),y=g(E);s.set(y,u[v]=FF(y,E))}return f=new Dr({props:{$$slots:{default:[J7]},$$scope:{ctx:t}}}),f.$on("click",t[6]),{c(){e=Q("table"),r=Q("thead"),n=Q("tr");for(let v=0;v<h.length;v+=1)h[v].c();i=Fe(),a=Q("th"),o=Fe(),l=Q("tbody");for(let v=0;v<u.length;v+=1)u[v].c();c=Fe(),rt(f.$$.fragment)},m(v,E){se(v,e,E),J(e,r),J(r,n);for(let y=0;y<h.length;y+=1)h[y]&&h[y].m(n,null);J(n,i),J(n,a),J(e,o),J(e,l);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(l,null);se(v,c,E),et(f,v,E),m=!0},p(v,[E]){if(E&2){p=nt(v[1]);let D;for(D=0;D<p.length;D+=1){let b=wF(v,p,D);h[D]?h[D].p(b,E):(h[D]=EF(b),h[D].c(),h[D].m(n,i))}for(;D<h.length;D+=1)h[D].d(1);h.length=p.length}E&7&&(d=nt(v[2]),er(),u=Al(u,E,g,1,v,d,s,l,Mw,FF,null,xF),tr());let y={};E&65536&&(y.$$scope={dirty:E,ctx:v}),f.$set(y)},i(v){if(!m){for(let E=0;E<d.length;E+=1)De(u[E]);De(f.$$.fragment,v),m=!0}},o(v){for(let E=0;E<u.length;E+=1)_e(u[E]);_e(f.$$.fragment,v),m=!1},d(v){v&&(ie(e),ie(c)),Bt(h,v);for(let E=0;E<u.length;E+=1)u[E].d();tt(f,v)}}}function Q7(t,e,r){let{table:n}=e,{tableHead:i=[]}=e,a=[];function o(c){r(2,a=c)}function l(c,f,m,p){m[p]=c,r(2,a)}let u=c=>n.removeColumn(c.index),s=()=>n.addColumn();return t.$$set=c=>{"table"in c&&r(0,n=c.table),"tableHead"in c&&r(1,i=c.tableHead)},[n,i,a,o,l,u,s]}var Hd=class extends Ie{constructor(e){super(),Re(this,e,Q7,X7,ke,{table:0,tableHead:1,updateTable:3})}get updateTable(){return this.$$.ctx[3]}},AF=Hd;var Gc=class extends Ri{constructor(r,n,i,a,o,l,u,s){super(r,n,i,a,o);this.bindTarget=l,this.tableHead=u,this.columns=s,this.inputSignal=new Lr(void 0),this.outputSignal=new Lr(void 0)}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.bindTarget,this.filePath))}unregisterSelfFromMetadataManager(){var r;this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(r=this.metadataSubscription)==null||r.unsubscribe()}updateMetadataManager(r){var n;(n=this.metadataSubscription)==null||n.update(r)}getInitialValue(){var r;return(r=this.inputSignal.get())!=null?r:[]}updateDisplayValue(r){var i;r=r!=null?r:[];let n=[];for(let a=0;a<r.length;a++)if(typeof r[a]=="object"){let o=new Hc({metadataPath:[...this.bindTarget.metadataPath,a.toString()],filePath:this.bindTarget.filePath,listenToChildren:!1,boundToLocalScope:!1}),l=this.columns.map(u=>"inputFieldType"in u?this.plugin.api.inputFieldParser.validateDeclaration(u,o):this.plugin.api.viewFieldParser.validateDeclaration(u,o));n.push({cells:l,index:a,value:r[a],isValid:!0})}else n.push({cells:[],index:a,value:r[a],isValid:!1});(i=this.tableComponent)==null||i.updateTable(n)}createCell(r,n,i){let a=Ir();if("inputFieldType"in r){let o=new lo(n,"inline",r,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}else{let o=new ts(n,"inline",r,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}}removeColumn(r){var i;let n=(i=this.inputSignal.get())!=null?i:[];n.splice(r,1),this.outputSignal.set(n),this.updateDisplayValue(n)}addColumn(){var n;let r=(n=this.inputSignal.get())!=null?n:[];r.push({}),this.outputSignal.set(r),this.updateDisplayValue(r)}onload(){this.registerSelfToMetadataManager(),this.tableComponent=new AF({target:this.containerEl,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:r=>{this.updateDisplayValue(r)}}),this.updateDisplayValue(this.inputSignal.get())}onunload(){var r;this.unregisterSelfFromMetadataManager(),(r=this.tableComponent)==null||r.$destroy()}};var Zc=class extends wa{constructor(r){super();this.svelteComponent=r}setValue(r){var n;(n=this.svelteComponentInstance)==null||n.setValue(r)}mount(r,n,i={}){let a=Object.assign({value:n,onValueChange:o=>{this.notifyListeners(o)}},i);this.svelteComponentInstance=new this.svelteComponent({target:r,props:a})}unmount(){var r;this.listeners=[],(r=this.svelteComponentInstance)==null||r.$destroy()}};var Ot=class extends wa{constructor(r){super();this.renderChild=r,this.inputFieldComponent=new Zc(this.getSvelteComponent()),this.signal=new ql(this.renderChild.inputSignal,n=>{let i=this.filterValue(n);return i!=null?i:this.getDefaultValue()}),this.signal.registerListener({callback:n=>this.inputFieldComponent.setValue(this.reverseMapValue(n))}),this.inputFieldComponent.registerListener({callback:n=>{this.notifyListeners(this.mapValue(n))}})}reverseMapValue(r){let n=this.rawReverseMapValue(r);if(n!==void 0)return n;let i=this.rawReverseMapValue(this.getDefaultValue());return i!==void 0?i:this.getFallbackDefaultValue()}mapValue(r){return this.rawMapValue(r)}getValue(){return this.signal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(r){this.signal.set(r),this.notifyListeners(r)}setInternalValue(r){this.setValue(this.mapValue(r))}getDefaultValue(){let r=this.renderChild.getArgument("defaultValue");if(!r)return this.mapValue(this.getFallbackDefaultValue());let n=this.filterValue(r.value);return n!=null?n:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}mount(r){this.inputFieldComponent.mount(r,this.reverseMapValue(this.getValue()),this.getMountArgs())}unmount(){this.inputFieldComponent.unmount()}};function K7(t){let e,r,n,i;return{c(){e=Q("div"),r=Q("input"),U(r,"type","checkbox"),U(r,"tabindex","-1"),r.checked=t[0],U(e,"class","checkbox-container"),U(e,"role","switch"),U(e,"tabindex","0"),U(e,"aria-checked",t[0]),ut(e,"is-enabled",t[0])},m(a,o){se(a,e,o),J(e,r),n||(i=[Me(e,"click",t[5]),Me(e,"keypress",t[6])],n=!0)},p(a,[o]){o&1&&(r.checked=a[0]),o&1&&U(e,"aria-checked",a[0]),o&1&&ut(e,"is-enabled",a[0])},i:Oe,o:Oe,d(a){a&&ie(e),n=!1,Ke(i)}}}function $7(t,e,r){let{value:n}=e,{onValueChange:i}=e;function a(c){r(0,n=c)}function o(){r(0,n=!n),console.log("toggle"),i(n)}function l(c){c.key===" "&&o()}let u=()=>o(),s=c=>l(c);return t.$$set=c=>{"value"in c&&r(0,n=c.value),"onValueChange"in c&&r(3,i=c.onValueChange)},[n,o,l,i,a,u,s]}var Gd=class extends Ie{constructor(e){super(),Re(this,e,$7,K7,ke,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},SF=Gd;var Yc=class extends Ot{constructor(r){var n,i,a,o;super(r);this.onValue=(i=(n=this.renderChild.getArgument("onValue"))==null?void 0:n.value)!=null?i:!0,this.offValue=(o=(a=this.renderChild.getArgument("offValue"))==null?void 0:a.value)!=null?o:!1}filterValue(r){return Ia(r)}getFallbackDefaultValue(){return!1}getSvelteComponent(){return SF}rawReverseMapValue(r){return r===this.onValue?!0:(r===this.offValue,!1)}rawMapValue(r){return r?this.onValue:this.offValue}};function NF(t){let e,r=_F(t[0].length,t[2])+"",n,i;return{c(){e=Q("span"),n=ze(r),U(e,"class",i=`mb-content-limit-indicator ${t[0].length>t[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){se(a,e,o),J(e,n)},p(a,o){o&5&&r!==(r=_F(a[0].length,a[2])+"")&&Xe(n,r),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&U(e,"class",i)},d(a){a&&ie(e)}}}function e9(t){let e,r,n,i,a,o=t[2]!==void 0&&NF(t);return{c(){e=Q("input"),r=Fe(),o&&o.c(),n=cr(),U(e,"type","text"),U(e,"tabindex","0"),U(e,"placeholder",t[1]),U(e,"maxlength",t[2])},m(l,u){se(l,e,u),Et(e,t[0]),se(l,r,u),o&&o.m(l,u),se(l,n,u),i||(a=[Me(e,"input",t[5]),Me(e,"input",t[6])],i=!0)},p(l,[u]){u&2&&U(e,"placeholder",l[1]),u&4&&U(e,"maxlength",l[2]),u&1&&e.value!==l[0]&&Et(e,l[0]),l[2]!==void 0?o?o.p(l,u):(o=NF(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:Oe,o:Oe,d(l){l&&(ie(e),ie(r),ie(n)),o&&o.d(l),i=!1,Ke(a)}}}function _F(t,e){let r=e.toString();return`${t.toString().padStart(r.length,"0")}/${r}`}function t9(t,e,r){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function l(c){r(0,n=c)}function u(){n=this.value,r(0,n)}let s=()=>o(n);return t.$$set=c=>{"value"in c&&r(0,n=c.value),"placeholder"in c&&r(1,i=c.placeholder),"limit"in c&&r(2,a=c.limit),"onValueChange"in c&&r(3,o=c.onValueChange)},[n,i,a,o,l,u,s]}var jd=class extends Ie{constructor(e){super(),Re(this,e,t9,e9,ke,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},MF=jd;var Jc=class extends Ot{constructor(e){super(e)}filterValue(e){return Ta(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return MF}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,r,n;return{placeholder:(r=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?r:"Text",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function r9(t){let e,r,n;return{c(){e=Q("input"),U(e,"class","mb-slider-input"),U(e,"type","range"),U(e,"tabindex","0"),U(e,"min",t[1]),U(e,"max",t[2]),U(e,"step",t[3])},m(i,a){se(i,e,a),Et(e,t[0]),r||(n=[Me(e,"change",t[9]),Me(e,"input",t[9]),Me(e,"input",t[10])],r=!0)},p(i,a){a&2&&U(e,"min",i[1]),a&4&&U(e,"max",i[2]),a&8&&U(e,"step",i[3]),a&1&&Et(e,i[0])},d(i){i&&ie(e),r=!1,Ke(n)}}}function n9(t){let e,r,n,i,a,o,l,u,s;return{c(){e=Q("span"),r=ze(t[1]),n=Fe(),i=Q("input"),a=Fe(),o=Q("span"),l=ze(t[2]),U(e,"class","mb-slider-input-label"),U(i,"class","mb-slider-input"),U(i,"type","range"),U(i,"tabindex","0"),U(i,"min",t[1]),U(i,"max",t[2]),U(i,"step",t[3]),U(o,"class","mb-slider-input-label")},m(c,f){se(c,e,f),J(e,r),se(c,n,f),se(c,i,f),Et(i,t[0]),se(c,a,f),se(c,o,f),J(o,l),u||(s=[Me(i,"change",t[7]),Me(i,"input",t[7]),Me(i,"input",t[8])],u=!0)},p(c,f){f&2&&Xe(r,c[1]),f&2&&U(i,"min",c[1]),f&4&&U(i,"max",c[2]),f&8&&U(i,"step",c[3]),f&1&&Et(i,c[0]),f&4&&Xe(l,c[2])},d(c){c&&(ie(e),ie(n),ie(i),ie(a),ie(o)),u=!1,Ke(s)}}}function i9(t){let e;function r(a,o){return a[4]?n9:r9}let n=r(t,-1),i=n(t);return{c(){i.c(),e=cr()},m(a,o){i.m(a,o),se(a,e,o)},p(a,[o]){n===(n=r(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Oe,o:Oe,d(a){a&&ie(e),i.d(a)}}}function a9(t,e,r){let{value:n}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:l}=e,{onValueChange:u}=e;function s(h){r(0,n=h)}function c(){n=Bi(this.value),r(0,n)}let f=()=>u(n);function m(){n=Bi(this.value),r(0,n)}let p=()=>u(n);return t.$$set=h=>{"value"in h&&r(0,n=h.value),"minValue"in h&&r(1,i=h.minValue),"maxValue"in h&&r(2,a=h.maxValue),"stepSize"in h&&r(3,o=h.stepSize),"addLabels"in h&&r(4,l=h.addLabels),"onValueChange"in h&&r(5,u=h.onValueChange)},[n,i,a,o,l,u,s,c,f,m,p]}var Zd=class extends Ie{constructor(e){super(),Re(this,e,a9,i9,ke,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},TF=Zd;var Xc=class extends Ot{constructor(r){var n,i,a,o,l,u;super(r);if(this.minValue=(i=(n=this.renderChild.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.renderChild.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(l=this.renderChild.getArgument("stepSize"))==null?void 0:l.value)!=null?u:1,this.minValue>=this.maxValue)throw new rr({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(r){return Pl(ds(r),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return TF}rawReverseMapValue(r){return r}rawMapValue(r){return r}getMountArgs(){var r;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((r=this.renderChild.getArgument("addLabels"))==null?void 0:r.value)===!0}}};function o9(t){let e,r,n;return{c(){e=Q("textarea"),U(e,"tabindex","0"),U(e,"placeholder",t[1]),U(e,"maxlength",t[2])},m(i,a){se(i,e,a),Et(e,t[0]),r||(n=[Me(e,"input",t[5]),Me(e,"input",t[6])],r=!0)},p(i,[a]){a&2&&U(e,"placeholder",i[1]),a&4&&U(e,"maxlength",i[2]),a&1&&Et(e,i[0])},i:Oe,o:Oe,d(i){i&&ie(e),r=!1,Ke(n)}}}function s9(t,e,r){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function l(c){r(0,n=c)}function u(){n=this.value,r(0,n)}let s=()=>o(n);return t.$$set=c=>{"value"in c&&r(0,n=c.value),"placeholder"in c&&r(1,i=c.placeholder),"limit"in c&&r(2,a=c.limit),"onValueChange"in c&&r(3,o=c.onValueChange)},[n,i,a,o,l,u,s]}var Yd=class extends Ie{constructor(e){super(),Re(this,e,s9,o9,ke,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},IF=Yd;var Fu=class extends Ot{constructor(e){super(e)}filterValue(e){return Ta(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return IF}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,r,n;return{placeholder:(r=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?r:"Text",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function BF(t,e,r){let n=t.slice();return n[8]=e[r],n}function OF(t){let e,r=t[8].name+"",n,i,a,o;function l(){return t[6](t[8])}function u(...s){return t[7](t[8],...s)}return{c(){e=Q("div"),n=ze(r),i=Fe(),U(e,"class","mb-select-input-element"),U(e,"role","button"),U(e,"tabindex","0"),ut(e,"is-selected",t[8].value===t[0])},m(s,c){se(s,e,c),J(e,n),J(e,i),a||(o=[Me(e,"click",l),Me(e,"keypress",u)],a=!0)},p(s,c){t=s,c&2&&r!==(r=t[8].name+"")&&Xe(n,r),c&3&&ut(e,"is-selected",t[8].value===t[0])},d(s){s&&ie(e),a=!1,Ke(o)}}}function u9(t){let e,r=nt(t[1]),n=[];for(let i=0;i<r.length;i+=1)n[i]=OF(BF(t,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=cr()},m(i,a){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,a);se(i,e,a)},p(i,[a]){if(a&15){r=nt(i[1]);let o;for(o=0;o<r.length;o+=1){let l=BF(i,r,o);n[o]?n[o].p(l,a):(n[o]=OF(l),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:Oe,o:Oe,d(i){i&&ie(e),Bt(n,i)}}}function l9(t,e,r){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){r(0,n=f)}function l(f){r(0,n=f),a(n)}function u(f,m){f.key===" "&&l(m)}let s=f=>l(f.value),c=(f,m)=>u(m,f.value);return t.$$set=f=>{"value"in f&&r(0,n=f.value),"options"in f&&r(1,i=f.options),"onValueChange"in f&&r(4,a=f.onValueChange)},[n,i,l,u,a,o,s,c]}var Jd=class extends Ie{constructor(e){super(),Re(this,e,l9,u9,ke,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},kF=Jd;var Qc=class extends Ot{constructor(r){super(r);this.options=this.renderChild.getArguments("option")}filterValue(r){return Ia(r)}getFallbackDefaultValue(){return null}getSvelteComponent(){return kF}rawMapValue(r){return r}rawReverseMapValue(r){return r}getMountArgs(){return{options:this.options}}};function RF(t,e,r){let n=t.slice();return n[8]=e[r],n}function PF(t){let e,r=t[8].name+"",n,i,a,o;function l(){return t[6](t[8])}function u(...s){return t[7](t[8],...s)}return{c(){e=Q("div"),n=ze(r),i=Fe(),U(e,"class","mb-select-input-element"),U(e,"role","button"),U(e,"tabindex","0"),ut(e,"is-selected",t[0].includes(t[8].value))},m(s,c){se(s,e,c),J(e,n),J(e,i),a||(o=[Me(e,"click",l),Me(e,"keypress",u)],a=!0)},p(s,c){t=s,c&2&&r!==(r=t[8].name+"")&&Xe(n,r),c&3&&ut(e,"is-selected",t[0].includes(t[8].value))},d(s){s&&ie(e),a=!1,Ke(o)}}}function c9(t){let e,r=nt(t[1]),n=[];for(let i=0;i<r.length;i+=1)n[i]=PF(RF(t,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=cr()},m(i,a){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(i,a);se(i,e,a)},p(i,[a]){if(a&15){r=nt(i[1]);let o;for(o=0;o<r.length;o+=1){let l=RF(i,r,o);n[o]?n[o].p(l,a):(n[o]=PF(l),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:Oe,o:Oe,d(i){i&&ie(e),Bt(n,i)}}}function f9(t,e,r){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){r(0,n=f)}function l(f){n.includes(f)?r(0,n=n.filter(m=>m!==f)):(n.push(f),r(0,n)),a(n)}function u(f,m){f.key===" "&&l(m)}let s=f=>l(f.value),c=(f,m)=>u(m,f.value);return t.$$set=f=>{"value"in f&&r(0,n=f.value),"options"in f&&r(1,i=f.options),"onValueChange"in f&&r(4,a=f.onValueChange)},[n,i,l,u,a,o,s,c]}var Xd=class extends Ie{constructor(e){super(),Re(this,e,f9,c9,ke,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},LF=Xd;var Au=class extends Ot{constructor(r){super(r);this.options=this.renderChild.getArguments("option")}filterValue(r){return ps(r)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return LF}rawMapValue(r){return r}rawReverseMapValue(r){return r}getMountArgs(){return{options:this.options}}};function m9(t){Gt(t,"svelte-f2wb67",".date-picker-input.svelte-f2wb67{background:var(--background-modifier-form-field);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;position:relative;color:var(--text-normal);display:inline-flex;align-items:center;gap:5px;font-size:var(--font-ui-small)}.date-picker-text.svelte-f2wb67{display:inline-block}")}function p9(t){let e,r,n=(t[0]?t[0].format(t[1]):"none")+"",i,a,o,l,u,s;return o=new ni({props:{iconName:"calendar"}}),{c(){e=Q("div"),r=Q("span"),i=ze(n),a=Fe(),rt(o.$$.fragment),U(r,"class","date-picker-text svelte-f2wb67"),U(e,"class","date-picker-input svelte-f2wb67"),U(e,"role","button"),U(e,"tabindex","0")},m(c,f){se(c,e,f),J(e,r),J(r,i),J(e,a),et(o,e,null),l=!0,u||(s=[Me(e,"click",t[2]),Me(e,"keydown",t[3])],u=!0)},p(c,[f]){(!l||f&3)&&n!==(n=(c[0]?c[0].format(c[1]):"none")+"")&&Xe(i,n)},i(c){l||(De(o.$$.fragment,c),l=!0)},o(c){_e(o.$$.fragment,c),l=!1},d(c){c&&ie(e),tt(o),u=!1,Ke(s)}}}function d9(t,e,r){let{value:n}=e,{dateFormat:i}=e,{showDatePicker:a}=e,{onValueChange:o}=e;function l(c){r(0,n=c)}function u(c){a()}function s(c){c.key===" "&&a()}return t.$$set=c=>{"value"in c&&r(0,n=c.value),"dateFormat"in c&&r(1,i=c.dateFormat),"showDatePicker"in c&&r(4,a=c.showDatePicker),"onValueChange"in c&&r(5,o=c.onValueChange)},[n,i,u,s,a,o,l]}var Qd=class extends Ie{constructor(e){super(),Re(this,e,d9,p9,ke,{value:0,dateFormat:1,showDatePicker:4,onValueChange:5,setValue:6},m9)}get setValue(){return this.$$.ctx[6]}},qF=Qd;var XF=require("obsidian");var VF=require("obsidian");var Kd=no[1];function UF(t){Kd=t}function $d(t){return yw[t]}function zF(t,e){let r=(0,VF.moment)(new Date(e,t)).daysInMonth(),n=new Array(42).fill(0),i=h9(new Date(e,t,1));for(let a=0;a<r;a++)n[a+i]=a+1;return n=n[n.length-7]?n:n.slice(0,-7),n=n[n.length-7]?n:n.slice(0,-7),n}function h9(t){return Up(t.getDay()-Kd.index,7)}function WF(){return no.map(e=>({index:Up(e.index-Kd.index,7),name:e.name,shortName:e.shortName})).sort((e,r)=>e.index-r.index).map(e=>e.shortName)}function HF(){let t=0;return()=>++t}var ZF=require("obsidian");function g9(t){Gt(t,"svelte-12l82wb",".calendar.svelte-12l82wb{margin-top:10px}.calendar-header.svelte-12l82wb{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1)}.calendar-content.svelte-12l82wb{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-12l82wb{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-12l82wb{cursor:pointer}.cell-text.svelte-12l82wb{margin:auto;text-align:center}.selected.svelte-12l82wb{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-12l82wb:hover{background:var(--interactive-hover)}.selected.highlight.svelte-12l82wb:hover{background:var(--interactive-accent-hover)}")}function GF(t,e,r){let n=t.slice();return n[10]=e[r],n}function v9(t,e,r){let n=t.slice();return n[13]=e[r],n}function y9(t){let e,r,n;return{c(){e=Q("div"),r=Q("span"),r.textContent=`${t[13]}`,n=Fe(),U(r,"class","cell-text svelte-12l82wb"),U(e,"class","cell header-cell svelte-12l82wb")},m(i,a){se(i,e,a),J(e,r),J(e,n)},p:Oe,d(i){i&&ie(e)}}}function jF(t,e){let r,n,i=(e[10]||"")+"",a,o,l,u;function s(){return e[6](e[10])}function c(...f){return e[7](e[10],...f)}return{key:t,first:null,c(){var f,m,p;r=Q("div"),n=Q("span"),a=ze(i),o=Fe(),U(n,"class","cell-text svelte-12l82wb"),U(r,"class","cell svelte-12l82wb"),U(r,"role","button"),U(r,"tabindex","0"),ut(r,"highlight",e[10]),ut(r,"content-cell",e[10]),ut(r,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((m=e[0])==null?void 0:m.month())===e[1]&&((p=e[0])==null?void 0:p.date())===e[10]),this.first=r},m(f,m){se(f,r,m),J(r,n),J(n,a),J(r,o),l||(u=[Me(r,"click",s),Me(r,"keydown",c)],l=!0)},p(f,m){var p,h,d;e=f,m&8&&i!==(i=(e[10]||"")+"")&&Xe(a,i),m&8&&ut(r,"highlight",e[10]),m&8&&ut(r,"content-cell",e[10]),m&15&&ut(r,"selected",((p=e[0])==null?void 0:p.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&ie(r),l=!1,Ke(u)}}}function b9(t){let e,r,n,i,a=[],o=new Map,l=nt(WF()),u=[];for(let f=0;f<l.length;f+=1)u[f]=y9(v9(t,l,f));let s=nt(t[3]),c=f=>HF();for(let f=0;f<s.length;f+=1){let m=GF(t,s,f),p=c(m);o.set(p,a[f]=jF(p,m))}return{c(){e=Q("div"),r=Q("div");for(let f=0;f<u.length;f+=1)u[f].c();n=Fe(),i=Q("div");for(let f=0;f<a.length;f+=1)a[f].c();U(r,"class","calendar-header svelte-12l82wb"),U(i,"class","calendar-content svelte-12l82wb"),U(e,"class","calendar svelte-12l82wb")},m(f,m){se(f,e,m),J(e,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null);J(e,n),J(e,i);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(i,null)},p(f,[m]){m&63&&(s=nt(f[3]),a=Al(a,m,c,1,f,s,o,i,_w,jF,null,GF))},i:Oe,o:Oe,d(f){f&&ie(e),Bt(u,f);for(let m=0;m<a.length;m+=1)a[m].d()}}}function x9(t,e,r){let n=Pr(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,l;function u(p){n("dateChange",(0,ZF.moment)(new Date(o,a,p)))}function s(p){p&&u(p)}function c(p,h){p.key===" "&&s(h)}let f=p=>s(p),m=(p,h)=>c(h,p);return t.$$set=p=>{"selectedDate"in p&&r(0,i=p.selectedDate),"month"in p&&r(1,a=p.month),"year"in p&&r(2,o=p.year)},t.$$.update=()=>{t.$$.dirty&6&&r(3,l=zF(a,o))},[i,a,o,l,s,c,f,m]}var eh=class extends Ie{constructor(e){super(),Re(this,e,x9,b9,ke,{selectedDate:0,month:1,year:2},g9)}},YF=eh;var th=require("obsidian");function D9(t){Gt(t,"svelte-berpp6",".date-picker.svelte-berpp6{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-berpp6{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-berpp6{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-berpp6{height:min-content}.month-switch-button.svelte-berpp6{margin:0}.date-picker-footer.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-berpp6{margin:0}")}function w9(t){let e,r,n,i,a,o,l=$d(t[1])+"",u,s,c,f,m,p,h,d,g,v,E,y,D,b;return d=new YF({props:{month:t[1],year:t[2],selectedDate:t[0]}}),d.$on("dateChange",t[6]),{c(){e=Q("div"),r=Q("div"),n=Q("button"),n.textContent="Prev",i=Fe(),a=Q("div"),o=Q("span"),u=ze(l),s=Fe(),c=Q("input"),m=Fe(),p=Q("button"),p.textContent="Next",h=Fe(),rt(d.$$.fragment),g=Fe(),v=Q("div"),E=Q("button"),E.textContent="Set no Date",U(n,"class","month-switch-button svelte-berpp6"),U(o,"class","date-picker-header-text-month svelte-berpp6"),U(c,"class","date-picker-header-text-year svelte-berpp6"),U(c,"type","number"),c.value=f=t[2].toString(),U(a,"class","date-picker-header-text svelte-berpp6"),U(p,"class","month-switch-button svelte-berpp6"),U(r,"class","date-picker-header svelte-berpp6"),U(E,"class","none-button svelte-berpp6"),U(v,"class","date-picker-footer svelte-berpp6"),U(e,"class","date-picker svelte-berpp6")},m(x,C){se(x,e,C),J(e,r),J(r,n),J(r,i),J(r,a),J(a,o),J(o,u),J(a,s),J(a,c),J(r,m),J(r,p),J(e,h),et(d,e,null),J(e,g),J(e,v),J(v,E),y=!0,D||(b=[Me(n,"click",t[4]),Me(c,"input",t[5]),Me(p,"click",t[3]),Me(E,"click",t[7])],D=!0)},p(x,[C]){(!y||C&2)&&l!==(l=$d(x[1])+"")&&Xe(u,l),(!y||C&4&&f!==(f=x[2].toString())&&c.value!==f)&&(c.value=f);let A={};C&2&&(A.month=x[1]),C&4&&(A.year=x[2]),C&1&&(A.selectedDate=x[0]),d.$set(A)},i(x){y||(De(d.$$.fragment,x),y=!0)},o(x){_e(d.$$.fragment,x),y=!1},d(x){x&&ie(e),tt(d),D=!1,Ke(b)}}}function E9(t,e,r){let{selectedDate:n=(0,th.moment)()}=e,{dateChangeCallback:i}=e,a,o;function l(){if(a===11){r(1,a=0),r(2,o+=1);return}r(1,a=a+1)}function u(){if(a===0){r(1,a=11),r(2,o-=1);return}r(1,a-=1)}function s(m){let p=m.target.value,h=Number.parseInt(p);Number.isNaN(h)||r(2,o=h)}function c(m){r(0,n=m.detail),i(m.detail)}function f(){r(0,n=null),i(null)}return t.$$set=m=>{"selectedDate"in m&&r(0,n=m.selectedDate),"dateChangeCallback"in m&&r(8,i=m.dateChangeCallback)},t.$$.update=()=>{if(t.$$.dirty&1)if(n)r(1,a=n.month()),r(2,o=n.year());else{let m=(0,th.moment)();r(1,a=m.month()),r(2,o=m.year())}},[n,a,o,l,u,s,c,f,i]}var rh=class extends Ie{constructor(e){super(),Re(this,e,E9,w9,ke,{selectedDate:0,dateChangeCallback:8},D9)}},JF=rh;var Kc=class extends XF.Modal{constructor(r,n){super(r);this.datePicker=n}onOpen(){this.datePickerInput=new JF({target:this.contentEl,props:{selectedDate:this.datePicker.getInternalValue(),dateChangeCallback:r=>{this.datePicker.setInternalValue(r),this.close()}}})}onClose(){var r;(r=this.datePickerInput)==null||r.$destroy()}};var Su=class extends Ot{constructor(r){super(r);this.options=this.renderChild.getArguments("option")}filterValue(r){if(r===null)return null;if(r===void 0||typeof r!="string")return;let n=en.parse(r);if(n.isValid())return en.stringify(n)}getFallbackDefaultValue(){return en.getDefaultDate()}getSvelteComponent(){return qF}rawMapValue(r){return r===null?null:en.stringify(r)}rawReverseMapValue(r){if(r===null)return null;let n=en.parse(r);if(n.isValid())return n}getMountArgs(){return{dateFormat:this.renderChild.plugin.settings.preferredDateFormat,showDatePicker:()=>{new Kc(this.renderChild.plugin.app,this).open()}}}};function C9(t){let e,r,n;return{c(){e=Q("input"),U(e,"type","number"),U(e,"tabindex","0"),U(e,"placeholder",t[1])},m(i,a){se(i,e,a),Et(e,t[0]),r||(n=[Me(e,"input",t[4]),Me(e,"input",t[5])],r=!0)},p(i,[a]){a&2&&U(e,"placeholder",i[1]),a&1&&Bi(e.value)!==i[0]&&Et(e,i[0])},i:Oe,o:Oe,d(i){i&&ie(e),r=!1,Ke(n)}}}function F9(t,e,r){let{value:n}=e,{placeholder:i}=e,{onValueChange:a}=e;function o(s){r(0,n=s)}function l(){n=Bi(this.value),r(0,n)}let u=()=>a(n);return t.$$set=s=>{"value"in s&&r(0,n=s.value),"placeholder"in s&&r(1,i=s.placeholder),"onValueChange"in s&&r(2,a=s.onValueChange)},[n,i,a,o,l,u]}var nh=class extends Ie{constructor(e){super(),Re(this,e,F9,C9,ke,{value:0,placeholder:1,onValueChange:2,setValue:3})}get setValue(){return this.$$.ctx[3]}},QF=nh;var $c=class extends Ot{constructor(e){super(e)}filterValue(e){return ds(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return QF}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.renderChild.getArgument("placeholder"))!=null?e:"Number"}}};function A9(t){let e,r;return{c(){e=Q("a"),r=ze(t[1]),U(e,"data-href",t[1]),U(e,"href",t[1]),U(e,"class","internal-link"),U(e,"target","_blank"),U(e,"rel","noopener")},m(n,i){se(n,e,i),J(e,r)},p(n,i){i&2&&Xe(r,n[1]),i&2&&U(e,"data-href",n[1]),i&2&&U(e,"href",n[1])},d(n){n&&ie(e)}}}function S9(t){let e,r=t[0].alias+"",n;return{c(){e=Q("a"),n=ze(r),U(e,"data-href",t[1]),U(e,"href",t[1]),U(e,"class","internal-link"),U(e,"target","_blank"),U(e,"rel","noopener"),U(e,"aria-label",t[1])},m(i,a){se(i,e,a),J(e,n)},p(i,a){a&1&&r!==(r=i[0].alias+"")&&Xe(n,r),a&2&&U(e,"data-href",i[1]),a&2&&U(e,"href",i[1]),a&2&&U(e,"aria-label",i[1])},d(i){i&&ie(e)}}}function N9(t){let e;function r(a,o){return a[0].alias?S9:A9}let n=r(t,-1),i=n(t);return{c(){i.c(),e=cr()},m(a,o){i.m(a,o),se(a,e,o)},p(a,[o]){n===(n=r(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Oe,o:Oe,d(a){a&&ie(e),i.d(a)}}}function _9(t,e,r){let n,{mdLink:i}=e;return t.$$set=a=>{"mdLink"in a&&r(0,i=a.mdLink)},t.$$.update=()=>{t.$$.dirty&1&&r(1,n=i.block?`${i.target}#${i.block}`:i.target)},[i,n]}var ih=class extends Ie{constructor(e){super(),Re(this,e,_9,N9,ke,{mdLink:0})}},ef=ih;var yo=class{constructor(e,r){if(Ll(e))throw new vr({errorLevel:"ERROR",effect:"failed to create enclosing pair",cause:"opening string must not be empty"});this.openingEqualsClosing=Ll(r)||e===r,this.openingEqualsClosing?(this._openingString=e,this._closingString=e):(this._openingString=e,this._closingString=r)}get openingString(){return this._openingString}get closingString(){return this.openingEqualsClosing?this._openingString:this._closingString}overlaps(e){return su(this.openingString,e.openingString)||su(this.openingString,e.closingString)||su(this.closingString,e.openingString)||su(this.closingString,e.closingString)}equals(e){return Ll(e)?!1:this.openingString===e.openingString&&this.closingString===e.closingString}toString(){return JSON.stringify(this)}},bo=class t{static split(e,r,n){if(!e)throw new vr({errorLevel:"ERROR",effect:"failed to split string",cause:"string must not be empty"});if(!r)throw new vr({errorLevel:"ERROR",effect:"failed to split string",cause:"separator must not be empty"});let i="",a=[];if(n){let o=t.numberOfOccurrences(e,n.openingString),l=t.numberOfOccurrences(e,n.closingString),u=0;e:for(let s=0;s<e.length;s++)if(u===0&&t.isStringAt(e,r,s)?(a.push(i),i="",s+=r.length-1):i+=e[s],n.openingEqualsClosing){if(t.isStringAt(e,n.openingString,s)){if(!(u%2===0&&o===1))if(u%2===0){u+=1;for(let c=1;c<n.openingString.length;c++)if(s+=1,i+=e[s],s>=e.length)break e}else{u-=1;for(let c=1;c<n.closingString.length;c++)if(s+=1,i+=e[s],s>=e.length)break e}o-=1}}else if(t.isStringAt(e,n.openingString,s)){if(o<=l){u+=1;for(let c=1;c<n.openingString.length;c++)if(s+=1,i+=e[s],s>=e.length)break e}o-=1}else if(t.isStringAt(e,n.closingString,s)){if(u>0){u-=1;for(let c=1;c<n.closingString.length;c++)if(s+=1,i+=e[s],s>=e.length)break e}l-=1}}else for(let o=0;o<e.length;o++)t.isStringAt(e,r,o)?(a.push(i),i="",o+=r.length-1):i+=e[o];return a.push(i),a}static removeInBetween(e,r){if(!e)throw new vr({errorLevel:"ERROR",effect:"failed remove in between in string",cause:"string must not be empty"});let n=t.numberOfOccurrences(e,r.openingString),i=t.numberOfOccurrences(e,r.closingString),a=0,o="";for(let l=0;l<e.length;l++){if(r.openingEqualsClosing){if(t.isStringAt(e,r.openingString,l)){if(!(a%2===0&&n===1)){if(a%2===0){if(a+=1,l+=r.openingString.length,l>=e.length)break}else if(a-=1,l+=r.closingString.length,l>=e.length)break}n-=1}}else if(t.isStringAt(e,r.openingString,l)){if(n<=i&&(a+=1,l+=r.openingString.length,l>=e.length))break;n-=1}else if(t.isStringAt(e,r.closingString,l)){if(a>0&&(a-=1,l+=r.closingString.length,l>=e.length))break;i-=1}a===0&&(o+=e[l])}return o}static getInBetween(e,r){if(!e)throw new vr({errorLevel:"ERROR",effect:"failed to get in between in string",cause:"string must not be empty"});let n=t.numberOfOccurrences(e,r.openingString),i=t.numberOfOccurrences(e,r.closingString),a=0,o="",l=[];e:for(let u=0;u<e.length;u++)if(r.openingEqualsClosing)if(t.isStringAt(e,r.openingString,u)){if(!(a%2===0&&n===1))if(a%2===0){a+=1,o+=e[u];for(let s=1;s<r.openingString.length;s++)if(u+=1,o+=e[u],u>=e.length)break e}else{a-=1,o+=e[u];for(let s=1;s<r.closingString.length;s++)if(u+=1,o+=e[u],u>e.length)break e;l.push(o),o=""}n-=1}else a>=1&&(o+=e[u]);else if(t.isStringAt(e,r.openingString,u)){if(n<=i){a+=1,o+=e[u];for(let s=1;s<r.openingString.length;s++)if(u+=1,o+=e[u],u>=e.length)break e}n-=1}else if(t.isStringAt(e,r.closingString,u)){if(a>0){a-=1,o+=e[u];for(let s=1;s<r.closingString.length;s++)if(u+=1,o+=e[u],u>e.length)break e;a===0&&(l.push(o),o="")}i-=1}else a>=1&&(o+=e[u]);return l.length===0?"":l.length===1?l[0].substring(r.openingString.length,l[0].length-r.closingString.length):l.map(u=>u.substring(r.openingString.length,u.length-r.closingString.length))}static isStringAt(e,r,n){if(n<0)throw new vr({errorLevel:"ERROR",effect:"failed to check is string is at index",cause:"index must be greater than 0"});if(n>=e.length)throw new vr({errorLevel:"ERROR",effect:"failed to check is string is at index",cause:"index out of bounds of string"});if(!e)throw new vr({errorLevel:"ERROR",effect:"failed to check is string is at index",cause:"string must not be empty"});if(!r)throw new vr({errorLevel:"ERROR",effect:"failed to check is string is at index",cause:"sub string must not be empty"});for(let i=0;i<r.length;i++)if(e[i+n]!==r[i])return!1;return!0}static contains(e,r){return t.numberOfOccurrences(e,r)>0}static numberOfOccurrences(e,r){if(!e)throw new vr({errorLevel:"ERROR",effect:"failed count number of occurrences",cause:"string must not be empty"});if(!r)throw new vr({errorLevel:"ERROR",effect:"failed count number of occurrences",cause:"sub string must not be empty"});let n=0;for(let i=0;i<e.length;i++)t.isStringAt(e,r,i)&&(n+=1);return n}};function Nu(t){if(!t)throw new $r({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link is empty"});let e={};e.isEmbed=t.startsWith("!");let r=bo.getInBetween(t,new yo("[[","]]"));if(!r)throw new $r({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link is empty"});if(typeof r!="string")throw new $r({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link format is invalid"});let n=r.split("|");if(n.length===2)e.alias=n[1];else if(n.length>2)throw new $r({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link may only contain a maximum of one '|'"});let i=n[0].split("#");if(i.length===1)e.target=i[0];else if(i.length===2)e.target=i[0],e.block=i[1];else throw new $r({errorLevel:"ERROR",effect:"failed to parse md link",cause:"invalid link, link target may only contain a maximum of one '#'"});return e}function tf(t){return(t.startsWith("![[")||t.startsWith("[["))&&t.endsWith("]]")}function M9(t){let e,r;return{c(){e=Q("span"),r=ze(t[1])},m(n,i){se(n,e,i),J(e,r)},p(n,i){i&2&&Xe(r,n[1])},i:Oe,o:Oe,d(n){n&&ie(e)}}}function T9(t){let e,r,n;function i(o){t[9](o)}let a={};return t[0]!==void 0&&(a.mdLink=t[0]),e=new ef({props:a}),Ut.push(()=>En(e,"mdLink",i)),{c(){rt(e.$$.fragment)},m(o,l){et(e,o,l),n=!0},p(o,l){let u={};!r&&l&1&&(r=!0,u.mdLink=o[0],wn(()=>r=!1)),e.$set(u)},i(o){n||(De(e.$$.fragment,o),n=!0)},o(o){_e(e.$$.fragment,o),n=!1},d(o){tt(e,o)}}}function I9(t){let e,r,n,i,a,o,l,u,s,c=[T9,M9],f=[];function m(p,h){return p[2]?0:1}return n=m(t,-1),i=f[n]=c[n](t),o=new ni({props:{iconName:"list"}}),{c(){e=Q("div"),r=Q("div"),i.c(),a=Fe(),rt(o.$$.fragment),U(r,"class","mb-suggest-text"),U(e,"class","mb-suggest-input"),U(e,"role","button"),U(e,"tabindex","0")},m(p,h){se(p,e,h),J(e,r),f[n].m(r,null),J(e,a),et(o,e,null),l=!0,u||(s=[Me(e,"click",t[3]),Me(e,"keydown",t[4])],u=!0)},p(p,[h]){let d=n;n=m(p,h),n===d?f[n].p(p,h):(er(),_e(f[d],1,1,()=>{f[d]=null}),tr(),i=f[n],i?i.p(p,h):(i=f[n]=c[n](p),i.c()),De(i,1),i.m(r,null))},i(p){l||(De(i),De(o.$$.fragment,p),l=!0)},o(p){_e(i),_e(o.$$.fragment,p),l=!1},d(p){p&&ie(e),f[n].d(),tt(o),u=!1,Ke(s)}}}function B9(t,e,r){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e,o,l,u=!1;Kr(()=>{s(n)});function s(p){var h;let d=(h=p==null?void 0:p.toString())!==null&&h!==void 0?h:"null";if(r(2,u=tf(d)),u)try{r(0,o=Nu(d))}catch(g){console.warn(g)}else r(1,l=d)}function c(p){p.target instanceof HTMLAnchorElement||i()}function f(p){p.key===" "&&i()}function m(p){o=p,r(0,o)}return t.$$set=p=>{"value"in p&&r(5,n=p.value),"showSuggester"in p&&r(6,i=p.showSuggester),"onValueChange"in p&&r(7,a=p.onValueChange)},[o,l,u,c,f,n,i,a,s,m]}var ah=class extends Ie{constructor(e){super(),Re(this,e,B9,I9,ke,{value:5,showSuggester:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},KF=ah;var e2=xr(Vd()),t2=require("obsidian");var $F=require("obsidian"),rf=class extends $F.FuzzySuggestModal{constructor(r,n,i){super(r);this.options=n,this.onSelect=i}getItemText(r){return r.displayValue}getItems(){return this.options}onChooseItem(r,n){this.onSelect(r)}};var Ba=class{constructor(e,r){this.value=e,this.displayValue=r}valueAsString(){var e,r;return(r=(e=this.value)==null?void 0:e.toString())!=null?r:"null"}};function O9(t,e,r,n,i){let a=[];for(let o of r)a.push(new Ba(o.value,o.name));if(n.length>0){if(!t)return new t2.Notice("meta-bind | dataview needs to be installed and enabled to use suggest option queries"),a;for(let o of n)t.pages(o.value,e).forEach(u=>{try{let s=u.file;i?a.push(new Ba(`[[${s.path}|${s.name}]]`,`file-link: ${s.name}`)):a.push(new Ba(s.name,`file: ${s.name}`))}catch(s){console.warn("meta-bind | error while computing suggest options",s)}})}return a}function k9(t){let e=t.renderChild.plugin.app,r=(0,e2.getAPI)(e),n=t.renderChild.getArguments("option"),i=t.renderChild.getArguments("optionQuery"),a=t.renderChild.getArgument("useLinks");return O9(r,t.renderChild.filePath,n,i,a===void 0||a.value)}function nf(t,e){new rf(t.renderChild.plugin.app,k9(t),e).open()}var af=class extends Ot{constructor(e){super(e)}filterValue(e){return Ia(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return KF}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){nf(this,e=>this.setInternalValue(e.value))}};function R9(t){Gt(t,"svelte-1aj1f3m",".editor-input.svelte-1aj1f3m.svelte-1aj1f3m{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0}.editor-input.svelte-1aj1f3m>textarea.svelte-1aj1f3m{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none}.editor-input.svelte-1aj1f3m>div.svelte-1aj1f3m{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function P9(t){let e,r,n,i,a,o;return{c(){e=Q("div"),r=Q("textarea"),n=Fe(),i=Q("div"),U(r,"class","svelte-1aj1f3m"),U(i,"class","svelte-1aj1f3m"),U(e,"class","editor-input card svelte-1aj1f3m"),U(e,"role","button"),U(e,"tabindex","0")},m(l,u){se(l,e,u),J(e,r),t[9](r),Et(r,t[0]),J(e,n),J(e,i),t[13](i),a||(o=[Me(r,"input",t[10]),Me(r,"focusout",t[11]),Me(r,"input",t[12]),Me(e,"click",t[14]),Me(e,"keypress",t[15])],a=!0)},p(l,[u]){u&1&&Et(r,l[0])},i:Oe,o:Oe,d(l){l&&ie(e),t[9](null),t[13](null),a=!1,Ke(o)}}}function L9(t,e,r){let{value:n}=e,{onValueChange:i}=e,{render:a}=e,o,l;Kr(()=>{o.toggleVisibility(!0),l.toggleVisibility(!1),a(o,n)});function u(y){r(0,n=y),a(o,y)}function s(){o.toggleVisibility(!0),l.toggleVisibility(!1),a(o,n)}function c(){console.log("focus in"),o.toggleVisibility(!1),l.toggleVisibility(!0),l.focus()}function f(y){y.key===" "&&c()}function m(y){Ut[y?"unshift":"push"](()=>{l=y,r(3,l)})}function p(){n=this.value,r(0,n)}let h=()=>s(),d=()=>i(n);function g(y){Ut[y?"unshift":"push"](()=>{o=y,r(2,o)})}let v=()=>c(),E=y=>f(y);return t.$$set=y=>{"value"in y&&r(0,n=y.value),"onValueChange"in y&&r(1,i=y.onValueChange),"render"in y&&r(7,a=y.render)},[n,i,o,l,s,c,f,a,u,m,p,h,d,g,v,E]}var oh=class extends Ie{constructor(e){super(),Re(this,e,L9,P9,ke,{value:0,onValueChange:1,render:7,setValue:8},R9)}get setValue(){return this.$$.ctx[8]}},r2=oh;var n2=require("obsidian");var of=class extends Ot{constructor(e){super(e)}filterValue(e){return Ma(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return r2}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,r)=>this.renderInElement(e,r)}}renderInElement(e,r){e.empty(),n2.MarkdownRenderer.render(this.renderChild.plugin.app,r,e,this.renderChild.filePath,this.renderChild)}};var{window:_u}=Qs;function q9(t){let e,r,n,i,a,o,l,u,s,c,f,m,p,h;return{c(){e=Q("div"),r=Q("div"),i=Fe(),a=Q("span"),o=ze(t[0]),l=Fe(),u=Q("span"),s=ze(t[1]),c=Fe(),f=Q("span"),m=ze(t[2]),U(r,"class","mb-progress-bar-progress"),U(r,"style",n=`width: ${t[5](t[0])}%`),U(r,"role","slider"),U(r,"aria-valuemin",t[1]),U(r,"aria-valuemax",t[2]),U(r,"aria-valuenow",t[0]),U(r,"tabindex","0"),U(a,"class","mb-progress-bar-value"),U(u,"class","mb-progress-bar-label-left"),U(f,"class","mb-progress-bar-label-right"),U(e,"class","mb-progress-bar-input"),U(e,"tabindex","0"),U(e,"role","button")},m(d,g){se(d,e,g),J(e,r),J(e,i),J(e,a),J(a,o),J(e,l),J(e,u),J(u,s),J(e,c),J(e,f),J(f,m),t[14](e),p||(h=[Me(_u,"touchmove",t[8],{passive:!1}),Me(_u,"touchcancel",t[6]),Me(_u,"touchend",t[6]),Me(_u,"mousemove",t[8]),Me(_u,"mouseup",t[6]),Me(r,"dragstart",t[13]),Me(e,"keydown",t[9]),Me(e,"mousedown",t[7]),Me(e,"touchstart",t[7])],p=!0)},p(d,[g]){g&1&&n!==(n=`width: ${d[5](d[0])}%`)&&U(r,"style",n),g&2&&U(r,"aria-valuemin",d[1]),g&4&&U(r,"aria-valuemax",d[2]),g&1&&U(r,"aria-valuenow",d[0]),g&1&&Xe(o,d[0]),g&2&&Xe(s,d[1]),g&4&&Xe(m,d[2])},i:Oe,o:Oe,d(d){d&&ie(e),t[14](null),p=!1,Ke(h)}}}function V9(t,e){return Number.parseFloat((Math.round(t/e)*e).toFixed(15))}function U9(t,e,r){let{onValueChange:n}=e,{value:i}=e,{minValue:a}=e,{maxValue:o}=e,{stepSize:l}=e,u=!1,s,c=0,f;function m(C){r(0,i=C)}function p(C){r(0,i=C),n(C)}function h(C){return C=au(C,a,o),Vp(C,a,o,0,100)}function d(){r(3,u=!0)}function g(){r(3,u=!1)}function v(C){d(),E(C)}function E(C){if(!u)return;C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault();let A=C instanceof TouchEvent?C.touches[0].clientX:C.clientX;y(A)}function y(C){let A=s.getBoundingClientRect();C=au(C,A.left,A.right);let w=Vp(C,A.left,A.right,a,o);w=V9(w,l),p(w)}function D(C){c<50&&(c+=1);let A=Math.ceil(c/5);if(C.key==="ArrowUp"||C.key==="ArrowRight"){let w=au(i+A,a,o);p(w)}if(C.key==="ArrowDown"||C.key==="ArrowLeft"){let w=au(i-A,a,o);p(w)}window.clearTimeout(f),f=window.setTimeout(()=>c=1,100)}let b=()=>r(3,u=!0);function x(C){Ut[C?"unshift":"push"](()=>{s=C,r(4,s)})}return t.$$set=C=>{"onValueChange"in C&&r(10,n=C.onValueChange),"value"in C&&r(0,i=C.value),"minValue"in C&&r(1,a=C.minValue),"maxValue"in C&&r(2,o=C.maxValue),"stepSize"in C&&r(11,l=C.stepSize)},[i,a,o,u,s,h,g,v,E,D,n,l,m,b,x]}var sh=class extends Ie{constructor(e){super(),Re(this,e,U9,q9,ke,{onValueChange:10,value:0,minValue:1,maxValue:2,stepSize:11,setValue:12})}get setValue(){return this.$$.ctx[12]}},i2=sh;var sf=class extends Ot{constructor(r){var n,i,a,o,l,u;super(r);if(this.minValue=(i=(n=this.renderChild.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.renderChild.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(l=this.renderChild.getArgument("stepSize"))==null?void 0:l.value)!=null?u:1,this.minValue>=this.maxValue)throw new rr({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(r){return Pl(ds(r),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return i2}rawReverseMapValue(r){return r}rawMapValue(r){return r}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function a2(t,e,r){let n=t.slice();return n[7]=e[r],n}function o2(t){let e,r=t[7].name+"",n,i;return{c(){e=Q("option"),n=ze(r),e.__value=i=t[7].value,Et(e,e.__value)},m(a,o){se(a,e,o),J(e,n)},p(a,o){o&2&&r!==(r=a[7].name+"")&&Xe(n,r),o&2&&i!==(i=a[7].value)&&(e.__value=i,Et(e,e.__value))},d(a){a&&ie(e)}}}function z9(t){let e,r,n,i=nt(t[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=o2(a2(t,i,o));return{c(){e=Q("select");for(let o=0;o<a.length;o+=1)a[o].c();U(e,"class","dropdown"),t[0]===void 0&&cn(()=>t[5].call(e))},m(o,l){se(o,e,l);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);Hr(e,t[0],!0),r||(n=[Me(e,"change",t[5]),Me(e,"change",t[6])],r=!0)},p(o,[l]){if(l&2){i=nt(o[1]);let u;for(u=0;u<i.length;u+=1){let s=a2(o,i,u);a[u]?a[u].p(s,l):(a[u]=o2(s),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}l&3&&Hr(e,o[0])},i:Oe,o:Oe,d(o){o&&ie(e),Bt(a,o),r=!1,Ke(n)}}}function W9(t,e,r){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(c){r(0,n=c)}function l(){a(n)}function u(){n=Oi(this),r(0,n),r(1,i)}let s=()=>l();return t.$$set=c=>{"value"in c&&r(0,n=c.value),"options"in c&&r(1,i=c.options),"onValueChange"in c&&r(3,a=c.onValueChange)},[n,i,l,a,o,u,s]}var uh=class extends Ie{constructor(e){super(),Re(this,e,W9,z9,ke,{value:0,options:1,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},s2=uh;var uf=class extends Ot{constructor(r){super(r);this.options=this.renderChild.getArguments("option")}filterValue(r){return Ia(r)}getFallbackDefaultValue(){return null}getSvelteComponent(){return s2}rawMapValue(r){return r}rawReverseMapValue(r){return r}getMountArgs(){return{options:this.options}}};function H9(t){Gt(t,"svelte-13rmqqy",".mb-image-suggest-input.svelte-13rmqqy{background:var(--background-secondary);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:var(--size-4-2);width:100%}.mb-image-suggest-image.svelte-13rmqqy{width:100%}.mb-image-suggest-footer.svelte-13rmqqy{display:flex;flex-direction:row;color:var(--text-normal);align-items:baseline}.mb-image-suggest-footer-text.svelte-13rmqqy{flex:1;margin-left:var(--size-4-2)}")}function u2(t){let e,r;return{c(){e=Q("img"),U(e,"class","mb-image-suggest-image svelte-13rmqqy"),Ro(e.src,r=Go(t[0]))||U(e,"src",r),U(e,"alt",t[0])},m(n,i){se(n,e,i)},p(n,i){i&1&&!Ro(e.src,r=Go(n[0]))&&U(e,"src",r),i&1&&U(e,"alt",n[0])},d(n){n&&ie(e)}}}function G9(t){let e,r,n,i,a=(t[0]||"no image selected")+"",o,l,u,s,c,f=t[0]&&u2(t);return{c(){e=Q("div"),f&&f.c(),r=Fe(),n=Q("div"),i=Q("span"),o=ze(a),l=Fe(),u=Q("button"),u.textContent="Change Image",U(i,"class","mb-image-suggest-footer-text svelte-13rmqqy"),U(u,"class","btn btn-active"),U(n,"class","mb-image-suggest-footer svelte-13rmqqy"),U(e,"class","mb-image-suggest-input svelte-13rmqqy")},m(m,p){se(m,e,p),f&&f.m(e,null),J(e,r),J(e,n),J(n,i),J(i,o),J(n,l),J(n,u),s||(c=[Me(u,"click",t[1]),Me(u,"keydown",t[2])],s=!0)},p(m,[p]){m[0]?f?f.p(m,p):(f=u2(m),f.c(),f.m(e,r)):f&&(f.d(1),f=null),p&1&&a!==(a=(m[0]||"no image selected")+"")&&Xe(o,a)},i:Oe,o:Oe,d(m){m&&ie(e),f&&f.d(),s=!1,Ke(c)}}}function j9(t,e,r){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(s){r(0,n=s)}function l(s){i()}function u(s){s.key===" "&&i()}return t.$$set=s=>{"value"in s&&r(0,n=s.value),"showSuggester"in s&&r(3,i=s.showSuggester),"onValueChange"in s&&r(4,a=s.onValueChange)},[n,l,u,i,a,o]}var lh=class extends Ie{constructor(e){super(),Re(this,e,j9,G9,ke,{value:0,showSuggester:3,onValueChange:4,setValue:5},H9)}get setValue(){return this.$$.ctx[5]}},l2=lh;var Hn=require("obsidian");var d2=require("obsidian");function Z9(t){Gt(t,"svelte-7zucmo",".image-card-image.svelte-7zucmo{width:100%}.image-card-text.svelte-7zucmo{display:block;margin:var(--size-4-2);margin-bottom:var(--size-4-4)}")}function Y9(t){let e,r,n,i,a,o,l,u;return{c(){e=Q("div"),r=Q("img"),i=Fe(),a=Q("span"),o=ze(t[0]),U(r,"class","image-card-image svelte-7zucmo"),Ro(r.src,n=Go(t[0]))||U(r,"src",n),U(r,"alt",t[0]),U(a,"class","image-card-text svelte-7zucmo"),U(e,"class","image-card svelte-7zucmo"),U(e,"role","button"),U(e,"tabindex","0")},m(s,c){se(s,e,c),J(e,r),J(e,i),J(e,a),J(a,o),l||(u=[Me(e,"click",t[3]),Me(e,"keydown",t[4])],l=!0)},p(s,[c]){c&1&&!Ro(r.src,n=Go(s[0]))&&U(r,"src",n),c&1&&U(r,"alt",s[0]),c&1&&Xe(o,s[0])},i:Oe,o:Oe,d(s){s&&ie(e),l=!1,Ke(u)}}}function J9(t,e,r){let{image:n}=e,{onSelect:i}=e;function a(u,s){u.key===" "&&i(s)}let o=()=>i(n),l=u=>a(u,n);return t.$$set=u=>{"image"in u&&r(0,n=u.image),"onSelect"in u&&r(1,i=u.onSelect)},[n,i,a,o,l]}var ch=class extends Ie{constructor(e){super(),Re(this,e,J9,Y9,ke,{image:0,onSelect:1},Z9)}},c2=ch;function X9(t){Gt(t,"svelte-b3cq24",".mb-image-card-grid.svelte-b3cq24{display:grid;grid-template-columns:repeat(auto-fit, minmax(min(500px, 100%), 1fr));gap:var(--size-4-4)}")}function f2(t,e,r){let n=t.slice();return n[2]=e[r],n}function m2(t){let e,r;return e=new c2({props:{image:t[2].value,onSelect:t[1]}}),{c(){rt(e.$$.fragment)},m(n,i){et(e,n,i),r=!0},p(n,i){let a={};i&1&&(a.image=n[2].value),i&2&&(a.onSelect=n[1]),e.$set(a)},i(n){r||(De(e.$$.fragment,n),r=!0)},o(n){_e(e.$$.fragment,n),r=!1},d(n){tt(e,n)}}}function Q9(t){let e,r,n=nt(t[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=m2(f2(t,n,o));let a=o=>_e(i[o],1,1,()=>{i[o]=null});return{c(){e=Q("div");for(let o=0;o<i.length;o+=1)i[o].c();U(e,"class","mb-image-card-grid svelte-b3cq24")},m(o,l){se(o,e,l);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);r=!0},p(o,[l]){if(l&3){n=nt(o[0]);let u;for(u=0;u<n.length;u+=1){let s=f2(o,n,u);i[u]?(i[u].p(s,l),De(i[u],1)):(i[u]=m2(s),i[u].c(),De(i[u],1),i[u].m(e,null))}for(er(),u=n.length;u<i.length;u+=1)a(u);tr()}},i(o){if(!r){for(let l=0;l<n.length;l+=1)De(i[l]);r=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)_e(i[l]);r=!1},d(o){o&&ie(e),Bt(i,o)}}}function K9(t,e,r){let{options:n}=e,{onSelect:i}=e;return t.$$set=a=>{"options"in a&&r(0,n=a.options),"onSelect"in a&&r(1,i=a.onSelect)},[n,i]}var fh=class extends Ie{constructor(e){super(),Re(this,e,K9,Q9,ke,{options:0,onSelect:1},X9)}},p2=fh;var lf=class extends d2.Modal{constructor(r,n,i){super(r);this.options=n,this.onSelect=i}onOpen(){this.modalEl.style.width="100%",new p2({target:this.contentEl,props:{options:this.options,onSelect:r=>{this.onSelect(r),this.close()}}})}};function $9(t,e,r){let n=[];for(let i of e){let a=i.value;if(a.startsWith('"')&&a.endsWith('"'))a=a.substring(1,a.length-1);else{let l=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:"expected suggest option query for image suggester to start and end with double quotation marks"});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}let o=r.app.vault.getAbstractFileByPath(a);if(o==null){let l=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${a} for image suggester to exist`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!(o instanceof Hn.TFolder)){let l=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${i.value} for image suggester to be a folder`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}for(let l of o.children)l instanceof Hn.TFile&&h2(l.extension)&&n.push(new Ba(l.path,l.name))}for(let i of t){let a=Nc(i.value);if(!a){let l=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} to be truthy`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}let o=r.app.vault.getAbstractFileByPath(a);if(!o){let l=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to exist`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!(o instanceof Hn.TFile)){let l=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be a file`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!h2(o.extension)){let l=new rr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be an image file`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}n.push(new Ba(o.path,o.name))}return n}function h2(t){return["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"].contains(t)}function eq(t){let e=t.renderChild.getArguments("option"),r=t.renderChild.getArguments("optionQuery");return $9(e,r,t.renderChild.plugin)}function g2(t,e){new lf(t.renderChild.plugin.app,eq(t),e).open()}var cf=class extends Ot{constructor(e){super(e)}filterValue(e){return Ma(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return l2}rawMapValue(e){return e}rawReverseMapValue(e){return Nc(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){g2(this,e=>this.setInternalValue(e))}};function v2(t,e,r){let n=t.slice();return n[11]=e[r],n[13]=r,n}function y2(t){let e;return{c(){e=Q("span"),e.textContent="Empty",U(e,"class","mb-list-empty")},m(r,n){se(r,e,n)},p:Oe,d(r){r&&ie(e)}}}function tq(t){let e,r;return e=new ni({props:{iconName:"x"}}),{c(){rt(e.$$.fragment)},m(n,i){et(e,n,i),r=!0},p:Oe,i(n){r||(De(e.$$.fragment,n),r=!0)},o(n){_e(e.$$.fragment,n),r=!1},d(n){tt(e,n)}}}function b2(t){let e,r,n=t[11]+"",i,a,o,l,u;function s(){return t[8](t[13])}return o=new Dr({props:{$$slots:{default:[tq]},$$scope:{ctx:t}}}),o.$on("click",s),{c(){e=Q("div"),r=Q("span"),i=ze(n),a=Fe(),rt(o.$$.fragment),l=Fe(),U(e,"class","mb-list-item")},m(c,f){se(c,e,f),J(e,r),J(r,i),J(e,a),et(o,e,null),J(e,l),u=!0},p(c,f){t=c,(!u||f&1)&&n!==(n=t[11]+"")&&Xe(i,n);let m={};f&16384&&(m.$$scope={dirty:f,ctx:t}),o.$set(m)},i(c){u||(De(o.$$.fragment,c),u=!0)},o(c){_e(o.$$.fragment,c),u=!1},d(c){c&&ie(e),tt(o)}}}function x2(t){let e,r=D2(t[0].length,t[1])+"",n,i;return{c(){e=Q("span"),n=ze(r),U(e,"class",i=`mb-content-limit-indicator ${t[0].length>t[1]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){se(a,e,o),J(e,n)},p(a,o){o&3&&r!==(r=D2(a[0].length,a[1])+"")&&Xe(n,r),o&3&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[1]?"mb-content-limit-indicator-overflow":""}`)&&U(e,"class",i)},d(a){a&&ie(e)}}}function rq(t){let e,r;return e=new ni({props:{iconName:"plus"}}),{c(){rt(e.$$.fragment)},m(n,i){et(e,n,i),r=!0},p:Oe,i(n){r||(De(e.$$.fragment,n),r=!0)},o(n){_e(e.$$.fragment,n),r=!1},d(n){tt(e,n)}}}function nq(t){let e,r,n,i,a,o,l,u,s,c,f=nt(t[0]),m=[];for(let g=0;g<f.length;g+=1)m[g]=b2(v2(t,f,g));let p=g=>_e(m[g],1,1,()=>{m[g]=null}),h=null;f.length||(h=y2(t));let d=t[1]!==void 0&&x2(t);return l=new Dr({props:{disabled:!t[3],$$slots:{default:[rq]},$$scope:{ctx:t}}}),l.$on("click",t[10]),{c(){e=Q("div");for(let g=0;g<m.length;g+=1)m[g].c();h&&h.c(),r=Fe(),n=Q("div"),i=Q("input"),a=Fe(),d&&d.c(),o=Fe(),rt(l.$$.fragment),U(e,"class","mb-list-items"),U(i,"type","text"),U(i,"tabindex","0"),U(i,"placeholder",t[2]),U(i,"maxlength",t[1]),U(n,"class","mb-list-input")},m(g,v){se(g,e,v);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(e,null);h&&h.m(e,null),se(g,r,v),se(g,n,v),J(n,i),Et(i,t[3]),J(n,a),d&&d.m(n,null),J(n,o),et(l,n,null),u=!0,s||(c=Me(i,"input",t[9]),s=!0)},p(g,[v]){if(v&33){f=nt(g[0]);let y;for(y=0;y<f.length;y+=1){let D=v2(g,f,y);m[y]?(m[y].p(D,v),De(m[y],1)):(m[y]=b2(D),m[y].c(),De(m[y],1),m[y].m(e,null))}for(er(),y=f.length;y<m.length;y+=1)p(y);tr(),!f.length&&h?h.p(g,v):f.length?h&&(h.d(1),h=null):(h=y2(g),h.c(),h.m(e,null))}(!u||v&4)&&U(i,"placeholder",g[2]),(!u||v&2)&&U(i,"maxlength",g[1]),v&8&&i.value!==g[3]&&Et(i,g[3]),g[1]!==void 0?d?d.p(g,v):(d=x2(g),d.c(),d.m(n,o)):d&&(d.d(1),d=null);let E={};v&8&&(E.disabled=!g[3]),v&16384&&(E.$$scope={dirty:v,ctx:g}),l.$set(E)},i(g){if(!u){for(let v=0;v<f.length;v+=1)De(m[v]);De(l.$$.fragment,g),u=!0}},o(g){m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)_e(m[v]);_e(l.$$.fragment,g),u=!1},d(g){g&&(ie(e),ie(r),ie(n)),Bt(m,g),h&&h.d(),d&&d.d(),tt(l),s=!1,c()}}}function D2(t,e){let r=e.toString();return`${t.toString().padStart(r.length,"0")}/${r}`}function iq(t,e,r){let{value:n}=e,{limit:i}=e,{placeholder:a}=e,{onValueChange:o}=e,l="";function u(h){r(0,n=h)}function s(){n.push(l),o(n),r(3,l=""),r(0,n)}function c(h){n.splice(h,1),o(n),r(0,n)}let f=h=>c(h);function m(){l=this.value,r(3,l)}let p=()=>s();return t.$$set=h=>{"value"in h&&r(0,n=h.value),"limit"in h&&r(1,i=h.limit),"placeholder"in h&&r(2,a=h.placeholder),"onValueChange"in h&&r(6,o=h.onValueChange)},[n,i,a,l,s,c,o,u,f,m,p]}var mh=class extends Ie{constructor(e){super(),Re(this,e,iq,nq,ke,{value:0,limit:1,placeholder:2,onValueChange:6,setValue:7})}get setValue(){return this.$$.ctx[7]}},w2=mh;var ff=class extends Ot{constructor(e){super(e)}filterValue(e){return ps(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return w2}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,r,n;return{placeholder:(r=(e=this.renderChild.getArgument("placeholder"))==null?void 0:e.value)!=null?r:"New Entry...",limit:(n=this.renderChild.getArgument("limit"))==null?void 0:n.value}}};function E2(t,e,r){let n=t.slice();return n[9]=e[r],n[11]=r,n}function C2(t){let e;return{c(){e=Q("span"),e.textContent="Empty",U(e,"class","mb-list-empty")},m(r,n){se(r,e,n)},p:Oe,d(r){r&&ie(e)}}}function aq(t){let e,r=t[9]+"",n;return{c(){e=Q("span"),n=ze(r)},m(i,a){se(i,e,a),J(e,n)},p(i,a){a&1&&r!==(r=i[9]+"")&&Xe(n,r)},i:Oe,o:Oe,d(i){i&&ie(e)}}}function oq(t){let e,r,n;return r=new ef({props:{mdLink:Nu(`${t[9]}`)}}),{c(){e=Q("span"),rt(r.$$.fragment)},m(i,a){se(i,e,a),et(r,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=Nu(`${i[9]}`)),r.$set(o)},i(i){n||(De(r.$$.fragment,i),n=!0)},o(i){_e(r.$$.fragment,i),n=!1},d(i){i&&ie(e),tt(r)}}}function sq(t){let e,r;return e=new ni({props:{iconName:"x"}}),{c(){rt(e.$$.fragment)},m(n,i){et(e,n,i),r=!0},p:Oe,i(n){r||(De(e.$$.fragment,n),r=!0)},o(n){_e(e.$$.fragment,n),r=!1},d(n){tt(e,n)}}}function F2(t){let e,r,n,i,a,o,l,u,s=[oq,aq],c=[];function f(p,h){return h&1&&(r=null),r==null&&(r=!!tf(`${p[9]}`)),r?0:1}n=f(t,-1),i=c[n]=s[n](t);function m(){return t[8](t[11])}return o=new Dr({props:{$$slots:{default:[sq]},$$scope:{ctx:t}}}),o.$on("click",m),{c(){e=Q("div"),i.c(),a=Fe(),rt(o.$$.fragment),l=Fe(),U(e,"class","mb-list-item")},m(p,h){se(p,e,h),c[n].m(e,null),J(e,a),et(o,e,null),J(e,l),u=!0},p(p,h){t=p;let d=n;n=f(t,h),n===d?c[n].p(t,h):(er(),_e(c[d],1,1,()=>{c[d]=null}),tr(),i=c[n],i?i.p(t,h):(i=c[n]=s[n](t),i.c()),De(i,1),i.m(e,a));let g={};h&4096&&(g.$$scope={dirty:h,ctx:t}),o.$set(g)},i(p){u||(De(i),De(o.$$.fragment,p),u=!0)},o(p){_e(i),_e(o.$$.fragment,p),u=!1},d(p){p&&ie(e),c[n].d(),tt(o)}}}function uq(t){let e,r,n,i,a,o,l,u,s,c,f=nt(t[0]),m=[];for(let d=0;d<f.length;d+=1)m[d]=F2(E2(t,f,d));let p=d=>_e(m[d],1,1,()=>{m[d]=null}),h=null;return f.length||(h=C2(t)),l=new ni({props:{iconName:"list"}}),{c(){e=Q("div");for(let d=0;d<m.length;d+=1)m[d].c();h&&h.c(),r=Fe(),n=Q("div"),i=Q("div"),a=Q("div"),a.innerHTML="<span>Add Element...</span>",o=Fe(),rt(l.$$.fragment),U(e,"class","mb-list-items"),U(a,"class","mb-suggest-text"),U(i,"class","mb-suggest-input"),U(i,"role","button"),U(i,"tabindex","0"),U(n,"class","mb-list-input")},m(d,g){se(d,e,g);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(e,null);h&&h.m(e,null),se(d,r,g),se(d,n,g),J(n,i),J(i,a),J(i,o),et(l,i,null),u=!0,s||(c=[Me(i,"click",t[2]),Me(i,"keydown",t[3])],s=!0)},p(d,[g]){if(g&3){f=nt(d[0]);let v;for(v=0;v<f.length;v+=1){let E=E2(d,f,v);m[v]?(m[v].p(E,g),De(m[v],1)):(m[v]=F2(E),m[v].c(),De(m[v],1),m[v].m(e,null))}for(er(),v=f.length;v<m.length;v+=1)p(v);tr(),!f.length&&h?h.p(d,g):f.length?h&&(h.d(1),h=null):(h=C2(d),h.c(),h.m(e,null))}},i(d){if(!u){for(let g=0;g<f.length;g+=1)De(m[g]);De(l.$$.fragment,d),u=!0}},o(d){m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)_e(m[g]);_e(l.$$.fragment,d),u=!1},d(d){d&&(ie(e),ie(r),ie(n)),Bt(m,d),h&&h.d(),tt(l),s=!1,Ke(c)}}}function lq(t,e,r){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(m){r(0,n=m)}function l(m){n.push(m),r(0,n)}function u(m){n.splice(m,1),a(n),r(0,n)}function s(m){m.target instanceof HTMLAnchorElement||i()}function c(m){m.key===" "&&i()}let f=m=>u(m);return t.$$set=m=>{"value"in m&&r(0,n=m.value),"showSuggester"in m&&r(4,i=m.showSuggester),"onValueChange"in m&&r(5,a=m.onValueChange)},[n,u,s,c,i,a,o,l,f]}var ph=class extends Ie{constructor(e){super(),Re(this,e,lq,uq,ke,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},A2=ph;var mf=class extends Ot{constructor(e){super(e)}filterValue(e){return ps(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return A2}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){nf(this,e=>{let r=this.getInternalValue();r.push(e.value),this.setInternalValue(r)})}};function S2(t,e,r){let n=t.slice();return n[26]=e[r][0],n[27]=e[r][1],n}function N2(t,e,r){let n=t.slice();return n[23]=e[r],n}function _2(t,e,r){let n=t.slice();return n[23]=e[r],n}function M2(t,e,r){let n=t.slice();return n[26]=e[r][0],n[27]=e[r][1],n}function cq(t){let e,r,n,i,a,o=nt(Object.values(t[2])),l=[];for(let c=0;c<o.length;c+=1)l[c]=T2(N2(t,o,c));let u=nt(Object.entries(t[1])),s=[];for(let c=0;c<u.length;c+=1)s[c]=I2(S2(t,u,c));return{c(){e=Q("select");for(let c=0;c<l.length;c+=1)l[c].c();r=Fe(),n=Q("select");for(let c=0;c<s.length;c+=1)s[c].c();U(e,"class","dropdown mb-input-element-group-element"),t[5]===void 0&&cn(()=>t[16].call(e)),U(n,"class","dropdown mb-input-element-group-element"),t[4]===void 0&&cn(()=>t[18].call(n))},m(c,f){se(c,e,f);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);Hr(e,t[5],!0),se(c,r,f),se(c,n,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);Hr(n,t[4],!0),i||(a=[Me(e,"change",t[16]),Me(e,"change",t[17]),Me(n,"change",t[18]),Me(n,"change",t[19])],i=!0)},p(c,f){if(f[0]&4){o=nt(Object.values(c[2]));let m;for(m=0;m<o.length;m+=1){let p=N2(c,o,m);l[m]?l[m].p(p,f):(l[m]=T2(p),l[m].c(),l[m].m(e,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=o.length}if(f[0]&36&&Hr(e,c[5]),f[0]&2){u=nt(Object.entries(c[1]));let m;for(m=0;m<u.length;m+=1){let p=S2(c,u,m);s[m]?s[m].p(p,f):(s[m]=I2(p),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}f[0]&18&&Hr(n,c[4])},d(c){c&&(ie(e),ie(r),ie(n)),Bt(l,c),Bt(s,c),i=!1,Ke(a)}}}function fq(t){let e,r,n,i,a,o=nt(Object.entries(t[1])),l=[];for(let c=0;c<o.length;c+=1)l[c]=B2(M2(t,o,c));let u=nt(Object.values(t[2])),s=[];for(let c=0;c<u.length;c+=1)s[c]=O2(_2(t,u,c));return{c(){e=Q("select");for(let c=0;c<l.length;c+=1)l[c].c();r=Fe(),n=Q("select");for(let c=0;c<s.length;c+=1)s[c].c();U(e,"class","dropdown mb-input-element-group-element"),t[4]===void 0&&cn(()=>t[12].call(e)),U(n,"class","dropdown mb-input-element-group-element"),t[5]===void 0&&cn(()=>t[14].call(n))},m(c,f){se(c,e,f);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);Hr(e,t[4],!0),se(c,r,f),se(c,n,f);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);Hr(n,t[5],!0),i||(a=[Me(e,"change",t[12]),Me(e,"change",t[13]),Me(n,"change",t[14]),Me(n,"change",t[15])],i=!0)},p(c,f){if(f[0]&2){o=nt(Object.entries(c[1]));let m;for(m=0;m<o.length;m+=1){let p=M2(c,o,m);l[m]?l[m].p(p,f):(l[m]=B2(p),l[m].c(),l[m].m(e,null))}for(;m<l.length;m+=1)l[m].d(1);l.length=o.length}if(f[0]&18&&Hr(e,c[4]),f[0]&4){u=nt(Object.values(c[2]));let m;for(m=0;m<u.length;m+=1){let p=_2(c,u,m);s[m]?s[m].p(p,f):(s[m]=O2(p),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}f[0]&36&&Hr(n,c[5])},d(c){c&&(ie(e),ie(r),ie(n)),Bt(l,c),Bt(s,c),i=!1,Ke(a)}}}function T2(t){let e,r=t[23]+"",n,i;return{c(){e=Q("option"),n=ze(r),e.__value=i=t[23],Et(e,e.__value)},m(a,o){se(a,e,o),J(e,n)},p(a,o){o[0]&4&&r!==(r=a[23]+"")&&Xe(n,r),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Et(e,e.__value))},d(a){a&&ie(e)}}}function I2(t){let e,r=t[27]+"",n,i;return{c(){e=Q("option"),n=ze(r),e.__value=i=t[26],Et(e,e.__value)},m(a,o){se(a,e,o),J(e,n)},p(a,o){o[0]&2&&r!==(r=a[27]+"")&&Xe(n,r),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Et(e,e.__value))},d(a){a&&ie(e)}}}function B2(t){let e,r=t[27]+"",n,i;return{c(){e=Q("option"),n=ze(r),e.__value=i=t[26],Et(e,e.__value)},m(a,o){se(a,e,o),J(e,n)},p(a,o){o[0]&2&&r!==(r=a[27]+"")&&Xe(n,r),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Et(e,e.__value))},d(a){a&&ie(e)}}}function O2(t){let e,r=t[23]+"",n,i;return{c(){e=Q("option"),n=ze(r),e.__value=i=t[23],Et(e,e.__value)},m(a,o){se(a,e,o),J(e,n)},p(a,o){o[0]&4&&r!==(r=a[23]+"")&&Xe(n,r),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Et(e,e.__value))},d(a){a&&ie(e)}}}function mq(t){let e,r,n,i,a;function o(s,c){return s[0]?fq:cq}let l=o(t,[-1,-1]),u=l(t);return{c(){e=Q("div"),u.c(),r=Fe(),n=Q("input"),U(n,"class","mb-date-input-year-input mb-input-element-group-element"),U(n,"type","number"),U(n,"tabindex","0"),U(n,"max","9999"),U(n,"min","0"),U(e,"class","mb-input-element-group")},m(s,c){se(s,e,c),u.m(e,null),J(e,r),J(e,n),Et(n,t[3]),i||(a=[Me(n,"input",t[20]),Me(n,"input",t[21])],i=!0)},p(s,c){l===(l=o(s,c))&&u?u.p(s,c):(u.d(1),u=l(s),u&&(u.c(),u.m(e,r))),c[0]&8&&Bi(n.value)!==s[3]&&Et(n,s[3])},i:Oe,o:Oe,d(s){s&&ie(e),u.d(),i=!1,Ke(a)}}}function pq(t,e,r){let{value:n}=e,{useUsInputOrder:i}=e,{onValueChange:a}=e,o={},l={},u,s,c;Kr(()=>{r(1,o={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"});for(let F=1;F<=31;F++)r(2,l[F.toString()]=F.toString(),l);r(3,u=n.year().toString()),r(4,s=n.month().toString()),r(5,c=n.date().toString())});function f(F){r(9,n=F),r(3,u=n.year().toString()),r(4,s=n.month().toString()),r(5,c=n.date().toString())}function m(){let F=Number.parseInt(u),M=Number.isNaN(F)?en.getDefaultYear():F;n.year(M),a(n)}function p(){n.month(s);let F=d(n.date());n.date(F),r(5,c=F.toString()),a(n)}function h(){let F=Number.parseInt(c),M=d(F);n.date(M),r(5,c=M.toString()),a(n)}function d(F){return Number.isNaN(F)?en.getDefaultDay():F<1?1:F>n.daysInMonth()?n.daysInMonth():F}function g(){s=Oi(this),r(4,s),r(1,o)}let v=()=>p();function E(){c=Oi(this),r(5,c),r(2,l)}let y=()=>h();function D(){c=Oi(this),r(5,c),r(2,l)}let b=()=>h();function x(){s=Oi(this),r(4,s),r(1,o)}let C=()=>p();function A(){u=Bi(this.value),r(3,u)}let w=()=>m();return t.$$set=F=>{"value"in F&&r(9,n=F.value),"useUsInputOrder"in F&&r(0,i=F.useUsInputOrder),"onValueChange"in F&&r(10,a=F.onValueChange)},[i,o,l,u,s,c,m,p,h,n,a,f,g,v,E,y,D,b,x,C,A,w]}var dh=class extends Ie{constructor(e){super(),Re(this,e,pq,mq,ke,{value:9,useUsInputOrder:0,onValueChange:10,setValue:11},null,[-1,-1])}get setValue(){return this.$$.ctx[11]}},k2=dh;var pf=class extends Ot{constructor(e){super(e)}filterValue(e){return Ta(e)}getFallbackDefaultValue(){return en.getDefaultDate()}getSvelteComponent(){return k2}rawMapValue(e){return en.stringify(e)}rawReverseMapValue(e){return en.parse(e)}getMountArgs(){return{useUsInputOrder:this.renderChild.plugin.settings.useUsDateInputOrder}}};var hh=class{constructor(){this._hour=ii.getDefaultHour(),this._minute=ii.getDefaultHour()}getHour(){return this._hour}setHour(e){if(e<0||e>24){this._hour=ii.getDefaultHour();return}this._hour=e}getMinute(){return this._minute}setMinute(e){if(e<0||e>59){this._minute=ii.getDefaultMinute();return}this._minute=e}getUniformHour(){return this.getHour().toString().padStart(2,"0")}getUniformMinute(){return this.getMinute().toString().padStart(2,"0")}setHourFromString(e){let r=Number.parseInt(e);this.setHour(Number.isNaN(r)?ii.getDefaultHour():r)}setMinuteFromString(e){let r=Number.parseInt(e);this.setMinute(Number.isNaN(r)?ii.getDefaultMinute():r)}},ii=class t{static parse(e){if(!e)return;let r=t.getDefaultTime(),n=e.split(":");if(n.length===2)return r.setHourFromString(n[0]),r.setMinuteFromString(n[1]),r}static stringify(e){return`${e.getUniformHour()}:${e.getUniformMinute()}`}static getDefaultTime(){return new hh}static getDefaultHour(){return 0}static getDefaultMinute(){return 0}};function R2(t,e,r){let n=t.slice();return n[13]=e[r][0],n[14]=e[r][1],n}function P2(t,e,r){let n=t.slice();return n[17]=e[r][0],n[18]=e[r][1],n}function L2(t){let e,r=t[18]+"",n,i;return{c(){e=Q("option"),n=ze(r),e.__value=i=t[17],Et(e,e.__value)},m(a,o){se(a,e,o),J(e,n)},p(a,o){o&1&&r!==(r=a[18]+"")&&Xe(n,r),o&1&&i!==(i=a[17])&&(e.__value=i,Et(e,e.__value))},d(a){a&&ie(e)}}}function q2(t){let e,r=t[14]+"",n,i;return{c(){e=Q("option"),n=ze(r),e.__value=i=t[13],Et(e,e.__value)},m(a,o){se(a,e,o),J(e,n)},p(a,o){o&2&&r!==(r=a[14]+"")&&Xe(n,r),o&2&&i!==(i=a[13])&&(e.__value=i,Et(e,e.__value))},d(a){a&&ie(e)}}}function dq(t){let e,r,n,i,a,o,l=nt(Object.entries(t[0])),u=[];for(let f=0;f<l.length;f+=1)u[f]=L2(P2(t,l,f));let s=nt(Object.entries(t[1])),c=[];for(let f=0;f<s.length;f+=1)c[f]=q2(R2(t,s,f));return{c(){e=Q("div"),r=Q("select");for(let f=0;f<u.length;f+=1)u[f].c();n=Fe(),i=Q("select");for(let f=0;f<c.length;f+=1)c[f].c();U(r,"class","dropdown mb-input-element-group-element"),t[2]===void 0&&cn(()=>t[9].call(r)),U(i,"class","dropdown mb-input-element-group-element"),t[3]===void 0&&cn(()=>t[11].call(i)),U(e,"class","mb-input-element-group")},m(f,m){se(f,e,m),J(e,r);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null);Hr(r,t[2],!0),J(e,n),J(e,i);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(i,null);Hr(i,t[3],!0),a||(o=[Me(r,"change",t[9]),Me(r,"change",t[10]),Me(i,"change",t[11]),Me(i,"change",t[12])],a=!0)},p(f,[m]){if(m&1){l=nt(Object.entries(f[0]));let p;for(p=0;p<l.length;p+=1){let h=P2(f,l,p);u[p]?u[p].p(h,m):(u[p]=L2(h),u[p].c(),u[p].m(r,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=l.length}if(m&5&&Hr(r,f[2]),m&2){s=nt(Object.entries(f[1]));let p;for(p=0;p<s.length;p+=1){let h=R2(f,s,p);c[p]?c[p].p(h,m):(c[p]=q2(h),c[p].c(),c[p].m(i,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=s.length}m&10&&Hr(i,f[3])},i:Oe,o:Oe,d(f){f&&ie(e),Bt(u,f),Bt(c,f),a=!1,Ke(o)}}}function hq(t,e,r){let{value:n}=e,{onValueChange:i}=e,a={},o={},l,u;Kr(()=>{for(let g=0;g<=24;g++)r(0,a[g.toString()]=g.toString().padStart(2,"0"),a);for(let g=0;g<=59;g++)r(1,o[g.toString()]=g.toString().padStart(2,"0"),o);r(3,u=n.getMinute().toString()),r(2,l=n.getHour().toString())});function s(g){r(6,n=g),r(3,u=n.getMinute().toString()),r(2,l=n.getHour().toString())}function c(){n.setMinuteFromString(u),i(n)}function f(){n.setHourFromString(l),i(n)}function m(){l=Oi(this),r(2,l),r(0,a)}let p=()=>f();function h(){u=Oi(this),r(3,u),r(1,o)}let d=()=>c();return t.$$set=g=>{"value"in g&&r(6,n=g.value),"onValueChange"in g&&r(7,i=g.onValueChange)},[a,o,l,u,c,f,n,i,s,m,p,h,d]}var gh=class extends Ie{constructor(e){super(),Re(this,e,hq,dq,ke,{value:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},V2=gh;var df=class extends Ot{constructor(e){super(e)}filterValue(e){return Ta(e)}getFallbackDefaultValue(){return ii.getDefaultTime()}getSvelteComponent(){return V2}rawMapValue(e){return ii.stringify(e)}rawReverseMapValue(e){return ii.parse(e)}};var hf=class{constructor(e){this.plugin=e}createInputField(e,r,n){if(e!=="invalid"&&this.checkRenderChildTypeAllowed(e,r),e==="toggle")return new Yc(n);if(e==="slider")return new Xc(n);if(e==="text")return new Jc(n);if(e==="textArea")return new Fu(n);if(e==="text_area")return new Fu(n);if(e==="select")return new Qc(n);if(e==="multiSelect")return new Au(n);if(e==="multi_select")return new Au(n);if(e==="datePicker")return new Su(n);if(e==="date_picker")return new Su(n);if(e==="number")return new $c(n);if(e==="suggester")return new af(n);if(e==="editor")return new of(n);if(e==="progressBar")return new sf(n);if(e==="inlineSelect")return new uf(n);if(e==="imageSuggester")return new cf(n);if(e==="list")return new ff(n);if(e==="listSuggester")return new mf(n);if(e==="date")return new pf(n);if(e==="time")return new df(n)}checkRenderChildTypeAllowed(e,r){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=DE[e];if(r==="block"&&!n.allowInBlock)throw new $r({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[Ft.linkToInputField(e)]});if(r==="inline"&&!n.allowInline)throw new $r({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[Ft.linkToInputField(e)]})}};var gs=class{constructor(e){this.renderChild=e,this.hidden=!1}async render(e){var r,n;this.container=e,this.container.addClass("mb-view-text"),this.hidden=(n=(r=this.renderChild.getArgument("hidden"))==null?void 0:r.value)!=null?n:!1,this.hidden&&this.container.addClass("mb-view-hidden"),await this._render(e),await this.update(this.getDefaultDisplayValue())}async update(e){var r;if(this.container)try{let n=(r=e==null?void 0:e.toString())!=null?r:"";this.hidden||(this.container.empty(),await this._update(this.container,n)),this.container.removeClass("mb-error")}catch(n){n instanceof Error&&(this.container.innerText=n.message,this.container.addClass("mb-error"))}}};function sr(){return sr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sr.apply(this,arguments)}var vh={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function it(t){return typeof t=="number"}function $e(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function Cn(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function ia(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function nn(t){return t&&t.constructor.prototype.isUnit===!0||!1}function pr(t){return typeof t=="string"}var wt=Array.isArray;function Ge(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Fn(t){return Array.isArray(t)||Ge(t)}function xo(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Ei(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function vs(t){return t&&t.constructor.prototype.isRange===!0||!1}function Oa(t){return t&&t.constructor.prototype.isIndex===!0||!1}function U2(t){return typeof t=="boolean"}function z2(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function gf(t){return t&&t.constructor.prototype.isHelp===!0||!1}function W2(t){return typeof t=="function"}function H2(t){return t instanceof Date}function G2(t){return t instanceof RegExp}function Do(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Cn(t)&&!ia(t))}function j2(t){return t===null}function Z2(t){return t===void 0}function Gn(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function an(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function Y2(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function J2(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function X2(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function vt(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function Mu(t){return vt(t)||ar(t)&&t.args.length===1&&vt(t.args[0])&&"-+~".includes(t.op)}function Ui(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function An(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function ai(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function yt(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function ka(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function ar(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function on(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Q2(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function K2(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Zt(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function vf(t){return t&&t.constructor.prototype.isChain===!0||!1}function Dt(t){var e=typeof t;return e==="object"?t===null?"null":$e(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function Je(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return Je(r)});if(t instanceof Date)return new Date(t.valueOf());if($e(t))return t;if(Do(t))return gq(t,Je);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function gq(t,e){var r={};for(var n in t)je(t,n)&&(r[n]=e(t[n]));return r}function yf(t,e){for(var r in e)je(e,r)&&(t[r]=e[r]);return t}function Ci(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Ci(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Ci(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function $2(t,e,r){var n=!0,i;Object.defineProperty(t,e,{get:function(){return n&&(i=r(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function je(t,e){return t&&Object.hasOwnProperty.call(t,e)}function eA(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=t[i];a!==void 0&&(r[i]=a)}return r}var tA=["Matrix","Array"],rA=["number","BigNumber","Fraction"];var xe=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(vh)};sr(xe,vh,{MATRIX_OPTIONS:tA,NUMBER_OPTIONS:rA});var Ih=xr(xh(),1);function He(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var oi=Math.sign||function(t){return t>0?1:t<0?-1:0},nA=Math.log2||function(e){return Math.log(e)/Math.LN2},iA=Math.log10||function(e){return Math.log(e)/Math.LN10},bf=Math.log1p||function(t){return Math.log(t+1)},aA=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},oA=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Dh(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!He(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!He(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(i).concat(t.toString(e)).concat(a)}function Fi(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r="auto",n,i;if(e&&(e.notation&&(r=e.notation),it(e)?n=e:it(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return wh(t,n);case"exponential":return sA(t,n);case"engineering":return vq(t,n);case"bin":return Dh(t,2,i);case"oct":return Dh(t,8,i);case"hex":return Dh(t,16,i);case"auto":return yq(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function xf(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(l){return i-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function vq(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=xf(t),n=Df(r,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(it(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var l=Math.abs(i-o)-(a.length-1),u=0;u<l;u++)a.push(0);for(var s=Math.abs(i-o),c=1;s>0;)c++,s--;var f=a.slice(c).join(""),m=it(e)&&f.length||f.match(/[1-9]/)?"."+f:"",p=a.slice(0,c).join("")+m+"e"+(i>=0?"+":"")+o.toString();return n.sign+p}function wh(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=xf(t),n=typeof e=="number"?Df(r,r.exponent+1+e):r,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(ys(o-i.length))),a<0&&(i=ys(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function sA(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=xf(t),n=e?Df(r,e):r,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(ys(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function yq(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,i=r&&r.upperExp!==void 0?r.upperExp:5,a=xf(t),o=e?Df(a,e):a;if(o.exponent<n||o.exponent>=i)return sA(t,e);var l=o.coefficients,u=o.exponent;l.length<e&&(l=l.concat(ys(e-l.length))),l=l.concat(ys(u-l.length+1+(l.length<e?e-l.length:0))),l=ys(-u).concat(l);var s=u>0?u:0;return s<l.length-1&&l.splice(s+1,0,"."),o.sign+l.join("")}function Df(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function ys(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function uA(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var bq=Number.EPSILON||2220446049250313e-31;function Fr(t,e,r){if(r==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<=bq?!0:n<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}var lA=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},cA=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},fA=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},wf=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},mA=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},Ef=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function pA(t,e){var r=t>0?!0:t<0?!1:1/t===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-t:t}function Eh(t,e,r){var n=t.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!He(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function hA(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",n,i;if(e!==void 0&&(e.notation&&(r=e.notation),typeof e=="number"?n=e:e.precision!==void 0&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return Dq(t,n);case"exponential":return dA(t,n);case"engineering":return xq(t,n);case"bin":return Eh(t,2,i);case"oct":return Eh(t,8,i);case"hex":return Eh(t,16,i);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,o=e&&e.upperExp!==void 0?e.upperExp:5;if(t.isZero())return"0";var l,u=t.toSignificantDigits(n),s=u.e;return s>=a&&s<o?l=u.toFixed():l=dA(t,n),l.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function xq(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=t.constructor;a=new o(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function dA(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function Dq(t,e){return t.toFixed(e)}function vA(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function at(t,e){var r=wq(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function wq(t,e){if(typeof t=="number")return Fi(t,e);if($e(t))return hA(t,e);if(Eq(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return yA(t,e);if(pr(t))return wo(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>wo(n)+": "+at(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function wo(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);r+=i in gA?gA[i]:i,n++}return'"'+r+'"'}var gA={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Vr(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function yA(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=yA(t[i],e);return r+="]",r}else return at(t,e)}function Eq(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function Cf(t,e){if(!pr(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dt(t)+", index: 0)");if(!pr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dt(e)+", index: 1)");return t===e?0:t>e?1:-1}function ot(t,e,r){if(!(this instanceof ot))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ot.prototype=new RangeError;ot.prototype.constructor=RangeError;ot.prototype.name="DimensionError";ot.prototype.isDimensionError=!0;function sn(t,e,r){if(!(this instanceof sn))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}sn.prototype=new RangeError;sn.prototype.constructor=RangeError;sn.prototype.name="IndexError";sn.prototype.isIndexError=!0;function Qe(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function bA(t,e,r){var n,i=t.length;if(i!==e[r])throw new ot(i,e[r]);if(r<e.length-1){var a=r+1;for(n=0;n<i;n++){var o=t[n];if(!Array.isArray(o))throw new ot(e.length-1,e.length,"<");bA(t[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new ot(e.length+1,e.length,">")}function Fh(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new ot(t.length,0)}else bA(t,e,0)}function Tu(t,e){var r=t.isMatrix?t._size:Qe(t),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==r[a])throw new ot(i,r[a])})}function Pt(t,e){if(t!==void 0){if(!it(t)||!He(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new sn(t,e)}}function Eo(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&wt(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(pr(r)&&r.length===0)return!0}return!1}function Ai(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!it(i)||!He(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+at(e)+")")}),(it(t)||$e(t))&&(t=[t]);var n=r!==void 0?r:0;return Ch(t,e,0,n),t}function Ch(t,e,r,n){var i,a,o=t.length,l=e[r],u=Math.min(o,l);if(t.length=l,r<e.length-1){var s=r+1;for(i=0;i<u;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),Ch(a,e,s,n);for(i=u;i<l;i++)a=[],t[i]=a,Ch(a,e,s,n)}else{for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<l;i++)t[i]=n}}function Iu(t,e){var r=dt(t),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ot(0,n,"!=");e=Bu(e,n);var i=xA(e);if(n!==i)throw new ot(i,n,"!=");try{return Cq(r,e)}catch(a){throw a instanceof ot?new ot(i,n,"!="):a}}function Bu(t,e){var r=xA(t),n=t.slice(),i=-1,a=t.indexOf(i),o=t.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var l=a>=0,u=e%r===0;if(l)if(u)n[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function xA(t){return t.reduce((e,r)=>e*r,1)}function Cq(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=r.length/a,l=0;l<o;l++)n.push(r.slice(l*a,(l+1)*a));r=n}return r}function bs(t,e){for(var r=e||Qe(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=DA(t,n,0),r.length=n),t}function DA(t,e,r){var n,i;if(r<e){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=DA(t[n],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function Ff(t,e,r,n){var i=n||Qe(t);if(r)for(var a=0;a<r;a++)t=[t],i.unshift(1);for(t=wA(t,e,0);i.length<e;)i.push(1);return t}function wA(t,e,r){var n,i;if(Array.isArray(t)){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=wA(t[n],e,a)}else for(var o=r;o<e;o++)t=[t];return t}function dt(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function In(t,e){return Array.prototype.map.call(t,e)}function Ra(t,e){Array.prototype.forEach.call(t,e)}function Af(t,e){if(Qe(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function xs(t,e){if(Qe(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function Ah(t,e){return Array.prototype.join.call(t,e)}function aa(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function Ds(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function Pa(t,e){for(var r,n=0,i=0;i<t.length;i++){var a=t[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var l=o?Pa(a,e):e(a);if(r===void 0)r=l;else if(r!==l)return"mixed"}return r}function EA(t,e,r,n){if(n<r){if(t.length!==e.length)throw new ot(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=EA(t[a],e[a],r,n+1);return i}else return t.concat(e)}function Sh(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return EA(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function Fq(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(m=>m.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var l=e[o],u=n[o],s=0;s<u;s++){var c=i-u+s;l[s]>a[c]&&(a[c]=l[s])}for(var f=0;f<e.length;f++)Ou(e[f],a);return a}function Ou(t,e){for(var r=e.length,n=t.length,i=0;i<n;i++){var a=r-n+i;if(t[i]<e[a]&&t[i]>1||t[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[i]," to size ").concat(e[a]))}}function Nh(t,e){var r=Qe(t);if(Ci(r,e))return t;Ou(r,e);var n=Fq(r,e),i=n.length,a=[...Array(i-r.length).fill(1),...r],o=Sq(t);r.length<i&&(o=Iu(o,a),r=Qe(o));for(var l=0;l<i;l++)r[l]<n[l]&&(o=Aq(o,n[l],l),r=Qe(o));return o}function Aq(t,e,r){return Sh(...Array(e).fill(t),r)}function Sq(t){return sr([],t)}function S(t,e,r,n){function i(a){var o=eA(a,e.map(Mq));return Nq(t,e,a),r(o)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function Nq(t,e,r){var n=e.filter(a=>!_q(a)).every(a=>r[a]!==void 0);if(!n){var i=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function _q(t){return t&&t[0]==="?"}function Mq(t){return t&&t[0]==="?"?t.slice(1):t}function ur(t,e){if(SA(t)&&FA(t,e))return t[e];throw typeof t[e]=="function"&&Sf(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function zi(t,e,r){if(SA(t)&&FA(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function CA(t,e){return e in t}function FA(t,e){return!t||typeof t!="object"?!1:je(Tq,e)?!0:!(e in Object.prototype||e in Function.prototype)}function AA(t,e){if(!Sf(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function Sf(t,e){return t==null||typeof t[e]!="function"||je(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:je(Iq,e)?!0:!(e in Object.prototype||e in Function.prototype)}function SA(t){return typeof t=="object"&&t&&t.constructor===Object}var Tq={length:!0,name:!0},Iq={toString:!0,valueOf:!0,toLocaleString:!0};var ku=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return ur(this.wrappedObject,e)}set(e,r){return zi(this.wrappedObject,e,r),this}has(e){return CA(this.wrappedObject,e)}};function Wi(){return new Map}function oa(t){if(!t)return Wi();if(Nf(t))return t;if(Do(t))return new ku(t);throw new Error("createMap can create maps from objects or Maps")}function NA(t){if(t instanceof ku)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);zi(e,r,n)}return e}function Nf(t){return t?t instanceof Map||t instanceof ku||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function _h(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var i of r)if(i){if(Nf(i))for(var a of i.keys())t.set(a,i.get(a));else if(Do(i))for(var o of Object.keys(i))t.set(o,i[o])}return t}var _A=function(){return _A=Ih.default.create,Ih.default},Bq=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Bh=S("typed",Bq,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=e,o=_A();return o.clear(),o.addTypes([{name:"number",test:it},{name:"Complex",test:Cn},{name:"BigNumber",test:$e},{name:"Fraction",test:ia},{name:"Unit",test:nn},{name:"identifier",test:l=>pr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:pr},{name:"Chain",test:vf},{name:"Array",test:wt},{name:"Matrix",test:Ge},{name:"DenseMatrix",test:xo},{name:"SparseMatrix",test:Ei},{name:"Range",test:vs},{name:"Index",test:Oa},{name:"boolean",test:U2},{name:"ResultSet",test:z2},{name:"Help",test:gf},{name:"function",test:W2},{name:"Date",test:H2},{name:"RegExp",test:G2},{name:"null",test:j2},{name:"undefined",test:Z2},{name:"AccessorNode",test:Gn},{name:"ArrayNode",test:an},{name:"AssignmentNode",test:Y2},{name:"BlockNode",test:J2},{name:"ConditionalNode",test:X2},{name:"ConstantNode",test:vt},{name:"FunctionNode",test:An},{name:"FunctionAssignmentNode",test:Ui},{name:"IndexNode",test:ai},{name:"Node",test:yt},{name:"ObjectNode",test:ka},{name:"OperatorNode",test:ar},{name:"ParenthesisNode",test:on},{name:"RangeNode",test:Q2},{name:"RelationalNode",test:K2},{name:"SymbolNode",test:Zt},{name:"Map",test:Nf},{name:"Object",test:Do}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(r||Mh(u),uA(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new r(u)}},{from:"number",to:"Complex",convert:function(u){return n||_f(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||_f(u),new n(u.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||_f(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||Th(u);var s=new a(u);if(s.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(u){var s=Number(u);if(isNaN(s))throw new Error('Cannot convert "'+u+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(u){r||Mh(u);try{return new r(u)}catch(s){throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(u){a||Th(u);try{return new a(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||_f(u);try{return new n(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return r||Mh(u),new r(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||Th(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||Oq(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),o.onMismatch=(l,u,s)=>{var c=o.createError(l,u,s);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&Fn(u[0])&&s.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o.onMismatch=(l,u,s)=>{var c=o.createError(l,u,s);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&Fn(u[0])&&s.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o});function Mh(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function _f(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function Oq(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Th(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var kq="ResultSet",Rq=[],Oh=S(kq,Rq,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});var ws=9e15,Ua=1e9,kh="0123456789abcdef",Tf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",If="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Rh={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ws,maxE:ws,crypto:!1},BA,sa,bt=!0,Of="[DecimalError] ",Va=Of+"Invalid argument: ",OA=Of+"Precision limit exceeded",kA=Of+"crypto unavailable",RA="[object Decimal]",mn=Math.floor,Ur=Math.pow,Pq=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Lq=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,qq=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,PA=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ni=1e7,ht=7,Vq=9007199254740991,Uq=Tf.length-1,Ph=If.length-1,Te={toStringTag:RA};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),lt(t)};Te.ceil=function(){return lt(new this.constructor(this),this.e+1,2)};Te.clampedTo=Te.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Va+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,a=this,o=a.d,l=(t=new a.constructor(t)).d,u=a.s,s=t.s;if(!o||!l)return!u||!s?NaN:u!==s?u:o===l?0:!o^u<0?1:-1;if(!o[0]||!l[0])return o[0]?u:l[0]?-s:0;if(u!==s)return u;if(a.e!==t.e)return a.e>t.e^u<0?1:-1;for(n=o.length,i=l.length,e=0,r=n<i?n:i;e<r;++e)if(o[e]!==l[e])return o[e]>l[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};Te.cosine=Te.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ht,n.rounding=1,r=zq(n,zA(n,r)),n.precision=t,n.rounding=e,lt(sa==2||sa==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Te.cubeRoot=Te.cbrt=function(){var t,e,r,n,i,a,o,l,u,s,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(bt=!1,a=c.s*Ur(c.s*c,1/3),!a||Math.abs(a)==1/0?(r=un(c.d),t=c.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=Ur(r,1/3),t=mn((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new f(r),n.s=c.s):n=new f(a.toString()),o=(t=f.precision)+3;;)if(l=n,u=l.times(l).times(l),s=u.plus(c),n=lr(s.plus(c).times(l),s.plus(u),o+2,1),un(l.d).slice(0,o)===(r=un(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(lt(l,t+1,0),l.times(l).times(l).eq(c))){n=l;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(lt(n,t+1,1),e=!n.times(n).times(n).eq(c));break}return bt=!0,lt(n,t,f.rounding,e)};Te.decimalPlaces=Te.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-mn(this.e/ht))*ht,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Te.dividedBy=Te.div=function(t){return lr(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.divToInt=function(t){var e=this,r=e.constructor;return lt(lr(e,new r(t),0,1,1),r.precision,r.rounding)};Te.equals=Te.eq=function(t){return this.cmp(t)===0};Te.floor=function(){return lt(new this.constructor(this),this.e+1,3)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){var e=this.cmp(t);return e==1||e===0};Te.hyperbolicCosine=Te.cosh=function(){var t,e,r,n,i,a=this,o=a.constructor,l=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return l;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),e=(1/Rf(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=Es(o,1,a.times(e),new o(1),!0);for(var u,s=t,c=new o(8);s--;)u=a.times(a),a=l.minus(u.times(c.minus(u.times(c))));return lt(a,o.precision=r,o.rounding=n,!0)};Te.hyperbolicSine=Te.sinh=function(){var t,e,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Es(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/Rf(5,t)),i=Es(a,2,i,i,!0);for(var o,l=new a(5),u=new a(16),s=new a(20);t--;)o=i.times(i),i=i.times(l.plus(o.times(u.times(o).plus(s))))}return a.precision=e,a.rounding=r,lt(i,e,r,!0)};Te.hyperbolicTangent=Te.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,lr(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Te.inverseCosine=Te.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,a=r.rounding;return n!==-1?n===0?e.isNeg()?Si(r,i,a):new r(0):new r(NaN):e.isZero()?Si(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=Si(r,i+4,a).times(.5),r.precision=i,r.rounding=a,t.minus(e))};Te.inverseHyperbolicCosine=Te.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,bt=!1,r=r.times(r).minus(1).sqrt().plus(r),bt=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Te.inverseHyperbolicSine=Te.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,bt=!1,r=r.times(r).plus(1).sqrt().plus(r),bt=!0,n.precision=t,n.rounding=e,r.ln())};Te.inverseHyperbolicTangent=Te.atanh=function(){var t,e,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?lt(new a(i),t,e,!0):(a.precision=r=n-i.e,i=lr(i.plus(1),new a(1).minus(i),r+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)};Te.inverseSine=Te.asin=function(){var t,e,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),r=a.precision,n=a.rounding,e!==-1?e===0?(t=Si(a,r+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};Te.inverseTangent=Te.atan=function(){var t,e,r,n,i,a,o,l,u,s=this,c=s.constructor,f=c.precision,m=c.rounding;if(s.isFinite()){if(s.isZero())return new c(s);if(s.abs().eq(1)&&f+4<=Ph)return o=Si(c,f+4,m).times(.25),o.s=s.s,o}else{if(!s.s)return new c(NaN);if(f+4<=Ph)return o=Si(c,f+4,m).times(.5),o.s=s.s,o}for(c.precision=l=f+10,c.rounding=1,r=Math.min(28,l/ht+2|0),t=r;t;--t)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(bt=!1,e=Math.ceil(l/ht),n=1,u=s.times(s),o=new c(s),i=s;t!==-1;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===a.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),bt=!0,lt(o,c.precision=f,c.rounding=m,!0)};Te.isFinite=function(){return!!this.d};Te.isInteger=Te.isInt=function(){return!!this.d&&mn(this.e/ht)>this.d.length-2};Te.isNaN=function(){return!this.s};Te.isNegative=Te.isNeg=function(){return this.s<0};Te.isPositive=Te.isPos=function(){return this.s>0};Te.isZero=function(){return!!this.d&&this.d[0]===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r,n,i,a,o,l,u,s=this,c=s.constructor,f=c.precision,m=c.rounding,p=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(r=s.d,s.s<0||!r||!r[0]||s.eq(1))return new c(r&&!r[0]?-1/0:s.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(bt=!1,l=f+p,o=qa(s,l),n=e?Bf(c,l+10):qa(t,l),u=lr(o,n,l,1),Ru(u.d,i=f,m))do if(l+=10,o=qa(s,l),n=e?Bf(c,l+10):qa(t,l),u=lr(o,n,l,1),!a){+un(u.d).slice(i+1,i+15)+1==1e14&&(u=lt(u,f+1,0));break}while(Ru(u.d,i+=10,m));return bt=!0,lt(u,f,m)};Te.minus=Te.sub=function(t){var e,r,n,i,a,o,l,u,s,c,f,m,p=this,h=p.constructor;if(t=new h(t),!p.d||!t.d)return!p.s||!t.s?t=new h(NaN):p.d?t.s=-t.s:t=new h(t.d||p.s!==t.s?p:NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(s=p.d,m=t.d,l=h.precision,u=h.rounding,!s[0]||!m[0]){if(m[0])t.s=-t.s;else if(s[0])t=new h(p);else return new h(u===3?-0:0);return bt?lt(t,l,u):t}if(r=mn(t.e/ht),c=mn(p.e/ht),s=s.slice(),a=c-r,a){for(f=a<0,f?(e=s,a=-a,o=m.length):(e=m,r=c,o=s.length),n=Math.max(Math.ceil(l/ht),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=s.length,o=m.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(s[n]!=m[n]){f=s[n]<m[n];break}a=0}for(f&&(e=s,s=m,m=e,t.s=-t.s),o=s.length,n=m.length-o;n>0;--n)s[o++]=0;for(n=m.length;n>a;){if(s[--n]<m[n]){for(i=n;i&&s[--i]===0;)s[i]=Ni-1;--s[i],s[n]+=Ni}s[n]-=m[n]}for(;s[--o]===0;)s.pop();for(;s[0]===0;s.shift())--r;return s[0]?(t.d=s,t.e=kf(s,r),bt?lt(t,l,u):t):new h(u===3?-0:0)};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?lt(new n(r),n.precision,n.rounding):(bt=!1,n.modulo==9?(e=lr(r,t.abs(),0,3,1),e.s*=t.s):e=lr(r,t,0,n.modulo,1),e=e.times(t),bt=!0,r.minus(e))};Te.naturalExponential=Te.exp=function(){return Lh(this)};Te.naturalLogarithm=Te.ln=function(){return qa(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s,lt(t)};Te.plus=Te.add=function(t){var e,r,n,i,a,o,l,u,s,c,f=this,m=f.constructor;if(t=new m(t),!f.d||!t.d)return!f.s||!t.s?t=new m(NaN):f.d||(t=new m(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(s=f.d,c=t.d,l=m.precision,u=m.rounding,!s[0]||!c[0])return c[0]||(t=new m(f)),bt?lt(t,l,u):t;if(a=mn(f.e/ht),n=mn(t.e/ht),s=s.slice(),i=a-n,i){for(i<0?(r=s,i=-i,o=c.length):(r=c,n=a,o=s.length),a=Math.ceil(l/ht),o=a>o?a+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=s.length,i=c.length,o-i<0&&(i=o,r=c,c=s,s=r),e=0;i;)e=(s[--i]=s[i]+c[i]+e)/Ni|0,s[i]%=Ni;for(e&&(s.unshift(e),++n),o=s.length;s[--o]==0;)s.pop();return t.d=s,t.e=kf(s,n),bt?lt(t,l,u):t};Te.precision=Te.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Va+t);return r.d?(e=LA(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Te.round=function(){var t=this,e=t.constructor;return lt(new e(t),t.e+1,e.rounding)};Te.sine=Te.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ht,n.rounding=1,r=Hq(n,zA(n,r)),n.precision=t,n.rounding=e,lt(sa>2?r.neg():r,t,e,!0)):new n(NaN)};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,a,o=this,l=o.d,u=o.e,s=o.s,c=o.constructor;if(s!==1||!l||!l[0])return new c(!s||s<0&&(!l||l[0])?NaN:l?o:1/0);for(bt=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=un(l),(e.length+u)%2==0&&(e+="0"),s=Math.sqrt(e),u=mn((u+1)/2)-(u<0||u%2),s==1/0?e="5e"+u:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new c(e)):n=new c(s.toString()),r=(u=c.precision)+3;;)if(a=n,n=a.plus(lr(o,a,r+2,1)).times(.5),un(a.d).slice(0,r)===(e=un(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(lt(a,u+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(lt(n,u+1,1),t=!n.times(n).eq(o));break}return bt=!0,lt(n,u,c.rounding,t)};Te.tangent=Te.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=lr(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,lt(sa==2||sa==4?r.neg():r,t,e,!0)):new n(NaN)};Te.times=Te.mul=function(t){var e,r,n,i,a,o,l,u,s,c=this,f=c.constructor,m=c.d,p=(t=new f(t)).d;if(t.s*=c.s,!m||!m[0]||!p||!p[0])return new f(!t.s||m&&!m[0]&&!p||p&&!p[0]&&!m?NaN:!m||!p?t.s/0:t.s*0);for(r=mn(c.e/ht)+mn(t.e/ht),u=m.length,s=p.length,u<s&&(a=m,m=p,p=a,o=u,u=s,s=o),a=[],o=u+s,n=o;n--;)a.push(0);for(n=s;--n>=0;){for(e=0,i=u+n;i>n;)l=a[i]+p[n]*m[i-n-1]+e,a[i--]=l%Ni|0,e=l/Ni|0;a[i]=(a[i]+e)%Ni|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=kf(a,r),bt?lt(t,f.precision,f.rounding):t};Te.toBinary=function(t,e){return Vh(this,2,t,e)};Te.toDecimalPlaces=Te.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Bn(t,0,Ua),e===void 0?e=n.rounding:Bn(e,0,8),lt(r,t+r.e+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Hi(n,!0):(Bn(t,0,Ua),e===void 0?e=i.rounding:Bn(e,0,8),n=lt(new i(n),t+1,e),r=Hi(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Te.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?r=Hi(i):(Bn(t,0,Ua),e===void 0?e=a.rounding:Bn(e,0,8),n=lt(new a(i),t+i.e+1,e),r=Hi(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Te.toFraction=function(t){var e,r,n,i,a,o,l,u,s,c,f,m,p=this,h=p.d,d=p.constructor;if(!h)return new d(p);if(s=r=new d(1),n=u=new d(0),e=new d(n),a=e.e=LA(h)-p.e-1,o=a%ht,e.d[0]=Ur(10,o<0?ht+o:o),t==null)t=a>0?e:s;else{if(l=new d(t),!l.isInt()||l.lt(s))throw Error(Va+l);t=l.gt(e)?a>0?e:s:l}for(bt=!1,l=new d(un(h)),c=d.precision,d.precision=a=h.length*ht*2;f=lr(l,e,0,1,1),i=r.plus(f.times(n)),i.cmp(t)!=1;)r=n,n=i,i=s,s=u.plus(f.times(i)),u=i,i=e,e=l.minus(f.times(i)),l=i;return i=lr(t.minus(r),n,0,1,1),u=u.plus(i.times(s)),r=r.plus(i.times(n)),u.s=s.s=p.s,m=lr(s,n,a,1).minus(p).abs().cmp(lr(u,r,a,1).minus(p).abs())<1?[s,n]:[u,r],d.precision=c,bt=!0,m};Te.toHexadecimal=Te.toHex=function(t,e){return Vh(this,16,t,e)};Te.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Bn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(bt=!1,r=lr(r,t,0,e,1).times(t),bt=!0,lt(r)):(t.s=r.s,r=t),r};Te.toNumber=function(){return+this};Te.toOctal=function(t,e){return Vh(this,8,t,e)};Te.toPower=Te.pow=function(t){var e,r,n,i,a,o,l=this,u=l.constructor,s=+(t=new u(t));if(!l.d||!t.d||!l.d[0]||!t.d[0])return new u(Ur(+l,s));if(l=new u(l),l.eq(1))return l;if(n=u.precision,a=u.rounding,t.eq(1))return lt(l,n,a);if(e=mn(t.e/ht),e>=t.d.length-1&&(r=s<0?-s:s)<=Vq)return i=qA(u,l,r,n),t.s<0?new u(1).div(i):lt(i,n,a);if(o=l.s,o<0){if(e<t.d.length-1)return new u(NaN);if(t.d[e]&1||(o=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=o,l}return r=Ur(+l,s),e=r==0||!isFinite(r)?mn(s*(Math.log("0."+un(l.d))/Math.LN10+l.e+1)):new u(r+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(bt=!1,u.rounding=l.s=1,r=Math.min(12,(e+"").length),i=Lh(t.times(qa(l,n+r)),n),i.d&&(i=lt(i,n+5,1),Ru(i.d,n,a)&&(e=n+10,i=lt(Lh(t.times(qa(l,e+r)),e),e+5,1),+un(i.d).slice(n+1,n+15)+1==1e14&&(i=lt(i,n+1,0)))),i.s=o,bt=!0,u.rounding=a,lt(i,n,a))};Te.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Hi(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Bn(t,1,Ua),e===void 0?e=i.rounding:Bn(e,0,8),n=lt(new i(n),t,e),r=Hi(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Te.toSignificantDigits=Te.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Bn(t,1,Ua),e===void 0?e=n.rounding:Bn(e,0,8)),lt(new n(r),t,e)};Te.toString=function(){var t=this,e=t.constructor,r=Hi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Te.truncated=Te.trunc=function(){return lt(new this.constructor(this),this.e+1,1)};Te.valueOf=Te.toJSON=function(){var t=this,e=t.constructor,r=Hi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function un(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=ht-n.length,r&&(a+=La(r)),a+=n;o=t[e],n=o+"",r=ht-n.length,r&&(a+=La(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Bn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Va+t)}function Ru(t,e,r,n){var i,a,o,l;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=ht,i=0):(i=Math.ceil((e+1)/ht),e%=ht),a=Ur(10,ht-e),l=t[i]%a|0,n==null?e<3?(e==0?l=l/100|0:e==1&&(l=l/10|0),o=r<4&&l==99999||r>3&&l==49999||l==5e4||l==0):o=(r<4&&l+1==a||r>3&&l+1==a/2)&&(t[i+1]/a/100|0)==Ur(10,e-2)-1||(l==a/2||l==0)&&(t[i+1]/a/100|0)==0:e<4?(e==0?l=l/1e3|0:e==1?l=l/100|0:e==2&&(l=l/10|0),o=(n||r<4)&&l==9999||!n&&r>3&&l==4999):o=((n||r<4)&&l+1==a||!n&&r>3&&l+1==a/2)&&(t[i+1]/a/1e3|0)==Ur(10,e-3)-1,o}function Mf(t,e,r){for(var n,i=[0],a,o=0,l=t.length;o<l;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=kh.indexOf(t.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function zq(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/Rf(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Es(t,1,e.times(i),new t(1));for(var a=r;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var lr=function(){function t(n,i,a){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%a|0,l=o/a|0;return l&&n.unshift(l),n}function e(n,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function r(n,i,a,o){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,l,u){var s,c,f,m,p,h,d,g,v,E,y,D,b,x,C,A,w,F,M,B,k=n.constructor,R=n.s==i.s?1:-1,P=n.d,T=i.d;if(!P||!P[0]||!T||!T[0])return new k(!n.s||!i.s||(P?T&&P[0]==T[0]:!T)?NaN:P&&P[0]==0||!T?R*0:R/0);for(u?(p=1,c=n.e-i.e):(u=Ni,p=ht,c=mn(n.e/p)-mn(i.e/p)),M=T.length,w=P.length,v=new k(R),E=v.d=[],f=0;T[f]==(P[f]||0);f++);if(T[f]>(P[f]||0)&&c--,a==null?(x=a=k.precision,o=k.rounding):l?x=a+(n.e-i.e)+1:x=a,x<0)E.push(1),h=!0;else{if(x=x/p+2|0,f=0,M==1){for(m=0,T=T[0],x++;(f<w||m)&&x--;f++)C=m*u+(P[f]||0),E[f]=C/T|0,m=C%T|0;h=m||f<w}else{for(m=u/(T[0]+1)|0,m>1&&(T=t(T,m,u),P=t(P,m,u),M=T.length,w=P.length),A=M,y=P.slice(0,M),D=y.length;D<M;)y[D++]=0;B=T.slice(),B.unshift(0),F=T[0],T[1]>=u/2&&++F;do m=0,s=e(T,y,M,D),s<0?(b=y[0],M!=D&&(b=b*u+(y[1]||0)),m=b/F|0,m>1?(m>=u&&(m=u-1),d=t(T,m,u),g=d.length,D=y.length,s=e(d,y,g,D),s==1&&(m--,r(d,M<g?B:T,g,u))):(m==0&&(s=m=1),d=T.slice()),g=d.length,g<D&&d.unshift(0),r(y,d,D,u),s==-1&&(D=y.length,s=e(T,y,M,D),s<1&&(m++,r(y,M<D?B:T,D,u))),D=y.length):s===0&&(m++,y=[0]),E[f++]=m,s&&y[0]?y[D++]=P[A]||0:(y=[P[A]],D=1);while((A++<w||y[0]!==void 0)&&x--);h=y[0]!==void 0}E[0]||E.shift()}if(p==1)v.e=c,BA=h;else{for(f=1,m=E[0];m>=10;m/=10)f++;v.e=f+c*p-1,lt(v,l?a+v.e+1:a,o,h)}return v}}();function lt(t,e,r,n){var i,a,o,l,u,s,c,f,m,p=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(i=1,l=f[0];l>=10;l/=10)i++;if(a=e-i,a<0)a+=ht,o=e,c=f[m=0],u=c/Ur(10,i-o-1)%10|0;else if(m=Math.ceil((a+1)/ht),l=f.length,m>=l)if(n){for(;l++<=m;)f.push(0);c=u=0,i=1,a%=ht,o=a-ht+1}else break e;else{for(c=l=f[m],i=1;l>=10;l/=10)i++;a%=ht,o=a-ht+i,u=o<0?0:c/Ur(10,i-o-1)%10|0}if(n=n||e<0||f[m+1]!==void 0||(o<0?c:c%Ur(10,i-o-1)),s=r<4?(u||n)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||n||r==6&&(a>0?o>0?c/Ur(10,i-o):0:f[m-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,s?(e-=t.e+1,f[0]=Ur(10,(ht-e%ht)%ht),t.e=-e||0):f[0]=t.e=0,t;if(a==0?(f.length=m,l=1,m--):(f.length=m+1,l=Ur(10,ht-a),f[m]=o>0?(c/Ur(10,i-o)%Ur(10,o)|0)*l:0),s)for(;;)if(m==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=l,l=1;o>=10;o/=10)l++;a!=l&&(t.e++,f[0]==Ni&&(f[0]=1));break}else{if(f[m]+=l,f[m]!=Ni)break;f[m--]=0,l=1}for(a=f.length;f[--a]===0;)f.pop()}return bt&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function Hi(t,e,r){if(!t.isFinite())return UA(t);var n,i=t.e,a=un(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+La(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+La(-i-1)+a,r&&(n=r-o)>0&&(a+=La(n))):i>=o?(a+=La(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+La(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=La(n))),a}function kf(t,e){var r=t[0];for(e*=ht;r>=10;r/=10)e++;return e}function Bf(t,e,r){if(e>Uq)throw bt=!0,r&&(t.precision=r),Error(OA);return lt(new t(Tf),e,1,!0)}function Si(t,e,r){if(e>Ph)throw Error(OA);return lt(new t(If),e,r,!0)}function LA(t){var e=t.length-1,r=e*ht+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function La(t){for(var e="";t--;)e+="0";return e}function qA(t,e,r,n){var i,a=new t(1),o=Math.ceil(n/ht+4);for(bt=!1;;){if(r%2&&(a=a.times(e),TA(a.d,o)&&(i=!0)),r=mn(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}e=e.times(e),TA(e.d,o)}return bt=!0,a}function MA(t){return t.d[t.d.length-1]&1}function VA(t,e,r){for(var n,i=new t(e[0]),a=0;++a<e.length;)if(n=new t(e[a]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function Lh(t,e){var r,n,i,a,o,l,u,s=0,c=0,f=0,m=t.constructor,p=m.rounding,h=m.precision;if(!t.d||!t.d[0]||t.e>17)return new m(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(bt=!1,u=h):u=e,l=new m(.03125);t.e>-2;)t=t.times(l),f+=5;for(n=Math.log(Ur(2,f))/Math.LN10*2+5|0,u+=n,r=a=o=new m(1),m.precision=u;;){if(a=lt(a.times(t),u,1),r=r.times(++c),l=o.plus(lr(a,r,u,1)),un(l.d).slice(0,u)===un(o.d).slice(0,u)){for(i=f;i--;)o=lt(o.times(o),u,1);if(e==null)if(s<3&&Ru(o.d,u-n,p,s))m.precision=u+=10,r=a=l=new m(1),c=0,s++;else return lt(o,m.precision=h,p,bt=!0);else return m.precision=h,o}o=l}}function qa(t,e){var r,n,i,a,o,l,u,s,c,f,m,p=1,h=10,d=t,g=d.d,v=d.constructor,E=v.rounding,y=v.precision;if(d.s<0||!g||!g[0]||!d.e&&g[0]==1&&g.length==1)return new v(g&&!g[0]?-1/0:d.s!=1?NaN:g?0:d);if(e==null?(bt=!1,c=y):c=e,v.precision=c+=h,r=un(g),n=r.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(t),r=un(d.d),n=r.charAt(0),p++;a=d.e,n>1?(d=new v("0."+r),a++):d=new v(n+"."+r.slice(1))}else return s=Bf(v,c+2,y).times(a+""),d=qa(new v(n+"."+r.slice(1)),c-h).plus(s),v.precision=y,e==null?lt(d,y,E,bt=!0):d;for(f=d,u=o=d=lr(d.minus(1),d.plus(1),c,1),m=lt(d.times(d),c,1),i=3;;){if(o=lt(o.times(m),c,1),s=u.plus(lr(o,new v(i),c,1)),un(s.d).slice(0,c)===un(u.d).slice(0,c))if(u=u.times(2),a!==0&&(u=u.plus(Bf(v,c+2,y).times(a+""))),u=lr(u,new v(p),c,1),e==null)if(Ru(u.d,c-h,E,l))v.precision=c+=h,s=o=d=lr(f.minus(1),f.plus(1),c,1),m=lt(d.times(d),c,1),i=l=1;else return lt(u,v.precision=y,E,bt=!0);else return v.precision=y,u;u=s,i+=2}}function UA(t){return String(t.s*t.s/0)}function qh(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%ht,r<0&&(n+=ht),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ht;n<i;)t.d.push(+e.slice(n,n+=ht));e=e.slice(n),n=ht-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),bt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Wq(t,e){var r,n,i,a,o,l,u,s,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),PA.test(e))return qh(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Lq.test(e))r=16,e=e.toLowerCase();else if(Pq.test(e))r=2;else if(qq.test(e))r=8;else throw Error(Va+e);for(a=e.search(/p/i),a>0?(u=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=t.constructor,o&&(e=e.replace(".",""),l=e.length,a=l-a,i=qA(n,new n(r),a,a*2)),s=Mf(e,r,Ni),c=s.length-1,a=c;s[a]===0;--a)s.pop();return a<0?new n(t.s*0):(t.e=kf(s,c),t.d=s,bt=!1,o&&(t=lr(t,i,l*4)),u&&(t=t.times(Math.abs(u)<54?Ur(2,u):Pu.pow(2,u))),bt=!0,t)}function Hq(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Es(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/Rf(5,r)),e=Es(t,2,e,e);for(var i,a=new t(5),o=new t(16),l=new t(20);r--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(l))));return e}function Es(t,e,r,n,i){var a,o,l,u,s=1,c=t.precision,f=Math.ceil(c/ht);for(bt=!1,u=r.times(r),l=new t(n);;){if(o=lr(l.times(u),new t(e++*e++),c,1),l=i?n.plus(o):n.minus(o),n=lr(o.times(u),new t(e++*e++),c,1),o=l.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=n,n=o,o=a,s++}return bt=!0,o.d.length=f+1,o}function Rf(t,e){for(var r=t;--e;)r*=t;return r}function zA(t,e){var r,n=e.s<0,i=Si(t,t.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return sa=n?4:1,e;if(r=e.divToInt(i),r.isZero())sa=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(a))return sa=MA(r)?n?2:3:n?4:1,e;sa=MA(r)?n?1:4:n?3:2}return e.minus(i).abs()}function Vh(t,e,r,n){var i,a,o,l,u,s,c,f,m,p=t.constructor,h=r!==void 0;if(h?(Bn(r,1,Ua),n===void 0?n=p.rounding:Bn(n,0,8)):(r=p.precision,n=p.rounding),!t.isFinite())c=UA(t);else{for(c=Hi(t),o=c.indexOf("."),h?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,o>=0&&(c=c.replace(".",""),m=new p(1),m.e=c.length-o,m.d=Mf(Hi(m),10,i),m.e=m.d.length),f=Mf(c,10,i),a=u=f.length;f[--u]==0;)f.pop();if(!f[0])c=h?"0p+0":"0";else{if(o<0?a--:(t=new p(t),t.d=f,t.e=a,t=lr(t,m,r,n,0,i),f=t.d,a=t.e,s=BA),o=f[r],l=i/2,s=s||f[r+1]!==void 0,s=n<4?(o!==void 0||s)&&(n===0||n===(t.s<0?3:2)):o>l||o===l&&(n===4||s||n===6&&f[r-1]&1||n===(t.s<0?8:7)),f.length=r,s)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,c="";o<u;o++)c+=kh.charAt(f[o]);if(h){if(u>1)if(e==16||e==8){for(o=e==16?4:3,--u;u%o;u++)c+="0";for(f=Mf(c,i,e),u=f.length;!f[u-1];--u);for(o=1,c="1.";o<u;o++)c+=kh.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function TA(t,e){if(t.length>e)return t.length=e,!0}function Gq(t){return new this(t).abs()}function jq(t){return new this(t).acos()}function Zq(t){return new this(t).acosh()}function Yq(t,e){return new this(t).plus(e)}function Jq(t){return new this(t).asin()}function Xq(t){return new this(t).asinh()}function Qq(t){return new this(t).atan()}function Kq(t){return new this(t).atanh()}function $q(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,a=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=Si(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?Si(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=Si(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(lr(t,e,a,1)),e=Si(this,a,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(lr(t,e,a,1)),r}function eV(t){return new this(t).cbrt()}function tV(t){return lt(t=new this(t),t.e+1,2)}function rV(t,e,r){return new this(t).clamp(e,r)}function nV(t){if(!t||typeof t!="object")throw Error(Of+"Object expected");var e,r,n,i=t.defaults===!0,a=["precision",1,Ua,"rounding",0,8,"toExpNeg",-ws,0,"toExpPos",0,ws,"maxE",0,ws,"minE",-ws,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],i&&(this[r]=Rh[r]),(n=t[r])!==void 0)if(mn(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Va+r+": "+n);if(r="crypto",i&&(this[r]=Rh[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(kA);else this[r]=!1;else throw Error(Va+r+": "+n);return this}function iV(t){return new this(t).cos()}function aV(t){return new this(t).cosh()}function WA(t){var e,r,n;function i(a){var o,l,u,s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,IA(a)){s.s=a.s,bt?!a.d||a.e>i.maxE?(s.e=NaN,s.d=null):a.e<i.minE?(s.e=0,s.d=[0]):(s.e=a.e,s.d=a.d.slice()):(s.e=a.e,s.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){s.s=1/a<0?-1:1,s.e=0,s.d=[0];return}if(a<0?(a=-a,s.s=-1):s.s=1,a===~~a&&a<1e7){for(o=0,l=a;l>=10;l/=10)o++;bt?o>i.maxE?(s.e=NaN,s.d=null):o<i.minE?(s.e=0,s.d=[0]):(s.e=o,s.d=[a]):(s.e=o,s.d=[a]);return}else if(a*0!==0){a||(s.s=NaN),s.e=NaN,s.d=null;return}return qh(s,a.toString())}else if(u!=="string")throw Error(Va+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),s.s=-1):(l===43&&(a=a.slice(1)),s.s=1),PA.test(a)?qh(s,a):Wq(s,a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=nV,i.clone=WA,i.isDecimal=IA,i.abs=Gq,i.acos=jq,i.acosh=Zq,i.add=Yq,i.asin=Jq,i.asinh=Xq,i.atan=Qq,i.atanh=Kq,i.atan2=$q,i.cbrt=eV,i.ceil=tV,i.clamp=rV,i.cos=iV,i.cosh=aV,i.div=oV,i.exp=sV,i.floor=uV,i.hypot=lV,i.ln=cV,i.log=fV,i.log10=pV,i.log2=mV,i.max=dV,i.min=hV,i.mod=gV,i.mul=vV,i.pow=yV,i.random=bV,i.round=xV,i.sign=DV,i.sin=wV,i.sinh=EV,i.sqrt=CV,i.sub=FV,i.sum=AV,i.tan=SV,i.tanh=NV,i.trunc=_V,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function oV(t,e){return new this(t).div(e)}function sV(t){return new this(t).exp()}function uV(t){return lt(t=new this(t),t.e+1,3)}function lV(){var t,e,r=new this(0);for(bt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return bt=!0,new this(1/0);r=e}return bt=!0,r.sqrt()}function IA(t){return t instanceof Pu||t&&t.toStringTag===RA||!1}function cV(t){return new this(t).ln()}function fV(t,e){return new this(t).log(e)}function mV(t){return new this(t).log(2)}function pV(t){return new this(t).log(10)}function dV(){return VA(this,arguments,"lt")}function hV(){return VA(this,arguments,"gt")}function gV(t,e){return new this(t).mod(e)}function vV(t,e){return new this(t).mul(e)}function yV(t,e){return new this(t).pow(e)}function bV(t){var e,r,n,i,a=0,o=new this(1),l=[];if(t===void 0?t=this.precision:Bn(t,1,Ua),n=Math.ceil(t/ht),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(l.push(i%1e7),a+=4);a=n/4}else throw Error(kA);else for(;a<n;)l[a++]=Math.random()*1e7|0;for(n=l[--a],t%=ht,n&&t&&(i=Ur(10,ht-t),l[a]=(n/i|0)*i);l[a]===0;a--)l.pop();if(a<0)r=0,l=[0];else{for(r=-1;l[0]===0;r-=ht)l.shift();for(n=1,i=l[0];i>=10;i/=10)n++;n<ht&&(r-=ht-n)}return o.e=r,o.d=l,o}function xV(t){return lt(t=new this(t),t.e+1,this.rounding)}function DV(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function wV(t){return new this(t).sin()}function EV(t){return new this(t).sinh()}function CV(t){return new this(t).sqrt()}function FV(t,e){return new this(t).sub(e)}function AV(){var t=0,e=arguments,r=new this(e[t]);for(bt=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return bt=!0,lt(r,this.precision,this.rounding)}function SV(t){return new this(t).tan()}function NV(t){return new this(t).tanh()}function _V(t){return lt(t=new this(t),t.e+1,1)}Te[Symbol.for("nodejs.util.inspect.custom")]=Te.toString;Te[Symbol.toStringTag]="Decimal";var Pu=Te.constructor=WA(Rh);Tf=new Pu(Tf);If=new Pu(If);var Co=Pu;var MV="BigNumber",TV=["?on","config"],Uh=S(MV,TV,t=>{var{on:e,config:r}=t,n=Co.clone({precision:r.precision,modulo:Co.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Gr=xr(GA(),1);var IV="Complex",BV=[],Wh=S(IV,BV,()=>(Object.defineProperty(Gr.default,"name",{value:"Complex"}),Gr.default.prototype.constructor=Gr.default,Gr.default.prototype.type="Complex",Gr.default.prototype.isComplex=!0,Gr.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Gr.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Gr.default.prototype.format=function(t){var e="",r=this.im,n=this.re,i=Fi(this.re,t),a=Fi(this.im,t),o=it(t)?t:t?t.precision:null;if(o!==null){var l=Math.pow(10,-o);Math.abs(n/r)<l&&(n=0),Math.abs(r/n)<l&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+a+"i",e},Gr.default.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Gr.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(it(r)){if(nn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),it(n))return new Gr.default({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Gr.default.prototype.valueOf=Gr.default.prototype.toString,Gr.default.fromJSON=function(t){return new Gr.default(t)},Gr.default.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Gr.default),{isClass:!0});var Gi=xr(ZA(),1);var OV="Fraction",kV=[],Gh=S(OV,kV,()=>(Object.defineProperty(Gi.default,"name",{value:"Fraction"}),Gi.default.prototype.constructor=Gi.default,Gi.default.prototype.type="Fraction",Gi.default.prototype.isFraction=!0,Gi.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Gi.default.fromJSON=function(t){return new Gi.default(t)},Gi.default),{isClass:!0});var RV="Range",PV=[],jh=S(RV,PV,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=r!=null,o=n!=null;if(i){if($e(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if($e(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter end must be a number")}if(o){if($e(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=o?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,i=this.end,a=i-r;return oi(n)===oi(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;r<i;)e(r,[a],this),r+=n,a++;else if(n<0)for(;r>i;)e(r,[a],this),r+=n,a++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,i,a){r[i[0]]=e(n,i,a)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=Fi(this.start,e);return this.step!==1&&(r+=":"+Fi(this.step,e)),r+=":"+Fi(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0});var LV="Matrix",qV=[],Zh=S(LV,qV,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function YA(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),a=0,o=function(u){var s=i[u];if(s&&(delete n[s],delete i[u],--e,r===s)){if(!e){a=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(u){var s=i[u],c=++a;if(n[c]=u,i[u]=c,!s)return++e,e<=t?void 0:(u=n[r],o(u),u);if(delete n[s],r===s)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:o,clear:function(){e=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function Fo(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r==null?Number.POSITIVE_INFINITY:r,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:YA(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var l=t.apply(t,i);return n.cache.values.set(o,l),n.cache.values.delete(n.cache.lru.hit(o)),l}}function Pf(t){return Object.keys(t.signatures||{}).reduce(function(e,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var VV="DenseMatrix",UV=["Matrix"],Yh=S(VV,UV,t=>{var{Matrix:e}=t;function r(c,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!pr(f))throw new Error("Invalid datatype: "+f);if(Ge(c))c.type==="DenseMatrix"?(this._data=Je(c._data),this._size=Je(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&wt(c.data)&&wt(c.size))this._data=c.data,this._size=c.size,Fh(this._data,this._size),this._datatype=f||c.datatype;else if(wt(c))this._data=s(c),this._size=Qe(this._data),Fh(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+Dt(c)+")");this._data=[],this._size=[0],this._datatype=f}}r.prototype=new e,r.prototype.createDenseMatrix=function(c,f){return new r(c,f)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Pa(this._data,Dt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(c,f){return new r(c,f)},r.prototype.subset=function(c,f,m){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,f,m);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(c){if(!wt(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new ot(c.length,this._size.length);for(var f=0;f<c.length;f++)Pt(c[f],this._size[f]);for(var m=this._data,p=0,h=c.length;p<h;p++){var d=c[p];Pt(d,m.length),m=m[d]}return m},r.prototype.set=function(c,f,m){if(!wt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new ot(c.length,this._size.length,"<");var p,h,d,g=c.map(function(E){return E+1});u(this,g,m);var v=this._data;for(p=0,h=c.length-1;p<h;p++)d=c[p],Pt(d,v.length),v=v[d];return d=c[c.length-1],Pt(d,v.length),v[d]=f,this};function n(c,f){if(!Oa(f))throw new TypeError("Invalid index");var m=f.isScalar();if(m)return c.get(f.min());var p=f.size();if(p.length!==c._size.length)throw new ot(p.length,c._size.length);for(var h=f.min(),d=f.max(),g=0,v=c._size.length;g<v;g++)Pt(h[g],c._size[g]),Pt(d[g],c._size[g]);return new r(i(c._data,f,p.length,0),c._datatype)}function i(c,f,m,p){var h=p===m-1,d=f.dimension(p);return h?d.map(function(g){return Pt(g,c.length),c[g]}).valueOf():d.map(function(g){Pt(g,c.length);var v=c[g];return i(v,f,m,p+1)}).valueOf()}function a(c,f,m,p){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),g;if(Ge(m)?(g=m.size(),m=m.valueOf()):g=Qe(m),d){if(g.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),m,p)}else{if(!Ci(g,h))try{g.length===0?m=Nh([m],h):m=Nh(m,h),g=Qe(m)}catch(x){}if(h.length<c._size.length)throw new ot(h.length,c._size.length,"<");if(g.length<h.length){for(var v=0,E=0;h[v]===1&&g[v]===1;)v++;for(;h[v]===1;)E++,v++;m=Ff(m,h.length,E,g)}if(!Ci(h,g))throw new ot(h,g,">");var y=f.max().map(function(x){return x+1});u(c,y,p);var D=h.length,b=0;o(c._data,f,m,D,b)}return c}function o(c,f,m,p,h){var d=h===p-1,g=f.dimension(h);d?g.forEach(function(v,E){Pt(v),c[v]=m[E[0]]}):g.forEach(function(v,E){Pt(v),o(c[v],f,m[E[0]],p,h+1)})}r.prototype.resize=function(c,f,m){if(!Fn(c))throw new TypeError("Array or Matrix expected");var p=c.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=m?this.clone():this;return l(h,p,f)};function l(c,f,m){if(f.length===0){for(var p=c._data;wt(p);)p=p[0];return p}return c._size=f.slice(0),c._data=Ai(c._data,c._size,m),c}r.prototype.reshape=function(c,f){var m=f?this.clone():this;m._data=Iu(m._data,c);var p=m._size.reduce((h,d)=>h*d);return m._size=Bu(c,p),m};function u(c,f,m){for(var p=c._size.slice(0),h=!1;p.length<f.length;)p.push(0),h=!0;for(var d=0,g=f.length;d<g;d++)f[d]>p[d]&&(p[d]=f[d],h=!0);h&&l(c,p,m)}r.prototype.clone=function(){var c=new r({data:Je(this._data),size:Je(this._size),datatype:this._datatype});return c},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(c){var f=this,m=Pf(c),p=function g(v,E){return wt(v)?v.map(function(y,D){return g(y,E.concat(D))}):m===1?c(v):m===2?c(v,E):c(v,E,f)},h=p(this._data,[]),d=this._datatype!==void 0?Pa(h,Dt):void 0;return new r(h,d)},r.prototype.forEach=function(c){var f=this,m=function p(h,d){wt(h)?h.forEach(function(g,v){p(g,d.concat(v))}):c(h,d,f)};m(this._data,[])},r.prototype[Symbol.iterator]=function*(){var c=function*f(m,p){if(wt(m))for(var h=0;h<m.length;h++)yield*f(m[h],p.concat(h));else yield{value:m,index:p}};yield*c(this._data,[])},r.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var m=this._data;for(var p of m)c.push(new r([p],this._datatype));return c},r.prototype.columns=function(){var c=this,f=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,h=function(v){var E=p.map(y=>[y[v]]);f.push(new r(E,c._datatype))},d=0;d<m[1];d++)h(d);return f},r.prototype.toArray=function(){return Je(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(c){return at(this._data,c)},r.prototype.toString=function(){return at(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(c){if(c){if($e(c)&&(c=c.toNumber()),!it(c)||!He(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,m=c<0?-c:0,p=this._size[0],h=this._size[1],d=Math.min(p-m,h-f),g=[],v=0;v<d;v++)g[v]=this._data[v+m][v+f];return new r({data:g,size:[d],datatype:this._datatype})},r.diagonal=function(c,f,m,p){if(!wt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(C){if($e(C)&&(C=C.toNumber()),!it(C)||!He(C)||C<1)throw new Error("Size values must be positive integers");return C}),m){if($e(m)&&(m=m.toNumber()),!it(m)||!He(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var h=m>0?m:0,d=m<0?-m:0,g=c[0],v=c[1],E=Math.min(g-d,v-h),y;if(wt(f)){if(f.length!==E)throw new Error("Invalid value array length");y=function(A){return f[A]}}else if(Ge(f)){var D=f.size();if(D.length!==1||D[0]!==E)throw new Error("Invalid matrix length");y=function(A){return f.get([A])}}else y=function(){return f};p||(p=$e(y(0))?y(0).mul(0):0);var b=[];if(c.length>0){b=Ai(b,c,p);for(var x=0;x<E;x++)b[x+d][x+h]=y(x)}return new r({data:b,size:[g,v]})},r.fromJSON=function(c){return new r(c)},r.prototype.swapRows=function(c,f){if(!it(c)||!He(c)||!it(f)||!He(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pt(c,this._size[0]),Pt(f,this._size[0]),r._swapRows(c,f,this._data),this},r._swapRows=function(c,f,m){var p=m[c];m[c]=m[f],m[f]=p};function s(c){return Ge(c)?s(c.valueOf()):wt(c)?c.map(s):c}return r},{isClass:!0});var JA="clone",zV=["typed"],Jh=S(JA,zV,t=>{var{typed:e}=t;return e(JA,{any:Je})});function Lf(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}function si(t){for(var e=0;e<t.length;e++)if(Fn(t[e]))return!0;return!1}function pn(t,e){Ge(t)&&(t=t.valueOf());for(var r=0,n=t.length;r<n;r++){var i=t[r];Array.isArray(i)?pn(i,e):e(i)}}function Ze(t,e,r){return t&&typeof t.map=="function"?t.map(function(n){return Ze(n,e,r)}):e(t)}function za(t,e,r){var n=Array.isArray(t)?Qe(t):t.size();if(e<0||e>=n.length)throw new sn(e,n.length);return Ge(t)?t.create(qf(t.valueOf(),e,r)):qf(t,e,r)}function qf(t,e,r){var n,i,a,o;if(e<=0)if(Array.isArray(t[0])){for(o=Lf(t),i=[],n=0;n<o.length;n++)i[n]=qf(o[n],e-1,r);return i}else{for(a=t[0],n=1;n<t.length;n++)a=r(a,t[n]);return a}else{for(i=[],n=0;n<t.length;n++)i[n]=qf(t[n],e-1,r);return i}}function Xh(t,e,r,n,i,a,o,l,u,s,c){var f=t._values,m=t._index,p=t._ptr,h,d,g,v;if(n)for(d=p[e],g=p[e+1],h=d;h<g;h++)v=m[h],r[v]!==a?(r[v]=a,o.push(v),s?(n[v]=u?l(f[h],c):l(c,f[h]),i[v]=a):n[v]=f[h]):(n[v]=u?l(f[h],n[v]):l(n[v],f[h]),i[v]=a);else for(d=p[e],g=p[e+1],h=d;h<g;h++)v=m[h],r[v]!==a?(r[v]=a,o.push(v)):i[v]=a}var XA="isInteger",WV=["typed"],Qh=S(XA,WV,t=>{var{typed:e}=t;return e(XA,{number:He,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var On="number",ua="number, number";function Kh(t){return Math.abs(t)}Kh.signature=On;function $h(t,e){return t+e}$h.signature=ua;function eg(t,e){return t-e}eg.signature=ua;function tg(t,e){return t*e}tg.signature=ua;function HV(t,e){return t/e}HV.signature=ua;function rg(t){return-t}rg.signature=On;function ng(t){return t}ng.signature=On;function Cs(t){return aA(t)}Cs.signature=On;function ig(t){return t*t*t}ig.signature=On;function ag(t){return Math.exp(t)}ag.signature=On;function og(t){return oA(t)}og.signature=On;function GV(t,e){if(!He(t)||!He(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;e!==0;)r=t%e,t=e,e=r;return t<0?-t:t}GV.signature=ua;function sg(t,e){if(!He(t)||!He(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}sg.signature=ua;function QA(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function ug(t){return iA(t)}ug.signature=On;function lg(t){return nA(t)}lg.signature=On;function jV(t){return bf(t)}jV.signature=On;function ZV(t,e){return e===0?t:t-e*Math.floor(t/e)}ZV.signature=ua;function cg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function Vf(t){return oi(t)}Vf.signature=On;function YV(t){return Math.sqrt(t)}YV.signature=On;function fg(t){return t*t}fg.signature=On;function mg(t,e){var r,n,i,a=0,o=1,l=1,u=0;if(!He(t)||!He(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=a,a=o-n*a,o=r,r=l,l=u-n*l,u=r,t=e,e=i;var s;return t<0?s=[-t,-o,-u]:s=[t,t?o:0,u],s}mg.signature=ua;function pg(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}pg.signature=ua;function dg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!He(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(wh(t,e))}function JV(t){return Math.abs(t)}JV.signature=On;var XV="number",Fs="number, number";function hg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function bitAnd");return t&e}hg.signature=Fs;function gg(t){if(!He(t))throw new Error("Integer expected in function bitNot");return~t}gg.signature=XV;function vg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function bitOr");return t|e}vg.signature=Fs;function yg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function bitXor");return t^e}yg.signature=Fs;function bg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function leftShift");return t<<e}bg.signature=Fs;function xg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function rightArithShift");return t>>e}xg.signature=Fs;function Dg(t,e){if(!He(t)||!He(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}Dg.signature=Fs;function jn(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return jn(t,r)*jn(r+1,e)}function wg(t,e){if(!He(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!He(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,a=2,o=e<r?e:r,l=i;l<=t;++l)for(n*=l;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=jn(a,o)),n}wg.signature="number, number";var KA=Math.PI,$A=2*Math.PI,eS=Math.E,tS=1.618033988749895;var QV="number",Eg="number, number";function Cg(t){return!t}Cg.signature=QV;function Fg(t,e){return!!(t||e)}Fg.signature=Eg;function Ag(t,e){return!!t!=!!e}Ag.signature=Eg;function Sg(t,e){return!!(t&&e)}Sg.signature=Eg;function Lu(t){var e;if(He(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:jn(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Lu(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,i=n*t,a=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,e=Ao[0];for(var o=1;o<Ao.length;++o)e+=Ao[o]/(t+o);var l=t+Ng+.5;return Math.sqrt(2*Math.PI)*Math.pow(l,t+.5)*Math.exp(-l)*e}Lu.signature="number";var Ng=4.7421875,Ao=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],_g=.9189385332046728,KV=5,$V=7,rS=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function qu(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-qu(1-t);t=t-1;for(var e=t+KV+.5,r=rS[0],n=$V-1;n>=1;n--)r+=rS[n]/(t+n);return _g+(t+.5)*Math.log(e)-e+Math.log(r)}qu.signature="number";var dr="number",eU="number, number";function tU(t){return Math.acos(t)}tU.signature=dr;function Mg(t){return lA(t)}Mg.signature=dr;function Tg(t){return Math.atan(1/t)}Tg.signature=dr;function Ig(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}Ig.signature=dr;function Bg(t){return Math.asin(1/t)}Bg.signature=dr;function Og(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}Og.signature=dr;function kg(t){return Math.acos(1/t)}kg.signature=dr;function Rg(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}Rg.signature=dr;function rU(t){return Math.asin(t)}rU.signature=dr;function Pg(t){return cA(t)}Pg.signature=dr;function nU(t){return Math.atan(t)}nU.signature=dr;function iU(t,e){return Math.atan2(t,e)}iU.signature=eU;function Lg(t){return fA(t)}Lg.signature=dr;function aU(t){return Math.cos(t)}aU.signature=dr;function oU(t){return wf(t)}oU.signature=dr;function qg(t){return 1/Math.tan(t)}qg.signature=dr;function Vg(t){var e=Math.exp(2*t);return(e+1)/(e-1)}Vg.signature=dr;function Ug(t){return 1/Math.sin(t)}Ug.signature=dr;function zg(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*oi(t)}zg.signature=dr;function Wg(t){return 1/Math.cos(t)}Wg.signature=dr;function Hg(t){return 2/(Math.exp(t)+Math.exp(-t))}Hg.signature=dr;function sU(t){return Math.sin(t)}sU.signature=dr;function Gg(t){return mA(t)}Gg.signature=dr;function uU(t){return Math.tan(t)}uU.signature=dr;function lU(t){return Ef(t)}lU.signature=dr;var Vu="number";function cU(t){return He(t)}cU.signature=Vu;function jg(t){return t<0}jg.signature=Vu;function Zg(t){return t>0}Zg.signature=Vu;function Yg(t){return t===0}Yg.signature=Vu;function Jg(t){return Number.isNaN(t)}Jg.signature=Vu;var nS="isNegative",fU=["typed"],Xg=S(nS,fU,t=>{var{typed:e}=t;return e(nS,{number:jg,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var iS="isNumeric",mU=["typed"],Qg=S(iS,mU,t=>{var{typed:e}=t;return e(iS,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var aS="hasNumericValue",pU=["typed","isNumeric"],Kg=S(aS,pU,t=>{var{typed:e,isNumeric:r}=t;return e(aS,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})});var oS="isPositive",dU=["typed"],$g=S(oS,dU,t=>{var{typed:e}=t;return e(oS,{number:Zg,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var sS="isZero",hU=["typed"],ev=S(sS,hU,t=>{var{typed:e}=t;return e(sS,{number:Yg,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var uS="isNaN",gU=["typed"],tv=S(uS,gU,t=>{var{typed:e}=t;return e(uS,{number:Jg,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return Ze(n,Number.isNaN)}})});var lS="typeOf",vU=["typed"],rv=S(lS,vU,t=>{var{typed:e}=t;return e(lS,{any:Dt})});function jr(t,e,r){if(r==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return!1}function cS(t,e,r){return Fr(t.re,e.re,r)&&Fr(t.im,e.im,r)}var ui=S("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}});var Uf="equalScalar",yU=["typed","config"],nv=S(Uf,yU,t=>{var{typed:e,config:r}=t,n=ui({typed:e});return e(Uf,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Fr(a,o,r.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||jr(a,o,r.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return cS(a,o,r.epsilon)}},n)}),rpe=S(Uf,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Uf,{"number, number":function(i,a){return Fr(i,a,r.epsilon)}})});var bU="SparseMatrix",xU=["typed","equalScalar","Matrix"],iv=S(bU,xU,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(d,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!pr(g))throw new Error("Invalid datatype: "+g);if(Ge(d))a(this,d,g);else if(d&&wt(d.index)&&wt(d.ptr)&&wt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=g||d.datatype;else if(wt(d))o(this,d,g);else{if(d)throw new TypeError("Unsupported type of data ("+Dt(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(d,g,v){g.type==="SparseMatrix"?(d._values=g._values?Je(g._values):void 0,d._index=Je(g._index),d._ptr=Je(g._ptr),d._size=Je(g._size),d._datatype=v||g._datatype):o(d,g.valueOf(),v||g._datatype)}function o(d,g,v){d._values=[],d._index=[],d._ptr=[],d._datatype=v;var E=g.length,y=0,D=r,b=0;if(pr(v)&&(D=e.find(r,[v,v])||r,b=e.convert(0,v)),E>0){var x=0;do{d._ptr.push(d._index.length);for(var C=0;C<E;C++){var A=g[C];if(wt(A)){if(x===0&&y<A.length&&(y=A.length),x<A.length){var w=A[x];D(w,b)||(d._values.push(w),d._index.push(C))}}else x===0&&y<1&&(y=1),D(A,b)||(d._values.push(A),d._index.push(C))}x++}while(x<y)}d._ptr.push(d._index.length),d._size=[E,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,g){return new i(d,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Pa(this._values,Dt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,g){return new i(d,g)},i.prototype.density=function(){var d=this._size[0],g=this._size[1];return d!==0&&g!==0?this._index.length/(d*g):0},i.prototype.subset=function(d,g,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,d);case 2:case 3:return u(this,d,g,v);default:throw new SyntaxError("Wrong number of arguments")}};function l(d,g){if(!Oa(g))throw new TypeError("Invalid index");var v=g.isScalar();if(v)return d.get(g.min());var E=g.size();if(E.length!==d._size.length)throw new ot(E.length,d._size.length);var y,D,b,x,C=g.min(),A=g.max();for(y=0,D=d._size.length;y<D;y++)Pt(C[y],d._size[y]),Pt(A[y],d._size[y]);var w=d._values,F=d._index,M=d._ptr,B=g.dimension(0),k=g.dimension(1),R=[],P=[];B.forEach(function(O,Y){P[O]=Y[0],R[O]=!0});var T=w?[]:void 0,I=[],V=[];return k.forEach(function(O){for(V.push(I.length),b=M[O],x=M[O+1];b<x;b++)y=F[b],R[y]===!0&&(I.push(P[y]),T&&T.push(w[b]))}),V.push(I.length),new i({values:T,index:I,ptr:V,size:E,datatype:d._datatype})}function u(d,g,v,E){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var y=g.size(),D=g.isScalar(),b;if(Ge(v)?(b=v.size(),v=v.toArray()):b=Qe(v),D){if(b.length!==0)throw new TypeError("Scalar expected");d.set(g.min(),v,E)}else{if(y.length!==1&&y.length!==2)throw new ot(y.length,d._size.length,"<");if(b.length<y.length){for(var x=0,C=0;y[x]===1&&b[x]===1;)x++;for(;y[x]===1;)C++,x++;v=Ff(v,y.length,C,b)}if(!Ci(y,b))throw new ot(y,b,">");if(y.length===1){var A=g.dimension(0);A.forEach(function(M,B){Pt(M),d.set([M,0],v[B[0]],E)})}else{var w=g.dimension(0),F=g.dimension(1);w.forEach(function(M,B){Pt(M),F.forEach(function(k,R){Pt(k),d.set([M,k],v[B[0]][R[0]],E)})})}}return d}i.prototype.get=function(d){if(!wt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=d[0],v=d[1];Pt(g,this._size[0]),Pt(v,this._size[1]);var E=s(g,this._ptr[v],this._ptr[v+1],this._index);return E<this._ptr[v+1]&&this._index[E]===g?this._values[E]:0},i.prototype.set=function(d,g,v){if(!wt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=d[0],y=d[1],D=this._size[0],b=this._size[1],x=r,C=0;pr(this._datatype)&&(x=e.find(r,[this._datatype,this._datatype])||r,C=e.convert(0,this._datatype)),(E>D-1||y>b-1)&&(m(this,Math.max(E+1,D),Math.max(y+1,b),v),D=this._size[0],b=this._size[1]),Pt(E,D),Pt(y,b);var A=s(E,this._ptr[y],this._ptr[y+1],this._index);return A<this._ptr[y+1]&&this._index[A]===E?x(g,C)?c(A,y,this._values,this._index,this._ptr):this._values[A]=g:x(g,C)||f(A,E,y,g,this._values,this._index,this._ptr),this};function s(d,g,v,E){if(v-g===0)return v;for(var y=g;y<v;y++)if(E[y]===d)return y;return g}function c(d,g,v,E,y){v.splice(d,1),E.splice(d,1);for(var D=g+1;D<y.length;D++)y[D]--}function f(d,g,v,E,y,D,b){y.splice(d,0,E),D.splice(d,0,g);for(var x=v+1;x<b.length;x++)b[x]++}i.prototype.resize=function(d,g,v){if(!Fn(d))throw new TypeError("Array or Matrix expected");var E=d.valueOf().map(D=>Array.isArray(D)&&D.length===1?D[0]:D);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(D){if(!it(D)||!He(D)||D<0)throw new TypeError("Invalid size, must contain positive integers (size: "+at(E)+")")});var y=v?this.clone():this;return m(y,E[0],E[1],g)};function m(d,g,v,E){var y=E||0,D=r,b=0;pr(d._datatype)&&(D=e.find(r,[d._datatype,d._datatype])||r,b=e.convert(0,d._datatype),y=e.convert(y,d._datatype));var x=!D(y,b),C=d._size[0],A=d._size[1],w,F,M;if(v>A){for(F=A;F<v;F++)if(d._ptr[F]=d._values.length,x)for(w=0;w<C;w++)d._values.push(y),d._index.push(w);d._ptr[v]=d._values.length}else v<A&&(d._ptr.splice(v+1,A-v),d._values.splice(d._ptr[v],d._values.length),d._index.splice(d._ptr[v],d._index.length));if(A=v,g>C){if(x){var B=0;for(F=0;F<A;F++){d._ptr[F]=d._ptr[F]+B,M=d._ptr[F+1]+B;var k=0;for(w=C;w<g;w++,k++)d._values.splice(M+k,0,y),d._index.splice(M+k,0,w),B++}d._ptr[A]=d._values.length}}else if(g<C){var R=0;for(F=0;F<A;F++){d._ptr[F]=d._ptr[F]-R;var P=d._ptr[F],T=d._ptr[F+1]-R;for(M=P;M<T;M++)w=d._index[M],w>g-1&&(d._values.splice(M,1),d._index.splice(M,1),R++)}d._ptr[F]=d._values.length}return d._size[0]=g,d._size[1]=v,d}i.prototype.reshape=function(d,g){if(!wt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(O){if(!it(O)||!He(O)||O<=-2||O===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+at(d)+")")});var v=this._size[0]*this._size[1];d=Bu(d,v);var E=d[0]*d[1];if(v!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=g?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return y;for(var D=[],b=0;b<y._ptr.length;b++)for(var x=0;x<y._ptr[b+1]-y._ptr[b];x++)D.push(b);for(var C=y._values.slice(),A=y._index.slice(),w=0;w<y._index.length;w++){var F=A[w],M=D[w],B=F*y._size[1]+M;D[w]=B%d[1],A[w]=Math.floor(B/d[1])}y._values.length=0,y._index.length=0,y._ptr.length=d[1]+1,y._size=d.slice();for(var k=0;k<y._ptr.length;k++)y._ptr[k]=0;for(var R=0;R<C.length;R++){var P=A[R],T=D[R],I=C[R],V=s(P,y._ptr[T],y._ptr[T+1],y._index);f(V,P,T,I,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var d=new i({values:this._values?Je(this._values):void 0,index:Je(this._index),ptr:Je(this._ptr),size:Je(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,E=this._size[0],y=this._size[1],D=Pf(d),b=function(C,A,w){return D===1?d(C):D===2?d(C,[A,w]):d(C,[A,w],v)};return p(this,0,E-1,0,y-1,b,g)};function p(d,g,v,E,y,D,b){var x=[],C=[],A=[],w=r,F=0;pr(d._datatype)&&(w=e.find(r,[d._datatype,d._datatype])||r,F=e.convert(0,d._datatype));for(var M=function(q,te,ge){q=D(q,te,ge),w(q,F)||(x.push(q),C.push(te))},B=E;B<=y;B++){A.push(x.length);var k=d._ptr[B],R=d._ptr[B+1];if(b)for(var P=k;P<R;P++){var T=d._index[P];T>=g&&T<=v&&M(d._values[P],T-g,B-E)}else{for(var I={},V=k;V<R;V++){var O=d._index[V];I[O]=d._values[V]}for(var Y=g;Y<=v;Y++){var $=Y in I?I[Y]:0;M($,Y-g,B-E)}}}return A.push(x.length),new i({values:x,index:C,ptr:A,size:[v-g+1,y-E+1]})}i.prototype.forEach=function(d,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,E=this._size[0],y=this._size[1],D=0;D<y;D++){var b=this._ptr[D],x=this._ptr[D+1];if(g)for(var C=b;C<x;C++){var A=this._index[C];d(this._values[C],[A,D],v)}else{for(var w={},F=b;F<x;F++){var M=this._index[F];w[M]=this._values[F]}for(var B=0;B<E;B++){var k=B in w?w[B]:0;d(k,[B,D],v)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],g=0;g<d;g++)for(var v=this._ptr[g],E=this._ptr[g+1],y=v;y<E;y++){var D=this._index[y];yield{value:this._values[y],index:[D,g]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,g,v,E,y){var D=E[0],b=E[1],x=[],C,A;for(C=0;C<D;C++)for(x[C]=[],A=0;A<b;A++)x[C][A]=0;for(A=0;A<b;A++)for(var w=v[A],F=v[A+1],M=w;M<F;M++)C=g[M],x[C][A]=d?y?Je(d[M]):d[M]:1;return x}return i.prototype.format=function(d){for(var g=this._size[0],v=this._size[1],E=this.density(),y="Sparse Matrix ["+at(g,d)+" x "+at(v,d)+"] density: "+at(E,d)+`
`,D=0;D<v;D++)for(var b=this._ptr[D],x=this._ptr[D+1],C=b;C<x;C++){var A=this._index[C];y+=`
    (`+at(A,d)+", "+at(D,d)+") ==> "+(this._values?at(this._values[C],d):"X")}return y},i.prototype.toString=function(){return at(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if($e(d)&&(d=d.toNumber()),!it(d)||!He(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var g=d>0?d:0,v=d<0?-d:0,E=this._size[0],y=this._size[1],D=Math.min(E-v,y-g),b=[],x=[],C=[];C[0]=0;for(var A=g;A<y&&b.length<D;A++)for(var w=this._ptr[A],F=this._ptr[A+1],M=w;M<F;M++){var B=this._index[M];if(B===A-g+v){b.push(this._values[M]),x[b.length-1]=B-v;break}}return C.push(b.length),new i({values:b,index:x,ptr:C,size:[D,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,g,v,E,y){if(!wt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(O){if($e(O)&&(O=O.toNumber()),!it(O)||!He(O)||O<1)throw new Error("Size values must be positive integers");return O}),v){if($e(v)&&(v=v.toNumber()),!it(v)||!He(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var D=r,b=0;pr(y)&&(D=e.find(r,[y,y])||r,b=e.convert(0,y));var x=v>0?v:0,C=v<0?-v:0,A=d[0],w=d[1],F=Math.min(A-C,w-x),M;if(wt(g)){if(g.length!==F)throw new Error("Invalid value array length");M=function(Y){return g[Y]}}else if(Ge(g)){var B=g.size();if(B.length!==1||B[0]!==F)throw new Error("Invalid matrix length");M=function(Y){return g.get([Y])}}else M=function(){return g};for(var k=[],R=[],P=[],T=0;T<w;T++){P.push(k.length);var I=T-x;if(I>=0&&I<F){var V=M(I);D(V,b)||(R.push(I+C),k.push(V))}}return P.push(k.length),new i({values:k,index:R,ptr:P,size:[A,w]})},i.prototype.swapRows=function(d,g){if(!it(d)||!He(d)||!it(g)||!He(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pt(d,this._size[0]),Pt(g,this._size[0]),i._swapRows(d,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,g,v,E,y){for(var D=E[d],b=E[d+1],x=D;x<b;x++)y(v[x],g[x])},i._swapRows=function(d,g,v,E,y,D){for(var b=0;b<v;b++){var x=D[b],C=D[b+1],A=s(d,x,C,y),w=s(g,x,C,y);if(A<C&&w<C&&y[A]===d&&y[w]===g){if(E){var F=E[A];E[A]=E[w],E[w]=F}continue}if(A<C&&y[A]===d&&(w>=C||y[w]!==g)){var M=E?E[A]:void 0;y.splice(w,0,g),E&&E.splice(w,0,M),y.splice(w<=A?A+1:A,1),E&&E.splice(w<=A?A+1:A,1);continue}if(w<C&&y[w]===g&&(A>=C||y[A]!==d)){var B=E?E[w]:void 0;y.splice(A,0,d),E&&E.splice(A,0,B),y.splice(A<=w?w+1:w,1),E&&E.splice(A<=w?w+1:w,1)}}},i},{isClass:!0});var DU="number",wU=["typed"];function EU(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function CU(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var a=e+r;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is no valid number');return a}var av=S(DU,wU,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=EU(i);if(a)return CU(a);var o=0,l=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(o=Number(l[2]),i=l[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is no valid number');if(l){if(u>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(o-1)&&(u=u-2**o)}return u},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r});var fS="string",FU=["typed"],ov=S(fS,FU,t=>{var{typed:e}=t;return e(fS,{"":function(){return""},number:Fi,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r)),any:function(n){return String(n)}})});var mS="boolean",AU=["typed"],sv=S(mS,AU,t=>{var{typed:e}=t;return e(mS,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var SU="bignumber",NU=["typed","BigNumber"],uv=S(SU,NU,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],l=r(a[1]),u=new r(2).pow(Number(o));if(l.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new r(2).pow(Number(o)-1);return l.gte(s)?l.sub(u):l}return new r(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(i.n).div(i.d).times(i.s)},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var _U="complex",MU=["typed","Complex"],lv=S(_U,MU,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var TU="fraction",IU=["typed","Fraction"],cv=S(TU,IU,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var pS="matrix",BU=["typed","Matrix","DenseMatrix","SparseMatrix"],fv=S(pS,BU,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(pS,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,u){return a([],l,u)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,l,u){if(l==="dense"||l==="default"||l===void 0)return new n(o,u);if(l==="sparse")return new i(o,u);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}});var dS="matrixFromFunction",OU=["typed","matrix","isZero"],mv=S(dS,OU,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(dS,{"Array | Matrix, function, string, string":function(o,l,u,s){return i(o,l,u,s)},"Array | Matrix, function, string":function(o,l,u){return i(o,l,u)},"Matrix, function":function(o,l){return i(o,l,"dense")},"Array, function":function(o,l){return i(o,l,"dense").toArray()},"Array | Matrix, string, function":function(o,l,u){return i(o,u,l)},"Array | Matrix, string, string, function":function(o,l,u,s){return i(o,s,l,u)}});function i(a,o,l,u){var s;return u!==void 0?s=r(l,u):s=r(l),s.resize(a),s.forEach(function(c,f){var m=o(f);n(m)||s.set(f,m)}),s}});var hS="matrixFromRows",kU=["typed","matrix","flatten","size"],pv=S(hS,kU,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(hS,{"...Array":function(u){return a(u)},"...Matrix":function(u){return r(a(u.map(s=>s.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var u=o(l[0]),s=[];for(var c of l){var f=o(c);if(f!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(f|0));s.push(n(c))}return s}function o(l){var u=i(l);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var gS="matrixFromColumns",RU=["typed","matrix","flatten","size"],dv=S(gS,RU,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(gS,{"...Array":function(u){return a(u)},"...Matrix":function(u){return r(a(u.map(s=>s.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var u=o(l[0]),s=[],c=0;c<u;c++)s[c]=[];for(var f of l){var m=o(f);if(m!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(m|0));for(var p=n(f),h=0;h<u;h++)s[h].push(p[h])}return s}function o(l){var u=i(l);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var vS="splitUnit",PU=["typed"],hv=S(vS,PU,t=>{var{typed:e}=t;return e(vS,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var yS="unaryMinus",LU=["typed"],gv=S(yS,LU,t=>{var{typed:e}=t;return e(yS,{number:rg,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r,!0))})});var bS="unaryPlus",qU=["typed","config","BigNumber"],vv=S(bS,qU,t=>{var{typed:e,config:r,BigNumber:n}=t;return e(bS,{number:ng,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>Ze(a,i,!0)),"boolean | string":function(a){return r.number==="BigNumber"?new n(+a):+a}})});var xS="abs",VU=["typed"],yv=S(xS,VU,t=>{var{typed:e}=t;return e(xS,{number:Kh,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r,!0))})});var DS="apply",UU=["typed","isInteger"],So=S(DS,UU,t=>{var{typed:e,isInteger:r}=t;return e(DS,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!r(a))throw new TypeError("Integer number expected for dimension");var l=Array.isArray(i)?Qe(i):i.size();if(a<0||a>=l.length)throw new sn(a,l.length);return Ge(i)?i.create(zf(i.valueOf(),a,o)):zf(i,a,o)}})});function zf(t,e,r){var n,i,a;if(e<=0)if(Array.isArray(t[0])){for(a=zU(t),i=[],n=0;n<a.length;n++)i[n]=zf(a[n],e-1,r);return i}else return r(t);else{for(i=[],n=0;n<t.length;n++)i[n]=zf(t[n],e-1,r);return i}}function zU(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}var wS="addScalar",WU=["typed"],bv=S(wS,WU,t=>{var{typed:e}=t;return e(wS,{"number, number":$h,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var ES="subtractScalar",HU=["typed"],xv=S(ES,HU,t=>{var{typed:e}=t;return e(ES,{"number, number":eg,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var CS="cbrt",GU=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],Dv=S(CS,GU,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:l,Fraction:u}=t;return r(CS,{number:Cs,Complex:s,"Complex, boolean":s,BigNumber:function(m){return m.cbrt()},Unit:c});function s(f,m){var p=f.arg()/3,h=f.abs(),d=new o(Cs(h),0).mul(new o(0,p).exp());if(m){var g=[d,new o(Cs(h),0).mul(new o(0,p+Math.PI*2/3).exp()),new o(Cs(h),0).mul(new o(0,p-Math.PI*2/3).exp())];return e.matrix==="Array"?g:a(g)}else return d}function c(f){if(f.value&&Cn(f.value)){var m=f.clone();return m.value=1,m=m.pow(1/3),m.value=s(f.value),m}else{var p=n(f.value);p&&(f.value=i(f.value));var h;$e(f.value)?h=new l(1).div(3):ia(f.value)?h=new u(1,3):h=1/3;var d=f.pow(h);return p&&(d.value=i(d.value)),d}}});var jU="matAlgo11xS0s",ZU=["typed","equalScalar"],Lt=S(jU,ZU,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=r,v=0,E=o;typeof m=="string"&&(d=m,g=e.find(r,[d,d]),v=e.convert(0,d),a=e.convert(a,d),E=e.find(o,[d,d]));for(var y=[],D=[],b=[],x=0;x<h;x++){b[x]=D.length;for(var C=c[x],A=c[x+1],w=C;w<A;w++){var F=s[w],M=l?E(a,u[w]):E(u[w],a);g(M,v)||(D.push(F),y.push(M))}}return b[h]=D.length,i.createSparseMatrix({values:y,index:D,ptr:b,size:[p,h],datatype:d})}});var YU="matAlgo12xSfs",JU=["typed","DenseMatrix"],Nt=S(YU,JU,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=o;typeof m=="string"&&(d=m,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],E=[],y=[],D=0;D<h;D++){for(var b=D+1,x=c[D],C=c[D+1],A=x;A<C;A++){var w=s[A];E[w]=u[A],y[w]=b}for(var F=0;F<p;F++)D===0&&(v[F]=[]),y[F]===b?v[F][D]=l?g(a,E[F]):g(E[F],a):v[F][D]=l?g(a,0):g(0,a)}return new r({data:v,size:[p,h],datatype:d})}});var XU="matAlgo14xDs",QU=["typed"],Ar=S(XU,QU,t=>{var{typed:e}=t;return function(i,a,o,l){var u=i._data,s=i._size,c=i._datatype,f,m=o;typeof c=="string"&&(f=c,a=e.convert(a,f),m=e.find(o,[f,f]));var p=s.length>0?r(m,0,s,s[0],u,a,l):[];return i.createDenseMatrix({data:p,size:Je(s),datatype:f})};function r(n,i,a,o,l,u,s){var c=[];if(i===a.length-1)for(var f=0;f<o;f++)c[f]=s?n(u,l[f]):n(l[f],u);else for(var m=0;m<o;m++)c[m]=r(n,i+1,a,a[i+1],l[m],u,s);return c}});var wv="ceil",KU=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],$U=S(wv,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(wv,{number:function(a){return Fr(a,n(a),r.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(Fr(a,n(a,o),r.epsilon))return n(a,o);var[l,u]="".concat(a,"e").split("e"),s=Math.ceil(Number("".concat(l,"e").concat(Number(u)+o)));return[l,u]="".concat(s,"e").split("e"),Number("".concat(l,"e").concat(Number(u)-o))}})}),Ev=S(wv,KU,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=t,u=Lt({typed:e,equalScalar:a}),s=Nt({typed:e,DenseMatrix:l}),c=Ar({typed:e}),f=$U({typed:e,config:r,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,h){return p.ceil(h)},"Complex, BigNumber":function(p,h){return p.ceil(h.toNumber())},BigNumber:function(p){return jr(p,n(p),r.epsilon)?n(p):p.ceil()},"BigNumber, BigNumber":function(p,h){return jr(p,n(p,h),r.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),Co.ROUND_CEIL)},Fraction:function(p){return p.ceil()},"Fraction, number":function(p,h){return p.ceil(h)},"Fraction, BigNumber":function(p,h){return p.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(m=>p=>Ze(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>Ze(p,d=>m(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>u(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>c(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>c(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,p,m,!0):s(h,p,m,!0))})});var FS="cube",ez=["typed"],Cv=S(FS,ez,t=>{var{typed:e}=t;return e(FS,{number:ig,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var AS="exp",tz=["typed"],Fv=S(AS,tz,t=>{var{typed:e}=t;return e(AS,{number:ag,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var SS="expm1",rz=["typed","Complex"],Av=S(SS,rz,t=>{var{typed:e,Complex:r}=t;return e(SS,{number:og,Complex:function(i){var a=Math.exp(i.re);return new r(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var Sv="fix",nz=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],iz=S(Sv,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e(Sv,{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,o){return a>0?n(a,o):r(a,o)}})}),Nv=S(Sv,nz,t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:l,DenseMatrix:u}=t,s=Nt({typed:e,DenseMatrix:u}),c=Ar({typed:e}),f=iz({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(p){return new r(p.re>0?Math.floor(p.re):Math.ceil(p.re),p.im>0?Math.floor(p.im):Math.ceil(p.im))},"Complex, number":function(p,h){return new r(p.re>0?a(p.re,h):i(p.re,h),p.im>0?a(p.im,h):i(p.im,h))},"Complex, BigNumber":function(p,h){var d=h.toNumber();return new r(p.re>0?a(p.re,d):i(p.re,d),p.im>0?a(p.im,d):i(p.im,d))},BigNumber:function(p){return p.isNegative()?i(p):a(p)},"BigNumber, number | BigNumber":function(p,h){return p.isNegative()?i(p,h):a(p,h)},Fraction:function(p){return p.s<0?p.ceil():p.floor()},"Fraction, number | BigNumber":function(p,h){return p.s<0?i(p,h):a(p,h)},"Array | Matrix":e.referToSelf(m=>p=>Ze(p,m,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(m=>(p,h)=>Ze(p,d=>m(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>c(n(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>o(p,0)?l(h.size(),h.storage()):h.storage()==="dense"?c(h,p,m,!0):s(h,p,m,!0))})});var _v="floor",az=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],oz=S(_v,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(_v,{number:function(a){return Fr(a,n(a),r.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(Fr(a,n(a,o),r.epsilon))return n(a,o);var[l,u]="".concat(a,"e").split("e"),s=Math.floor(Number("".concat(l,"e").concat(Number(u)+o)));return[l,u]="".concat(s,"e").split("e"),Number("".concat(l,"e").concat(Number(u)-o))}})}),Uu=S(_v,az,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=t,u=Lt({typed:e,equalScalar:a}),s=Nt({typed:e,DenseMatrix:l}),c=Ar({typed:e}),f=oz({typed:e,config:r,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,h){return p.floor(h)},"Complex, BigNumber":function(p,h){return p.floor(h.toNumber())},BigNumber:function(p){return jr(p,n(p),r.epsilon)?n(p):p.floor()},"BigNumber, BigNumber":function(p,h){return jr(p,n(p,h),r.epsilon)?n(p,h):p.toDecimalPlaces(h.toNumber(),Co.ROUND_FLOOR)},Fraction:function(p){return p.floor()},"Fraction, number":function(p,h){return p.floor(h)},"Fraction, BigNumber":function(p,h){return p.floor(h.toNumber())},"Array | Matrix":e.referToSelf(m=>p=>Ze(p,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(p,h)=>Ze(p,d=>m(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>u(p,h,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(p,h)=>c(p,h,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(p,h)=>c(i(h),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(p,h)=>a(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,p,m,!0):s(h,p,m,!0))})});var sz="matAlgo02xDS0",uz=["typed","equalScalar"],Sr=S(sz,uz,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,l){var u=i._data,s=i._size,c=i._datatype,f=a._values,m=a._index,p=a._ptr,h=a._size,d=a._datatype;if(s.length!==h.length)throw new ot(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=s[0],v=s[1],E,y=r,D=0,b=o;typeof c=="string"&&c===d&&(E=c,y=e.find(r,[E,E]),D=e.convert(0,E),b=e.find(o,[E,E]));for(var x=[],C=[],A=[],w=0;w<v;w++){A[w]=C.length;for(var F=p[w],M=p[w+1],B=F;B<M;B++){var k=m[B],R=l?b(f[B],u[k][w]):b(u[k][w],f[B]);y(R,D)||(C.push(k),x.push(R))}}return A[v]=C.length,a.createSparseMatrix({values:x,index:C,ptr:A,size:[g,v],datatype:E})}});var lz="matAlgo03xDSf",cz=["typed"],Xt=S(lz,cz,t=>{var{typed:e}=t;return function(n,i,a,o){var l=n._data,u=n._size,s=n._datatype,c=i._values,f=i._index,m=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v,E=0,y=a;typeof s=="string"&&s===h&&(v=s,E=e.convert(0,v),y=e.find(a,[v,v]));for(var D=[],b=0;b<d;b++)D[b]=[];for(var x=[],C=[],A=0;A<g;A++){for(var w=A+1,F=m[A],M=m[A+1],B=F;B<M;B++){var k=f[B];x[k]=o?y(c[B],l[k][A]):y(l[k][A],c[B]),C[k]=w}for(var R=0;R<d;R++)C[R]===w?D[R][A]=x[R]:D[R][A]=o?y(E,l[R][A]):y(l[R][A],E)}return n.createDenseMatrix({data:D,size:[d,g],datatype:v})}});var fz="matAlgo05xSfSf",mz=["typed","equalScalar"],Wa=S(fz,mz,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var v=c[0],E=c[1],y,D=r,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));var C=l&&m?[]:void 0,A=[],w=[],F=C?[]:void 0,M=C?[]:void 0,B=[],k=[],R,P,T,I;for(P=0;P<E;P++){w[P]=A.length;var V=P+1;for(T=s[P],I=s[P+1];T<I;T++)R=u[T],A.push(R),B[R]=V,F&&(F[R]=l[T]);for(T=h[P],I=h[P+1];T<I;T++)R=p[T],B[R]!==V&&A.push(R),k[R]=V,M&&(M[R]=m[T]);if(C)for(T=w[P];T<A.length;){R=A[T];var O=B[R],Y=k[R];if(O===V||Y===V){var $=O===V?F[R]:b,W=Y===V?M[R]:b,q=x($,W);D(q,b)?A.splice(T,1):(C.push(q),T++)}}}return w[E]=A.length,i.createSparseMatrix({values:C,index:A,ptr:w,size:[v,E],datatype:y})}});var pz="matAlgo13xDD",dz=["typed"],NS=S(pz,dz,t=>{var{typed:e}=t;return function(i,a,o){var l=i._data,u=i._size,s=i._datatype,c=a._data,f=a._size,m=a._datatype,p=[];if(u.length!==f.length)throw new ot(u.length,f.length);for(var h=0;h<u.length;h++){if(u[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");p[h]=u[h]}var d,g=o;typeof s=="string"&&s===m&&(d=s,g=e.find(o,[d,d]));var v=p.length>0?r(g,0,p,p[0],l,c):[];return i.createDenseMatrix({data:v,size:p,datatype:d})};function r(n,i,a,o,l,u){var s=[];if(i===a.length-1)for(var c=0;c<o;c++)s[c]=n(l[c],u[c]);else for(var f=0;f<o;f++)s[f]=r(n,i+1,a,a[i+1],l[f],u[f]);return s}});var hz="broadcast",gz=["concat"],_S=S(hz,gz,t=>{var{concat:e}=t;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var l=r(i._size,o,0),u=r(a._size,o,0),s=[],c=0;c<o;c++)s[c]=Math.max(l[c],u[c]);Ou(l,s),Ou(u,s);var f=i.clone(),m=a.clone();f._size.length<o?f.reshape(r(f._size,o,1)):m._size.length<o&&m.reshape(r(m._size,o,1));for(var p=0;p<o;p++)f._size[p]<s[p]&&(f=n(f,s[p],p)),m._size[p]<s[p]&&(m=n(m,s[p],p));return[f,m]};function r(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return e(...Array(a).fill(i),o)}});var vz="matrixAlgorithmSuite",yz=["typed","matrix","concat"],ct=S(vz,yz,t=>{var{typed:e,matrix:r,concat:n}=t,i=NS({typed:e}),a=Ar({typed:e}),o=_S({concat:n});return function(u){var s=u.elop,c=u.SD||u.DS,f;s?(f={"DenseMatrix, DenseMatrix":(d,g)=>i(...o(d,g),s),"Array, Array":(d,g)=>i(...o(r(d),r(g)),s).valueOf(),"Array, DenseMatrix":(d,g)=>i(...o(r(d),g),s),"DenseMatrix, Array":(d,g)=>i(...o(d,r(g)),s)},u.SS&&(f["SparseMatrix, SparseMatrix"]=(d,g)=>u.SS(...o(d,g),s,!1)),u.DS&&(f["DenseMatrix, SparseMatrix"]=(d,g)=>u.DS(...o(d,g),s,!1),f["Array, SparseMatrix"]=(d,g)=>u.DS(...o(r(d),g),s,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(d,g)=>c(...o(g,d),s,!0),f["SparseMatrix, Array"]=(d,g)=>c(...o(r(g),d),s,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(g,v),d)),"Array, Array":e.referToSelf(d=>(g,v)=>i(...o(r(g),r(v)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(r(g),v),d)),"DenseMatrix, Array":e.referToSelf(d=>(g,v)=>i(...o(g,r(v)),d))},u.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.SS(...o(g,v),d,!1))),u.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(g,v),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(r(g),v),d,!1))),c&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(g,v)=>c(...o(v,g),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(g,v)=>c(...o(r(v),g),d,!0))));var m=u.scalar||"any",p=u.Ds||u.Ss;p&&(s?(f["DenseMatrix,"+m]=(d,g)=>a(d,g,s,!1),f[m+", DenseMatrix"]=(d,g)=>a(g,d,s,!0),f["Array,"+m]=(d,g)=>a(r(d),g,s,!1).valueOf(),f[m+", Array"]=(d,g)=>a(r(g),d,s,!0).valueOf()):(f["DenseMatrix,"+m]=e.referToSelf(d=>(g,v)=>a(g,v,d,!1)),f[m+", DenseMatrix"]=e.referToSelf(d=>(g,v)=>a(v,g,d,!0)),f["Array,"+m]=e.referToSelf(d=>(g,v)=>a(r(g),v,d,!1).valueOf()),f[m+", Array"]=e.referToSelf(d=>(g,v)=>a(r(v),g,d,!0).valueOf())));var h=u.sS!==void 0?u.sS:u.Ss;return s?(u.Ss&&(f["SparseMatrix,"+m]=(d,g)=>u.Ss(d,g,s,!1)),h&&(f[m+", SparseMatrix"]=(d,g)=>h(g,d,s,!0))):(u.Ss&&(f["SparseMatrix,"+m]=e.referToSelf(d=>(g,v)=>u.Ss(g,v,d,!1))),h&&(f[m+", SparseMatrix"]=e.referToSelf(d=>(g,v)=>h(v,g,d,!0)))),s&&s.signatures&&yf(f,s.signatures),f}});var MS="mod",bz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],zu=S(MS,bz,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l,concat:u}=t,s=Uu({typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}),c=Sr({typed:e,equalScalar:a}),f=Xt({typed:e}),m=Wa({typed:e,equalScalar:a}),p=Lt({typed:e,equalScalar:a}),h=Nt({typed:e,DenseMatrix:l}),d=ct({typed:e,matrix:i,concat:u});return e(MS,{"number, number":g,"BigNumber, BigNumber":function(E,y){if(y.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return y.isZero()?E:E.mod(y)},"Fraction, Fraction":function(E,y){if(y.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return E.compare(0)>=0?E.mod(y):E.mod(y).add(y).mod(y)}},d({SS:m,DS:f,SD:c,Ss:p,sS:h}));function g(v,E){return E===0?v:v-E*s(v/E)}});var xz="matAlgo01xDSid",Dz=["typed"],dn=S(xz,Dz,t=>{var{typed:e}=t;return function(n,i,a,o){var l=n._data,u=n._size,s=n._datatype,c=i._values,f=i._index,m=i._ptr,p=i._size,h=i._datatype;if(u.length!==p.length)throw new ot(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v=typeof s=="string"&&s===h?s:void 0,E=v?e.find(a,[v,v]):a,y,D,b=[];for(y=0;y<d;y++)b[y]=[];var x=[],C=[];for(D=0;D<g;D++){for(var A=D+1,w=m[D],F=m[D+1],M=w;M<F;M++)y=f[M],x[y]=o?E(c[M],l[y][D]):E(l[y][D],c[M]),C[y]=A;for(y=0;y<d;y++)C[y]===A?b[y][D]=x[y]:b[y][D]=l[y][D]}return n.createDenseMatrix({data:b,size:[d,g],datatype:v})}});var wz="matAlgo04xSidSid",Ez=["typed","equalScalar"],As=S(wz,Ez,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var v=c[0],E=c[1],y,D=r,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));var C=l&&m?[]:void 0,A=[],w=[],F=l&&m?[]:void 0,M=l&&m?[]:void 0,B=[],k=[],R,P,T,I,V;for(P=0;P<E;P++){w[P]=A.length;var O=P+1;for(I=s[P],V=s[P+1],T=I;T<V;T++)R=u[T],A.push(R),B[R]=O,F&&(F[R]=l[T]);for(I=h[P],V=h[P+1],T=I;T<V;T++)if(R=p[T],B[R]===O){if(F){var Y=x(F[R],m[T]);D(Y,b)?B[R]=null:F[R]=Y}}else A.push(R),k[R]=O,M&&(M[R]=m[T]);if(F&&M)for(T=w[P];T<A.length;)R=A[T],B[R]===O?(C[T]=F[R],T++):k[R]===O?(C[T]=M[R],T++):A.splice(T,1)}return w[E]=A.length,i.createSparseMatrix({values:C,index:A,ptr:w,size:[v,E],datatype:y})}});var Cz="matAlgo10xSids",Fz=["typed","DenseMatrix"],kn=S(Cz,Fz,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,m=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],d,g=o;typeof m=="string"&&(d=m,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],E=[],y=[],D=0;D<h;D++){for(var b=D+1,x=c[D],C=c[D+1],A=x;A<C;A++){var w=s[A];E[w]=u[A],y[w]=b}for(var F=0;F<p;F++)D===0&&(v[F]=[]),y[F]===b?v[F][D]=l?g(a,E[F]):g(E[F],a):v[F][D]=a}return new r({data:v,size:[p,h],datatype:d})}});function la(t,e,r,n){if(!(this instanceof la))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}la.prototype=new Error;la.prototype.constructor=Error;la.prototype.name="ArgumentsError";la.prototype.isArgumentsError=!0;var TS="gcd",Az=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Mv="number | BigNumber | Fraction | Matrix | Array",Sz="".concat(Mv,", ").concat(Mv,", ...").concat(Mv);function IS(t){return!t.some(e=>Array.isArray(e))}var Tv=S(TS,Az,t=>{var{typed:e,matrix:r,config:n,round:i,equalScalar:a,zeros:o,BigNumber:l,DenseMatrix:u,concat:s}=t,c=zu({typed:e,config:n,round:i,matrix:r,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}),f=dn({typed:e}),m=As({typed:e,equalScalar:a}),p=kn({typed:e,DenseMatrix:u}),h=ct({typed:e,matrix:r,concat:s});return e(TS,{"number, number":d,"BigNumber, BigNumber":g,"Fraction, Fraction":(v,E)=>v.gcd(E)},h({SS:m,DS:f,Ss:p}),{[Sz]:e.referToSelf(v=>(E,y,D)=>{for(var b=v(E,y),x=0;x<D.length;x++)b=v(b,D[x]);return b}),Array:e.referToSelf(v=>E=>{if(E.length===1&&Array.isArray(E[0])&&IS(E[0]))return v(...E[0]);if(IS(E))return v(...E);throw new la("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(v=>E=>v(E.toArray()))});function d(v,E){if(!He(v)||!He(E))throw new Error("Parameters in function gcd must be integer numbers");for(var y;E!==0;)y=c(v,E),v=E,E=y;return v<0?-v:v}function g(v,E){if(!v.isInt()||!E.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new l(0);!E.isZero();){var D=c(v,E);v=E,E=D}return v.lt(y)?v.neg():v}});var Nz="matAlgo06xS0S0",_z=["typed","equalScalar"],Ha=S(Nz,_z,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var l=i._values,u=i._size,s=i._datatype,c=a._values,f=a._size,m=a._datatype;if(u.length!==f.length)throw new ot(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var p=u[0],h=u[1],d,g=r,v=0,E=o;typeof s=="string"&&s===m&&(d=s,g=e.find(r,[d,d]),v=e.convert(0,d),E=e.find(o,[d,d]));for(var y=l&&c?[]:void 0,D=[],b=[],x=y?[]:void 0,C=[],A=[],w=0;w<h;w++){b[w]=D.length;var F=w+1;if(Xh(i,w,C,x,A,F,D,E),Xh(a,w,C,x,A,F,D,E),x)for(var M=b[w];M<D.length;){var B=D[M];if(A[B]===F){var k=x[B];g(k,v)?D.splice(M,1):(y.push(k),M++)}else D.splice(M,1)}else for(var R=b[w];R<D.length;){var P=D[R];A[P]!==F?D.splice(R,1):R++}}return b[h]=D.length,i.createSparseMatrix({values:y,index:D,ptr:b,size:[p,h],datatype:d})}});var BS="lcm",Mz=["typed","matrix","equalScalar","concat"],Iv=S(BS,Mz,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=Sr({typed:e,equalScalar:n}),o=Ha({typed:e,equalScalar:n}),l=Lt({typed:e,equalScalar:n}),u=ct({typed:e,matrix:r,concat:i}),s="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(s,", ").concat(s,", ...").concat(s)]=e.referToSelf(m=>(p,h,d)=>{for(var g=m(p,h),v=0;v<d.length;v++)g=m(g,d[v]);return g}),e(BS,{"number, number":sg,"BigNumber, BigNumber":f,"Fraction, Fraction":(m,p)=>m.lcm(p)},u({SS:o,DS:a,Ss:l}),c);function f(m,p){if(!m.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(m.isZero())return m;if(p.isZero())return p;for(var h=m.times(p);!p.isZero();){var d=p;p=m.mod(d),m=d}return h.div(m).abs()}});var OS="log10",Tz=["typed","config","Complex"],Bv=S(OS,Tz,t=>{var{typed:e,config:r,Complex:n}=t;return e(OS,{number:function(a){return a>=0||r.predictable?ug(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||r.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>Ze(a,i))})});var kS="log2",Iz=["typed","config","Complex"],Ov=S(kS,Iz,t=>{var{typed:e,config:r,Complex:n}=t;return e(kS,{number:function(o){return o>=0||r.predictable?lg(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var Bz="multiplyScalar",Oz=["typed"],kv=S(Bz,Oz,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":tg,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})});var RS="multiply",kz=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Rv=S(RS,kz,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=t,l=Lt({typed:e,equalScalar:a}),u=Ar({typed:e});function s(b,x){switch(b.length){case 1:switch(x.length){case 1:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+b[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+b[1]+") must match Vector length ("+x[0]+")");break;case 2:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+b[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+b.length+" dimensions)")}}function c(b,x,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(b,x)}function f(b,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return m(b,x)}function m(b,x){var C=b._data,A=b._size,w=b._datatype,F=x._data,M=x._size,B=x._datatype,k=A[0],R=M[1],P,T=n,I=i;w&&B&&w===B&&typeof w=="string"&&(P=w,T=e.find(n,[P,P]),I=e.find(i,[P,P]));for(var V=[],O=0;O<R;O++){for(var Y=I(C[0],F[0][O]),$=1;$<k;$++)Y=T(Y,I(C[$],F[$][O]));V[O]=Y}return b.createDenseMatrix({data:V,size:[R],datatype:P})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":E}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":D});function d(b,x){var C=b._data,A=b._size,w=b._datatype,F=x._data,M=x._datatype,B=A[0],k=A[1],R,P=n,T=i;w&&M&&w===M&&typeof w=="string"&&(R=w,P=e.find(n,[R,R]),T=e.find(i,[R,R]));for(var I=[],V=0;V<B;V++){for(var O=C[V],Y=T(O[0],F[0]),$=1;$<k;$++)Y=P(Y,T(O[$],F[$]));I[V]=Y}return b.createDenseMatrix({data:I,size:[B],datatype:R})}function g(b,x){var C=b._data,A=b._size,w=b._datatype,F=x._data,M=x._size,B=x._datatype,k=A[0],R=A[1],P=M[1],T,I=n,V=i;w&&B&&w===B&&typeof w=="string"&&(T=w,I=e.find(n,[T,T]),V=e.find(i,[T,T]));for(var O=[],Y=0;Y<k;Y++){var $=C[Y];O[Y]=[];for(var W=0;W<P;W++){for(var q=V($[0],F[0][W]),te=1;te<R;te++)q=I(q,V($[te],F[te][W]));O[Y][W]=q}}return b.createDenseMatrix({data:O,size:[k,P],datatype:T})}function v(b,x){var C=b._data,A=b._size,w=b._datatype,F=x._values,M=x._index,B=x._ptr,k=x._size,R=x._datatype;if(!F)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P=A[0],T=k[1],I,V=n,O=i,Y=a,$=0;w&&R&&w===R&&typeof w=="string"&&(I=w,V=e.find(n,[I,I]),O=e.find(i,[I,I]),Y=e.find(a,[I,I]),$=e.convert(0,I));for(var W=[],q=[],te=[],ge=x.createSparseMatrix({values:W,index:q,ptr:te,size:[P,T],datatype:I}),ae=0;ae<T;ae++){te[ae]=q.length;var ce=B[ae],pe=B[ae+1];if(pe>ce)for(var ue=0,ne=0;ne<P;ne++){for(var me=ne+1,be=void 0,Be=ce;Be<pe;Be++){var We=M[Be];ue!==me?(be=O(C[ne][We],F[Be]),ue=me):be=V(be,O(C[ne][We],F[Be]))}ue===me&&!Y(be,$)&&(q.push(ne),W.push(be))}}return te[T]=q.length,ge}function E(b,x){var C=b._values,A=b._index,w=b._ptr,F=b._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=x._data,B=x._datatype,k=b._size[0],R=x._size[0],P=[],T=[],I=[],V,O=n,Y=i,$=a,W=0;F&&B&&F===B&&typeof F=="string"&&(V=F,O=e.find(n,[V,V]),Y=e.find(i,[V,V]),$=e.find(a,[V,V]),W=e.convert(0,V));var q=[],te=[];I[0]=0;for(var ge=0;ge<R;ge++){var ae=M[ge];if(!$(ae,W))for(var ce=w[ge],pe=w[ge+1],ue=ce;ue<pe;ue++){var ne=A[ue];te[ne]?q[ne]=O(q[ne],Y(ae,C[ue])):(te[ne]=!0,T.push(ne),q[ne]=Y(ae,C[ue]))}}for(var me=T.length,be=0;be<me;be++){var Be=T[be];P[be]=q[Be]}return I[1]=T.length,b.createSparseMatrix({values:P,index:T,ptr:I,size:[k,1],datatype:V})}function y(b,x){var C=b._values,A=b._index,w=b._ptr,F=b._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=x._data,B=x._datatype,k=b._size[0],R=x._size[0],P=x._size[1],T,I=n,V=i,O=a,Y=0;F&&B&&F===B&&typeof F=="string"&&(T=F,I=e.find(n,[T,T]),V=e.find(i,[T,T]),O=e.find(a,[T,T]),Y=e.convert(0,T));for(var $=[],W=[],q=[],te=b.createSparseMatrix({values:$,index:W,ptr:q,size:[k,P],datatype:T}),ge=[],ae=[],ce=0;ce<P;ce++){q[ce]=W.length;for(var pe=ce+1,ue=0;ue<R;ue++){var ne=M[ue][ce];if(!O(ne,Y))for(var me=w[ue],be=w[ue+1],Be=me;Be<be;Be++){var We=A[Be];ae[We]!==pe?(ae[We]=pe,W.push(We),ge[We]=V(ne,C[Be])):ge[We]=I(ge[We],V(ne,C[Be]))}}for(var z=q[ce],j=W.length,fe=z;fe<j;fe++){var H=W[fe];$[fe]=ge[H]}}return q[P]=W.length,te}function D(b,x){var C=b._values,A=b._index,w=b._ptr,F=b._datatype,M=x._values,B=x._index,k=x._ptr,R=x._datatype,P=b._size[0],T=x._size[1],I=C&&M,V,O=n,Y=i;F&&R&&F===R&&typeof F=="string"&&(V=F,O=e.find(n,[V,V]),Y=e.find(i,[V,V]));for(var $=I?[]:void 0,W=[],q=[],te=b.createSparseMatrix({values:$,index:W,ptr:q,size:[P,T],datatype:V}),ge=I?[]:void 0,ae=[],ce,pe,ue,ne,me,be,Be,We,z=0;z<T;z++){q[z]=W.length;var j=z+1;for(me=k[z],be=k[z+1],ne=me;ne<be;ne++)if(We=B[ne],I)for(pe=w[We],ue=w[We+1],ce=pe;ce<ue;ce++)Be=A[ce],ae[Be]!==j?(ae[Be]=j,W.push(Be),ge[Be]=Y(M[ne],C[ce])):ge[Be]=O(ge[Be],Y(M[ne],C[ce]));else for(pe=w[We],ue=w[We+1],ce=pe;ce<ue;ce++)Be=A[ce],ae[Be]!==j&&(ae[Be]=j,W.push(Be));if(I)for(var fe=q[z],H=W.length,K=fe;K<H;K++){var re=W[K];$[K]=ge[re]}}return q[T]=W.length,te}return e(RS,i,{"Array, Array":e.referTo("Matrix, Matrix",b=>(x,C)=>{s(Qe(x),Qe(C));var A=b(r(x),r(C));return Ge(A)?A.valueOf():A}),"Matrix, Matrix":function(x,C){var A=x.size(),w=C.size();return s(A,w),A.length===1?w.length===1?c(x,C,A[0]):f(x,C):w.length===1?p(x,C):h(x,C)},"Matrix, Array":e.referTo("Matrix,Matrix",b=>(x,C)=>b(x,r(C))),"Array, Matrix":e.referToSelf(b=>(x,C)=>b(r(x,C.storage()),C)),"SparseMatrix, any":function(x,C){return l(x,C,i,!1)},"DenseMatrix, any":function(x,C){return u(x,C,i,!1)},"any, SparseMatrix":function(x,C){return l(C,x,i,!0)},"any, DenseMatrix":function(x,C){return u(C,x,i,!0)},"Array, any":function(x,C){return u(r(x),C,i,!1).valueOf()},"any, Array":function(x,C){return u(r(C),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(b=>(x,C,A)=>{for(var w=b(x,C),F=0;F<A.length;F++)w=b(w,A[F]);return w})})});var PS="nthRoot",Rz=["typed","matrix","equalScalar","BigNumber","concat"],Pv=S(PS,Rz,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,concat:a}=t,o=dn({typed:e}),l=Sr({typed:e,equalScalar:n}),u=Ha({typed:e,equalScalar:n}),s=Lt({typed:e,equalScalar:n}),c=ct({typed:e,matrix:r,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(PS,{number:cg,"number, number":cg,BigNumber:p=>m(p,new i(2)),"BigNumber, BigNumber":m,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",p=>h=>p(r(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",p=>h=>p(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",p=>h=>p(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return u(h,d,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return o(h,d,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",p=>(h,d)=>p(r(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(h,d)=>{if(d.density()===1)return s(d,h,p,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:l,Ss:s,sS:!1}));function m(p,h){var d=i.precision,g=i.clone({precision:d+2}),v=new i(0),E=new g(1),y=h.isNegative();if(y&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return y?new g(1/0):0;if(!p.isFinite())return y?v:p;var D=p.abs().pow(E.div(h));return D=p.isNeg()?D.neg():D,new i((y?E.div(D):D).toPrecision(d))}});var LS="sign",Pz=["typed","BigNumber","Fraction","complex"],Lv=S(LS,Pz,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e(LS,{number:Vf,Complex:function(o){return o.im===0?n(Vf(o.re)):o.sign()},BigNumber:function(o){return new r(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var Lz="sqrt",qz=["config","typed","Complex"],qv=S(Lz,qz,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var qS="square",Vz=["typed"],Vv=S(qS,Vz,t=>{var{typed:e}=t;return e(qS,{number:fg,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var VS="subtract",Uz=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Uv=S(VS,Uz,t=>{var{typed:e,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:l}=t,u=dn({typed:e}),s=Xt({typed:e}),c=Wa({typed:e,equalScalar:n}),f=kn({typed:e,DenseMatrix:o}),m=Nt({typed:e,DenseMatrix:o}),p=ct({typed:e,matrix:r,concat:l});return e(VS,{"any, any":i},p({elop:i,SS:c,DS:u,SD:s,Ss:m,sS:f}))});var US="xgcd",zz=["typed","config","matrix","BigNumber"],zv=S(US,zz,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(US,{"number, number":function(l,u){var s=mg(l,u);return r.matrix==="Array"?s:n(s)},"BigNumber, BigNumber":a});function a(o,l){var u,s,c,f=new i(0),m=new i(1),p=f,h=m,d=m,g=f;if(!o.isInt()||!l.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!l.isZero();)s=o.div(l).floor(),c=o.mod(l),u=p,p=h.minus(s.times(p)),h=u,u=d,d=g.minus(s.times(d)),g=u,o=l,l=c;var v;return o.lt(f)?v=[o.neg(),h.neg(),g.neg()]:v=[o,o.isZero()?0:h,g],r.matrix==="Array"?v:n(v)}});var zS="invmod",Wz=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Wv=S(zS,Wz,t=>{var{typed:e,config:r,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:l,add:u,isInteger:s}=t;return e(zS,{"number, number":c,"BigNumber, BigNumber":c});function c(f,m){if(!s(f)||!s(m))throw new Error("Parameters in function invmod must be integer numbers");if(f=l(f,m),a(m,0))throw new Error("Divisor must be non zero");var p=i(f,m);p=p.valueOf();var[h,d]=p;return a(h,n(1))?(d=l(d,m),o(d,n(0))&&(d=u(d,m)),d):NaN}});var Hz="matAlgo09xS0Sf",Gz=["typed","equalScalar"],Wf=S(Hz,Gz,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var v=c[0],E=c[1],y,D=r,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));var C=l&&m?[]:void 0,A=[],w=[],F=C?[]:void 0,M=[],B,k,R,P,T;for(k=0;k<E;k++){w[k]=A.length;var I=k+1;if(F)for(P=h[k],T=h[k+1],R=P;R<T;R++)B=p[R],M[B]=I,F[B]=m[R];for(P=s[k],T=s[k+1],R=P;R<T;R++)if(B=u[R],F){var V=M[B]===I?F[B]:b,O=x(l[R],V);D(O,b)||(A.push(B),C.push(O))}else A.push(B)}return w[E]=A.length,i.createSparseMatrix({values:C,index:A,ptr:w,size:[v,E],datatype:y})}});var WS="dotMultiply",jz=["typed","matrix","equalScalar","multiplyScalar","concat"],Hv=S(WS,jz,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:i,concat:a}=t,o=Sr({typed:e,equalScalar:n}),l=Wf({typed:e,equalScalar:n}),u=Lt({typed:e,equalScalar:n}),s=ct({typed:e,matrix:r,concat:a});return e(WS,s({elop:i,SS:l,DS:o,Ss:u}))});function HS(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return Gv(t,e,function(n,i){return n&i})}function Ss(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function GS(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:Gv(t,e,function(i,a){return i|a})}function Gv(t,e,r){var n=t.constructor,i,a,o=+(t.s<0),l=+(e.s<0);if(o){i=Hf(Ss(t));for(var u=0;u<i.length;++u)i[u]^=1}else i=Hf(t);if(l){a=Hf(Ss(e));for(var s=0;s<a.length;++s)a[s]^=1}else a=Hf(e);var c,f,m;i.length<=a.length?(c=i,f=a,m=o):(c=a,f=i,m=l);var p=c.length,h=f.length,d=r(o,l)^1,g=new n(d^1),v=new n(1),E=new n(2),y=n.precision;for(n.config({precision:1e9});p>0;)r(c[--p],f[--h])===d&&(g=g.plus(v)),v=v.times(E);for(;h>0;)r(m,f[--h])===d&&(g=g.plus(v)),v=v.times(E);return n.config({precision:y}),d===0&&(g.s=-g.s),g}function Hf(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;r.charAt(o)==="0";)o--;var l=t.e,u=r.slice(0,o+1||1),s=u.length;if(l>0)if(++l>s)for(l-=s;l--;)u+="0";else l<s&&(u=u.slice(0,l)+"."+u.slice(l));for(var c=[0],f=0;f<u.length;){for(var m=c.length;m--;)c[m]*=10;c[0]+=parseInt(u.charAt(f++));for(var p=0;p<c.length;++p)c[p]>1&&((c[p+1]===null||c[p+1]===void 0)&&(c[p+1]=0),c[p+1]+=c[p]>>1,c[p]&=1)}return c.reverse()}function jS(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?Ss(e):e.eq(n)?Ss(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):Gv(t,e,function(i,a){return i^a})}function ZS(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function YS(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var JS="bitAnd",Zz=["typed","matrix","equalScalar","concat"],jv=S(JS,Zz,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=Sr({typed:e,equalScalar:n}),o=Ha({typed:e,equalScalar:n}),l=Lt({typed:e,equalScalar:n}),u=ct({typed:e,matrix:r,concat:i});return e(JS,{"number, number":hg,"BigNumber, BigNumber":HS},u({SS:o,DS:a,Ss:l}))});var XS="bitNot",Yz=["typed"],Zv=S(XS,Yz,t=>{var{typed:e}=t;return e(XS,{number:gg,BigNumber:Ss,"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var QS="bitOr",Jz=["typed","matrix","equalScalar","DenseMatrix","concat"],Yv=S(QS,Jz,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=dn({typed:e}),l=As({typed:e,equalScalar:n}),u=kn({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:r,concat:a});return e(QS,{"number, number":vg,"BigNumber, BigNumber":GS},s({SS:l,DS:o,Ss:u}))});var Xz="matAlgo07xSSf",Qz=["typed","DenseMatrix"],Or=S(Xz,Qz,t=>{var{typed:e,DenseMatrix:r}=t;return function(a,o,l){var u=a._size,s=a._datatype,c=o._size,f=o._datatype;if(u.length!==c.length)throw new ot(u.length,c.length);if(u[0]!==c[0]||u[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+c+")");var m=u[0],p=u[1],h,d=0,g=l;typeof s=="string"&&s===f&&(h=s,d=e.convert(0,h),g=e.find(l,[h,h]));var v,E,y=[];for(v=0;v<m;v++)y[v]=[];var D=[],b=[],x=[],C=[];for(E=0;E<p;E++){var A=E+1;for(n(a,E,x,D,A),n(o,E,C,b,A),v=0;v<m;v++){var w=x[v]===A?D[v]:d,F=C[v]===A?b[v]:d;y[v][E]=g(w,F)}}return new r({data:y,size:[m,p],datatype:h})};function n(i,a,o,l,u){for(var s=i._values,c=i._index,f=i._ptr,m=f[a],p=f[a+1];m<p;m++){var h=c[m];o[h]=u,l[h]=s[m]}}});var KS="bitXor",Kz=["typed","matrix","DenseMatrix","concat"],Jv=S(KS,Kz,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i}=t,a=Xt({typed:e}),o=Or({typed:e,DenseMatrix:n}),l=Nt({typed:e,DenseMatrix:n}),u=ct({typed:e,matrix:r,concat:i});return e(KS,{"number, number":yg,"BigNumber, BigNumber":jS},u({SS:o,DS:a,Ss:l}))});var $S="arg",$z=["typed"],Xv=S($S,$z,t=>{var{typed:e}=t;return e($S,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var eN="conj",eW=["typed"],Qv=S(eN,eW,t=>{var{typed:e}=t;return e(eN,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var tN="im",tW=["typed"],Kv=S(tN,tW,t=>{var{typed:e}=t;return e(tN,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var rN="re",rW=["typed"],$v=S(rN,rW,t=>{var{typed:e}=t;return e(rN,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var nN="not",nW=["typed"],e0=S(nN,nW,t=>{var{typed:e}=t;return e(nN,{"null | undefined":()=>!0,number:Cg,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var iN="or",iW=["typed","matrix","equalScalar","DenseMatrix","concat"],t0=S(iN,iW,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Xt({typed:e}),l=Wa({typed:e,equalScalar:n}),u=Nt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:r,concat:a});return e(iN,{"number, number":Fg,"Complex, Complex":function(f,m){return f.re!==0||f.im!==0||m.re!==0||m.im!==0},"BigNumber, BigNumber":function(f,m){return!f.isZero()&&!f.isNaN()||!m.isZero()&&!m.isNaN()},"Unit, Unit":e.referToSelf(c=>(f,m)=>c(f.value||0,m.value||0))},s({SS:l,DS:o,Ss:u}))});var aN="xor",aW=["typed","matrix","DenseMatrix","concat"],r0=S(aN,aW,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i}=t,a=Xt({typed:e}),o=Or({typed:e,DenseMatrix:n}),l=Nt({typed:e,DenseMatrix:n}),u=ct({typed:e,matrix:r,concat:i});return e(aN,{"number, number":Ag,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(s=>(c,f)=>s(c.value||0,f.value||0))},u({SS:o,DS:a,Ss:l}))});var oN="concat",oW=["typed","matrix","isInteger"],Wu=S(oN,oW,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(oN,{"...Array | Matrix | number | BigNumber":function(a){var o,l=a.length,u=-1,s,c=!1,f=[];for(o=0;o<l;o++){var m=a[o];if(Ge(m)&&(c=!0),it(m)||$e(m)){if(o!==l-1)throw new Error("Dimension must be specified as last argument");if(s=u,u=m.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||o>0&&u>s)throw new sn(u,s+1)}else{var p=Je(m).valueOf(),h=Qe(p);if(f[o]=p,s=u,u=h.length-1,o>0&&u!==s)throw new ot(s+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=Sh(d,f.shift(),u);return c?r(d):d},"...string":function(a){return a.join("")}})});var sN="column",sW=["typed","Index","matrix","range"],Hu=S(sN,sW,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(sN,{"Matrix, number":a,"Array, number":function(l,u){return a(n(Je(l)),u).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Pt(l,o.size()[1]);var u=i(0,o.size()[0]),s=new r(u,l),c=o.subset(s);return Ge(c)?c:n([[c]])}});var uN="count",uW=["typed","size","prod"],n0=S(uN,uW,t=>{var{typed:e,size:r,prod:n}=t;return e(uN,{string:function(a){return a.length},"Matrix | Array":function(a){return n(r(a))}})});var lN="cross",lW=["typed","matrix","subtract","multiply"],i0=S(lN,lW,t=>{var{typed:e,matrix:r,subtract:n,multiply:i}=t;return e(lN,{"Matrix, Matrix":function(l,u){return r(a(l.toArray(),u.toArray()))},"Matrix, Array":function(l,u){return r(a(l.toArray(),u))},"Array, Matrix":function(l,u){return r(a(l,u.toArray()))},"Array, Array":a});function a(o,l){var u=Math.max(Qe(o).length,Qe(l).length);o=bs(o),l=bs(l);var s=Qe(o),c=Qe(l);if(s.length!==1||c.length!==1||s[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+s.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(o[1],l[2]),i(o[2],l[1])),n(i(o[2],l[0]),i(o[0],l[2])),n(i(o[0],l[1]),i(o[1],l[0]))];return u>1?[f]:f}});var cN="diag",cW=["typed","matrix","DenseMatrix","SparseMatrix"],a0=S(cN,cW,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(cN,{Array:function(s){return a(s,0,Qe(s),null)},"Array, number":function(s,c){return a(s,c,Qe(s),null)},"Array, BigNumber":function(s,c){return a(s,c.toNumber(),Qe(s),null)},"Array, string":function(s,c){return a(s,0,Qe(s),c)},"Array, number, string":function(s,c,f){return a(s,c,Qe(s),f)},"Array, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),Qe(s),f)},Matrix:function(s){return a(s,0,s.size(),s.storage())},"Matrix, number":function(s,c){return a(s,c,s.size(),s.storage())},"Matrix, BigNumber":function(s,c){return a(s,c.toNumber(),s.size(),s.storage())},"Matrix, string":function(s,c){return a(s,0,s.size(),c)},"Matrix, number, string":function(s,c,f){return a(s,c,s.size(),f)},"Matrix, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),s.size(),f)}});function a(u,s,c,f){if(!He(s))throw new TypeError("Second parameter in function diag must be an integer");var m=s>0?s:0,p=s<0?-s:0;switch(c.length){case 1:return o(u,s,f,c[0],p,m);case 2:return l(u,s,f,c,p,m)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(u,s,c,f,m,p){var h=[f+m,f+p];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var d=c==="sparse"?i.diagonal(h,u,s):n.diagonal(h,u,s);return c!==null?d:d.valueOf()}function l(u,s,c,f,m,p){if(Ge(u)){var h=u.diagonal(s);return c!==null?c!==h.storage()?r(h,c):h:h.valueOf()}for(var d=Math.min(f[0]-m,f[1]-p),g=[],v=0;v<d;v++)g[v]=u[v+m][v+p];return c!==null?r(g):g}});var Gu=xr(xh(),1);function li(t,e,r,n,i){if(Gu.default.isTypedFunction(t)){var a=[e,r,n],o=Gu.default.resolve(t,a);if(o)return f(o.implementation,a);var l=[e,r],u=Gu.default.resolve(t,l);if(u)return f(u.implementation,l);var s=[e],c=Gu.default.resolve(t,s);return c?f(c.implementation,s):f(t,a)}else return t(e,r,n);function f(m,p){try{return m.apply(m,p)}catch(g){var h;if(g instanceof TypeError&&((h=g.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat(Dt(e))),p.length>=2&&d.push("index: ".concat(Dt(r))),p.length>=3&&d.push("array: ".concat(Dt(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(t.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(r)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(t.name,": ").concat(g.message))}}}var fW="filter",mW=["typed"],o0=S(fW,mW,t=>{var{typed:e}=t;return e("filter",{"Array, function":fN,"Matrix, function":function(n,i){return n.create(fN(n.toArray(),i))},"Array, RegExp":xs,"Matrix, RegExp":function(n,i){return n.create(xs(n.toArray(),i))}})});function fN(t,e){return Af(t,function(r,n,i){return li(e,r,[n],i,"filter")})}var mN="flatten",pW=["typed","matrix"],s0=S(mN,pW,t=>{var{typed:e,matrix:r}=t;return e(mN,{Array:function(i){return dt(i)},Matrix:function(i){var a=dt(i.toArray());return r(a)}})});var pN="forEach",dW=["typed"],u0=S(pN,dW,t=>{var{typed:e}=t;return e(pN,{"Array, function":hW,"Matrix, function":function(n,i){n.forEach(i)}})});function hW(t,e){var r=function n(i,a){if(Array.isArray(i))Ra(i,function(o,l){n(o,a.concat(l))});else return li(e,i,a,t,"forEach")};r(t,[])}var dN="getMatrixDataType",gW=["typed"],l0=S(dN,gW,t=>{var{typed:e}=t;return e(dN,{Array:function(n){return Pa(n,Dt)},Matrix:function(n){return n.getDataType()}})});var hN="identity",vW=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],c0=S(hN,vW,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=t;return e(hN,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return u(c,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return u(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return u(c,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,m){return u(c,f,m)},Array:function(c){return l(c)},"Array, string":function(c,f){return l(c,f)},Matrix:function(c){return l(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return l(c.valueOf(),f)}});function l(s,c){switch(s.length){case 0:return c?n(c):[];case 1:return u(s[0],s[0],c);case 2:return u(s[0],s[1],c);default:throw new Error("Vector containing two values expected")}}function u(s,c,f){var m=$e(s)||$e(c)?i:null;if($e(s)&&(s=s.toNumber()),$e(c)&&(c=c.toNumber()),!He(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!He(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var p=m?new i(1):1,h=m?new m(0):0,d=[s,c];if(f){if(f==="sparse")return o.diagonal(d,p,0,h);if(f==="dense")return a.diagonal(d,p,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=Ai([],d,h),v=s<c?s:c,E=0;E<v;E++)g[E][E]=p;return g}});var gN="kron",yW=["typed","matrix","multiplyScalar"],f0=S(gN,yW,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(gN,{"Matrix, Matrix":function(o,l){return r(i(o.toArray(),l.toArray()))},"Matrix, Array":function(o,l){return r(i(o.toArray(),l))},"Array, Matrix":function(o,l){return r(i(o,l.toArray()))},"Array, Array":i});function i(a,o){if(Qe(a).length===1&&(a=[a]),Qe(o).length===1&&(o=[o]),Qe(a).length>2||Qe(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var l=[],u=[];return a.map(function(s){return o.map(function(c){return u=[],l.push(u),s.map(function(f){return c.map(function(m){return u.push(n(f,m))})})})})&&l}});var vN="map",bW=["typed"],m0=S(vN,bW,t=>{var{typed:e}=t;return e(vN,{"Array, function":xW,"Matrix, function":function(n,i){return n.map(i)}})});function xW(t,e){var r=function n(i,a){return Array.isArray(i)?i.map(function(o,l){return n(o,a.concat(l))}):li(e,i,a,t,"map")};return r(t,[])}var yN="diff",DW=["typed","matrix","subtract","number"],ju=S(yN,DW,t=>{var{typed:e,matrix:r,subtract:n,number:i}=t;return e(yN,{"Array | Matrix":function(c){return Ge(c)?r(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,f){if(!He(f))throw new RangeError("Dimension must be a whole number");return Ge(c)?r(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",s=>(c,f)=>s(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",s=>(c,f)=>s(c,i(f)))});function a(s,c){if(Ge(s)&&(s=s.toArray()),!Array.isArray(s))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return s.forEach(m=>{f.push(a(m,c-1))}),f}else{if(c===0)return o(s);throw RangeError("Cannot have negative dimension")}}function o(s){for(var c=[],f=s.length,m=1;m<f;m++)c.push(l(s[m-1],s[m]));return c}function l(s,c){Ge(s)&&(s=s.toArray()),Ge(c)&&(c=c.toArray());var f=Array.isArray(s),m=Array.isArray(c);if(f&&m)return u(s,c);if(!f&&!m)return n(c,s);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function u(s,c){if(s.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],m=s.length,p=0;p<m;p++)f.push(l(s[p],c[p]));return f}});var wW="ones",EW=["typed","config","matrix","BigNumber"],p0=S(wW,EW,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return r.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(u,s){var c=o(u),f=c?new i(1):1;if(l(u),s){var m=n(s);return u.length>0?m.resize(u,f):m}else{var p=[];return u.length>0?Ai(p,u,f):p}}function o(u){var s=!1;return u.forEach(function(c,f,m){$e(c)&&(s=!0,m[f]=c.toNumber())}),s}function l(u){u.forEach(function(s){if(typeof s!="number"||!He(s)||s<0)throw new Error("Parameters in function ones must be positive integers")})}});function Ns(){throw new Error('No "bignumber" implementation available')}function Gf(){throw new Error('No "fraction" implementation available')}function jf(){throw new Error('No "matrix" implementation available')}var bN="range",CW=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Zu=S(bN,CW,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c}=t;return e(bN,{string:m,"string, boolean":m,"number, number":function(g,v){return f(p(g,v,1,!1))},"number, number, number":function(g,v,E){return f(p(g,v,E,!1))},"number, number, boolean":function(g,v,E){return f(p(g,v,1,E))},"number, number, number, boolean":function(g,v,E,y){return f(p(g,v,E,y))},"BigNumber, BigNumber":function(g,v){var E=g.constructor;return f(p(g,v,new E(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,v,E){return f(p(g,v,E,!1))},"BigNumber, BigNumber, boolean":function(g,v,E){var y=g.constructor;return f(p(g,v,new y(1),E))},"BigNumber, BigNumber, BigNumber, boolean":function(g,v,E,y){return f(p(g,v,E,y))},"Unit, Unit, Unit":function(g,v,E){return f(p(g,v,E,!1))},"Unit, Unit, Unit, boolean":function(g,v,E,y){return f(p(g,v,E,y))}});function f(d){return r.matrix==="Matrix"?n?n(d):jf():d}function m(d,g){var v=h(d);if(!v)throw new SyntaxError('String "'+d+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&Ns(),f(p(i(v.start),i(v.end),i(v.step)),g)):f(p(v.start,v.end,v.step,g))}function p(d,g,v,E){for(var y=[],D=c(v)?E?o:a:E?u:l,b=d;D(b,g);)y.push(b),b=s(b,v);return y}function h(d){var g=d.split(":"),v=g.map(function(y){return Number(y)}),E=v.some(function(y){return isNaN(y)});if(E)return null;switch(v.length){case 2:return{start:v[0],end:v[1],step:1};case 3:return{start:v[0],end:v[2],step:v[1]};default:return null}}});var xN="reshape",FW=["typed","isInteger","matrix"],d0=S(xN,FW,t=>{var{typed:e,isInteger:r}=t;return e(xN,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!r(o))throw new TypeError("Invalid size for dimension: "+o)}),Iu(i,a)}})});var AW="resize",SW=["config","matrix"],h0=S(AW,SW,t=>{var{config:e,matrix:r}=t;return function(a,o,l){if(arguments.length!==2&&arguments.length!==3)throw new la("resize",arguments.length,2,3);if(Ge(o)&&(o=o.valueOf()),$e(o[0])&&(o=o.map(function(c){return $e(c)?c.toNumber():c})),Ge(a))return a.resize(o,l,!0);if(typeof a=="string")return n(a,o,l);var u=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return Je(a)}else{Array.isArray(a)||(a=[a]),a=Je(a);var s=Ai(a,o,l);return u?r(s):s}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new ot(a.length,1);var l=a[0];if(typeof l!="number"||!He(l))throw new TypeError("Invalid size, must contain positive integers (size: "+at(a)+")");if(i.length>l)return i.substring(0,l);if(i.length<l){for(var u=i,s=0,c=l-i.length;s<c;s++)u+=o;return u}else return i}});var DN="rotate",NW=["typed","multiply","rotationMatrix"],g0=S(DN,NW,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(DN,{"Array , number | BigNumber | Complex | Unit":function(o,l){i(o,2);var u=r(n(l),o);return u.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,l){return i(o,2),r(n(l),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,u){i(o,3);var s=r(n(l,u),o);return s},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,u){return i(o,3),r(n(l,u),o)}});function i(a,o){var l=Array.isArray(a)?Qe(a):a.size();if(l.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l.length===2&&l[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var wN="rotationMatrix",_W=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],v0=S(wN,_W,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:l,matrix:u,DenseMatrix:s,SparseMatrix:c,cos:f,sin:m}=t;return e(wN,{"":function(){return r.matrix==="Matrix"?u([]):[]},string:function(y){return u(y)},"number | BigNumber | Complex | Unit":function(y){return p(y,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,D){return p(y,D)},"number | BigNumber | Complex | Unit, Array":function(y,D){var b=u(D);return h(b),v(y,b,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,D){h(D);var b=D.storage()||(r.matrix==="Matrix"?"dense":void 0);return v(y,D,b)},"number | BigNumber | Complex | Unit, Array, string":function(y,D,b){var x=u(D);return h(x),v(y,x,b)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,D,b){return h(D),v(y,D,b)}});function p(E,y){var D=$e(E),b=D?new l(-1):-1,x=f(E),C=m(E),A=[[x,n(b,C)],[C,x]];return g(A,y)}function h(E){var y=E.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(E){return E.reduce((y,D)=>n(y,D))}function g(E,y){if(y){if(y==="sparse")return new c(E);if(y==="dense")return new s(E);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return E}function v(E,y,D){var b=o(y);if(b===0)throw new RangeError("Rotation around zero vector");var x=$e(E)?l:null,C=x?new x(1):1,A=x?new x(-1):-1,w=x?new x(y.get([0])/b):y.get([0])/b,F=x?new x(y.get([1])/b):y.get([1])/b,M=x?new x(y.get([2])/b):y.get([2])/b,B=f(E),k=i(C,a(B)),R=m(E),P=i(B,d([w,w,k])),T=i(d([w,F,k]),d([A,M,R])),I=i(d([w,M,k]),d([F,R])),V=i(d([w,F,k]),d([M,R])),O=i(B,d([F,F,k])),Y=i(d([F,M,k]),d([A,w,R])),$=i(d([w,M,k]),d([A,F,R])),W=i(d([F,M,k]),d([w,R])),q=i(B,d([M,M,k])),te=[[P,T,I],[V,O,Y],[$,W,q]];return g(te,D)}});var EN="row",MW=["typed","Index","matrix","range"],Yu=S(EN,MW,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(EN,{"Matrix, number":a,"Array, number":function(l,u){return a(n(Je(l)),u).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Pt(l,o.size()[0]);var u=i(0,o.size()[1]),s=new r(l,u),c=o.subset(s);return Ge(c)?c:n([[c]])}});var CN="size",TW=["typed","config","?matrix"],y0=S(CN,TW,t=>{var{typed:e,config:r,matrix:n}=t;return e(CN,{Matrix:function(a){return a.create(a.size())},Array:Qe,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([]):jf()}})});var FN="squeeze",IW=["typed","matrix"],b0=S(FN,IW,t=>{var{typed:e,matrix:r}=t;return e(FN,{Array:function(i){return bs(Je(i))},Matrix:function(i){var a=bs(i.toArray());return Array.isArray(a)?r(a):a},any:function(i){return Je(i)}})});var AN="subset",BW=["typed","matrix","zeros","add"],Ju=S(AN,BW,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t;return e(AN,{"Matrix, Index":function(l,u){return Eo(u)?r():(Tu(l,u),l.subset(u))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(l,u){var s=o(r(l),u);return u.isScalar()?s:s.valueOf()}}),"Object, Index":kW,"string, Index":OW,"Matrix, Index, any, any":function(l,u,s,c){return Eo(u)?l:(Tu(l,u),l.clone().subset(u,a(s,u),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s,c){var f=o(r(l),u,s,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s){return o(r(l),u,s,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s){return o(l,u,s,void 0)}}),"string, Index, string":SN,"string, Index, string, string":SN,"Object, Index, any":RW});function a(o,l){if(typeof o=="string")throw new Error("can't boradcast a string");if(l._isScalar)return o;var u=l.size();if(u.every(s=>s>0))try{return i(o,n(u))}catch(s){return o}else return o}});function OW(t,e){if(!Oa(e))throw new TypeError("Index expected");if(Eo(e))return"";if(Tu(Array.from(t),e),e.size().length!==1)throw new ot(e.size().length,1);var r=t.length;Pt(e.min()[0],r),Pt(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(a){i+=t.charAt(a)}),i}function SN(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Eo(e))return t;if(Tu(Array.from(t),e),e.size().length!==1)throw new ot(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==r.length)throw new ot(i.size()[0],r.length);var o=t.length;Pt(e.min()[0]),Pt(e.max()[0]);for(var l=[],u=0;u<o;u++)l[u]=t.charAt(u);if(i.forEach(function(f,m){l[f]=r.charAt(m[0])}),l.length>o)for(var s=o-1,c=l.length;s<c;s++)l[s]||(l[s]=n);return l.join("")}function kW(t,e){if(!Eo(e)){if(e.size().length!==1)throw new ot(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return ur(t,r)}}function RW(t,e,r){if(Eo(e))return t;if(e.size().length!==1)throw new ot(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Je(t);return zi(i,n,r),i}var NN="transpose",PW=["typed","matrix"],x0=S(NN,PW,t=>{var{typed:e,matrix:r}=t;return e(NN,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:Je});function n(o){var l=o.size(),u;switch(l.length){case 1:u=o.clone();break;case 2:{var s=l[0],c=l[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+at(l)+")");switch(o.storage()){case"dense":u=i(o,s,c);break;case"sparse":u=a(o,s,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+at(l)+")")}return u}function i(o,l,u){for(var s=o._data,c=[],f,m=0;m<u;m++){f=c[m]=[];for(var p=0;p<l;p++)f[p]=Je(s[p][m])}return o.createDenseMatrix({data:c,size:[u,l],datatype:o._datatype})}function a(o,l,u){for(var s=o._values,c=o._index,f=o._ptr,m=s?[]:void 0,p=[],h=[],d=[],g=0;g<l;g++)d[g]=0;var v,E,y;for(v=0,E=c.length;v<E;v++)d[c[v]]++;for(var D=0,b=0;b<l;b++)h.push(D),D+=d[b],d[b]=h[b];for(h.push(D),y=0;y<u;y++)for(var x=f[y],C=f[y+1],A=x;A<C;A++){var w=d[c[A]]++;p[w]=y,s&&(m[w]=Je(s[A]))}return o.createSparseMatrix({values:m,index:p,ptr:h,size:[u,l],datatype:o._datatype})}});var _N="ctranspose",LW=["typed","transpose","conj"],D0=S(_N,LW,t=>{var{typed:e,transpose:r,conj:n}=t;return e(_N,{any:function(a){return n(r(a))}})});var MN="zeros",qW=["typed","config","matrix","BigNumber"],w0=S(MN,qW,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(MN,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return r.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(u,s){var c=o(u),f=c?new i(0):0;if(l(u),s){var m=n(s);return u.length>0?m.resize(u,f):m}else{var p=[];return u.length>0?Ai(p,u,f):p}}function o(u){var s=!1;return u.forEach(function(c,f,m){$e(c)&&(s=!0,m[f]=c.toNumber())}),s}function l(u){u.forEach(function(s){if(typeof s!="number"||!He(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});var TN="fft",VW=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],E0=S(TN,VW,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:l,i:u,dotDivide:s,conj:c,pow:f,ceil:m,log2:p}=t;return e(TN,{Array:h,Matrix:function(y){return y.create(h(y.toArray()))}});function h(E){var y=Qe(E);return y.length===1?v(E,y[0]):d(E.map(D=>h(D,y.slice(1))),0)}function d(E,y){var D=Qe(E);if(y!==0)return new Array(D[0]).fill(0).map((x,C)=>d(E[C],y-1));if(D.length===1)return v(E);function b(x){var C=Qe(x);return new Array(C[1]).fill(0).map((A,w)=>new Array(C[0]).fill(0).map((F,M)=>x[M][w]))}return b(d(b(E),1))}function g(E){for(var y=E.length,D=o(a(i(-1,i(u,l)),y)),b=[],x=1-y;x<y;x++)b.push(f(D,a(f(x,2),2)));for(var C=f(2,m(p(y+y-1))),A=[...new Array(y).fill(0).map((T,I)=>i(E[I],b[y-1+I])),...new Array(C-y).fill(0)],w=[...new Array(y+y-1).fill(0).map((T,I)=>a(1,b[I])),...new Array(C-(y+y-1)).fill(0)],F=v(A),M=v(w),B=new Array(C).fill(0).map((T,I)=>i(F[I],M[I])),k=s(c(h(c(B))),C),R=[],P=y-1;P<y+y-1;P++)R.push(i(k[P],b[P]));return R}function v(E){var y=E.length;if(y===1)return[E[0]];if(y%2===0){for(var D=[...v(E.filter((A,w)=>w%2===0),y/2),...v(E.filter((A,w)=>w%2===1),y/2)],b=0;b<y/2;b++){var x=D[b],C=i(D[b+y/2],o(i(i(l,u),a(-b,y))));D[b]=n(x,C),D[b+y/2]=n(x,i(-1,C))}return D}else return g(E)}});var IN="ifft",UW=["typed","fft","dotDivide","conj"],C0=S(IN,UW,t=>{var{typed:e,fft:r,dotDivide:n,conj:i}=t;return e(IN,{"Array | Matrix":function(o){var l=Ge(o)?o.size():Qe(o);return n(i(r(i(o))),l.reduce((u,s)=>u*s,1))}})});function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function F0(t,e){if(Ga(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ga(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A0(t){var e=F0(t,"string");return Ga(e)==="symbol"?e:String(e)}function Tt(t,e,r){return e=A0(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(r),!0).forEach(function(n){Tt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WW="solveODE",HW=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],S0=S(WW,HW,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,max:o,map:l,abs:u,isPositive:s,isNegative:c,larger:f,smaller:m,matrix:p,bignumber:h,unaryMinus:d}=t;function g(A){return function(w,F,M,B){var k=!(F.length===2&&(F.every(x)||F.every(nn)));if(k)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var R=F[0],P=F[1],T=f(P,R),I=B.firstStep;if(I!==void 0&&!s(I))throw new Error('"firstStep" must be positive');var V=B.maxStep;if(V!==void 0&&!s(V))throw new Error('"maxStep" must be positive');var O=B.minStep;if(O&&c(O))throw new Error('"minStep" must be positive or zero');var Y=[R,P,I,O,V].filter(Le=>Le!==void 0);if(!(Y.every(x)||Y.every(nn)))throw new Error('Inconsistent type of "t" dependant variables');for(var $=1,W=B.tol?B.tol:1e-4,q=B.minDelta?B.minDelta:.2,te=B.maxDelta?B.maxDelta:5,ge=B.maxIter?B.maxIter:1e4,ae=[R,P,...M,V,O].some($e),[ce,pe,ue,ne]=ae?[h(A.a),h(A.c),h(A.b),h(A.bp)]:[A.a,A.c,A.b,A.bp],me=I?T?I:d(I):a(n(P,R),$),be=[R],Be=[M],We=n(ue,ne),z=0,j=0,fe=D(T),H=b(T);fe(be[z],P);){var K=[];me=H(be[z],P,me),K.push(w(be[z],Be[z]));for(var re=1;re<pe.length;++re)K.push(w(r(be[z],i(pe[re],me)),r(Be[z],i(me,ce[re],K))));var ye=o(u(l(i(We,K),Le=>nn(Le)?Le.value:Le)));ye<W&&W/ye>1/4&&(be.push(r(be[z],me)),Be.push(r(Be[z],i(me,ue,K))),z++);var ve=.84*(W/ye)**(1/5);if(m(ve,q)?ve=q:f(ve,te)&&(ve=te),ve=ae?h(ve):ve,me=i(me,ve),V&&f(u(me),V)?me=T?V:d(V):O&&m(u(me),O)&&(me=T?O:d(O)),j++,j>ge)throw new Error("Maximum number of iterations reached, try changing options")}return{t:be,y:Be}}}function v(A,w,F,M){var B=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],k=[null,1/2,3/4,1],R=[2/9,1/3,4/9,0],P=[7/24,1/4,1/3,1/8],T={a:B,c:k,b:R,bp:P};return g(T)(A,w,F,M)}function E(A,w,F,M){var B=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],k=[null,1/5,3/10,4/5,8/9,1,1],R=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],P=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],T={a:B,c:k,b:R,bp:P};return g(T)(A,w,F,M)}function y(A,w,F,M){var B=M.method?M.method:"RK45",k={RK23:v,RK45:E};if(B.toUpperCase()in k){var R=zW({},M);return delete R.method,k[B.toUpperCase()](A,w,F,R)}else{var P=Object.keys(k).map(I=>'"'.concat(I,'"')),T="".concat(P.slice(0,-1).join(", ")," and ").concat(P.slice(-1));throw new Error('Unavailable method "'.concat(B,'". Available methods are ').concat(T))}}function D(A){return A?m:f}function b(A){var w=A?f:m;return function(F,M,B){var k=r(F,B);return w(k,M)?n(M,F):B}}function x(A){return $e(A)||it(A)}function C(A,w,F,M){var B=y(A,w.toArray(),F.toArray(),M);return{t:p(B.t),y:p(B.y)}}return e("solveODE",{"function, Array, Array, Object":y,"function, Matrix, Matrix, Object":C,"function, Array, Array":(A,w,F)=>y(A,w,F,{}),"function, Matrix, Matrix":(A,w,F)=>C(A,w,F,{}),"function, Array, number | BigNumber | Unit":(A,w,F)=>{var M=y(A,w,[F],{});return{t:M.t,y:M.y.map(B=>B[0])}},"function, Matrix, number | BigNumber | Unit":(A,w,F)=>{var M=y(A,w.toArray(),[F],{});return{t:p(M.t),y:p(M.y.map(B=>B[0]))}},"function, Array, number | BigNumber | Unit, Object":(A,w,F,M)=>{var B=y(A,w,[F],M);return{t:B.t,y:B.y.map(k=>k[0])}},"function, Matrix, number | BigNumber | Unit, Object":(A,w,F,M)=>{var B=y(A,w.toArray(),[F],M);return{t:p(B.t),y:p(B.y.map(k=>k[0]))}}})});var GW="erf",jW=["typed"],N0=S(GW,jW,t=>{var{typed:e}=t;return e("name",{number:function(o){var l=Math.abs(o);return l>=JW?oi(o):l<=ZW?oi(o)*r(l):l<=4?oi(o)*(1-n(l)):oi(o)*(1-i(l))},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a))});function r(a){var o=a*a,l=ca[0][4]*o,u=o,s;for(s=0;s<3;s+=1)l=(l+ca[0][s])*o,u=(u+_s[0][s])*o;return a*(l+ca[0][3])/(u+_s[0][3])}function n(a){var o=ca[1][8]*a,l=a,u;for(u=0;u<7;u+=1)o=(o+ca[1][u])*a,l=(l+_s[1][u])*a;var s=(o+ca[1][7])/(l+_s[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*s}function i(a){var o=1/(a*a),l=ca[2][5]*o,u=o,s;for(s=0;s<4;s+=1)l=(l+ca[2][s])*o,u=(u+_s[2][s])*o;var c=o*(l+ca[2][4])/(u+_s[2][4]);c=(YW-c)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*c}}),ZW=.46875,YW=.5641895835477563,ca=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],_s=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],JW=Math.pow(2,53);var ON="zeta",XW=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],_0=S(ON,XW,t=>{var{typed:e,config:r,multiply:n,pow:i,divide:a,factorial:o,equal:l,smallerEq:u,isNegative:s,gamma:c,sin:f,subtract:m,add:p,Complex:h,BigNumber:d,pi:g}=t;return e(ON,{number:x=>v(x,C=>C,()=>20),BigNumber:x=>v(x,C=>new d(C),()=>Math.abs(Math.log10(r.epsilon))),Complex:E});function v(x,C,A){return l(x,0)?C(-.5):l(x,1)?C(NaN):isFinite(x)?y(x,C,A,w=>w):s(x)?C(NaN):C(1)}function E(x){return x.re===0&&x.im===0?new h(-.5):x.re===1?new h(NaN,NaN):x.re===1/0&&x.im===0?new h(1):x.im===1/0||x.re===-1/0?new h(NaN,NaN):y(x,C=>C,C=>Math.round(1.3*15+.9*Math.abs(C.im)),C=>C.re)}function y(x,C,A,w){var F=A(x);if(w(x)>-(F-1)/2)return b(x,C(F),C);var M=n(i(2,x),i(C(g),m(x,1)));return M=n(M,f(n(a(C(g),2),x))),M=n(M,c(m(1,x))),n(M,y(m(1,x),C,A,w))}function D(x,C){for(var A=x,w=x;u(w,C);w=p(w,1)){var F=a(n(o(p(C,m(w,1))),i(4,w)),n(o(m(C,w)),o(n(2,w))));A=p(A,F)}return n(C,A)}function b(x,C,A){for(var w=a(1,n(D(A(0),C),m(1,i(2,m(1,x))))),F=A(0),M=A(1);u(M,C);M=p(M,1))F=p(F,a(n((-1)**(M-1),D(M,C)),i(M,x)));return n(w,F)}});var kN="mode",QW=["typed","isNaN","isNumeric"],M0=S(kN,QW,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(kN,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=dt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var l={},u=[],s=0,c=0;c<a.length;c++){var f=a[c];if(n(f)&&r(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in l||(l[f]=0),l[f]++,l[f]===s?u.push(f):l[f]>s&&(s=l[f],u=[f])}return u}});function hr(t,e,r){var n;return String(t).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+Dt(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+Dt(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var RN="prod",KW=["typed","config","multiplyScalar","numeric"],T0=S(RN,KW,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:i}=t;return e(RN,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(l,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(l){return a(l)}});function a(o){var l;if(pn(o,function(u){try{l=l===void 0?u:n(l,u)}catch(s){throw hr(s,"prod",u)}}),typeof l=="string"&&(l=i(l,r.number)),l===void 0)throw new Error("Cannot calculate prod of an empty array");return l}});var PN="format",$W=["typed"],I0=S(PN,$W,t=>{var{typed:e}=t;return e(PN,{any:at,"any, Object | function | number":at})});var LN="bin",eH=["typed","format"],B0=S(LN,eH,t=>{var{typed:e,format:r}=t;return e(LN,{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"bin",wordSize:a})}})});var qN="oct",tH=["typed","format"],O0=S(qN,tH,t=>{var{typed:e,format:r}=t;return e(qN,{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"oct",wordSize:a})}})});var VN="hex",rH=["typed","format"],k0=S(VN,rH,t=>{var{typed:e,format:r}=t;return e(VN,{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"hex",wordSize:a})}})});var Zf=/\$([\w.]+)/g;var UN="print",nH=["typed"],Xu=S(UN,nH,t=>{var{typed:e}=t;return e(UN,{"string, Object | Array":zN,"string, Object | Array, number | Object":zN})});function zN(t,e,r){return t.replace(Zf,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var l=a.shift();o=l?o[l]:o+"."}return o!==void 0?pr(o)?o:at(o,r):n})}var WN="to",iH=["typed","matrix","concat"],R0=S(WN,iH,t=>{var{typed:e,matrix:r,concat:n}=t,i=ct({typed:e,matrix:r,concat:n});return e(WN,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var HN="isPrime",aH=["typed"],P0=S(HN,aH,t=>{var{typed:e}=t;return e(HN,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(E,y,D){for(var b=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),E=E.mul(E).mod(D)):(y=y.sub(1),b=E.mul(b).mod(D));return b}var l=n.constructor.clone({precision:n.toFixed(0).length*2});n=new l(n);for(var u=0,s=n.sub(1);s.mod(2).eq(0);)s=s.div(2),u+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(E=>E<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var m=2;m<=f;m+=1)c.push(f)}for(var p=0;p<c.length;p+=1){var h=c[p],d=o(n.sub(n).add(h),s,n);if(!d.eq(1)){for(var g=0,v=d;!v.eq(n.sub(1));g+=1,v=v.mul(v).mod(n))if(g===u-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>n=>Ze(n,r))})});var oH="numeric",sH=["number","?bignumber","?fraction"],L0=S(oH,sH,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:r?o=>r(o):Ns,Fraction:n?o=>n(o):Gf};return function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Dt(l);if(!(c in i))throw new TypeError("Cannot convert "+l+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+l+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===c?l:a[u](l)}});var GN="divideScalar",uH=["typed","numeric"],q0=S(GN,uH,t=>{var{typed:e,numeric:r}=t;return e(GN,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var jN="pow",lH=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],V0=S(jN,lH,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:a,inv:o,number:l,fraction:u,Complex:s}=t;return e(jN,{"number, number":c,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||r.predictable?h.pow(d):new s(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var g=h.pow(d);if(g!=null)return g;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(h,d){return m(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function c(p,h){if(r.predictable&&!He(h)&&p<0)try{var d=u(h),g=l(d);if((h===g||Math.abs((h-g)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-p,h)}catch(v){}return r.predictable&&(p<-1&&h===1/0||p>-1&&p<0&&h===-1/0)?NaN:He(h)||p>=0||r.predictable?pg(p,h):p*p<1&&h===1/0||p*p>1&&h===-1/0?0:new s(p,0).pow(h,0)}function f(p,h){if(!He(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=Qe(p);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(p),-h)}catch(E){throw E.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):E}for(var g=n(d[0]).valueOf(),v=p;h>=1;)(h&1)===1&&(g=i(v,g)),h>>=1,v=i(v,v);return g}function m(p,h){return a(f(p.valueOf(),h))}});var Ms="Number of decimals in function round must be an integer",ZN="round",cH=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],U0=S(ZN,cH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:a,DenseMatrix:o}=t,l=Lt({typed:e,equalScalar:n}),u=Nt({typed:e,DenseMatrix:o}),s=Ar({typed:e});return e(ZN,{number:dg,"number, number":dg,"number, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Ms);return new a(f).toDecimalPlaces(m.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,m){if(m%1)throw new TypeError(Ms);return f.round(m)},"Complex, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Ms);var p=m.toNumber();return f.round(p)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Ms);return f.toDecimalPlaces(m.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,m){if(m%1)throw new TypeError(Ms);return f.round(m)},"Fraction, BigNumber":function(f,m){if(!m.isInteger())throw new TypeError(Ms);return f.round(m.toNumber())},"Array | Matrix":e.referToSelf(c=>f=>Ze(f,c,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(c=>(f,m)=>l(f,m,c,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(c=>(f,m)=>s(f,m,c,!1)),"Array, number | BigNumber":e.referToSelf(c=>(f,m)=>s(r(f),m,c,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(c=>(f,m)=>n(f,0)?i(m.size(),m.storage()):u(m,f,c,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(c=>(f,m)=>n(f,0)?i(m.size(),m.storage()):s(m,f,c,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(c=>(f,m)=>s(r(m),f,c,!0).valueOf())})});var YN="log",fH=["config","typed","divideScalar","Complex"],z0=S(YN,fH,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t;return e(YN,{number:function(o){return o>=0||r.predictable?QA(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||r.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,l)=>n(a(o),a(l)))})});var JN="log1p",mH=["typed","config","divideScalar","log","Complex"],W0=S(JN,mH,t=>{var{typed:e,config:r,divideScalar:n,log:i,Complex:a}=t;return e(JN,{number:function(u){return u>=-1||r.predictable?bf(u):o(new a(u,0))},Complex:o,BigNumber:function(u){var s=u.plus(1);return!s.isNegative()||r.predictable?s.ln():o(new a(u.toNumber(),0))},"Array | Matrix":e.referToSelf(l=>u=>Ze(u,l)),"any, any":e.referToSelf(l=>(u,s)=>n(l(u),i(s)))});function o(l){var u=l.re+1;return new a(Math.log(Math.sqrt(u*u+l.im*l.im)),Math.atan2(l.im,u))}});var XN="nthRoots",pH=["config","typed","divideScalar","Complex"],H0=S(XN,pH,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t,a=[function(u){return new i(u,0)},function(u){return new i(0,u)},function(u){return new i(-u,0)},function(u){return new i(0,-u)}];function o(l,u){if(u<0)throw new Error("Root must be greater than zero");if(u===0)throw new Error("Root must be non-zero");if(u%1!==0)throw new Error("Root must be an integer");if(l===0||l.abs()===0)return[new i(0,0)];var s=typeof l=="number",c;(s||l.re===0||l.im===0)&&(s?c=2*+(l<0):l.im===0?c=2*+(l.re<0):c=2*+(l.im<0)+1);for(var f=l.arg(),m=l.abs(),p=[],h=Math.pow(m,1/u),d=0;d<u;d++){var g=(c+4*d)/u;if(g===Math.round(g)){p.push(a[g%4](h));continue}p.push(new i({r:h,phi:(f+2*Math.PI*d)/u}))}return p}return e(XN,{Complex:function(u){return o(u,2)},"Complex, number":o})});var QN="dotPow",dH=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],G0=S(QN,dH,t=>{var{typed:e,equalScalar:r,matrix:n,pow:i,DenseMatrix:a,concat:o}=t,l=Xt({typed:e}),u=Or({typed:e,DenseMatrix:a}),s=Lt({typed:e,equalScalar:r}),c=Nt({typed:e,DenseMatrix:a}),f=ct({typed:e,matrix:n,concat:o}),m={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(m[p]=i.signatures[p]);var h=e(m);return e(QN,f({elop:h,SS:u,DS:l,Ss:s,sS:c}))});var KN="dotDivide",hH=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],j0=S(KN,hH,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=t,l=Sr({typed:e,equalScalar:n}),u=Xt({typed:e}),s=Or({typed:e,DenseMatrix:a}),c=Lt({typed:e,equalScalar:n}),f=Nt({typed:e,DenseMatrix:a}),m=ct({typed:e,matrix:r,concat:o});return e(KN,m({elop:i,SS:s,DS:u,SD:l,Ss:c,sS:f}))});function ji(t){var{DenseMatrix:e}=t;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+at(o)+")");var l=o[0],u=o[1];if(l!==u)throw new RangeError("Matrix must be square (size: "+at(o)+")");var s=[];if(Ge(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var m=0;m<l;m++)s[m]=[f[m]];return new e({data:s,size:[l,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==l||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(xo(i)){if(a){s=[];for(var p=0;p<l;p++)s[p]=[f[p][0]];return new e({data:s,size:[l,1],datatype:i._datatype})}return i}if(Ei(i)){for(var h=0;h<l;h++)s[h]=[0];for(var d=i._values,g=i._index,v=i._ptr,E=v[1],y=v[0];y<E;y++){var D=g[y];s[D][0]=d[y]}return new e({data:s,size:[l,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(wt(i)){var b=Qe(i);if(b.length===1){if(b[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<l;x++)s[x]=[i[x]];return new e({data:s,size:[l,1]})}if(b.length===2){if(b[0]!==l||b[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<l;C++)s[C]=[i[C][0]];return new e({data:s,size:[l,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var $N="lsolve",gH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Z0=S($N,gH,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=t,u=ji({DenseMatrix:l});return e($N,{"SparseMatrix, Array | Matrix":function(m,p){return c(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=r(m),d=s(h,p);return d.valueOf()}});function s(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=[],v=f._data,E=0;E<d;E++){var y=p[E][0]||0,D=void 0;if(o(y,0))D=0;else{var b=v[E][E];if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(y,b);for(var x=E+1;x<h;x++)p[x]=[a(p[x][0]||0,i(D,v[x][E]))]}g[E]=[D]}return new l({data:g,size:[h,1]})}function c(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,E=f._ptr,y=[],D=0;D<d;D++){var b=p[D][0]||0;if(o(b,0))y[D]=[0];else{for(var x=0,C=[],A=[],w=E[D],F=E[D+1],M=w;M<F;M++){var B=v[M];B===D?x=g[M]:B>D&&(C.push(g[M]),A.push(B))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(b,x),R=0,P=A.length;R<P;R++){var T=A[R];p[T]=[a(p[T][0]||0,i(k,C[R]))]}y[D]=[k]}}return new l({data:y,size:[h,1]})}});var e_="usolve",vH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Y0=S(e_,vH,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=t,u=ji({DenseMatrix:l});return e(e_,{"SparseMatrix, Array | Matrix":function(m,p){return c(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=r(m),d=s(h,p);return d.valueOf()}});function s(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=[],v=f._data,E=d-1;E>=0;E--){var y=p[E][0]||0,D=void 0;if(o(y,0))D=0;else{var b=v[E][E];if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");D=n(y,b);for(var x=E-1;x>=0;x--)p[x]=[a(p[x][0]||0,i(D,v[x][E]))]}g[E]=[D]}return new l({data:g,size:[h,1]})}function c(f,m){m=u(f,m,!0);for(var p=m._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,E=f._ptr,y=[],D=d-1;D>=0;D--){var b=p[D][0]||0;if(o(b,0))y[D]=[0];else{for(var x=0,C=[],A=[],w=E[D],F=E[D+1],M=F-1;M>=w;M--){var B=v[M];B===D?x=g[M]:B<D&&(C.push(g[M]),A.push(B))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(b,x),R=0,P=A.length;R<P;R++){var T=A[R];p[T]=[a(p[T][0],i(k,C[R]))]}y[D]=[k]}}return new l({data:y,size:[h,1]})}});var t_="lsolveAll",yH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],J0=S(t_,yH,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=t,u=ji({DenseMatrix:l});return e(t_,{"SparseMatrix, Array | Matrix":function(m,p){return c(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=r(m),d=s(h,p);return d.map(g=>g.valueOf())}});function s(f,m){for(var p=[u(f,m,!0)._data.map(A=>A[0])],h=f._data,d=f._size[0],g=f._size[1],v=0;v<g;v++)for(var E=p.length,y=0;y<E;y++){var D=p[y];if(o(h[v][v],0))if(o(D[v],0)){if(y===0){var x=[...D];x[v]=1;for(var C=v+1;C<g;C++)x[C]=a(x[C],h[C][v]);p.push(x)}}else{if(y===0)return[];p.splice(y,1),y-=1,E-=1}else{D[v]=n(D[v],h[v][v]);for(var b=v+1;b<g;b++)D[b]=a(D[b],i(D[v],h[b][v]))}}return p.map(A=>new l({data:A.map(w=>[w]),size:[d,1]}))}function c(f,m){for(var p=[u(f,m,!0)._data.map($=>$[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,E=f._ptr,y=0;y<d;y++)for(var D=p.length,b=0;b<D;b++){for(var x=p[b],C=[],A=[],w=E[y],F=E[y+1],M=0,B=w;B<F;B++){var k=v[B];k===y?M=g[B]:k>y&&(C.push(g[B]),A.push(k))}if(o(M,0))if(o(x[y],0)){if(b===0){var I=[...x];I[y]=1;for(var V=0,O=A.length;V<O;V++){var Y=A[V];I[Y]=a(I[Y],C[V])}p.push(I)}}else{if(b===0)return[];p.splice(b,1),b-=1,D-=1}else{x[y]=n(x[y],M);for(var R=0,P=A.length;R<P;R++){var T=A[R];x[T]=a(x[T],i(x[y],C[R]))}}}return p.map($=>new l({data:$.map(W=>[W]),size:[h,1]}))}});var r_="usolveAll",bH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],X0=S(r_,bH,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=t,u=ji({DenseMatrix:l});return e(r_,{"SparseMatrix, Array | Matrix":function(m,p){return c(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return s(m,p)},"Array, Array | Matrix":function(m,p){var h=r(m),d=s(h,p);return d.map(g=>g.valueOf())}});function s(f,m){for(var p=[u(f,m,!0)._data.map(A=>A[0])],h=f._data,d=f._size[0],g=f._size[1],v=g-1;v>=0;v--)for(var E=p.length,y=0;y<E;y++){var D=p[y];if(o(h[v][v],0))if(o(D[v],0)){if(y===0){var x=[...D];x[v]=1;for(var C=v-1;C>=0;C--)x[C]=a(x[C],h[C][v]);p.push(x)}}else{if(y===0)return[];p.splice(y,1),y-=1,E-=1}else{D[v]=n(D[v],h[v][v]);for(var b=v-1;b>=0;b--)D[b]=a(D[b],i(D[v],h[b][v]))}}return p.map(A=>new l({data:A.map(w=>[w]),size:[d,1]}))}function c(f,m){for(var p=[u(f,m,!0)._data.map($=>$[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,E=f._ptr,y=d-1;y>=0;y--)for(var D=p.length,b=0;b<D;b++){for(var x=p[b],C=[],A=[],w=E[y],F=E[y+1],M=0,B=F-1;B>=w;B--){var k=v[B];k===y?M=g[B]:k<y&&(C.push(g[B]),A.push(k))}if(o(M,0))if(o(x[y],0)){if(b===0){var I=[...x];I[y]=1;for(var V=0,O=A.length;V<O;V++){var Y=A[V];I[Y]=a(I[Y],C[V])}p.push(I)}}else{if(b===0)return[];p.splice(b,1),b-=1,D-=1}else{x[y]=n(x[y],M);for(var R=0,P=A.length;R<P;R++){var T=A[R];x[T]=a(x[T],i(x[y],C[R]))}}}return p.map($=>new l({data:$.map(W=>[W]),size:[h,1]}))}});var xH="matAlgo08xS0Sid",DH=["typed","equalScalar"],Ts=S(xH,DH,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,m=a._values,p=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!l||!m)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v=c[0],E=c[1],y,D=r,b=0,x=o;typeof f=="string"&&f===g&&(y=f,D=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(o,[y,y]));for(var C=[],A=[],w=[],F=[],M=[],B,k,R,P,T=0;T<E;T++){w[T]=A.length;var I=T+1;for(k=s[T],R=s[T+1],B=k;B<R;B++)P=u[B],M[P]=I,F[P]=l[B],A.push(P);for(k=h[T],R=h[T+1],B=k;B<R;B++)P=p[B],M[P]===I&&(F[P]=x(F[P],m[B]));for(B=w[T];B<A.length;){P=A[B];var V=F[P];D(V,b)?A.splice(B,1):(C.push(V),B++)}}return w[E]=A.length,i.createSparseMatrix({values:C,index:A,ptr:w,size:[v,E],datatype:y})}});var Is=S("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(r(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(r(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf())}});var n_="leftShift",wH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Q0=S(n_,wH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,l=dn({typed:e}),u=Sr({typed:e,equalScalar:n}),s=Ts({typed:e,equalScalar:n}),c=kn({typed:e,DenseMatrix:a}),f=Lt({typed:e,equalScalar:n}),m=Ar({typed:e}),p=ct({typed:e,matrix:r,concat:o}),h=Is({typed:e,matrix:r});return e(n_,{"number, number":bg,"BigNumber, BigNumber":ZS,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:l,SD:u}))});var i_="rightArithShift",EH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],K0=S(i_,EH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,l=dn({typed:e}),u=Sr({typed:e,equalScalar:n}),s=Ts({typed:e,equalScalar:n}),c=kn({typed:e,DenseMatrix:a}),f=Lt({typed:e,equalScalar:n}),m=Ar({typed:e}),p=ct({typed:e,matrix:r,concat:o}),h=Is({typed:e,matrix:r});return e(i_,{"number, number":xg,"BigNumber, BigNumber":YS,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:l,SD:u}))});var a_="rightLogShift",CH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],$0=S(a_,CH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,l=dn({typed:e}),u=Sr({typed:e,equalScalar:n}),s=Ts({typed:e,equalScalar:n}),c=kn({typed:e,DenseMatrix:a}),f=Lt({typed:e,equalScalar:n}),m=Ar({typed:e}),p=ct({typed:e,matrix:r,concat:o}),h=Is({typed:e,matrix:r});return e(a_,{"number, number":Dg,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():m(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):m(v,g,d,!0))},h,p({SS:s,DS:l,SD:u}))});var o_="and",FH=["typed","matrix","equalScalar","zeros","not","concat"],ey=S(o_,FH,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,l=Sr({typed:e,equalScalar:n}),u=Ha({typed:e,equalScalar:n}),s=Lt({typed:e,equalScalar:n}),c=Ar({typed:e}),f=ct({typed:e,matrix:r,concat:o});return e(o_,{"number, number":Sg,"Complex, Complex":function(p,h){return(p.re!==0||p.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(p,h){return!p.isZero()&&!h.isZero()&&!p.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(m=>(p,h)=>m(p.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(m=>(p,h)=>a(h)?i(p.size(),p.storage()):s(p,h,m,!1)),"DenseMatrix, any":e.referToSelf(m=>(p,h)=>a(h)?i(p.size(),p.storage()):c(p,h,m,!1)),"any, SparseMatrix":e.referToSelf(m=>(p,h)=>a(p)?i(p.size(),p.storage()):s(h,p,m,!0)),"any, DenseMatrix":e.referToSelf(m=>(p,h)=>a(p)?i(p.size(),p.storage()):c(h,p,m,!0)),"Array, any":e.referToSelf(m=>(p,h)=>m(r(p),h).valueOf()),"any, Array":e.referToSelf(m=>(p,h)=>m(p,r(h)).valueOf())},f({SS:u,DS:l}))});var Yf="compare",AH=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],ty=S(Yf,AH,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:l,concat:u}=t,s=Xt({typed:e}),c=Wa({typed:e,equalScalar:n}),f=Nt({typed:e,DenseMatrix:l}),m=ct({typed:e,matrix:i,concat:u}),p=ui({typed:e});return e(Yf,SH({typed:e,config:r}),{"boolean, boolean":function(d,g){return d===g?0:d>g?1:-1},"BigNumber, BigNumber":function(d,g){return jr(d,g,r.epsilon)?new a(0):new a(d.cmp(g))},"Fraction, Fraction":function(d,g){return new o(d.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,m({SS:c,DS:s,Ss:f}))}),SH=S(Yf,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Yf,{"number, number":function(i,a){return Fr(i,a,r.epsilon)?0:i>a?1:-1}})});var No=xr(u_(),1);var l_="compareNatural",NH=["typed","compare"],ry=S(l_,NH,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(l_,{"any, any":i});function i(u,s){var c=Dt(u),f=Dt(s),m;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return m=r(u,s),m.toString()!=="0"?m>0?1:-1:(0,No.default)(c,f);var p=["Array","DenseMatrix","SparseMatrix"];if(p.includes(c)||p.includes(f))return m=a(i,u,s),m!==0?m:(0,No.default)(c,f);if(c!==f)return(0,No.default)(c,f);if(c==="Complex")return _H(u,s);if(c==="Unit")return u.equalBase(s)?i(u.value,s.value):o(i,u.formatUnits(),s.formatUnits());if(c==="boolean")return n(u,s);if(c==="string")return(0,No.default)(u,s);if(c==="Object")return l(i,u,s);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(u,s,c){return Ei(s)&&Ei(c)?o(u,s.toJSON().values,c.toJSON().values):Ei(s)?a(u,s.toArray(),c):Ei(c)?a(u,s,c.toArray()):xo(s)?a(u,s.toJSON().data,c):xo(c)?a(u,s,c.toJSON().data):Array.isArray(s)?Array.isArray(c)?o(u,s,c):a(u,s,[c]):a(u,[s],c)}function o(u,s,c){for(var f=0,m=Math.min(s.length,c.length);f<m;f++){var p=u(s[f],c[f]);if(p!==0)return p}return s.length>c.length?1:s.length<c.length?-1:0}function l(u,s,c){var f=Object.keys(s),m=Object.keys(c);f.sort(No.default),m.sort(No.default);var p=o(u,f,m);if(p!==0)return p;for(var h=0;h<f.length;h++){var d=u(s[f[h]],c[m[h]]);if(d!==0)return d}return 0}});function _H(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var c_="compareText",MH=["typed","matrix","concat"];Cf.signature="any, any";var ny=S(c_,MH,t=>{var{typed:e,matrix:r,concat:n}=t,i=ct({typed:e,matrix:r,concat:n});return e(c_,Cf,i({elop:Cf,Ds:!0}))});var Jf="equal",TH=["typed","matrix","equalScalar","DenseMatrix","concat"],iy=S(Jf,TH,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Xt({typed:e}),l=Or({typed:e,DenseMatrix:i}),u=Nt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:r,concat:a});return e(Jf,IH({typed:e,equalScalar:n}),s({elop:n,SS:l,DS:o,Ss:u}))}),IH=S(Jf,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Jf,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})});var f_="equalText",BH=["typed","compareText","isZero"],ay=S(f_,BH,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(f_,{"any, any":function(a,o){return n(r(a,o))}})});var Xf="smaller",OH=["typed","config","matrix","DenseMatrix","concat"],oy=S(Xf,OH,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=Xt({typed:e}),l=Or({typed:e,DenseMatrix:i}),u=Nt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),c=ui({typed:e});return e(Xf,kH({typed:e,config:r}),{"boolean, boolean":(f,m)=>f<m,"BigNumber, BigNumber":function(m,p){return m.lt(p)&&!jr(m,p,r.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)===-1,"Complex, Complex":function(m,p){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),kH=S(Xf,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Xf,{"number, number":function(i,a){return i<a&&!Fr(i,a,r.epsilon)}})});var Qf="smallerEq",RH=["typed","config","matrix","DenseMatrix","concat"],sy=S(Qf,RH,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=Xt({typed:e}),l=Or({typed:e,DenseMatrix:i}),u=Nt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),c=ui({typed:e});return e(Qf,PH({typed:e,config:r}),{"boolean, boolean":(f,m)=>f<=m,"BigNumber, BigNumber":function(m,p){return m.lte(p)||jr(m,p,r.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),PH=S(Qf,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Qf,{"number, number":function(i,a){return i<=a||Fr(i,a,r.epsilon)}})});var Kf="larger",LH=["typed","config","matrix","DenseMatrix","concat"],uy=S(Kf,LH,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=Xt({typed:e}),l=Or({typed:e,DenseMatrix:i}),u=Nt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),c=ui({typed:e});return e(Kf,qH({typed:e,config:r}),{"boolean, boolean":(f,m)=>f>m,"BigNumber, BigNumber":function(m,p){return m.gt(p)&&!jr(m,p,r.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),qH=S(Kf,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Kf,{"number, number":function(i,a){return i>a&&!Fr(i,a,r.epsilon)}})});var $f="largerEq",VH=["typed","config","matrix","DenseMatrix","concat"],ly=S($f,VH,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=Xt({typed:e}),l=Or({typed:e,DenseMatrix:i}),u=Nt({typed:e,DenseMatrix:i}),s=ct({typed:e,matrix:n,concat:a}),c=ui({typed:e});return e($f,UH({typed:e,config:r}),{"boolean, boolean":(f,m)=>f>=m,"BigNumber, BigNumber":function(m,p){return m.gte(p)||jr(m,p,r.epsilon)},"Fraction, Fraction":(f,m)=>f.compare(m)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),UH=S($f,["typed","config"],t=>{var{typed:e,config:r}=t;return e($f,{"number, number":function(i,a){return i>=a||Fr(i,a,r.epsilon)}})});var m_="deepEqual",zH=["typed","equal"],cy=S(m_,zH,t=>{var{typed:e,equal:r}=t;return e(m_,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var l=0;l<o;l++)if(!n(i[l],a[l]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:r(i,a)}});var em="unequal",WH=["typed","config","equalScalar","matrix","DenseMatrix","concat"],fy=S(em,WH,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=t,l=Xt({typed:e}),u=Or({typed:e,DenseMatrix:a}),s=Nt({typed:e,DenseMatrix:a}),c=ct({typed:e,matrix:i,concat:o});return e(em,HH({typed:e,equalScalar:n}),c({elop:f,SS:u,DS:l,Ss:s}));function f(m,p){return!n(m,p)}}),HH=S(em,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(em,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!r(i,a)}})});var p_="partitionSelect",GH=["typed","isNumeric","isNaN","compare"],my=S(p_,GH,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:i}=t,a=i,o=(s,c)=>-i(s,c);return e(p_,{"Array | Matrix, number":function(c,f){return l(c,f,a)},"Array | Matrix, number, string":function(c,f,m){if(m==="asc")return l(c,f,a);if(m==="desc")return l(c,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":l});function l(s,c,f){if(!He(c)||c<0)throw new Error("k must be a non-negative integer");if(Ge(s)){var m=s.size();if(m.length>1)throw new Error("Only one dimensional matrices supported");return u(s.valueOf(),c,f)}if(Array.isArray(s))return u(s,c,f)}function u(s,c,f){if(c>=s.length)throw new Error("k out of bounds");for(var m=0;m<s.length;m++)if(r(s[m])&&n(s[m]))return s[m];for(var p=0,h=s.length-1;p<h;){for(var d=p,g=h,v=s[Math.floor(Math.random()*(h-p+1))+p];d<g;)if(f(s[d],v)>=0){var E=s[g];s[g]=s[d],s[d]=E,--g}else++d;f(s[d],v)>0&&--d,c<=d?h=d:p=d+1}return s[c]}});var d_="sort",jH=["typed","matrix","compare","compareNatural"],py=S(d_,jH,t=>{var{typed:e,matrix:r,compare:n,compareNatural:i}=t,a=n,o=(c,f)=>-n(c,f);return e(d_,{Array:function(f){return u(f),f.sort(a)},Matrix:function(f){return s(f),r(f.toArray().sort(a),f.storage())},"Array, function":function(f,m){return u(f),f.sort(m)},"Matrix, function":function(f,m){return s(f),r(f.toArray().sort(m),f.storage())},"Array, string":function(f,m){return u(f),f.sort(l(m))},"Matrix, string":function(f,m){return s(f),r(f.toArray().sort(l(m)),f.storage())}});function l(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(c){if(Qe(c).length!==1)throw new Error("One dimensional array expected")}function s(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}});var h_="max",ZH=["typed","config","numeric","larger"],Qu=S(h_,ZH,t=>{var{typed:e,config:r,numeric:n,larger:i}=t;return e(h_,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return za(u,s.valueOf(),a)},"...":function(u){if(si(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(s){throw hr(s,"max",u)}}function o(l){var u;if(pn(l,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(c){throw hr(c,"max",s)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,r.number)),u}});var g_="min",YH=["typed","config","numeric","smaller"],Ku=S(g_,YH,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t;return e(g_,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return za(u,s.valueOf(),a)},"...":function(u){if(si(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(s){throw hr(s,"min",u)}}function o(l){var u;if(pn(l,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(c){throw hr(c,"min",s)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,r.number)),u}});var JH="ImmutableDenseMatrix",XH=["smaller","DenseMatrix"],dy=S(JH,XH,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!pr(a))throw new Error("Invalid datatype: "+a);if(Ge(i)||wt(i)){var o=new r(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&wt(i.data)&&wt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Dt(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return Ge(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:Je(this._data),size:Je(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var QH="Index",KH=["ImmutableDenseMatrix","getMatrixDataType"],hy=S(QH,KH,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,l=arguments.length;o<l;o++){var u=arguments[o],s=wt(u),c=Ge(u),f=null;if(vs(u))this._dimensions.push(u),this._isScalar=!1;else if(s||c){var m=void 0;r(u)==="boolean"?(s&&(m=i(v_(u).valueOf())),c&&(m=i(v_(u._data).valueOf())),f=u.valueOf().length):m=i(u.valueOf()),this._dimensions.push(m);var p=m.size();(p.length!==1||p[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(i([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,l=a.length;o<l;o++)if(typeof a[o]!="number"||!He(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=Je(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?1:u.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.max()}return a},n.prototype.min=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.min()}return a},n.prototype.forEach=function(a){for(var o=0,l=this._dimensions.length;o<l;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a.push(typeof u=="string"?u:u.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function v_(t){var e=[];return t.forEach((r,n)=>{r&&e.push(n)}),e}var $H="FibonacciHeap",eG=["smaller","larger"],gy=S($H,eG,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var m={key:c,value:f,degree:0};if(this._minimum){var p=this._minimum;m.left=p,m.right=p.right,p.right=m,m.right.left=m,e(c,p.key)&&(this._minimum=m)}else m.left=m,m.right=m,this._minimum=m;return this._size++,m},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,m=c.degree,p=c.child;m>0;){var h=p.right;p.left.right=p.right,p.right.left=p.left,p.left=f,p.right=f.right,f.right=p,p.right.left=p,p.parent=null,p=h,m--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=s(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,m){f.key=m;var p=f.parent;return p&&e(f.key,p.key)&&(o(c,f,p),l(c,p)),e(f.key,c.key)&&(c=f),c}function o(c,f,m){f.left.right=f.right,f.right.left=f.left,m.degree--,m.child===f&&(m.child=f.right),m.degree===0&&(m.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function l(c,f){var m=f.parent;m&&(f.mark?(o(c,f,m),l(m)):f.mark=!0)}var u=function(f,m){f.left.right=f.right,f.right.left=f.left,f.parent=m,m.child?(f.left=m.child,f.right=m.child.right,m.child.right=f,f.right.left=f):(m.child=f,f.right=f,f.left=f),m.degree++,f.mark=!1};function s(c,f){var m=Math.floor(Math.log(f)*n)+1,p=new Array(m),h=0,d=c;if(d)for(h++,d=d.right;d!==c;)h++,d=d.right;for(var g;h>0;){for(var v=d.degree,E=d.right;g=p[v],!!g;){if(r(d.key,g.key)){var y=g;g=d,d=y}u(g,d),p[v]=null,v++}p[v]=d,d=E,h--}c=null;for(var D=0;D<m;D++)g=p[D],g&&(c?(g.left.right=g.right,g.right.left=g.left,g.left=c,g.right=c.right,c.right=g,g.right.left=g,e(g.key,c.key)&&(c=g)):c=g);return c}return i},{isClass:!0});var tG="Spa",rG=["addScalar","equalScalar","FibonacciHeap"],vy=S(tG,rG,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var l=this._heap.insert(a,o);this._values[a]=l}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var l=this._values[a];l?l.value=e(l.value,o):(l=this._heap.insert(a,o),this._values[a]=l)},i.prototype.forEach=function(a,o,l){var u=this._heap,s=this._values,c=[],f=u.extractMinimum();for(f&&c.push(f);f&&f.key<=o;)f.key>=a&&(r(f.value,0)||l(f.key,f.value,this)),f=u.extractMinimum(),f&&c.push(f);for(var m=0;m<c.length;m++){var p=c[m];f=u.insert(p.key,p.value),s[f.key]=f}},i.prototype.swap=function(a,o){var l=this._values[a],u=this._values[o];if(!l&&u)l=this._heap.insert(a,u.value),this._heap.remove(u),this._values[a]=l,this._values[o]=void 0;else if(l&&!u)u=this._heap.insert(o,l.value),this._heap.remove(l),this._values[o]=u,this._values[a]=void 0;else if(l&&u){var s=l.value;l.value=u.value,u.value=s}},i},{isClass:!0});var y_=Fo(function(t){return new t(1).exp()},{hasher:tm}),b_=Fo(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:tm}),$u=Fo(function(t){return t.acos(-1)},{hasher:tm}),x_=Fo(function(t){return $u(t).times(2)},{hasher:tm});function tm(t){return t[0].precision}function D_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(r),!0).forEach(function(n){Tt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nG="Unit",iG=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],by=S(nG,iG,t=>{var{on:e,config:r,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:l,abs:u,fix:s,round:c,equal:f,isNumeric:m,format:p,number:h,Complex:d,BigNumber:g,Fraction:v}=t,E=h;function y(z,j){if(!(this instanceof y))throw new Error("Constructor must be called with the new operator");if(!(z==null||m(z)||Cn(z)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,j===void 0)this.units=[],this.dimensions=V.map(H=>0);else if(typeof j=="string"){var fe=y.parse(j);this.units=fe.units,this.dimensions=fe.dimensions}else if(nn(j)&&j.value===null)this.fixPrefix=j.fixPrefix,this.skipAutomaticSimplification=j.skipAutomaticSimplification,this.dimensions=j.dimensions.slice(0),this.units=j.units.map(H=>sr({},H));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(z)}Object.defineProperty(y,"name",{value:"Unit"}),y.prototype.constructor=y,y.prototype.type="Unit",y.prototype.isUnit=!0;var D,b,x;function C(){for(;x===" "||x==="	";)F()}function A(z){return z>="0"&&z<="9"||z==="."}function w(z){return z>="0"&&z<="9"}function F(){b++,x=D.charAt(b)}function M(z){b=z,x=D.charAt(b)}function B(){var z="",j=b;if(x==="+"?F():x==="-"&&(z+=x,F()),!A(x))return M(j),null;if(x==="."){if(z+=x,F(),!w(x))return M(j),null}else{for(;w(x);)z+=x,F();x==="."&&(z+=x,F())}for(;w(x);)z+=x,F();if(x==="E"||x==="e"){var fe="",H=b;if(fe+=x,F(),(x==="+"||x==="-")&&(fe+=x,F()),!w(x))return M(H),z;for(z=z+fe;w(x);)z+=x,F()}return z}function k(){for(var z="";w(x)||y.isValidAlpha(x);)z+=x,F();var j=z.charAt(0);return y.isValidAlpha(j)?z:null}function R(z){return x===z?(F(),z):null}y.parse=function(z,j){if(j=j||{},D=z,b=-1,x="",typeof D!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var fe=new y;fe.units=[];var H=1,K=!1;F(),C();var re=B(),ye=null;if(re){if(r.number==="BigNumber")ye=new g(re);else if(r.number==="Fraction")try{ye=new v(re)}catch(de){ye=parseFloat(re)}else ye=parseFloat(re);C(),R("*")?(H=1,K=!0):R("/")&&(H=-1,K=!0)}for(var ve=[],Le=1;;){for(C();x==="(";)ve.push(H),Le*=H,H=1,F(),C();var Ce=void 0;if(x){var ft=x;if(Ce=k(),Ce===null)throw new SyntaxError('Unexpected "'+ft+'" in "'+D+'" at index '+b.toString())}else break;var pt=P(Ce);if(pt===null)throw new SyntaxError('Unit "'+Ce+'" not found.');var St=H*Le;if(C(),R("^")){C();var qt=B();if(qt===null)throw new SyntaxError('In "'+z+'", "^" must be followed by a floating-point number');St*=qt}fe.units.push({unit:pt.unit,prefix:pt.prefix,power:St});for(var G=0;G<V.length;G++)fe.dimensions[G]+=(pt.unit.dimensions[G]||0)*St;for(C();x===")";){if(ve.length===0)throw new SyntaxError('Unmatched ")" in "'+D+'" at index '+b.toString());Le/=ve.pop(),F(),C()}if(K=!1,R("*")?(H=1,K=!0):R("/")?(H=-1,K=!0):H=1,pt.unit.base){var oe=pt.unit.base.key;ae.auto[oe]={unit:pt.unit,prefix:pt.prefix}}}if(C(),x)throw new SyntaxError('Could not parse: "'+z+'"');if(K)throw new SyntaxError('Trailing characters: "'+z+'"');if(ve.length!==0)throw new SyntaxError('Unmatched "(" in "'+D+'"');if(fe.units.length===0&&!j.allowNoUnits)throw new SyntaxError('"'+z+'" contains no units');return fe.value=ye!==void 0?fe._normalize(ye):null,fe},y.prototype.clone=function(){var z=new y;z.fixPrefix=this.fixPrefix,z.skipAutomaticSimplification=this.skipAutomaticSimplification,z.value=Je(this.value),z.dimensions=this.dimensions.slice(0),z.units=[];for(var j=0;j<this.units.length;j++){z.units[j]={};for(var fe in this.units[j])je(this.units[j],fe)&&(z.units[j][fe]=this.units[j][fe])}return z},y.prototype.valueType=function(){return Dt(this.value)},y.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},y.prototype._normalize=function(z){if(z==null||this.units.length===0)return z;for(var j=z,fe=y._getNumberConverter(Dt(z)),H=0;H<this.units.length;H++){var K=fe(this.units[H].unit.value),re=fe(this.units[H].prefix.value),ye=fe(this.units[H].power);j=a(j,l(a(K,re),ye))}return j},y.prototype._denormalize=function(z,j){if(z==null||this.units.length===0)return z;for(var fe=z,H=y._getNumberConverter(Dt(z)),K=0;K<this.units.length;K++){var re=H(this.units[K].unit.value),ye=H(this.units[K].prefix.value),ve=H(this.units[K].power);fe=o(fe,l(a(re,ye),ve))}return fe};var P=Fo(z=>{if(je(q,z)){var j=q[z],fe=j.prefixes[""];return{unit:j,prefix:fe}}for(var H in q)if(je(q,H)&&vA(z,H)){var K=q[H],re=z.length-H.length,ye=z.substring(0,re),ve=je(K.prefixes,ye)?K.prefixes[ye]:void 0;if(ve!==void 0)return{unit:K,prefix:ve}}return null},{hasher:z=>z[0],limit:100});y.isValuelessUnit=function(z){return P(z)!==null},y.prototype.hasBase=function(z){if(typeof z=="string"&&(z=O[z]),!z)return!1;for(var j=0;j<V.length;j++)if(Math.abs((this.dimensions[j]||0)-(z.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equalBase=function(z){for(var j=0;j<V.length;j++)if(Math.abs((this.dimensions[j]||0)-(z.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equals=function(z){return this.equalBase(z)&&f(this.value,z.value)},y.prototype.multiply=function(z){for(var j=this.clone(),fe=nn(z)?z:new y(z),H=0;H<V.length;H++)j.dimensions[H]=(this.dimensions[H]||0)+(fe.dimensions[H]||0);for(var K=0;K<fe.units.length;K++){var re=yy({},fe.units[K]);j.units.push(re)}if(this.value!==null||fe.value!==null){var ye=this.value===null?this._normalize(1):this.value,ve=fe.value===null?fe._normalize(1):fe.value;j.value=a(ye,ve)}else j.value=null;return nn(z)&&(j.skipAutomaticSimplification=!1),T(j)},y.prototype.divideInto=function(z){return new y(z).divide(this)},y.prototype.divide=function(z){for(var j=this.clone(),fe=nn(z)?z:new y(z),H=0;H<V.length;H++)j.dimensions[H]=(this.dimensions[H]||0)-(fe.dimensions[H]||0);for(var K=0;K<fe.units.length;K++){var re=yy(yy({},fe.units[K]),{},{power:-fe.units[K].power});j.units.push(re)}if(this.value!==null||fe.value!==null){var ye=this.value===null?this._normalize(1):this.value,ve=fe.value===null?fe._normalize(1):fe.value;j.value=o(ye,ve)}else j.value=null;return nn(z)&&(j.skipAutomaticSimplification=!1),T(j)},y.prototype.pow=function(z){for(var j=this.clone(),fe=0;fe<V.length;fe++)j.dimensions[fe]=(this.dimensions[fe]||0)*z;for(var H=0;H<j.units.length;H++)j.units[H].power*=z;return j.value!==null?j.value=l(j.value,z):j.value=null,j.skipAutomaticSimplification=!1,T(j)};function T(z){return z.equalBase(O.NONE)&&z.value!==null&&!r.predictable?z.value:z}y.prototype.abs=function(){var z=this.clone();if(z.value!==null)if(z._isDerived()||z.units[0].unit.offset===0)z.value=u(z.value);else{var j=z._numberConverter(),fe=j(z.units[0].unit.value),H=j(z.units[0].unit.offset),K=a(fe,H);z.value=i(u(n(z.value,K)),K)}for(var re in z.units)(z.units[re].unit.name==="VA"||z.units[re].unit.name==="VAR")&&(z.units[re].unit=q.W);return z},y.prototype.to=function(z){var j=this.value===null?this._normalize(1):this.value,fe;if(typeof z=="string")fe=y.parse(z);else if(nn(z))fe=z.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(fe))throw new Error("Units do not match ('".concat(fe.toString(),"' != '").concat(this.toString(),"')"));if(fe.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===fe.units[0].unit.offset)fe.value=Je(j);else{var H=y._getNumberConverter(Dt(j)),K=this.units[0].unit.value,re=this.units[0].unit.offset,ye=a(K,re),ve=fe.units[0].unit.value,Le=fe.units[0].unit.offset,Ce=a(ve,Le);fe.value=n(j,H(i(ye,Ce)))}return fe.fixPrefix=!0,fe.skipAutomaticSimplification=!0,fe},y.prototype.toNumber=function(z){return E(this.toNumeric(z))},y.prototype.toNumeric=function(z){var j;return z?j=this.to(z):j=this.clone(),j._isDerived()||j.units.length===0?j._denormalize(j.value):j._denormalize(j.value,j.units[0].prefix.value)},y.prototype.toString=function(){return this.format()},y.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},y.fromJSON=function(z){var j=new y(z.value,z.unit);return j.fixPrefix=z.fixPrefix||!1,j},y.prototype.valueOf=y.prototype.toString,y.prototype.simplify=function(){var z=this.clone(),j=[],fe;for(var H in ce)if(je(ce,H)&&z.hasBase(O[H])){fe=H;break}if(fe==="NONE")z.units=[];else{var K;if(fe&&je(ce,fe)&&(K=ce[fe]),K)z.units=[{unit:K.unit,prefix:K.prefix,power:1}];else{for(var re=!1,ye=0;ye<V.length;ye++){var ve=V[ye];Math.abs(z.dimensions[ye]||0)>1e-12&&(je(ce,ve)?j.push({unit:ce[ve].unit,prefix:ce[ve].prefix,power:z.dimensions[ye]||0}):re=!0)}j.length<z.units.length&&!re&&(z.units=j)}}return z},y.prototype.toSI=function(){for(var z=this.clone(),j=[],fe=0;fe<V.length;fe++){var H=V[fe];if(Math.abs(z.dimensions[fe]||0)>1e-12)if(je(ae.si,H))j.push({unit:ae.si[H].unit,prefix:ae.si[H].prefix,power:z.dimensions[fe]||0});else throw new Error("Cannot express custom unit "+H+" in SI units")}return z.units=j,z.fixPrefix=!0,z.skipAutomaticSimplification=!0,z},y.prototype.formatUnits=function(){for(var z="",j="",fe=0,H=0,K=0;K<this.units.length;K++)this.units[K].power>0?(fe++,z+=" "+this.units[K].prefix.name+this.units[K].unit.name,Math.abs(this.units[K].power-1)>1e-15&&(z+="^"+this.units[K].power)):this.units[K].power<0&&H++;if(H>0)for(var re=0;re<this.units.length;re++)this.units[re].power<0&&(fe>0?(j+=" "+this.units[re].prefix.name+this.units[re].unit.name,Math.abs(this.units[re].power+1)>1e-15&&(j+="^"+-this.units[re].power)):(j+=" "+this.units[re].prefix.name+this.units[re].unit.name,j+="^"+this.units[re].power));z=z.substr(1),j=j.substr(1),fe>1&&H>0&&(z="("+z+")"),H>1&&fe>0&&(j="("+j+")");var ye=z;return fe>0&&H>0&&(ye+=" / "),ye+=j,ye},y.prototype.format=function(z){var j=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),fe=!1;typeof j.value!="undefined"&&j.value!==null&&Cn(j.value)&&(fe=Math.abs(j.value.re)<1e-14);for(var H in j.units)je(j.units,H)&&j.units[H].unit&&(j.units[H].unit.name==="VA"&&fe?j.units[H].unit=q.VAR:j.units[H].unit.name==="VAR"&&!fe&&(j.units[H].unit=q.VA));j.units.length===1&&!j.fixPrefix&&Math.abs(j.units[0].power-Math.round(j.units[0].power))<1e-14&&(j.units[0].prefix=j._bestPrefix());var K=j._denormalize(j.value),re=j.value!==null?p(K,z||{}):"",ye=j.formatUnits();return j.value&&Cn(j.value)&&(re="("+re+")"),ye.length>0&&re.length>0&&(re+=" "),re+=ye,re},y.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var z=this.value!==null?u(this.value):0,j=u(this.units[0].unit.value),fe=this.units[0].prefix;if(z===0)return fe;var H=this.units[0].power,K=Math.log(z/Math.pow(fe.value*j,H))/Math.LN10-1.2;if(K>-2.200001&&K<1.800001)return fe;K=Math.abs(K);var re=this.units[0].unit.prefixes;for(var ye in re)if(je(re,ye)){var ve=re[ye];if(ve.scientific){var Le=Math.abs(Math.log(z/Math.pow(ve.value*j,H))/Math.LN10-1.2);(Le<K||Le===K&&ve.name.length<fe.name.length)&&(fe=ve,K=Le)}}return fe},y.prototype.splitUnit=function(z){for(var j=this.clone(),fe=[],H=0;H<z.length&&(j=j.to(z[H]),H!==z.length-1);H++){var K=j.toNumeric(),re=c(K),ye=void 0,ve=f(re,K);ve?ye=re:ye=s(j.toNumeric());var Le=new y(ye,z[H].toString());fe.push(Le),j=i(j,Le)}for(var Ce=0,ft=0;ft<fe.length;ft++)Ce=n(Ce,fe[ft].value);return f(Ce,this.value)&&(j.value=0),fe.push(j),fe};var I={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};I.SHORTLONG=sr({},I.SHORT,I.LONG),I.BINARY_SHORT=sr({},I.BINARY_SHORT_SI,I.BINARY_SHORT_IEC),I.BINARY_LONG=sr({},I.BINARY_LONG_SI,I.BINARY_LONG_IEC);var V=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],O={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var Y in O)je(O,Y)&&(O[Y].key=Y);var $={},W={name:"",base:$,value:1,offset:0,dimensions:V.map(z=>0)},q={meter:{name:"meter",base:O.LENGTH,prefixes:I.LONG,value:1,offset:0},inch:{name:"inch",base:O.LENGTH,prefixes:I.NONE,value:.0254,offset:0},foot:{name:"foot",base:O.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yard:{name:"yard",base:O.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mile:{name:"mile",base:O.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},link:{name:"link",base:O.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rod:{name:"rod",base:O.LENGTH,prefixes:I.NONE,value:5.0292,offset:0},chain:{name:"chain",base:O.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:O.LENGTH,prefixes:I.NONE,value:1e-10,offset:0},m:{name:"m",base:O.LENGTH,prefixes:I.SHORT,value:1,offset:0},in:{name:"in",base:O.LENGTH,prefixes:I.NONE,value:.0254,offset:0},ft:{name:"ft",base:O.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yd:{name:"yd",base:O.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mi:{name:"mi",base:O.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},li:{name:"li",base:O.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rd:{name:"rd",base:O.LENGTH,prefixes:I.NONE,value:5.02921,offset:0},ch:{name:"ch",base:O.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},mil:{name:"mil",base:O.LENGTH,prefixes:I.NONE,value:254e-7,offset:0},m2:{name:"m2",base:O.SURFACE,prefixes:I.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:O.SURFACE,prefixes:I.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:O.SURFACE,prefixes:I.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:O.SURFACE,prefixes:I.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:O.SURFACE,prefixes:I.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:O.SURFACE,prefixes:I.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:O.SURFACE,prefixes:I.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:O.SURFACE,prefixes:I.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:O.SURFACE,prefixes:I.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:O.SURFACE,prefixes:I.NONE,value:1e4,offset:0},m3:{name:"m3",base:O.VOLUME,prefixes:I.CUBIC,value:1,offset:0},L:{name:"L",base:O.VOLUME,prefixes:I.SHORT,value:.001,offset:0},l:{name:"l",base:O.VOLUME,prefixes:I.SHORT,value:.001,offset:0},litre:{name:"litre",base:O.VOLUME,prefixes:I.LONG,value:.001,offset:0},cuin:{name:"cuin",base:O.VOLUME,prefixes:I.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:O.VOLUME,prefixes:I.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:O.VOLUME,prefixes:I.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:O.VOLUME,prefixes:I.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:O.VOLUME,prefixes:I.NONE,value:15e-6,offset:0},drop:{name:"drop",base:O.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:O.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},minim:{name:"minim",base:O.VOLUME,prefixes:I.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:O.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:O.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:O.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:O.VOLUME,prefixes:I.NONE,value:1e-6,offset:0},cup:{name:"cup",base:O.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:O.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:O.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:O.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:O.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:O.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:O.VOLUME,prefixes:I.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:O.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:O.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:O.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:O.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:O.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:O.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:O.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:O.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},obl:{name:"obl",base:O.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},g:{name:"g",base:O.MASS,prefixes:I.SHORT,value:.001,offset:0},gram:{name:"gram",base:O.MASS,prefixes:I.LONG,value:.001,offset:0},ton:{name:"ton",base:O.MASS,prefixes:I.SHORT,value:907.18474,offset:0},t:{name:"t",base:O.MASS,prefixes:I.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:O.MASS,prefixes:I.LONG,value:1e3,offset:0},grain:{name:"grain",base:O.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:O.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:O.MASS,prefixes:I.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:O.MASS,prefixes:I.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:O.MASS,prefixes:I.NONE,value:45.359237,offset:0},stick:{name:"stick",base:O.MASS,prefixes:I.NONE,value:.115,offset:0},stone:{name:"stone",base:O.MASS,prefixes:I.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:O.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:O.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:O.MASS,prefixes:I.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:O.MASS,prefixes:I.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:O.MASS,prefixes:I.NONE,value:45.359237,offset:0},s:{name:"s",base:O.TIME,prefixes:I.SHORT,value:1,offset:0},min:{name:"min",base:O.TIME,prefixes:I.NONE,value:60,offset:0},h:{name:"h",base:O.TIME,prefixes:I.NONE,value:3600,offset:0},second:{name:"second",base:O.TIME,prefixes:I.LONG,value:1,offset:0},sec:{name:"sec",base:O.TIME,prefixes:I.LONG,value:1,offset:0},minute:{name:"minute",base:O.TIME,prefixes:I.NONE,value:60,offset:0},hour:{name:"hour",base:O.TIME,prefixes:I.NONE,value:3600,offset:0},day:{name:"day",base:O.TIME,prefixes:I.NONE,value:86400,offset:0},week:{name:"week",base:O.TIME,prefixes:I.NONE,value:7*86400,offset:0},month:{name:"month",base:O.TIME,prefixes:I.NONE,value:2629800,offset:0},year:{name:"year",base:O.TIME,prefixes:I.NONE,value:31557600,offset:0},decade:{name:"decade",base:O.TIME,prefixes:I.NONE,value:315576e3,offset:0},century:{name:"century",base:O.TIME,prefixes:I.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:O.TIME,prefixes:I.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:O.FREQUENCY,prefixes:I.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:O.FREQUENCY,prefixes:I.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:O.ANGLE,prefixes:I.SHORT,value:1,offset:0},radian:{name:"radian",base:O.ANGLE,prefixes:I.LONG,value:1,offset:0},deg:{name:"deg",base:O.ANGLE,prefixes:I.SHORT,value:null,offset:0},degree:{name:"degree",base:O.ANGLE,prefixes:I.LONG,value:null,offset:0},grad:{name:"grad",base:O.ANGLE,prefixes:I.SHORT,value:null,offset:0},gradian:{name:"gradian",base:O.ANGLE,prefixes:I.LONG,value:null,offset:0},cycle:{name:"cycle",base:O.ANGLE,prefixes:I.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:O.ANGLE,prefixes:I.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:O.ANGLE,prefixes:I.NONE,value:null,offset:0},A:{name:"A",base:O.CURRENT,prefixes:I.SHORT,value:1,offset:0},ampere:{name:"ampere",base:O.CURRENT,prefixes:I.LONG,value:1,offset:0},K:{name:"K",base:O.TEMPERATURE,prefixes:I.SHORT,value:1,offset:0},degC:{name:"degC",base:O.TEMPERATURE,prefixes:I.SHORT,value:1,offset:273.15},degF:{name:"degF",base:O.TEMPERATURE,prefixes:I.SHORT,value:new v(5,9),offset:459.67},degR:{name:"degR",base:O.TEMPERATURE,prefixes:I.SHORT,value:new v(5,9),offset:0},kelvin:{name:"kelvin",base:O.TEMPERATURE,prefixes:I.LONG,value:1,offset:0},celsius:{name:"celsius",base:O.TEMPERATURE,prefixes:I.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:O.TEMPERATURE,prefixes:I.LONG,value:new v(5,9),offset:459.67},rankine:{name:"rankine",base:O.TEMPERATURE,prefixes:I.LONG,value:new v(5,9),offset:0},mol:{name:"mol",base:O.AMOUNT_OF_SUBSTANCE,prefixes:I.SHORT,value:1,offset:0},mole:{name:"mole",base:O.AMOUNT_OF_SUBSTANCE,prefixes:I.LONG,value:1,offset:0},cd:{name:"cd",base:O.LUMINOUS_INTENSITY,prefixes:I.SHORT,value:1,offset:0},candela:{name:"candela",base:O.LUMINOUS_INTENSITY,prefixes:I.LONG,value:1,offset:0},N:{name:"N",base:O.FORCE,prefixes:I.SHORT,value:1,offset:0},newton:{name:"newton",base:O.FORCE,prefixes:I.LONG,value:1,offset:0},dyn:{name:"dyn",base:O.FORCE,prefixes:I.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:O.FORCE,prefixes:I.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:O.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:O.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:O.FORCE,prefixes:I.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:O.FORCE,prefixes:I.NONE,value:9.80665,offset:0},J:{name:"J",base:O.ENERGY,prefixes:I.SHORT,value:1,offset:0},joule:{name:"joule",base:O.ENERGY,prefixes:I.LONG,value:1,offset:0},erg:{name:"erg",base:O.ENERGY,prefixes:I.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:O.ENERGY,prefixes:I.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:O.ENERGY,prefixes:I.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:O.ENERGY,prefixes:I.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:O.ENERGY,prefixes:I.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:O.POWER,prefixes:I.SHORT,value:1,offset:0},watt:{name:"watt",base:O.POWER,prefixes:I.LONG,value:1,offset:0},hp:{name:"hp",base:O.POWER,prefixes:I.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:O.POWER,prefixes:I.SHORT,value:d.I,offset:0},VA:{name:"VA",base:O.POWER,prefixes:I.SHORT,value:1,offset:0},Pa:{name:"Pa",base:O.PRESSURE,prefixes:I.SHORT,value:1,offset:0},psi:{name:"psi",base:O.PRESSURE,prefixes:I.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:O.PRESSURE,prefixes:I.NONE,value:101325,offset:0},bar:{name:"bar",base:O.PRESSURE,prefixes:I.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:O.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:O.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:O.PRESSURE,prefixes:I.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:O.PRESSURE,prefixes:I.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:O.ELECTRIC_CHARGE,prefixes:I.LONG,value:1,offset:0},C:{name:"C",base:O.ELECTRIC_CHARGE,prefixes:I.SHORT,value:1,offset:0},farad:{name:"farad",base:O.ELECTRIC_CAPACITANCE,prefixes:I.LONG,value:1,offset:0},F:{name:"F",base:O.ELECTRIC_CAPACITANCE,prefixes:I.SHORT,value:1,offset:0},volt:{name:"volt",base:O.ELECTRIC_POTENTIAL,prefixes:I.LONG,value:1,offset:0},V:{name:"V",base:O.ELECTRIC_POTENTIAL,prefixes:I.SHORT,value:1,offset:0},ohm:{name:"ohm",base:O.ELECTRIC_RESISTANCE,prefixes:I.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:O.ELECTRIC_INDUCTANCE,prefixes:I.LONG,value:1,offset:0},H:{name:"H",base:O.ELECTRIC_INDUCTANCE,prefixes:I.SHORT,value:1,offset:0},siemens:{name:"siemens",base:O.ELECTRIC_CONDUCTANCE,prefixes:I.LONG,value:1,offset:0},S:{name:"S",base:O.ELECTRIC_CONDUCTANCE,prefixes:I.SHORT,value:1,offset:0},weber:{name:"weber",base:O.MAGNETIC_FLUX,prefixes:I.LONG,value:1,offset:0},Wb:{name:"Wb",base:O.MAGNETIC_FLUX,prefixes:I.SHORT,value:1,offset:0},tesla:{name:"tesla",base:O.MAGNETIC_FLUX_DENSITY,prefixes:I.LONG,value:1,offset:0},T:{name:"T",base:O.MAGNETIC_FLUX_DENSITY,prefixes:I.SHORT,value:1,offset:0},b:{name:"b",base:O.BIT,prefixes:I.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:O.BIT,prefixes:I.BINARY_LONG,value:1,offset:0},B:{name:"B",base:O.BIT,prefixes:I.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:O.BIT,prefixes:I.BINARY_LONG,value:8,offset:0}},te={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ge(z){if(z.number==="BigNumber"){var j=$u(g);q.rad.value=new g(1),q.deg.value=j.div(180),q.grad.value=j.div(200),q.cycle.value=j.times(2),q.arcsec.value=j.div(648e3),q.arcmin.value=j.div(10800)}else q.rad.value=1,q.deg.value=Math.PI/180,q.grad.value=Math.PI/200,q.cycle.value=Math.PI*2,q.arcsec.value=Math.PI/648e3,q.arcmin.value=Math.PI/10800;q.radian.value=q.rad.value,q.degree.value=q.deg.value,q.gradian.value=q.grad.value}ge(r),e&&e("config",function(z,j){z.number!==j.number&&ge(z)});var ae={si:{NONE:{unit:W,prefix:I.NONE[""]},LENGTH:{unit:q.m,prefix:I.SHORT[""]},MASS:{unit:q.g,prefix:I.SHORT.k},TIME:{unit:q.s,prefix:I.SHORT[""]},CURRENT:{unit:q.A,prefix:I.SHORT[""]},TEMPERATURE:{unit:q.K,prefix:I.SHORT[""]},LUMINOUS_INTENSITY:{unit:q.cd,prefix:I.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:q.mol,prefix:I.SHORT[""]},ANGLE:{unit:q.rad,prefix:I.SHORT[""]},BIT:{unit:q.bits,prefix:I.SHORT[""]},FORCE:{unit:q.N,prefix:I.SHORT[""]},ENERGY:{unit:q.J,prefix:I.SHORT[""]},POWER:{unit:q.W,prefix:I.SHORT[""]},PRESSURE:{unit:q.Pa,prefix:I.SHORT[""]},ELECTRIC_CHARGE:{unit:q.C,prefix:I.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:q.F,prefix:I.SHORT[""]},ELECTRIC_POTENTIAL:{unit:q.V,prefix:I.SHORT[""]},ELECTRIC_RESISTANCE:{unit:q.ohm,prefix:I.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:q.H,prefix:I.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:q.S,prefix:I.SHORT[""]},MAGNETIC_FLUX:{unit:q.Wb,prefix:I.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:q.T,prefix:I.SHORT[""]},FREQUENCY:{unit:q.Hz,prefix:I.SHORT[""]}}};ae.cgs=JSON.parse(JSON.stringify(ae.si)),ae.cgs.LENGTH={unit:q.m,prefix:I.SHORT.c},ae.cgs.MASS={unit:q.g,prefix:I.SHORT[""]},ae.cgs.FORCE={unit:q.dyn,prefix:I.SHORT[""]},ae.cgs.ENERGY={unit:q.erg,prefix:I.NONE[""]},ae.us=JSON.parse(JSON.stringify(ae.si)),ae.us.LENGTH={unit:q.ft,prefix:I.NONE[""]},ae.us.MASS={unit:q.lbm,prefix:I.NONE[""]},ae.us.TEMPERATURE={unit:q.degF,prefix:I.NONE[""]},ae.us.FORCE={unit:q.lbf,prefix:I.NONE[""]},ae.us.ENERGY={unit:q.BTU,prefix:I.BTU[""]},ae.us.POWER={unit:q.hp,prefix:I.NONE[""]},ae.us.PRESSURE={unit:q.psi,prefix:I.NONE[""]},ae.auto=JSON.parse(JSON.stringify(ae.si));var ce=ae.auto;y.setUnitSystem=function(z){if(je(ae,z))ce=ae[z];else throw new Error("Unit system "+z+" does not exist. Choices are: "+Object.keys(ae).join(", "))},y.getUnitSystem=function(){for(var z in ae)if(je(ae,z)&&ae[z]===ce)return z},y.typeConverters={BigNumber:function(j){return j!=null&&j.isFraction?new g(j.n).div(j.d).times(j.s):new g(j+"")},Fraction:function(j){return new v(j)},Complex:function(j){return j},number:function(j){return j!=null&&j.isFraction?h(j):j}},y.prototype._numberConverter=function(){var z=y.typeConverters[this.valueType()];if(z)return z;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},y._getNumberConverter=function(z){if(!y.typeConverters[z])throw new TypeError('Unsupported type "'+z+'"');return y.typeConverters[z]};for(var pe in q)if(je(q,pe)){var ue=q[pe];ue.dimensions=ue.base.dimensions}for(var ne in te)if(je(te,ne)){var me=q[te[ne]],be={};for(var Be in me)je(me,Be)&&(be[Be]=me[Be]);be.name=ne,q[ne]=be}y.isValidAlpha=function(j){return/^[a-zA-Z]$/.test(j)};function We(z){for(var j=0;j<z.length;j++){if(x=z.charAt(j),j===0&&!y.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+z+'"');if(j>0&&!(y.isValidAlpha(x)||w(x)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+z+'"')}}return y.createUnit=function(z,j){if(typeof z!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(j&&j.override){for(var fe in z)if(je(z,fe)&&y.deleteUnit(fe),z[fe].aliases)for(var H=0;H<z[fe].aliases.length;H++)y.deleteUnit(z[fe].aliases[H])}var K;for(var re in z)je(z,re)&&(K=y.createUnitSingle(re,z[re]));return K},y.createUnitSingle=function(z,j){if((typeof j=="undefined"||j===null)&&(j={}),typeof z!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(je(q,z))throw new Error('Cannot create unit "'+z+'": a unit with that name already exists');We(z);var fe=null,H=[],K=0,re,ye,ve;if(j&&j.type==="Unit")fe=j.clone();else if(typeof j=="string")j!==""&&(re=j);else if(typeof j=="object")re=j.definition,ye=j.prefixes,K=j.offset,ve=j.baseName,j.aliases&&(H=j.aliases.valueOf());else throw new TypeError('Cannot create unit "'+z+'" from "'+j.toString()+'": expecting "string" or "Unit" or "Object"');if(H){for(var Le=0;Le<H.length;Le++)if(je(q,H[Le]))throw new Error('Cannot create alias "'+H[Le]+'": a unit with that name already exists')}if(re&&typeof re=="string"&&!fe)try{fe=y.parse(re,{allowNoUnits:!0})}catch(_){throw _.message='Could not create unit "'+z+'" from "'+re+'": '+_.message,_}else re&&re.type==="Unit"&&(fe=re.clone());H=H||[],K=K||0,ye&&ye.toUpperCase?ye=I[ye.toUpperCase()]||I.NONE:ye=I.NONE;var Ce={};if(fe){Ce={name:z,value:fe.value,dimensions:fe.dimensions.slice(0),prefixes:ye,offset:K};var qt=!1;for(var G in O)if(je(O,G)){for(var oe=!0,de=0;de<V.length;de++)if(Math.abs((Ce.dimensions[de]||0)-(O[G].dimensions[de]||0))>1e-12){oe=!1;break}if(oe){qt=!0,Ce.base=O[G];break}}if(!qt){ve=ve||z+"_STUFF";var we={dimensions:fe.dimensions.slice(0)};we.key=ve,O[ve]=we,ce[ve]={unit:Ce,prefix:I.NONE[""]},Ce.base=O[ve]}}else{if(ve=ve||z+"_STUFF",V.indexOf(ve)>=0)throw new Error('Cannot create new base unit "'+z+'": a base unit with that name already exists (and cannot be overridden)');V.push(ve);for(var ft in O)je(O,ft)&&(O[ft].dimensions[V.length-1]=0);for(var pt={dimensions:[]},St=0;St<V.length;St++)pt.dimensions[St]=0;pt.dimensions[V.length-1]=1,pt.key=ve,O[ve]=pt,Ce={name:z,value:1,dimensions:O[ve].dimensions.slice(0),prefixes:ye,offset:K,base:O[ve]},ce[ve]={unit:Ce,prefix:I.NONE[""]}}y.UNITS[z]=Ce;for(var Ne=0;Ne<H.length;Ne++){var Ee=H[Ne],Ae={};for(var Pe in Ce)je(Ce,Pe)&&(Ae[Pe]=Ce[Pe]);Ae.name=Ee,y.UNITS[Ee]=Ae}return delete P.cache,new y(null,z)},y.deleteUnit=function(z){delete y.UNITS[z]},y.PREFIXES=I,y.BASE_DIMENSIONS=V,y.BASE_UNITS=O,y.UNIT_SYSTEMS=ae,y.UNITS=q,y},{isClass:!0});var w_="unit",aG=["typed","Unit"],xy=S(w_,aG,t=>{var{typed:e,Unit:r}=t;return e(w_,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var E_="sparse",oG=["typed","SparseMatrix"],Dy=S(E_,oG,t=>{var{typed:e,SparseMatrix:r}=t;return e(E_,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})});var C_="createUnit",sG=["typed","Unit"],wy=S(C_,sG,t=>{var{typed:e,Unit:r}=t;return e(C_,{"Object, Object":function(i,a){return r.createUnit(i,a)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var l={};return l[i]=a,r.createUnit(l,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,r.createUnit(o,{})},string:function(i){var a={};return a[i]={},r.createUnit(a,{})}})});var F_="acos",uG=["typed","config","Complex"],Ey=S(F_,uG,t=>{var{typed:e,config:r,Complex:n}=t;return e(F_,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var A_="acosh",lG=["typed","config","Complex"],Cy=S(A_,lG,t=>{var{typed:e,config:r,Complex:n}=t;return e(A_,{number:function(a){return a>=1||r.predictable?Mg(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var S_="acot",cG=["typed","BigNumber"],Fy=S(S_,cG,t=>{var{typed:e,BigNumber:r}=t;return e(S_,{number:Tg,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})});var N_="acoth",fG=["typed","config","Complex","BigNumber"],Ay=S(N_,fG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(N_,{number:function(o){return o>=1||o<=-1||r.predictable?Ig(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var __="acsc",mG=["typed","config","Complex","BigNumber"],Sy=S(__,mG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(__,{number:function(o){return o<=-1||o>=1||r.predictable?Bg(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var M_="acsch",pG=["typed","BigNumber"],Ny=S(M_,pG,t=>{var{typed:e,BigNumber:r}=t;return e(M_,{number:Og,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})});var T_="asec",dG=["typed","config","Complex","BigNumber"],_y=S(T_,dG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(T_,{number:function(o){return o<=-1||o>=1||r.predictable?kg(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var I_="asech",hG=["typed","config","Complex","BigNumber"],My=S(I_,hG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(I_,{number:function(o){if(o<=1&&o>=-1||r.predictable){var l=1/o;if(l>0||r.predictable)return Rg(o);var u=Math.sqrt(l*l-1);return new n(Math.log(u-l),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var B_="asin",gG=["typed","config","Complex"],Ty=S(B_,gG,t=>{var{typed:e,config:r,Complex:n}=t;return e(B_,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var vG="asinh",yG=["typed"],Iy=S(vG,yG,t=>{var{typed:e}=t;return e("asinh",{number:Pg,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var bG="atan",xG=["typed"],By=S(bG,xG,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var O_="atan2",DG=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Oy=S(O_,DG,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=t,l=Sr({typed:e,equalScalar:n}),u=Xt({typed:e}),s=Wf({typed:e,equalScalar:n}),c=Lt({typed:e,equalScalar:n}),f=Nt({typed:e,DenseMatrix:a}),m=ct({typed:e,matrix:r,concat:o});return e(O_,{"number, number":Math.atan2,"BigNumber, BigNumber":(p,h)=>i.atan2(p,h)},m({scalar:"number | BigNumber",SS:s,DS:u,SD:l,Ss:c,sS:f}))});var k_="atanh",wG=["typed","config","Complex"],ky=S(k_,wG,t=>{var{typed:e,config:r,Complex:n}=t;return e(k_,{number:function(a){return a<=1&&a>=-1||r.predictable?Lg(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var ci=S("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}});var R_="cos",EG=["typed"],Ry=S(R_,EG,t=>{var{typed:e}=t,r=ci({typed:e});return e(R_,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)});var P_="cosh",CG=["typed"],Py=S(P_,CG,t=>{var{typed:e}=t;return e(P_,{number:wf,"Complex | BigNumber":r=>r.cosh()})});var L_="cot",FG=["typed","BigNumber"],Ly=S(L_,FG,t=>{var{typed:e,BigNumber:r}=t,n=ci({typed:e});return e(L_,{number:qg,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},n)});var q_="coth",AG=["typed","BigNumber"],qy=S(q_,AG,t=>{var{typed:e,BigNumber:r}=t;return e(q_,{number:Vg,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})});var V_="csc",SG=["typed","BigNumber"],Vy=S(V_,SG,t=>{var{typed:e,BigNumber:r}=t,n=ci({typed:e});return e(V_,{number:Ug,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},n)});var U_="csch",NG=["typed","BigNumber"],Uy=S(U_,NG,t=>{var{typed:e,BigNumber:r}=t;return e(U_,{number:zg,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})});var z_="sec",_G=["typed","BigNumber"],zy=S(z_,_G,t=>{var{typed:e,BigNumber:r}=t,n=ci({typed:e});return e(z_,{number:Wg,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},n)});var W_="sech",MG=["typed","BigNumber"],Wy=S(W_,MG,t=>{var{typed:e,BigNumber:r}=t;return e(W_,{number:Hg,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})});var H_="sin",TG=["typed"],Hy=S(H_,TG,t=>{var{typed:e}=t,r=ci({typed:e});return e(H_,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)});var G_="sinh",IG=["typed"],Gy=S(G_,IG,t=>{var{typed:e}=t;return e(G_,{number:Gg,"Complex | BigNumber":r=>r.sinh()})});var j_="tan",BG=["typed"],jy=S(j_,BG,t=>{var{typed:e}=t,r=ci({typed:e});return e(j_,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)});var OG="tanh",kG=["typed"],Zy=S(OG,kG,t=>{var{typed:e}=t;return e("tanh",{number:Ef,"Complex | BigNumber":r=>r.tanh()})});var Z_="setCartesian",RG=["typed","size","subset","compareNatural","Index","DenseMatrix"],Yy=S(Z_,RG,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(Z_,{"Array | Matrix, Array | Matrix":function(u,s){var c=[];if(n(r(u),new a(0))!==0&&n(r(s),new a(0))!==0){var f=dt(Array.isArray(u)?u:u.toArray()).sort(i),m=dt(Array.isArray(s)?s:s.toArray()).sort(i);c=[];for(var p=0;p<f.length;p++)for(var h=0;h<m.length;h++)c.push([f[p],m[h]])}return Array.isArray(u)&&Array.isArray(s)?c:new o(c)}})});var Y_="setDifference",PG=["typed","size","subset","compareNatural","Index","DenseMatrix"],Jy=S(Y_,PG,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(Y_,{"Array | Matrix, Array | Matrix":function(u,s){var c;if(n(r(u),new a(0))===0)c=[];else{if(n(r(s),new a(0))===0)return dt(u.toArray());var f=aa(dt(Array.isArray(u)?u:u.toArray()).sort(i)),m=aa(dt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var p,h=0;h<f.length;h++){p=!1;for(var d=0;d<m.length;d++)if(i(f[h].value,m[d].value)===0&&f[h].identifier===m[d].identifier){p=!0;break}p||c.push(f[h])}}return Array.isArray(u)&&Array.isArray(s)?Ds(c):new o(Ds(c))}})});var J_="setDistinct",LG=["typed","size","subset","compareNatural","Index","DenseMatrix"],Xy=S(J_,LG,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(J_,{"Array | Matrix":function(u){var s;if(n(r(u),new a(0))===0)s=[];else{var c=dt(Array.isArray(u)?u:u.toArray()).sort(i);s=[],s.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&s.push(c[f])}return Array.isArray(u)?s:new o(s)}})});var X_="setIntersect",qG=["typed","size","subset","compareNatural","Index","DenseMatrix"],Qy=S(X_,qG,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(X_,{"Array | Matrix, Array | Matrix":function(u,s){var c;if(n(r(u),new a(0))===0||n(r(s),new a(0))===0)c=[];else{var f=aa(dt(Array.isArray(u)?u:u.toArray()).sort(i)),m=aa(dt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var p=0;p<f.length;p++)for(var h=0;h<m.length;h++)if(i(f[p].value,m[h].value)===0&&f[p].identifier===m[h].identifier){c.push(f[p]);break}}return Array.isArray(u)&&Array.isArray(s)?Ds(c):new o(Ds(c))}})});var Q_="setIsSubset",VG=["typed","size","subset","compareNatural","Index"],Ky=S(Q_,VG,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(Q_,{"Array | Matrix, Array | Matrix":function(l,u){if(n(r(l),new a(0))===0)return!0;if(n(r(u),new a(0))===0)return!1;for(var s=aa(dt(Array.isArray(l)?l:l.toArray()).sort(i)),c=aa(dt(Array.isArray(u)?u:u.toArray()).sort(i)),f,m=0;m<s.length;m++){f=!1;for(var p=0;p<c.length;p++)if(i(s[m].value,c[p].value)===0&&s[m].identifier===c[p].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var K_="setMultiplicity",UG=["typed","size","subset","compareNatural","Index"],$y=S(K_,UG,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(K_,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(l,u){if(n(r(u),new a(0))===0)return 0;for(var s=dt(Array.isArray(u)?u:u.toArray()),c=0,f=0;f<s.length;f++)i(s[f],l)===0&&c++;return c}})});var $_="setPowerset",zG=["typed","size","subset","compareNatural","Index"],e1=S($_,zG,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e($_,{"Array | Matrix":function(s){if(n(r(s),new a(0))===0)return[];for(var c=dt(Array.isArray(s)?s:s.toArray()).sort(i),f=[],m=0;m.toString(2).length<=c.length;)f.push(o(c,m.toString(2).split("").reverse())),m++;return l(f)}});function o(u,s){for(var c=[],f=0;f<s.length;f++)s[f]==="1"&&c.push(u[f]);return c}function l(u){for(var s=[],c=u.length-1;c>0;c--)for(var f=0;f<c;f++)u[f].length>u[f+1].length&&(s=u[f],u[f]=u[f+1],u[f+1]=s);return u}});var eM="setSize",WG=["typed","compareNatural"],t1=S(eM,WG,t=>{var{typed:e,compareNatural:r}=t;return e(eM,{"Array | Matrix":function(i){return Array.isArray(i)?dt(i).length:dt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?dt(i).length:dt(i.toArray()).length;for(var o=dt(Array.isArray(i)?i:i.toArray()).sort(r),l=1,u=1;u<o.length;u++)r(o[u],o[u-1])!==0&&l++;return l}})});var tM="setSymDifference",HG=["typed","size","concat","subset","setDifference","Index"],r1=S(tM,HG,t=>{var{typed:e,size:r,concat:n,subset:i,setDifference:a,Index:o}=t;return e(tM,{"Array | Matrix, Array | Matrix":function(u,s){if(i(r(u),new o(0))===0)return dt(s);if(i(r(s),new o(0))===0)return dt(u);var c=dt(u),f=dt(s);return n(a(c,f),a(f,c))}})});var rM="setUnion",GG=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],n1=S(rM,GG,t=>{var{typed:e,size:r,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:l}=t;return e(rM,{"Array | Matrix, Array | Matrix":function(s,c){if(i(r(s),new l(0))===0)return dt(c);if(i(r(c),new l(0))===0)return dt(s);var f=dt(s),m=dt(c);return n(o(f,m),a(f,m))}})});var nM="add",jG=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],i1=S(nM,jG,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:l}=t,u=dn({typed:e}),s=As({typed:e,equalScalar:i}),c=kn({typed:e,DenseMatrix:a}),f=ct({typed:e,matrix:r,concat:l});return e(nM,{"any, any":n,"any, any, ...any":e.referToSelf(m=>(p,h,d)=>{for(var g=m(p,h),v=0;v<d.length;v++)g=m(g,d[v]);return g})},f({elop:n,DS:u,SS:s,Ss:c}))});var iM="hypot",ZG=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],a1=S(iM,ZG,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:l,isPositive:u}=t;return e(iM,{"... number | BigNumber":s,Array:s,Matrix:c=>s(dt(c.toArray()))});function s(c){for(var f=0,m=0,p=0;p<c.length;p++){if(Cn(c[p]))throw new TypeError("Unexpected type of argument to hypot");var h=r(c[p]);l(m,h)?(f=a(f,a(i(m,h),i(m,h))),f=n(f,1),m=h):f=n(f,u(h)?a(i(h,m),i(h,m)):h)}return a(m,o(f))}});var aM="norm",YG=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],o1=S(aM,YG,t=>{var{typed:e,abs:r,add:n,pow:i,conj:a,sqrt:o,multiply:l,equalScalar:u,larger:s,smaller:c,matrix:f,ctranspose:m,eigs:p}=t;return e(aM,{number:Math.abs,Complex:function(A){return A.abs()},BigNumber:function(A){return A.abs()},boolean:function(A){return Math.abs(A)},Array:function(A){return x(f(A),2)},Matrix:function(A){return x(A,2)},"Array, number | BigNumber | string":function(A,w){return x(f(A),w)},"Matrix, number | BigNumber | string":function(A,w){return x(A,w)}});function h(C){var A=0;return C.forEach(function(w){var F=r(w);s(F,A)&&(A=F)},!0),A}function d(C){var A;return C.forEach(function(w){var F=r(w);(!A||c(F,A))&&(A=F)},!0),A||0}function g(C,A){if(A===Number.POSITIVE_INFINITY||A==="inf")return h(C);if(A===Number.NEGATIVE_INFINITY||A==="-inf")return d(C);if(A==="fro")return x(C,2);if(typeof A=="number"&&!isNaN(A)){if(!u(A,0)){var w=0;return C.forEach(function(F){w=n(i(r(F),A),w)},!0),i(w,1/A)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function v(C){var A=0;return C.forEach(function(w,F){A=n(A,l(w,a(w)))}),r(o(A))}function E(C){var A=[],w=0;return C.forEach(function(F,M){var B=M[1],k=n(A[B]||0,r(F));s(k,w)&&(w=k),A[B]=k},!0),w}function y(C){var A=C.size();if(A[0]!==A[1])throw new RangeError("Invalid matrix dimensions");var w=m(C),F=l(w,C),M=p(F).values.toArray(),B=M[M.length-1];return r(o(B))}function D(C){var A=[],w=0;return C.forEach(function(F,M){var B=M[0],k=n(A[B]||0,r(F));s(k,w)&&(w=k),A[B]=k},!0),w}function b(C,A){if(A===1)return E(C);if(A===Number.POSITIVE_INFINITY||A==="inf")return D(C);if(A==="fro")return v(C);if(A===2)return y(C);throw new Error("Unsupported parameter value "+A)}function x(C,A){var w=C.size();if(w.length===1)return g(C,A);if(w.length===2){if(w[0]&&w[1])return b(C,A);throw new RangeError("Invalid matrix dimensions")}}});var oM="dot",JG=["typed","addScalar","multiplyScalar","conj","size"],s1=S(oM,JG,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:a}=t;return e(oM,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":u});function o(c,f){var m=s(c),p=s(f),h,d;if(m.length===1)h=m[0];else if(m.length===2&&m[1]===1)h=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(p.length===1)d=p[0];else if(p.length===2&&p[1]===1)d=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function l(c,f){var m=o(c,f),p=Ge(c)?c._data:c,h=Ge(c)?c._datatype:void 0,d=Ge(f)?f._data:f,g=Ge(f)?f._datatype:void 0,v=s(c).length===2,E=s(f).length===2,y=r,D=n;if(h&&g&&h===g&&typeof h=="string"){var b=h;y=e.find(r,[b,b]),D=e.find(n,[b,b])}if(!v&&!E){for(var x=D(i(p[0]),d[0]),C=1;C<m;C++)x=y(x,D(i(p[C]),d[C]));return x}if(!v&&E){for(var A=D(i(p[0]),d[0][0]),w=1;w<m;w++)A=y(A,D(i(p[w]),d[w][0]));return A}if(v&&!E){for(var F=D(i(p[0][0]),d[0]),M=1;M<m;M++)F=y(F,D(i(p[M][0]),d[M]));return F}if(v&&E){for(var B=D(i(p[0][0]),d[0][0]),k=1;k<m;k++)B=y(B,D(i(p[k][0]),d[k][0]));return B}}function u(c,f){o(c,f);for(var m=c._index,p=c._values,h=f._index,d=f._values,g=0,v=r,E=n,y=0,D=0;y<m.length&&D<h.length;){var b=m[y],x=h[D];if(b<x){y++;continue}if(b>x){D++;continue}b===x&&(g=v(g,E(p[y],d[D])),y++,D++)}return g}function s(c){return Ge(c)?c.size():a(c)}});var XG="trace",QG=["typed","matrix","add"],u1=S(XG,QG,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(l){return i(r(l))},SparseMatrix:a,DenseMatrix:i,any:Je});function i(o){var l=o._size,u=o._data;switch(l.length){case 1:if(l[0]===1)return Je(u[0]);throw new RangeError("Matrix must be square (size: "+at(l)+")");case 2:{var s=l[0],c=l[1];if(s===c){for(var f=0,m=0;m<s;m++)f=n(f,u[m][m]);return f}else throw new RangeError("Matrix must be square (size: "+at(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+at(l)+")")}}function a(o){var l=o._values,u=o._index,s=o._ptr,c=o._size,f=c[0],m=c[1];if(f===m){var p=0;if(l.length>0)for(var h=0;h<m;h++)for(var d=s[h],g=s[h+1],v=d;v<g;v++){var E=u[v];if(E===h){p=n(p,l[v]);break}if(E>h)break}return p}throw new RangeError("Matrix must be square (size: "+at(c)+")")}});var sM="index",KG=["typed","Index"],l1=S(sM,KG,t=>{var{typed:e,Index:r}=t;return e(sM,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(l){return $e(l)?l.toNumber():wt(l)||Ge(l)?l.map(function(u){return $e(u)?u.toNumber():u}):l}),o=new r;return r.apply(o,a),o}})});var rm=new Set(["end"]);var $G="Node",ej=["mathWithTransform"],c1=S($G,ej,t=>{var{mathWithTransform:e}=t;function r(i){for(var a of[...rm])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},l=null;function u(s){var c=oa(s);return r(c),a(c,o,l)}return{evaluate:u}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!yt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(l,u){l.forEach(function(s,c,f){u(s,c,f),o(s,u)})}o(this,a)}transform(a){function o(l,u,s){var c=a(l,u,s);return c!==l?c:l.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(l,u,s){a(l,u,s)&&o.push(l)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Ci(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this.toHTML(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Qt(t){return t&&t.isIndexError?new sn(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function nm(t){var{subset:e}=t;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ur(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Qt(a)}}}var im="AccessorNode",tj=["subset","Node"],f1=S(im,tj,t=>{var{subset:e,Node:r}=t,n=nm({subset:e});function i(o){return!(Gn(o)||an(o)||vt(o)||An(o)||ka(o)||on(o)||Zt(o))}class a extends r{constructor(l,u){if(super(),!yt(l))throw new TypeError('Node expected for parameter "object"');if(!ai(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=l,this.index=u}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return im}get isAccessorNode(){return!0}_compile(l,u){var s=this.object._compile(l,u),c=this.index._compile(l,u);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(p,h,d){return ur(s(p,h,d),f)}}else return function(p,h,d){var g=s(p,h,d),v=c(p,h,g);return n(g,v)}}forEach(l){l(this.object,"object",this),l(this.index,"index",this)}map(l){return new a(this._ifNode(l(this.object,"object",this)),this._ifNode(l(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(l){var u=this.object.toString(l);return i(this.object)&&(u="("+u+")"),u+this.index.toString(l)}toHTML(l){var u=this.object.toHTML(l);return i(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(l)}_toTex(l){var u=this.object.toTex(l);return i(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(l)}toJSON(){return{mathjs:im,object:this.object,index:this.index}}static fromJSON(l){return new a(l.object,l.index)}}return Tt(a,"name",im),a},{isClass:!0,isNode:!0});var am="ArrayNode",rj=["Node"],m1=S(am,rj,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(yt))throw new TypeError("Array containing Nodes expected")}get type(){return am}get isArrayNode(){return!0}_compile(i,a){var o=In(this.items,function(s){return s._compile(i,a)}),l=i.config.matrix!=="Array";if(l){var u=i.matrix;return function(c,f,m){return u(In(o,function(p){return p(c,f,m)}))}}else return function(c,f,m){return In(o,function(p){return p(c,f,m)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:am,items:this.items}}static fromJSON(i){return new r(i.items)}toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,l){var u=o.some(an)&&!o.every(an),s=l||u,c=s?"&":"\\\\",f=o.map(function(m){return m.items?a(m.items,!l):m.toTex(i)}).join(c);return u||!s||s&&!l?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return Tt(r,"name",am),r},{isClass:!0,isNode:!0});function uM(t){var{subset:e,matrix:r}=t;return function(i,a,o){try{if(Array.isArray(i)){var l=r(i).subset(a,o).valueOf();return l.forEach((u,s)=>{i[s]=u}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return zi(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(u){throw Qt(u)}}}var fi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function om(t,e){if(!e||e!=="auto")return t;for(var r=t;on(r);)r=r.content;return r}function kt(t,e,r,n){var i=t;e!=="keep"&&(i=t.getContent());for(var a=i.getIdentifier(),o=null,l=0;l<fi.length;l++)if(a in fi[l]){o=l;break}if(a==="OperatorNode:multiply"&&i.implicit&&r!=="show"){var u=om(i.args[0],e);!(vt(u)&&n&&n.getIdentifier()==="OperatorNode:divide"&&Mu(om(n.args[0],e)))&&!(u.getIdentifier()==="OperatorNode:divide"&&Mu(om(u.args[0],e))&&vt(om(u.args[1])))&&(o+=1)}return o}function Bs(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),i=kt(r,e);if(i===null)return null;var a=fi[i][n];if(je(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function sm(t,e,r){var n=r!=="keep"?t.getContent():t,i=r!=="keep"?t.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),l=kt(n,r);if(l===null)return null;var u=fi[l][a];if(je(u,"associativeWith")&&u.associativeWith instanceof Array){for(var s=0;s<u.associativeWith.length;s++)if(u.associativeWith[s]===o)return!0;return!1}return null}function lM(t){var e="OperatorNode:"+t;for(var r of fi)if(e in r)return r[e].op;return null}var um="AssignmentNode",nj=["subset","?matrix","Node"],p1=S(um,nj,t=>{var{subset:e,matrix:r,Node:n}=t,i=nm({subset:e}),a=uM({subset:e,matrix:r});function o(u,s,c){s||(s="keep");var f=kt(u,s,c),m=kt(u.value,s,c);return s==="all"||m!==null&&m<=f}class l extends n{constructor(s,c,f){if(super(),this.object=s,this.index=f?c:null,this.value=f||c,!Zt(s)&&!Gn(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Zt(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!ai(this.index))throw new TypeError('IndexNode expected as "index"');if(!yt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return um}get isAssignmentNode(){return!0}_compile(s,c){var f=this.object._compile(s,c),m=this.index?this.index._compile(s,c):null,p=this.value._compile(s,c),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(D,b,x){var C=f(D,b,x),A=p(D,b,x);return zi(C,d,A),A}}else{if(Zt(this.object))return function(D,b,x){var C=f(D,b,x),A=p(D,b,x),w=m(D,b,C);return D.set(h,a(C,w,A)),A};var g=this.object.object._compile(s,c);if(this.object.index.isObjectProperty()){var v=this.object.index.getObjectProperty();return function(D,b,x){var C=g(D,b,x),A=ur(C,v),w=m(D,b,A),F=p(D,b,x);return zi(C,v,a(A,w,F)),F}}else{var E=this.object.index._compile(s,c);return function(D,b,x){var C=g(D,b,x),A=E(D,b,C),w=i(C,A),F=m(D,b,w),M=p(D,b,x);return a(C,A,a(w,F,M)),M}}}else{if(!Zt(this.object))throw new TypeError("SymbolNode expected as object");return function(D,b,x){var C=p(D,b,x);return D.set(h,C),C}}}forEach(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)}map(s){var c=this._ifNode(s(this.object,"object",this)),f=this.index?this._ifNode(s(this.index,"index",this)):null,m=this._ifNode(s(this.value,"value",this));return new l(c,f,m)}clone(){return new l(this.object,this.index,this.value)}_toString(s){var c=this.object.toString(s),f=this.index?this.index.toString(s):"",m=this.value.toString(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m="("+m+")"),c+f+" = "+m}toJSON(){return{mathjs:um,object:this.object,index:this.index,value:this.value}}static fromJSON(s){return new l(s.object,s.index,s.value)}toHTML(s){var c=this.object.toHTML(s),f=this.index?this.index.toHTML(s):"",m=this.value.toHTML(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m='<span class="math-paranthesis math-round-parenthesis">(</span>'+m+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+m}_toTex(s){var c=this.object.toTex(s),f=this.index?this.index.toTex(s):"",m=this.value.toTex(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(m="\\left(".concat(m,"\\right)")),c+f+"="+m}}return Tt(l,"name",um),l},{isClass:!0,isNode:!0});var lm="BlockNode",ij=["ResultSet","Node"],d1=S(lm,ij,t=>{var{ResultSet:e,Node:r}=t;class n extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var l=o&&o.node,u=o&&o.visible!==void 0?o.visible:!0;if(!yt(l))throw new TypeError('Property "node" must be a Node');if(typeof u!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:l,visible:u}})}get type(){return lm}get isBlockNode(){return!0}_compile(a,o){var l=In(this.blocks,function(u){return{evaluate:u.node._compile(a,o),visible:u.visible}});return function(s,c,f){var m=[];return Ra(l,function(h){var d=h.evaluate(s,c,f);h.visible&&m.push(d)}),new e(m)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],l=0;l<this.blocks.length;l++){var u=this.blocks[l],s=this._ifNode(a(u.node,"blocks["+l+"].node",this));o[l]={node:s,visible:u.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:lm,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return Tt(n,"name",lm),n},{isClass:!0,isNode:!0});var cm="ConditionalNode",aj=["Node"],h1=S(cm,aj,t=>{var{Node:e}=t;function r(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if($e(i))return!i.isZero();if(Cn(i))return!!(i.re||i.im);if(nn(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Dt(i)+'"')}class n extends e{constructor(a,o,l){if(super(),!yt(a))throw new TypeError("Parameter condition must be a Node");if(!yt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!yt(l))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=l}get type(){return cm}get isConditionalNode(){return!0}_compile(a,o){var l=this.condition._compile(a,o),u=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(f,m,p){return r(l(f,m,p))?u(f,m,p):s(f,m,p)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=kt(this,o,a&&a.implicit),u=this.condition.toString(a),s=kt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=l)&&(u="("+u+")");var c=this.trueExpr.toString(a),f=kt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c="("+c+")");var m=this.falseExpr.toString(a),p=kt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=l)&&(m="("+m+")"),u+" ? "+c+" : "+m}toJSON(){return{mathjs:cm,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=kt(this,o,a&&a.implicit),u=this.condition.toHTML(a),s=kt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=l)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=kt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var m=this.falseExpr.toHTML(a),p=kt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=l)&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+m}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Tt(n,"name",cm),n},{isClass:!0,isNode:!0});var pM=xr(fM(),1);var v1={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},It={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},y1={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(It.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(It.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(It.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(It.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(It.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(It.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(It.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(It.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(It.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(It.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(It.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(It.bitAnd,"${args[1]}\\right)")},bitNot:{1:It.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(It.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(It.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(It.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(It.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(It.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(It.and,"${args[1]}\\right)")},not:{1:It.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(It.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(It.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(It.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(It.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(It.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(It.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(It.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(It.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(It.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(It.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(It.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(It.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(It.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(v1.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},dM="\\mathrm{${name}}\\left(${args}\\right)",mM={deg:"^\\circ"};function fm(t){return(0,pM.default)(t,{preserveFormatting:!0})}function mm(t,e){return e=typeof e=="undefined"?!1:e,e?je(mM,t)?mM[t]:"\\mathrm{"+fm(t)+"}":je(v1,t)?v1[t]:fm(t)}var pm="ConstantNode",lj=["Node"],b1=S(pm,lj,t=>{var{Node:e}=t;class r extends e{constructor(i){super(),this.value=i}get type(){return pm}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return at(this.value,i)}toHTML(i){var a=this._toString(i);switch(Dt(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:pm,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var a=this._toString(i);switch(Dt(this.value)){case"string":return"\\mathtt{"+fm(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return Tt(r,"name",pm),r},{isClass:!0,isNode:!0});var dm="FunctionAssignmentNode",cj=["typed","Node"],x1=S(dm,cj,t=>{var{typed:e,Node:r}=t;function n(a,o,l){var u=kt(a,o,l),s=kt(a.expr,o,l);return o==="all"||s!==null&&s<=u}class i extends r{constructor(o,l,u){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(l))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!yt(u))throw new TypeError('Node expected for parameter "expr"');if(rm.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var s=new Set;for(var c of l){var f=typeof c=="string"?c:c.name;if(s.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));s.add(f)}this.name=o,this.params=l.map(function(m){return m&&m.name||m}),this.types=l.map(function(m){return m&&m.type||"any"}),this.expr=u}get type(){return dm}get isFunctionAssignmentNode(){return!0}_compile(o,l){var u=Object.create(l);Ra(this.params,function(h){u[h]=!0});var s=this.expr._compile(o,u),c=this.name,f=this.params,m=Ah(this.types,","),p=c+"("+Ah(this.params,", ")+")";return function(d,g,v){var E={};E[m]=function(){for(var D=Object.create(g),b=0;b<f.length;b++)D[f[b]]=arguments[b];return s(d,D,v)};var y=e(c,E);return y.syntax=p,d.set(c,y),y}}forEach(o){o(this.expr,"expr",this)}map(o){var l=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),l)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toString(o);return n(this,l,o&&o.implicit)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u}toJSON(){var o=this.types;return{mathjs:dm,name:this.name,params:this.params.map(function(l,u){return{name:l,type:o[u]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}toHTML(o){for(var l=o&&o.parenthesis?o.parenthesis:"keep",u=[],s=0;s<this.params.length;s++)u.push('<span class="math-symbol math-parameter">'+Vr(this.params[s])+"</span>");var c=this.expr.toHTML(o);return n(this,l,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Vr(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toTex(o);return n(this,l,o&&o.implicit)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(mm).join(",")+"\\right)="+u}}return Tt(i,"name",dm),i},{isClass:!0,isNode:!0});var hm="IndexNode",fj=["Node","size"],D1=S(hm,fj,t=>{var{Node:e,size:r}=t;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(yt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return hm}get isIndexNode(){return!0}_compile(a,o){var l=In(this.dimensions,function(s,c){var f=s.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var m=Object.create(o);m.end=!0;var p=s._compile(a,m);return function(d,g,v){if(!Ge(v)&&!wt(v)&&!pr(v))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Dt(v));var E=r(v).valueOf(),y=Object.create(g);return y.end=E[c],p(d,y,v)}}else return s._compile(a,o)}),u=ur(a,"index");return function(c,f,m){var p=In(l,function(h){return h(c,f,m)});return u(...p)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this._ifNode(a(this.dimensions[l],"dimensions["+l+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&vt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:hm,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}toHTML(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this.dimensions[l].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Vr(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(l){return l.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Tt(n,"name",hm),n},{isClass:!0,isNode:!0});var gm="ObjectNode",mj=["Node"],w1=S(gm,mj,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return yt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return gm}get isObjectNode(){return!0}_compile(i,a){var o={};for(var l in this.properties)if(je(this.properties,l)){var u=wo(l),s=JSON.parse(u),c=ur(this.properties,l);o[s]=c._compile(i,a)}return function(m,p,h){var d={};for(var g in o)je(o,g)&&(d[g]=o[g](m,p,h));return d}}forEach(i){for(var a in this.properties)je(this.properties,a)&&i(this.properties[a],"properties["+wo(a)+"]",this)}map(i){var a={};for(var o in this.properties)je(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+wo(o)+"]",this)));return new r(a)}clone(){var i={};for(var a in this.properties)je(this.properties,a)&&(i[a]=this.properties[a]);return new r(i)}_toString(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push(wo(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:gm,properties:this.properties}}static fromJSON(i){return new r(i.properties)}toHTML(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push('<span class="math-symbol math-property">'+Vr(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var l="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return l}}return Tt(r,"name",gm),r},{isClass:!0,isNode:!0});var vm="OperatorNode",pj=["Node"],E1=S(vm,pj,t=>{var{Node:e}=t;function r(a,o){var l=a;if(o==="auto")for(;on(l);)l=l.content;return vt(l)?!0:ar(l)?r(l.args[0],o):!1}function n(a,o,l,u,s){var c=kt(a,o,l),f=Bs(a,o);if(o==="all"||u.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return u.map(function(F){switch(F.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var m;switch(u.length){case 0:m=[];break;case 1:{var p=kt(u[0],o,l,a);if(s&&p!==null){var h,d;if(o==="keep"?(h=u[0].getIdentifier(),d=a.getIdentifier()):(h=u[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),fi[c][d].latexLeftParens===!1){m=[!1];break}if(fi[p][h].latexParens===!1){m=[!1];break}}if(p===null){m=[!1];break}if(p<=c){m=[!0];break}m=[!1]}break;case 2:{var g,v=kt(u[0],o,l,a),E=sm(a,u[0],o);v===null?g=!1:v===c&&f==="right"&&!E||v<c?g=!0:g=!1;var y,D=kt(u[1],o,l,a),b=sm(a,u[1],o);if(D===null?y=!1:D===c&&f==="left"&&!b||D<c?y=!0:y=!1,s){var x,C,A;o==="keep"?(x=a.getIdentifier(),C=a.args[0].getIdentifier(),A=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),C=a.args[0].getContent().getIdentifier(),A=a.args[1].getContent().getIdentifier()),v!==null&&(fi[c][x].latexLeftParens===!1&&(g=!1),fi[v][C].latexParens===!1&&(g=!1)),D!==null&&(fi[c][x].latexRightParens===!1&&(y=!1),fi[D][A].latexParens===!1&&(y=!1))}m=[g,y]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(m=u.map(function(F){var M=kt(F,o,l,a),B=sm(a,F,o),k=Bs(F,o);return M===null?!1:c===M&&f===k&&!B?!0:M<c}));break}if(u.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&l==="hide")for(var w=1;w<m.length;++w)r(u[w],o)&&!m[w-1]&&(o!=="keep"||!on(u[w-1]))&&(m[w]=!0);return m}class i extends e{constructor(o,l,u,s,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof l!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(yt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=s===!0,this.isPercentage=c===!0,this.op=o,this.fn=l,this.args=u||[]}get type(){return vm}get isOperatorNode(){return!0}_compile(o,l){if(typeof this.fn!="string"||!Sf(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=ur(o,this.fn),s=In(this.args,function(p){return p._compile(o,l)});if(s.length===1){var c=s[0];return function(h,d,g){return u(c(h,d,g))}}else if(s.length===2){var f=s[0],m=s[1];return function(h,d,g){return u(f(h,d,g),m(h,d,g))}}else return function(h,d,g){return u.apply(null,In(s,function(v){return v(h,d,g)}))}}forEach(o){for(var l=0;l<this.args.length;l++)o(this.args[l],"args["+l+"]",this)}map(o){for(var l=[],u=0;u<this.args.length;u++)l[u]=this._ifNode(o(this.args[u],"args["+u+"]",this));return new i(this.op,this.fn,l,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!1);if(s.length===1){var f=Bs(this,l),m=s[0].toString(o);c[0]&&(m="("+m+")");var p=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(p?" ":"")+m:f==="left"?m+(p?" ":"")+this.op:m+this.op}else if(s.length===2){var h=s[0].toString(o),d=s[1].toString(o);return c[0]&&(h="("+h+")"),c[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=s.map(function(v,E){return v=v.toString(o),c[E]&&(v="("+v+")"),v});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:vm,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}toHTML(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!1);if(s.length===1){var f=Bs(this,l),m=s[0].toHTML(o);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Vr(this.op)+"</span>"+m:m+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Vr(this.op)+"</span>"}else if(s.length===2){var p=s[0].toHTML(o),h=s[1].toHTML(o);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(this.op)+"</span>"+h}else{var d=s.map(function(g,v){return g=g.toHTML(o),c[v]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(this.op)+"</span>"):'<span class="math-function">'+Vr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!0),f=It[this.fn];if(f=typeof f=="undefined"?this.op:f,s.length===1){var m=Bs(this,l),p=s[0].toTex(o);return c[0]&&(p="\\left(".concat(p,"\\right)")),m==="right"?f+p:p+f}else if(s.length===2){var h=s[0],d=h.toTex(o);c[0]&&(d="\\left(".concat(d,"\\right)"));var g=s[1],v=g.toTex(o);c[1]&&(v="\\left(".concat(v,"\\right)"));var E;switch(l==="keep"?E=h.getIdentifier():E=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+v+"}";case"OperatorNode:pow":switch(d="{"+d+"}",v="{"+v+"}",E){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&u==="hide")return d+"~"+v}return d+f+v}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=s.map(function(D,b){return D=D.toTex(o),c[b]&&(D="\\left(".concat(D,"\\right)")),D});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&u==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+s.map(function(D){return D.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Tt(i,"name",vm),i},{isClass:!0,isNode:!0});var ym="ParenthesisNode",dj=["Node"],C1=S(ym,dj,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),!yt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return ym}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:ym,content:this.content}}static fromJSON(i){return new r(i.content)}toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Tt(r,"name",ym),r},{isClass:!0,isNode:!0});var bm="RangeNode",hj=["Node"],F1=S(bm,hj,t=>{var{Node:e}=t;function r(i,a,o){var l=kt(i,a,o),u={},s=kt(i.start,a,o);if(u.start=s!==null&&s<=l||a==="all",i.step){var c=kt(i.step,a,o);u.step=c!==null&&c<=l||a==="all"}var f=kt(i.end,a,o);return u.end=f!==null&&f<=l||a==="all",u}class n extends e{constructor(a,o,l){if(super(),!yt(a))throw new TypeError("Node expected");if(!yt(o))throw new TypeError("Node expected");if(l&&!yt(l))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=l||null}get type(){return bm}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return Zt(o)&&o.name==="end"});return a.length>0}_compile(a,o){var l=a.range,u=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(m,p,h){return l(u(m,p,h),s(m,p,h),c(m,p,h))}}else return function(m,p,h){return l(u(m,p,h),s(m,p,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=r(this,o,a&&a.implicit),u,s=this.start.toString(a);if(l.start&&(s="("+s+")"),u=s,this.step){var c=this.step.toString(a);l.step&&(c="("+c+")"),u+=":"+c}var f=this.end.toString(a);return l.end&&(f="("+f+")"),u+=":"+f,u}toJSON(){return{mathjs:bm,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=r(this,o,a&&a.implicit),u,s=this.start.toHTML(a);if(l.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=s,this.step){var c=this.step.toHTML(a);l.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return l.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+f,u}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=r(this,o,a&&a.implicit),u=this.start.toTex(a);if(l.start&&(u="\\left(".concat(u,"\\right)")),this.step){var s=this.step.toTex(a);l.step&&(s="\\left(".concat(s,"\\right)")),u+=":"+s}var c=this.end.toTex(a);return l.end&&(c="\\left(".concat(c,"\\right)")),u+=":"+c,u}}return Tt(n,"name",bm),n},{isClass:!0,isNode:!0});var xm="RelationalNode",gj=["Node"],A1=S(xm,gj,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return xm}get isRelationalNode(){return!0}_compile(a,o){var l=this,u=this.params.map(s=>s._compile(a,o));return function(c,f,m){for(var p,h=u[0](c,f,m),d=0;d<l.conditionals.length;d++){p=h,h=u[d+1](c,f,m);var g=ur(a,l.conditionals[d]);if(!g(p,h))return!1}return!0}}forEach(a){this.params.forEach((o,l)=>a(o,"params["+l+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,l)=>this._ifNode(a(o,"params["+l+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=kt(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=kt(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=l?"("+f.toString(a)+")":f.toString(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+=" "+r[this.conditionals[c]],s+=" "+u[c+1];return s}toJSON(){return{mathjs:xm,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=kt(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=kt(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=l?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Vr(r[this.conditionals[c]])+"</span>"+u[c+1];return s}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=kt(this,o,a&&a.implicit),u=this.params.map(function(f,m){var p=kt(f,o,a&&a.implicit);return o==="all"||p!==null&&p<=l?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+=It[this.conditionals[c]]+u[c+1];return s}}return Tt(n,"name",xm),n},{isClass:!0,isNode:!0});var vj="SymbolNode",yj=["math","?Unit","Node"],S1=S(vj,yj,t=>{var{math:e,Unit:r,Node:n}=t;function i(o){return r?r.isValuelessUnit(o):!1}class a extends n{constructor(l){if(super(),typeof l!="string")throw new TypeError('String expected for parameter "name"');this.name=l}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(l,u){var s=this.name;if(u[s]===!0)return function(f,m,p){return ur(m,s)};if(s in l)return function(f,m,p){return f.has(s)?f.get(s):ur(l,s)};var c=i(s);return function(f,m,p){return f.has(s)?f.get(s):c?new r(null,s):a.onUndefinedSymbol(s)}}forEach(l){}map(l){return this.clone()}static onUndefinedSymbol(l){throw new Error("Undefined symbol "+l)}clone(){return new a(this.name)}_toString(l){return this.name}toHTML(l){var u=Vr(this.name);return u==="true"||u==="false"?'<span class="math-symbol math-boolean">'+u+"</span>":u==="i"?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":u==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":u==="NaN"?'<span class="math-symbol math-nan-symbol">'+u+"</span>":u==="null"?'<span class="math-symbol math-null-symbol">'+u+"</span>":u==="undefined"?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(l){return new a(l.name)}_toTex(l){var u=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(u=!0);var s=mm(this.name,u);return s[0]==="\\"?s:" "+s}}return a},{isClass:!0,isNode:!0});function _o(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return typeof t.createSubScope=="function"?_h(t.createSubScope(),...r):_h(Wi(),t,...r)}var Dm="FunctionNode",bj=["math","Node","SymbolNode"],N1=S(Dm,bj,t=>{var e,{math:r,Node:n,SymbolNode:i}=t,a=u=>at(u,{truncate:78});function o(u,s,c){for(var f="",m=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0,h;(h=m.exec(u))!==null;)if(f+=u.substring(p,h.index),p=h.index,h[0]==="$$")f+="$",p++;else{p+=h[0].length;var d=s[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(yt(d))f+=d.toTex(c);else if(Array.isArray(d))f+=d.map(function(g,v){if(yt(g))return g.toTex(c);throw new TypeError("Template: "+h[1]+"["+v+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(yt(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(c);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=u.slice(p),f}class l extends n{constructor(s,c){if(super(),typeof s=="string"&&(s=new i(s)),!yt(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(yt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=c||[]}get name(){return this.fn.name||""}get type(){return Dm}get isFunctionNode(){return!0}_compile(s,c){var f=this.args.map(A=>A._compile(s,c));if(Zt(this.fn)){var m=this.fn.name;if(c[m]){var v=this.args;return function(w,F,M){var B=ur(F,m);if(typeof B!="function")throw new TypeError("Argument '".concat(m,"' was not a function; received: ").concat(a(B)));if(B.rawArgs)return B(v,s,_o(w,F),w);var k=f.map(R=>R(w,F,M));return B.apply(B,k)}}else{var p=m in s?ur(s,m):void 0,h=typeof p=="function"&&p.rawArgs===!0,d=A=>{var w;if(A.has(m))w=A.get(m);else if(m in s)w=ur(s,m);else return l.onUndefinedFunction(m);if(typeof w=="function")return w;throw new TypeError("'".concat(m,`' is not a function; its value is:
  `).concat(a(w)))};if(h){var g=this.args;return function(w,F,M){var B=d(w);return B(g,s,_o(w,F),w)}}else switch(f.length){case 0:return function(w,F,M){var B=d(w);return B()};case 1:return function(w,F,M){var B=d(w),k=f[0];return B(k(w,F,M))};case 2:return function(w,F,M){var B=d(w),k=f[0],R=f[1];return B(k(w,F,M),R(w,F,M))};default:return function(w,F,M){var B=d(w),k=f.map(R=>R(w,F,M));return B(...k)}}}}else if(Gn(this.fn)&&ai(this.fn.index)&&this.fn.index.isObjectProperty()){var E=this.fn.object._compile(s,c),y=this.fn.index.getObjectProperty(),D=this.args;return function(w,F,M){var B=E(w,F,M),k=AA(B,y);if(k!=null&&k.rawArgs)return k(D,s,_o(w,F),w);var R=f.map(P=>P(w,F,M));return k.apply(B,R)}}else{var b=this.fn.toString(),x=this.fn._compile(s,c),C=this.args;return function(w,F,M){var B=x(w,F,M);if(typeof B!="function")throw new TypeError("Expression '".concat(b,"' did not evaluate to a function; value is:")+`
  `.concat(a(B)));if(B.rawArgs)return B(C,s,_o(w,F),w);var k=f.map(R=>R(w,F,M));return B.apply(B,k)}}}forEach(s){s(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)s(this.args[c],"args["+c+"]",this)}map(s){for(var c=this._ifNode(s(this.fn,"fn",this)),f=[],m=0;m<this.args.length;m++)f[m]=this._ifNode(s(this.args[m],"args["+m+"]",this));return new l(c,f)}clone(){return new l(this.fn,this.args.slice(0))}toString(s){var c,f=this.fn.toString(s);return s&&typeof s.handler=="object"&&je(s.handler,f)&&(c=s.handler[f](this,s)),typeof c!="undefined"?c:super.toString(s)}_toString(s){var c=this.args.map(function(m){return m.toString(s)}),f=Ui(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:Dm,fn:this.fn,args:this.args}}toHTML(s){var c=this.args.map(function(f){return f.toHTML(s)});return'<span class="math-function">'+Vr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(s){var c;return s&&typeof s.handler=="object"&&je(s.handler,this.name)&&(c=s.handler[this.name](this,s)),typeof c!="undefined"?c:super.toTex(s)}_toTex(s){var c=this.args.map(function(p){return p.toTex(s)}),f;y1[this.name]&&(f=y1[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(f=r[this.name].toTex);var m;switch(typeof f){case"function":m=f(this,s);break;case"string":m=o(f,this,s);break;case"object":switch(typeof f[c.length]){case"function":m=f[c.length](this,s);break;case"string":m=o(f[c.length],this,s);break}}return typeof m!="undefined"?m:o(dM,this,s)}getIdentifier(){return this.type+":"+this.name}}return e=l,Tt(l,"name",Dm),Tt(l,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),Tt(l,"fromJSON",function(u){return new e(u.fn,u.args)}),l},{isClass:!0,isNode:!0});var hM="parse",xj=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],_1=S(hM,xj,t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:l,ConditionalNode:u,ConstantNode:s,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:m,ObjectNode:p,OperatorNode:h,ParenthesisNode:d,RangeNode:g,RelationalNode:v,SymbolNode:E}=t,y=e(hM,{string:function(N){return $(N,{})},"Array | Matrix":function(N){return D(N,{})},"string, Object":function(N,L){var Z=L.nodes!==void 0?L.nodes:{};return $(N,Z)},"Array | Matrix, Object":D});function D(_){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=N.nodes!==void 0?N.nodes:{};return Ze(_,function(Z){if(typeof Z!="string")throw new TypeError("String expected");return $(Z,L)})}var b={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},w=["NaN","Infinity"],F={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function M(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:b.NULL,nestingLevel:0,conditionalLevel:null}}function B(_,N){return _.expression.substr(_.index,N)}function k(_){return B(_,1)}function R(_){_.index++}function P(_){return _.expression.charAt(_.index-1)}function T(_){return _.expression.charAt(_.index+1)}function I(_){for(_.tokenType=b.NULL,_.token="",_.comment="";;){if(k(_)==="#")for(;k(_)!==`
`&&k(_)!=="";)_.comment+=k(_),R(_);if(y.isWhitespace(k(_),_.nestingLevel))R(_);else break}if(k(_)===""){_.tokenType=b.DELIMITER;return}if(k(_)===`
`&&!_.nestingLevel){_.tokenType=b.DELIMITER,_.token=k(_),R(_);return}var N=k(_),L=B(_,2),Z=B(_,3);if(Z.length===3&&x[Z]){_.tokenType=b.DELIMITER,_.token=Z,R(_),R(_),R(_);return}if(L.length===2&&x[L]){_.tokenType=b.DELIMITER,_.token=L,R(_),R(_);return}if(x[N]){_.tokenType=b.DELIMITER,_.token=N,R(_);return}if(y.isDigitDot(N)){_.tokenType=b.NUMBER;var le=B(_,2);if(le==="0b"||le==="0o"||le==="0x"){for(_.token+=k(_),R(_),_.token+=k(_),R(_);y.isHexDigit(k(_));)_.token+=k(_),R(_);if(k(_)===".")for(_.token+=".",R(_);y.isHexDigit(k(_));)_.token+=k(_),R(_);else if(k(_)==="i")for(_.token+="i",R(_);y.isDigit(k(_));)_.token+=k(_),R(_);return}if(k(_)==="."){if(_.token+=k(_),R(_),!y.isDigit(k(_))){_.tokenType=b.DELIMITER;return}}else{for(;y.isDigit(k(_));)_.token+=k(_),R(_);y.isDecimalMark(k(_),T(_))&&(_.token+=k(_),R(_))}for(;y.isDigit(k(_));)_.token+=k(_),R(_);if(k(_)==="E"||k(_)==="e"){if(y.isDigit(T(_))||T(_)==="-"||T(_)==="+"){if(_.token+=k(_),R(_),(k(_)==="+"||k(_)==="-")&&(_.token+=k(_),R(_)),!y.isDigit(k(_)))throw Ae(_,'Digit expected, got "'+k(_)+'"');for(;y.isDigit(k(_));)_.token+=k(_),R(_);if(y.isDecimalMark(k(_),T(_)))throw Ae(_,'Digit expected, got "'+k(_)+'"')}else if(T(_)===".")throw R(_),Ae(_,'Digit expected, got "'+k(_)+'"')}return}if(y.isAlpha(k(_),P(_),T(_))){for(;y.isAlpha(k(_),P(_),T(_))||y.isDigit(k(_));)_.token+=k(_),R(_);je(C,_.token)?_.tokenType=b.DELIMITER:_.tokenType=b.SYMBOL;return}for(_.tokenType=b.UNKNOWN;k(_)!=="";)_.token+=k(_),R(_);throw Ae(_,'Syntax error in part "'+_.token+'"')}function V(_){do I(_);while(_.token===`
`)}function O(_){_.nestingLevel++}function Y(_){_.nestingLevel--}y.isAlpha=function(N,L,Z){return y.isValidLatinOrGreek(N)||y.isValidMathSymbol(N,Z)||y.isValidMathSymbol(L,N)},y.isValidLatinOrGreek=function(N){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(N)},y.isValidMathSymbol=function(N,L){return/^[\uD835]$/.test(N)&&/^[\uDC00-\uDFFF]$/.test(L)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(L)},y.isWhitespace=function(N,L){return N===" "||N==="	"||N===`
`&&L>0},y.isDecimalMark=function(N,L){return N==="."&&L!=="/"&&L!=="*"&&L!=="^"},y.isDigitDot=function(N){return N>="0"&&N<="9"||N==="."},y.isDigit=function(N){return N>="0"&&N<="9"},y.isHexDigit=function(N){return N>="0"&&N<="9"||N>="a"&&N<="f"||N>="A"&&N<="F"};function $(_,N){var L=M();sr(L,{expression:_,extraNodes:N}),I(L);var Z=W(L);if(L.token!=="")throw L.tokenType===b.DELIMITER?Pe(L,"Unexpected operator "+L.token):Ae(L,'Unexpected part "'+L.token+'"');return Z}function W(_){var N,L=[],Z;for(_.token!==""&&_.token!==`
`&&_.token!==";"&&(N=q(_),_.comment&&(N.comment=_.comment));_.token===`
`||_.token===";";)L.length===0&&N&&(Z=_.token!==";",L.push({node:N,visible:Z})),I(_),_.token!==`
`&&_.token!==";"&&_.token!==""&&(N=q(_),_.comment&&(N.comment=_.comment),Z=_.token!==";",L.push({node:N,visible:Z}));return L.length>0?new l(L):(N||(N=new s(void 0),_.comment&&(N.comment=_.comment)),N)}function q(_){var N,L,Z,le,he=te(_);if(_.token==="="){if(Zt(he))return N=he.name,V(_),Z=q(_),new o(new E(N),Z);if(Gn(he))return V(_),Z=q(_),new o(he.object,he.index,Z);if(An(he)&&Zt(he.fn)&&(le=!0,L=[],N=he.name,he.args.forEach(function(Se,qe){Zt(Se)?L[qe]=Se.name:le=!1}),le))return V(_),Z=q(_),new c(N,L,Z);throw Ae(_,"Invalid left hand side of assignment operator =")}return he}function te(_){for(var N=ge(_);_.token==="?";){var L=_.conditionalLevel;_.conditionalLevel=_.nestingLevel,V(_);var Z=N,le=q(_);if(_.token!==":")throw Ae(_,"False part of conditional expression expected");_.conditionalLevel=null,V(_);var he=q(_);N=new u(Z,le,he),_.conditionalLevel=L}return N}function ge(_){for(var N=ae(_);_.token==="or";)V(_),N=new h("or","or",[N,ae(_)]);return N}function ae(_){for(var N=ce(_);_.token==="xor";)V(_),N=new h("xor","xor",[N,ce(_)]);return N}function ce(_){for(var N=pe(_);_.token==="and";)V(_),N=new h("and","and",[N,pe(_)]);return N}function pe(_){for(var N=ue(_);_.token==="|";)V(_),N=new h("|","bitOr",[N,ue(_)]);return N}function ue(_){for(var N=ne(_);_.token==="^|";)V(_),N=new h("^|","bitXor",[N,ne(_)]);return N}function ne(_){for(var N=me(_);_.token==="&";)V(_),N=new h("&","bitAnd",[N,me(_)]);return N}function me(_){for(var N=[be(_)],L=[],Z={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};je(Z,_.token);){var le={name:_.token,fn:Z[_.token]};L.push(le),V(_),N.push(be(_))}return N.length===1?N[0]:N.length===2?new h(L[0].name,L[0].fn,N):new v(L.map(he=>he.fn),N)}function be(_){var N,L,Z,le;N=Be(_);for(var he={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};je(he,_.token);)L=_.token,Z=he[L],V(_),le=[N,Be(_)],N=new h(L,Z,le);return N}function Be(_){var N,L,Z,le;N=We(_);for(var he={to:"to",in:"to"};je(he,_.token);)L=_.token,Z=he[L],V(_),L==="in"&&_.token===""?N=new h("*","multiply",[N,new E("in")],!0):(le=[N,We(_)],N=new h(L,Z,le));return N}function We(_){var N,L=[];if(_.token===":"?N=new s(1):N=z(_),_.token===":"&&_.conditionalLevel!==_.nestingLevel){for(L.push(N);_.token===":"&&L.length<3;)V(_),_.token===")"||_.token==="]"||_.token===","||_.token===""?L.push(new E("end")):L.push(z(_));L.length===3?N=new g(L[0],L[2],L[1]):N=new g(L[0],L[1])}return N}function z(_){var N,L,Z,le;N=j(_);for(var he={"+":"add","-":"subtract"};je(he,_.token);){L=_.token,Z=he[L],V(_);var Se=j(_);Se.isPercentage?le=[N,new h("*","multiply",[N,Se])]:le=[N,Se],N=new h(L,Z,le)}return N}function j(_){var N,L,Z,le;N=fe(_),L=N;for(var he={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};je(he,_.token);)Z=_.token,le=he[Z],V(_),L=fe(_),N=new h(Z,le,[N,L]);return N}function fe(_){var N,L;for(N=H(_),L=N;_.tokenType===b.SYMBOL||_.token==="in"&&vt(N)||_.tokenType===b.NUMBER&&!vt(L)&&(!ar(L)||L.op==="!")||_.token==="(";)L=H(_),N=new h("*","multiply",[N,L],!0);return N}function H(_){for(var N=K(_),L=N,Z=[];_.token==="/"&&Mu(L);)if(Z.push(sr({},_)),V(_),_.tokenType===b.NUMBER)if(Z.push(sr({},_)),V(_),_.tokenType===b.SYMBOL||_.token==="(")sr(_,Z.pop()),Z.pop(),L=K(_),N=new h("/","divide",[N,L]);else{Z.pop(),sr(_,Z.pop());break}else{sr(_,Z.pop());break}return N}function K(_){var N,L,Z,le;N=re(_);for(var he={"%":"mod",mod:"mod"};je(he,_.token);)L=_.token,Z=he[L],V(_),L==="%"&&_.tokenType===b.DELIMITER&&_.token!=="("?N=new h("/","divide",[N,new s(100)],!1,!0):(le=[N,re(_)],N=new h(L,Z,le));return N}function re(_){var N,L,Z,le={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return je(le,_.token)?(Z=le[_.token],N=_.token,V(_),L=[re(_)],new h(N,Z,L)):ye(_)}function ye(_){var N,L,Z,le;return N=ve(_),(_.token==="^"||_.token===".^")&&(L=_.token,Z=L==="^"?"pow":"dotPow",V(_),le=[N,re(_)],N=new h(L,Z,le)),N}function ve(_){var N,L,Z,le;N=Le(_);for(var he={"!":"factorial","'":"ctranspose"};je(he,_.token);)L=_.token,Z=he[L],I(_),le=[N],N=new h(L,Z,le),N=ft(_,N);return N}function Le(_){var N=[];if(_.tokenType===b.SYMBOL&&je(_.extraNodes,_.token)){var L=_.extraNodes[_.token];if(I(_),_.token==="("){if(N=[],O(_),I(_),_.token!==")")for(N.push(q(_));_.token===",";)I(_),N.push(q(_));if(_.token!==")")throw Ae(_,"Parenthesis ) expected");Y(_),I(_)}return new L(N)}return Ce(_)}function Ce(_){var N,L;return _.tokenType===b.SYMBOL||_.tokenType===b.DELIMITER&&_.token in C?(L=_.token,I(_),je(A,L)?N=new s(A[L]):w.indexOf(L)!==-1?N=new s(r(L,"number")):N=new E(L),N=ft(_,N),N):pt(_)}function ft(_,N,L){for(var Z;(_.token==="("||_.token==="["||_.token===".")&&(!L||L.indexOf(_.token)!==-1);)if(Z=[],_.token==="(")if(Zt(N)||Gn(N)){if(O(_),I(_),_.token!==")")for(Z.push(q(_));_.token===",";)I(_),Z.push(q(_));if(_.token!==")")throw Ae(_,"Parenthesis ) expected");Y(_),I(_),N=new f(N,Z)}else return N;else if(_.token==="["){if(O(_),I(_),_.token!=="]")for(Z.push(q(_));_.token===",";)I(_),Z.push(q(_));if(_.token!=="]")throw Ae(_,"Parenthesis ] expected");Y(_),I(_),N=new i(N,new m(Z))}else{I(_);var le=_.tokenType===b.SYMBOL||_.tokenType===b.DELIMITER&&_.token in C;if(!le)throw Ae(_,"Property name expected after dot");Z.push(new s(_.token)),I(_);var he=!0;N=new i(N,new m(Z,he))}return N}function pt(_){var N,L;return _.token==='"'||_.token==="'"?(L=St(_,_.token),N=new s(L),N=ft(_,N),N):qt(_)}function St(_,N){for(var L="";k(_)!==""&&k(_)!==N;)if(k(_)==="\\"){R(_);var Z=k(_),le=F[Z];if(le!==void 0)L+=le,_.index+=1;else if(Z==="u"){var he=_.expression.slice(_.index+1,_.index+5);if(/^[0-9A-Fa-f]{4}$/.test(he))L+=String.fromCharCode(parseInt(he,16)),_.index+=5;else throw Ae(_,"Invalid unicode character \\u".concat(he))}else throw Ae(_,"Bad escape character \\".concat(Z))}else L+=k(_),R(_);if(I(_),_.token!==N)throw Ae(_,"End of string ".concat(N," expected"));return I(_),L}function qt(_){var N,L,Z,le;if(_.token==="["){if(O(_),I(_),_.token!=="]"){var he=G(_);if(_.token===";"){for(Z=1,L=[he];_.token===";";)I(_),L[Z]=G(_),Z++;if(_.token!=="]")throw Ae(_,"End of matrix ] expected");Y(_),I(_),le=L[0].items.length;for(var Se=1;Se<Z;Se++)if(L[Se].items.length!==le)throw Pe(_,"Column dimensions mismatch ("+L[Se].items.length+" !== "+le+")");N=new a(L)}else{if(_.token!=="]")throw Ae(_,"End of matrix ] expected");Y(_),I(_),N=he}}else Y(_),I(_),N=new a([]);return ft(_,N)}return oe(_)}function G(_){for(var N=[q(_)],L=1;_.token===",";)I(_),N[L]=q(_),L++;return new a(N)}function oe(_){if(_.token==="{"){O(_);var N,L={};do if(I(_),_.token!=="}"){if(_.token==='"'||_.token==="'")N=St(_,_.token);else if(_.tokenType===b.SYMBOL||_.tokenType===b.DELIMITER&&_.token in C)N=_.token,I(_);else throw Ae(_,"Symbol or string expected as object key");if(_.token!==":")throw Ae(_,"Colon : expected after object key");I(_),L[N]=q(_)}while(_.token===",");if(_.token!=="}")throw Ae(_,"Comma , or bracket } expected after object value");Y(_),I(_);var Z=new p(L);return Z=ft(_,Z),Z}return de(_)}function de(_){var N;return _.tokenType===b.NUMBER?(N=_.token,I(_),new s(r(N,n.number))):we(_)}function we(_){var N;if(_.token==="("){if(O(_),I(_),N=q(_),_.token!==")")throw Ae(_,"Parenthesis ) expected");return Y(_),I(_),N=new d(N),N=ft(_,N),N}return Ne(_)}function Ne(_){throw _.token===""?Ae(_,"Unexpected end of expression"):Ae(_,"Value expected")}function Ee(_){return _.index-_.token.length+1}function Ae(_,N){var L=Ee(_),Z=new SyntaxError(N+" (char "+L+")");return Z.char=L,Z}function Pe(_,N){var L=Ee(_),Z=new SyntaxError(N+" (char "+L+")");return Z.char=L,Z}return e.addConversion({from:"string",to:"Node",convert:y}),y});var gM="compile",Dj=["typed","parse"],M1=S(gM,Dj,t=>{var{typed:e,parse:r}=t;return e(gM,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return Ze(i,function(a){return r(a).compile()})}})});var vM="evaluate",wj=["typed","parse"],T1=S(vM,wj,t=>{var{typed:e,parse:r}=t;return e(vM,{string:function(i){var a=Wi();return r(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return r(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=Wi();return Ze(i,function(o){return r(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return Ze(i,function(o){return r(o).compile().evaluate(a)})}})});var Ej="Parser",Cj=["evaluate"],I1=S(Ej,Cj,t=>{var{evaluate:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Wi(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(n){return e(n,this.scope)},r.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},r.prototype.getAll=function(){return NA(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(n,i){return this.scope.set(n,i),i},r.prototype.remove=function(n){this.scope.delete(n)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0});var yM="parser",Fj=["typed","Parser"],B1=S(yM,Fj,t=>{var{typed:e,Parser:r}=t;return e(yM,{"":function(){return new r}})});var bM="lup",Aj=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],O1=S(bM,Aj,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:l,larger:u,equalScalar:s,unaryMinus:c,DenseMatrix:f,SparseMatrix:m,Spa:p}=t;return e(bM,{DenseMatrix:function(v){return h(v)},SparseMatrix:function(v){return d(v)},Array:function(v){var E=r(v),y=h(E);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function h(g){var v=g._size[0],E=g._size[1],y=Math.min(v,E),D=Je(g._data),b=[],x=[v,y],C=[],A=[y,E],w,F,M,B=[];for(w=0;w<v;w++)B[w]=w;for(F=0;F<E;F++){if(F>0)for(w=0;w<v;w++){var k=Math.min(w,F),R=0;for(M=0;M<k;M++)R=i(R,o(D[w][M],D[M][F]));D[w][F]=l(D[w][F],R)}var P=F,T=0,I=0;for(w=F;w<v;w++){var V=D[w][F],O=n(V);u(O,T)&&(P=w,T=O,I=V)}if(F!==P&&(B[F]=[B[P],B[P]=B[F]][0],f._swapRows(F,P,D)),F<v)for(w=F+1;w<v;w++){var Y=D[w][F];s(Y,0)||(D[w][F]=a(D[w][F],I))}}for(F=0;F<E;F++)for(w=0;w<v;w++){if(F===0&&(w<E&&(C[w]=[]),b[w]=[]),w<F){w<E&&(C[w][F]=D[w][F]),F<v&&(b[w][F]=0);continue}if(w===F){w<E&&(C[w][F]=D[w][F]),F<v&&(b[w][F]=1);continue}w<E&&(C[w][F]=0),F<v&&(b[w][F]=D[w][F])}var $=new f({data:b,size:x}),W=new f({data:C,size:A}),q=[];for(w=0,y=B.length;w<y;w++)q[B[w]]=w;return{L:$,U:W,p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(g){var v=g._size[0],E=g._size[1],y=Math.min(v,E),D=g._values,b=g._index,x=g._ptr,C=[],A=[],w=[],F=[v,y],M=[],B=[],k=[],R=[y,E],P,T,I,V=[],O=[];for(P=0;P<v;P++)V[P]=P,O[P]=P;var Y=function(q,te){var ge=O[q],ae=O[te];V[ge]=te,V[ae]=q,O[q]=ae,O[te]=ge},$=function(){var q=new p;T<v&&(w.push(C.length),C.push(1),A.push(T)),k.push(M.length);var te=x[T],ge=x[T+1];for(I=te;I<ge;I++)P=b[I],q.set(V[P],D[I]);T>0&&q.forEach(0,T-1,function(ue,ne){m._forEachRow(ue,C,A,w,function(me,be){me>ue&&q.accumulate(me,c(o(be,ne)))})});var ae=T,ce=q.get(T),pe=n(ce);q.forEach(T+1,v-1,function(ue,ne){var me=n(ne);u(me,pe)&&(ae=ue,pe=me,ce=ne)}),T!==ae&&(m._swapRows(T,ae,F[1],C,A,w),m._swapRows(T,ae,R[1],M,B,k),q.swap(T,ae),Y(T,ae)),q.forEach(0,v-1,function(ue,ne){ue<=T?(M.push(ne),B.push(ue)):(ne=a(ne,ce),s(ne,0)||(C.push(ne),A.push(ue)))})};for(T=0;T<E;T++)$();return k.push(M.length),w.push(C.length),{L:new m({values:C,index:A,ptr:w,size:F}),U:new m({values:M,index:B,ptr:k,size:R}),p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var xM="qr",Sj=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],k1=S(xM,Sj,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:a,equal:o,sign:l,sqrt:u,conj:s,unaryMinus:c,addScalar:f,divideScalar:m,multiplyScalar:p,subtractScalar:h,complex:d}=t;return sr(e(xM,{DenseMatrix:function(D){return v(D)},SparseMatrix:function(D){return E(D)},Array:function(D){var b=r(D),x=v(b);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:g});function g(y){var D=y._size[0],b=y._size[1],x=i([D],"dense"),C=x._data,A=y.clone(),w=A._data,F,M,B,k=n([D],"");for(B=0;B<Math.min(b,D);++B){var R=w[B][B],P=c(o(R,0)?1:l(R)),T=s(P),I=0;for(F=B;F<D;F++)I=f(I,p(w[F][B],s(w[F][B])));var V=p(P,u(I));if(!a(V)){var O=h(R,V);for(k[B]=1,F=B+1;F<D;F++)k[F]=m(w[F][B],O);var Y=c(s(m(O,V))),$=void 0;for(M=B;M<b;M++){for($=0,F=B;F<D;F++)$=f($,p(s(k[F]),w[F][M]));for($=p($,Y),F=B;F<D;F++)w[F][M]=p(h(w[F][M],p(k[F],$)),T)}for(F=0;F<D;F++){for($=0,M=B;M<D;M++)$=f($,p(C[F][M],k[M]));for($=p($,Y),M=B;M<D;++M)C[F][M]=m(h(C[F][M],p($,s(k[M]))),T)}}}return{Q:x,R:A,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function v(y){var D=g(y),b=D.R._data;if(y._data.length>0)for(var x=b[0][0].type==="Complex"?d(0):0,C=0;C<b.length;++C)for(var A=0;A<C&&A<(b[0]||[]).length;++A)b[C][A]=x;return D}function E(y){throw new Error("qr not implemented for sparse matrices yet")}});function DM(t,e,r,n){for(var i=t._values,a=t._index,o=t._ptr,l=t._size,u=t._datatype,s=l[0],c=l[1],f=n&&t._values?[]:null,m=[],p=[],h=0,d=0;d<c;d++){p[d]=h;for(var g=r?r[d]:d,v=o[g],E=o[g+1],y=v;y<E;y++){var D=e?e[a[y]]:a[y];m[h]=D,f&&(f[h]=i[y]),h++}}return p[c]=h,t.createSparseMatrix({values:f,index:m,ptr:p,size:[s,c],datatype:u})}function wm(t,e,r,n,i,a,o){var l=0;for(r[o]=t;l>=0;){var u=r[o+l],s=r[n+u];s===-1?(l--,a[e++]=u):(r[n+u]=r[i+s],++l,r[o+l]=s)}return e}function wM(t,e){if(!t)return null;var r=0,n,i=[],a=[],o=0,l=e,u=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(a[l+n]=a[o+t[n]],a[o+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=wm(n,r,a,o,l,i,u));return i}function EM(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,a=i[0],o=i[1],l=[],u=[],s=0,c=o,f,m;if(e)for(f=0;f<a;f++)u[c+f]=-1;for(var p=0;p<o;p++){l[p]=-1,u[s+p]=-1;for(var h=n[p],d=n[p+1],g=h;g<d;g++){var v=r[g];for(f=e?u[c+v]:v;f!==-1&&f<p;f=m)m=u[s+f],u[s+f]=p,m===-1&&(l[f]=p);e&&(u[c+v]=p)}}return l}function CM(t,e,r){for(var n=t._values,i=t._index,a=t._ptr,o=t._size,l=o[1],u=0,s=0;s<l;s++){var c=a[s];for(a[s]=u;c<a[s+1];c++)e(i[c],s,n?n[c]:1,r)&&(i[u]=i[c],n&&(n[u]=n[c]),u++)}return a[l]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u),u}function _i(t){return-t-2}var Nj="csAmd",_j=["add","multiply","transpose"],FM=S(Nj,_j,t=>{var{add:e,multiply:r,transpose:n}=t;return function(c,f){if(!f||c<=0||c>3)return null;var m=f._size,p=m[0],h=m[1],d=0,g=Math.max(16,10*Math.sqrt(h));g=Math.min(h-2,g);var v=i(c,f,p,h,g);CM(v,u,null);for(var E=v._index,y=v._ptr,D=y[h],b=[],x=[],C=0,A=h+1,w=2*(h+1),F=3*(h+1),M=4*(h+1),B=5*(h+1),k=6*(h+1),R=7*(h+1),P=b,T=a(h,y,x,C,F,P,w,R,A,k,M,B),I=o(h,y,x,B,M,k,g,A,F,P,w),V=0,O,Y,$,W,q,te,ge,ae,ce,pe,ue,ne,me,be,Be,We;I<h;){for($=-1;V<h&&($=x[F+V])===-1;V++);x[w+$]!==-1&&(P[x[w+$]]=-1),x[F+V]=x[w+$];var z=x[M+$],j=x[A+$];I+=j;var fe=0;x[A+$]=-j;var H=y[$],K=z===0?H:D,re=K;for(W=1;W<=z+1;W++){for(W>z?(te=$,ge=H,ae=x[C+$]-z):(te=E[H++],ge=y[te],ae=x[C+te]),q=1;q<=ae;q++)O=E[ge++],!((ce=x[A+O])<=0)&&(fe+=ce,x[A+O]=-ce,E[re++]=O,x[w+O]!==-1&&(P[x[w+O]]=P[O]),P[O]!==-1?x[w+P[O]]=x[w+O]:x[F+x[B+O]]=x[w+O]);te!==$&&(y[te]=_i($),x[k+te]=0)}for(z!==0&&(D=re),x[B+$]=fe,y[$]=K,x[C+$]=re-K,x[M+$]=-2,T=l(T,d,x,k,h),pe=K;pe<re;pe++)if(O=E[pe],!((ue=x[M+O])<=0)){ce=-x[A+O];var ye=T-ce;for(H=y[O],ne=y[O]+ue-1;H<=ne;H++)te=E[H],x[k+te]>=T?x[k+te]-=ce:x[k+te]!==0&&(x[k+te]=x[B+te]+ye)}for(pe=K;pe<re;pe++){for(O=E[pe],ne=y[O],me=ne+x[M+O]-1,be=ne,Be=0,We=0,H=ne;H<=me;H++)if(te=E[H],x[k+te]!==0){var ve=x[k+te]-T;ve>0?(We+=ve,E[be++]=te,Be+=te):(y[te]=_i($),x[k+te]=0)}x[M+O]=be-ne+1;var Le=be,Ce=ne+x[C+O];for(H=me+1;H<Ce;H++){Y=E[H];var ft=x[A+Y];ft<=0||(We+=ft,E[be++]=Y,Be+=Y)}We===0?(y[O]=_i($),ce=-x[A+O],fe-=ce,j+=ce,I+=ce,x[A+O]=0,x[M+O]=-1):(x[B+O]=Math.min(x[B+O],We),E[be]=E[Le],E[Le]=E[ne],E[ne]=$,x[C+O]=be-ne+1,Be=(Be<0?-Be:Be)%h,x[w+O]=x[R+Be],x[R+Be]=O,P[O]=Be)}for(x[B+$]=fe,d=Math.max(d,fe),T=l(T+d,d,x,k,h),pe=K;pe<re;pe++)if(O=E[pe],!(x[A+O]>=0))for(Be=P[O],O=x[R+Be],x[R+Be]=-1;O!==-1&&x[w+O]!==-1;O=x[w+O],T++){for(ae=x[C+O],ue=x[M+O],H=y[O]+1;H<=y[O]+ae-1;H++)x[k+E[H]]=T;var pt=O;for(Y=x[w+O];Y!==-1;){var St=x[C+Y]===ae&&x[M+Y]===ue;for(H=y[Y]+1;St&&H<=y[Y]+ae-1;H++)x[k+E[H]]!==T&&(St=0);St?(y[Y]=_i(O),x[A+O]+=x[A+Y],x[A+Y]=0,x[M+Y]=-1,Y=x[w+Y],x[w+pt]=Y):(pt=Y,Y=x[w+Y])}}for(H=K,pe=K;pe<re;pe++)O=E[pe],!((ce=-x[A+O])<=0)&&(x[A+O]=ce,We=x[B+O]+fe-ce,We=Math.min(We,h-I-ce),x[F+We]!==-1&&(P[x[F+We]]=O),x[w+O]=x[F+We],P[O]=-1,x[F+We]=O,V=Math.min(V,We),x[B+O]=We,E[H++]=O);x[A+$]=j,(x[C+$]=H-K)===0&&(y[$]=-1,x[k+$]=0),z!==0&&(D=H)}for(O=0;O<h;O++)y[O]=_i(y[O]);for(Y=0;Y<=h;Y++)x[F+Y]=-1;for(Y=h;Y>=0;Y--)x[A+Y]>0||(x[w+Y]=x[F+y[Y]],x[F+y[Y]]=Y);for(te=h;te>=0;te--)x[A+te]<=0||y[te]!==-1&&(x[w+te]=x[F+y[te]],x[F+y[te]]=te);for($=0,O=0;O<=h;O++)y[O]===-1&&($=wm(O,$,x,F,w,b,k));return b.splice(b.length-1,1),b};function i(s,c,f,m,p){var h=n(c);if(s===1&&m===f)return e(c,h);if(s===2){for(var d=h._index,g=h._ptr,v=0,E=0;E<f;E++){var y=g[E];if(g[E]=v,!(g[E+1]-y>p))for(var D=g[E+1];y<D;y++)d[v++]=d[y]}return g[f]=v,c=n(h),r(h,c)}return r(h,c)}function a(s,c,f,m,p,h,d,g,v,E,y,D){for(var b=0;b<s;b++)f[m+b]=c[b+1]-c[b];f[m+s]=0;for(var x=0;x<=s;x++)f[p+x]=-1,h[x]=-1,f[d+x]=-1,f[g+x]=-1,f[v+x]=1,f[E+x]=1,f[y+x]=0,f[D+x]=f[m+x];var C=l(0,0,f,E,s);return f[y+s]=-2,c[s]=-1,f[E+s]=0,C}function o(s,c,f,m,p,h,d,g,v,E,y){for(var D=0,b=0;b<s;b++){var x=f[m+b];if(x===0)f[p+b]=-2,D++,c[b]=-1,f[h+b]=0;else if(x>d)f[g+b]=0,f[p+b]=-1,D++,c[b]=_i(s),f[g+s]++;else{var C=f[v+x];C!==-1&&(E[C]=b),f[y+b]=f[v+x],f[v+x]=b}}return D}function l(s,c,f,m,p){if(s<2||s+c<0){for(var h=0;h<p;h++)f[m+h]!==0&&(f[m+h]=1);s=2}return s}function u(s,c){return s!==c}});function AM(t,e,r,n,i,a,o){var l,u,s=0,c;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var f=r[a+t];if(r[a+t]=e,f===-1)s=1,c=t;else{for(s=2,c=f;c!==r[o+c];c=r[o+c]);for(l=f;l!==c;l=u)u=r[o+l],r[o+l]=c}return{jleaf:s,q:c}}var Mj="csCounts",Tj=["transpose"],SM=S(Mj,Tj,t=>{var{transpose:e}=t;return function(r,n,i,a){if(!r||!n||!i)return null;var o=r._size,l=o[0],u=o[1],s,c,f,m,p,h,d,g=4*u+(a?u+l+1:0),v=[],E=0,y=u,D=2*u,b=3*u,x=4*u,C=5*u+1;for(f=0;f<g;f++)v[f]=-1;var A=[],w=e(r),F=w._index,M=w._ptr;for(f=0;f<u;f++)for(c=i[f],A[c]=v[b+c]===-1?1:0;c!==-1&&v[b+c]===-1;c=n[c])v[b+c]=f;if(a){for(f=0;f<u;f++)v[i[f]]=f;for(s=0;s<l;s++){for(f=u,h=M[s],d=M[s+1],p=h;p<d;p++)f=Math.min(f,v[F[p]]);v[C+s]=v[x+f],v[x+f]=s}}for(s=0;s<u;s++)v[E+s]=s;for(f=0;f<u;f++){for(c=i[f],n[c]!==-1&&A[n[c]]--,m=a?v[x+f]:c;m!==-1;m=a?v[C+m]:-1)for(p=M[m];p<M[m+1];p++){s=F[p];var B=AM(s,c,v,b,y,D,E);B.jleaf>=1&&A[c]++,B.jleaf===2&&A[B.q]--}n[c]!==-1&&(v[E+c]=n[c])}for(c=0;c<u;c++)n[c]!==-1&&(A[n[c]]+=A[c]);return A}});var Ij="csSqr",Bj=["add","multiply","transpose"],NM=S(Ij,Bj,t=>{var{add:e,multiply:r,transpose:n}=t,i=FM({add:e,multiply:r,transpose:n}),a=SM({transpose:n});return function(u,s,c){var f=s._ptr,m=s._size,p=m[1],h,d={};if(d.q=i(u,s),u&&!d.q)return null;if(c){var g=u?DM(s,null,d.q,0):s;d.parent=EM(g,1);var v=wM(d.parent,p);if(d.cp=a(g,d.parent,v,1),g&&d.parent&&d.cp&&o(g,d))for(d.unz=0,h=0;h<p;h++)d.unz+=d.cp[h]}else d.unz=4*f[p]+p,d.lnz=d.unz;return d};function o(l,u){var s=l._ptr,c=l._index,f=l._size,m=f[0],p=f[1];u.pinv=[],u.leftmost=[];var h=u.parent,d=u.pinv,g=u.leftmost,v=[],E=0,y=m,D=m+p,b=m+2*p,x,C,A,w,F;for(C=0;C<p;C++)v[y+C]=-1,v[D+C]=-1,v[b+C]=0;for(x=0;x<m;x++)g[x]=-1;for(C=p-1;C>=0;C--)for(w=s[C],F=s[C+1],A=w;A<F;A++)g[c[A]]=C;for(x=m-1;x>=0;x--)d[x]=-1,C=g[x],C!==-1&&(v[b+C]++===0&&(v[D+C]=x),v[E+x]=v[y+C],v[y+C]=x);for(u.lnz=0,u.m2=m,C=0;C<p;C++)if(x=v[y+C],u.lnz++,x<0&&(x=u.m2++),d[x]=C,!(--b[C]<=0)){u.lnz+=v[b+C];var M=h[C];M!==-1&&(v[b+M]===0&&(v[D+M]=v[D+C]),v[E+v[D+C]]=v[y+M],v[y+M]=v[E+x],v[b+M]+=v[b+C])}for(x=0;x<m;x++)d[x]<0&&(d[x]=C++);return!0}});function el(t,e){return t[e]<0}function Em(t,e){t[e]=_i(t[e])}function R1(t){return t<0?_i(t):t}function _M(t,e,r,n,i){var a=e._index,o=e._ptr,l=e._size,u=l[1],s,c,f,m=0;for(n[0]=t;m>=0;){t=n[m];var p=i?i[t]:t;el(o,t)||(Em(o,t),n[u+m]=p<0?0:R1(o[p]));var h=1;for(c=n[u+m],f=p<0?0:R1(o[p+1]);c<f;c++)if(s=a[c],!el(o,s)){n[u+m]=c,n[++m]=s,h=0;break}h&&(m--,n[--r]=t)}return r}function MM(t,e,r,n,i){var a=t._ptr,o=t._size,l=e._index,u=e._ptr,s=o[1],c,f,m,p=s;for(f=u[r],m=u[r+1],c=f;c<m;c++){var h=l[c];el(a,h)||(p=_M(h,t,p,n,i))}for(c=p;c<s;c++)Em(a,n[c]);return p}var Oj="csSpsolve",kj=["divideScalar","multiply","subtract"],TM=S(Oj,kj,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(a,o,l,u,s,c,f){var m=a._values,p=a._index,h=a._ptr,d=a._size,g=d[1],v=o._values,E=o._index,y=o._ptr,D,b,x,C,A=MM(a,o,l,u,c);for(D=A;D<g;D++)s[u[D]]=0;for(b=y[l],x=y[l+1],D=b;D<x;D++)s[E[D]]=v[D];for(var w=A;w<g;w++){var F=u[w],M=c?c[F]:F;if(!(M<0))for(b=h[M],x=h[M+1],s[F]=e(s[F],m[f?b:x-1]),D=f?b+1:b,C=f?x:x-1;D<C;D++){var B=p[D];s[B]=n(s[B],r(m[D],s[F]))}}return A}});var Rj="csLu",Pj=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],IM=S(Rj,Pj,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:l}=t,u=TM({divideScalar:r,multiply:n,subtract:i});return function(c,f,m){if(!c)return null;var p=c._size,h=p[1],d,g=100,v=100;f&&(d=f.q,g=f.lnz||g,v=f.unz||v);var E=[],y=[],D=[],b=new l({values:E,index:y,ptr:D,size:[h,h]}),x=[],C=[],A=[],w=new l({values:x,index:C,ptr:A,size:[h,h]}),F=[],M,B,k=[],R=[];for(M=0;M<h;M++)k[M]=0,F[M]=-1,D[M+1]=0;g=0,v=0;for(var P=0;P<h;P++){D[P]=g,A[P]=v;var T=d?d[P]:P,I=u(b,c,T,R,k,F,1),V=-1,O=-1;for(B=I;B<h;B++)if(M=R[B],F[M]<0){var Y=e(k[M]);a(Y,O)&&(O=Y,V=M)}else C[v]=F[M],x[v++]=k[M];if(V===-1||O<=0)return null;F[T]<0&&o(e(k[T]),n(O,m))&&(V=T);var $=k[V];for(C[v]=P,x[v++]=$,F[V]=P,y[g]=V,E[g++]=1,B=I;B<h;B++)M=R[B],F[M]<0&&(y[g]=M,E[g++]=r(k[M],$)),k[M]=0}for(D[h]=g,A[h]=v,B=0;B<g;B++)y[B]=F[y[B]];return E.splice(g,E.length-g),y.splice(g,y.length-g),x.splice(v,x.length-v),C.splice(v,C.length-v),{L:b,U:w,pinv:F}}});var BM="slu",Lj=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],P1=S(BM,Lj,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:a,divideScalar:o,subtract:l,larger:u,largerEq:s,SparseMatrix:c}=t,f=NM({add:n,multiply:i,transpose:a}),m=IM({abs:r,divideScalar:o,multiply:i,subtract:l,larger:u,largerEq:s,SparseMatrix:c});return e(BM,{"SparseMatrix, number, number":function(h,d,g){if(!He(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var v=f(d,h,!1),E=m(h,v,g);return{L:E.L,U:E.U,p:E.pinv,q:v.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function L1(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var OM="lusolve",qj=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],q1=S(OM,qj,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:l}=t,u=ji({DenseMatrix:l});return e(OM,{"Array, Array | Matrix":function(m,p){m=r(m);var h=n(m),d=c(h.L,h.U,h.p,null,p);return d.valueOf()},"DenseMatrix, Array | Matrix":function(m,p){var h=n(m);return c(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix":function(m,p){var h=n(m);return c(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(m,p,h,d){var g=i(m,h,d);return c(g.L,g.U,g.p,g.q,p)},"Object, Array | Matrix":function(m,p){return c(m.L,m.U,m.p,m.q,p)}});function s(f){if(Ge(f))return f;if(wt(f))return r(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,m,p,h,d){f=s(f),m=s(m),p&&(d=u(f,d,!0),d._data=L1(p,d._data));var g=o(f,d),v=a(m,g);return h&&(v._data=L1(h,v._data)),v}});var kM="polynomialRoot",Vj=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],V1=S(kM,Vj,t=>{var{typed:e,isZero:r,equalScalar:n,add:i,subtract:a,multiply:o,divide:l,sqrt:u,unaryMinus:s,cbrt:c,typeOf:f,im:m,re:p}=t;return e(kM,{"number|Complex, ...number|Complex":(h,d)=>{for(var g=[h,...d];g.length>0&&r(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[s(l(g[0],g[1]))];case 3:{var[v,E,y]=g,D=o(2,y),b=o(E,E),x=o(4,y,v);if(n(b,x))return[l(s(E),D)];var C=u(a(b,x));return[l(a(C,E),D),l(a(s(C),E),D)]}case 4:{var[A,w,F,M]=g,B=s(o(3,M)),k=o(F,F),R=o(3,M,w),P=i(o(2,F,F,F),o(27,M,M,A)),T=o(9,M,F,w);if(n(k,R)&&n(P,T))return[l(F,B)];var I=a(k,R),V=a(P,T),O=i(o(18,M,F,w,A),o(F,F,w,w)),Y=i(o(4,F,F,F,A),o(4,M,w,w,w),o(27,M,M,A,A));if(n(O,Y))return[l(a(o(4,M,F,w),i(o(9,M,M,A),o(F,F,F))),o(M,I)),l(a(o(9,M,A),o(F,w)),o(2,I))];var $;n(k,R)?$=V:$=l(i(V,u(a(o(V,V),o(4,I,I,I)))),2);var W=!0,q=c($,W).toArray().map(te=>l(i(F,te,l(I,te)),B));return q.map(te=>f(te)==="Complex"&&n(p(te),p(te)+m(te))?p(te):te)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})});var Uj="Help",zj=["parse"],U1=S(Uj,zj,t=>{var{parse:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a={},o=0;o<n.examples.length;o++){var l=n.examples[o];i+="    "+l+`
`;var u=void 0;try{u=e(l).compile().evaluate(a)}catch(s){u=s}u!==void 0&&!gf(u)&&(i+="        "+at(u,{precision:14})+`
`)}i+=`
`}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},r.prototype.toJSON=function(){var n=Je(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0});var Wj="Chain",Hj=["?on","math","typed"],z1=S(Wj,Hj,t=>{var{on:e,math:r,typed:n}=t;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");vf(s)?this.value=s.value:this.value=s}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return at(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)};function a(s,c){typeof c=="function"&&(i.prototype[s]=l(c))}function o(s,c){$2(i.prototype,s,function(){var m=c();if(typeof m=="function")return l(m)})}function l(s){return function(){if(arguments.length===0)return new i(s(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(s)){var m=n.resolve(s,c);if(m.params.length===1)throw new Error("chain function "+s.name+" cannot match rest parameter between chain value and additional arguments.");return new i(m.implementation.apply(s,c))}return new i(s.apply(s,c))}}i.createProxy=function(s,c){if(typeof s=="string")a(s,c);else{var f=function(h){je(s,h)&&u[h]===void 0&&o(h,()=>s[h])};for(var m in s)f(m)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),e&&e("import",function(s,c,f){f||o(s,c)}),i},{isClass:!0});var W1={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var RM={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var PM={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var LM={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var qM={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var VM={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var UM={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var zM={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var WM={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var HM={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var GM={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var H1={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var jM={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var ZM={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var YM={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var JM={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var XM={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var QM={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var KM={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var $M={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var eT={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var tT={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var rT={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var nT={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var iT={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var aT={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var oT={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var sT={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var uT={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var lT={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var cT={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var fT={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var mT={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var pT={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var dT={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var hT={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var gT={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var vT={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var yT={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var bT={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var xT={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var DT={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var wT={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var ET={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var CT={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var FT={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var AT={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var ST={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var NT={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var _T={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var MT={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var TT={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var IT={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var BT={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var OT={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var kT={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var RT={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var PT={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var LT={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var qT={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var VT={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var UT={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var zT={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var WT={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var HT={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var GT={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var jT={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var ZT={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var YT={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var JT={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var XT={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var QT={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var KT={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var $T={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var e3={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var t3={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var r3={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var n3={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]};var i3={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var a3={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var o3={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var s3={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var u3={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var l3={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var c3={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var f3={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var m3={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var p3={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var d3={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var h3={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var g3={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var v3={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var y3={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var b3={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var x3={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var D3={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var w3={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var E3={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var C3={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var F3={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var A3={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var S3={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var N3={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var _3={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var M3={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var T3={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var I3={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var B3={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var O3={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var k3={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var R3={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var P3={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var L3={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var q3={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var V3={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var U3={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var z3={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var W3={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var H3={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var G3={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var j3={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var Z3={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false }"],seealso:["inv"]};var Y3={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var J3={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var X3={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var Q3={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var K3={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var $3={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var eI={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var tI={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var rI={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var nI={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var iI={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var aI={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var oI={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var sI={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var uI={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var lI={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var cI={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var fI={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var mI={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var pI={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var dI={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var hI={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var gI={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var vI={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var yI={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var bI={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var xI={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var DI={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var wI={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var EI={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var CI={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var FI={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var AI={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var SI={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var NI={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var _I={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var MI={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var TI={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var II={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var BI={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var OI={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var kI={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var RI={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var PI={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var LI={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var qI={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var VI={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var UI={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var zI={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var WI={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var HI={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var GI={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var jI={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var ZI={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var YI={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var JI={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var XI={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var QI={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var KI={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var $I={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var eB={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var tB={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var rB={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var nB={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var iB={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var aB={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var oB={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var sB={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var uB={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var lB={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var cB={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var fB={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var mB={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var pB={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var dB={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var hB={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var gB={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var vB={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var yB={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var bB={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var xB={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var DB={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var wB={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var EB={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var CB={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var FB={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var AB={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var SB={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var NB={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var _B={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var MB={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var TB={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var IB={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var BB={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var OB={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var kB={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var RB={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var PB={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var LB={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var qB={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var VB={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var UB={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var zB={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var WB={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var HB={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var GB={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var jB={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var ZB={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var YB={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var JB={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var XB={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var QB={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var KB={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var $B={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var eO={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var tO={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var rO={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var nO={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var iO={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var aO={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var oO={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var sO={bignumber:QM,boolean:KM,complex:$M,createUnit:eT,fraction:tT,index:rT,matrix:nT,number:iT,sparse:aT,splitUnit:oT,string:sT,unit:uT,e:W1,E:W1,false:RM,i:PM,Infinity:LM,LN2:VM,LN10:qM,LOG2E:zM,LOG10E:UM,NaN:WM,null:HM,pi:H1,PI:H1,phi:GM,SQRT1_2:jM,SQRT2:ZM,tau:YM,true:JM,version:XM,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:mT,lsolve:dT,lsolveAll:hT,lup:gT,lusolve:vT,leafCount:pT,polynomialRoot:yT,resolve:DT,simplify:wT,simplifyConstant:ET,simplifyCore:CT,symbolicEqual:AT,rationalize:xT,slu:FT,usolve:ST,usolveAll:NT,qr:bT,abs:_T,add:MT,cbrt:TT,ceil:IT,cube:BT,divide:OT,dotDivide:kT,dotMultiply:RT,dotPow:PT,exp:LT,expm:qT,expm1:VT,fix:UT,floor:zT,gcd:WT,hypot:HT,lcm:jT,log:ZT,log2:XT,log1p:JT,log10:YT,mod:QT,multiply:KT,norm:$T,nthRoot:e3,nthRoots:t3,pow:r3,round:n3,sign:i3,sqrt:a3,sqrtm:o3,square:c3,subtract:f3,unaryMinus:m3,unaryPlus:p3,xgcd:d3,invmod:GT,bitAnd:h3,bitNot:g3,bitOr:v3,bitXor:y3,leftShift:b3,rightArithShift:x3,rightLogShift:D3,bellNumbers:w3,catalan:E3,composition:C3,stirlingS2:F3,config:lT,import:cT,typed:fT,arg:A3,conj:S3,re:_3,im:N3,evaluate:M3,help:T3,distance:I3,intersect:B3,and:O3,not:k3,or:R3,xor:P3,concat:q3,count:V3,cross:U3,column:L3,ctranspose:z3,det:W3,diag:H3,diff:G3,dot:j3,getMatrixDataType:Q3,identity:K3,filter:Y3,flatten:J3,forEach:X3,inv:$3,pinv:eI,eigs:Z3,kron:tI,matrixFromFunction:iI,matrixFromRows:aI,matrixFromColumns:nI,map:rI,ones:oI,partitionSelect:sI,range:uI,resize:cI,reshape:lI,rotate:fI,rotationMatrix:mI,row:pI,size:dI,sort:hI,squeeze:gI,subset:vI,trace:yI,transpose:bI,zeros:xI,fft:DI,ifft:wI,sylvester:s3,schur:u3,lyap:l3,solveODE:oO,combinations:EI,combinationsWithRep:CI,factorial:FI,gamma:AI,kldivergence:NI,lgamma:SI,multinomial:_I,permutations:MI,pickRandom:TI,random:II,randomInt:BI,compare:OI,compareNatural:kI,compareText:RI,deepEqual:PI,equal:LI,equalText:qI,larger:VI,largerEq:UI,smaller:zI,smallerEq:WI,unequal:HI,setCartesian:GI,setDifference:jI,setDistinct:ZI,setIntersect:YI,setIsSubset:JI,setMultiplicity:XI,setPowerset:QI,setSize:KI,setSymDifference:$I,setUnion:eB,zpk2tf:tB,freqz:rB,erf:nB,zeta:iB,cumsum:dB,mad:aB,max:oB,mean:sB,median:uB,min:lB,mode:cB,prod:fB,quantileSeq:mB,std:pB,sum:hB,variance:gB,corr:vB,acos:yB,acosh:bB,acot:xB,acoth:DB,acsc:wB,acsch:EB,asec:CB,asech:FB,asin:AB,asinh:SB,atan:NB,atanh:MB,atan2:_B,cos:TB,cosh:IB,cot:BB,coth:OB,csc:kB,csch:RB,sec:PB,sech:LB,sin:qB,sinh:VB,tan:UB,tanh:zB,to:WB,clone:GB,format:jB,bin:HB,oct:nO,hex:YB,isNaN:XB,isInteger:JB,isNegative:QB,isNumeric:KB,hasNumericValue:ZB,isPositive:$B,isPrime:eO,isZero:tO,print:iO,typeOf:aO,numeric:rO};var uO="help",Gj=["typed","mathWithTransform","Help"],G1=S(uO,Gj,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(uO,{any:function(a){var o,l=a;if(typeof a!="string"){for(o in r)if(je(r,o)&&a===r[o]){l=o;break}}var u=ur(sO,l);if(!u){var s=typeof l=="function"?l.name:l;throw new Error('No documentation found on "'+s+'"')}return new n(u)}})});var lO="chain",jj=["typed","Chain"],j1=S(lO,jj,t=>{var{typed:e,Chain:r}=t;return e(lO,{"":function(){return new r},any:function(i){return new r(i)}})});var cO="det",Zj=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Z1=S(cO,Zj,t=>{var{typed:e,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:l}=t;return e(cO,{any:function(c){return Je(c)},"Array | Matrix":function(c){var f;switch(Ge(c)?f=c.size():Array.isArray(c)?(c=r(c),f=c.size()):f=[],f.length){case 0:return Je(c);case 1:if(f[0]===1)return Je(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+at(f)+")");case 2:{var m=f[0],p=f[1];if(m===p)return u(c.clone().valueOf(),m,p);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+at(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+at(f)+")")}}});function u(s,c,f){if(c===1)return Je(s[0][0]);if(c===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var m=!1,p=new Array(c).fill(0).map((C,A)=>A),h=0;h<c;h++){var d=p[h];if(o(s[d][h])){var g=void 0;for(g=h+1;g<c;g++)if(!o(s[p[g]][h])){d=p[g],p[g]=p[h],p[h]=d,m=!m;break}if(g===c)return s[d][h]}for(var v=s[d][h],E=h===0?1:s[p[h-1]][h-1],y=h+1;y<c;y++)for(var D=p[y],b=h+1;b<c;b++)s[D][b]=a(n(i(s[D][b],v),i(s[D][h],s[d][b])),E)}var x=s[p[c-1]][c-1];return m?l(x):x}});var fO="inv",Yj=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Y1=S(fO,Yj,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:l,identity:u,abs:s}=t;return e(fO,{"Array | Matrix":function(m){var p=Ge(m)?m.size():Qe(m);switch(p.length){case 1:if(p[0]===1)return Ge(m)?r([n(1,m.valueOf()[0])]):[n(1,m[0])];throw new RangeError("Matrix must be square (size: "+at(p)+")");case 2:{var h=p[0],d=p[1];if(h===d)return Ge(m)?r(c(m.valueOf(),h,d),m.storage()):c(m,h,d);throw new RangeError("Matrix must be square (size: "+at(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+at(p)+")")}},any:function(m){return n(1,m)}});function c(f,m,p){var h,d,g,v,E;if(m===1){if(v=f[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,v)]]}else if(m===2){var y=l(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],y),n(o(f[0][1]),y)],[n(o(f[1][0]),y),n(f[0][0],y)]]}else{var D=f.concat();for(h=0;h<m;h++)D[h]=D[h].concat();for(var b=u(m).valueOf(),x=0;x<p;x++){var C=s(D[x][x]),A=x;for(h=x+1;h<m;)s(D[h][x])>C&&(C=s(D[h][x]),A=h),h++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");h=A,h!==x&&(E=D[x],D[x]=D[h],D[h]=E,E=b[x],b[x]=b[h],b[h]=E);var w=D[x],F=b[x];for(h=0;h<m;h++){var M=D[h],B=b[h];if(h!==x){if(M[x]!==0){for(g=n(o(M[x]),w[x]),d=x;d<p;d++)M[d]=i(M[d],a(g,w[d]));for(d=0;d<p;d++)B[d]=i(B[d],a(g,F[d]))}}else{for(g=w[x],d=x;d<p;d++)M[d]=n(M[d],g);for(d=0;d<p;d++)B[d]=n(B[d],g)}}}return b}}});var mO="pinv",Jj=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],J1=S(mO,Jj,t=>{var{typed:e,matrix:r,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:l,ctranspose:u,divideScalar:s,multiply:c,add:f,Complex:m}=t;return e(mO,{"Array | Matrix":function(y){var D=Ge(y)?y.size():Qe(y);switch(D.length){case 1:return v(y)?u(y):D[0]===1?n(y):o(u(y),l(y,y));case 2:{if(v(y))return u(y);var b=D[0],x=D[1];if(b===x)try{return n(y)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return Ge(y)?r(p(y.valueOf(),b,x),y.storage()):p(y,b,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+at(D)+")")}},any:function(y){return a(y,0)?Je(y):s(1,y)}});function p(E,y,D){var{C:b,F:x}=d(E,y,D),C=c(n(c(u(b),b)),u(b)),A=c(u(x),n(c(x,u(x))));return c(A,C)}function h(E,y,D){for(var b=Je(E),x=0,C=0;C<y;C++){if(D<=x)return b;for(var A=C;g(b[A][x]);)if(A++,y===A&&(A=C,x++,D===x))return b;[b[A],b[C]]=[b[C],b[A]];for(var w=b[C][x],F=0;F<D;F++)b[C][F]=o(b[C][F],w);for(var M=0;M<y;M++)if(M!==C){w=b[M][x];for(var B=0;B<D;B++)b[M][B]=f(b[M][B],c(-1,c(w,b[C][B])))}x++}return b}function d(E,y,D){var b=h(E,y,D),x=E.map((A,w)=>A.filter((F,M)=>M<y&&!g(l(b[M],b[M])))),C=b.filter((A,w)=>!g(l(b[w],b[w])));return{C:x,F:C}}function g(E){return a(f(E,m(1,1)),f(0,m(1,1)))}function v(E){return i(f(E,m(1,1)),f(c(E,0),m(1,1)))}});function pO(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:l,abs:u,bignumber:s,diag:c,size:f,reshape:m,inv:p,qr:h,usolve:d,usolveAll:g,equal:v,complex:E,larger:y,smaller:D,matrixFromColumns:b,dot:x}=t;function C(W,q,te,ge){var ae=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ce=A(W,q,te,ge,ae);w(W,q,te,ge,ae,ce);var{values:pe,C:ue}=F(W,q,te,ge,ae);if(ae){var ne=M(W,q,ue,ce,pe,te,ge);return{values:pe,eigenvectors:ne}}return{values:pe}}function A(W,q,te,ge,ae){var ce=ge==="BigNumber",pe=ge==="Complex",ue=ce?s(0):0,ne=ce?s(1):pe?E(1):1,me=ce?s(1):1,be=ce?s(10):2,Be=a(be,be),We;ae&&(We=Array(q).fill(ne));for(var z=!1;!z;){z=!0;for(var j=0;j<q;j++){for(var fe=ue,H=ue,K=0;K<q;K++)j!==K&&(fe=e(fe,u(W[K][j])),H=e(H,u(W[j][K])));if(!v(fe,0)&&!v(H,0)){for(var re=me,ye=fe,ve=o(H,be),Le=a(H,be);D(ye,ve);)ye=a(ye,Be),re=a(re,be);for(;y(ye,Le);)ye=o(ye,Be),re=o(re,be);var Ce=D(o(e(ye,H),re),a(e(fe,H),.95));if(Ce){z=!1;for(var ft=o(1,re),pt=0;pt<q;pt++)j!==pt&&(W[j][pt]=a(W[j][pt],ft),W[pt][j]=a(W[pt][j],re));ae&&(We[j]=a(We[j],ft))}}}}return ae?c(We):null}function w(W,q,te,ge,ae,ce){var pe=ge==="BigNumber",ue=ge==="Complex",ne=pe?s(0):ue?E(0):0;pe&&(te=s(te));for(var me=0;me<q-2;me++){for(var be=0,Be=ne,We=me+1;We<q;We++){var z=W[We][me];D(u(Be),u(z))&&(Be=z,be=We)}if(!D(u(Be),te)){if(be!==me+1){var j=W[be];W[be]=W[me+1],W[me+1]=j;for(var fe=0;fe<q;fe++){var H=W[fe][be];W[fe][be]=W[fe][me+1],W[fe][me+1]=H}if(ae){var K=ce[be];ce[be]=ce[me+1],ce[me+1]=K}}for(var re=me+2;re<q;re++){var ye=o(W[re][me],Be);if(ye!==0){for(var ve=0;ve<q;ve++)W[re][ve]=r(W[re][ve],a(ye,W[me+1][ve]));for(var Le=0;Le<q;Le++)W[Le][me+1]=e(W[Le][me+1],a(ye,W[Le][re]));if(ae)for(var Ce=0;Ce<q;Ce++)ce[re][Ce]=r(ce[re][Ce],a(ye,ce[me+1][Ce]))}}}}return ce}function F(W,q,te,ge,ae){var ce=ge==="BigNumber",pe=ge==="Complex",ue=ce?s(1):pe?E(1):1;ce&&(te=s(te));for(var ne=Je(W),me=[],be=q,Be=[],We=ae?c(Array(q).fill(ue)):void 0,z=ae?c(Array(be).fill(ue)):void 0,j=0;j<=100;){j+=1;for(var fe=ne[be-1][be-1],H=0;H<be;H++)ne[H][H]=r(ne[H][H],fe);var{Q:K,R:re}=h(ne);ne=i(re,K);for(var ye=0;ye<be;ye++)ne[ye][ye]=e(ne[ye][ye],fe);if(ae&&(z=i(z,K)),be===1||D(u(ne[be-1][be-2]),te)){j=0,me.push(ne[be-1][be-1]),ae&&(Be.unshift([[1]]),R(z,q),We=i(We,z),be>1&&(z=c(Array(be-1).fill(ue)))),be-=1,ne.pop();for(var ve=0;ve<be;ve++)ne[ve].pop()}else if(be===2||D(u(ne[be-2][be-3]),te)){j=0;var Le=B(ne[be-2][be-2],ne[be-2][be-1],ne[be-1][be-2],ne[be-1][be-1]);me.push(...Le),ae&&(Be.unshift(k(ne[be-2][be-2],ne[be-2][be-1],ne[be-1][be-2],ne[be-1][be-1],Le[0],Le[1],te,ge)),R(z,q),We=i(We,z),be>2&&(z=c(Array(be-2).fill(ue)))),be-=2,ne.pop(),ne.pop();for(var Ce=0;Ce<be;Ce++)ne[Ce].pop(),ne[Ce].pop()}if(be===0)break}if(me.sort((St,qt)=>+r(u(St),u(qt))),j>100){var ft=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+me.join(", "));throw ft.values=me,ft.vectors=[],ft}var pt=ae?i(We,P(Be,q)):void 0;return{values:me,C:pt}}function M(W,q,te,ge,ae,ce,pe){var ue=p(te),ne=i(ue,W,te),me=pe==="BigNumber",be=pe==="Complex",Be=me?s(0):be?E(0):0,We=me?s(1):be?E(1):1,z=[],j=[];for(var fe of ae){var H=T(z,fe,v);H===-1?(z.push(fe),j.push(1)):j[H]+=1}for(var K=[],re=z.length,ye=Array(q).fill(Be),ve=c(Array(q).fill(We)),Le=function(){var pt=z[Ce],St=r(ne,i(pt,ve)),qt=g(St,ye);for(qt.shift();qt.length<j[Ce];){var G=I(St,q,qt,ce,pe);if(G===null)break;qt.push(G)}var oe=i(p(ge),te);qt=qt.map(de=>i(oe,de)),K.push(...qt.map(de=>({value:pt,vector:n(de)})))},Ce=0;Ce<re;Ce++)Le();return K}function B(W,q,te,ge){var ae=e(W,ge),ce=r(a(W,ge),a(q,te)),pe=a(ae,.5),ue=a(l(r(a(ae,ae),a(4,ce))),.5);return[e(pe,ue),r(pe,ue)]}function k(W,q,te,ge,ae,ce,pe,ue){var ne=ue==="BigNumber",me=ue==="Complex",be=ne?s(0):me?E(0):0,Be=ne?s(1):me?E(1):1;if(D(u(te),pe))return[[Be,be],[be,Be]];if(y(u(r(ae,ce)),pe))return[[r(ae,ge),r(ce,ge)],[te,te]];var We=r(W,ae),z=r(ge,ae);return D(u(q),pe)&&D(u(z),pe)?[[We,Be],[te,be]]:[[q,be],[z,Be]]}function R(W,q){for(var te=0;te<W.length;te++)W[te].push(...Array(q-W[te].length).fill(0));for(var ge=W.length;ge<q;ge++)W.push(Array(q).fill(0)),W[ge][ge]=1;return W}function P(W,q){for(var te=[],ge=0;ge<q;ge++)te[ge]=Array(q).fill(0);var ae=0;for(var ce of W){for(var pe=ce.length,ue=0;ue<pe;ue++)for(var ne=0;ne<pe;ne++)te[ae+ue][ae+ne]=ce[ue][ne];ae+=pe}return te}function T(W,q,te){for(var ge=0;ge<W.length;ge++)if(te(W[ge],q))return ge;return-1}function I(W,q,te,ge,ae){for(var ce=ae==="BigNumber"?s(1e3):1e3,pe,ue=0;ue<5;++ue){pe=V(q,te,ae);try{pe=d(W,pe)}catch(me){continue}if(y(Y(pe),ce))break}if(ue>=5)return null;for(ue=0;;){var ne=d(W,pe);if(D(Y(O(pe,[ne])),ge))break;if(++ue>=10)return null;pe=$(ne)}return pe}function V(W,q,te){var ge=te==="BigNumber",ae=te==="Complex",ce=Array(W).fill(0).map(pe=>2*Math.random()-1);return ge&&(ce=ce.map(pe=>s(pe))),ae&&(ce=ce.map(pe=>E(pe))),ce=O(ce,q),$(ce,te)}function O(W,q){var te=f(W);for(var ge of q)ge=m(ge,te),W=r(W,i(o(x(ge,W),x(ge,ge)),ge));return W}function Y(W){return u(l(x(W,W)))}function $(W,q){var te=q==="BigNumber",ge=q==="Complex",ae=te?s(1):ge?E(1):1;return i(o(ae,Y(W)),W)}return C}function dO(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:l,multiplyScalar:u,inv:s,bignumber:c,multiply:f,add:m}=t;function p(w,F){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,B=arguments.length>3?arguments[3]:void 0,k=arguments.length>4?arguments[4]:void 0;if(B==="number")return h(w,M,k);if(B==="BigNumber")return d(w,M,k);throw TypeError("Unsupported data type: "+B)}function h(w,F,M){var B=w.length,k=Math.abs(F/B),R,P;if(M){P=new Array(B);for(var T=0;T<B;T++)P[T]=Array(B).fill(0),P[T][T]=1}for(var I=x(w);Math.abs(I[1])>=Math.abs(k);){var V=I[0][0],O=I[0][1];R=g(w[V][V],w[O][O],w[V][O]),w=b(w,R,V,O),M&&(P=E(P,R,V,O)),I=x(w)}for(var Y=Array(B).fill(0),$=0;$<B;$++)Y[$]=w[$][$];return A(Je(Y),P,M)}function d(w,F,M){var B=w.length,k=i(F/B),R,P;if(M){P=new Array(B);for(var T=0;T<B;T++)P[T]=Array(B).fill(0),P[T][T]=1}for(var I=C(w);i(I[1])>=i(k);){var V=I[0][0],O=I[0][1];R=v(w[V][V],w[O][O],w[V][O]),w=D(w,R,V,O),M&&(P=y(P,R,V,O)),I=C(w)}for(var Y=Array(B).fill(0),$=0;$<B;$++)Y[$]=w[$][$];return A(Je(Y),P,M)}function g(w,F,M){var B=F-w;return Math.abs(B)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(F-w))}function v(w,F,M){var B=n(F,w);return i(B)<=e.epsilon?c(-1).acos().div(4):u(.5,a(f(2,M,s(B))))}function E(w,F,M,B){for(var k=w.length,R=Math.cos(F),P=Math.sin(F),T=Array(k).fill(0),I=Array(k).fill(0),V=0;V<k;V++)T[V]=R*w[V][M]-P*w[V][B],I[V]=P*w[V][M]+R*w[V][B];for(var O=0;O<k;O++)w[O][M]=T[O],w[O][B]=I[O];return w}function y(w,F,M,B){for(var k=w.length,R=o(F),P=l(F),T=Array(k).fill(c(0)),I=Array(k).fill(c(0)),V=0;V<k;V++)T[V]=n(u(R,w[V][M]),u(P,w[V][B])),I[V]=r(u(P,w[V][M]),u(R,w[V][B]));for(var O=0;O<k;O++)w[O][M]=T[O],w[O][B]=I[O];return w}function D(w,F,M,B){for(var k=w.length,R=c(o(F)),P=c(l(F)),T=u(R,R),I=u(P,P),V=Array(k).fill(c(0)),O=Array(k).fill(c(0)),Y=f(c(2),R,P,w[M][B]),$=r(n(u(T,w[M][M]),Y),u(I,w[B][B])),W=m(u(I,w[M][M]),Y,u(T,w[B][B])),q=0;q<k;q++)V[q]=n(u(R,w[M][q]),u(P,w[B][q])),O[q]=r(u(P,w[M][q]),u(R,w[B][q]));w[M][M]=$,w[B][B]=W,w[M][B]=c(0),w[B][M]=c(0);for(var te=0;te<k;te++)te!==M&&te!==B&&(w[M][te]=V[te],w[te][M]=V[te],w[B][te]=O[te],w[te][B]=O[te]);return w}function b(w,F,M,B){for(var k=w.length,R=Math.cos(F),P=Math.sin(F),T=R*R,I=P*P,V=Array(k).fill(0),O=Array(k).fill(0),Y=T*w[M][M]-2*R*P*w[M][B]+I*w[B][B],$=I*w[M][M]+2*R*P*w[M][B]+T*w[B][B],W=0;W<k;W++)V[W]=R*w[M][W]-P*w[B][W],O[W]=P*w[M][W]+R*w[B][W];w[M][M]=Y,w[B][B]=$,w[M][B]=0,w[B][M]=0;for(var q=0;q<k;q++)q!==M&&q!==B&&(w[M][q]=V[q],w[q][M]=V[q],w[B][q]=O[q],w[q][B]=O[q]);return w}function x(w){for(var F=w.length,M=0,B=[0,1],k=0;k<F;k++)for(var R=k+1;R<F;R++)Math.abs(M)<Math.abs(w[k][R])&&(M=Math.abs(w[k][R]),B=[k,R]);return[B,M]}function C(w){for(var F=w.length,M=0,B=[0,1],k=0;k<F;k++)for(var R=k+1;R<F;R++)i(M)<i(w[k][R])&&(M=i(w[k][R]),B=[k,R]);return[B,M]}function A(w,F,M){var B=w.length,k=Array(B),R;if(M){R=Array(B);for(var P=0;P<B;P++)R[P]=Array(B)}for(var T=0;T<B;T++){for(var I=0,V=w[0],O=0;O<w.length;O++)i(w[O])<i(V)&&(I=O,V=w[I]);if(k[T]=w.splice(I,1)[0],M)for(var Y=0;Y<B;Y++)R[T][Y]=F[Y][I],F[Y].splice(I,1)}if(!M)return{values:k};var $=R.map((W,q)=>({value:k[q],vector:W}));return{values:k,eigenvectors:$}}return p}var Xj="eigs",Qj=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],X1=S(Xj,Qj,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:a,equal:o,abs:l,atan:u,cos:s,sin:c,multiplyScalar:f,divideScalar:m,inv:p,bignumber:h,multiply:d,add:g,larger:v,column:E,flatten:y,number:D,complex:b,sqrt:x,diag:C,size:A,reshape:w,qr:F,usolve:M,usolveAll:B,im:k,re:R,smaller:P,matrixFromColumns:T,dot:I}=t,V=dO({config:e,addScalar:i,subtract:a,column:E,flatten:y,equal:o,abs:l,atan:u,cos:s,sin:c,multiplyScalar:f,inv:p,bignumber:h,complex:b,multiply:d,add:g}),O=pO({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:y,divideScalar:m,sqrt:x,abs:l,bignumber:h,diag:C,size:A,reshape:w,qr:F,inv:p,usolve:M,usolveAll:B,equal:o,complex:b,larger:v,smaller:P,matrixFromColumns:T,dot:I});return r("eigs",{Array:function(ce){return Y(n(ce))},"Array, number|BigNumber":function(ce,pe){return Y(n(ce),{precision:pe})},"Array, Object"(ae,ce){return Y(n(ae),ce)},Matrix:function(ce){return Y(ce,{matricize:!0})},"Matrix, number|BigNumber":function(ce,pe){return Y(ce,{precision:pe,matricize:!0})},"Matrix, Object":function(ce,pe){var ue={matricize:!0};return sr(ue,pe),Y(ce,ue)}});function Y(ae){var ce,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue="eigenvectors"in pe?pe.eigenvectors:!0,ne=(ce=pe.precision)!==null&&ce!==void 0?ce:e.epsilon,me=$(ae,ne,ue);return pe.matricize&&(me.values=n(me.values),ue&&(me.eigenvectors=me.eigenvectors.map(be=>{var{value:Be,vector:We}=be;return{value:Be,vector:n(We)}}))),ue&&Object.defineProperty(me,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),me}function $(ae,ce,pe){var ue=ae.toArray(),ne=ae.size();if(ne.length!==2||ne[0]!==ne[1])throw new RangeError("Matrix must be square (size: ".concat(at(ne),")"));var me=ne[0];if(q(ue,me,ce)&&(te(ue,me),W(ue,me,ce))){var be=ge(ae,ue,me);return V(ue,me,ce,be,pe)}var Be=ge(ae,ue,me);return O(ue,me,ce,Be,pe)}function W(ae,ce,pe){for(var ue=0;ue<ce;ue++)for(var ne=ue;ne<ce;ne++)if(v(h(l(a(ae[ue][ne],ae[ne][ue]))),pe))return!1;return!0}function q(ae,ce,pe){for(var ue=0;ue<ce;ue++)for(var ne=0;ne<ce;ne++)if(v(h(l(k(ae[ue][ne]))),pe))return!1;return!0}function te(ae,ce){for(var pe=0;pe<ce;pe++)for(var ue=0;ue<ce;ue++)ae[pe][ue]=R(ae[pe][ue])}function ge(ae,ce,pe){var ue=ae.datatype();if(ue==="number"||ue==="BigNumber"||ue==="Complex")return ue;for(var ne=!1,me=!1,be=!1,Be=0;Be<pe;Be++)for(var We=0;We<pe;We++){var z=ce[Be][We];if(it(z)||ia(z))ne=!0;else if($e(z))me=!0;else if(Cn(z))be=!0;else throw TypeError("Unsupported type in Matrix: "+Dt(z))}if(me&&be&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),be){for(var j=0;j<pe;j++)for(var fe=0;fe<pe;fe++)ce[j][fe]=b(ce[j][fe]);return"Complex"}if(me){for(var H=0;H<pe;H++)for(var K=0;K<pe;K++)ce[H][K]=h(ce[H][K]);return"BigNumber"}if(ne){for(var re=0;re<pe;re++)for(var ye=0;ye<pe;ye++)ce[re][ye]=D(ce[re][ye]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var hO="expm",Kj=["typed","abs","add","identity","inv","multiply"],Q1=S(hO,Kj,t=>{var{typed:e,abs:r,add:n,identity:i,inv:a,multiply:o}=t;return e(hO,{Matrix:function(f){var m=f.size();if(m.length!==2||m[0]!==m[1])throw new RangeError("Matrix must be square (size: "+at(m)+")");for(var p=m[0],h=1e-15,d=l(f),g=u(d,h),v=g.q,E=g.j,y=o(f,Math.pow(2,-E)),D=i(p),b=i(p),x=1,C=y,A=-1,w=1;w<=v;w++)w>1&&(C=o(C,y),A=-A),x=x*(v-w+1)/((2*v-w+1)*w),D=n(D,o(x,C)),b=n(b,o(x*A,C));for(var F=o(a(b),D),M=0;M<E;M++)F=o(F,F);return Ei(f)?f.createSparseMatrix(F):F}});function l(c){for(var f=c.size()[0],m=0,p=0;p<f;p++){for(var h=0,d=0;d<f;d++)h+=r(c.get([p,d]));m=Math.max(h,m)}return m}function u(c,f){for(var m=30,p=0;p<m;p++)for(var h=0;h<=p;h++){var d=p-h;if(s(c,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function s(c,f,m){for(var p=1,h=2;h<=f;h++)p*=h;for(var d=p,g=f+1;g<=2*f;g++)d*=g;var v=d*(2*f+1);return 8*Math.pow(c/Math.pow(2,m),2*f)*p*p/(d*v)}});var gO="sqrtm",$j=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],K1=S(gO,$j,t=>{var{typed:e,abs:r,add:n,multiply:i,map:a,sqrt:o,subtract:l,inv:u,size:s,max:c,identity:f}=t,m=1e3,p=1e-6;function h(d){var g,v=0,E=d,y=f(s(d));do{var D=E;if(E=i(.5,n(D,u(y))),y=i(.5,n(y,u(D))),g=c(r(l(E,D))),g>p&&++v>m)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>p);return E}return e(gO,{"Array | Matrix":function(g){var v=Ge(g)?g.size():Qe(g);switch(v.length){case 1:if(v[0]===1)return a(g,o);throw new RangeError("Matrix must be square (size: "+at(v)+")");case 2:{var E=v[0],y=v[1];if(E===y)return h(g);throw new RangeError("Matrix must be square (size: "+at(v)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+at(v)+")")}}})});var vO="sylvester",eZ=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],$1=S(vO,eZ,t=>{var{typed:e,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:l,transpose:u,index:s,subset:c,add:f,subtract:m,identity:p,lusolve:h,abs:d}=t;return e(vO,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(E,y,D){return g(i(E),y,D)},"Array, Array, Matrix":function(E,y,D){return g(i(E),i(y),D)},"Array, Matrix, Array":function(E,y,D){return g(i(E),y,i(D))},"Matrix, Array, Matrix":function(E,y,D){return g(E,i(y),D)},"Matrix, Array, Array":function(E,y,D){return g(E,i(y),i(D))},"Matrix, Matrix, Array":function(E,y,D){return g(E,y,i(D))},"Array, Array, Array":function(E,y,D){return g(i(E),i(y),i(D)).toArray()}});function g(v,E,y){for(var D=E.size()[0],b=v.size()[0],x=r(v),C=x.T,A=x.U,w=r(a(-1,E)),F=w.T,M=w.U,B=a(a(u(A),y),M),k=o(0,b),R=[],P=(be,Be)=>l(be,Be,1),T=(be,Be)=>l(be,Be,0),I=0;I<D;I++)if(I<D-1&&d(c(F,s(I+1,I)))>1e-5){for(var V=T(c(B,s(k,I)),c(B,s(k,I+1))),O=0;O<I;O++)V=f(V,T(a(R[O],c(F,s(O,I))),a(R[O],c(F,s(O,I+1)))));var Y=a(p(b),a(-1,c(F,s(I,I)))),$=a(p(b),a(-1,c(F,s(I+1,I)))),W=a(p(b),a(-1,c(F,s(I,I+1)))),q=a(p(b),a(-1,c(F,s(I+1,I+1)))),te=T(P(f(C,Y),$),P(W,f(C,q))),ge=h(te,V);R[I]=ge.subset(s(o(0,b),0)),R[I+1]=ge.subset(s(o(b,2*b),0)),I++}else{for(var ae=c(B,s(k,I)),ce=0;ce<I;ce++)ae=f(ae,a(R[ce],c(F,s(ce,I))));var pe=c(F,s(I,I)),ue=m(C,a(pe,p(b)));R[I]=h(ue,ae)}var ne=i(n(...R)),me=a(A,a(ne,u(M)));return me}});var yO="schur",tZ=["typed","matrix","identity","multiply","qr","norm","subtract"],eb=S(yO,tZ,t=>{var{typed:e,matrix:r,identity:n,multiply:i,qr:a,norm:o,subtract:l}=t;return e(yO,{Array:function(c){var f=u(r(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return u(c)}});function u(s){var c=s.size()[0],f=s,m=n(c),p=0,h;do{h=f;var d=a(f),g=d.Q,v=d.R;if(f=i(v,g),m=i(m,g),p++>100)break}while(o(l(f,h))>1e-4);return{U:m,T:f}}});var bO="lyap",rZ=["typed","matrix","sylvester","multiply","transpose"],tb=S(bO,rZ,t=>{var{typed:e,matrix:r,sylvester:n,multiply:i,transpose:a}=t;return e(bO,{"Matrix, Matrix":function(l,u){return n(l,a(l),i(-1,u))},"Array, Matrix":function(l,u){return n(r(l),a(r(l)),i(-1,u))},"Matrix, Array":function(l,u){return n(l,a(r(l)),r(i(-1,u)))},"Array, Array":function(l,u){return n(r(l),a(r(l)),r(i(-1,u))).toArray()}})});var nZ="divide",iZ=["typed","matrix","multiply","equalScalar","divideScalar","inv"],rb=S(nZ,iZ,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:o}=t,l=Lt({typed:e,equalScalar:i}),u=Ar({typed:e});return e("divide",yf({"Array | Matrix, Array | Matrix":function(c,f){return n(c,o(f))},"DenseMatrix, any":function(c,f){return u(c,f,a,!1)},"SparseMatrix, any":function(c,f){return l(c,f,a,!1)},"Array, any":function(c,f){return u(r(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,o(f))}},a.signatures))});var xO="distance",aZ=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],nb=S(xO,aZ,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:l,abs:u}=t;return e(xO,{"Array, Array, Array":function(b,x,C){if(b.length===2&&x.length===2&&C.length===2){if(!c(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(x,C))throw new TypeError("LinePoint1 should not be same with LinePoint2");var A=n(C[1],x[1]),w=n(x[0],C[0]),F=n(i(C[0],x[1]),i(x[0],C[1]));return g(b[0],b[1],A,w,F)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(b,x,C){if(Object.keys(b).length===2&&Object.keys(x).length===2&&Object.keys(C).length===2){if(!c(b))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(x),h(C)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in b&&"pointY"in b&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var A=n(C.lineTwoPtY,x.lineOnePtY),w=n(x.lineOnePtX,C.lineTwoPtX),F=n(i(C.lineTwoPtX,x.lineOnePtY),i(x.lineOnePtX,C.lineTwoPtY));return g(b.pointX,b.pointY,A,w,F)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(b,x){if(b.length===2&&x.length===3){if(!c(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(b[0],b[1],x[0],x[1],x[2])}else if(b.length===3&&x.length===6){if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(b[0],b[1],b[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(b.length===x.length&&b.length>0){if(!m(b))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!m(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return E(b,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(b,x){if(Object.keys(b).length===2&&Object.keys(x).length===3){if(!c(b))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in b&&"pointY"in b&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return g(b.pointX,b.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(b).length===3&&Object.keys(x).length===6){if(!f(b))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in b&&"pointY"in b&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return v(b.pointX,b.pointY,b.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(b).length===2&&Object.keys(x).length===2){if(!c(b))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in b&&"pointOneY"in b&&"pointTwoX"in x&&"pointTwoY"in x)return E([b.pointOneX,b.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(b).length===3&&Object.keys(x).length===3){if(!f(b))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in b&&"pointOneY"in b&&"pointOneZ"in b&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return E([b.pointOneX,b.pointOneY,b.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(b){if(!d(b))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(b)}});function s(D){return typeof D=="number"||$e(D)}function c(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])}function f(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])&&s(D[2])}function m(D){return Array.isArray(D)||(D=h(D)),D.every(s)}function p(D){return D.constructor!==Array&&(D=h(D)),s(D[0])&&s(D[1])&&s(D[2])&&s(D[3])&&s(D[4])&&s(D[5])}function h(D){for(var b=Object.keys(D),x=[],C=0;C<b.length;C++)x.push(D[b[C]]);return x}function d(D){if(D[0].length===2&&s(D[0][0])&&s(D[0][1])){if(D.some(b=>b.length!==2||!s(b[0])||!s(b[1])))return!1}else if(D[0].length===3&&s(D[0][0])&&s(D[0][1])&&s(D[0][2])){if(D.some(b=>b.length!==3||!s(b[0])||!s(b[1])||!s(b[2])))return!1}else return!1;return!0}function g(D,b,x,C,A){var w=u(r(r(i(x,D),i(C,b)),A)),F=l(r(i(x,x),i(C,C)));return a(w,F)}function v(D,b,x,C,A,w,F,M,B){var k=[n(i(n(A,b),B),i(n(w,x),M)),n(i(n(w,x),F),i(n(C,D),B)),n(i(n(C,D),M),i(n(A,b),F))];k=l(r(r(i(k[0],k[0]),i(k[1],k[1])),i(k[2],k[2])));var R=l(r(r(i(F,F),i(M,M)),i(B,B)));return a(k,R)}function E(D,b){for(var x=D.length,C=0,A=0,w=0;w<x;w++)A=n(D[w],b[w]),C=r(i(A,A),C);return l(C)}function y(D){for(var b=[],x=[],C=[],A=0;A<D.length-1;A++)for(var w=A+1;w<D.length;w++)D[0].length===2?(x=[D[A][0],D[A][1]],C=[D[w][0],D[w][1]]):D[0].length===3&&(x=[D[A][0],D[A][1],D[A][2]],C=[D[w][0],D[w][1],D[w][2]]),b.push(E(x,C));return b}});var oZ="intersect",sZ=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],ib=S(oZ,sZ,t=>{var{typed:e,config:r,abs:n,add:i,addScalar:a,matrix:o,multiply:l,multiplyScalar:u,divideScalar:s,subtract:c,smaller:f,equalScalar:m,flatten:p,isZero:h,isNumeric:d}=t;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":v,"Matrix, Matrix, Matrix":function(M,B,k){var R=g(M.valueOf(),B.valueOf(),k.valueOf());return R===null?null:o(R)},"Matrix, Matrix, Matrix, Matrix":function(M,B,k,R){var P=v(M.valueOf(),B.valueOf(),k.valueOf(),R.valueOf());return P===null?null:o(P)}});function g(F,M,B){if(F=E(F),M=E(M),B=E(B),!D(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!b(B))throw new TypeError("Array with 4 numbers expected as third argument");return w(F[0],F[1],F[2],M[0],M[1],M[2],B[0],B[1],B[2],B[3])}function v(F,M,B,k){if(F=E(F),M=E(M),B=E(B),k=E(k),F.length===2){if(!y(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(F,M,B,k)}else if(F.length===3){if(!D(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!D(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!D(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!D(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return A(F[0],F[1],F[2],M[0],M[1],M[2],B[0],B[1],B[2],k[0],k[1],k[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function E(F){return F.length===1?F[0]:F.length>1&&Array.isArray(F[0])&&F.every(M=>Array.isArray(M)&&M.length===1)?p(F):F}function y(F){return F.length===2&&d(F[0])&&d(F[1])}function D(F){return F.length===3&&d(F[0])&&d(F[1])&&d(F[2])}function b(F){return F.length===4&&d(F[0])&&d(F[1])&&d(F[2])&&d(F[3])}function x(F,M,B,k){var R=F,P=B,T=c(R,M),I=c(P,k),V=c(u(T[0],I[1]),u(I[0],T[1]));if(h(V)||f(n(V),r.epsilon))return null;var O=u(I[0],R[1]),Y=u(I[1],R[0]),$=u(I[0],P[1]),W=u(I[1],P[0]),q=s(a(c(c(O,Y),$),W),V);return i(l(T,q),R)}function C(F,M,B,k,R,P,T,I,V,O,Y,$){var W=u(c(F,M),c(B,k)),q=u(c(R,P),c(T,I)),te=u(c(V,O),c(Y,$));return a(a(W,q),te)}function A(F,M,B,k,R,P,T,I,V,O,Y,$){var W=C(F,T,O,T,M,I,Y,I,B,V,$,V),q=C(O,T,k,F,Y,I,R,M,$,V,P,B),te=C(F,T,k,F,M,I,R,M,B,V,P,B),ge=C(O,T,O,T,Y,I,Y,I,$,V,$,V),ae=C(k,F,k,F,R,M,R,M,P,B,P,B),ce=c(u(W,q),u(te,ge)),pe=c(u(ae,ge),u(q,q));if(h(pe))return null;var ue=s(ce,pe),ne=s(a(W,u(ue,q)),ge),me=a(F,u(ue,c(k,F))),be=a(M,u(ue,c(R,M))),Be=a(B,u(ue,c(P,B))),We=a(T,u(ne,c(O,T))),z=a(I,u(ne,c(Y,I))),j=a(V,u(ne,c($,V)));return m(me,We)&&m(be,z)&&m(Be,j)?[me,be,Be]:null}function w(F,M,B,k,R,P,T,I,V,O){var Y=u(F,T),$=u(k,T),W=u(M,I),q=u(R,I),te=u(B,V),ge=u(P,V),ae=c(c(c(O,Y),W),te),ce=c(c(c(a(a($,q),ge),Y),W),te),pe=s(ae,ce),ue=a(F,u(pe,c(k,F))),ne=a(M,u(pe,c(R,M))),me=a(B,u(pe,c(P,B)));return[ue,ne,me]}});var DO="sum",uZ=["typed","config","add","numeric"],tl=S(DO,uZ,t=>{var{typed:e,config:r,add:n,numeric:i}=t;return e(DO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(u){if(si(u))throw new TypeError("Scalar values expected in function sum");return a(u)}});function a(l){var u;return pn(l,function(s){try{u=u===void 0?s:n(u,s)}catch(c){throw hr(c,"sum",s)}}),u===void 0&&(u=i(0,r.number)),typeof u=="string"&&(u=i(u,r.number)),u}function o(l,u){try{var s=za(l,u,n);return s}catch(c){throw hr(c,"sum")}}});var Cm="cumsum",lZ=["typed","add","unaryPlus"],rl=S(Cm,lZ,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(Cm,{Array:i,Matrix:function(s){return s.create(i(s.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(s,c){return s.create(o(s.valueOf(),c))},"...":function(s){if(si(s))throw new TypeError("All values expected to be scalar in function cumsum");return i(s)}});function i(u){try{return a(u)}catch(s){throw hr(s,Cm)}}function a(u){if(u.length===0)return[];for(var s=[n(u[0])],c=1;c<u.length;++c)s.push(r(s[c-1],u[c]));return s}function o(u,s){var c=Qe(u);if(s<0||s>=c.length)throw new sn(s,c.length);try{return l(u,s)}catch(f){throw hr(f,Cm)}}function l(u,s){var c,f,m;if(s<=0){var p=u[0][0];if(Array.isArray(p)){for(m=Lf(u),f=[],c=0;c<m.length;c++)f[c]=l(m[c],s-1);return f}else return a(u)}else{for(f=[],c=0;c<u.length;c++)f[c]=l(u[c],s-1);return f}}});var wO="mean",cZ=["typed","add","divide"],nl=S(wO,cZ,t=>{var{typed:e,add:r,divide:n}=t;return e(wO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(l){if(si(l))throw new TypeError("Scalar values expected in function mean");return a(l)}});function i(o,l){try{var u=za(o,l,r),s=Array.isArray(o)?Qe(o):o.size();return n(u,s[l])}catch(c){throw hr(c,"mean")}}function a(o){var l,u=0;if(pn(o,function(s){try{l=l===void 0?s:r(l,s),u++}catch(c){throw hr(c,"mean",s)}}),u===0)throw new Error("Cannot calculate the mean of an empty array");return n(l,u)}});var EO="median",fZ=["typed","add","divide","compare","partitionSelect"],ab=S(EO,fZ,t=>{var{typed:e,add:r,divide:n,compare:i,partitionSelect:a}=t;function o(s){try{s=dt(s.valueOf());var c=s.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,m=a(s,f+1),p=s[f],h=0;h<f;++h)i(s[h],p)>0&&(p=s[h]);return u(p,m)}else{var d=a(s,(c-1)/2);return l(d)}}catch(g){throw hr(g,"median")}}var l=e({"number | BigNumber | Complex | Unit":function(c){return c}}),u=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(r(c,f),2)}});return e(EO,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(si(c))throw new TypeError("Scalar values expected in function median");return o(c)}})});var CO="mad",mZ=["typed","abs","map","median","subtract"],ob=S(CO,mZ,t=>{var{typed:e,abs:r,map:n,median:i,subtract:a}=t;return e(CO,{"Array | Matrix":o,"...":function(u){return o(u)}});function o(l){if(l=dt(l.valueOf()),l.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var u=i(l);return i(n(l,function(s){return r(a(s,u))}))}catch(s){throw s instanceof TypeError&&s.message.indexOf("median")!==-1?new TypeError(s.message.replace("median","mad")):hr(s,"mad")}}});var sb="unbiased",FO="variance",pZ=["typed","add","subtract","multiply","divide","apply","isNaN"],il=S(FO,pZ,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:l}=t;return e(FO,{"Array | Matrix":function(f){return u(f,sb)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(f,m){return s(f,m,sb)},"Array | Matrix, number | BigNumber, string":s,"...":function(f){return u(f,sb)}});function u(c,f){var m,p=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(pn(c,function(g){try{m=m===void 0?g:r(m,g),p++}catch(v){throw hr(v,"variance",g)}}),p===0)throw new Error("Cannot calculate variance of an empty array");var h=a(m,p);if(m=void 0,pn(c,function(g){var v=n(g,h);m=m===void 0?i(v,v):r(m,i(v,v))}),l(m))return m;switch(f){case"uncorrected":return a(m,p);case"biased":return a(m,p+1);case"unbiased":{var d=$e(m)?m.mul(0):0;return p===1?d:a(m,p-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function s(c,f,m){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,f,p=>u(p,m))}catch(p){throw hr(p,"variance")}}});var AO="quantileSeq",dZ=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],al=S(AO,dZ,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:m}=t,p=So({typed:e,isInteger:s});return e(AO,{"Array | Matrix, number | BigNumber":(E,y)=>d(E,y,!1),"Array | Matrix, number | BigNumber, number":(E,y,D)=>h(E,y,!1,D,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(E,y,D,b)=>h(E,y,D,b,d),"Array | Matrix, Array | Matrix":(E,y)=>g(E,y,!1),"Array | Matrix, Array | Matrix, number":(E,y,D)=>h(E,y,!1,D,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(E,y,D,b)=>h(E,y,D,b,g)});function h(E,y,D,b,x){return p(E,b,C=>x(C,y,D))}function d(E,y,D){var b,x=E.valueOf();if(c(y,0))throw new Error("N/prob must be non-negative");if(f(y,1))return it(y)?v(x,y,D):r(v(x,y,D));if(m(y,1)){if(!s(y))throw new Error("N must be a positive integer");if(m(y,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var C=n(y,1);b=[];for(var A=0;c(A,y);A++){var w=a(A+1,C);b.push(v(x,w,D))}return it(y)?b:r(b)}}function g(E,y,D){for(var b=E.valueOf(),x=y.valueOf(),C=[],A=0;A<x.length;++A)C.push(v(b,x[A],D));return C}function v(E,y,D){var b=dt(E),x=b.length;if(x===0)throw new Error("Cannot calculate quantile of an empty sequence");var C=it(y)?y*(x-1):y.times(x-1),A=it(y)?Math.floor(C):C.floor().toNumber(),w=it(y)?C%1:C.minus(A);if(s(C))return D?b[C]:l(b,it(y)?C:C.valueOf());var F,M;if(D)F=b[A],M=b[A+1];else{M=l(b,A+1),F=b[A];for(var B=0;B<A;++B)u(b[B],F)>0&&(F=b[B])}return n(o(F,i(1,w)),o(M,w))}});var SO="std",hZ=["typed","map","sqrt","variance"],ol=S(SO,hZ,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t;return e(SO,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(l){return a(l)}});function a(o,l){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var u=i.apply(null,arguments);return Fn(u)?r(u,n):n(u)}catch(s){throw s instanceof TypeError&&s.message.indexOf(" variance")!==-1?new TypeError(s.message.replace(" variance"," std")):s}}});var NO="corr",gZ=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],ub=S(NO,gZ,t=>{var{typed:e,matrix:r,sqrt:n,sum:i,add:a,subtract:o,multiply:l,pow:u,divide:s}=t;return e(NO,{"Array, Array":function(p,h){return c(p,h)},"Matrix, Matrix":function(p,h){var d=c(p.toArray(),h.toArray());return Array.isArray(d)?r(d):d}});function c(m,p){var h=[];if(Array.isArray(m[0])&&Array.isArray(p[0])){if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<m.length;d++){if(m[d].length!==p[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(m[d],p[d]))}return h}else{if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(m,p)}}function f(m,p){var h=m.length,d=i(m),g=i(p),v=m.reduce((x,C,A)=>a(x,l(C,p[A])),0),E=i(m.map(x=>u(x,2))),y=i(p.map(x=>u(x,2))),D=o(l(h,v),l(d,g)),b=n(l(o(l(h,E),u(d,2)),o(l(h,y),u(g,2))));return s(D,b)}});var _O="combinations",vZ=["typed"],lb=S(_O,vZ,t=>{var{typed:e}=t;return e(_O,{"number, number":wg,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,l,u=n.minus(i),s=new a(1);if(!MO(n)||!MO(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=s,i.lt(u))for(l=s;l.lte(u);l=l.plus(s))o=o.times(i.plus(l)).dividedBy(l);else for(l=s;l.lte(i);l=l.plus(s))o=o.times(u.plus(l)).dividedBy(l);return o}})});function MO(t){return t.isInteger()&&t.gte(0)}var TO="combinationsWithRep",yZ=["typed"],cb=S(TO,yZ,t=>{var{typed:e}=t;return e(TO,{"number, number":function(n,i){if(!He(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!He(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=jn(n,n+i-1);return a/jn(1,i)}var o=jn(i+1,n+i-1);return o/jn(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,l,u=new a(1),s=n.minus(u);if(!IO(n)||!IO(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(u))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=u,i.lt(s))for(l=u;l.lte(s);l=l.plus(u))o=o.times(i.plus(l)).dividedBy(l);else for(l=u;l.lte(i);l=l.plus(u))o=o.times(s.plus(l)).dividedBy(l);return o}})});function IO(t){return t.isInteger()&&t.gte(0)}var BO="gamma",bZ=["typed","config","multiplyScalar","pow","BigNumber","Complex"],fb=S(BO,bZ,t=>{var{typed:e,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=t;function l(s){if(s.im===0)return Lu(s.re);if(s.re<.5){var c=new o(1-s.re,-s.im),f=new o(Math.PI*s.re,Math.PI*s.im);return new o(Math.PI).div(f.sin()).div(l(c))}s=new o(s.re-1,s.im);for(var m=new o(Ao[0],0),p=1;p<Ao.length;++p){var h=new o(Ao[p],0);m=m.add(h.div(s.add(p)))}var d=new o(s.re+Ng+.5,s.im),g=Math.sqrt(2*Math.PI),v=d.pow(s.add(.5)),E=d.neg().exp();return m.mul(g).mul(v).mul(E)}return e(BO,{number:Lu,Complex:l,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):u(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function u(s){if(s<8)return new a([1,1,2,6,24,120,720,5040][s]);var c=r.precision+(Math.log(s.toNumber())|0),f=a.clone({precision:c});if(s%2===1)return s.times(u(new a(s-1)));for(var m=s,p=new f(s),h=s.toNumber();m>2;)m-=2,h+=m,p=p.times(h);return new a(p.toPrecision(a.precision))}});var OO="lgamma",xZ=["Complex","typed"],mb=S(OO,xZ,t=>{var{Complex:e,typed:r}=t,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(OO,{number:qu,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(s){var c=6.283185307179586,f=1.1447298858494002,m=.1;if(s.isNaN())return new e(NaN,NaN);if(s.im===0)return new e(qu(s.re),0);if(s.re>=n||Math.abs(s.im)>=i)return l(s);if(s.re<=m){var p=pA(c,s.im)*Math.floor(.5*s.re+.25),h=s.mul(Math.PI).sin().log(),d=o(new e(1-s.re,-s.im));return new e(f,p).sub(h).sub(d)}else return s.im>=0?u(s):u(s.conjugate()).conjugate()}function l(s){for(var c=s.sub(.5).mul(s.log()).sub(s).add(_g),f=new e(1,0).div(s),m=f.div(s),p=a[0],h=a[1],d=2*m.re,g=m.re*m.re+m.im*m.im,v=2;v<8;v++){var E=h;h=-g*p+a[v],p=d*p+E}var y=f.mul(m.mul(p).add(h));return c.add(y)}function u(s){var c=0,f=0,m=s;for(s=s.add(1);s.re<=n;){m=m.mul(s);var p=m.im<0?1:0;p!==0&&f===0&&c++,f=p,s=s.add(1)}return l(s).sub(m.log()).sub(new e(0,c*2*Math.PI*1))}});var kO="factorial",DZ=["typed","gamma"],pb=S(kO,DZ,t=>{var{typed:e,gamma:r}=t;return e(kO,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var RO="kldivergence",wZ=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],db=S(RO,wZ,t=>{var{typed:e,matrix:r,divide:n,sum:i,multiply:a,map:o,dotDivide:l,log:u,isNumeric:s}=t;return e(RO,{"Array, Array":function(m,p){return c(r(m),r(p))},"Matrix, Array":function(m,p){return c(m,r(p))},"Array, Matrix":function(m,p){return c(r(m),p)},"Matrix, Matrix":function(m,p){return c(m,p)}});function c(f,m){var p=m.size().length,h=f.size().length;if(p>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(p!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var g=i(m);if(g===0)throw new Error("Sum of elements in second object must be non zero");var v=n(f,i(f)),E=n(m,i(m)),y=i(a(v,o(l(v,E),D=>u(D))));return s(y)?y:Number.NaN}});var PO="multinomial",EZ=["typed","add","divide","multiply","factorial","isInteger","isPositive"],hb=S(PO,EZ,t=>{var{typed:e,add:r,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:l}=t;return e(PO,{"Array | Matrix":function(s){var c=0,f=1;return pn(s,function(m){if(!o(m)||!l(m))throw new TypeError("Positive integer value expected in function multinomial");c=r(c,m),f=i(f,a(m))}),n(a(c),f)}})});var LO="permutations",CZ=["typed","factorial"],gb=S(LO,CZ,t=>{var{typed:e,factorial:r}=t;return e(LO,{"number | BigNumber":r,"number, number":function(i,a){if(!He(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!He(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return jn(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,l;if(!qO(i)||!qO(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var u=i.mul(0).add(1);for(o=u,l=i.minus(a).plus(1);l.lte(i);l=l.plus(1))o=o.times(l);return o}})});function qO(t){return t.isInteger()&&t.gte(0)}var Eb=xr(t4(),1),TZ=(0,Eb.default)(Date.now());function fa(t){var e;function r(i){e=i===null?TZ:(0,Eb.default)(String(i))}r(t);function n(){return e()}return n}var r4="pickRandom",IZ=["typed","config","?on"],Cb=S(r4,IZ,t=>{var{typed:e,config:r,on:n}=t,i=fa(r.randomSeed);return n&&n("config",function(o,l){o.randomSeed!==l.randomSeed&&(i=fa(o.randomSeed))}),e(r4,{"Array | Matrix":function(l){return a(l,{})},"Array | Matrix, Object":function(l,u){return a(l,u)},"Array | Matrix, number":function(l,u){return a(l,{number:u})},"Array | Matrix, Array | Matrix":function(l,u){return a(l,{weights:u})},"Array | Matrix, Array | Matrix, number":function(l,u,s){return a(l,{number:s,weights:u})},"Array | Matrix, number, Array | Matrix":function(l,u,s){return a(l,{number:u,weights:s})}});function a(o,l){var{number:u,weights:s,elementWise:c=!0}=l,f=typeof u=="undefined";f&&(u=1);var m=Ge(o)?o.create:Ge(s)?s.create:null;o=o.valueOf(),s&&(s=s.valueOf()),c===!0&&(o=dt(o),s=dt(s));var p=0;if(typeof s!="undefined"){if(s.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=s.length;h<d;h++){if(!it(s[h])||s[h]<0)throw new Error("Weights must be an array of positive numbers");p+=s[h]}}for(var g=o.length,v=[],E;v.length<u;){if(typeof s=="undefined")E=o[Math.floor(i()*g)];else for(var y=i()*p,D=0,b=o.length;D<b;D++)if(y-=s[D],y<0){E=o[D];break}v.push(E)}return f?v[0]:m?m(v):v}});function sl(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,i=t.shift();n<i;n++)r.push(sl(t,e));else for(var a=0,o=t.shift();a<o;a++)r.push(e());return r}var n4="random",BZ=["typed","config","?on"],Fb=S(n4,BZ,t=>{var{typed:e,config:r,on:n}=t,i=fa(r.randomSeed);return n&&n("config",function(l,u){l.randomSeed!==u.randomSeed&&(i=fa(l.randomSeed))}),e(n4,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,u)=>o(l,u),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,u)=>a(l,0,u),"Array | Matrix, number, number":(l,u,s)=>a(l,u,s)});function a(l,u,s){var c=sl(l.valueOf(),()=>o(u,s));return Ge(l)?l.create(c):c}function o(l,u){return l+i()*(u-l)}});var i4="randomInt",OZ=["typed","config","?on"],Ab=S(i4,OZ,t=>{var{typed:e,config:r,on:n}=t,i=fa(r.randomSeed);return n&&n("config",function(l,u){l.randomSeed!==u.randomSeed&&(i=fa(l.randomSeed))}),e(i4,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,u)=>o(l,u),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,u)=>a(l,0,u),"Array | Matrix, number, number":(l,u,s)=>a(l,u,s)});function a(l,u,s){var c=sl(l.valueOf(),()=>o(u,s));return Ge(l)?l.create(c):c}function o(l,u){return Math.floor(l+i()*(u-l))}});var a4="stirlingS2",kZ=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Sb=S(a4,kZ,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:l,combinations:u,isNegative:s,isInteger:c,number:f,bignumber:m,larger:p}=t,h=[],d=[];return e(a4,{"number | BigNumber, number | BigNumber":function(v,E){if(!c(v)||s(v)||!c(E)||s(E))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(E,v))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(it(v)&&it(E)),D=y?d:h,b=y?m:f,x=f(v),C=f(E);if(D[x]&&D[x].length>C)return D[x][C];for(var A=0;A<=x;++A)if(D[A]||(D[A]=[b(A===0?1:0)]),A!==0)for(var w=D[A],F=D[A-1],M=w.length;M<=A&&M<=C;++M)M===A?w[M]=1:w[M]=r(i(b(M),F[M]),F[M-1]);return D[x][C]}})});var o4="bellNumbers",RZ=["typed","addScalar","isNegative","isInteger","stirlingS2"],Nb=S(o4,RZ,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:i,stirlingS2:a}=t;return e(o4,{"number | BigNumber":function(l){if(!i(l)||n(l))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var u=0,s=0;s<=l;s++)u=r(u,a(l,s));return u}})});var s4="catalan",PZ=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],_b=S(s4,PZ,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:l}=t;return e(s4,{"number | BigNumber":function(s){if(!l(s)||o(s))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(s,2),s),r(s,1))}})});var u4="composition",LZ=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Mb=S(u4,LZ,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:l}=t;return e(u4,{"number | BigNumber, number | BigNumber":function(s,c){if(!o(s)||!i(s)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(l(c,s))throw new TypeError("k must be less than or equal to n in function composition");return n(r(s,-1),r(c,-1))}})});var l4="leafCount",qZ=["parse","typed"],Tb=S(l4,qZ,t=>{var{parse:e,typed:r}=t;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return r(l4,{Node:function(a){return n(a)}})});function Ib(t){return vt(t)||ar(t)&&t.isUnary()&&vt(t.args[0])}function ul(t){return!!(vt(t)||(An(t)||ar(t))&&t.args.every(ul)||on(t)&&ul(t.content))}function c4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(r),!0).forEach(function(n){Tt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var VZ="simplifyUtil",UZ=["FunctionNode","OperatorNode","SymbolNode"],Os=S(VZ,UZ,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,i=!0,a=!1,o="defaultF",l={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},u={divide:{total:a},log:{total:a}},s={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(y,D){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l,x=o;if(typeof y=="string"?x=y:ar(y)?x=y.fn.toString():An(y)?x=y.name:on(y)&&(x="paren"),je(b,x)){var C=b[x];if(je(C,D))return C[D];if(je(l,x))return l[x][D]}if(je(b,o)){var A=b[o];return je(A,D)?A[D]:l[o][D]}if(je(l,x)){var w=l[x];if(je(w,D))return w[D]}return l[o][D]}function f(y){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(y,"commutative",D)}function m(y){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(y,"associative",D)}function p(y,D){var b=Bb({},y);for(var x in D)je(y,x)?b[x]=Bb(Bb({},D[x]),y[x]):b[x]=D[x];return b}function h(y,D){if(!y.args||y.args.length===0)return y;y.args=d(y,D);for(var b=0;b<y.args.length;b++)h(y.args[b],D)}function d(y,D){var b,x=[],C=function A(w){for(var F=0;F<w.args.length;F++){var M=w.args[F];ar(M)&&b===M.op?A(M):x.push(M)}};return m(y,D)?(b=y.op,C(y),x):y.args}function g(y,D){if(!(!y.args||y.args.length===0)){for(var b=E(y),x=y.args.length,C=0;C<x;C++)g(y.args[C],D);if(x>2&&m(y,D)){for(var A=y.args.pop();y.args.length>0;)A=b([y.args.pop(),A]);y.args=A.args}}}function v(y,D){if(!(!y.args||y.args.length===0)){for(var b=E(y),x=y.args.length,C=0;C<x;C++)v(y.args[C],D);if(x>2&&m(y,D)){for(var A=y.args.shift();y.args.length>0;)A=b([A,y.args.shift()]);y.args=A.args}}}function E(y){return ar(y)?function(D){try{return new r(y.op,y.fn,D,y.implicit)}catch(b){return console.error(b),[]}}:function(D){return new e(new n(y.name),D)}}return{createMakeNodeFunction:E,hasProperty:c,isCommutative:f,isAssociative:m,mergeContext:p,flatten:h,allChildren:d,unflattenr:g,unflattenl:v,defaultContext:l,realContext:u,positiveContext:s}});var zZ="simplify",WZ=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Ob=S(zZ,WZ,t=>{var{config:e,typed:r,parse:n,add:i,subtract:a,multiply:o,divide:l,pow:u,isZero:s,equal:c,resolve:f,simplifyConstant:m,simplifyCore:p,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:E,ArrayNode:y,ConstantNode:D,FunctionNode:b,IndexNode:x,ObjectNode:C,OperatorNode:A,ParenthesisNode:w,SymbolNode:F}=t,{hasProperty:M,isCommutative:B,isAssociative:k,mergeContext:R,flatten:P,unflattenr:T,unflattenl:I,createMakeNodeFunction:V,defaultContext:O,realContext:Y,positiveContext:$}=Os({FunctionNode:b,OperatorNode:A,SymbolNode:F});r.addConversion({from:"Object",to:"Map",convert:oa});var W=r("simplify",{Node:ue,"Node, Map":(H,K)=>ue(H,!1,K),"Node, Map, Object":(H,K,re)=>ue(H,!1,K,re),"Node, Array":ue,"Node, Array, Map":ue,"Node, Array, Map, Object":ue});r.removeConversion({from:"Object",to:"Map",convert:oa}),W.defaultContext=O,W.realContext=Y,W.positiveContext=$;function q(H){return H.transform(function(K,re,ye){return on(K)?q(K.content):K})}var te={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};W.rules=[p,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},m,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},m,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function ge(H,K){var re={};if(H.s){var ye=H.s.split("->");if(ye.length===2)re.l=ye[0],re.r=ye[1];else throw SyntaxError("Could not parse rule: "+H.s)}else re.l=H.l,re.r=H.r;re.l=q(n(re.l)),re.r=q(n(re.r));for(var ve of["imposeContext","repeat","assuming"])ve in H&&(re[ve]=H[ve]);if(H.evaluate&&(re.evaluate=n(H.evaluate)),k(re.l,K)){var Le=!B(re.l,K),Ce;Le&&(Ce=pe());var ft=V(re.l),pt=pe();re.expanded={},re.expanded.l=ft([re.l,pt]),P(re.expanded.l,K),T(re.expanded.l,K),re.expanded.r=ft([re.r,pt]),Le&&(re.expandedNC1={},re.expandedNC1.l=ft([Ce,re.l]),re.expandedNC1.r=ft([Ce,re.r]),re.expandedNC2={},re.expandedNC2.l=ft([Ce,re.expanded.l]),re.expandedNC2.r=ft([Ce,re.expanded.r]))}return re}function ae(H,K){for(var re=[],ye=0;ye<H.length;ye++){var ve=H[ye],Le=void 0,Ce=typeof ve;switch(Ce){case"string":ve={s:ve};case"object":Le=ge(ve,K);break;case"function":Le=ve;break;default:throw TypeError("Unsupported type of rule: "+Ce)}re.push(Le)}return re}var ce=0;function pe(){return new F("_p"+ce++)}function ue(H,K){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wi(),ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ve=ye.consoleDebug;K=ae(K||W.rules,ye.context);var Le=f(H,re);Le=q(Le);for(var Ce={},ft=Le.toString({parenthesis:"all"});!Ce[ft];){Ce[ft]=!0,ce=0;var pt=ft;ve&&console.log("Working on: ",ft);for(var St=0;St<K.length;St++){var qt="";if(typeof K[St]=="function"?(Le=K[St](Le,ye),ve&&(qt=K[St].name)):(P(Le,ye.context),Le=me(Le,K[St],ye.context),ve&&(qt="".concat(K[St].l.toString()," -> ").concat(K[St].r.toString()))),ve){var G=Le.toString({parenthesis:"all"});G!==pt&&(console.log("Applying",qt,"produced",G),pt=G)}I(Le,ye.context)}ft=Le.toString({parenthesis:"all"})}return Le}function ne(H,K,re){var ye=H;if(H)for(var ve=0;ve<H.length;++ve){var Le=me(H[ve],K,re);Le!==H[ve]&&(ye===H&&(ye=H.slice()),ye[ve]=Le)}return ye}function me(H,K,re){if(K.assuming){for(var ye in K.assuming)for(var ve in K.assuming[ye])if(M(ye,ve,re)!==K.assuming[ye][ve])return H}var Le=R(K.imposeContext,re),Ce=H;if(Ce instanceof A||Ce instanceof b){var ft=ne(Ce.args,K,re);ft!==Ce.args&&(Ce=Ce.clone(),Ce.args=ft)}else if(Ce instanceof w){if(Ce.content){var pt=me(Ce.content,K,re);pt!==Ce.content&&(Ce=new w(pt))}}else if(Ce instanceof y){var St=ne(Ce.items,K,re);St!==Ce.items&&(Ce=new y(St))}else if(Ce instanceof E){var qt=Ce.object;Ce.object&&(qt=me(Ce.object,K,re));var G=Ce.index;Ce.index&&(G=me(Ce.index,K,re)),(qt!==Ce.object||G!==Ce.index)&&(Ce=new E(qt,G))}else if(Ce instanceof x){var oe=ne(Ce.dimensions,K,re);oe!==Ce.dimensions&&(Ce=new x(oe))}else if(Ce instanceof C){var de=!1,we={};for(var Ne in Ce.properties)we[Ne]=me(Ce.properties[Ne],K,re),we[Ne]!==Ce.properties[Ne]&&(de=!0);de&&(Ce=new C(we))}var Ee=K.r,Ae=j(K.l,Ce,Le)[0];if(!Ae&&K.expanded&&(Ee=K.expanded.r,Ae=j(K.expanded.l,Ce,Le)[0]),!Ae&&K.expandedNC1&&(Ee=K.expandedNC1.r,Ae=j(K.expandedNC1.l,Ce,Le)[0],Ae||(Ee=K.expandedNC2.r,Ae=j(K.expandedNC2.l,Ce,Le)[0])),Ae){var Pe=Ce.implicit;Ce=Ee.clone(),Pe&&"implicit"in Ee&&(Ce.implicit=!0),Ce=Ce.transform(function(_){return _.isSymbolNode&&je(Ae.placeholders,_.name)?Ae.placeholders[_.name].clone():_})}return K.repeat&&Ce!==H&&(Ce=me(Ce,K,re)),Ce}function be(H,K){var re=[],ye,ve,Le=V(H);if(B(H,K))for(var Ce=0;Ce<H.args.length;Ce++)ve=H.args.slice(0),ve.splice(Ce,1),ye=ve.length===1?ve[0]:Le(ve),re.push(Le([H.args[Ce],ye]));else for(var ft=1;ft<H.args.length;ft++){var pt=H.args[0];ft>1&&(pt=Le(H.args.slice(0,ft))),ve=H.args.slice(ft),ye=ve.length===1?ve[0]:Le(ve),re.push(Le([pt,ye]))}return re}function Be(H,K){var re={placeholders:{}};if(!H.placeholders&&!K.placeholders)return re;if(H.placeholders){if(!K.placeholders)return H}else return K;for(var ye in H.placeholders)if(je(H.placeholders,ye)&&(re.placeholders[ye]=H.placeholders[ye],je(K.placeholders,ye)&&!fe(H.placeholders[ye],K.placeholders[ye])))return null;for(var ve in K.placeholders)je(K.placeholders,ve)&&(re.placeholders[ve]=K.placeholders[ve]);return re}function We(H,K){var re=[];if(H.length===0||K.length===0)return re;for(var ye,ve=0;ve<H.length;ve++)for(var Le=0;Le<K.length;Le++)ye=Be(H[ve],K[Le]),ye&&re.push(ye);return re}function z(H){if(H.length===0)return H;for(var K=H.reduce(We),re=[],ye={},ve=0;ve<K.length;ve++){var Le=JSON.stringify(K[ve]);ye[Le]||(ye[Le]=!0,re.push(K[ve]))}return re}function j(H,K,re,ye){var ve=[{placeholders:{}}];if(H instanceof A&&K instanceof A||H instanceof b&&K instanceof b){if(H instanceof A){if(H.op!==K.op||H.fn!==K.fn)return[]}else if(H instanceof b&&H.name!==K.name)return[];if(K.args.length===1&&H.args.length===1||!k(K,re)&&K.args.length===H.args.length||ye){for(var Le=[],Ce=0;Ce<H.args.length;Ce++){var ft=j(H.args[Ce],K.args[Ce],re);if(ft.length===0)break;Le.push(ft)}if(Le.length!==H.args.length){if(!B(K,re)||H.args.length===1)return[];if(H.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var pt=j(H.args[0],K.args[1],re);if(pt.length===0)return[];var St=j(H.args[1],K.args[0],re);if(St.length===0)return[];Le=[pt,St]}ve=z(Le)}else if(K.args.length>=2&&H.args.length===2){for(var qt=be(K,re),G=[],oe=0;oe<qt.length;oe++){var de=j(H,qt[oe],re,!0);G=G.concat(de)}return G}else{if(H.args.length>2)throw Error("Unexpected non-binary associative function: "+H.toString());return[]}}else if(H instanceof F){if(H.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(te[H.name]){if(H.name!==K.name)return[]}else switch(H.name[1]>="a"&&H.name[1]<="z"?H.name.substring(0,2):H.name[0]){case"n":case"_p":ve[0].placeholders[H.name]=K;break;case"c":case"cl":if(vt(K))ve[0].placeholders[H.name]=K;else return[];break;case"v":if(!vt(K))ve[0].placeholders[H.name]=K;else return[];break;case"vl":if(Zt(K))ve[0].placeholders[H.name]=K;else return[];break;case"cd":if(Ib(K))ve[0].placeholders[H.name]=K;else return[];break;case"vd":if(!Ib(K))ve[0].placeholders[H.name]=K;else return[];break;case"ce":if(ul(K))ve[0].placeholders[H.name]=K;else return[];break;case"ve":if(!ul(K))ve[0].placeholders[H.name]=K;else return[];break;default:throw new Error("Invalid symbol in rule: "+H.name)}}else if(H instanceof D){if(!c(H.value,K.value))return[]}else return[];return ve}function fe(H,K){if(H instanceof D&&K instanceof D){if(!c(H.value,K.value))return!1}else if(H instanceof F&&K instanceof F){if(H.name!==K.name)return!1}else if(H instanceof A&&K instanceof A||H instanceof b&&K instanceof b){if(H instanceof A){if(H.op!==K.op||H.fn!==K.fn)return!1}else if(H instanceof b&&H.name!==K.name)return!1;if(H.args.length!==K.args.length)return!1;for(var re=0;re<H.args.length;re++)if(!fe(H.args[re],K.args[re]))return!1}else return!1;return!0}return W});var HZ="simplifyConstant",GZ=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],kb=S(HZ,GZ,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:l,ArrayNode:u,ConstantNode:s,FunctionNode:c,IndexNode:f,ObjectNode:m,OperatorNode:p,SymbolNode:h}=t,{isCommutative:d,isAssociative:g,allChildren:v,createMakeNodeFunction:E}=Os({FunctionNode:c,OperatorNode:p,SymbolNode:h}),y=e("simplifyConstant",{Node:P=>C(R(P,{})),"Node, Object":function(T,I){return C(R(T,I))}});function D(P){return ia(P)?P.valueOf():P instanceof Array?P.map(D):Ge(P)?i(D(P.valueOf())):P}function b(P,T,I){try{return n[P].apply(null,T)}catch(V){return T=T.map(D),w(n[P].apply(null,T),I)}}var x=e({Fraction:M,number:function(T){return T<0?F(new s(-T)):new s(T)},BigNumber:function(T){return T<0?F(new s(-T)):new s(T)},Complex:function(T){throw new Error("Cannot convert Complex number to Node")},string:function(T){return new s(T)},Matrix:function(T){return new u(T.valueOf().map(I=>x(I)))}});function C(P){return yt(P)?P:x(P)}function A(P,T){var I=T&&T.exactFractions!==!1;if(I&&isFinite(P)&&a){var V=a(P),O=T&&typeof T.fractionsLimit=="number"?T.fractionsLimit:1/0;if(V.valueOf()===P&&V.n<O&&V.d<O)return V}return P}var w=e({"string, Object":function(T,I){if(r.number==="BigNumber")return o===void 0&&Ns(),o(T);if(r.number==="Fraction")return a===void 0&&Gf(),a(T);var V=parseFloat(T);return A(V,I)},"Fraction, Object":function(T,I){return T},"BigNumber, Object":function(T,I){return T},"number, Object":function(T,I){return A(T,I)},"Complex, Object":function(T,I){return T.im!==0?T:A(T.re,I)},"Matrix, Object":function(T,I){return i(A(T.valueOf()))},"Array, Object":function(T,I){return T.map(A)}});function F(P){return new p("-","unaryMinus",[P])}function M(P){var T,I=P.s*P.n;return I<0?T=new p("-","unaryMinus",[new s(-I)]):T=new s(I),P.d===1?T:new p("/","divide",[T,new s(P.d)])}function B(P,T,I){if(!ai(T))return new l(C(P),C(T));if(an(P)||Ge(P)){for(var V=Array.from(T.dimensions);V.length>0;)if(vt(V[0])&&typeof V[0].value!="string"){var O=w(V.shift().value,I);an(P)?P=P.items[O-1]:(P=P.valueOf()[O-1],P instanceof Array&&(P=i(P)))}else if(V.length>1&&vt(V[1])&&typeof V[1].value!="string"){var Y=w(V[1].value,I),$=[],W=an(P)?P.items:P.valueOf();for(var q of W)if(an(q))$.push(q.items[Y-1]);else if(Ge(P))$.push(q[Y-1]);else break;if($.length===W.length)an(P)?P=new u($):P=i($),V.splice(1,1);else break}else break;return V.length===T.dimensions.length?new l(C(P),T):V.length>0?(T=new f(V),new l(C(P),T)):P}if(ka(P)&&T.dimensions.length===1&&vt(T.dimensions[0])){var te=T.dimensions[0].value;return te in P.properties?P.properties[te]:new s}return new l(C(P),T)}function k(P,T,I,V){var O=T.shift(),Y=T.reduce(($,W)=>{if(!yt(W)){var q=$.pop();if(yt(q))return[q,W];try{return $.push(b(P,[q,W],V)),$}catch(ge){$.push(q)}}$.push(C($.pop()));var te=$.length===1?$[0]:I($);return[I([te,C(W)])]},[O]);return Y.length===1?Y[0]:I([Y[0],x(Y[1])])}function R(P,T){switch(P.type){case"SymbolNode":return P;case"ConstantNode":switch(typeof P.value){case"number":return w(P.value,T);case"string":return P.value;default:if(!isNaN(P.value))return w(P.value,T)}return P;case"FunctionNode":if(n[P.name]&&n[P.name].rawArgs)return P;{var I=["add","multiply"];if(I.indexOf(P.name)===-1){var V=P.args.map(me=>R(me,T));if(!V.some(yt))try{return b(P.name,V,T)}catch(me){}if(P.name==="size"&&V.length===1&&an(V[0])){for(var O=[],Y=V[0];an(Y);)O.push(Y.items.length),Y=Y.items[0];return i(O)}return new c(P.name,V.map(C))}}case"OperatorNode":{var $=P.fn.toString(),W,q,te=E(P);if(ar(P)&&P.isUnary())W=[R(P.args[0],T)],yt(W[0])?q=te(W):q=b($,W,T);else if(g(P,T.context))if(W=v(P,T.context),W=W.map(me=>R(me,T)),d($,T.context)){for(var ge=[],ae=[],ce=0;ce<W.length;ce++)yt(W[ce])?ae.push(W[ce]):ge.push(W[ce]);ge.length>1?(q=k($,ge,te,T),ae.unshift(q),q=k($,ae,te,T)):q=k($,W,te,T)}else q=k($,W,te,T);else W=P.args.map(me=>R(me,T)),q=k($,W,te,T);return q}case"ParenthesisNode":return R(P.content,T);case"AccessorNode":return B(R(P.object,T),R(P.index,T),T);case"ArrayNode":{var pe=P.items.map(me=>R(me,T));return pe.some(yt)?new u(pe.map(C)):i(pe)}case"IndexNode":return new f(P.dimensions.map(me=>y(me,T)));case"ObjectNode":{var ue={};for(var ne in P.properties)ue[ne]=y(P.properties[ne],T);return new m(ue)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(P.type))}}return y});var f4="simplifyCore",jZ=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Rb=S(f4,jZ,t=>{var{typed:e,parse:r,equal:n,isZero:i,add:a,subtract:o,multiply:l,divide:u,pow:s,AccessorNode:c,ArrayNode:f,ConstantNode:m,FunctionNode:p,IndexNode:h,ObjectNode:d,OperatorNode:g,ParenthesisNode:v,SymbolNode:E}=t,y=new m(0),D=new m(1),b=new m(!0),x=new m(!1);function C(M){return ar(M)&&["and","not","or"].includes(M.op)}var{hasProperty:A,isCommutative:w}=Os({FunctionNode:p,OperatorNode:g,SymbolNode:E});function F(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=B?B.context:void 0;if(A(M,"trivial",k)){if(An(M)&&M.args.length===1)return F(M.args[0],B);var R=!1,P=0;if(M.forEach(ae=>{++P,P===1&&(R=F(ae,B))}),P===1)return R}var T=M;if(An(T)){var I=lM(T.name);if(I){if(T.args.length>2&&A(T,"associative",k))for(;T.args.length>2;){var V=T.args.pop(),O=T.args.pop();T.args.push(new g(I,T.name,[V,O]))}T=new g(I,T.name,T.args)}else return new p(F(T.fn),T.args.map(ae=>F(ae,B)))}if(ar(T)&&T.isUnary()){var Y=F(T.args[0],B);if(T.op==="~"&&ar(Y)&&Y.isUnary()&&Y.op==="~"||T.op==="not"&&ar(Y)&&Y.isUnary()&&Y.op==="not"&&C(Y.args[0]))return Y.args[0];var $=!0;if(T.op==="-"&&ar(Y)&&(Y.isBinary()&&Y.fn==="subtract"&&(T=new g("-","subtract",[Y.args[1],Y.args[0]]),$=!1),Y.isUnary()&&Y.op==="-"))return Y.args[0];if($)return new g(T.op,T.fn,[Y])}if(ar(T)&&T.isBinary()){var W=F(T.args[0],B),q=F(T.args[1],B);if(T.op==="+"){if(vt(W)&&i(W.value))return q;if(vt(q)&&i(q.value))return W;ar(q)&&q.isUnary()&&q.op==="-"&&(q=q.args[0],T=new g("-","subtract",[W,q]))}if(T.op==="-")return ar(q)&&q.isUnary()&&q.op==="-"?F(new g("+","add",[W,q.args[0]]),B):vt(W)&&i(W.value)?F(new g("-","unaryMinus",[q])):vt(q)&&i(q.value)?W:new g(T.op,T.fn,[W,q]);if(T.op==="*"){if(vt(W)){if(i(W.value))return y;if(n(W.value,1))return q}if(vt(q)){if(i(q.value))return y;if(n(q.value,1))return W;if(w(T,k))return new g(T.op,T.fn,[q,W],T.implicit)}return new g(T.op,T.fn,[W,q],T.implicit)}if(T.op==="/")return vt(W)&&i(W.value)?y:vt(q)&&n(q.value,1)?W:new g(T.op,T.fn,[W,q]);if(T.op==="^"&&vt(q)){if(i(q.value))return D;if(n(q.value,1))return W}if(T.op==="and"){if(vt(W))if(W.value){if(C(q))return q}else return x;if(vt(q))if(q.value){if(C(W))return W}else return x}if(T.op==="or"){if(vt(W)){if(W.value)return b;if(C(q))return q}if(vt(q)){if(q.value)return b;if(C(W))return W}}return new g(T.op,T.fn,[W,q])}if(ar(T))return new g(T.op,T.fn,T.args.map(ae=>F(ae,B)));if(an(T))return new f(T.items.map(ae=>F(ae,B)));if(Gn(T))return new c(F(T.object,B),F(T.index,B));if(ai(T))return new h(T.dimensions.map(ae=>F(ae,B)));if(ka(T)){var te={};for(var ge in T.properties)te[ge]=F(T.properties[ge],B);return new d(te)}return T}return e(f4,{Node:F,"Node,Object":F})});var ZZ="resolve",YZ=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],Pb=S(ZZ,YZ,t=>{var{typed:e,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=t;function l(u,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!s)return u;if(Zt(u)){if(c.has(u.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var m=s.get(u.name);if(yt(m)){var p=new Set(c);return p.add(u.name),l(m,s,p)}else return typeof m=="number"?r(String(m)):m!==void 0?new n(m):u}else if(ar(u)){var h=u.args.map(function(g){return l(g,s,c)});return new a(u.op,u.fn,h,u.implicit)}else{if(on(u))return new o(l(u.content,s,c));if(An(u)){var d=u.args.map(function(g){return l(g,s,c)});return new i(u.name,d)}}return u.map(g=>l(g,s,c))}return e("resolve",{Node:l,"Node, Map | null | undefined":l,"Node, Object":(u,s)=>l(u,oa(s)),"Array | Matrix":e.referToSelf(u=>s=>s.map(c=>u(c))),"Array | Matrix, null | undefined":e.referToSelf(u=>s=>s.map(c=>u(c))),"Array, Object":e.referTo("Array,Map",u=>(s,c)=>u(s,oa(c))),"Matrix, Object":e.referTo("Matrix,Map",u=>(s,c)=>u(s,oa(c))),"Array | Matrix, Map":e.referToSelf(u=>(s,c)=>s.map(f=>u(f,c)))})});var m4="symbolicEqual",JZ=["parse","simplify","typed","OperatorNode"],Lb=S(m4,JZ,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:i}=t;function a(o,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new i("-","subtract",[o,l]),c=r(s,{},u);return vt(c)&&!c.value}return n(m4,{"Node, Node":a,"Node, Node, Object":a})});var p4="derivative",XZ=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],qb=S(p4,XZ,t=>{var{typed:e,config:r,parse:n,simplify:i,equal:a,isZero:o,numeric:l,ConstantNode:u,FunctionNode:s,OperatorNode:c,ParenthesisNode:f,SymbolNode:m}=t;function p(D,b){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},C={};g(C,D,b.name);var A=v(D,C);return x.simplify?i(A):A}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var h=e(p4,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),h._simplify=!0,h.toTex=function(D){return d.apply(null,D.args)};var d=e("_derivTex",{"Node, SymbolNode":function(b,x){return vt(b)&&Dt(b.value)==="string"?d(n(b.value).toString(),x.toString(),1):d(b.toTex(),x.toString(),1)},"Node, ConstantNode":function(b,x){if(Dt(x.value)==="string")return d(b,n(x.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(b,x,C){return d(b.toString(),x.name,C.value)},"string, string, number":function(b,x,C){var A;return C===1?A="{d\\over d"+x+"}":A="{d^{"+C+"}\\over d"+x+"^{"+C+"}}",A+"\\left[".concat(b,"\\right]")}}),g=e("constTag",{"Object, ConstantNode, string":function(b,x){return b[x]=!0,!0},"Object, SymbolNode, string":function(b,x,C){return x.name!==C?(b[x]=!0,!0):!1},"Object, ParenthesisNode, string":function(b,x,C){return g(b,x.content,C)},"Object, FunctionAssignmentNode, string":function(b,x,C){return x.params.indexOf(C)===-1?(b[x]=!0,!0):g(b,x.expr,C)},"Object, FunctionNode | OperatorNode, string":function(b,x,C){if(x.args.length>0){for(var A=g(b,x.args[0],C),w=1;w<x.args.length;++w)A=g(b,x.args[w],C)&&A;if(A)return b[x]=!0,!0}return!1}}),v=e("_derivative",{"ConstantNode, Object":function(b){return y(0)},"SymbolNode, Object":function(b,x){return x[b]!==void 0?y(0):y(1)},"ParenthesisNode, Object":function(b,x){return new f(v(b.content,x))},"FunctionAssignmentNode, Object":function(b,x){return x[b]!==void 0?y(0):v(b.expr,x)},"FunctionNode, Object":function(b,x){if(b.args.length!==1&&E(b),x[b]!==void 0)return y(0);var C=b.args[0],A,w=!1,F=!1,M;switch(b.name){case"cbrt":w=!0,M=new c("*","multiply",[y(3),new c("^","pow",[C,new c("/","divide",[y(2),y(3)])])]);break;case"sqrt":case"nthRoot":if(b.args.length===1)w=!0,M=new c("*","multiply",[y(2),new s("sqrt",[C])]);else if(b.args.length===2)return A=new c("/","divide",[y(1),b.args[1]]),x[A]=x[b.args[1]],v(new c("^","pow",[C,A]),x);break;case"log10":A=y(10);case"log":if(!A&&b.args.length===1)M=C.clone(),w=!0;else if(b.args.length===1&&A||b.args.length===2&&x[b.args[1]]!==void 0)M=new c("*","multiply",[C.clone(),new s("log",[A||b.args[1]])]),w=!0;else if(b.args.length===2)return v(new c("/","divide",[new s("log",[C]),new s("log",[b.args[1]])]),x);break;case"pow":return x[A]=x[b.args[1]],v(new c("^","pow",[C,b.args[1]]),x);case"exp":M=new s("exp",[C.clone()]);break;case"sin":M=new s("cos",[C.clone()]);break;case"cos":M=new c("-","unaryMinus",[new s("sin",[C.clone()])]);break;case"tan":M=new c("^","pow",[new s("sec",[C.clone()]),y(2)]);break;case"sec":M=new c("*","multiply",[b,new s("tan",[C.clone()])]);break;case"csc":F=!0,M=new c("*","multiply",[b,new s("cot",[C.clone()])]);break;case"cot":F=!0,M=new c("^","pow",[new s("csc",[C.clone()]),y(2)]);break;case"asin":w=!0,M=new s("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])])]);break;case"acos":w=!0,F=!0,M=new s("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])])]);break;case"atan":w=!0,M=new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)]);break;case"asec":w=!0,M=new c("*","multiply",[new s("abs",[C.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),y(2)]),y(1)])])]);break;case"acsc":w=!0,F=!0,M=new c("*","multiply",[new s("abs",[C.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),y(2)]),y(1)])])]);break;case"acot":w=!0,F=!0,M=new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)]);break;case"sinh":M=new s("cosh",[C.clone()]);break;case"cosh":M=new s("sinh",[C.clone()]);break;case"tanh":M=new c("^","pow",[new s("sech",[C.clone()]),y(2)]);break;case"sech":F=!0,M=new c("*","multiply",[b,new s("tanh",[C.clone()])]);break;case"csch":F=!0,M=new c("*","multiply",[b,new s("coth",[C.clone()])]);break;case"coth":F=!0,M=new c("^","pow",[new s("csch",[C.clone()]),y(2)]);break;case"asinh":w=!0,M=new s("sqrt",[new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)])]);break;case"acosh":w=!0,M=new s("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),y(2)]),y(1)])]);break;case"atanh":w=!0,M=new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])]);break;case"asech":w=!0,F=!0,M=new c("*","multiply",[C.clone(),new s("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])])])]);break;case"acsch":w=!0,F=!0,M=new c("*","multiply",[new s("abs",[C.clone()]),new s("sqrt",[new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)])])]);break;case"acoth":w=!0,F=!0,M=new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])]);break;case"abs":M=new c("/","divide",[new s(new m("abs"),[C.clone()]),C.clone()]);break;case"gamma":default:throw new Error('Function "'+b.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var B,k;w?(B="/",k="divide"):(B="*",k="multiply");var R=v(C,x);return F&&(R=new c("-","unaryMinus",[R])),new c(B,k,[R,M])},"OperatorNode, Object":function(b,x){if(x[b]!==void 0)return y(0);if(b.op==="+")return new c(b.op,b.fn,b.args.map(function(T){return v(T,x)}));if(b.op==="-"){if(b.isUnary())return new c(b.op,b.fn,[v(b.args[0],x)]);if(b.isBinary())return new c(b.op,b.fn,[v(b.args[0],x),v(b.args[1],x)])}if(b.op==="*"){var C=b.args.filter(function(T){return x[T]!==void 0});if(C.length>0){var A=b.args.filter(function(T){return x[T]===void 0}),w=A.length===1?A[0]:new c("*","multiply",A),F=C.concat(v(w,x));return new c("*","multiply",F)}return new c("+","add",b.args.map(function(T){return new c("*","multiply",b.args.map(function(I){return I===T?v(I,x):I.clone()}))}))}if(b.op==="/"&&b.isBinary()){var M=b.args[0],B=b.args[1];return x[B]!==void 0?new c("/","divide",[v(M,x),B]):x[M]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[M]),new c("/","divide",[v(B,x),new c("^","pow",[B.clone(),y(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[v(M,x),B.clone()]),new c("*","multiply",[M.clone(),v(B,x)])]),new c("^","pow",[B.clone(),y(2)])])}if(b.op==="^"&&b.isBinary()){var k=b.args[0],R=b.args[1];if(x[k]!==void 0)return vt(k)&&(o(k.value)||a(k.value,1))?y(0):new c("*","multiply",[b,new c("*","multiply",[new s("log",[k.clone()]),v(R.clone(),x)])]);if(x[R]!==void 0){if(vt(R)){if(o(R.value))return y(0);if(a(R.value,1))return v(k,x)}var P=new c("^","pow",[k.clone(),new c("-","subtract",[R,y(1)])]);return new c("*","multiply",[R.clone(),new c("*","multiply",[v(k,x),P])])}return new c("*","multiply",[new c("^","pow",[k.clone(),R.clone()]),new c("+","add",[new c("*","multiply",[v(k,x),new c("/","divide",[R.clone(),k.clone()])]),new c("*","multiply",[v(R,x),new s("log",[k.clone()])])])])}throw new Error('Operator "'+b.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function E(D){if(!((D.name==="log"||D.name==="nthRoot"||D.name==="pow")&&D.args.length===2)){for(var b=0;b<D.args.length;++b)D.args[b]=y(0);throw D.compile().evaluate(),new Error('Function "'+D.name+'" is not supported by derivative, or a wrong number of arguments is passed')}}function y(D,b){return new u(l(D,b||r.number))}return h});var d4="rationalize",QZ=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Vb=S(d4,QZ,t=>{var{config:e,typed:r,equal:n,isZero:i,add:a,subtract:o,multiply:l,divide:u,pow:s,parse:c,simplifyConstant:f,simplifyCore:m,simplify:p,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:E,ArrayNode:y,ConstantNode:D,FunctionNode:b,IndexNode:x,ObjectNode:C,OperatorNode:A,SymbolNode:w,ParenthesisNode:F}=t;function M(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=k(),Y=B(T,I,!0,O.firstRules),$=Y.variables.length,W={exactFractions:!1},q={exactFractions:!0};if(T=Y.expression,$>=1){T=R(T);var te,ge,ae=!0,ce=!1;T=p(T,O.firstRules,{},W);for(var pe;ge=ae?O.distrDivRules:O.sucDivRules,T=p(T,ge,{},q),ae=!ae,pe=T.toString(),pe!==te;)ce=!0,te=pe;ce&&(T=p(T,O.firstRulesAgain,{},W)),T=p(T,O.finalRules,{},W)}var ue=[],ne={};return T.type==="OperatorNode"&&T.isBinary()&&T.op==="/"?($===1&&(T.args[0]=P(T.args[0],ue),T.args[1]=P(T.args[1])),V&&(ne.numerator=T.args[0],ne.denominator=T.args[1])):($===1&&(T=P(T,ue)),V&&(ne.numerator=T,ne.denominator=null)),V?(ne.coefficients=ue,ne.variables=Y.variables,ne.expression=T,ne):T}return r(d4,{Node:M,"Node, boolean":(T,I)=>M(T,{},I),"Node, Object":M,"Node, Object, boolean":M});function B(T,I,V,O){var Y=[],$=p(T,O,I,{exactFractions:!1});V=!!V;var W="+-*"+(V?"/":"");te($);var q={};return q.expression=$,q.variables=Y,q;function te(ge){var ae=ge.type;if(ae==="FunctionNode")throw new Error("There is an unsolved function call");if(ae==="OperatorNode")if(ge.op==="^"){if(ge.args[1].type!=="ConstantNode"||!He(parseFloat(ge.args[1].value)))throw new Error("There is a non-integer exponent");te(ge.args[0])}else{if(W.indexOf(ge.op)===-1)throw new Error("Operator "+ge.op+" invalid in polynomial expression");for(var ce=0;ce<ge.args.length;ce++)te(ge.args[ce])}else if(ae==="SymbolNode"){var pe=ge.name,ue=Y.indexOf(pe);ue===-1&&Y.push(pe)}else if(ae==="ParenthesisNode")te(ge.content);else if(ae!=="ConstantNode")throw new Error("type "+ae+" is not allowed in polynomial expression")}}function k(){var T=[m,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],I=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],V=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],O=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],Y={};return Y.firstRules=T.concat(I,O),Y.distrDivRules=V,Y.sucDivRules=O,Y.firstRulesAgain=T.concat(I),Y.finalRules=[m,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],Y}function R(T,I,V){var O=T.type,Y=arguments.length>1;if(O==="OperatorNode"&&T.isBinary()){var $=!1,W;if(T.op==="^"&&(T.args[0].type==="ParenthesisNode"||T.args[0].type==="OperatorNode")&&T.args[1].type==="ConstantNode"&&(W=parseFloat(T.args[1].value),$=W>=2&&He(W)),$){if(W>2){var q=T.args[0],te=new A("^","pow",[T.args[0].cloneDeep(),new D(W-1)]);T=new A("*","multiply",[q,te])}else T=new A("*","multiply",[T.args[0],T.args[0].cloneDeep()]);Y&&(V==="content"?I.content=T:I.args[V]=T)}}if(O==="ParenthesisNode")R(T.content,T,"content");else if(O!=="ConstantNode"&&O!=="SymbolNode")for(var ge=0;ge<T.args.length;ge++)R(T.args[ge],T,ge);if(!Y)return T}function P(T,I){I===void 0&&(I=[]),I[0]=0;var V={};V.cte=1,V.oper="+",V.fire="";var O=0,Y="";pe(T,null,V),O=I.length-1;for(var $=!0,W,q=O;q>=0;q--)if(I[q]!==0){var te=new D($?I[q]:Math.abs(I[q])),ge=I[q]<0?"-":"+";if(q>0){var ae=new w(Y);if(q>1){var ce=new D(q);ae=new A("^","pow",[ae,ce])}I[q]===-1&&$?te=new A("-","unaryMinus",[ae]):Math.abs(I[q])===1?te=ae:te=new A("*","multiply",[te,ae])}$?W=te:ge==="+"?W=new A("+","add",[W,te]):W=new A("-","subtract",[W,te]),$=!1}if($)return new D(0);return W;function pe(ue,ne,me){var be=ue.type;if(be==="FunctionNode")throw new Error("There is an unsolved function call");if(be==="OperatorNode"){if("+-*^".indexOf(ue.op)===-1)throw new Error("Operator "+ue.op+" invalid");if(ne!==null){if((ue.fn==="unaryMinus"||ue.fn==="pow")&&ne.fn!=="add"&&ne.fn!=="subtract"&&ne.fn!=="multiply")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="multiply")&&ne.fn!=="add"&&ne.fn!=="subtract")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="unaryMinus")&&me.noFil!==0)throw new Error("Invalid "+ue.op+" placing")}(ue.op==="^"||ue.op==="*")&&(me.fire=ue.op);for(var Be=0;Be<ue.args.length;Be++)ue.fn==="unaryMinus"&&(me.oper="-"),(ue.op==="+"||ue.fn==="subtract")&&(me.fire="",me.cte=1,me.oper=Be===0?"+":ue.op),me.noFil=Be,pe(ue.args[Be],ue,me)}else if(be==="SymbolNode"){if(ue.name!==Y&&Y!=="")throw new Error("There is more than one variable");if(Y=ue.name,ne===null){I[1]=1;return}if(ne.op==="^"&&me.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ne.op==="*"&&me.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(me.fire===""||me.fire==="*")&&(O<1&&(I[1]=0),I[1]+=me.cte*(me.oper==="+"?1:-1),O=Math.max(1,O))}else if(be==="ConstantNode"){var We=parseFloat(ue.value);if(ne===null){I[0]=We;return}if(ne.op==="^"){if(me.noFil!==1)throw new Error("Constant cannot be powered");if(!He(We)||We<=0)throw new Error("Non-integer exponent is not allowed");for(var z=O+1;z<We;z++)I[z]=0;We>O&&(I[We]=0),I[We]+=me.cte*(me.oper==="+"?1:-1),O=Math.max(We,O);return}me.cte=We,me.fire===""&&(I[0]+=me.cte*(me.oper==="+"?1:-1))}else throw new Error("Type "+be+" is not allowed")}}});var h4="zpk2tf",KZ=["typed","add","multiply","Complex","number"],Ub=S(h4,KZ,t=>{var{typed:e,add:r,multiply:n,Complex:i,number:a}=t;return e(h4,{"Array,Array,number":function(s,c,f){return o(s,c,f)},"Array,Array":function(s,c){return o(s,c,1)},"Matrix,Matrix,number":function(s,c,f){return o(s.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(s,c){return o(s.valueOf(),c.valueOf(),1)}});function o(u,s,c){u.some(E=>E.type==="BigNumber")&&(u=u.map(E=>a(E))),s.some(E=>E.type==="BigNumber")&&(s=s.map(E=>a(E)));for(var f=[i(1,0)],m=[i(1,0)],p=0;p<u.length;p++){var h=u[p];typeof h=="number"&&(h=i(h,0)),f=l(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<s.length;d++){var g=s[d];typeof g=="number"&&(g=i(g,0)),m=l(m,[i(1,0),i(-g.re,-g.im)])}for(var v=0;v<f.length;v++)f[v]=n(f[v],c);return[f,m]}function l(u,s){for(var c=[],f=0;f<u.length+s.length-1;f++){c[f]=i(0,0);for(var m=0;m<u.length;m++)f-m>=0&&f-m<s.length&&(c[f]=r(c[f],n(u[m],s[f-m])))}return c}});var g4="freqz",$Z=["typed","add","multiply","Complex","divide","matrix"],zb=S(g4,$Z,t=>{var{typed:e,add:r,multiply:n,Complex:i,divide:a,matrix:o}=t;return e(g4,{"Array, Array":function(c,f){var m=u(512);return l(c,f,m)},"Array, Array, Array":function(c,f,m){return l(c,f,m)},"Array, Array, number":function(c,f,m){if(m<0)throw new Error("w must be a positive number");var p=u(m);return l(c,f,p)},"Matrix, Matrix":function(c,f){var m=u(512),{w:p,h}=l(c.valueOf(),f.valueOf(),m);return{w:o(p),h:o(h)}},"Matrix, Matrix, Matrix":function(c,f,m){var{h:p}=l(c.valueOf(),f.valueOf(),m.valueOf());return{h:o(p),w:o(m)}},"Matrix, Matrix, number":function(c,f,m){if(m<0)throw new Error("w must be a positive number");var p=u(m),{h}=l(c.valueOf(),f.valueOf(),p);return{h:o(h),w:o(p)}}});function l(s,c,f){for(var m=[],p=[],h=0;h<f.length;h++){for(var d=i(0,0),g=i(0,0),v=0;v<s.length;v++)d=r(d,n(s[v],i(Math.cos(-v*f[h]),Math.sin(-v*f[h]))));for(var E=0;E<c.length;E++)g=r(g,n(c[E],i(Math.cos(-E*f[h]),Math.sin(-E*f[h]))));m.push(d),p.push(g)}for(var y=[],D=0;D<m.length;D++)y.push(a(m[D],p[D]));return{h:y,w:f}}function u(s){for(var c=[],f=0;f<s;f++)c.push(f/s*Math.PI);return c}});var eY="reviver",tY=["classes"],Wb=S(eY,tY,t=>{var{classes:e}=t;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var rY="replacer",nY=[],Hb=S(rY,nY,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:r});var v4="12.0.0";var Gb=S("true",[],()=>!0),jb=S("false",[],()=>!1),Zb=S("null",[],()=>null),Yb=Zn("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),Jb=Zn("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),Xb=Zn("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?$u(r):KA}),Qb=Zn("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?x_(r):$A}),Kb=Zn("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?y_(r):eS}),$b=Zn("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?b_(r):tS}),ex=Zn("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),tx=Zn("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),rx=Zn("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),nx=Zn("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),ix=Zn("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),ax=Zn("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),ox=Zn("i",["Complex"],t=>{var{Complex:e}=t;return e.I});var sx=S("version",[],()=>v4);function Zn(t,e,r){return S(t,e,r,{recreateOnConfigChange:!0})}var ux=xt("speedOfLight","299792458","m s^-1"),lx=xt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),cx=xt("planckConstant","6.62607015e-34","J s"),fx=xt("reducedPlanckConstant","1.0545718176461565e-34","J s"),mx=xt("magneticConstant","1.25663706212e-6","N A^-2"),px=xt("electricConstant","8.8541878128e-12","F m^-1"),dx=xt("vacuumImpedance","376.730313667","ohm"),hx=xt("coulomb","8.987551792261171e9","N m^2 C^-2"),gx=xt("elementaryCharge","1.602176634e-19","C"),vx=xt("bohrMagneton","9.2740100783e-24","J T^-1"),yx=xt("conductanceQuantum","7.748091729863649e-5","S"),bx=xt("inverseConductanceQuantum","12906.403729652257","ohm"),xx=xt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Dx=xt("nuclearMagneton","5.0507837461e-27","J T^-1"),wx=xt("klitzing","25812.807459304513","ohm");var Ex=xt("bohrRadius","5.29177210903e-11","m"),Cx=xt("classicalElectronRadius","2.8179403262e-15","m"),Fx=xt("electronMass","9.1093837015e-31","kg"),Ax=xt("fermiCoupling","1.1663787e-5","GeV^-2"),Sx=Am("fineStructure",.0072973525693),Nx=xt("hartreeEnergy","4.3597447222071e-18","J"),_x=xt("protonMass","1.67262192369e-27","kg"),Mx=xt("deuteronMass","3.3435830926e-27","kg"),Tx=xt("neutronMass","1.6749271613e-27","kg"),Ix=xt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Bx=xt("rydberg","10973731.568160","m^-1"),Ox=xt("thomsonCrossSection","6.6524587321e-29","m^2"),kx=Am("weakMixingAngle",.2229),Rx=Am("efimovFactor",22.7),Px=xt("atomicMass","1.66053906660e-27","kg"),Lx=xt("avogadro","6.02214076e23","mol^-1"),qx=xt("boltzmann","1.380649e-23","J K^-1"),Vx=xt("faraday","96485.33212331001","C mol^-1"),Ux=xt("firstRadiation","3.7417718521927573e-16","W m^2"),zx=xt("loschmidt","2.686780111798444e25","m^-3"),Wx=xt("gasConstant","8.31446261815324","J K^-1 mol^-1"),Hx=xt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),Gx=xt("molarVolume","0.022413969545014137","m^3 mol^-1"),jx=Am("sackurTetrode",-1.16487052358),Zx=xt("secondRadiation","0.014387768775039337","m K"),Yx=xt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Jx=xt("wienDisplacement","2.897771955e-3","m K"),Xx=xt("molarMass","0.99999999965e-3","kg mol^-1"),Qx=xt("molarMassC12","11.9999999958e-3","kg mol^-1"),Kx=xt("gravity","9.80665","m s^-2"),$x=xt("planckLength","1.616255e-35","m"),eD=xt("planckMass","2.176435e-8","kg"),tD=xt("planckTime","5.391245e-44","s"),rD=xt("planckCharge","1.87554603778e-18","C"),nD=xt("planckTemperature","1.416785e+32","K");function xt(t,e,r){var n=["config","Unit","BigNumber"];return S(t,n,i=>{var{config:a,Unit:o,BigNumber:l}=i,u=a.number==="BigNumber"?new l(e):parseFloat(e),s=new o(u,r);return s.fixPrefix=!0,s})}function Am(t,e){var r=["config","BigNumber"];return S(t,r,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var iY="apply",aY=["typed","isInteger"],iD=S(iY,aY,t=>{var{typed:e,isInteger:r}=t,n=So({typed:e,isInteger:r});return e("apply",{"...any":function(a){var o=a[1];it(o)?a[1]=o-1:$e(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(l){throw Qt(l)}}})},{isTransformFunction:!0});var oY="column",sY=["typed","Index","matrix","range"],aD=S(oY,sY,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=Hu({typed:e,Index:r,matrix:n,range:i});return e("column",{"...any":function(l){var u=l.length-1,s=l[u];it(s)&&(l[u]=s-1);try{return a.apply(null,l)}catch(c){throw Qt(c)}}})},{isTransformFunction:!0});function ks(t,e,r){var n=t.filter(function(l){return Zt(l)&&!(l.name in e)&&!r.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=n.name,a=_o(r),o=t.compile();return function(u){return a.set(i,u),o.evaluate(a)}}var uY="filter",lY=["typed"],oD=S(uY,lY,t=>{var{typed:e}=t;function r(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(Zt(i[1])||Ui(i[1])?u=i[1].compile().evaluate(o):u=ks(i[1],a,o)),n(l,u)}r.rawArgs=!0;var n=e("filter",{"Array, function":y4,"Matrix, function":function(a,o){return a.create(y4(a.toArray(),o))},"Array, RegExp":xs,"Matrix, RegExp":function(a,o){return a.create(xs(a.toArray(),o))}});return r},{isTransformFunction:!0});function y4(t,e){return Af(t,function(r,n,i){return li(e,r,[n+1],i,"filter")})}var cY="forEach",fY=["typed"],sD=S(cY,fY,t=>{var{typed:e}=t;function r(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(Zt(i[1])||Ui(i[1])?u=i[1].compile().evaluate(o):u=ks(i[1],a,o)),n(l,u)}r.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var l=function u(s,c){if(Array.isArray(s))Ra(s,function(f,m){u(f,c.concat(m+1))});else return li(o,s,c,a,"forEach")};l(a.valueOf(),[])}});return r},{isTransformFunction:!0});var mY="index",pY=["Index","getMatrixDataType"],uD=S(mY,pY,t=>{var{Index:e,getMatrixDataType:r}=t;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var l=arguments[a];if(vs(l))l.start--,l.end-=l.step>0?0:2;else if(l&&l.isSet===!0)l=l.map(function(s){return s-1});else if(wt(l)||Ge(l))r(l)!=="boolean"&&(l=l.map(function(s){return s-1}));else if(it(l))l--;else if($e(l))l=l.toNumber()-1;else if(typeof l!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=l}var u=new e;return e.apply(u,i),u}},{isTransformFunction:!0});var dY="map",hY=["typed"],lD=S(dY,hY,t=>{var{typed:e}=t;function r(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(Zt(i[1])||Ui(i[1])?u=i[1].compile().evaluate(o):u=ks(i[1],a,o)),n(l,u)}r.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return b4(a,o,a)},"Matrix, function":function(a,o){return a.create(b4(a.valueOf(),o,a))}});return r},{isTransformFunction:!0});function b4(t,e,r){function n(i,a){return Array.isArray(i)?In(i,function(o,l){return n(o,a.concat(l+1))}):li(e,i,a,r,"map")}return n(t,[])}function hn(t){if(t.length===2&&Fn(t[0])){t=t.slice();var e=t[1];it(e)?t[1]=e-1:$e(e)&&(t[1]=e.minus(1))}return t}var gY="max",vY=["typed","config","numeric","larger"],cD=S(gY,vY,t=>{var{typed:e,config:r,numeric:n,larger:i}=t,a=Qu({typed:e,config:r,numeric:n,larger:i});return e("max",{"...any":function(l){l=hn(l);try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var yY="mean",bY=["typed","add","divide"],fD=S(yY,bY,t=>{var{typed:e,add:r,divide:n}=t,i=nl({typed:e,add:r,divide:n});return e("mean",{"...any":function(o){o=hn(o);try{return i.apply(null,o)}catch(l){throw Qt(l)}}})},{isTransformFunction:!0});var xY="min",DY=["typed","config","numeric","smaller"],mD=S(xY,DY,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t,a=Ku({typed:e,config:r,numeric:n,smaller:i});return e("min",{"...any":function(l){l=hn(l);try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var wY="range",EY=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],pD=S(wY,EY,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c}=t,f=Zu({typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c});return e("range",{"...any":function(p){var h=p.length-1,d=p[h];return typeof d!="boolean"&&p.push(!0),f.apply(null,p)}})},{isTransformFunction:!0});var CY="row",FY=["typed","Index","matrix","range"],dD=S(CY,FY,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=Yu({typed:e,Index:r,matrix:n,range:i});return e("row",{"...any":function(l){var u=l.length-1,s=l[u];it(s)&&(l[u]=s-1);try{return a.apply(null,l)}catch(c){throw Qt(c)}}})},{isTransformFunction:!0});var AY="subset",SY=["typed","matrix","zeros","add"],hD=S(AY,SY,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=Ju({typed:e,matrix:r,zeros:n,add:i});return e("subset",{"...any":function(l){try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var NY="concat",_Y=["typed","matrix","isInteger"],gD=S(NY,_Y,t=>{var{typed:e,matrix:r,isInteger:n}=t,i=Wu({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(o){var l=o.length-1,u=o[l];it(u)?o[l]=u-1:$e(u)&&(o[l]=u.minus(1));try{return i.apply(null,o)}catch(s){throw Qt(s)}}})},{isTransformFunction:!0});var x4="diff",MY=["typed","matrix","subtract","number","bignumber"],vD=S(x4,MY,t=>{var{typed:e,matrix:r,subtract:n,number:i,bignumber:a}=t,o=ju({typed:e,matrix:r,subtract:n,number:i,bignumber:a});return e(x4,{"...any":function(u){u=hn(u);try{return o.apply(null,u)}catch(s){throw Qt(s)}}})},{isTransformFunction:!0});var TY="std",IY=["typed","map","sqrt","variance"],yD=S(TY,IY,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t,a=ol({typed:e,map:r,sqrt:n,variance:i});return e("std",{"...any":function(l){l=hn(l);try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var D4="sum",BY=["typed","config","add","numeric"],bD=S(D4,BY,t=>{var{typed:e,config:r,add:n,numeric:i}=t,a=tl({typed:e,config:r,add:n,numeric:i});return e(D4,{"...any":function(l){l=hn(l);try{return a.apply(null,l)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var OY="quantileSeq",kY=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],xD=S(OY,kY,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:m}=t,p=al({typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:m});return e("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(d,g,v)=>p(d,g,h(v)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(d,g,v,E)=>p(d,g,v,h(E)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(d,g,v)=>p(d,g,h(v)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(d,g,v,E)=>p(d,g,v,h(E))});function h(d){return hn([[],d])[1]}},{isTransformFunction:!0});var w4="cumsum",RY=["typed","add","unaryPlus"],DD=S(w4,RY,t=>{var{typed:e,add:r,unaryPlus:n}=t,i=rl({typed:e,add:r,unaryPlus:n});return e(w4,{"...any":function(o){if(o.length===2&&Fn(o[0])){var l=o[1];it(l)?o[1]=l-1:$e(l)&&(o[1]=l.minus(1))}try{return i.apply(null,o)}catch(u){throw Qt(u)}}})},{isTransformFunction:!0});var E4="variance",PY=["typed","add","subtract","multiply","divide","apply","isNaN"],wD=S(E4,PY,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:l}=t,u=il({typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:l});return e(E4,{"...any":function(c){c=hn(c);try{return u.apply(null,c)}catch(f){throw Qt(f)}}})},{isTransformFunction:!0});var C4="print",LY=["typed","matrix","zeros","add"],ED=S(C4,LY,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=Xu({typed:e,matrix:r,zeros:n,add:i});return e(C4,{"string, Object | Array":function(u,s){return a(o(u),s)},"string, Object | Array, number | Object":function(u,s,c){return a(o(u),s,c)}});function o(l){return l.replace(Zf,u=>{var s=u.slice(1).split("."),c=s.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0});var Ve=Uh({config:xe}),Kt=Wh({}),CD=Kb({BigNumber:Ve,config:xe}),F4=jb({}),A4=Sx({BigNumber:Ve,config:xe}),ja=Gh({}),FD=ox({Complex:Kt}),S4=Yb({BigNumber:Ve,config:xe}),N4=tx({BigNumber:Ve,config:xe}),_4=nx({BigNumber:Ve,config:xe}),ll=Zh({}),M4=Jb({BigNumber:Ve,config:xe}),T4=Zb({}),I4=$b({BigNumber:Ve,config:xe}),B4=jh({}),AD=Oh({}),O4=ix({BigNumber:Ve,config:xe}),k4=jx({BigNumber:Ve,config:xe}),SD=Qb({BigNumber:Ve,config:xe}),R4=Gb({}),P4=sx({}),Ct=Yh({Matrix:ll}),L4=Rx({BigNumber:Ve,config:xe}),q4=ex({BigNumber:Ve,config:xe}),Sm=Xb({BigNumber:Ve,config:xe}),V4=Hb({}),U4=ax({BigNumber:Ve,config:xe}),X=Bh({BigNumber:Ve,Complex:Kt,DenseMatrix:Ct,Fraction:ja}),Nm=vv({BigNumber:Ve,config:xe,typed:X}),z4=kx({BigNumber:Ve,config:xe}),gn=yv({typed:X}),W4=Ey({Complex:Kt,config:xe,typed:X}),H4=Fy({BigNumber:Ve,typed:X}),G4=Sy({BigNumber:Ve,Complex:Kt,config:xe,typed:X}),kr=bv({typed:X}),j4=Xv({typed:X}),Z4=My({BigNumber:Ve,Complex:Kt,config:xe,typed:X}),Y4=Iy({typed:X}),ND=By({typed:X}),J4=ky({Complex:Kt,config:xe,typed:X}),Rn=uv({BigNumber:Ve,typed:X}),X4=Zv({typed:X}),Q4=sv({typed:X}),K4=Jh({typed:X}),cl=lb({typed:X}),fl=lv({Complex:Kt,typed:X}),Za=Qv({typed:X}),_m=Ry({typed:X}),$4=Ly({BigNumber:Ve,typed:X}),ek=Vy({BigNumber:Ve,typed:X}),tk=Cv({typed:X}),_t=nv({config:xe,typed:X}),rk=N0({typed:X}),_D=Fv({typed:X}),nk=Av({Complex:Kt,typed:X}),ik=o0({typed:X}),ak=u0({typed:X}),Rs=I0({typed:X}),Mm=l0({typed:X}),ok=k0({format:Rs,typed:X}),Tm=Kv({typed:X}),Sn=Qh({typed:X}),ma=Xg({typed:X}),Ya=$g({typed:X}),mi=ev({typed:X}),sk=rx({BigNumber:Ve,config:xe}),uk=mb({Complex:Kt,typed:X}),lk=Bv({Complex:Kt,config:xe,typed:X}),MD=Ov({Complex:Kt,config:xe,typed:X}),Ja=m0({typed:X}),yr=kv({typed:X}),TD=e0({typed:X}),Zi=av({typed:X}),ck=O0({format:Rs,typed:X}),fk=Cb({config:xe,typed:X}),mk=Xu({typed:X}),pk=Fb({config:xe,typed:X}),Im=$v({typed:X}),dk=zy({BigNumber:Ve,typed:X}),ID=Lv({BigNumber:Ve,Fraction:ja,complex:fl,typed:X}),ml=Hy({typed:X}),Yi=iv({Matrix:ll,equalScalar:_t,typed:X}),hk=hv({typed:X}),gk=Vv({typed:X}),vk=ov({typed:X}),Yn=xv({typed:X}),yk=jy({typed:X}),BD=rv({typed:X}),bk=Cy({Complex:Kt,config:xe,typed:X}),xk=Ny({BigNumber:Ve,typed:X}),Bm=So({isInteger:Sn,typed:X}),Dk=_y({BigNumber:Ve,Complex:Kt,config:xe,typed:X}),wk=B0({format:Rs,typed:X}),Ek=cb({typed:X}),Ck=Py({typed:X}),Fk=Uy({BigNumber:Ve,typed:X}),Ps=tv({typed:X}),Ak=P0({typed:X}),Sk=Ab({config:xe,typed:X}),Nk=Wy({BigNumber:Ve,typed:X}),_k=Gy({typed:X}),Mk=Dy({SparseMatrix:Yi,typed:X}),pi=qv({Complex:Kt,config:xe,typed:X}),Tk=Zy({typed:X}),Mi=gv({typed:X}),Ik=Ay({BigNumber:Ve,Complex:Kt,config:xe,typed:X}),Bk=qy({BigNumber:Ve,typed:X}),To=cv({Fraction:ja,typed:X}),Xa=Qg({typed:X}),Ue=fv({DenseMatrix:Ct,Matrix:ll,SparseMatrix:Yi,typed:X}),Ok=mv({isZero:mi,matrix:Ue,typed:X}),kk=M0({isNaN:Ps,isNumeric:Xa,typed:X}),di=L0({bignumber:Rn,fraction:To,number:Zi}),OD=T0({config:xe,multiplyScalar:yr,numeric:di,typed:X}),kD=d0({isInteger:Sn,matrix:Ue,typed:X}),Zr=y0({matrix:Ue,config:xe,typed:X}),Rk=b0({matrix:Ue,typed:X}),Ls=x0({matrix:Ue,typed:X}),RD=zv({BigNumber:Ve,config:xe,matrix:Ue,typed:X}),vn=w0({BigNumber:Ve,config:xe,matrix:Ue,typed:X}),Pk=Ty({Complex:Kt,config:xe,typed:X}),PD=Dv({BigNumber:Ve,Complex:Kt,Fraction:ja,config:xe,isNegative:ma,matrix:Ue,typed:X,unaryMinus:Mi}),zt=Wu({isInteger:Sn,matrix:Ue,typed:X}),Lk=n0({prod:OD,size:Zr,typed:X}),Om=D0({conj:Za,transpose:Ls,typed:X}),LD=a0({DenseMatrix:Ct,SparseMatrix:Yi,matrix:Ue,typed:X}),mr=q0({numeric:di,typed:X}),qs=j0({DenseMatrix:Ct,concat:zt,divideScalar:mr,equalScalar:_t,matrix:Ue,typed:X}),Jn=iy({DenseMatrix:Ct,concat:zt,equalScalar:_t,matrix:Ue,typed:X}),Vs=s0({matrix:Ue,typed:X}),qk=Kg({isNumeric:Xa,typed:X}),pa=c0({BigNumber:Ve,DenseMatrix:Ct,SparseMatrix:Yi,config:xe,matrix:Ue,typed:X}),Vk=f0({matrix:Ue,multiplyScalar:yr,typed:X}),pl=ly({DenseMatrix:Ct,concat:zt,config:xe,matrix:Ue,typed:X}),Uk=Q0({DenseMatrix:Ct,concat:zt,equalScalar:_t,matrix:Ue,typed:X,zeros:vn}),qD=Z0({DenseMatrix:Ct,divideScalar:mr,equalScalar:_t,matrix:Ue,multiplyScalar:yr,subtractScalar:Yn,typed:X}),km=dv({flatten:Vs,matrix:Ue,size:Zr,typed:X}),zk=Pv({BigNumber:Ve,concat:zt,equalScalar:_t,matrix:Ue,typed:X}),Wk=p0({BigNumber:Ve,config:xe,matrix:Ue,typed:X}),Rm=k1({addScalar:kr,complex:fl,conj:Za,divideScalar:mr,equal:Jn,identity:pa,isZero:mi,matrix:Ue,multiplyScalar:yr,sign:ID,sqrt:pi,subtractScalar:Yn,typed:X,unaryMinus:Mi,zeros:vn}),Hk=h0({config:xe,matrix:Ue}),Gk=K0({DenseMatrix:Ct,concat:zt,equalScalar:_t,matrix:Ue,typed:X,zeros:vn}),Io=U0({BigNumber:Ve,DenseMatrix:Ct,equalScalar:_t,matrix:Ue,typed:X,zeros:vn}),yn=oy({DenseMatrix:Ct,concat:zt,config:xe,matrix:Ue,typed:X}),br=Uv({DenseMatrix:Ct,concat:zt,equalScalar:_t,matrix:Ue,subtractScalar:Yn,typed:X,unaryMinus:Mi}),jk=R0({concat:zt,matrix:Ue,typed:X}),Zk=fy({DenseMatrix:Ct,concat:zt,config:xe,equalScalar:_t,matrix:Ue,typed:X}),Pm=Y0({DenseMatrix:Ct,divideScalar:mr,equalScalar:_t,matrix:Ue,multiplyScalar:yr,subtractScalar:Yn,typed:X}),Yk=r0({DenseMatrix:Ct,concat:zt,matrix:Ue,typed:X}),Mt=i1({DenseMatrix:Ct,SparseMatrix:Yi,addScalar:kr,concat:zt,equalScalar:_t,matrix:Ue,typed:X}),Jk=Oy({BigNumber:Ve,DenseMatrix:Ct,concat:zt,equalScalar:_t,matrix:Ue,typed:X}),Xk=jv({concat:zt,equalScalar:_t,matrix:Ue,typed:X}),Qk=Jv({DenseMatrix:Ct,concat:zt,matrix:Ue,typed:X}),Kk=_b({addScalar:kr,combinations:cl,divideScalar:mr,isInteger:Sn,isNegative:ma,multiplyScalar:yr,typed:X}),Qa=ty({BigNumber:Ve,DenseMatrix:Ct,Fraction:ja,concat:zt,config:xe,equalScalar:_t,matrix:Ue,typed:X}),VD=ny({concat:zt,matrix:Ue,typed:X}),$k=rl({add:Mt,typed:X,unaryPlus:Nm}),Lm=cy({equal:Jn,typed:X}),e8=ju({matrix:Ue,number:Zi,subtract:br,typed:X}),t8=nb({abs:gn,addScalar:kr,deepEqual:Lm,divideScalar:mr,multiplyScalar:yr,sqrt:pi,subtractScalar:Yn,typed:X}),dl=s1({addScalar:kr,conj:Za,multiplyScalar:yr,size:Zr,typed:X}),r8=ay({compareText:VD,isZero:mi,typed:X}),UD=Uu({DenseMatrix:Ct,config:xe,equalScalar:_t,matrix:Ue,round:Io,typed:X,zeros:vn}),n8=Tv({BigNumber:Ve,DenseMatrix:Ct,concat:zt,config:xe,equalScalar:_t,matrix:Ue,round:Io,typed:X,zeros:vn}),i8=a1({abs:gn,addScalar:kr,divideScalar:mr,isPositive:Ya,multiplyScalar:yr,smaller:yn,sqrt:pi,typed:X}),zD=dy({DenseMatrix:Ct,smaller:yn}),ln=hy({ImmutableDenseMatrix:zD,getMatrixDataType:Mm}),bn=uy({DenseMatrix:Ct,concat:zt,config:xe,matrix:Ue,typed:X}),qm=z0({Complex:Kt,config:xe,divideScalar:mr,typed:X}),a8=J0({DenseMatrix:Ct,divideScalar:mr,equalScalar:_t,matrix:Ue,multiplyScalar:yr,subtractScalar:Yn,typed:X}),o8=pv({flatten:Vs,matrix:Ue,size:Zr,typed:X}),s8=Ku({config:xe,numeric:di,smaller:yn,typed:X}),WD=zu({DenseMatrix:Ct,concat:zt,config:xe,equalScalar:_t,matrix:Ue,round:Io,typed:X,zeros:vn}),Wt=Rv({addScalar:kr,dot:dl,equalScalar:_t,matrix:Ue,multiplyScalar:yr,typed:X}),u8=H0({Complex:Kt,config:xe,divideScalar:mr,typed:X}),l8=t0({DenseMatrix:Ct,concat:zt,equalScalar:_t,matrix:Ue,typed:X}),hl=my({compare:Qa,isNaN:Ps,isNumeric:Xa,typed:X}),c8=$0({DenseMatrix:Ct,concat:zt,equalScalar:_t,matrix:Ue,typed:X,zeros:vn}),HD=P1({SparseMatrix:Yi,abs:gn,add:Mt,divideScalar:mr,larger:bn,largerEq:pl,multiply:Wt,subtract:br,transpose:Ls,typed:X}),Pn=Ju({add:Mt,matrix:Ue,typed:X,zeros:vn}),Vm=tl({add:Mt,config:xe,numeric:di,typed:X}),f8=u1({add:Mt,matrix:Ue,typed:X}),GD=X0({DenseMatrix:Ct,divideScalar:mr,equalScalar:_t,matrix:Ue,multiplyScalar:yr,subtractScalar:Yn,typed:X}),m8=Ub({Complex:Kt,add:Mt,multiply:Wt,number:Zi,typed:X}),p8=Yv({DenseMatrix:Ct,concat:zt,equalScalar:_t,matrix:Ue,typed:X}),Um=Ev({DenseMatrix:Ct,config:xe,equalScalar:_t,matrix:Ue,round:Io,typed:X,zeros:vn}),Ti=ry({compare:Qa,typed:X}),d8=Mb({addScalar:kr,combinations:cl,isInteger:Sn,isNegative:ma,isPositive:Ya,larger:bn,typed:X}),h8=i0({matrix:Ue,multiply:Wt,subtract:br,typed:X}),jD=Z1({divideScalar:mr,isZero:mi,matrix:Ue,multiply:Wt,subtractScalar:Yn,typed:X,unaryMinus:Mi}),g8=Hv({concat:zt,equalScalar:_t,matrix:Ue,multiplyScalar:yr,typed:X}),ZD=gy({larger:bn,smaller:yn}),YD=Nv({Complex:Kt,DenseMatrix:Ct,ceil:Um,equalScalar:_t,floor:UD,matrix:Ue,typed:X,zeros:vn}),JD=l1({Index:ln,typed:X}),v8=ib({abs:gn,add:Mt,addScalar:kr,config:xe,divideScalar:mr,equalScalar:_t,flatten:Vs,isNumeric:Xa,isZero:mi,matrix:Ue,multiply:Wt,multiplyScalar:yr,smaller:yn,subtract:br,typed:X}),y8=Wv({BigNumber:Ve,add:Mt,config:xe,equal:Jn,isInteger:Sn,mod:WD,smaller:yn,typed:X,xgcd:RD}),b8=Iv({concat:zt,equalScalar:_t,matrix:Ue,typed:X}),x8=W0({Complex:Kt,config:xe,divideScalar:mr,log:qm,typed:X}),zm=Qu({config:xe,larger:bn,numeric:di,typed:X}),D8=Yy({DenseMatrix:Ct,Index:ln,compareNatural:Ti,size:Zr,subset:Pn,typed:X}),w8=Xy({DenseMatrix:Ct,Index:ln,compareNatural:Ti,size:Zr,subset:Pn,typed:X}),E8=Ky({Index:ln,compareNatural:Ti,size:Zr,subset:Pn,typed:X}),C8=e1({Index:ln,compareNatural:Ti,size:Zr,subset:Pn,typed:X}),Bo=sy({DenseMatrix:Ct,concat:zt,config:xe,matrix:Ue,typed:X}),F8=py({compare:Qa,compareNatural:Ti,matrix:Ue,typed:X}),A8=ey({concat:zt,equalScalar:_t,matrix:Ue,not:TD,typed:X,zeros:vn}),Oo=Zu({bignumber:Rn,matrix:Ue,add:Mt,config:xe,isPositive:Ya,larger:bn,largerEq:pl,smaller:yn,smallerEq:Bo,typed:X}),S8=Yu({Index:ln,matrix:Ue,range:Oo,typed:X}),XD=Jy({DenseMatrix:Ct,Index:ln,compareNatural:Ti,size:Zr,subset:Pn,typed:X}),N8=$y({Index:ln,compareNatural:Ti,size:Zr,subset:Pn,typed:X}),QD=r1({Index:ln,concat:zt,setDifference:XD,size:Zr,subset:Pn,typed:X}),KD=vy({FibonacciHeap:ZD,addScalar:kr,equalScalar:_t}),$D=Hu({Index:ln,matrix:Ue,range:Oo,typed:X}),Ka=Y1({abs:gn,addScalar:kr,det:jD,divideScalar:mr,identity:pa,matrix:Ue,multiply:Wt,typed:X,unaryMinus:Mi}),ew=O1({DenseMatrix:Ct,Spa:KD,SparseMatrix:Yi,abs:gn,addScalar:kr,divideScalar:mr,equalScalar:_t,larger:bn,matrix:Ue,multiplyScalar:yr,subtractScalar:Yn,typed:X,unaryMinus:Mi}),_8=J1({Complex:Kt,add:Mt,ctranspose:Om,deepEqual:Lm,divideScalar:mr,dot:dl,dotDivide:qs,equal:Jn,inv:Ka,matrix:Ue,multiply:Wt,typed:X}),Xn=V0({Complex:Kt,config:xe,fraction:To,identity:pa,inv:Ka,matrix:Ue,multiply:Wt,number:Zi,typed:X}),tw=Qy({DenseMatrix:Ct,Index:ln,compareNatural:Ti,size:Zr,subset:Pn,typed:X}),M8=n1({Index:ln,concat:zt,setIntersect:tw,setSymDifference:QD,size:Zr,subset:Pn,typed:X}),T8=K1({abs:gn,add:Mt,identity:pa,inv:Ka,map:Ja,max:zm,multiply:Wt,size:Zr,sqrt:pi,subtract:br,typed:X}),gt=by({BigNumber:Ve,Complex:Kt,Fraction:ja,abs:gn,addScalar:kr,config:xe,divideScalar:mr,equal:Jn,fix:YD,format:Rs,isNumeric:Xa,multiplyScalar:yr,number:Zi,pow:Xn,round:Io,subtractScalar:Yn}),I8=dx({BigNumber:Ve,Unit:gt,config:xe}),B8=Jx({BigNumber:Ve,Unit:gt,config:xe}),O8=Px({BigNumber:Ve,Unit:gt,config:xe}),k8=vx({BigNumber:Ve,Unit:gt,config:xe}),R8=qx({BigNumber:Ve,Unit:gt,config:xe}),P8=yx({BigNumber:Ve,Unit:gt,config:xe}),L8=hx({BigNumber:Ve,Unit:gt,config:xe}),q8=Mx({BigNumber:Ve,Unit:gt,config:xe}),V8=G0({DenseMatrix:Ct,concat:zt,equalScalar:_t,matrix:Ue,pow:Xn,typed:X}),U8=px({BigNumber:Ve,Unit:gt,config:xe}),z8=gx({BigNumber:Ve,Unit:gt,config:xe}),W8=Q1({abs:gn,add:Mt,identity:pa,inv:Ka,multiply:Wt,typed:X}),H8=Vx({BigNumber:Ve,Unit:gt,config:xe}),rw=E0({addScalar:kr,ceil:Um,conj:Za,divideScalar:mr,dotDivide:qs,exp:_D,i:FD,log2:MD,matrix:Ue,multiplyScalar:yr,pow:Xn,tau:SD,typed:X}),Wm=fb({BigNumber:Ve,Complex:Kt,config:xe,multiplyScalar:yr,pow:Xn,typed:X}),G8=lx({BigNumber:Ve,Unit:gt,config:xe}),j8=Nx({BigNumber:Ve,Unit:gt,config:xe}),Z8=C0({conj:Za,dotDivide:qs,fft:rw,typed:X}),Y8=wx({BigNumber:Ve,Unit:gt,config:xe}),J8=zx({BigNumber:Ve,Unit:gt,config:xe}),X8=mx({BigNumber:Ve,Unit:gt,config:xe}),Q8=Xx({BigNumber:Ve,Unit:gt,config:xe}),K8=Hx({BigNumber:Ve,Unit:gt,config:xe}),$8=Tx({BigNumber:Ve,Unit:gt,config:xe}),eR=Dx({BigNumber:Ve,Unit:gt,config:xe}),tR=rD({BigNumber:Ve,Unit:gt,config:xe}),rR=$x({BigNumber:Ve,Unit:gt,config:xe}),nR=nD({BigNumber:Ve,Unit:gt,config:xe}),iR=_x({BigNumber:Ve,Unit:gt,config:xe}),aR=Ix({BigNumber:Ve,Unit:gt,config:xe}),oR=fx({BigNumber:Ve,Unit:gt,config:xe}),sR=Bx({BigNumber:Ve,Unit:gt,config:xe}),uR=Zx({BigNumber:Ve,Unit:gt,config:xe}),lR=ux({BigNumber:Ve,Unit:gt,config:xe}),cR=Yx({BigNumber:Ve,Unit:gt,config:xe}),fR=Ox({BigNumber:Ve,Unit:gt,config:xe}),mR=Lx({BigNumber:Ve,Unit:gt,config:xe}),pR=Ex({BigNumber:Ve,Unit:gt,config:xe}),dR=wy({Unit:gt,typed:X}),zr=rb({divideScalar:mr,equalScalar:_t,inv:Ka,matrix:Ue,multiply:Wt,typed:X}),hR=Fx({BigNumber:Ve,Unit:gt,config:xe}),Us=pb({gamma:Wm,typed:X}),gR=Ux({BigNumber:Ve,Unit:gt,config:xe}),vR=Kx({BigNumber:Ve,Unit:gt,config:xe}),yR=bx({BigNumber:Ve,Unit:gt,config:xe}),nw=q1({DenseMatrix:Ct,lsolve:qD,lup:ew,matrix:Ue,slu:HD,typed:X,usolve:Pm}),bR=xx({BigNumber:Ve,Unit:gt,config:xe}),xR=Qx({BigNumber:Ve,Unit:gt,config:xe}),DR=hb({add:Mt,divide:zr,factorial:Us,isInteger:Sn,isPositive:Ya,multiply:Wt,typed:X}),wR=gb({factorial:Us,typed:X}),ER=eD({BigNumber:Ve,Unit:gt,config:xe}),CR=V1({add:Mt,cbrt:PD,divide:zr,equalScalar:_t,im:Tm,isZero:mi,multiply:Wt,re:Im,sqrt:pi,subtract:br,typeOf:BD,typed:X,unaryMinus:Mi}),FR=t1({compareNatural:Ti,typed:X}),AR=S0({abs:gn,add:Mt,bignumber:Rn,divide:zr,isNegative:ma,isPositive:Ya,larger:bn,map:Ja,matrix:Ue,max:zm,multiply:Wt,smaller:yn,subtract:br,typed:X,unaryMinus:Mi}),iw=Sb({bignumber:Rn,addScalar:kr,combinations:cl,divideScalar:mr,factorial:Us,isInteger:Sn,isNegative:ma,larger:bn,multiplyScalar:yr,number:Zi,pow:Xn,subtractScalar:Yn,typed:X}),SR=xy({Unit:gt,typed:X}),NR=Nb({addScalar:kr,isInteger:Sn,isNegative:ma,stirlingS2:iw,typed:X}),aw=X1({abs:gn,add:Mt,addScalar:kr,atan:ND,bignumber:Rn,column:$D,complex:fl,config:xe,cos:_m,diag:LD,divideScalar:mr,dot:dl,equal:Jn,flatten:Vs,im:Tm,inv:Ka,larger:bn,matrix:Ue,matrixFromColumns:km,multiply:Wt,multiplyScalar:yr,number:Zi,qr:Rm,re:Im,reshape:kD,sin:ml,size:Zr,smaller:yn,sqrt:pi,subtract:br,typed:X,usolve:Pm,usolveAll:GD}),_R=Ax({BigNumber:Ve,Unit:gt,config:xe}),MR=Wx({BigNumber:Ve,Unit:gt,config:xe}),ow=nl({add:Mt,divide:zr,typed:X}),TR=Gx({BigNumber:Ve,Unit:gt,config:xe}),IR=cx({BigNumber:Ve,Unit:gt,config:xe}),BR=al({bignumber:Rn,add:Mt,compare:Qa,divide:zr,isInteger:Sn,larger:bn,multiply:Wt,partitionSelect:hl,smaller:yn,smallerEq:Bo,subtract:br,typed:X}),Hm=il({add:Mt,apply:Bm,divide:zr,isNaN:Ps,multiply:Wt,subtract:br,typed:X}),OR=Cx({BigNumber:Ve,Unit:gt,config:xe}),sw=ab({add:Mt,compare:Qa,divide:zr,partitionSelect:hl,typed:X}),kR=ub({add:Mt,divide:zr,matrix:Ue,mean:ow,multiply:Wt,pow:Xn,sqrt:pi,subtract:br,sum:Vm,typed:X}),RR=zb({Complex:Kt,add:Mt,divide:zr,matrix:Ue,multiply:Wt,typed:X}),PR=ob({abs:gn,map:Ja,median:sw,subtract:br,typed:X}),LR=ol({map:Ja,sqrt:pi,typed:X,variance:Hm}),qR=_0({BigNumber:Ve,Complex:Kt,add:Mt,config:xe,divide:zr,equal:Jn,factorial:Us,gamma:Wm,isNegative:ma,multiply:Wt,pi:Sm,pow:Xn,sin:ml,smallerEq:Bo,subtract:br,typed:X}),Gm=o1({abs:gn,add:Mt,conj:Za,ctranspose:Om,eigs:aw,equalScalar:_t,larger:bn,matrix:Ue,multiply:Wt,pow:Xn,smaller:yn,sqrt:pi,typed:X}),uw=v0({BigNumber:Ve,DenseMatrix:Ct,SparseMatrix:Yi,addScalar:kr,config:xe,cos:_m,matrix:Ue,multiplyScalar:yr,norm:Gm,sin:ml,typed:X,unaryMinus:Mi}),VR=db({divide:zr,dotDivide:qs,isNumeric:Xa,log:qm,map:Ja,matrix:Ue,multiply:Wt,sum:Vm,typed:X}),UR=tD({BigNumber:Ve,Unit:gt,config:xe}),lw=eb({identity:pa,matrix:Ue,multiply:Wt,norm:Gm,qr:Rm,subtract:br,typed:X}),zR=g0({multiply:Wt,rotationMatrix:uw,typed:X}),cw=$1({abs:gn,add:Mt,concat:zt,identity:pa,index:JD,lusolve:nw,matrix:Ue,matrixFromColumns:km,multiply:Wt,range:Oo,schur:lw,subset:Pn,subtract:br,transpose:Ls,typed:X}),WR=tb({matrix:Ue,multiply:Wt,sylvester:cw,transpose:Ls,typed:X});var zs={},Ws={},HR={},xn=c1({mathWithTransform:Ws}),Hs=w1({Node:xn}),da=E1({Node:xn}),ko=C1({Node:xn}),GR=A1({Node:xn}),Gs=m1({Node:xn}),jR=d1({Node:xn,ResultSet:AD}),ZR=h1({Node:xn}),$a=b1({Node:xn}),YR=F1({Node:xn}),qY=Wb({classes:HR}),fw=z1({math:zs,typed:X}),JR=x1({Node:xn,typed:X}),VY=j1({Chain:fw,typed:X}),js=D1({Node:xn,size:Zr}),Zs=f1({Node:xn,subset:Pn}),XR=p1({matrix:Ue,Node:xn,subset:Pn}),eo=S1({Unit:gt,Node:xn,math:zs}),to=N1({Node:xn,SymbolNode:eo,math:zs}),Ii=_1({AccessorNode:Zs,ArrayNode:Gs,AssignmentNode:XR,BlockNode:jR,ConditionalNode:ZR,ConstantNode:$a,FunctionAssignmentNode:JR,FunctionNode:to,IndexNode:js,ObjectNode:Hs,OperatorNode:da,ParenthesisNode:ko,RangeNode:YR,RelationalNode:GR,SymbolNode:eo,config:xe,numeric:di,typed:X}),QR=Pb({ConstantNode:$a,FunctionNode:to,OperatorNode:da,ParenthesisNode:ko,parse:Ii,typed:X}),mw=kb({bignumber:Rn,fraction:To,AccessorNode:Zs,ArrayNode:Gs,ConstantNode:$a,FunctionNode:to,IndexNode:js,ObjectNode:Hs,OperatorNode:da,SymbolNode:eo,config:xe,mathWithTransform:Ws,matrix:Ue,typed:X}),pw=M1({parse:Ii,typed:X}),KR=U1({parse:Ii}),UY=Tb({parse:Ii,typed:X}),dw=Rb({AccessorNode:Zs,ArrayNode:Gs,ConstantNode:$a,FunctionNode:to,IndexNode:js,ObjectNode:Hs,OperatorNode:da,ParenthesisNode:ko,SymbolNode:eo,add:Mt,divide:zr,equal:Jn,isZero:mi,multiply:Wt,parse:Ii,pow:Xn,subtract:br,typed:X}),$R=T1({parse:Ii,typed:X}),zY=G1({Help:KR,mathWithTransform:Ws,typed:X}),e6=I1({evaluate:$R}),jm=Ob({bignumber:Rn,fraction:To,AccessorNode:Zs,ArrayNode:Gs,ConstantNode:$a,FunctionNode:to,IndexNode:js,ObjectNode:Hs,OperatorNode:da,ParenthesisNode:ko,SymbolNode:eo,add:Mt,config:xe,divide:zr,equal:Jn,isZero:mi,mathWithTransform:Ws,matrix:Ue,multiply:Wt,parse:Ii,pow:Xn,resolve:QR,simplifyConstant:mw,simplifyCore:dw,subtract:br,typed:X}),WY=Lb({OperatorNode:da,parse:Ii,simplify:jm,typed:X}),HY=B1({Parser:e6,typed:X}),GY=Vb({bignumber:Rn,fraction:To,AccessorNode:Zs,ArrayNode:Gs,ConstantNode:$a,FunctionNode:to,IndexNode:js,ObjectNode:Hs,OperatorNode:da,ParenthesisNode:ko,SymbolNode:eo,add:Mt,config:xe,divide:zr,equal:Jn,isZero:mi,mathWithTransform:Ws,matrix:Ue,multiply:Wt,parse:Ii,pow:Xn,simplify:jm,simplifyConstant:mw,simplifyCore:dw,subtract:br,typed:X}),jY=qb({ConstantNode:$a,FunctionNode:to,OperatorNode:da,ParenthesisNode:ko,SymbolNode:eo,config:xe,equal:Jn,isZero:mi,numeric:di,parse:Ii,simplify:jm,typed:X});sr(zs,{e:CD,false:F4,fineStructure:A4,i:FD,Infinity:S4,LN10:N4,LOG10E:_4,NaN:M4,null:T4,phi:I4,SQRT1_2:O4,sackurTetrode:k4,tau:SD,true:R4,E:CD,version:P4,efimovFactor:L4,LN2:q4,pi:Sm,replacer:V4,reviver:qY,SQRT2:U4,typed:X,unaryPlus:Nm,PI:Sm,weakMixingAngle:z4,abs:gn,acos:W4,acot:H4,acsc:G4,addScalar:kr,arg:j4,asech:Z4,asinh:Y4,atan:ND,atanh:J4,bignumber:Rn,bitNot:X4,boolean:Q4,clone:K4,combinations:cl,complex:fl,conj:Za,cos:_m,cot:$4,csc:ek,cube:tk,equalScalar:_t,erf:rk,exp:_D,expm1:nk,filter:ik,forEach:ak,format:Rs,getMatrixDataType:Mm,hex:ok,im:Tm,isInteger:Sn,isNegative:ma,isPositive:Ya,isZero:mi,LOG2E:sk,lgamma:uk,log10:lk,log2:MD,map:Ja,multiplyScalar:yr,not:TD,number:Zi,oct:ck,pickRandom:fk,print:mk,random:pk,re:Im,sec:dk,sign:ID,sin:ml,splitUnit:hk,square:gk,string:vk,subtractScalar:Yn,tan:yk,typeOf:BD,acosh:bk,acsch:xk,apply:Bm,asec:Dk,bin:wk,chain:VY,combinationsWithRep:Ek,cosh:Ck,csch:Fk,isNaN:Ps,isPrime:Ak,randomInt:Sk,sech:Nk,sinh:_k,sparse:Mk,sqrt:pi,tanh:Tk,unaryMinus:Mi,acoth:Ik,coth:Bk,fraction:To,isNumeric:Xa,matrix:Ue,matrixFromFunction:Ok,mode:kk,numeric:di,prod:OD,reshape:kD,size:Zr,squeeze:Rk,transpose:Ls,xgcd:RD,zeros:vn,asin:Pk,cbrt:PD,concat:zt,count:Lk,ctranspose:Om,diag:LD,divideScalar:mr,dotDivide:qs,equal:Jn,flatten:Vs,hasNumericValue:qk,identity:pa,kron:Vk,largerEq:pl,leftShift:Uk,lsolve:qD,matrixFromColumns:km,nthRoot:zk,ones:Wk,qr:Rm,resize:Hk,rightArithShift:Gk,round:Io,smaller:yn,subtract:br,to:jk,unequal:Zk,usolve:Pm,xor:Yk,add:Mt,atan2:Jk,bitAnd:Xk,bitXor:Qk,catalan:Kk,compare:Qa,compareText:VD,cumsum:$k,deepEqual:Lm,diff:e8,distance:t8,dot:dl,equalText:r8,floor:UD,gcd:n8,hypot:i8,larger:bn,log:qm,lsolveAll:a8,matrixFromRows:o8,min:s8,mod:WD,multiply:Wt,nthRoots:u8,or:l8,partitionSelect:hl,rightLogShift:c8,slu:HD,subset:Pn,sum:Vm,trace:f8,usolveAll:GD,zpk2tf:m8,bitOr:p8,ceil:Um,compareNatural:Ti,composition:d8,cross:h8,det:jD,dotMultiply:g8,fix:YD,index:JD,intersect:v8,invmod:y8,lcm:b8,log1p:x8,max:zm,setCartesian:D8,setDistinct:w8,setIsSubset:E8,setPowerset:C8,smallerEq:Bo,sort:F8,and:A8,range:Oo,row:S8,setDifference:XD,setMultiplicity:N8,setSymDifference:QD,column:$D,inv:Ka,lup:ew,pinv:_8,pow:Xn,setIntersect:tw,setUnion:M8,sqrtm:T8,vacuumImpedance:I8,wienDisplacement:B8,atomicMass:O8,bohrMagneton:k8,boltzmann:R8,conductanceQuantum:P8,coulomb:L8,deuteronMass:q8,dotPow:V8,electricConstant:U8,elementaryCharge:z8,expm:W8,faraday:H8,fft:rw,gamma:Wm,gravitationConstant:G8,hartreeEnergy:j8,ifft:Z8,klitzing:Y8,loschmidt:J8,magneticConstant:X8,molarMass:Q8,molarPlanckConstant:K8,neutronMass:$8,nuclearMagneton:eR,planckCharge:tR,planckLength:rR,planckTemperature:nR,protonMass:iR,quantumOfCirculation:aR,reducedPlanckConstant:oR,rydberg:sR,secondRadiation:uR,speedOfLight:lR,stefanBoltzmann:cR,thomsonCrossSection:fR,avogadro:mR,bohrRadius:pR,createUnit:dR,divide:zr,electronMass:hR,factorial:Us,firstRadiation:gR,gravity:vR,inverseConductanceQuantum:yR,lusolve:nw,magneticFluxQuantum:bR,molarMassC12:xR,multinomial:DR,parse:Ii,permutations:wR,planckMass:ER,polynomialRoot:CR,resolve:QR,setSize:FR,simplifyConstant:mw,solveODE:AR,stirlingS2:iw,unit:SR,bellNumbers:NR,compile:pw,eigs:aw,fermiCoupling:_R,gasConstant:MR,leafCount:UY,mean:ow,molarVolume:TR,planckConstant:IR,quantileSeq:BR,simplifyCore:dw,variance:Hm,classicalElectronRadius:OR,evaluate:$R,help:zY,median:sw,simplify:jm,symbolicEqual:WY,corr:kR,freqz:RR,mad:PR,parser:HY,rationalize:GY,std:LR,zeta:qR,derivative:jY,norm:Gm,rotationMatrix:uw,kldivergence:VR,planckTime:UR,schur:lw,rotate:zR,sylvester:cw,lyap:WR,config:xe});sr(Ws,zs,{filter:oD({typed:X}),forEach:sD({typed:X}),map:lD({typed:X}),apply:iD({isInteger:Sn,typed:X}),concat:gD({isInteger:Sn,matrix:Ue,typed:X}),max:cD({config:xe,larger:bn,numeric:di,typed:X}),print:ED({add:Mt,matrix:Ue,typed:X,zeros:vn}),diff:vD({bignumber:Rn,matrix:Ue,number:Zi,subtract:br,typed:X}),min:mD({config:xe,numeric:di,smaller:yn,typed:X}),subset:hD({add:Mt,matrix:Ue,typed:X,zeros:vn}),cumsum:DD({add:Mt,typed:X,unaryPlus:Nm}),index:uD({Index:ln,getMatrixDataType:Mm}),sum:bD({add:Mt,config:xe,numeric:di,typed:X}),range:pD({bignumber:Rn,matrix:Ue,add:Mt,config:xe,isPositive:Ya,larger:bn,largerEq:pl,smaller:yn,smallerEq:Bo,typed:X}),row:dD({Index:ln,matrix:Ue,range:Oo,typed:X}),column:aD({Index:ln,matrix:Ue,range:Oo,typed:X}),mean:fD({add:Mt,divide:zr,typed:X}),quantileSeq:xD({add:Mt,bignumber:Rn,compare:Qa,divide:zr,isInteger:Sn,larger:bn,multiply:Wt,partitionSelect:hl,smaller:yn,smallerEq:Bo,subtract:br,typed:X}),variance:wD({add:Mt,apply:Bm,divide:zr,isNaN:Ps,multiply:Wt,subtract:br,typed:X}),std:yD({map:Ja,sqrt:pi,typed:X,variance:Hm})});sr(HR,{BigNumber:Ve,Complex:Kt,Fraction:ja,Matrix:ll,Node:xn,ObjectNode:Hs,OperatorNode:da,ParenthesisNode:ko,Range:B4,RelationalNode:GR,ResultSet:AD,ArrayNode:Gs,BlockNode:jR,ConditionalNode:ZR,ConstantNode:$a,DenseMatrix:Ct,RangeNode:YR,Chain:fw,FunctionAssignmentNode:JR,SparseMatrix:Yi,IndexNode:js,ImmutableDenseMatrix:zD,Index:ln,AccessorNode:Zs,AssignmentNode:XR,FibonacciHeap:ZD,Spa:KD,Unit:gt,SymbolNode:eo,FunctionNode:to,Help:KR,Parser:e6});fw.createProxy(zs);var Zm=class extends gs{constructor(r){super(r);this.hidden=!1}buildVariables(r){var a;let n=0;this.expressionStr="";let i=[];for(let o of(a=r.templateDeclaration)!=null?a:[])if(typeof o!="string"){let l={bindTargetDeclaration:o,inputSignal:new Lr(void 0),uuid:Ir(),contextName:`MB_VAR_${n}`};i.push(l),this.expressionStr+=l.contextName,n+=1}else this.expressionStr+=o;return this.expression=pw(this.expressionStr),i}_render(r){}_update(r,n){r.innerText=n}destroy(){}buildContext(r){var i;let n={};for(let a of r!=null?r:[])!a.contextName||!a.inputSignal||(n[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return n}async computeValue(r){if(!this.expression)throw new Ki({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"});let n=this.buildContext(r);try{return this.expression.evaluate(n)}catch(i){throw i instanceof Error?new Ki({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:i,context:{expression:this.expressionStr,context:n}}):new Error("failed to evaluate js expression because of: unexpected thrown value")}}getDefaultDisplayValue(){return""}};var Jm=require("obsidian");var Ym=class extends gs{constructor(r){super(r);this.renderMarkdown=!1,this.markdownComponent=new Jm.Component}buildVariables(r){var a;this.textParts=[];let n=0,i=[];for(let o of(a=r.templateDeclaration)!=null?a:[])if(typeof o!="string"){let l={bindTargetDeclaration:o,inputSignal:new Lr(void 0),uuid:Ir(),contextName:`MB_VAR_${n}`};i.push(l),this.textParts.push(n),n+=1}else this.textParts.push(o);return i}_render(r){var n,i;this.renderMarkdown=(i=(n=this.renderChild.getArgument("renderMarkdown"))==null?void 0:n.value)!=null?i:!1,this.markdownComponent.load(),this.renderMarkdown&&r.addClass("mb-view-markdown")}async _update(r,n){this.renderMarkdown?(this.markdownComponent.unload(),this.markdownComponent.load(),await Jm.MarkdownRenderer.render(this.renderChild.plugin.app,n,r,this.renderChild.filePath,this.markdownComponent)):r.innerText=n}destroy(){this.markdownComponent.unload()}computeValue(r){if(!this.textParts)throw new Ki({errorLevel:"ERROR",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(n=>typeof n=="number"?mF(r[n].inputSignal.get(),this.renderChild.plugin.settings.viewFieldDisplayNullAsEmpty):n).join("")}getDefaultDisplayValue(){return""}};var Xm=class{constructor(e){this.plugin=e}createViewField(e,r){if(e==="math")return new Zm(r);if(e==="text")return new Ym(r)}};var Qm=class{constructor(e){this.plugin=e,this.inputField=new zc(this),this.inputFieldParser=new Uc(this.plugin),this.viewFieldParser=new nc(this.plugin),this.bindTargetParser=new ic(this.plugin),this.inputFieldFactory=new hf(this.plugin),this.viewFieldFactory=new Xm(this.plugin)}createInputField(e,r,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.inputFieldParser.validateDeclaration(e),l=new lo(i,r,o,this.plugin,n,Ir());return a.addChild(l),l}createInputFieldFromString(e,r,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let l=this.inputFieldParser.parseString(e,o),u=new lo(i,r,l,this.plugin,n,Ir());return a.addChild(u),u}createViewFieldFromString(e,r,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.viewFieldParser.parseString(e),l=new ts(i,r,o,this.plugin,n,Ir());return a.addChild(l),l}createJsViewFieldFromString(e,r,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.viewFieldParser.parseJsString(e),l=new Ec(i,r,o,this.plugin,n,Ir());return a.addChild(l),l}createExcludedField(e,r,n){let i=new Wc(e,"inline",this.plugin,r,Ir());return n.addChild(i),i}createSignal(e){return new Lr(e)}listenToMetadata(e,r,n,i=!1){let a=Ir(),o=this.plugin.metadataManager.subscribe(a,e,{filePath:r,metadataPath:n,listenToChildren:i,boundToLocalScope:!1});return()=>{o.unsubscribe()}}createTable(e,r,n,i,a,o){let l=new Gc(e,"inline",this.plugin,r,Ir(),i,a,o);return n.addChild(l),l}createBindTarget(e){return this.bindTargetParser.parseAndValidateBindTarget(e)}};var ro=require("@codemirror/view"),gw=require("@codemirror/language"),tp=require("obsidian");var r6=require("obsidian");var t6=require("@codemirror/view");var Km=class extends t6.WidgetType{constructor(r,n,i,a){super();this.content=r,this.filePath=n,this.parentComponent=i,this.plugin=a}eq(r){return r.content===this.content}toDOM(r){let n=document.createElement("span");return n.addClass("cm-inline-code"),this.renderChild=this.createRenderChild(n,this.parentComponent),n}destroy(r){var n;(n=this.renderChild)==null||n.unload(),super.destroy(r)}},$m=class extends Km{createRenderChild(e,r){return this.plugin.api.createViewFieldFromString(this.content,"inline",this.filePath,e,r)}},ep=class extends Km{createRenderChild(e,r){return this.plugin.api.createInputFieldFromString(this.content,"inline",this.filePath,e,r,void 0)}},hw=(r=>(r.INPUT_FIELD_WIDGET="INPUT_FIELD_WIDGET",r.VIEW_FIELD_WIDGET="VIEW_FIELD_WIDGET",r))(hw||{});var Ji=class t{static checkSelectionOverlap(e,r,n){if(!e)return!1;for(let i of e.ranges)if(i.to>=r&&i.from<=n)return!0;return!1}static getContent(e,r,n){return e.sliceDoc(r,n)}static constructMarkdownRenderChildWidget(e,r,n,i,a){if(e==="INPUT_FIELD_WIDGET")return new ep(r,n,i,a);if(e==="VIEW_FIELD_WIDGET")return new $m(r,n,i,a)}static getDeclarationPrefix(e){if(e==="INPUT_FIELD_WIDGET")return"INPUT";if(e==="VIEW_FIELD_WIDGET")return"VIEW";throw new vr({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid widget type "${e}"`})}static isDeclaration(e,r){let n=t.getDeclarationPrefix(e)+"[",i="]";return r.startsWith(n)&&r.endsWith(i)}static isDeclarationAndGetWidgetType(e){if(e.endsWith("]"))for(let r of Object.values(hw)){let n=t.getDeclarationPrefix(r)+"[";if(e.startsWith(n))return r}}static getCurrentFile(e){return e.state.field(r6.editorInfoField).file}static existsDecorationBetween(e,r,n){let i=!1;return e.between(r,n,()=>{i=!0}),i}};function n6(t){return ro.ViewPlugin.fromClass(class{constructor(e){var r;this.component=new tp.Component,this.component.load(),this.decorations=(r=this.renderWidgets(e))!=null?r:ro.Decoration.none}update(e){var r;if(!e.state.field(tp.editorLivePreviewField)){this.decorations=ro.Decoration.none;return}e.docChanged?(this.decorations=this.decorations.map(e.changes),this.updateTree(e.view)):e.selectionSet?this.updateTree(e.view):e.viewportChanged&&(this.decorations=(r=this.renderWidgets(e.view))!=null?r:ro.Decoration.none)}updateTree(e){for(let{from:r,to:n}of e.visibleRanges)(0,gw.syntaxTree)(e.state).iterate({from:r,to:n,enter:i=>{let a=i.node,{shouldRender:o,content:l,widgetType:u}=this.getRenderInfo(e,a);o?u!==void 0&&l!==void 0&&this.addDecoration(a,e,l,u):u!==void 0&&l!==void 0&&this.removeDecoration(a)}})}removeDecoration(e){this.decorations.between(e.from-1,e.to+1,(r,n,i)=>{this.decorations=this.decorations.update({filterFrom:r,filterTo:n,filter:()=>!1})})}addDecoration(e,r,n,i){var s;let a=e.from-1,o=e.to+1;if(Ji.existsDecorationBetween(this.decorations,a,o))return;let l=Ji.getCurrentFile(r);if(!l)return;let u=(s=this.renderWidget(e,i,n,l))==null?void 0:s.value;u&&(this.decorations=this.decorations.update({add:[{from:a,to:o,value:u}]}))}getRenderInfo(e,r){var i;let n=new Set((i=r.type.name)==null?void 0:i.split("_"));if(n.has("inline-code")&&!n.has("formatting")){let a=e.state.selection,o=Ji.checkSelectionOverlap(a,r.from-1,r.to+1),l=this.readNode(e,r.from,r.to);return{shouldRender:!o,content:l.content,widgetType:l.widgetType}}return{shouldRender:!1,content:void 0,widgetType:void 0}}readNode(e,r,n){let i=Ji.getContent(e.state,r,n);return{content:i,widgetType:Ji.isDeclarationAndGetWidgetType(i)}}renderWidgets(e){let r=Ji.getCurrentFile(e);if(!r)return;let n=[];for(let i of e.visibleRanges)(0,gw.syntaxTree)(e.state).iterate({from:i.from,to:i.to,enter:a=>{let o=a.node,l=this.getRenderInfo(e,o);if(!l.shouldRender||!l.widgetType||!l.content)return;let u=this.renderWidget(o,l.widgetType,l.content,r);u&&n.push(u)}});return ro.Decoration.set(n,!0)}renderWidget(e,r,n,i){let a=Ji.constructMarkdownRenderChildWidget(r,n,i.path,this.component,t);if(a)return ro.Decoration.replace({widget:a}).range(e.from-1,e.to+1)}destroy(){this.component.unload()}},{decorations:e=>e.decorations})}var rp=class{constructor(){this.activeMDRCs=new Map}unload(){for(let e of this.activeMDRCs.values())console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),e.unload()}registerMDRC(e){console.debug(`meta-bind | MDRCManager >> registered MDRC ${e.uuid}`),this.activeMDRCs.set(e.uuid,e)}unregisterMDRC(e){console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),this.activeMDRCs.delete(e.uuid)}};var i6=require("obsidian");var np=class{constructor(e){this.app=e.app,this.plugin=e}getMetadataAndExtraCache(e){var i,a;if(e.bindTarget===void 0)throw new uo({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"subscription bind target undefined"});let r=this.plugin.app.vault.getAbstractFileByPath(e.bindTarget.filePath);if(!(r instanceof i6.TFile))throw new uo({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"bind target file path does not point to a tFile"});let n=(i=this.plugin.app.metadataCache.getFileCache(r))==null?void 0:i.frontmatter;return{extraCache:{file:r},metadata:(a=structuredClone(n))!=null?a:{}}}setManagerInstance(e){this.manager=e}async updateMetadata(e,r){let n=r.extraCache.file;await this.plugin.app.fileManager.processFrontMatter(n,i=>{r.changed=!1,Object.assign(i,r.metadata)})}load(){this.plugin.registerEvent(this.plugin.app.metadataCache.on("changed",(e,r,n)=>{var i,a;(a=this.manager)==null||a.updateCacheOnExternalUpdate(e.path,(i=n.frontmatter)!=null?i:{})})),this.manager!==void 0&&(this.interval=window.setInterval(()=>{var e;return(e=this.manager)==null?void 0:e.update()},this.plugin.settings.syncInterval))}unload(){this.interval!==void 0&&window.clearInterval(this.interval)}};var ip=class extends a6.Plugin{async onload(){console.log("meta-bind | Main >> load"),await this.loadSettings(),await this.saveSettings(),this.api=new Qm(this);let r=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);r.hasErrors()&&console.warn("meta-bind | failed to parse templates",r),this.mdrcManager=new rp;let n=new np(this);this.metadataManager=new Wl(n),this.registerMarkdownPostProcessor((i,a)=>{let o=i.querySelectorAll("code");for(let l=0;l<o.length;l++){let u=o.item(l);if(u.hasClass("mb-none"))continue;let s=u.innerText,c=s.startsWith("INPUT[")&&s.endsWith("]"),f=s.startsWith("VIEW[")&&s.endsWith("]");c&&this.api.createInputFieldFromString(s,"inline",a.sourcePath,u,a,void 0),f&&this.api.createViewFieldFromString(s,"inline",a.sourcePath,u,a)}},100),this.registerMarkdownCodeBlockProcessor("meta-bind",(i,a,o)=>{let l=a,u=i.trim(),s=u.startsWith("INPUT[")&&u.endsWith("]"),c=u.startsWith("VIEW[")&&u.endsWith("]");s&&this.api.createInputFieldFromString(u,"block",o.sourcePath,l,o,void 0),c&&this.api.createViewFieldFromString(u,"inline",o.sourcePath,l,o)}),this.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(i,a,o)=>{this.api.createJsViewFieldFromString(i,"block",o.sourcePath,a,o)}),this.registerEditorExtension(n6(this)),this.addCommand({id:"mb-open-docs",name:"Open Meta Bind Docs",callback:()=>{window.open("https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/","_blank")}}),this.addCommand({id:"mb-open-faq",name:"Open Meta Bind FAQ",callback:()=>{this.activateView(zo)}}),this.registerView(zo,i=>new Ml(i)),this.addSettingTab(new Tl(this.app,this))}onunload(){console.log("meta-bind | Main >> unload"),this.mdrcManager.unload(),this.metadataManager.unload()}getFilePathsByName(r){let n=this.app.metadataCache.getFirstLinkpathDest(r,"");return n===null?[]:[n.path]}isFilePathExcluded(r){for(let n of this.settings.excludedFolders)if(r.startsWith(n))return!0;return!1}async loadSettings(){console.log("meta-bind | Main >> settings load");let r=await this.loadData();r=this.applyTemplatesMigration(Object.assign({},vi,r)),this.settings=r,await this.saveSettings()}async saveSettings(){console.log("meta-bind | Main >> settings save"),en.dateFormat=this.settings.preferredDateFormat,UF(this.settings.firstWeekday),await this.saveData(this.settings)}applyTemplatesMigration(r){if(r.inputTemplates!==void 0){let n=r.inputTemplates,i=[];try{let a=n?bo.split(n,`
`,new yo("[","]")):[];a=a.map(o=>o.trim()).filter(o=>o.length>0);for(let o of a){let l=bo.split(o,"->",new yo("[","]"));if(l=l.map(u=>u.trim()),l.length===1)throw new $r({errorLevel:"CRITICAL",effect:"failed to parse template declaration",cause:'template must include one "->"'});l.length===2&&i.push({name:l[0],declaration:l[1]})}}catch(a){console.warn("failed to migrate templates",a)}delete r.inputTemplates,r.inputFieldTemplates=i}return r}async activateView(r){let{workspace:n}=this.app,i=null,a=n.getLeavesOfType(r);a.length>0?i=a[0]:(i=n.getLeaf("tab"),await i.setViewState({type:r,active:!0})),n.revealLeaf(i)}};
/*! Bundled license information:

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
